(self.webpackChunkeSolve_project=self.webpackChunkeSolve_project||[]).push([[813],{37813:(Re,ae,J)=>{"use strict";J.r(ae),J.d(ae,{DatepickerFormat:()=>m0e,LayoutModule:()=>h0e,MY_FORMATS:()=>mM});var D=J(69808),E=J(51062),Te=J(85368),_=J(93075),e=J(5e3),N=J(32075),ge=J(86087),b=J(77579),ie=J(56451),H=J(82722),_e=J(68675),j=J(63900),Ce=J(79666),ue=J(21816),z=J(82349),se=J(62730);let xe=(()=>{class n{constructor(t,i,r,a){this.dialogData=t,this._subGroupService=i,this._dialogRef=r,this._messageService=a,this.comment=""}ngOnInit(){}authorize(){this._subGroupService.authorizeDateRange({id:this.dialogData.id,isApproved:this.dialogData.answer,comment:this.comment}).subscribe(()=>{this._messageService.open("Date Range "+(this.dialogData.answer?"approved":"rejected")+"."),this._dialogRef.close("actioned")},t=>{let i=this._messageService.handleHttpError(t),r=!1;r=""==i,this._messageService.open(i),this.cancel()})}cancel(){this._dialogRef.close("cancelled")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(Ce.L),e.Y36(z.so),e.Y36(se.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-approval-dialog"]],decls:25,vars:2,consts:[[1,"row","delete-warning-header"],[1,"col-12"],[1,"warning-title"],[1,"col-12","d-flex","justify-content-center"],[1,"blue_hr"],[1,"row","delete-warning-content"],[1,"dialog-message"],[1,"row"],[1,"gray-divider"],[1,"col-sm-12","col-md-6"],["id","continue-button",1,"eSolve-button","eSolve-blue-button",3,"click"],["id","cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Warning"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"hr",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",1)(8,"strong")(9,"span",6),e._uU(10),e._UZ(11,"br"),e._uU(12," Click cancel if you do not wish to proceed. "),e._UZ(13,"br"),e._uU(14),e.qZA()()()(),e.TgZ(15,"div",7)(16,"div",1),e._UZ(17,"hr",8),e.qZA()(),e.TgZ(18,"div",7)(19,"div",9)(20,"button",10),e.NdJ("click",function(){return i.authorize()}),e._uU(21," Continue "),e.qZA()(),e.TgZ(22,"div",9)(23,"button",11),e.NdJ("click",function(){return i.cancel()}),e._uU(24," Cancel "),e.qZA()()()),2&t&&(e.xp6(10),e.hij(" Are you sure you wish to ",i.dialogData.answer?"approve and sync":"reject"," this date range? "),e.xp6(4),e.hij(" ",i.dialogData.answer?"You can view the status of the sync within the Sync History screen":""," "))},styles:[".warning-title[_ngcontent-%COMP%]{color:var(--eSolve-red);font-size:17px;font-weight:700}.dialog-message[_ngcontent-%COMP%]{text-align:center;white-space:pre-line}.dialog-message[_ngcontent-%COMP%]{font-size:12px}.eSolve-button[_ngcontent-%COMP%], .blue_hr[_ngcontent-%COMP%], .gray-divider[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px}@media (max-width: 767px){#continue-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),n})();var fe=J(70120),Y=J(40520),S=J(65401),A=J(69751);let G=(()=>{class n{constructor(t){this.http=t,this.columnMap=(new Map).set("dateOfSync",0).set("scheduleName",1).set("employeeName",2).set("employeeNumber",3).set("jobStartDateTime",4).set("jobEndDateTime",5).set("statusOfSync",6).set("statusMessage",7)}getData(){return new A.y(t=>{this.http.get(S.j.URLsyncSettings).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}updateData(t,i,r){return new A.y(a=>{this.http.put(S.j.URLsyncSettings,{id:r,message:t,displaySyncButton:i},{responseType:"text"}).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}insertSyncData(t,i,r){return new A.y(a=>{this.http.post(S.j.URLsync,{scheduleId:t,startDate:i,endDate:r}).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}getAllForSyncHistory(t,i,r,a,s){let l=(new Y.LE).set("Page",t||"1").set("Limit",i||"5").set("SortOrder",r||"asc");return s&&s.employees.length>0&&s.employees.forEach(c=>{l=l.append("EmployeeIds",c.toString())}),new A.y(c=>{this.http.get(S.j.URLsync,{params:l}).subscribe(u=>(c.next(u),c.complete()),u=>c.error(u))})}updateCutOffTime(t,i){return new A.y(r=>{this.http.put(S.j.URLcutOffTime+"/"+i,{timeID:t,time:i},{responseType:"json"}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}getCutOffTime(){return new A.y(t=>{this.http.get(S.j.URLcutOffTime).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y(n){return!(!n.includes("/scheduler")||!n.includes("/details"))}function oe(n){return encodeURIComponent(n).replace(/[!'()*]/g,function(o){return"%"+o.charCodeAt(0).toString(16)})}var ce=J(61891),q=J(64035),B=J(4942),ee=J(97685),te=J(37762),K=J(74902),I=J(15671),M=J(43144),Q=J(23601),L=J(18505),X=J(78372),le=J(39300),Oe=J(54004),ke=J(66406),Se=J(53101),Fe=J(54968),Ye=["content"],je=["scroll"],ot=["padding"],it=function(o){return{searchTerm:o}};function lt(n,o){if(1&n&&(e.TgZ(0,"div",6),e.GkF(1,7),e.qZA()),2&n){var t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",e.VKq(2,it,t.filterValue))}}function Ze(n,o){if(1&n&&(e.TgZ(0,"div",8),e.GkF(1,7),e.qZA()),2&n){var t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",e.VKq(2,it,t.filterValue))}}var Mt=["*"],At=["searchInput"];function Jt(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"span",15),e.NdJ("click",function(){e.CHM(t);var s=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.unselect(s))}),e._uU(1,"\xd7"),e.qZA(),e._UZ(2,"span",16)}if(2&n){var i=e.oxw().$implicit,r=e.oxw(2);e.xp6(2),e.Q6J("ngItemLabel",i.label)("escape",r.escapeHTML)}}function Ft(n,o){}var an=function(o,t,i){return{item:o,clear:t,label:i}};function un(n,o){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,Jt,3,2,"ng-template",null,13,e.W1O),e.YNc(3,Ft,0,0,"ng-template",14),e.qZA()),2&n){var t=o.$implicit,i=e.MAs(2),r=e.oxw(2);e.ekj("ng-value-disabled",t.disabled),e.xp6(3),e.Q6J("ngTemplateOutlet",r.labelTemplate||i)("ngTemplateOutletContext",e.kEZ(4,an,t.value,r.clearItem,t.label))}}function Ot(n,o){if(1&n&&(e.ynx(0),e.YNc(1,un,4,8,"div",11),e.BQk()),2&n){var t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByOption)}}function dn(n,o){}var oi=function(o,t){return{items:o,clear:t}};function En(n,o){if(1&n&&e.YNc(0,dn,0,0,"ng-template",14),2&n){var t=e.oxw();e.Q6J("ngTemplateOutlet",t.multiLabelTemplate)("ngTemplateOutletContext",e.WLB(2,oi,t.selectedValues,t.clearItem))}}function ut(n,o){1&n&&e._UZ(0,"div",19)}function xt(n,o){}function It(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ut,1,0,"ng-template",null,17,e.W1O),e.YNc(3,xt,0,0,"ng-template",18),e.BQk()),2&n){var t=e.MAs(2),i=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",i.loadingSpinnerTemplate||t)}}function mt(n,o){if(1&n&&(e.TgZ(0,"span",20)(1,"span",21),e._uU(2,"\xd7"),e.qZA()()),2&n){var t=e.oxw();e.s9C("title",t.clearAllText)}}function jt(n,o){if(1&n&&e._UZ(0,"span",27),2&n){var t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("ngItemLabel",t.label)("escape",i.escapeHTML)}}function qt(n,o){}var Qt=function(o,t,i,r){return{item:o,item$:t,index:i,searchTerm:r}};function Un(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",25),e.NdJ("click",function(){var c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.toggleItem(c))})("mouseover",function(){var c=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.onItemHover(c))}),e.YNc(1,jt,1,2,"ng-template",null,26,e.W1O),e.YNc(3,qt,0,0,"ng-template",14),e.qZA()}if(2&n){var i=o.$implicit,r=e.MAs(2),a=e.oxw(2);e.ekj("ng-option-disabled",i.disabled)("ng-option-selected",i.selected)("ng-optgroup",i.children)("ng-option",!i.children)("ng-option-child",!!i.parent)("ng-option-marked",i===a.itemsList.markedItem),e.uIk("role",i.children?"group":"option")("aria-selected",i.selected)("id",null==i?null:i.htmlId),e.xp6(3),e.Q6J("ngTemplateOutlet",i.children?a.optgroupTemplate||r:a.optionTemplate||r)("ngTemplateOutletContext",e.l5B(17,Qt,i.value,i,i.index,a.searchTerm))}}function dt(n,o){if(1&n&&(e.TgZ(0,"span")(1,"span",30),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&n){var t=e.oxw(3);e.xp6(2),e.Oqu(t.addTagText),e.xp6(1),e.hij('"',t.searchTerm,'"')}}function Pt(n,o){}function ze(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",28),e.NdJ("mouseover",function(){e.CHM(t);var s=e.oxw(2);return e.KtG(s.itemsList.unmarkItem())})("click",function(){e.CHM(t);var s=e.oxw(2);return e.KtG(s.selectTag())}),e.YNc(1,dt,4,2,"ng-template",null,29,e.W1O),e.YNc(3,Pt,0,0,"ng-template",14),e.qZA()}if(2&n){var i=e.MAs(2),r=e.oxw(2);e.ekj("ng-option-marked",!r.itemsList.markedItem),e.xp6(3),e.Q6J("ngTemplateOutlet",r.tagTemplate||i)("ngTemplateOutletContext",e.VKq(4,it,r.searchTerm))}}function ht(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){var t=e.oxw(3);e.xp6(1),e.Oqu(t.notFoundText)}}function Kt(n,o){}function nn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ht,2,1,"ng-template",null,31,e.W1O),e.YNc(3,Kt,0,0,"ng-template",14),e.BQk()),2&n){var t=e.MAs(2),i=e.oxw(2);e.xp6(3),e.Q6J("ngTemplateOutlet",i.notFoundTemplate||t)("ngTemplateOutletContext",e.VKq(2,it,i.searchTerm))}}function Zn(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){var t=e.oxw(3);e.xp6(1),e.Oqu(t.typeToSearchText)}}function In(n,o){}function Hn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Zn,2,1,"ng-template",null,33,e.W1O),e.YNc(3,In,0,0,"ng-template",18),e.BQk()),2&n){var t=e.MAs(2),i=e.oxw(2);e.xp6(3),e.Q6J("ngTemplateOutlet",i.typeToSearchTemplate||t)}}function gi(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){var t=e.oxw(3);e.xp6(1),e.Oqu(t.loadingText)}}function Hr(n,o){}function Ro(n,o){if(1&n&&(e.ynx(0),e.YNc(1,gi,2,1,"ng-template",null,34,e.W1O),e.YNc(3,Hr,0,0,"ng-template",14),e.BQk()),2&n){var t=e.MAs(2),i=e.oxw(2);e.xp6(3),e.Q6J("ngTemplateOutlet",i.loadingTextTemplate||t)("ngTemplateOutletContext",e.VKq(2,it,i.searchTerm))}}function Vi(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"ng-dropdown-panel",22),e.NdJ("update",function(a){e.CHM(t);var s=e.oxw();return e.KtG(s.viewPortItems=a)})("scroll",function(a){e.CHM(t);var s=e.oxw();return e.KtG(s.scroll.emit(a))})("scrollToEnd",function(a){e.CHM(t);var s=e.oxw();return e.KtG(s.scrollToEnd.emit(a))})("outsideClick",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.close())}),e.ynx(1),e.YNc(2,Un,4,22,"div",23),e.YNc(3,ze,4,6,"div",24),e.BQk(),e.YNc(4,nn,4,4,"ng-container",3),e.YNc(5,Hn,4,1,"ng-container",3),e.YNc(6,Ro,4,4,"ng-container",3),e.qZA()}if(2&n){var i=e.oxw();e.ekj("ng-select-multiple",i.multiple),e.Q6J("virtualScroll",i.virtualScroll)("bufferAmount",i.bufferAmount)("appendTo",i.appendTo)("position",i.dropdownPosition)("headerTemplate",i.headerTemplate)("footerTemplate",i.footerTemplate)("filterValue",i.searchTerm)("items",i.itemsList.filteredItems)("markedItem",i.itemsList.markedItem)("ngClass",i.appendTo?i.classes:null)("id",i.dropdownId),e.xp6(2),e.Q6J("ngForOf",i.viewPortItems)("ngForTrackBy",i.trackByOption),e.xp6(1),e.Q6J("ngIf",i.showAddTag),e.xp6(1),e.Q6J("ngIf",i.showNoItemsFound()),e.xp6(1),e.Q6J("ngIf",i.showTypeToSearch()),e.xp6(1),e.Q6J("ngIf",i.loading&&0===i.itemsList.filteredItems.length)}}var Br=/[&<>"']/g,ar=RegExp(Br.source),_a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Qn(n){return null!=n}function To(n){return"object"==typeof n&&Qn(n)}function jr(n){return n instanceof Function}var Mr=function(){var n=function(){function o(t){(0,I.Z)(this,o),this.element=t,this.escape=!0}return(0,M.Z)(o,[{key:"ngOnChanges",value:function(i){this.element.nativeElement.innerHTML=this.escape?function br(n){return n&&ar.test(n)?n.replace(Br,function(o){return _a[o]}):n}(this.ngItemLabel):this.ngItemLabel}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[e.TTD]}),n}(),Or=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-option-tmp",""]]}),n}(),uc=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-optgroup-tmp",""]]}),n}(),ns=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-label-tmp",""]]}),n}(),er=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-multi-label-tmp",""]]}),n}(),ta=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-header-tmp",""]]}),n}(),uu=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-footer-tmp",""]]}),n}(),wo=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-notfound-tmp",""]]}),n}(),vl=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-typetosearch-tmp",""]]}),n}(),ba=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-loadingtext-tmp",""]]}),n}(),pc=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-tag-tmp",""]]}),n}(),La=function(){var n=(0,M.Z)(function o(t){(0,I.Z)(this,o),this.template=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","ng-loadingspinner-tmp",""]]}),n}();function is(){return"axxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)})}var fc={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function bl(n){return n.replace(/[^\u0000-\u007E]/g,function(i){return fc[i]||i})}var na=function(){function n(o,t){(0,I.Z)(this,n),this._ngSelect=o,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}return(0,M.Z)(n,[{key:"items",get:function(){return this._items}},{key:"filteredItems",get:function(){return this._filteredItems}},{key:"markedIndex",get:function(){return this._markedIndex}},{key:"selectedItems",get:function(){return this._selectionModel.value}},{key:"markedItem",get:function(){return this._filteredItems[this._markedIndex]}},{key:"noItemsToSelect",get:function(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}},{key:"maxItemsSelected",get:function(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}},{key:"lastSelectedItem",get:function(){for(var t=this.selectedItems.length-1;t>=0;t--){var i=this.selectedItems[t];if(!i.disabled)return i}return null}},{key:"setItems",value:function(t){var i=this;this._items=t.map(function(r,a){return i.mapItem(r,a)}),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=(0,K.Z)(this._items)}},{key:"select",value:function(t){if(!t.selected&&!this.maxItemsSelected){var i=this._ngSelect.multiple;i||this.clearSelected(),this._selectionModel.select(t,i,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}}},{key:"unselect",value:function(t){!t.selected||(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&Qn(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}},{key:"findItem",value:function(t){var r,i=this;return r=this._ngSelect.compareWith?function(s){return i._ngSelect.compareWith(s.value,t)}:this._ngSelect.bindValue?function(s){return!s.children&&i.resolveNested(s.value,i._ngSelect.bindValue)===t}:function(s){return s.value===t||!s.children&&s.label&&s.label===i.resolveNested(t,i._ngSelect.bindLabel)},this._items.find(function(a){return r(a)})}},{key:"addItem",value:function(t){var i=this.mapItem(t,this._items.length);return this._items.push(i),this._filteredItems.push(i),i}},{key:"clearSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._selectionModel.clear(t),this._items.forEach(function(i){i.selected=t&&i.selected&&i.disabled,i.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}},{key:"findByLabel",value:function(t){return t=bl(t).toLocaleLowerCase(),this.filteredItems.find(function(i){return bl(i.label).toLocaleLowerCase().substr(0,t.length)===t})}},{key:"filter",value:function(t){var i=this;if(t){this._filteredItems=[],t=this._ngSelect.searchFn?t:bl(t).toLocaleLowerCase();for(var r=this._ngSelect.searchFn||this._defaultSearchFn,a=this._ngSelect.hideSelected,s=function(){var O,x=[],T=(0,te.Z)(i._groups.get(c[l]));try{for(T.s();!(O=T.n()).done;){var U=O.value;a&&(U.parent&&U.parent.selected||U.selected)||r(t,i._ngSelect.searchFn?U.value:U)&&x.push(U)}}catch(We){T.e(We)}finally{T.f()}if(x.length>0){var de,ve=x.slice(-1),De=(0,ee.Z)(ve,1)[0];if(De.parent){var Ge=i._items.find(function(We){return We===De.parent});i._filteredItems.push(Ge)}(de=i._filteredItems).push.apply(de,x)}},l=0,c=Array.from(this._groups.keys());l<c.length;l++)s()}else this.resetFilteredItems()}},{key:"resetFilteredItems",value:function(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(function(t){return!t.selected}):this._items)}},{key:"unmarkItem",value:function(){this._markedIndex=-1}},{key:"markNextItem",value:function(){this._stepToItem(1)}},{key:"markPreviousItem",value:function(){this._stepToItem(-1)}},{key:"markItem",value:function(t){this._markedIndex=this._filteredItems.indexOf(t)}},{key:"markSelectedOrDefault",value:function(t){if(0!==this._filteredItems.length){var i=this._getLastMarkedIndex();this._markedIndex=i>-1?i:t?this.filteredItems.findIndex(function(r){return!r.disabled}):-1}}},{key:"resolveNested",value:function(t,i){if(!To(t))return t;if(-1===i.indexOf("."))return t[i];for(var r=i.split("."),a=t,s=0,l=r.length;s<l;++s){if(null==a)return null;a=a[r[s]]}return a}},{key:"mapItem",value:function(t,i){var r=Qn(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),a=Qn(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:i,label:Qn(r)?r.toString():"",value:a,disabled:t.disabled,htmlId:"".concat(this._ngSelect.dropdownId,"-").concat(i)}}},{key:"mapSelectedItems",value:function(){var a,t=this,i=this._ngSelect.multiple,r=(0,te.Z)(this.selectedItems);try{for(r.s();!(a=r.n()).done;){var s=a.value,l=this._ngSelect.bindValue?this.resolveNested(s.value,this._ngSelect.bindValue):s.value,c=Qn(l)?this.findItem(l):null;this._selectionModel.unselect(s,i),this._selectionModel.select(c||s,i,this._ngSelect.selectableGroupAsModel)}}catch(u){r.e(u)}finally{r.f()}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(function(u){return-1===t.selectedItems.indexOf(u)}))}},{key:"_showSelected",value:function(t){if(this._filteredItems.push(t),t.parent){var i=t.parent;this._filteredItems.find(function(c){return c===i})||this._filteredItems.push(i)}else if(t.children){var s,a=(0,te.Z)(t.children);try{for(a.s();!(s=a.n()).done;){var l=s.value;l.selected=!1,this._filteredItems.push(l)}}catch(c){a.e(c)}finally{a.f()}}this._filteredItems=(0,K.Z)(this._filteredItems.sort(function(c,u){return c.index-u.index}))}},{key:"_hideSelected",value:function(t){this._filteredItems=this._filteredItems.filter(function(r){return r!==t}),t.parent?t.parent.children.every(function(r){return r.selected})&&(this._filteredItems=this._filteredItems.filter(function(r){return r!==t.parent})):t.children&&(this._filteredItems=this.filteredItems.filter(function(r){return r.parent!==t}))}},{key:"_defaultSearchFn",value:function(t,i){return bl(i.label).toLocaleLowerCase().indexOf(t)>-1}},{key:"_getNextItemIndex",value:function(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}},{key:"_stepToItem",value:function(t){0===this._filteredItems.length||this._filteredItems.every(function(i){return i.disabled})||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}},{key:"_getLastMarkedIndex",value:function(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;var t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}},{key:"_groupBy",value:function(t,i){var r=this,a=new Map;if(0===t.length)return a;if(Array.isArray(t[0].value[i])){var l,s=(0,te.Z)(t);try{for(s.s();!(l=s.n()).done;){var c=l.value,u=(c.value[i]||[]).map(function(ve,Ne){return r.mapItem(ve,Ne)});a.set(c,u)}}catch(ve){s.e(ve)}finally{s.f()}return a}var O,Ne,De,h=jr(this._ngSelect.groupBy),T=(0,te.Z)(t);try{for(T.s();!(O=T.n()).done;){var U=O.value,re=(Ne=U,void 0,Qn(De=h?i(Ne.value):Ne.value[i])?De:void 0),de=a.get(re);de?de.push(U):a.set(re,[U])}}catch(ve){T.e(ve)}finally{T.f()}return a}},{key:"_flatten",value:function(t){for(var i=this,r=jr(this._ngSelect.groupBy),a=[],s=function(){var x=c[l],T=a.length;if(void 0===x){var O=t.get(void 0)||[];return a.push.apply(a,(0,K.Z)(O.map(function(De){return De.index=T++,De}))),"continue"}var U=To(x),re={label:U?"":String(x),children:void 0,parent:null,index:T++,disabled:!i._ngSelect.selectableGroup,htmlId:is()},de=r?i._ngSelect.bindLabel:i._ngSelect.groupBy,ve=i._ngSelect.groupValue||function(){return U?x.value:(0,B.Z)({},de,x)},Ne=t.get(x).map(function(De){return De.parent=re,De.children=void 0,De.index=T++,De});re.children=Ne,re.value=ve(x,Ne.map(function(De){return De.value})),a.push(re),a.push.apply(a,(0,K.Z)(Ne))},l=0,c=Array.from(t.keys());l<c.length;l++)s();return a}}]),n}(),no=function(){return(n=no||(no={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowDown=40]="ArrowDown",n[n.Backspace=8]="Backspace",no;var n}(),Rs=function(){var n=function(){function o(){(0,I.Z)(this,o),this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}return(0,M.Z)(o,[{key:"dimensions",get:function(){return this._dimensions}},{key:"calculateItems",value:function(i,r,a){var s=this._dimensions,l=s.itemHeight*r,u=Math.max(0,i)/l*r,h=Math.min(r,Math.ceil(u)+(s.itemsPerViewport+1)),T=Math.max(0,h-s.itemsPerViewport),O=Math.min(T,Math.floor(u)),U=s.itemHeight*Math.ceil(O)-s.itemHeight*Math.min(O,a);return U=isNaN(U)?0:U,O=isNaN(O)?-1:O,h=isNaN(h)?-1:h,O-=a,h+=a,{topPadding:U,scrollHeight:l,start:O=Math.max(0,O),end:h=Math.min(r,h)}}},{key:"setDimensions",value:function(i,r){var a=Math.max(1,Math.floor(r/i));this._dimensions={itemHeight:i,panelHeight:r,itemsPerViewport:a}}},{key:"getScrollTo",value:function(i,r,a){var s=this.dimensions.panelHeight,l=i+r,u=a+s;return s>=l&&a===i?null:l>u?a+l-u:i<=a?i:null}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),hc=["top","right","bottom","left"],rs="undefined"!=typeof requestAnimationFrame?ke.Z:Se.E,_d=function(){var n=function(){function o(t,i,r,a,s){(0,I.Z)(this,o),this._renderer=t,this._zone=i,this._panelService=r,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new e.vpe,this.scroll=new e.vpe,this.scrollToEnd=new e.vpe,this.outsideClick=new e.vpe,this._destroy$=new b.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=a.nativeElement}return(0,M.Z)(o,[{key:"currentPosition",get:function(){return this._currentPosition}},{key:"itemsLength",get:function(){return this._itemsLength},set:function(i){i!==this._itemsLength&&(this._itemsLength=i,this._onItemsLengthChanged())}},{key:"_startOffset",get:function(){if(this.markedItem){var i=this._panelService.dimensions,s=this.markedItem.index*i.itemHeight;return i.panelHeight>s?0:s}return 0}},{key:"ngOnInit",value:function(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}},{key:"ngOnChanges",value:function(i){if(i.items){var r=i.items;this._onItemsChange(r.currentValue,r.firstChange)}}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}},{key:"scrollTo",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i){var a=this.items.indexOf(i);if(!(a<0||a>=this.itemsLength)){var s;if(this.virtualScroll){var l=this._panelService.dimensions.itemHeight;s=this._panelService.getScrollTo(a*l,l,this._lastScrollPosition)}else{var c=this._dropdown.querySelector("#".concat(i.htmlId)),u=r?c.offsetTop:this._lastScrollPosition;s=this._panelService.getScrollTo(c.offsetTop,c.clientHeight,u)}Qn(s)&&(this._scrollablePanel.scrollTop=s)}}}},{key:"scrollToTag",value:function(){var i=this._scrollablePanel;i.scrollTop=i.scrollHeight-i.clientHeight}},{key:"adjustPosition",value:function(){this._updateYPosition()}},{key:"_handleDropdownPosition",value:function(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),hc.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}},{key:"_updateDropdownClass",value:function(i){var r=this;hc.forEach(function(s){var l="ng-select-".concat(s);r._renderer.removeClass(r._dropdown,l),r._renderer.removeClass(r._select,l)});var a="ng-select-".concat(i);this._renderer.addClass(this._dropdown,a),this._renderer.addClass(this._select,a)}},{key:"_handleScroll",value:function(){var i=this;this._zone.runOutsideAngular(function(){(0,Fe.R)(i.scrollElementRef.nativeElement,"scroll").pipe((0,H.R)(i._destroy$),(0,Q.e)(0,rs)).subscribe(function(r){var a=r.path||r.composedPath&&r.composedPath();i._onContentScrolled(a&&0!==a.length?a[0].scrollTop:r.target.scrollTop)})})}},{key:"_handleOutsideClick",value:function(){var i=this;!this._document||this._zone.runOutsideAngular(function(){(0,ie.T)((0,Fe.R)(i._document,"touchstart",{capture:!0}),(0,Fe.R)(i._document,"mousedown",{capture:!0})).pipe((0,H.R)(i._destroy$)).subscribe(function(r){return i._checkToClose(r)})})}},{key:"_checkToClose",value:function(i){var r=this;if(!this._select.contains(i.target)&&!this._dropdown.contains(i.target)){var a=i.path||i.composedPath&&i.composedPath();i.target&&i.target.shadowRoot&&a&&a[0]&&this._select.contains(a[0])||this._zone.run(function(){return r.outsideClick.emit()})}}},{key:"_onItemsChange",value:function(i,r){this.items=i||[],this._scrollToEndFired=!1,this.itemsLength=i.length,this.virtualScroll?this._updateItemsRange(r):(this._setVirtualHeight(),this._updateItems(r))}},{key:"_updateItems",value:function(i){var r=this;this.update.emit(this.items),!1!==i&&this._zone.runOutsideAngular(function(){Promise.resolve().then(function(){r._panelService.setDimensions(0,r._scrollablePanel.clientHeight),r._handleDropdownPosition(),r.scrollTo(r.markedItem,i)})})}},{key:"_updateItemsRange",value:function(i){var r=this;this._zone.runOutsideAngular(function(){r._measureDimensions().then(function(){i?(r._renderItemsRange(r._startOffset),r._handleDropdownPosition()):r._renderItemsRange()})})}},{key:"_onContentScrolled",value:function(i){this.virtualScroll&&this._renderItemsRange(i),this._lastScrollPosition=i,this._fireScrollToEnd(i)}},{key:"_updateVirtualHeight",value:function(i){this._updateScrollHeight&&(this._virtualPadding.style.height="".concat(i,"px"),this._updateScrollHeight=!1)}},{key:"_setVirtualHeight",value:function(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}},{key:"_onItemsLengthChanged",value:function(){this._updateScrollHeight=!0}},{key:"_renderItemsRange",value:function(){var i=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!r||this._lastScrollPosition!==r){var a=this._panelService.calculateItems(r=r||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(a.scrollHeight),this._contentPanel.style.transform="translateY(".concat(a.topPadding,"px)"),this._zone.run(function(){i.update.emit(i.items.slice(a.start,a.end)),i.scroll.emit({start:a.start,end:a.end})}),Qn(r)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=r,this._lastScrollPosition=r)}}},{key:"_measureDimensions",value:function(){var i=this;if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);var a=(0,ee.Z)(this.items,1)[0];return this.update.emit([a]),Promise.resolve().then(function(){var l=i._dropdown.querySelector("#".concat(a.htmlId)).clientHeight;return i._virtualPadding.style.height="".concat(l*i.itemsLength,"px"),i._panelService.setDimensions(l,i._scrollablePanel.clientHeight),i._panelService.dimensions})}},{key:"_fireScrollToEnd",value:function(i){var r=this;this._scrollToEndFired||0===i||i+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(function(){return r.scrollToEnd.emit()}),this._scrollToEndFired=!0)}},{key:"_calculateCurrentPosition",value:function(i){if("auto"!==this.position)return this.position;var r=this._select.getBoundingClientRect(),a=document.documentElement.scrollTop||document.body.scrollTop;return r.top+window.pageYOffset+r.height+i.getBoundingClientRect().height>a+document.documentElement.clientHeight?"top":"bottom"}},{key:"_appendDropdown",value:function(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error("appendTo selector ".concat(this.appendTo," did not found any parent element"));this._updateXPosition(),this._parent.appendChild(this._dropdown)}}},{key:"_updateXPosition",value:function(){var i=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect();this._dropdown.style.left=i.left-r.left+"px",this._dropdown.style.width=i.width+"px",this._dropdown.style.minWidth=i.width+"px"}},{key:"_updateYPosition",value:function(){var i=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect(),a=i.height;"top"===this._currentPosition?(this._dropdown.style.bottom=r.bottom-i.bottom+a+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=i.top-r.top+a+"px",this._dropdown.style.bottom="auto")}},{key:"_setupMousedownListener",value:function(){var i=this;this._zone.runOutsideAngular(function(){(0,Fe.R)(i._dropdown,"mousedown").pipe((0,H.R)(i._destroy$)).subscribe(function(r){"INPUT"!==r.target.tagName&&r.preventDefault()})})}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(Rs),e.Y36(e.SBq),e.Y36(D.K0,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-dropdown-panel"]],viewQuery:function(t,i){var r;1&t&&(e.Gf(Ye,7,e.SBq),e.Gf(je,7,e.SBq),e.Gf(ot,7,e.SBq)),2&t&&(e.iGM(r=e.CRH())&&(i.contentElementRef=r.first),e.iGM(r=e.CRH())&&(i.scrollElementRef=r.first),e.iGM(r=e.CRH())&&(i.paddingElementRef=r.first))},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[e.TTD],ngContentSelectors:Mt,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,lt,2,4,"div",0),e.TgZ(1,"div",1,2),e._UZ(3,"div",null,3),e.TgZ(5,"div",null,4),e.Hsn(7),e.qZA()(),e.YNc(8,Ze,2,4,"div",5)),2&t&&(e.Q6J("ngIf",i.headerTemplate),e.xp6(3),e.ekj("total-padding",i.virtualScroll),e.xp6(2),e.ekj("scrollable-content",i.virtualScroll&&i.items.length),e.xp6(3),e.Q6J("ngIf",i.footerTemplate))},dependencies:[D.O5,D.tP],encapsulation:2,changeDetection:0}),n}(),tr=function(){var n=function(){function o(t){(0,I.Z)(this,o),this.elementRef=t,this.stateChange$=new b.x,this._disabled=!1}return(0,M.Z)(o,[{key:"disabled",get:function(){return this._disabled},set:function(i){this._disabled=this._isDisabled(i)}},{key:"label",get:function(){return(this.elementRef.nativeElement.textContent||"").trim()}},{key:"ngOnChanges",value:function(i){i.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}},{key:"ngAfterViewChecked",value:function(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}},{key:"ngOnDestroy",value:function(){this.stateChange$.complete()}},{key:"_isDisabled",value:function(i){return null!=i&&"false"!=="".concat(i)}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[e.TTD],ngContentSelectors:Mt,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),n}(),os=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o),this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"});return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),yl=function(){var n=function(){function o(){(0,I.Z)(this,o)}return(0,M.Z)(o,[{key:"warn",value:function(i){console.warn(i)}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),mc=new e.OlP("ng-select-selection-model"),Sn=function(){var n=function(){function o(t,i,r,a,s,l,c){var u=this;(0,I.Z)(this,o),this.classes=t,this.autoFocus=i,this.config=r,this._cd=l,this._console=c,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=function(h){return!0},this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new e.vpe,this.focusEvent=new e.vpe,this.changeEvent=new e.vpe,this.openEvent=new e.vpe,this.closeEvent=new e.vpe,this.searchEvent=new e.vpe,this.clearEvent=new e.vpe,this.addEvent=new e.vpe,this.removeEvent=new e.vpe,this.scroll=new e.vpe,this.scrollToEnd=new e.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=is(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new b.x,this._keyPress$=new b.x,this._onChange=function(h){},this._onTouched=function(){},this.clearItem=function(h){var x=u.selectedItems.find(function(T){return T.value===h});u.unselect(x)},this.trackByOption=function(h,x){return u.trackByFn?u.trackByFn(x.value):x},this._mergeGlobalConfig(r),this.itemsList=new na(this,a()),this.element=s.nativeElement}return(0,M.Z)(o,[{key:"items",get:function(){return this._items},set:function(i){null===i&&(i=[]),this._itemsAreUsed=!0,this._items=i}},{key:"compareWith",get:function(){return this._compareWith},set:function(i){if(null!=i&&!jr(i))throw Error("`compareWith` must be a function.");this._compareWith=i}},{key:"clearSearchOnAdd",get:function(){return Qn(this._clearSearchOnAdd)?this._clearSearchOnAdd:Qn(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect},set:function(i){this._clearSearchOnAdd=i}},{key:"disabled",get:function(){return this.readonly||this._disabled}},{key:"filtered",get:function(){return!!this.searchTerm&&this.searchable||this._isComposing}},{key:"single",get:function(){return!this.multiple}},{key:"_editableSearchTerm",get:function(){return this.editableSearchTerm&&!this.multiple}},{key:"selectedItems",get:function(){return this.itemsList.selectedItems}},{key:"selectedValues",get:function(){return this.selectedItems.map(function(i){return i.value})}},{key:"hasValue",get:function(){return this.selectedItems.length>0}},{key:"currentPanelPosition",get:function(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}},{key:"ngOnInit",value:function(){this._handleKeyPresses(),this._setInputAttributes()}},{key:"ngOnChanges",value:function(i){i.multiple&&this.itemsList.clearSelected(),i.items&&this._setItems(i.items.currentValue||[]),i.isOpen&&(this._manualOpen=Qn(i.isOpen.currentValue))}},{key:"ngAfterViewInit",value:function(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Qn(this.autoFocus)&&this.focus()}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete()}},{key:"handleKeyDown",value:function(i){if(no[i.which]){if(!1===this.keyDownFn(i))return;this.handleKeyCode(i)}else i.key&&1===i.key.length&&this._keyPress$.next(i.key.toLocaleLowerCase())}},{key:"handleKeyCode",value:function(i){switch(i.which){case no.ArrowDown:this._handleArrowDown(i);break;case no.ArrowUp:this._handleArrowUp(i);break;case no.Space:this._handleSpace(i);break;case no.Enter:this._handleEnter(i);break;case no.Tab:this._handleTab(i);break;case no.Esc:this.close(),i.preventDefault();break;case no.Backspace:this._handleBackspace()}}},{key:"handleMousedown",value:function(i){var r=i.target;"INPUT"!==r.tagName&&i.preventDefault(),r.classList.contains("ng-clear-wrapper")?this.handleClearClick():r.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():r.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}},{key:"handleArrowClick",value:function(){this.isOpen?this.close():this.open()}},{key:"handleClearClick",value:function(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}},{key:"clearModel",value:function(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}},{key:"writeValue",value:function(i){this.itemsList.clearSelected(),this._handleWriteValue(i),this._cd.markForCheck()}},{key:"registerOnChange",value:function(i){this._onChange=i}},{key:"registerOnTouched",value:function(i){this._onTouched=i}},{key:"setDisabledState",value:function(i){this._disabled=i,this._cd.markForCheck()}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"open",value:function(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}},{key:"close",value:function(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}},{key:"toggleItem",value:function(i){!i||i.disabled||this.disabled||(this.multiple&&i.selected?this.unselect(i):this.select(i),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}},{key:"select",value:function(i){i.selected||(this.itemsList.select(i),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(i.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}},{key:"focus",value:function(){this.searchInput.nativeElement.focus()}},{key:"blur",value:function(){this.searchInput.nativeElement.blur()}},{key:"unselect",value:function(i){!i||(this.itemsList.unselect(i),this.focus(),this._updateNgModel(),this.removeEvent.emit(i))}},{key:"selectTag",value:function(){var r,i=this;r=jr(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:(0,B.Z)({},this.bindLabel,this.searchTerm);var a=function(l){return i._isTypeahead||!i.isOpen?i.itemsList.mapItem(l,null):i.itemsList.addItem(l)};!function va(n){return n instanceof Promise}(r)?r&&this.select(a(r)):r.then(function(s){return i.select(a(s))}).catch(function(){})}},{key:"showClear",value:function(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}},{key:"showAddTag",get:function(){if(!this._validTerm)return!1;var i=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(function(r){return r.label.toLowerCase()===i})&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(function(r){return r.label.toLowerCase()===i}))&&!this.loading}},{key:"showNoItemsFound",value:function(){var i=0===this.itemsList.filteredItems.length;return(i&&!this._isTypeahead&&!this.loading||i&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}},{key:"showTypeToSearch",value:function(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}},{key:"onCompositionStart",value:function(){this._isComposing=!0}},{key:"onCompositionEnd",value:function(i){this._isComposing=!1,!this.searchWhileComposing&&this.filter(i)}},{key:"filter",value:function(i){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=i,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(i),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:i,items:this.itemsList.filteredItems.map(function(r){return r.value})}),this.open())}},{key:"onInputFocus",value:function(i){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(i),this.focused=!0)}},{key:"onInputBlur",value:function(i){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(i),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}},{key:"onItemHover",value:function(i){i.disabled||this.itemsList.markItem(i)}},{key:"detectChanges",value:function(){this._cd.destroyed||this._cd.detectChanges()}},{key:"_setSearchTermFromItems",value:function(){var i=this.selectedItems&&this.selectedItems[0];this.searchTerm=i&&i.label||null}},{key:"_setItems",value:function(i){var r=i[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Qn(r)?!To(r):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(i),i.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Qn(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}},{key:"_setItemsFromNgOptions",value:function(){var i=this;this.ngOptions.changes.pipe((0,_e.O)(this.ngOptions),(0,H.R)(this._destroy$)).subscribe(function(s){var l;i.bindLabel=i._defaultLabel,i.items=s.map(function(c){return{$ngOptionValue:c.value,$ngOptionLabel:c.elementRef.nativeElement.innerHTML,disabled:c.disabled}}),i.itemsList.setItems(i.items),i.hasValue&&i.itemsList.mapSelectedItems(),i.detectChanges(),l=(0,ie.T)(i.ngOptions.changes,i._destroy$),ie.T.apply(void 0,(0,K.Z)(i.ngOptions.map(function(c){return c.stateChange$}))).pipe((0,H.R)(l)).subscribe(function(c){var u=i.itemsList.findItem(c.value);u.disabled=c.disabled,u.label=c.label||u.label,i._cd.detectChanges()})})}},{key:"_isValidWriteValue",value:function(i){var r=this;if(!Qn(i)||this.multiple&&""===i||Array.isArray(i)&&0===i.length)return!1;var a=function(l){return!(!Qn(r.compareWith)&&To(l)&&r.bindValue&&(r._console.warn("Setting object(".concat(JSON.stringify(l),") as your model with bindValue is not allowed unless [compareWith] is used.")),1))};return this.multiple?Array.isArray(i)?i.every(function(s){return a(s)}):(this._console.warn("Multiple select ngModel should be array."),!1):a(i)}},{key:"_handleWriteValue",value:function(i){var r=this;if(this._isValidWriteValue(i)){var a=function(l){var c=r.itemsList.findItem(l);if(c)r.itemsList.select(c);else{var u=To(l);if(u||!u&&!r.bindValue)r.itemsList.select(r.itemsList.mapItem(l,null));else if(r.bindValue){var x;(0,B.Z)(x={},r.bindLabel,null),(0,B.Z)(x,r.bindValue,l),r.itemsList.select(r.itemsList.mapItem(c=x,null))}}};this.multiple?i.forEach(function(s){return a(s)}):a(i)}}},{key:"_handleKeyPresses",value:function(){var i=this;this.searchable||this._keyPress$.pipe((0,H.R)(this._destroy$),(0,L.b)(function(r){return i._pressedKeys.push(r)}),(0,X.b)(200),(0,le.h)(function(){return i._pressedKeys.length>0}),(0,Oe.U)(function(){return i._pressedKeys.join("")})).subscribe(function(r){var a=i.itemsList.findByLabel(r);a&&(i.isOpen?(i.itemsList.markItem(a),i._scrollToMarked(),i._cd.markForCheck()):i.select(a)),i._pressedKeys=[]})}},{key:"_setInputAttributes",value:function(){for(var i=this.searchInput.nativeElement,r=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs),a=0,s=Object.keys(r);a<s.length;a++){var l=s[a];i.setAttribute(l,r[l])}}},{key:"_updateNgModel",value:function(){var a,i=[],r=(0,te.Z)(this.selectedItems);try{for(r.s();!(a=r.n()).done;){var s=a.value;if(this.bindValue){var l=null;l=s.children?s.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(s.value,this.bindValue),i.push(l)}else i.push(s.value)}}catch(h){r.e(h)}finally{r.f()}var u=this.selectedItems.map(function(h){return h.value});this.multiple?(this._onChange(i),this.changeEvent.emit(u)):(this._onChange(Qn(i[0])?i[0]:null),this.changeEvent.emit(u[0])),this._cd.markForCheck()}},{key:"_clearSearch",value:function(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}},{key:"_changeSearch",value:function(i){this.searchTerm=i,this._isTypeahead&&this.typeahead.next(i)}},{key:"_scrollToMarked",value:function(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}},{key:"_scrollToTag",value:function(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}},{key:"_onSelectionChanged",value:function(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}},{key:"_handleTab",value:function(i){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),i.preventDefault()):this.showAddTag?(this.selectTag(),i.preventDefault()):this.close():this.close())}},{key:"_handleEnter",value:function(i){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}i.preventDefault()}},{key:"_handleSpace",value:function(i){this.isOpen||this._manualOpen||(this.open(),i.preventDefault())}},{key:"_handleArrowDown",value:function(i){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),i.preventDefault()}},{key:"_handleArrowUp",value:function(i){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),i.preventDefault())}},{key:"_nextItemIsTag",value:function(i){var r=this.itemsList.markedIndex+i;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(r<0||r===this.itemsList.filteredItems.length)}},{key:"_handleBackspace",value:function(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}},{key:"_isTypeahead",get:function(){return this.typeahead&&this.typeahead.observers.length>0}},{key:"_validTerm",get:function(){var i=this.searchTerm&&this.searchTerm.trim();return i&&i.length>=this.minTermLength}},{key:"_mergeGlobalConfig",value:function(i){this.placeholder=this.placeholder||i.placeholder,this.notFoundText=this.notFoundText||i.notFoundText,this.typeToSearchText=this.typeToSearchText||i.typeToSearchText,this.addTagText=this.addTagText||i.addTagText,this.loadingText=this.loadingText||i.loadingText,this.clearAllText=this.clearAllText||i.clearAllText,this.virtualScroll=Qn(this.virtualScroll)?this.virtualScroll:!!Qn(i.disableVirtualScroll)&&!i.disableVirtualScroll,this.openOnEnter=Qn(this.openOnEnter)?this.openOnEnter:i.openOnEnter,this.appendTo=this.appendTo||i.appendTo,this.bindValue=this.bindValue||i.bindValue,this.bindLabel=this.bindLabel||i.bindLabel,this.appearance=this.appearance||i.appearance}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.$8M("class"),e.$8M("autofocus"),e.Y36(os),e.Y36(mc),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(yl))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-select"]],contentQueries:function(t,i,r){var a;1&t&&(e.Suo(r,Or,5,e.Rgc),e.Suo(r,uc,5,e.Rgc),e.Suo(r,ns,5,e.Rgc),e.Suo(r,er,5,e.Rgc),e.Suo(r,ta,5,e.Rgc),e.Suo(r,uu,5,e.Rgc),e.Suo(r,wo,5,e.Rgc),e.Suo(r,vl,5,e.Rgc),e.Suo(r,ba,5,e.Rgc),e.Suo(r,pc,5,e.Rgc),e.Suo(r,La,5,e.Rgc),e.Suo(r,tr,5)),2&t&&(e.iGM(a=e.CRH())&&(i.optionTemplate=a.first),e.iGM(a=e.CRH())&&(i.optgroupTemplate=a.first),e.iGM(a=e.CRH())&&(i.labelTemplate=a.first),e.iGM(a=e.CRH())&&(i.multiLabelTemplate=a.first),e.iGM(a=e.CRH())&&(i.headerTemplate=a.first),e.iGM(a=e.CRH())&&(i.footerTemplate=a.first),e.iGM(a=e.CRH())&&(i.notFoundTemplate=a.first),e.iGM(a=e.CRH())&&(i.typeToSearchTemplate=a.first),e.iGM(a=e.CRH())&&(i.loadingTextTemplate=a.first),e.iGM(a=e.CRH())&&(i.tagTemplate=a.first),e.iGM(a=e.CRH())&&(i.loadingSpinnerTemplate=a.first),e.iGM(a=e.CRH())&&(i.ngOptions=a))},viewQuery:function(t,i){var r;1&t&&(e.Gf(_d,5),e.Gf(At,7)),2&t&&(e.iGM(r=e.CRH())&&(i.dropdownPanel=r.first),e.iGM(r=e.CRH())&&(i.searchInput=r.first))},hostVars:20,hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(a){return i.handleKeyDown(a)}),2&t&&e.ekj("ng-select-typeahead",i.typeahead)("ng-select-multiple",i.multiple)("ng-select-taggable",i.addTag)("ng-select-searchable",i.searchable)("ng-select-clearable",i.clearable)("ng-select-opened",i.isOpen)("ng-select",i.useDefaultClass)("ng-select-disabled",i.disabled)("ng-select-filtered",i.filtered)("ng-select-single",i.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[e._Bn([{provide:_.JU,useExisting:(0,e.Gpc)(function(){return n}),multi:!0},Rs]),e.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(t,i){if(1&t){var r=e.EpF();e.TgZ(0,"div",0),e.NdJ("mousedown",function(s){return i.handleMousedown(s)}),e.TgZ(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.YNc(4,Ot,2,2,"ng-container",3),e.YNc(5,En,1,5,null,3),e.TgZ(6,"div",4)(7,"input",5,6),e.NdJ("input",function(){e.CHM(r);var s=e.MAs(8);return e.KtG(i.filter(s.value))})("compositionstart",function(){return i.onCompositionStart()})("compositionend",function(){e.CHM(r);var s=e.MAs(8);return e.KtG(i.onCompositionEnd(s.value))})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("change",function(s){return s.stopPropagation()}),e.qZA()()(),e.YNc(9,It,4,1,"ng-container",3),e.YNc(10,mt,3,1,"span",7),e.TgZ(11,"span",8),e._UZ(12,"span",9),e.qZA()(),e.YNc(13,Vi,7,19,"ng-dropdown-panel",10)}2&t&&(e.ekj("ng-appearance-outline","outline"===i.appearance)("ng-has-value",i.hasValue),e.xp6(3),e.Oqu(i.placeholder),e.xp6(1),e.Q6J("ngIf",(!i.multiLabelTemplate||!i.multiple)&&i.selectedItems.length>0),e.xp6(1),e.Q6J("ngIf",i.multiple&&i.multiLabelTemplate&&i.selectedValues.length>0),e.xp6(1),e.uIk("aria-expanded",i.isOpen)("aria-owns",i.isOpen?i.dropdownId:null),e.xp6(1),e.Q6J("readOnly",!i.searchable||i.itemsList.maxItemsSelected)("disabled",i.disabled)("value",i.searchTerm?i.searchTerm:""),e.uIk("id",i.labelForId)("tabindex",i.tabIndex)("aria-activedescendant",i.isOpen?null==i.itemsList||null==i.itemsList.markedItem?null:i.itemsList.markedItem.htmlId:null)("aria-controls",i.isOpen?i.dropdownId:null),e.xp6(2),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",i.showClear()),e.xp6(3),e.Q6J("ngIf",i.isOpen))},dependencies:[D.mk,D.sg,D.O5,D.tP,_d,Mr],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),n}();function xl(){return new Fs}var Fs=function(){function n(){(0,I.Z)(this,n),this._selected=[]}return(0,M.Z)(n,[{key:"value",get:function(){return this._selected}},{key:"select",value:function(t,i,r){if(t.selected=!0,(!t.children||!i&&r)&&this._selected.push(t),i)if(t.parent){var a=t.parent.children.length,s=t.parent.children.filter(function(l){return l.selected}).length;t.parent.selected=a===s}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),this._selected=r&&this._activeChildren(t)?[].concat((0,K.Z)(this._selected.filter(function(l){return l.parent!==t})),[t]):[].concat((0,K.Z)(this._selected),(0,K.Z)(t.children.filter(function(l){return!l.disabled}))))}},{key:"unselect",value:function(t,i){if(this._selected=this._selected.filter(function(s){return s!==t}),t.selected=!1,i)if(t.parent&&t.parent.selected){var r,a=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),(r=this._selected).push.apply(r,(0,K.Z)(a.filter(function(s){return s!==t&&!s.disabled}))),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}},{key:"clear",value:function(t){this._selected=t?this._selected.filter(function(i){return i.disabled}):[]}},{key:"_setChildrenSelectedState",value:function(t,i){var a,r=(0,te.Z)(t);try{for(r.s();!(a=r.n()).done;){var s=a.value;s.disabled||(s.selected=i)}}catch(l){r.e(l)}finally{r.f()}}},{key:"_removeChildren",value:function(t){this._selected=[].concat((0,K.Z)(this._selected.filter(function(i){return i.parent!==t})),(0,K.Z)(t.children.filter(function(i){return i.parent===t&&i.disabled&&i.selected})))}},{key:"_removeParent",value:function(t){this._selected=this._selected.filter(function(i){return i!==t})}},{key:"_activeChildren",value:function(t){return t.children.every(function(i){return!i.disabled||i.selected})}}]),n}(),Cl=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:mc,useValue:xl}],imports:[D.ez]}),n}();let di=(()=>{class n{constructor(t,i,r){this.matPag=t,this.vr=i,this.ren=r,this.currentPage=1,this.directiveLoaded=!1,this.pageGapTxt="...",this.showTotalPages=5,this.pageLength=0,this.startPage=0,this.endPage=0,this.inerWidth()}onResize(t){this.showTotalPages=t.target.innerWidth<401?3:5,this.initPageRange()}enablePageLoad(){this.directiveLoaded||setTimeout(()=>{this.directiveLoaded=!0},100)}onPageChange(t){this.enablePageLoad()}buildPageNumbers(t,i){this.calculatePages(t,this.matPag.pageIndex);for(let s=this.startPage;s<=this.endPage;s++)this.ren.insertBefore(i,this.createPage(s,this.matPag.pageIndex),null)}createPage(t,i){const r=this.ren.createElement("mat-button");this.ren.addClass(r,"mat-icon-button");const a=isNaN(t)?this.pageGapTxt:+(t+1),s=this.ren.createText(a+"");return this.ren.addClass(r,"mat-custom-page"),t==i?this.ren.setAttribute(r,"disabled","disabled"):this.ren.listen(r,"mousedown",()=>{this.currentPage=t,this.switchPage(t)}),this.ren.appendChild(r,s),r}initPageRange(){const t=this.vr.element.nativeElement.querySelector(".mat-paginator-range-actions");this.vr.element.nativeElement.querySelector("div.mat-paginator-range-actions div.btn_custom-paging-container")&&this.ren.removeChild(t,this.vr.element.nativeElement.querySelector("div.mat-paginator-range-actions div.btn_custom-paging-container"));const i=this.vr.element.nativeElement.querySelector(".mat-paginator-navigation-first");this.ren.removeClass(i,"mat-icon-button"),this.ren.addClass(i,"mat-stroked-button");const r=this.vr.element.nativeElement.querySelector(".mat-paginator-navigation-previous");this.ren.removeClass(r,"mat-icon-button"),this.ren.addClass(r,"mat-stroked-button");const a=this.vr.element.nativeElement.querySelector(".mat-paginator-navigation-next");this.ren.removeClass(a,"mat-icon-button"),this.ren.addClass(a,"mat-stroked-button");const s=this.vr.element.nativeElement.querySelector(".mat-paginator-navigation-last");this.ren.removeClass(s,"mat-icon-button"),this.ren.addClass(s,"mat-stroked-button");const l=this.ren.createElement("div"),c=this.vr.element.nativeElement.childNodes[0].childNodes[0].childNodes[2].childNodes[5];this.ren.addClass(l,"btn_custom-paging-container"),this.ren.insertBefore(t,l,c);const u=this.vr.element.nativeElement.querySelector("div.mat-paginator-range-actions div.btn_custom-paging-container");if(u.innerHtml="",this.matPag.length>0){const h=this.pageCount(this.matPag.length-1,this.matPag.pageSize);this.buildPageNumbers(h,u),this.pageLength=this.matPag.length,this.directiveLoaded=!1}}pageCount(t,i){return Math.floor(t/i)+1}switchPage(t){this.matPag.pageIndex=t,this.matPag._changePageSize(this.matPag.pageSize),this.initPageRange()}ngAfterViewInit(){this.enablePageLoad()}ngDoCheck(){this.matPag.length!==this.pageLength&&this.enablePageLoad(),this.directiveLoaded&&this.initPageRange()}inerWidth(){this.showTotalPages=window.innerWidth<401?3:5}calculatePages(t,i){var r=5==this.showTotalPages?2:1;t<=this.showTotalPages?(this.startPage=0,this.endPage=t-1):i+r<t?i<r?(this.startPage=0,this.endPage=2*r):(this.startPage=i-r,this.endPage=i+r):(this.startPage=2==r?i+1==t?i-4:i-3:i-2,this.endPage=t-1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ge.NW,11),e.Y36(e.s_b),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["","paginatorStyle",""]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)("page",function(a){return i.onPageChange(a)})}}),n})();var ai=J(74734);let Do=(()=>{class n{transform(t){return t?t=new D.uU(ai.gR).transform(t,ai.Pn):[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"DateTransformPipe",type:n,pure:!0}),n})();const vd=["scheduleSelect"],bd=["searchInputField"];function ya(n,o){if(1&n&&(e.TgZ(0,"form",30),e._UZ(1,"ng-select",31,32),e.qZA()),2&n){const t=e.oxw();e.Q6J("formGroup",t.scheduleFilterForm),e.xp6(1),e.Q6J("items",t.searchableSchedules)("multiple",!0)("closeOnSelect",!1)("dropdownPosition","bottom")("hideSelected",!0)("clearSearchOnAdd",!0)}}function Tl(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1," Schedule "),e.qZA())}function as(n,o){if(1&n&&(e.TgZ(0,"td",34)(1,"span",35),e._uU(2,"Schedule:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.scheduleName," ")}}function gc(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1," Start Date "),e.qZA())}function wl(n,o){if(1&n&&(e.TgZ(0,"td",36)(1,"span",35),e._uU(2,"Start Date:"),e.qZA(),e._uU(3),e.ALo(4,"DateTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,1,t.startDateTime)," ")}}function yd(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1," End Date "),e.qZA())}function So(n,o){if(1&n&&(e.TgZ(0,"td",36)(1,"span",35),e._uU(2,"End Date:"),e.qZA(),e._uU(3),e.ALo(4,"DateTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,1,t.endDateTime)," ")}}function _c(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1," Job Slots "),e.qZA())}function ss(n,o){if(1&n&&(e.TgZ(0,"td",36)(1,"span",35),e._uU(2,"Job Slots:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.jobSlots," ")}}function vc(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1," Assigned "),e.qZA())}function pu(n,o){if(1&n&&(e.TgZ(0,"td",36)(1,"span",35),e._uU(2,"Assigned:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.assigned," ")}}function xa(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1," Unassigned "),e.qZA())}function ia(n,o){if(1&n&&(e.TgZ(0,"td",36)(1,"span",35),e._uU(2,"Unassigned:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.unAssigned," ")}}function Zs(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1," Invalid "),e.qZA())}function ls(n,o){if(1&n&&(e.TgZ(0,"td",36)(1,"span",35),e._uU(2,"Invalid:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.invalid," ")}}function bc(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1," Targets Not Met "),e.qZA())}function yc(n,o){if(1&n&&(e.TgZ(0,"td",36)(1,"span",35),e._uU(2,"Targets Not Met:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.targetsNotMet," ")}}function Dl(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1," Budget "),e.qZA())}function xd(n,o){if(1&n&&(e.TgZ(0,"td",36)(1,"span",35),e._uU(2,"Budget:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" \u20ac",t.budget," ")}}function Ls(n,o){1&n&&(e.TgZ(0,"th",33)(1,"span"),e._uU(2,"Actions"),e.qZA()())}function xc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",37)(1,"div",38)(2,"button",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.authoriseRequest(a.id,!0,a.startDateTime,a.endDateTime,a.scheduleId))}),e._uU(3," Approve and sync "),e.qZA(),e.TgZ(4,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.authoriseRequest(a.id,!1,a.startDateTime,a.endDateTime,a.scheduleId))}),e._uU(5," Reject "),e.qZA(),e.TgZ(6,"button",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectRequest(a.scheduleName,a.scheduleId,a.id,a.subGroupId,a.startDateTime,a.endDateTime,a.isSchedule,a.currentView))}),e._uU(7," View Details "),e.qZA()(),e.TgZ(8,"div",42)(9,"div",27)(10,"div",43)(11,"div",44)(12,"button",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.authoriseRequest(a.id,!0,a.startDateForRequest,a.endDateForRequest,a.scheduleId))}),e._uU(13," Approve and sync "),e.qZA()(),e.TgZ(14,"div",44)(15,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.authoriseRequest(a.id,!1,a.startDateForRequest,a.endDateForRequest,a.scheduleId))}),e._uU(16," Reject "),e.qZA()()()(),e.TgZ(17,"div",27)(18,"button",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectRequest(a.scheduleName,a.scheduleId,a.id,a.subGroupId,a.startDateTime,a.endDateTime,a.isSchedule,a.currentView))}),e._uU(19," View Details "),e.qZA()()()()}}function Cc(n,o){1&n&&e._UZ(0,"tr",45)}function Lp(n,o){1&n&&e._UZ(0,"tr",46)}const Sl=function(){return[5,10,25,50,100,250]};let Tc=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x){this._titleService=t,this._subGroupService=i,this._messageService=r,this._renderer=a,this._router=s,this.dialog=l,this._notificationsService=c,this._zone=u,this._ref=h,this._syncService=x,this.pageTitle="Schedules > Approval Requests",this.scheduleIds=[],this.dataSource=new N.by,this.searchableSchedules=new Array,this.resultsLength=0,this._ngUnsubscribe=new b.x,this._updateTable=new e.vpe,this.displayedColumns=["scheduleName","startDateTime","endDateTime","jobSlots","assigned","unAssigned","invalid","actions"],s.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&u.run(()=>this._ref.detectChanges())}),this.dataSource.paginator=this.paginator,this.url=this._router.url}set content(t){this.scheduleSelect=t}ngOnInit(){this._titleService.sendTitle(this.pageTitle),this.scheduleFilterForm=new _.cw({schedules:new _.NI([])}),this.getLoggedUserId(),this.getElegibleSchedules(this.loggedUserId)}ngAfterViewInit(){$(this.scheduleSelect.element.children[0].children[1]).remove(),$(this.scheduleSelect.element.children[0]).append(this._createIconElement("fa-search","padding-right","6px")),this.populateTableData(),this._notificationsService.notificationOnCurrentPage.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._updateTable.next(!0)}),this.scheduleFilterForm.controls.schedules.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.paginator.pageIndex>0&&this.paginator.firstPage(),this._updateTable.next(!0)})}getLoggedUserId(){const t=localStorage.getItem("jwt"),i=this.getDecodedAccessToken(t);this.loggedUserId=i.nameid}getDecodedAccessToken(t){try{return(0,ue.Z)(t)}catch(i){return null}}populateTableData(){(0,ie.T)(this.paginator.page,this._updateTable).pipe((0,_e.O)({}),(0,H.R)(this._ngUnsubscribe),(0,j.w)(()=>this._subGroupService.getAllForApproval(this.loggedUserId,this.scheduleFilterForm.controls.schedules.value,this.paginator.pageIndex+1,this.paginator.pageSize,"Asc"))).subscribe(t=>{this.resultsLength=t.totalCount,this.dataSource=t.items},t=>{this._messageService.open("Error retrieving data.")})}getElegibleSchedules(t){this._subGroupService.getSchedulesForSearch(t).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{i.forEach(r=>{this.searchableSchedules=[...this.searchableSchedules,r]})},i=>{this._messageService.open("Error retrieving data.")})}authoriseRequest(t,i,r,a,s){this.dialog.open(xe,{autoFocus:!1,width:"330px",data:{id:t,answer:i},panelClass:["max-height96"]}).afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(c=>{"actioned"===c&&(i&&this._syncService.insertSyncData(s,r,a).subscribe(u=>{this._messageService.open(u)},u=>{this._messageService.open(u)}),this._updateTable.next(!0))})}selectRequest(t,i,r,a,s,l,c,u){const h=oe(t);this._router.navigateByUrl("/scheduler/details/"+h,{state:{source:"approval-details",scheduleID:i,requestId:r,subGroupId:a,startDate:s,endDate:l,isSchedule:c,currentView:u}})}_createIconElement(t,i,r){let a=this._renderer.createElement("i");return this._renderer.addClass(a,"fa"),this._renderer.addClass(a,t),this._renderer.setStyle(a,i,r),this._renderer.setStyle(a,"color","gray"),a}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(Ce.L),e.Y36(se.G),e.Y36(e.Qsj),e.Y36(q.F0),e.Y36(z.uw),e.Y36(fe.T),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-schedule-approval"]],viewQuery:function(t,i){if(1&t&&(e.Gf(vd,5),e.Gf(ge.NW,5),e.Gf(bd,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.content=r.first),e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.searchInput=r.first)}},decls:47,vars:8,consts:[[1,"container-fluid","manage-submission-requests"],[1,"card","table-card"],[1,"card-body"],[1,"page-header-container","d-flex","justify-content-between"],[1,"page-title"],[1,"search-input"],[3,"formGroup",4,"ngIf"],[1,"flexbox-layout-filler"],[1,"blue_hr"],[1,"table-container","g-thin-black-scroll-bar"],["mat-table","",1,"approval-table",3,"dataSource"],["matColumnDef","scheduleName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","lineHeight",4,"matCellDef"],["matColumnDef","startDateTime"],["mat-cell","",4,"matCellDef"],["matColumnDef","endDateTime"],["matColumnDef","jobSlots"],["matColumnDef","assigned"],["matColumnDef","unAssigned"],["matColumnDef","invalid"],["matColumnDef","targetsNotMet"],["matColumnDef","budget"],["matColumnDef","actions"],["mat-cell","","class","buttonsDivWidth",4,"matCellDef"],["mat-header-row","","class","emp-table-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"col-12"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[3,"formGroup"],["formControlName","schedules","bindLabel","name","bindValue","id","placeholder","Find Schedule",1,"jobTypeDetails",3,"items","multiple","closeOnSelect","dropdownPosition","hideSelected","clearSearchOnAdd"],["scheduleSelect",""],["mat-header-cell",""],["mat-cell","",1,"lineHeight"],[1,"mobile-label"],["mat-cell",""],["mat-cell","",1,"buttonsDivWidth"],[1,"d-flex","justify-content-start","buttons-margin","larger-screen-buttons"],[1,"approval-table-button","btn","auth-button","approve-and-sync-button",3,"click"],[1,"approval-table-button","btn","auth-button",3,"click"],[1,"approval-table-button","details-button","btn",3,"click"],[1,"row","buttons-margin","smaller-screen-buttons"],[1,"row"],[1,"col-6"],["mat-header-row","",1,"emp-table-row"],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5," Approval Requests "),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,ya,3,7,"form",6),e.qZA(),e._UZ(8,"div",7),e.qZA(),e._UZ(9,"hr",8),e.TgZ(10,"div",9)(11,"table",10),e.ynx(12,11),e.YNc(13,Tl,2,0,"th",12),e.YNc(14,as,4,1,"td",13),e.BQk(),e.ynx(15,14),e.YNc(16,gc,2,0,"th",12),e.YNc(17,wl,5,3,"td",15),e.BQk(),e.ynx(18,16),e.YNc(19,yd,2,0,"th",12),e.YNc(20,So,5,3,"td",15),e.BQk(),e.ynx(21,17),e.YNc(22,_c,2,0,"th",12),e.YNc(23,ss,4,1,"td",15),e.BQk(),e.ynx(24,18),e.YNc(25,vc,2,0,"th",12),e.YNc(26,pu,4,1,"td",15),e.BQk(),e.ynx(27,19),e.YNc(28,xa,2,0,"th",12),e.YNc(29,ia,4,1,"td",15),e.BQk(),e.ynx(30,20),e.YNc(31,Zs,2,0,"th",12),e.YNc(32,ls,4,1,"td",15),e.BQk(),e.ynx(33,21),e.YNc(34,bc,2,0,"th",12),e.YNc(35,yc,4,1,"td",15),e.BQk(),e.ynx(36,22),e.YNc(37,Dl,2,0,"th",12),e.YNc(38,xd,4,1,"td",15),e.BQk(),e.ynx(39,23),e.YNc(40,Ls,3,0,"th",12),e.YNc(41,xc,20,0,"td",24),e.BQk(),e.YNc(42,Cc,1,0,"tr",25),e.YNc(43,Lp,1,0,"tr",26),e.qZA()(),e.TgZ(44,"div",27),e._UZ(45,"mat-paginator",28,29),e.qZA()()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",i.scheduleFilterForm),e.xp6(4),e.Q6J("dataSource",i.dataSource),e.xp6(31),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(7,Sl)))},dependencies:[D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,di,Do],styles:[".container-fluid.manage-submission-requests[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%;height:calc(100vh - 56px)}.page-header-container[_ngcontent-%COMP%]{-ms-flex-direction:row;flex-direction:row}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin-left:0;color:#42536f}.search-input[_ngcontent-%COMP%]{width:200px}.flexbox-layout-filler[_ngcontent-%COMP%]{margin-left:12%;display:block}.table-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}th[_ngcontent-%COMP%]{font-size:14px;color:#42536f}td[_ngcontent-%COMP%]{color:#595959;font-size:12px}tr[_ngcontent-%COMP%]{padding-left:0!important}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-weight:700}.blue_hr[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-top:30px;margin-left:-15px;margin-right:-15px}.table-container[_ngcontent-%COMP%]{height:calc(100vh - 262px)}.table-card[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #e1e6ec!important}.approval-table[_ngcontent-%COMP%]{width:100%}.approval-table-button[_ngcontent-%COMP%]{background-color:#eff3f7;color:#404f64;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042;width:100px;height:30px;line-height:15px;padding:6px 12px}.auth-button[_ngcontent-%COMP%]{margin-right:.5rem}.approve-and-sync-button[_ngcontent-%COMP%]{width:116px!important}.buttons-margin[_ngcontent-%COMP%]{margin-bottom:0;padding-right:4px}.buttonsDivWidth[_ngcontent-%COMP%]{padding-left:0}.details-button[_ngcontent-%COMP%]{color:#fff;background:var(--eSolve-primary);font-weight:700;margin-top:0}.mat-column-startDateTime[_ngcontent-%COMP%], .mat-column-endDateTime[_ngcontent-%COMP%], .mat-column-jobSlots[_ngcontent-%COMP%]{padding-left:6px}.mat-column-scheduleName[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0 0 15%!important;flex:0 0 15%!important;width:15%!important}.mat-column-startDateTime[_ngcontent-%COMP%], .mat-column-endDateTime[_ngcontent-%COMP%], .mat-column-targetsNotMet[_ngcontent-%COMP%]{-ms-flex:0 0 10%!important;flex:0 0 10%!important;width:10%!important}.mat-column-jobSlots[_ngcontent-%COMP%], .mat-column-assigned[_ngcontent-%COMP%], .mat-column-unAssigned[_ngcontent-%COMP%], .mat-column-invalid[_ngcontent-%COMP%], .mat-column-budget[_ngcontent-%COMP%]{-ms-flex:0 0 8%!important;flex:0 0 8%!important;width:8%!important}.mobile-label[_ngcontent-%COMP%]{display:none}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-left:0;padding-right:0}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{display:table-cell}.larger-screen-buttons[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.smaller-screen-buttons[_ngcontent-%COMP%]{display:none}@media (max-width: 350px){.page-header-container[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column}}@media (max-width: 432px){.larger-screen-buttons[_ngcontent-%COMP%]{display:none!important}.smaller-screen-buttons[_ngcontent-%COMP%]{display:block!important;width:100%!important}.approval-table-button[_ngcontent-%COMP%]{width:100%!important}.approve-and-sync-button[_ngcontent-%COMP%]{width:116px!important}.auth-button[_ngcontent-%COMP%]{margin-right:0}.details-button[_ngcontent-%COMP%]{margin-top:8px}}@media (max-width: 1200px){.mobile-label[_ngcontent-%COMP%]{width:80px;display:inline-block;font-weight:700}.mat-header-row[_ngcontent-%COMP%]{display:none}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.mat-row[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-align:start!important;align-items:flex-start!important;padding:8px 24px!important}.mat-column-scheduleName[_ngcontent-%COMP%], .mat-column-startDateTime[_ngcontent-%COMP%], .mat-column-endDateTime[_ngcontent-%COMP%], .mat-column-jobSlots[_ngcontent-%COMP%], .mat-column-assigned[_ngcontent-%COMP%], .mat-column-unAssigned[_ngcontent-%COMP%], .mat-column-invalid[_ngcontent-%COMP%], .mat-column-targetsNotMet[_ngcontent-%COMP%], .mat-column-budget[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0 0 100%!important;flex:0 0 100%!important;width:100%!important}.mat-column-startDateTime[_ngcontent-%COMP%], .mat-column-endDateTime[_ngcontent-%COMP%], .mat-column-jobSlots[_ngcontent-%COMP%]{padding-left:0}td.mat-cell[_ngcontent-%COMP%]:last-of-type{border-bottom:none;margin-bottom:5px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#0000001f}td.mat-cell[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:none}.buttons-margin[_ngcontent-%COMP%]{padding-right:0;margin-bottom:8px;margin-top:5px}.buttonsDivWidth[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{padding-left:2px!important}.smaller-screen-buttons[_ngcontent-%COMP%]{margin-top:5px}}@media (max-width: 428px){.table-container[_ngcontent-%COMP%]{height:calc(100vh - 360px)}}@media (max-width: 431px) and (min-width: 429px){.table-container[_ngcontent-%COMP%]{height:calc(100vh - 305px)}}@media (max-width: 605px) and (min-width: 432px){.table-container[_ngcontent-%COMP%]{height:calc(100vh - 285px)}}@media (max-width: 992px){.flexbox-layout-filler[_ngcontent-%COMP%]{margin-left:0;display:none}}"]}),n})();var Vr=J(99219),Yr=J(97272),gn=J(39646),Gi=J(71884),Wi=J(70262),fr=J(58259),qi=J(42919);class Us{constructor(o,t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De,Ge,We,gt,rt,vt,Zt,Ht,Bt,ln,Pn,Jn,kn,mi,wi,Ni,cn,Rn,Co,ea,_l,du,nT,iT,rT){this.id=o,this.employeeNumber=t,this.firstname=i,this.surname=r,this.profileID=a,this.genderID=s,this.employeeLocations=l,this.departmentID=c,this.costCodeID=u,this.divisionID=h,this.jobTitleID=x,this.teamID=T,this.classID=O,this.jobTypeID=U,this.targetRuleGroupID=re,this.workRuleID=de,this.notificationTypeID=ve,this.managerID=Ne,this.startDate=De,this.leaveDate=Ge,this.address1=We,this.address2=gt,this.address3=rt,this.address4=vt,this.dateOfBirth=Zt,this.telephoneNumber=Ht,this.mobileNumber=Bt,this.payRate=ln,this.maxHours1=Pn,this.maxHours2=Jn,this.maxHours3=kn,this.maxHours4=mi,this.maxHours5=wi,this.allowedTrade=Ni,this.availability=cn,this.email=Rn,this.password=Co,this.username=ea,this.image=_l,this.isAccessEmailSent=du,this.isForgottenPassword=nT,this.weeklyHours=iT,this.employeeAvailabilityList=rT}}var yr=J(96893),_i=J(61135),pt=J(39059);let jn=(()=>{class n{constructor(t){this.http=t,this.isOnDetails=new _i.X(!1),this.paginationData=new b.x,this.columnMap=(new Map).set("user",0).set("profileName",1).set("employeeNumber",2),this.numberOfSelectedUsers=new _i.X(0),this.totalUsers=this.numberOfSelectedUsers.asObservable(),this.enableButton=new _i.X(!1),this.enableEditUserButton=this.enableButton.asObservable(),this.selectedUsersId=new _i.X([]),this.assignProfile=new _i.X(!1)}getNumberOfSelectedUser(t){this.numberOfSelectedUsers.next(t),this.enableButton.next(t>0)}getAllUsers(t,i,r,a,s,l){null==l&&(l="user");let c=(new Y.LE).set(pt.hx.userFilterRequestParams.ImageSize,t).set(pt.hx.userFilterRequestParams.Page,r&&""!==r?r:"1").set(pt.hx.userFilterRequestParams.Limit,a&&""!==a?a:"5").set(pt.hx.userFilterRequestParams.SortOrder,s&&""!==s?s:"asc").set(pt.hx.userFilterRequestParams.Column,l&&""!==l?this.columnMap.get(l):0);return i&&(i.filters.includes(7)||i.filters.includes(8))&&(i.filters.includes(7)?c=c.append(pt.hx.userFilterRequestParams.LinkedEmployees,"true"):i.filters.includes(8)&&(c=c.append(pt.hx.userFilterRequestParams.LinkedEmployees,"false"))),i&&(i.profiles.length>0||i.users.length>0||i.userNames.length>0||i.firstNames.length>0||i.lastNames.length>0||i.emailIds.length>0||i.mobileNumbers.length>0)&&(i.profiles.forEach(u=>{c=c.append(pt.hx.userFilterRequestParams.ProfilesIds,u.toString())}),i.userNames.forEach(u=>{c=c.append(pt.hx.userFilterRequestParams.userNames,u.toString())}),i.firstNames.forEach(u=>{c=c.append(pt.hx.userFilterRequestParams.firstNames,u.toString())}),i.lastNames.forEach(u=>{c=c.append(pt.hx.userFilterRequestParams.lastNames,u.toString())}),i.emailIds.forEach(u=>{c=c.append(pt.hx.userFilterRequestParams.emailIds,u.toString())}),i.mobileNumbers.forEach(u=>{c=c.append(pt.hx.userFilterRequestParams.mobileNumbers,u.toString())}),i.users.forEach(u=>{c=c.append(pt.hx.userFilterRequestParams.UserIds,u.toString())})),this.http.get(S.j.URLusers+"/users",{params:c})}getUser(t,i){return new A.y(r=>{this.http.get(S.j.URLusers+"/"+t+"/"+i,{}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}getLinkedAccount(){const t=localStorage.getItem("jwt");return new A.y(i=>{this.http.get(S.j.URLlinkedAccount,{headers:{Authorization:`Bearer ${t}`}}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}createUser(t){let i=this._purgeEmptyArrays(t);return i.user.password=i.user.password?i.user.password:null,new A.y(r=>{this.http.post(S.j.URLusers+"/",i).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}editUser(t,i){let r=this._purgeEmptyArrays(i);return r.user.password=r.user.password?r.user.password:null,new A.y(a=>{this.http.put(S.j.URLusers+"/"+t,r).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}deleteUser(t){return new A.y(i=>{this.http.delete(S.j.URLusers+"/"+t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}getComboValues(){return this.http.get(S.j.URLusers+"/combovalues",{})}getAllUsersForAttendanceManagement(t,i){return t>0?this.http.get(S.j.URLattendanceConfirmationListOfUsers+"/"+t+"/"+i):(0,gn.of)([])}getLoneWorkerAdmins(){return this.http.get(S.j.URLloneWorkerListOfAdmins)}getAllUsersForLoneWorker(t,i){return t>0?new A.y(r=>{this.http.get(S.j.URLloneWorkerListOfUsers+"/"+t+"/"+i,{}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))}):(0,gn.of)([])}getAllUserProfiles(){return this.http.get(S.j.URLprofiles)}getUserFilters(t){return this.http.get(S.j.URLusers+"/filter/"+t)}getSsoUserAdminRight(){return new A.y(t=>{this.http.get(S.j.URLusers+"/ssoUserAdminRight").subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}searchUsersAndProfilesForFilter(t,i){return t?this.http.get(S.j.URLUserCombosearch,{params:{SearchTerm:t,SearchByUsers:i}}):(0,gn.of)([])}checkIfUsernameIsUnique(t,i){let r={content:t,id:i=null!=i?i:0};return new A.y(a=>{this.http.post(S.j.URLusers+"/username",r).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}checkIfEmailIsUnique(t,i){if(t)return this.http.get(S.j.URLusers+"/email",{params:{Content:t,Id:null!=i?i:0}})}_purgeEmptyArrays(t){let i=t;return i.userEmployeePermissions=i.userEmployeePermissions.filter(r=>null!==r.fieldID),i.userEmployeePermissions.length||(i.userEmployeePermissions=null),i.userSchedulePermissions=i.userSchedulePermissions.filter(r=>null!==r.scheduleID),i.userSchedulePermissions.length||(i.userSchedulePermissions=null),i.userTemplatePermissions=i.userTemplatePermissions.filter(r=>null!==r.templateID),i.userTemplatePermissions.length||(i.userTemplatePermissions=null),i}regenerateApiKey(t,i){return(null==i||null==i)&&(i=!1),this.http.get(S.j.URLregenerateAPIkey+"/"+t+"/"+i,{})}assignProfileBulkUpdate(t,i){let r={userId:t,profileId:i};return new A.y(a=>{this.http.post(S.j.URLusers+"/userProfileBulkUpdate",r).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}getUserAndEmployeeCount(){return new A.y(t=>{this.http.get(S.j.URLUserEmployeeCount).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}migrateUsersAndEmployeesToASSO(){return new A.y(t=>{this.http.post(S.j.URLusers+"/migrateUsersAndEmployeesToASSO",null).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var St=J(69562);class Ca{constructor(o,t,i,r,a){this.user=o,this.userSchedulePermissions=t,this.userTemplatePermissions=i,this.userEmployeePermissions=r,this.userShiftPermissions=a}}class Ua{constructor(o,t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De,Ge,We,gt){this.id=o,this.firstname=t,this.surname=i,this.username=r,this.password=a,this.email=s,this.telephoneNumber=l,this.mobileNumber=c,this.notificationTypeID=u,this.profileID=h,this.linkedEmployeeID=x,this.linkedEmployeeRightID=T,this.image=O,this.isAccessEmailSent=U,this.isForgottenPassword=re,this.startDate=de,this.leaveDate=ve,this.apiKey1=Ne,this.apiKey2=De,this.accessAllEmployees=Ge,this.accessAllShifts=We,this.isSelected=gt}}var Zi=J(77446),Ke=J(60136),Xe=J(18486),ei=J(90508),Pr=J(63191),R=J(15664),C=J(20449),P=["input"],Z=function(o){return{enterDuration:o}},ne=["*"],he=new e.OlP("mat-radio-default-options",{providedIn:"root",factory:function be(){return{color:"accent"}}}),Me=0,Ue={provide:_.JU,useExisting:(0,e.Gpc)(function(){return Tt}),multi:!0},Je=(0,M.Z)(function n(o,t){(0,I.Z)(this,n),this.source=o,this.value=t}),nt=new e.OlP("MatRadioGroup"),Et=function(){var n=function(){function o(t){(0,I.Z)(this,o),this._changeDetector=t,this._value=null,this._name="mat-radio-group-".concat(Me++),this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new e.vpe}return(0,M.Z)(o,[{key:"name",get:function(){return this._name},set:function(i){this._name=i,this._updateRadioButtonNames()}},{key:"labelPosition",get:function(){return this._labelPosition},set:function(i){this._labelPosition="before"===i?"before":"after",this._markRadiosForCheck()}},{key:"value",get:function(){return this._value},set:function(i){this._value!==i&&(this._value=i,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}},{key:"_checkSelectedRadioButton",value:function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}},{key:"selected",get:function(){return this._selected},set:function(i){this._selected=i,this.value=i?i.value:null,this._checkSelectedRadioButton()}},{key:"disabled",get:function(){return this._disabled},set:function(i){this._disabled=(0,Pr.Ig)(i),this._markRadiosForCheck()}},{key:"required",get:function(){return this._required},set:function(i){this._required=(0,Pr.Ig)(i),this._markRadiosForCheck()}},{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"_touch",value:function(){this.onTouched&&this.onTouched()}},{key:"_updateRadioButtonNames",value:function(){var i=this;this._radios&&this._radios.forEach(function(r){r.name=i.name,r._markForCheck()})}},{key:"_updateSelectedRadioFromValue",value:function(){var i=this;this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(function(a){a.checked=i.value===a.value,a.checked&&(i._selected=a)}))}},{key:"_emitChangeEvent",value:function(){this._isInitialized&&this.change.emit(new Je(this._selected,this._value))}},{key:"_markRadiosForCheck",value:function(){this._radios&&this._radios.forEach(function(i){return i._markForCheck()})}},{key:"writeValue",value:function(i){this.value=i,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(i){this._controlValueAccessorChangeFn=i}},{key:"registerOnTouched",value:function(i){this.onTouched=i}},{key:"setDisabledState",value:function(i){this.disabled=i,this._changeDetector.markForCheck()}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n}(),Tt=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){return(0,I.Z)(this,i),t.apply(this,arguments)}return(0,M.Z)(i)}(Et);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,i,r){var a;1&t&&e.Suo(r,$t,5),2&t&&e.iGM(a=e.CRH())&&(i._radios=a)},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[e._Bn([Ue,{provide:nt,useExisting:n}]),e.qOj]}),n}(),Rt=(0,ei.Kr)((0,ei.sb)((0,M.Z)(function n(o){(0,I.Z)(this,n),this._elementRef=o}))),en=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c,u,h,x){var T;return(0,I.Z)(this,i),(T=t.call(this,a))._changeDetector=s,T._focusMonitor=l,T._radioDispatcher=c,T._providerOverride=h,T._uniqueId="mat-radio-".concat(++Me),T.id=T._uniqueId,T.change=new e.vpe,T._checked=!1,T._value=null,T._removeUniqueSelectionListener=function(){},T.radioGroup=r,T._noopAnimations="NoopAnimations"===u,x&&(T.tabIndex=(0,Pr.su)(x,0)),T._removeUniqueSelectionListener=c.listen(function(O,U){O!==T.id&&U===T.name&&(T.checked=!1)}),T}return(0,M.Z)(i,[{key:"checked",get:function(){return this._checked},set:function(a){var s=(0,Pr.Ig)(a);this._checked!==s&&(this._checked=s,s&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!s&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),s&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}},{key:"value",get:function(){return this._value},set:function(a){this._value!==a&&(this._value=a,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===a),this.checked&&(this.radioGroup.selected=this)))}},{key:"labelPosition",get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(a){this._labelPosition=a}},{key:"disabled",get:function(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled},set:function(a){this._setDisabled((0,Pr.Ig)(a))}},{key:"required",get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(a){this._required=(0,Pr.Ig)(a)}},{key:"color",get:function(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"},set:function(a){this._color=a}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"focus",value:function(a,s){s?this._focusMonitor.focusVia(this._inputElement,s,a):this._inputElement.nativeElement.focus(a)}},{key:"_markForCheck",value:function(){this._changeDetector.markForCheck()}},{key:"ngOnInit",value:function(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}},{key:"ngDoCheck",value:function(){this._updateTabIndex()}},{key:"ngAfterViewInit",value:function(){var a=this;this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(s){!s&&a.radioGroup&&a.radioGroup._touch()})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}},{key:"_emitChangeEvent",value:function(){this.change.emit(new Je(this,this._value))}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onInputClick",value:function(a){a.stopPropagation()}},{key:"_onInputInteraction",value:function(a){if(a.stopPropagation(),!this.checked&&!this.disabled){var s=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),s&&this.radioGroup._emitChangeEvent())}}},{key:"_setDisabled",value:function(a){this._disabled!==a&&(this._disabled=a,this._changeDetector.markForCheck())}},{key:"_updateTabIndex",value:function(){var a,l,s=this.radioGroup;if((l=s&&s.selected&&!this.disabled?s.selected===this?this.tabIndex:-1:this.tabIndex)!==this._previousTabIndex){var c=null===(a=this._inputElement)||void 0===a?void 0:a.nativeElement;c&&(c.setAttribute("tabindex",l+""),this._previousTabIndex=l)}}}]),i}(Rt);return n.\u0275fac=function(t){e.$Z()},n.\u0275dir=e.lG2({type:n,viewQuery:function(t,i){var r;1&t&&e.Gf(P,5),2&t&&e.iGM(r=e.CRH())&&(i._inputElement=r.first)},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[e.qOj]}),n}(),$t=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c,u,h,x){return(0,I.Z)(this,i),t.call(this,r,a,s,l,c,u,h,x)}return(0,M.Z)(i)}(en);return n.\u0275fac=function(t){return new(t||n)(e.Y36(nt,8),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(R.tE),e.Y36(C.A8),e.Y36(e.QbO,8),e.Y36(he,8),e.$8M("tabindex"))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,i){1&t&&e.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&t&&(e.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[e.qOj],ngContentSelectors:ne,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,i){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1)(2,"span",2),e._UZ(3,"span",3)(4,"span",4),e.TgZ(5,"input",5,6),e.NdJ("change",function(s){return i._onInputInteraction(s)})("click",function(s){return i._onInputClick(s)}),e.qZA(),e.TgZ(7,"span",7),e._UZ(8,"span",8),e.qZA()(),e.TgZ(9,"span",9)(10,"span",10),e._uU(11,"\xa0"),e.qZA(),e.Hsn(12),e.qZA()()),2&t){var r=e.MAs(1);e.uIk("for",i.inputId),e.xp6(5),e.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),e.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),e.xp6(2),e.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(17,Z,i._noopAnimations?0:150)),e.xp6(2),e.ekj("mat-radio-label-before","before"==i.labelPosition)}},dependencies:[ei.wG],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),n}(),ui=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[ei.si,ei.BQ,ei.BQ]}),n}();function Bn(n,o){if(1&n&&(e.TgZ(0,"mat-radio-button",28),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const nr=function(){return{standalone:!0}};function ti(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"label",8),e._uU(3," Advanced People mobile app access "),e.qZA(),e.TgZ(4,"mat-radio-group",25),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedMobileAccessOption=r)}),e.YNc(5,Bn,2,2,"mat-radio-button",26),e.qZA()(),e.TgZ(6,"div",10),e._uU(7," \xa0"),e._UZ(8,"i",27),e._uU(9," \xa0"),e.TgZ(10,"span"),e._uU(11),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.selectedMobileAccessOption)("ngModelOptions",e.DdM(4,nr)),e.xp6(1),e.Q6J("ngForOf",t.appAccessOptions),e.xp6(6),e.Oqu(t.mobileAppAccessHelpText)}}function Li(n,o){1&n&&e._UZ(0,"hr",12)}function bn(n,o){if(1&n&&(e.TgZ(0,"ng-option",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}let cs=(()=>{class n{constructor(t,i,r,a,s,l,c){this.data=t,this._dialogRef=i,this._employeeService=r,this._userService=a,this._profileService=s,this.formBuilder=l,this._messageService=c,this.role="",this.totalNumberOfSelectedEmployeesOrUsers=0,this.isFormValid=!1,this.isSendSystemEmailOptionSelected=!1,this.isProfileOptionSelected=!1,this.currentEmployeeObject=new Us,this.currentUserObject=new Ua,this._ngUnsubscribe=new b.x,this.mailSentSuccessOrFaileCount=0,this.isAnyEmailFailedToSent=!1,this.isAnyEmailSuccessToSent=!1,this.sendAccessDetailMail=!1,this.SendSystemAccessOption="Send system access details",this.accessDetailOption="Send access details",this.temporaryPasswordAndAccessDetailOption="Set temporary password and send access details",this.mobileAppAccessHelpText="Send employees the pairing connection code and their existing Username/Password. For new accounts or password updates, use the set temporary password option.",this.appAccessOptions=[this.accessDetailOption,this.temporaryPasswordAndAccessDetailOption]}ngOnInit(){this.role=this.data,this.getActionForRole(),this.getProfile(),this.buildForm()}buildForm(){this.profileForm=this.formBuilder.group({profileSelect:[],systemAccessEmail:[]})}getActionForRole(){"Employee"==this.role&&(this._employeeService.selectedEmployeesId.subscribe(t=>{this.employeeIds=t}),this._employeeService.totalEmployees.subscribe(t=>this.totalNumberOfSelectedEmployeesOrUsers=t)),"User"==this.role&&(this._userService.selectedUsersId.subscribe(t=>{this.userIds=t}),this._userService.totalUsers.subscribe(t=>this.totalNumberOfSelectedEmployeesOrUsers=t))}getProfile(){this._profileService.getProfiles(this.role.toLowerCase(),1,100).subscribe(t=>{this.profileData=t.items})}saveChanges(){const t=this.profileForm.get("profileSelect").value;if(this.isNullOrUndefined(t)||("Employee"==this.role&&(this._dialogRef.close("saved"),this._employeeService.assginEmployeeProfile(this.employeeIds,t).subscribe(i=>{this._messageService.open(this.role+" Profiles has been assigned successfully.")},i=>{this._messageService.open(i)})),"User"==this.role&&(this._dialogRef.close("saved"),this._userService.assignProfileBulkUpdate(this.userIds,t).subscribe(i=>{this._messageService.open(this.role+" Profiles has been assigned successfully.")},i=>{this._messageService.open(i)}))),!this.isNullOrUndefined(this.selectSystemAccessOption)){if("Employee"==this.role)for(let i=0;i<this.employeeIds.length;i++)this.selectEmployeeAndSendEmail(this.employeeIds[i],!1);if("User"==this.role)for(let i=0;i<this.userIds.length;i++)this.selectUserAndSendEmail(this.userIds[i],!1)}if(!this.isNullOrUndefined(this.selectedMobileAccessOption)){if("Employee"==this.role)for(let i=0;i<this.employeeIds.length;i++)this.selectEmployeeAndSendEmail(this.employeeIds[i],!0);if("User"==this.role)for(let i=0;i<this.userIds.length;i++)this.selectUserAndSendEmail(this.userIds[i],!0)}this.isNullOrUndefined(t)&&this.isNullOrUndefined(this.selectedMobileAccessOption)&&this.isNullOrUndefined(this.selectSystemAccessOption)&&this._messageService.open(St.yw.fillForm)}selectEmployeeAndSendEmail(t,i){this.subscription=this._employeeService.getEmployee(t,"L").pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{this.currentEmployeeObject=r.employee,this.sendAccessEmail(i)})}selectUserAndSendEmail(t,i){this.subscription=this._userService.getUser(t,"L").pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{this.currentUserObject=r.user,this.sendAccessEmail(i)})}sendAccessEmail(t){"Employee"==this.role&&(this.userName=this.currentEmployeeObject.username),"User"==this.role&&(this.userName=this.currentUserObject.username),!this.isNullOrUndefined(this.selectedMobileAccessOption)&&this.selectedMobileAccessOption==this.accessDetailOption&&(this.sendAccessDetailMail=!0);const i=localStorage.getItem("id");this._employeeService.sendSystemAccessEmail(this.userName,!1,!0,this.sendAccessDetailMail,t,i,!0).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{this.mailSentSuccessOrFaileCount=this.mailSentSuccessOrFaileCount+1,this.isAnyEmailSuccessToSent=!0,"Employee"==this.role&&this.sendSnackbarMessageForEmployee(t),"User"==this.role&&this.sendSnackbarMessageForUser(t)},r=>{this.mailSentSuccessOrFaileCount=this.mailSentSuccessOrFaileCount+1,this.isAnyEmailFailedToSent=!0,"Employee"==this.role&&this.sendSnackbarMessageForEmployee(t),"User"==this.role&&this.sendSnackbarMessageForUser(t)}),this._dialogRef.close()}sendSnackbarMessageForEmployee(t){let i;i=t?"Advanced People":"System",this.mailSentSuccessOrFaileCount==this.employeeIds.length&&!this.isAnyEmailFailedToSent&&this._messageService.open(i+" access email sent successfully to all selected employees."),this.mailSentSuccessOrFaileCount==this.employeeIds.length&&this.isAnyEmailSuccessToSent&&this.isAnyEmailFailedToSent&&this._messageService.open(i+"  access email sent successfully to few employees and failed for rest of other employees. Please check the log file for more details."),this.mailSentSuccessOrFaileCount==this.employeeIds.length&&!this.isAnyEmailSuccessToSent&&this.isAnyEmailFailedToSent&&this._messageService.open(i+"  access email sent failed for all employees. Please check the log file for more details.")}sendSnackbarMessageForUser(t){let i;i=t?"Advanced People":"System",this.mailSentSuccessOrFaileCount==this.userIds.length&&!this.isAnyEmailFailedToSent&&this._messageService.open(i+"  access email sent successfully to all selected users."),this.mailSentSuccessOrFaileCount==this.userIds.length&&this.isAnyEmailSuccessToSent&&this.isAnyEmailFailedToSent&&this._messageService.open(i+"  access email sent successfully to few users and failed for rest of other users. Please check the log file for more details."),this.mailSentSuccessOrFaileCount==this.userIds.length&&!this.isAnyEmailSuccessToSent&&this.isAnyEmailFailedToSent&&this._messageService.open(i+"  access email sent failed for all users. Please check the log file for more details.")}onKeydownEscape(){this._dialogRef.close(),this._employeeService.getNumberOfSelectedEmployees(0),this._employeeService.selectedEmployeesId.next([])}isNullOrUndefined(t){return null==t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(Vr.n),e.Y36(jn),e.Y36(yr.H),e.Y36(_.qu),e.Y36(se.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-actions-dialog"]],hostBindings:function(t,i){1&t&&e.NdJ("keydown.escape",function(a){return i.onKeydownEscape(a)},!1,e.evT)},decls:44,vars:28,consts:[[1,"row","action-header"],[1,"row","action-body"],[1,"card_body","col-12"],["autocomplete","off",3,"formGroup"],["f","ngForm"],[1,"col-12","action-body-frame"],[1,"row","justify-content-start","mt-3"],[1,"col-md-8","input-field"],[1,"form-label","action-body-label-font"],["color","primary","aria-labelledby","option-radio-group-label",1,"option-radio-group",3,"ngModel","ngModelOptions","value","ngModelChange"],[1,"col-md-12","code-help-text"],["aria-hidden","true",1,"fa","fa-question-circle-o","system-text"],[1,"eSolveHr"],["class","row justify-content-start mt-3",4,"ngIf"],["class","eSolveHr",4,"ngIf"],[1,"row","justify-content-start","mt-3","mb-3"],["id","profileSelect","formControlName","profileSelect","placeholder","Select profile name","dropdownPosition","bottom",1,"action-body-profile-select","eSolve-font-size","constraintTypeMaxHeight",3,"clearSearchOnAdd","hideSelected","virtualScroll"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12","code-help-text","mt-1"],["aria-hidden","true",1,"fa","fa-question-circle-o"],[1,"row","cancel-position-right"],[1,"d-flex","justify-content-between","col-sm-3","col-md-2","col-lg-2"],["id","action-cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"mat-dialog-close"],[1,"d-flex","justify-content-between","col-sm-5","col-md-4","col-lg-4"],["id","action-saveChanges-button",1,"eSolve-button","eSolve-blue-button",3,"click"],["aria-labelledby","option-radio-group-label",1,"option-radio-group",3,"ngModel","ngModelOptions","ngModelChange"],["class","option-radio-button",3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fa","fa-question-circle-o","question-icon"],[1,"option-radio-button",3,"value"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"b"),e._uU(2),e.ALo(3,"lowercase"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"form",3,4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),e._uU(12," System access "),e.qZA(),e.TgZ(13,"mat-checkbox",9),e.NdJ("ngModelChange",function(a){return i.selectSystemAccessOption=a}),e._uU(14),e.qZA()(),e.TgZ(15,"div",10),e._uU(16," \xa0"),e._UZ(17,"i",11),e.TgZ(18,"span"),e._uU(19),e.ALo(20,"lowercase"),e.qZA()()(),e._UZ(21,"hr",12),e.YNc(22,ti,12,5,"div",13),e.YNc(23,Li,1,0,"hr",14),e.TgZ(24,"div",15)(25,"div",7)(26,"label",8),e._uU(27),e.qZA(),e.TgZ(28,"ng-select",16),e.YNc(29,bn,2,2,"ng-option",17),e.qZA()(),e.TgZ(30,"div",18),e._uU(31," \xa0"),e._UZ(32,"i",19),e.TgZ(33,"span"),e._uU(34),e.ALo(35,"lowercase"),e.qZA()()()(),e.TgZ(36,"div",20)(37,"div",21)(38,"button",22),e._uU(39," Cancel "),e.qZA()(),e.TgZ(40,"div",23)(41,"button",24),e.NdJ("click",function(){return i.saveChanges()}),e._uU(42),e.ALo(43,"lowercase"),e.qZA()()()()()()),2&t&&(e.xp6(2),e.AsE("Bulk update ",i.totalNumberOfSelectedEmployeesOrUsers," ",e.lcZ(3,19,i.role),"s"),e.xp6(4),e.Q6J("formGroup",i.profileForm),e.xp6(7),e.Q6J("ngModel",i.selectSystemAccessOption)("ngModelOptions",e.DdM(27,nr))("value",i.SendSystemAccessOption),e.xp6(1),e.hij(" ",i.SendSystemAccessOption," "),e.xp6(5),e.hij("Send ",e.lcZ(20,21,i.role),"s the application link and login details."),e.xp6(3),e.Q6J("ngIf","Employee"==i.role),e.xp6(1),e.Q6J("ngIf","Employee"==i.role),e.xp6(4),e.hij(" ",i.role," profile "),e.xp6(1),e.Q6J("clearSearchOnAdd",!0)("hideSelected",!0)("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",i.profileData),e.xp6(5),e.hij("Existing profile will be overwritten for the selected ",e.lcZ(35,23,i.role),"s."),e.xp6(4),e.Q6J("mat-dialog-close",!1),e.xp6(4),e.AsE(" Update ",i.totalNumberOfSelectedEmployeesOrUsers," ",e.lcZ(43,25,i.role),"s "))},dependencies:[D.sg,D.O5,Zi.oG,z.ZT,_._Y,_.JJ,_.JL,_.On,_.sg,_.u,Tt,$t,Sn,tr,D.i8],styles:[".eSolve-button[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px}.cancel-position-right[_ngcontent-%COMP%]{-ms-flex-pack:right;justify-content:right;padding-top:20px}.action-header[_ngcontent-%COMP%]{text-align:center;padding-bottom:15px;padding-left:22px}.action-body[_ngcontent-%COMP%]{padding-left:7px;padding-right:7px;padding-bottom:5px}.action-body-frame[_ngcontent-%COMP%]{background-color:#f7f7f9;border:3px solid #f0f0f3;border-radius:4px}.form-input-style[_ngcontent-%COMP%]{background-color:#fff;width:200px}.textOption[_ngcontent-%COMP%]:hover{color:var(--eSolve-red);cursor:pointer}.action-body-label-font[_ngcontent-%COMP%]{font-size:13px}.action-body-profile-select[_ngcontent-%COMP%]{width:200px!important}.option-radio-group[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start}.option-radio-button[_ngcontent-%COMP%]{margin:3px 0 0}.input-field[_ngcontent-%COMP%]{font-size:12px;padding-left:20px}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:var(--eSolve-blue)}  .mat-radio-button.mat-accent .mat-radio-inner-circle{color:var(--eSolve-blue);background-color:var(--eSolve-blue)}  .mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:var(--eSolve-blue)}.code-help-text[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:.25rem;margin-block:2px 0;color:#666679;font-size:11px;white-space:normal;white-space:initial}.fa-question-circle-o[_ngcontent-%COMP%]{font-size:12px!important}.question-icon[_ngcontent-%COMP%]{position:inherit;right:-4px;top:-9px}.system-text[_ngcontent-%COMP%]{position:inherit;top:-2px}"]}),n})();const Ji=["employeeSelect"],Qi=["filterEmployees"];function Ui(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Ta(n,o){1&n&&e.YNc(0,Ui,5,1,"div",22),2&n&&e.Q6J("ngForOf",o.items)}function Er(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Ys(n,o){1&n&&e.YNc(0,Er,5,1,"div",22),2&n&&e.Q6J("ngForOf",o.items)}function Gr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function ra(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1,"Departments:"),e.qZA(),e.YNc(2,Gr,5,1,"div",22)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function Fo(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"ng-select",25,26),e.YNc(3,ra,3,1,"ng-template",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.departments)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function zi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function wc(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1,"Divisions:"),e.qZA(),e.YNc(2,zi,5,1,"div",22)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function ja(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"ng-select",28,29),e.YNc(3,wc,3,1,"ng-template",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.divisions)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function kl(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function ni(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1,"Classes:"),e.qZA(),e.YNc(2,kl,5,1,"div",22)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function Ya(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"ng-select",30,31),e.YNc(3,ni,3,1,"ng-template",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.classes)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function Dc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function qr(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1,"Cost Codes:"),e.qZA(),e.YNc(2,Dc,5,1,"div",22)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function Sc(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"ng-select",32,33),e.YNc(3,qr,3,1,"ng-template",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.costCodes)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function wa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function fu(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1,"Genders:"),e.qZA(),e.YNc(2,wa,5,1,"div",22)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function Cd(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"ng-select",34,35),e.YNc(3,fu,3,1,"ng-template",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.genders)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function jp(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function Yp(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1,"Job Types:"),e.qZA(),e.YNc(2,jp,5,1,"div",22)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function qp(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"ng-select",36,37),e.YNc(3,Yp,3,1,"ng-template",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.jobTypes)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function Al(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function hu(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1,"Locations:"),e.qZA(),e.YNc(2,Al,5,1,"div",22)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function ds(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"ng-select",38,39),e.YNc(3,hu,3,1,"ng-template",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.locations)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function Jp(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function Ml(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1,"Managers:"),e.qZA(),e.YNc(2,Jp,5,1,"div",22)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function Td(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"ng-select",40,41),e.YNc(3,Ml,3,1,"ng-template",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.managers)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function kc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function Jr(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1,"Profiles:"),e.qZA(),e.YNc(2,kc,5,1,"div",22)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function uo(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"ng-select",42,43),e.YNc(3,Jr,3,1,"ng-template",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.profiles)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function wd(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function mu(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1,"Skill Codes:"),e.qZA(),e.YNc(2,wd,5,1,"div",22)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function gu(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"ng-select",44,45),e.YNc(3,mu,3,1,"ng-template",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.skillcodes)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function qs(n,o){if(1&n&&(e.TgZ(0,"div",6)(1,"div",46)(2,"label",8),e._uU(3),e.qZA(),e._UZ(4,"i",47),e.TgZ(5,"label",48),e._uU(6),e.qZA()()()),2&n){const t=e.oxw(2);e.Q6J("hidden",!t.isOnDetails),e.xp6(3),e.hij(" ",t.pageTitle," "),e.xp6(3),e.hij(" ",t.pageSubtitle," ")}}function Vn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",5)(1,"div",6)(2,"div",7)(3,"label",8),e._uU(4," Manage Employees "),e.qZA()(),e.TgZ(5,"div",9)(6,"ng-select",10,11),e.ALo(8,"async"),e.YNc(9,Ta,1,1,"ng-template",12),e.qZA()(),e.TgZ(10,"div",13)(11,"ng-select",14,15),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onFilterSelected(r))}),e.YNc(13,Ys,1,1,"ng-template",12),e.qZA()(),e.TgZ(14,"div",16)(15,"button",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openActionsDialog())}),e._UZ(16,"i",18),e.TgZ(17,"span",19),e._uU(18),e.qZA()()(),e.YNc(19,Fo,4,6,"div",20),e.YNc(20,ja,4,6,"div",20),e.YNc(21,Ya,4,6,"div",20),e.YNc(22,Sc,4,6,"div",20),e.YNc(23,Cd,4,6,"div",20),e.YNc(24,qp,4,6,"div",20),e.YNc(25,ds,4,6,"div",20),e.YNc(26,Td,4,6,"div",20),e.YNc(27,uo,4,6,"div",20),e.YNc(28,gu,4,6,"div",20),e.qZA(),e.YNc(29,qs,7,3,"div",21),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.employeeFilterForm),e.xp6(1),e.Q6J("hidden",t.isOnDetails),e.xp6(5),e.Q6J("items",e.lcZ(8,27,t.employees))("multiple",!0)("hideSelected",!0)("typeahead",t.employeeSearchInput)("minTermLength",2),e.xp6(5),e.Q6J("items",t.filters)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0),e.xp6(4),e.Q6J("disabled",!t.enableEditEmployeeButton)("hidden",t.hideEditEmployeeButton),e.xp6(3),e.hij(" \xa0\xa0Edit ",t.totalNumberOfSelectedEmployees," Employees "),e.xp6(1),e.Q6J("ngIf",t.filterEmpDepartments.is),e.xp6(1),e.Q6J("ngIf",t.filterEmpDivisions.is),e.xp6(1),e.Q6J("ngIf",t.filterEmpClasses.is),e.xp6(1),e.Q6J("ngIf",t.filterEmpCostCodes.is),e.xp6(1),e.Q6J("ngIf",t.filterEmpGenders.is),e.xp6(1),e.Q6J("ngIf",t.filterEmpJobTypes.is),e.xp6(1),e.Q6J("ngIf",t.filterEmpLocations.is),e.xp6(1),e.Q6J("ngIf",t.filterEmpManagers.is),e.xp6(1),e.Q6J("ngIf",t.filterEmpProfiles.is),e.xp6(1),e.Q6J("ngIf",t.filterEmpSkillcodes.is),e.xp6(1),e.Q6J("ngIf",!t.hideEditEmployeeButton)}}function Js(n,o){1&n&&e._UZ(0,"hr",49)}let ko=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this._titleService=t,this._router=i,this._employeeService=r,this.renderer=a,this._userRole=s,this._zone=l,this._ref=c,this.dialog=u,this.pageTitle="Manage Employees",this.pageSubtitle="Employee Details",this.isOnDetails=!1,this.employeeSearchInput=new b.x,this.filterEmpDepartments={is:!1,was:!1},this.filterEmpDivisions={is:!1,was:!1},this.filterEmpClasses={is:!1,was:!1},this.filterEmpCostCodes={is:!1,was:!1},this.filterEmpGenders={is:!1,was:!1},this.filterEmpJobTypes={is:!1,was:!1},this.filterEmpLocations={is:!1,was:!1},this.filterEmpManagers={is:!1,was:!1},this.filterEmpProfiles={is:!1,was:!1},this.filterEmpSkillcodes={is:!1,was:!1},this.departments=new N.by,this.divisions=new N.by,this.classes=new N.by,this.costCodes=new N.by,this.genders=new N.by,this.jobTypes=new N.by,this.locations=new N.by,this.managers=new N.by,this.profiles=new N.by,this.skillcodes=new N.by,this.enableEditEmployeeButton=!1,this.totalNumberOfSelectedEmployees=0,this.hideEditEmployeeButton=!1,i.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&l.run(()=>this._ref.detectChanges())})}set content(t){this.employeeSelect=t}set content2(t){this.filterEmployees=t}_createIconElement(t,i,r){const a=this.renderer.createElement("i");return this.renderer.addClass(a,"fa"),this.renderer.addClass(a,t),this.renderer.setStyle(a,i,r),this.renderer.setStyle(a,"color","gray"),a}ngAfterViewInit(){fr(this.employeeSelect.element.children[0].children[1]).remove(),fr(this.employeeSelect.element.children[0]).append(this._createIconElement("fa-search","padding-right","6px")),fr(this.filterEmployees.element.children[0]).prepend(this._createIconElement("fa-filter","padding-left","6px"))}ngOnInit(){this.getRole(),this._titleService.sendTitle(this.pageTitle),this._employeeService.totalEmployees.subscribe(t=>this.totalNumberOfSelectedEmployees=t),this._employeeService.enableEditEmployeeButton.subscribe(t=>this.enableEditEmployeeButton=t),this.employeeFilterForm=new _.cw({EmployeesIds:new _.NI([]),filters:new _.NI([]),DepartmentsIds:new _.NI([]),DivisionsIds:new _.NI([]),ClassesIds:new _.NI([]),CostCodesIds:new _.NI([]),GendersIds:new _.NI([]),JobTypesIds:new _.NI([]),LocationsIds:new _.NI([]),ManagersIds:new _.NI([]),ProfilesIds:new _.NI([]),SkillCodesIds:new _.NI([])}),this._router.navigateByUrl("/manage-employees/table"),this.getFilterList(),this.subscription=this._employeeService.isOnDetails.subscribe(t=>{setTimeout(()=>{this.isOnDetails=t},0)}),this.subscription.add(this.employeeFilterForm.valueChanges.subscribe(t=>{this.resetFilterSelectors(t),this._employeeService.paginationData.next(t)})),this.employees=(0,Yr.z)((0,gn.of)([]),this.employeeSearchInput.pipe((0,Gi.x)(),(0,j.w)(t=>this._employeeService.searchEmployeesAndSkillsForFilter(t,"ManageEmployee","Employee").pipe((0,Wi.K)(()=>(0,gn.of)([])))))),this.getRole()}getRole(){this._userRole.loggedUserRole.subscribe(t=>{this.role=t,"Employee"==this.role&&(this.pageTitle="Profile",this.hideEditEmployeeButton=!0)})}resetFilterCurrentStatus(){this.filterEmpDepartments.is=!1,this.filterEmpDivisions.is=!1,this.filterEmpClasses.is=!1,this.filterEmpCostCodes.is=!1,this.filterEmpGenders.is=!1,this.filterEmpJobTypes.is=!1,this.filterEmpLocations.is=!1,this.filterEmpManagers.is=!1,this.filterEmpProfiles.is=!1,this.filterEmpSkillcodes.is=!1}resetFilterStatus(){this.resetFilterCurrentStatus(),this.filterEmpDepartments.was=!1,this.filterEmpDivisions.was=!1,this.filterEmpClasses.was=!1,this.filterEmpCostCodes.was=!1,this.filterEmpGenders.was=!1,this.filterEmpJobTypes.was=!1,this.filterEmpLocations.was=!1,this.filterEmpManagers.was=!1,this.filterEmpProfiles.was=!1,this.filterEmpSkillcodes.was=!1}syncFilterStatus(){this.filterEmpDepartments.was=this.filterEmpDepartments.is,this.filterEmpDivisions.was=this.filterEmpDivisions.is,this.filterEmpClasses.was=this.filterEmpClasses.is,this.filterEmpCostCodes.was=this.filterEmpCostCodes.is,this.filterEmpGenders.was=this.filterEmpGenders.is,this.filterEmpJobTypes.was=this.filterEmpJobTypes.is,this.filterEmpLocations.was=this.filterEmpLocations.is,this.filterEmpManagers.was=this.filterEmpManagers.is,this.filterEmpProfiles.was=this.filterEmpProfiles.is,this.filterEmpSkillcodes.was=this.filterEmpSkillcodes.is}resetFilterSelectors(t){0===t.filters.length?(t.DepartmentsIds.length=0,t.DivisionsIds.length=0,t.ClassesIds.length=0,t.CostCodesIds.length=0,t.GendersIds.length=0,t.JobTypesIds.length=0,t.LocationsIds.length=0,t.ManagersIds.length=0,t.ProfilesIds.length=0,t.SkillCodesIds.length=0,this.resetFilterStatus()):(t.filters.includes(1)||(t.DepartmentsIds.length=0),t.filters.includes(2)||(t.DivisionsIds.length=0),t.filters.includes(3)||(t.ClassesIds.length=0),t.filters.includes(4)||(t.CostCodesIds.length=0),t.filters.includes(5)||(t.GendersIds.length=0),t.filters.includes(6)||(t.JobTypesIds.length=0),t.filters.includes(7)||(t.LocationsIds.length=0),t.filters.includes(8)||(t.ManagersIds.length=0),t.filters.includes(9)||(t.ProfilesIds.length=0),t.filters.includes(10)||(t.SkillCodesIds.length=0))}getFilterList(){this.filters=[{id:1,name:"Department"},{id:2,name:"Division"},{id:3,name:"Class"},{id:4,name:"Cost Code"},{id:5,name:"Gender"},{id:6,name:"Job Type"},{id:7,name:"Location"},{id:8,name:"Manager"},{id:9,name:"Profile"},{id:10,name:"Skill"}]}onFilterSelected(t){this.resetFilterCurrentStatus();for(let i=0;i<t.length;i++)switch(t[i].id){case 1:this.filterEmpDepartments.is=!0,!1===this.filterEmpDepartments.was&&this._employeeService.getEmployeeFilters("departments").subscribe(r=>{this.departments=r.items});break;case 2:this.filterEmpDivisions.is=!0,!1===this.filterEmpDivisions.was&&this._employeeService.getEmployeeFilters("divisions").subscribe(r=>{this.divisions=r.items});break;case 3:this.filterEmpClasses.is=!0,!1===this.filterEmpClasses.was&&this._employeeService.getEmployeeFilters("classes").subscribe(r=>{this.classes=r.items});break;case 4:this.filterEmpCostCodes.is=!0,!1===this.filterEmpCostCodes.was&&this._employeeService.getEmployeeFilters("costCodes").subscribe(r=>{this.costCodes=r.items});break;case 5:this.filterEmpGenders.is=!0,!1===this.filterEmpGenders.was&&this._employeeService.getEmployeeFilters("genders").subscribe(r=>{this.genders=r.items});break;case 6:this.filterEmpJobTypes.is=!0,!1===this.filterEmpJobTypes.was&&this._employeeService.getEmployeeFilters("jobTypes").subscribe(r=>{this.jobTypes=r.items});break;case 7:this.filterEmpLocations.is=!0,!1===this.filterEmpLocations.was&&this._employeeService.getEmployeeFilters("locations").subscribe(r=>{this.locations=r.items});break;case 8:this.filterEmpManagers.is=!0,!1===this.filterEmpManagers.was&&this._employeeService.getEmployeeFilters("managers").subscribe(r=>{this.managers=r.items});break;case 9:this.filterEmpProfiles.is=!0,!1===this.filterEmpProfiles.was&&this._employeeService.getEmployeeFilters("profiles").subscribe(r=>{this.profiles=r.items});break;case 10:this.filterEmpSkillcodes.is=!0,!1===this.filterEmpSkillcodes.was&&this._employeeService.getEmployeeFilters("skillcodes").subscribe(r=>{this.skillcodes=r.items})}this.syncFilterStatus()}addNewEmployee(){this._router.navigateByUrl("/manage-employees/details",{state:{id:0}})}openActionsDialog(){this.dialogRef=this.dialog.open(cs,{data:"Employee",autoFocus:!1,disableClose:!0,width:"650px",panelClass:["max-height96"]}),this.dialogRef.afterClosed().subscribe(t=>{this._employeeService.getNumberOfSelectedEmployees(this.totalNumberOfSelectedEmployees),t&&"saved"===t&&this._employeeService.assignProfile.next(!0)})}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(q.F0),e.Y36(Vr.n),e.Y36(e.Qsj),e.Y36(qi.J),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(z.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manage-employees"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Ji,5),e.Gf(Qi,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.content=r.first),e.iGM(r=e.CRH())&&(i.content2=r.first)}},decls:6,vars:2,consts:[[1,"container-fluid","manage-employees"],[1,"card"],[1,"card-body"],[3,"formGroup",4,"ngIf"],["class","blue_hr",4,"ngIf"],[3,"formGroup"],[1,"row","searchBarRow",3,"hidden"],[1,"col-xl-2","col-md-3","col-12"],[1,"page-title","page-title-color"],[1,"col-md-3","col-12"],["id","empSearchInput","bindLabel","name","bindValue","id","placeholder","Find Employee","formControlName","EmployeesIds","typeToSearchText","Enter at least two characters",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","multiple","hideSelected","typeahead","minTermLength"],["employeeSelect",""],["ng-multi-label-tmp",""],[1,"col-md-3","col-12","employee-skill-select"],["bindLabel","name","bindValue","id","placeholder","Filter Employees","formControlName","filters",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd","change"],["filterEmployees",""],[1,"col-xl-2","col-md-3","col-12","d-flex","justify-content-end"],["id","manage_empl_btn_edit_for_empl",1,"esolve-manage-empl-button",3,"disabled","hidden","click"],[1,"fa","fa-edit"],[1,"ng-value-label"],["class","col-md-3 col-12",4,"ngIf"],["class","row searchBarRow",3,"hidden",4,"ngIf"],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["bindLabel","value","bindValue","id","placeholder","Departments","formControlName","DepartmentsIds",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["departmentSelect",""],[1,"filterTitle"],["bindLabel","value","bindValue","id","placeholder","Divisions","formControlName","DivisionsIds",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["divisionSelect",""],["bindLabel","value","bindValue","id","placeholder","Classes","formControlName","ClassesIds",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["classSelect",""],["bindLabel","value","bindValue","id","placeholder","Cost Codes","formControlName","CostCodesIds",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["costCodeSelect",""],["bindLabel","value","bindValue","id","placeholder","Genders","formControlName","GendersIds",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["genderSelect",""],["bindLabel","value","bindValue","id","placeholder","Job Types","formControlName","JobTypesIds",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["jobTypeSelect",""],["bindLabel","value","bindValue","id","placeholder","Locations","formControlName","LocationsIds",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["locationSelect",""],["bindLabel","value","bindValue","id","placeholder","Managers","formControlName","ManagersIds",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["managerSelect",""],["bindLabel","value","bindValue","id","placeholder","Profiles","formControlName","ProfilesIds",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["profileSelect",""],["bindLabel","value","bindValue","id","placeholder","Skill Codes","formControlName","SkillCodesIds",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["skillCodeSelect",""],[1,"col-md-4","col-12"],[1,"fa","fa-chevron-right","esolve-emp-details-title"],[1,"esolve-blue","page-title"],[1,"blue_hr"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,Vn,30,29,"form",3),e.YNc(4,Js,1,0,"hr",4),e._UZ(5,"router-outlet"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.employeeFilterForm),e.xp6(1),e.Q6J("ngIf",!i.hideEditEmployeeButton))},dependencies:[D.sg,D.O5,q.lC,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,D.Ov],styles:[".container-fluid.manage-employees[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%}.backdropBackground[_ngcontent-%COMP%]{background:rgba(0,0,0,.5)!important}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:17px;margin-left:0;min-width:150px}.page-title-color[_ngcontent-%COMP%]{color:gray}#pageBodyLower[_ngcontent-%COMP%]{margin:0 11px}.card-title[_ngcontent-%COMP%]{margin:0 10px 19px 27px}.card[_ngcontent-%COMP%]{border:1px solid #e1e6ec!important}#employeePanel[_ngcontent-%COMP%]{padding:16px;min-height:100%;height:100%;box-sizing:border-box;overflow:auto}.submit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%], .toggle-button[_ngcontent-%COMP%]{margin-bottom:10px;min-width:88px;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.column-fix[_ngcontent-%COMP%]{width:100%;max-width:100%!important;height:auto!important}#addEmployeeButton[_ngcontent-%COMP%]{color:#fff;background-color:var(--eSolve-primary);margin-left:10px!important}.mat-raised-button[_ngcontent-%COMP%]{line-height:12px!important}@media (max-width: 1024px){.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{height:40px;padding:10px 10px 0 18px;margin:6px 0;width:100%;max-width:100%;border-radius:4px;font-size:14px;text-align:center;text-decoration:none;border:none;outline:none;background-color:#eff3f7;color:var(--eSolve-gray-dark);box-shadow:0 2px 5px #00000042;display:inline-block}}@media (max-width: 1200px) and (min-width: 768px){.esolve-manage-empl-button[_ngcontent-%COMP%]{margin-bottom:5px}}@media (max-width: 767px){#emplTableFilter[_ngcontent-%COMP%]{width:100%}mat-divider[_ngcontent-%COMP%]{padding-left:0;padding-right:0;display:none}.esolve-manage-empl-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;width:100%!important}}.searchBarRow[_ngcontent-%COMP%]{margin-bottom:-15px;padding-right:2.5%}.page[_ngcontent-%COMP%]{margin:0}.divider[_ngcontent-%COMP%]{margin-top:1vh;width:96%!important}.padding_bottom[_ngcontent-%COMP%]{padding-bottom:20px}.filterTitle[_ngcontent-%COMP%]{font-size:12px;color:gray;margin-left:3px;margin-right:5px}.esolve-emp-details-title[_ngcontent-%COMP%]{padding-top:5px;padding-left:10px;padding-right:10px}.blue_hr[_ngcontent-%COMP%]{margin-left:0;margin-right:2%}.col-spacing[_ngcontent-%COMP%]{padding-bottom:0%;margin-right:10px;margin-left:8px}@media only screen and (max-width: 1000px),(min-device-width: 600px) and (max-device-width: 1000px){.esolve-manage-empl-button[_ngcontent-%COMP%]{width:100%}.col-spacing[_ngcontent-%COMP%]{padding-bottom:3%;width:100%;margin-left:5px;margin-right:10px}}@media (max-width: 767px){.employee-skill-select[_ngcontent-%COMP%], .add-employee-button[_ngcontent-%COMP%]{margin-top:5px}}@media only screen and (max-width: 600px),(min-device-width: 320px) and (max-device-width: 600px){.esolve-manage-empl-button[_ngcontent-%COMP%]{width:100%}.col-spacing[_ngcontent-%COMP%]{padding-bottom:3%;width:100%}mat-divider[_ngcontent-%COMP%]{padding-left:0;padding-right:0;display:none}}.esolve-manage-empl-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;height:28px;padding:0 10px!important;box-shadow:0 2px 5px #00000042;min-width:140px;display:-ms-flexbox;display:flex;-ms-flex:1 1;flex:1 1;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.esolve-none[_ngcontent-%COMP%]{display:none}"]}),n})();var Ir=J(68264),Ol=J(84506),Ac=J(35724);function Dd(n){var o;for(var t in n){var i=null!==(o=n[t])&&void 0!==o?o:"";switch(t){case"display":n.display="flex"===i?["-webkit-flex","flex"]:"inline-flex"===i?["-webkit-inline-flex","inline-flex"]:i;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=i;break;case"flex-direction":n["-webkit-flex-direction"]=i,n["flex-direction"]=i;break;case"order":n.order=n["-webkit-"+t]=isNaN(+i)?"0":i}}return n}var us="inline",$e=["row","column","row-reverse","column-reverse"];function _t(n){var o=ft(n),t=(0,ee.Z)(o,3);return function zn(n){return{display:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||null}}(t[0],t[1],t[2])}function ft(n){var o,t=(n=null!==(o=null==n?void 0:n.toLowerCase())&&void 0!==o?o:"").split(" "),i=(0,ee.Z)(t,3),r=i[0],a=i[1],s=i[2];return $e.find(function(l){return l===r})||(r=$e[0]),a===us&&(a=s!==us?s:"",s=us),[r,Tn(a),!!s]}function Vt(n){var o=ft(n);return(0,ee.Z)(o,1)[0].indexOf("row")>-1}function Tn(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function vi(n){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(var o=arguments.length,t=new Array(o>1?o-1:0),i=1;i<o;i++)t[i-1]=arguments[i];for(var r=0,a=t;r<a.length;r++){var s=a[r];if(null!=s)for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])}return n}var ps={provide:e.tb,useFactory:function Di(n,o){return function(){if((0,D.NF)(o)){var t=Array.from(n.querySelectorAll("[class*=".concat(Pl,"]"))),i=/\bflex-layout-.+?\b/g;t.forEach(function(r){r.classList.contains("".concat(Pl,"ssr"))&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[D.K0,e.Lbi],multi:!0},Pl="flex-layout-",Nr=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ps]}),n}(),oa=function(){function n(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;(0,I.Z)(this,n),this.matches=o,this.mediaQuery=t,this.mqAlias=i,this.suffix=r,this.priority=a,this.property=""}return(0,M.Z)(n,[{key:"clone",value:function(){return new n(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}]),n}(),qe=function(){var n=function(){function o(){(0,I.Z)(this,o),this.stylesheet=new Map}return(0,M.Z)(o,[{key:"addStyleToElement",value:function(i,r,a){var s=this.stylesheet.get(i);s?s.set(r,a):this.stylesheet.set(i,new Map([[r,a]]))}},{key:"clearStyles",value:function(){this.stylesheet.clear()}},{key:"getStyleForElement",value:function(i,r){var a=this.stylesheet.get(i),s="";if(a){var l=a.get(r);("number"==typeof l||"string"==typeof l)&&(s=l+"")}return s}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),Ee={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},He=new e.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:function(){return Ee}}),ct=new e.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:function(){return!1}}),Qe=new e.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:function(){return null}});function bt(n,o){var t;return n=null!==(t=null==n?void 0:n.clone())&&void 0!==t?t:new oa,o&&(n.mqAlias=o.alias,n.mediaQuery=o.mediaQuery,n.suffix=o.suffix,n.priority=o.priority),n}var yt=function(){function n(){(0,I.Z)(this,n),this.shouldCache=!0}return(0,M.Z)(n,[{key:"sideEffect",value:function(t,i,r){}}]),n}(),kt=function(){var n=function(){function o(t,i,r,a){(0,I.Z)(this,o),this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=a}return(0,M.Z)(o,[{key:"applyStyleToElement",value:function(i,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={};"string"==typeof r&&(s[r]=a,r=s),s=this.layoutConfig.disableVendorPrefixes?r:Dd(r),this._applyMultiValueStyleToElement(s,i)}},{key:"applyStyleToElements",value:function(i){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=this.layoutConfig.disableVendorPrefixes?i:Dd(i);a.forEach(function(l){r._applyMultiValueStyleToElement(s,l)})}},{key:"getFlowDirection",value:function(i){var r="flex-direction",a=this.lookupStyle(i,r);return[a||"row",this.lookupInlineStyle(i,r)||(0,D.PM)(this._platformId)&&this._serverModuleLoaded?a:""]}},{key:"hasWrap",value:function(i){return"wrap"===this.lookupStyle(i,"flex-wrap")}},{key:"lookupAttributeValue",value:function(i,r){var a;return null!==(a=i.getAttribute(r))&&void 0!==a?a:""}},{key:"lookupInlineStyle",value:function(i,r){return(0,D.NF)(this._platformId)?i.style.getPropertyValue(r):function Wt(n,o){var t;return null!==(t=pn(n)[o])&&void 0!==t?t:""}(i,r)}},{key:"lookupStyle",value:function(i,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s="";if(i){var l=s=this.lookupInlineStyle(i,r);l||((0,D.NF)(this._platformId)?a||(s=getComputedStyle(i).getPropertyValue(r)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(i,r)))}return s?s.trim():""}},{key:"_applyMultiValueStyleToElement",value:function(i,r){var a=this;Object.keys(i).sort().forEach(function(s){var l=i[s],c=Array.isArray(l)?l:[l];c.sort();var h,u=(0,te.Z)(c);try{for(u.s();!(h=u.n()).done;){var x=h.value;x=x?x+"":"",(0,D.NF)(a._platformId)||!a._serverModuleLoaded?(0,D.NF)(a._platformId)?r.style.setProperty(s,x):Xt(r,s,x):a._serverStylesheet.addStyleToElement(r,s,x)}}catch(T){u.e(T)}finally{u.f()}})}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(qe),e.LFG(ct),e.LFG(e.Lbi),e.LFG(He))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}();function Xt(n,o,t){o=o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var i=pn(n);i[o]=null!=t?t:"",function yn(n,o){var t="";for(var i in o)o[i]&&(t+="".concat(i,":").concat(o[i],";"));n.setAttribute("style",t)}(n,i)}function pn(n){var o={},t=n.getAttribute("style");if(t)for(var i=t.split(/;+/g),r=0;r<i.length;r++){var a=i[r].trim();if(a.length>0){var s=a.indexOf(":");if(-1===s)throw new Error("Invalid CSS style: ".concat(a));o[a.substr(0,s).trim()]=a.substr(s+1).trim()}}return o}function hn(n,o){return(o&&o.priority||0)-(n&&n.priority||0)}function xi(n,o){return(n.priority||0)-(o.priority||0)}var bi=function(){var n=function(){function o(t,i,r){(0,I.Z)(this,o),this._zone=t,this._platformId=i,this._document=r,this.source=new _i.X(new oa(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}return(0,M.Z)(o,[{key:"activations",get:function(){var i=[];return this.registry.forEach(function(r,a){r.matches&&i.push(a)}),i}},{key:"isActive",value:function(i){var r,a=this.registry.get(i);return null!==(r=null==a?void 0:a.matches)&&void 0!==r?r:this.registerQuery(i).some(function(s){return s.matches})}},{key:"observe",value:function(i){var r=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i&&i.length){var s=this._observable$.pipe((0,le.h)(function(c){return!a||i.indexOf(c.mediaQuery)>-1})),l=new A.y(function(c){var u=r.registerQuery(i);if(u.length){var h=u.pop();u.forEach(function(x){c.next(x)}),r.source.next(h)}c.complete()});return(0,ie.T)(l,s)}return this._observable$}},{key:"registerQuery",value:function(i){var r=this,a=Array.isArray(i)?i:[i],s=[];return function ir(n,o){var t=n.filter(function(s){return!xn[s]});if(t.length>0){var i=t.join(", ");try{var r=o.createElement("style");if(r.setAttribute("type","text/css"),!r.styleSheet){var a="\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ".concat(i," {.fx-query-test{ }}\n");r.appendChild(o.createTextNode(a))}o.head.appendChild(r),t.forEach(function(s){return xn[s]=r})}catch(s){console.error(s)}}}(a,this._document),a.forEach(function(l){var c=function(x){r._zone.run(function(){return r.source.next(new oa(x.matches,l))})},u=r.registry.get(l);u||((u=r.buildMQL(l)).addListener(c),r.pendingRemoveListenerFns.push(function(){return u.removeListener(c)}),r.registry.set(l,u)),u.matches&&s.push(new oa(!0,l))}),s}},{key:"ngOnDestroy",value:function(){for(var i;i=this.pendingRemoveListenerFns.pop();)i()}},{key:"buildMQL",value:function(i){return function Si(n,o){return o&&window.matchMedia("all").addListener?window.matchMedia(n):function sr(n){var o=new EventTarget;return o.matches="all"===n||""===n,o.media=n,o.addListener=function(){},o.removeListener=function(){},o.addEventListener=function(){},o.dispatchEvent=function(){return!1},o.onchange=null,o}(n)}(i,(0,D.NF)(this._platformId))}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b),e.LFG(e.Lbi),e.LFG(D.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),xn={},aa=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Zo="(orientation: portrait) and (max-width: 599.98px)",po="(orientation: landscape) and (max-width: 959.98px)",xr="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Hp="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Bp="(orientation: portrait) and (min-width: 840px)",Xh="(orientation: landscape) and (min-width: 1280px)",sa={HANDSET:"".concat(Zo,", ").concat(po),TABLET:"".concat(xr," , ").concat(Hp),WEB:"".concat(Bp,", ").concat(Xh," "),HANDSET_PORTRAIT:"".concat(Zo),TABLET_PORTRAIT:"".concat(xr," "),WEB_PORTRAIT:"".concat(Bp),HANDSET_LANDSCAPE:"".concat(po),TABLET_LANDSCAPE:"".concat(Hp),WEB_LANDSCAPE:"".concat(Xh)},_u=[{alias:"handset",priority:2e3,mediaQuery:sa.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:sa.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:sa.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:sa.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:sa.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:sa.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:sa.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:sa.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:sa.WEB_PORTRAIT,overlapping:!0}],vu=/(\.|-|_)/g;function d_(n){var o=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return o.toUpperCase()+t}function u_(n){return n.forEach(function(o){o.suffix||(o.suffix=function em(n){return n.replace(vu,"|").split("|").map(d_).join("")}(o.alias),o.overlapping=!!o.overlapping)}),n}var Rr=new e.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:function(){var o=(0,e.f3M)(Qe),t=(0,e.f3M)(He),i=[].concat.apply([],(o||[]).map(function(a){return Array.isArray(a)?a:[a]}));return function p_(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={};return n.forEach(function(i){t[i.alias]=i}),o.forEach(function(i){t[i.alias]?vi(t[i.alias],i):t[i.alias]=i}),u_(Object.keys(t).map(function(i){return t[i]}))}((t.disableDefaultBps?[]:aa).concat(t.addOrientationBps?_u:[]),i)}}),Fr=function(){var n=function(){function o(t){(0,I.Z)(this,o),this.findByMap=new Map,this.items=(0,K.Z)(t).sort(xi)}return(0,M.Z)(o,[{key:"findByAlias",value:function(i){return i?this.findWithPredicate(i,function(r){return r.alias===i}):null}},{key:"findByQuery",value:function(i){return this.findWithPredicate(i,function(r){return r.mediaQuery===i})}},{key:"overlappings",get:function(){return this.items.filter(function(i){return i.overlapping})}},{key:"aliases",get:function(){return this.items.map(function(i){return i.alias})}},{key:"suffixes",get:function(){return this.items.map(function(i){var r;return null!==(r=null==i?void 0:i.suffix)&&void 0!==r?r:""})}},{key:"findWithPredicate",value:function(i,r){var a,s=this.findByMap.get(i);return s||(s=null!==(a=this.items.find(r))&&void 0!==a?a:null,this.findByMap.set(i,s)),null!=s?s:null}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(Rr))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),El="print",tm={alias:El,mediaQuery:El,priority:1e3},Vp=function(){var n=function(){function o(t,i,r){(0,I.Z)(this,o),this.breakpoints=t,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new f_,this.deactivations=[]}return(0,M.Z)(o,[{key:"withPrintQuery",value:function(i){return[].concat((0,K.Z)(i),[El])}},{key:"isPrintEvent",value:function(i){return i.mediaQuery.startsWith(El)}},{key:"printAlias",get:function(){var i;return(0,K.Z)(null!==(i=this.layoutConfig.printWithBreakpoints)&&void 0!==i?i:[])}},{key:"printBreakPoints",get:function(){var i=this;return this.printAlias.map(function(r){return i.breakpoints.findByAlias(r)}).filter(function(r){return null!==r})}},{key:"getEventBreakpoints",value:function(i){var a=this.breakpoints.findByQuery(i.mediaQuery);return(a?[].concat((0,K.Z)(this.printBreakPoints),[a]):this.printBreakPoints).sort(hn)}},{key:"updateEvent",value:function(i){var r,a=this.breakpoints.findByQuery(i.mediaQuery);return this.isPrintEvent(i)&&(a=this.getEventBreakpoints(i)[0],i.mediaQuery=null!==(r=null==a?void 0:a.mediaQuery)&&void 0!==r?r:""),bt(i,a)}},{key:"registerBeforeAfterPrintHooks",value:function(i){var r=this;if(this._document.defaultView&&!this.registeredBeforeAfterPrintHooks){this.registeredBeforeAfterPrintHooks=!0;var a=function(){r.isPrinting||(r.isPrintingBeforeAfterEvent=!0,r.startPrinting(i,r.getEventBreakpoints(new oa(!0,El))),i.updateStyles())},s=function(){r.isPrintingBeforeAfterEvent=!1,r.isPrinting&&(r.stopPrinting(i),i.updateStyles())};this._document.defaultView.addEventListener("beforeprint",a),this._document.defaultView.addEventListener("afterprint",s),this.beforePrintEventListeners.push(a),this.afterPrintEventListeners.push(s)}}},{key:"interceptEvents",value:function(i){var r=this;return function(a){r.isPrintEvent(a)?a.matches&&!r.isPrinting?(r.startPrinting(i,r.getEventBreakpoints(a)),i.updateStyles()):!a.matches&&r.isPrinting&&!r.isPrintingBeforeAfterEvent&&(r.stopPrinting(i),i.updateStyles()):r.collectActivations(i,a)}}},{key:"blockPropagation",value:function(){var i=this;return function(r){return!(i.isPrinting||i.isPrintEvent(r))}}},{key:"startPrinting",value:function(i,r){this.isPrinting=!0,this.formerActivations=i.activatedBreakpoints,i.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}},{key:"stopPrinting",value:function(i){i.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}},{key:"collectActivations",value:function(i,r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!r.matches){var a=this.breakpoints.findByQuery(r.mediaQuery);if(a){var s=this.formerActivations&&this.formerActivations.includes(a),l=!this.formerActivations&&i.activatedBreakpoints.includes(a);(s||l)&&(this.deactivations.push(a),this.deactivations.sort(hn))}}}}},{key:"ngOnDestroy",value:function(){var i=this;this._document.defaultView&&(this.beforePrintEventListeners.forEach(function(r){return i._document.defaultView.removeEventListener("beforeprint",r)}),this.afterPrintEventListeners.forEach(function(r){return i._document.defaultView.removeEventListener("afterprint",r)}))}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(Fr),e.LFG(He),e.LFG(D.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),f_=function(){function n(){(0,I.Z)(this,n),this.printBreakpoints=[]}return(0,M.Z)(n,[{key:"addPrintBreakpoints",value:function(t){var i=this;return t.push(tm),t.sort(hn),t.forEach(function(r){return i.addBreakpoint(r)}),this.printBreakpoints}},{key:"addBreakpoint",value:function(t){t&&void 0===this.printBreakpoints.find(function(r){return r.mediaQuery===t.mediaQuery})&&(this.printBreakpoints=function bu(n){var o;return null!==(o=null==n?void 0:n.mediaQuery.startsWith(El))&&void 0!==o&&o}(t)?[t].concat((0,K.Z)(this.printBreakpoints)):[].concat((0,K.Z)(this.printBreakpoints),[t]))}},{key:"clear",value:function(){this.printBreakpoints=[]}}]),n}(),Ai=function(){var n=function(){function o(t,i,r){(0,I.Z)(this,o),this.matchMedia=t,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new b.x,this.observeActivations()}return(0,M.Z)(o,[{key:"activatedAlias",get:function(){var i,r;return null!==(r=null===(i=this.activatedBreakpoints[0])||void 0===i?void 0:i.alias)&&void 0!==r?r:""}},{key:"activatedBreakpoints",get:function(){return(0,K.Z)(this._activatedBreakpoints)},set:function(i){this._activatedBreakpoints=(0,K.Z)(i)}},{key:"useFallbacks",set:function(i){this._useFallbacks=i}},{key:"onMediaChange",value:function(i){var r=this.findByQuery(i.mediaQuery);if(r){i=bt(i,r);var a=this.activatedBreakpoints.indexOf(r);i.matches&&-1===a?(this._activatedBreakpoints.push(r),this._activatedBreakpoints.sort(hn),this.updateStyles()):!i.matches&&-1!==a&&(this._activatedBreakpoints.splice(a,1),this._activatedBreakpoints.sort(hn),this.updateStyles())}}},{key:"init",value:function(i,r,a,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];yu(this.updateMap,i,r,a),yu(this.clearMap,i,r,s),this.buildElementKeyMap(i,r),this.watchExtraTriggers(i,r,l)}},{key:"getValue",value:function(i,r,a){var s=this.elementMap.get(i);if(s){var l=void 0!==a?s.get(a):this.getActivatedValues(s,r);if(l)return l.get(r)}}},{key:"hasValue",value:function(i,r){var a=this.elementMap.get(i);if(a){var s=this.getActivatedValues(a,r);if(s)return void 0!==s.get(r)||!1}return!1}},{key:"setValue",value:function(i,r,a,s){var l,c=this.elementMap.get(i);if(c){var u=(null!==(l=c.get(s))&&void 0!==l?l:new Map).set(r,a);c.set(s,u),this.elementMap.set(i,c)}else c=(new Map).set(s,(new Map).set(r,a)),this.elementMap.set(i,c);var h=this.getValue(i,r);void 0!==h&&this.updateElement(i,r,h)}},{key:"trackValue",value:function(i,r){return this.subject.asObservable().pipe((0,le.h)(function(a){return a.element===i&&a.key===r}))}},{key:"updateStyles",value:function(){var i=this;this.elementMap.forEach(function(r,a){var s=new Set(i.elementKeyMap.get(a)),l=i.getActivatedValues(r);l&&l.forEach(function(c,u){i.updateElement(a,u,c),s.delete(u)}),s.forEach(function(c){if(l=i.getActivatedValues(r,c)){var u=l.get(c);i.updateElement(a,c,u)}else i.clearElement(a,c)})})}},{key:"clearElement",value:function(i,r){var a=this.clearMap.get(i);if(a){var s=a.get(r);s&&(s(),this.subject.next({element:i,key:r,value:""}))}}},{key:"updateElement",value:function(i,r,a){var s=this.updateMap.get(i);if(s){var l=s.get(r);l&&(l(a),this.subject.next({element:i,key:r,value:a}))}}},{key:"releaseElement",value:function(i){var r=this.watcherMap.get(i);r&&(r.forEach(function(s){return s.unsubscribe()}),this.watcherMap.delete(i));var a=this.elementMap.get(i);a&&(a.forEach(function(s,l){return a.delete(l)}),this.elementMap.delete(i))}},{key:"triggerUpdate",value:function(i,r){var a=this,s=this.elementMap.get(i);if(s){var l=this.getActivatedValues(s,r);l&&(r?this.updateElement(i,r,l.get(r)):l.forEach(function(c,u){return a.updateElement(i,u,c)}))}}},{key:"buildElementKeyMap",value:function(i,r){var a=this.elementKeyMap.get(i);a||this.elementKeyMap.set(i,a=new Set),a.add(r)}},{key:"watchExtraTriggers",value:function(i,r,a){var s=this;if(a&&a.length){var l=this.watcherMap.get(i);if(l||this.watcherMap.set(i,l=new Map),!l.get(r)){var u=ie.T.apply(void 0,(0,K.Z)(a)).subscribe(function(){var h=s.getValue(i,r);s.updateElement(i,r,h)});l.set(r,u)}}}},{key:"findByQuery",value:function(i){return this.breakpoints.findByQuery(i)}},{key:"getActivatedValues",value:function(i,r){for(var a=0;a<this.activatedBreakpoints.length;a++){var l=i.get(this.activatedBreakpoints[a].alias);if(l&&(void 0===r||l.has(r)&&null!=l.get(r)))return l}if(this._useFallbacks){var c=i.get("");return void 0===r||c&&c.has(r)?c:void 0}}},{key:"observeActivations",value:function(){var i=this.breakpoints.items.map(function(r){return r.mediaQuery});this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe((0,L.b)(this.hook.interceptEvents(this)),(0,le.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(bi),e.LFG(Fr),e.LFG(Vp))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}();function yu(n,o,t,i){var r;if(void 0!==i){var a=null!==(r=n.get(o))&&void 0!==r?r:new Map;a.set(t,i),n.set(o,a)}}var Oi=function(){var n=function(){function o(t,i,r,a){(0,I.Z)(this,o),this.elementRef=t,this.styleBuilder=i,this.styler=r,this.marshal=a,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new b.x,this.styleCache=new Map}return(0,M.Z)(o,[{key:"parentElement",get:function(){return this.elementRef.nativeElement.parentElement}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"activatedValue",get:function(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)},set:function(i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,i,this.marshal.activatedAlias)}},{key:"ngOnChanges",value:function(i){var r=this;Object.keys(i).forEach(function(a){if(-1!==r.inputs.indexOf(a)){var s=a.split(".").slice(1).join(".");r.setValue(i[a].currentValue,s)}})}},{key:"ngOnDestroy",value:function(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}},{key:"init",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),i)}},{key:"addStyles",value:function(i,r){var a=this.styleBuilder,s=a.shouldCache,l=this.styleCache.get(i);(!l||!s)&&(l=a.buildStyles(i,r),s&&this.styleCache.set(i,l)),this.mru=Object.assign({},l),this.applyStyleToElement(l),a.sideEffect(i,l,r)}},{key:"clearStyles",value:function(){var i=this;Object.keys(this.mru).forEach(function(r){i.mru[r]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}},{key:"triggerUpdate",value:function(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}},{key:"getFlexFlowDirection",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i){var a=this.styler.getFlowDirection(i),s=(0,ee.Z)(a,2),l=s[0],c=s[1];if(!c&&r){var u=_t(l),h=[i];this.styler.applyStyleToElements(u,h)}return l.trim()}return"row"}},{key:"hasWrap",value:function(i){return this.styler.hasWrap(i)}},{key:"applyStyleToElement",value:function(i,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nativeElement;this.styler.applyStyleToElement(a,i,r)}},{key:"setValue",value:function(i,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,i,r)}},{key:"updateWithValue",value:function(i){this.currentValue!==i&&(this.addStyles(i),this.currentValue=i)}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(yt),e.Y36(kt),e.Y36(Ai))},n.\u0275dir=e.lG2({type:n,features:[e.TTD]}),n}();EventTarget;var Cu=function(){var n=function(){function o(t,i,r){(0,I.Z)(this,o),this.breakpoints=t,this.matchMedia=i,this.hook=r,this.filterOverlaps=!1,this.destroyed$=new b.x,this._media$=this.watchActivations()}return(0,M.Z)(o,[{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"asObservable",value:function(){return this._media$}},{key:"isActive",value:function(i){var r=this,a=function nm(n){return n.flatMap(function(o){return o.split(",")}).map(function(o){return o.trim()})}(function Il(n){return Array.isArray(n)?n:[n]}(i));return a.some(function(s){var l=function h_(n,o){var t,i,r=null!==(t=o.findByAlias(n))&&void 0!==t?t:o.findByQuery(n);return null!==(i=null==r?void 0:r.mediaQuery)&&void 0!==i?i:null}(s,r.breakpoints);return null!==l&&r.matchMedia.isActive(l)})}},{key:"watchActivations",value:function(){var i=this.breakpoints.items.map(function(r){return r.mediaQuery});return this.buildObservable(i)}},{key:"buildObservable",value:function(i){var r=this;return this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe((0,le.h)(function(c){return c.matches}),(0,X.b)(0,Se.E),(0,j.w)(function(c){return(0,gn.of)(r.findAllActivations())}),(0,Oe.U)(function(u){return r.filterOverlaps?u.filter(function(h){var x,T=r.breakpoints.findByQuery(h.mediaQuery);return null===(x=null==T?void 0:T.overlapping)||void 0===x||x}):u}),(0,le.h)(function(u){return u.filter(function(T){return T.mediaQuery.length>0}).length>0}),(0,Gi.x)(function(u,h){if(u.length!==h.length)return!1;var x=u.map(function(U){return U.mediaQuery}),T=new Set(h.map(function(U){return U.mediaQuery}));return 0===new Set(x.filter(function(U){return!T.has(U)})).size}),(0,H.R)(this.destroyed$))}},{key:"findAllActivations",value:function(){var i=this;return this.matchMedia.activations.map(function(s){return new oa(!0,s)}).map(function(l){return i.hook.isPrintEvent(l)?i.hook.updateEvent(l):l}).map(function(l){return bt(l,i.breakpoints.findByQuery(l.mediaQuery))}).sort(hn)}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(Fr),e.LFG(bi),e.LFG(Vp))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}();function im(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",i=[o,t,n],r=n.indexOf("calc");if(r>0){i[2]=Oc(n.substring(r).trim());var a=n.substr(0,r).trim().split(" ");2==a.length&&(i[0]=a[0],i[1]=a[1])}else if(0==r)i[2]=Oc(n.trim());else{var s=n.split(" ");i=3===s.length?s:[o,t,n]}return i}function Oc(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function Ec(n,o){if(void 0===o)return n;var t=function(r){var a=+r.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(a)?"".concat(a*o.value).concat(o.unit):n};return n.includes(" ")?n.split(" ").map(t).join(" "):t(n)}var we=J(22313),__=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c,u,h){var x;return(0,I.Z)(this,i),(x=t.call(this,r,null,a,s)).ngClassInstance=h,x.DIRECTIVE_KEY="ngClass",x.ngClassInstance||(x.ngClassInstance=new D.mk(l,c,r,u)),x.init(),x.setValue("",""),x}return(0,M.Z)(i,[{key:"klass",set:function(a){this.ngClassInstance.klass=a,this.setValue(a,"")}},{key:"updateWithValue",value:function(a){this.ngClassInstance.ngClass=a,this.ngClassInstance.ngDoCheck()}},{key:"ngDoCheck",value:function(){this.ngClassInstance.ngDoCheck()}}]),i}(Oi);return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(kt),e.Y36(Ai),e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.Qsj),e.Y36(D.mk,10))},n.\u0275dir=e.lG2({type:n,inputs:{klass:["class","klass"]},features:[e.qOj]}),n}(),Hs=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"],$n=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){var r;return(0,I.Z)(this,i),(r=t.apply(this,arguments)).inputs=Hs,r}return(0,M.Z)(i)}(__);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[e.qOj]}),n}(),v_=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){return(0,I.Z)(this,i),t.apply(this,arguments)}return(0,M.Z)(i,[{key:"buildStyles",value:function(a,s){return{display:"true"===a?s.display||(s.isServer?"initial":""):"none"}}}]),i}(yt);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),rm=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c,u,h){var x;return(0,I.Z)(this,i),(x=t.call(this,r,a,s,l)).layoutConfig=c,x.platformId=u,x.serverModuleLoaded=h,x.DIRECTIVE_KEY="show-hide",x.display="",x.hasLayout=!1,x.hasFlexChild=!1,x}return(0,M.Z)(i,[{key:"ngAfterViewInit",value:function(){this.trackExtraTriggers();for(var a=Array.from(this.nativeElement.children),s=0;s<a.length;s++)if(this.marshal.hasValue(a[s],"flex")){this.hasFlexChild=!0;break}kd.has(this.nativeElement)?this.display=kd.get(this.nativeElement):(this.display=this.getDisplayStyle(),kd.set(this.nativeElement,this.display)),this.init();var l=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===l||""===l?this.setValue(!0,""):this.triggerUpdate()}},{key:"ngOnChanges",value:function(a){var s=this;Object.keys(a).forEach(function(l){if(-1!==s.inputs.indexOf(l)){var c=l.split("."),u=c.slice(1).join("."),h=a[l].currentValue,x=""===h||0!==h&&(0,Pr.Ig)(h);"fxHide"===c[0]&&(x=!x),s.setValue(x,u)}})}},{key:"trackExtraTriggers",value:function(){var a=this;this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(function(s){a.marshal.trackValue(a.nativeElement,s).pipe((0,H.R)(a.destroySubject)).subscribe(a.triggerUpdate.bind(a))})}},{key:"getDisplayStyle",value:function(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}},{key:"updateWithValue",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(""!==a){var s=(0,D.PM)(this.platformId);this.addStyles(a?"true":"false",{display:this.display,isServer:s}),s&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}}]),i}(Oi);return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(v_),e.Y36(kt),e.Y36(Ai),e.Y36(He),e.Y36(e.Lbi),e.Y36(ct))},n.\u0275dir=e.lG2({type:n,features:[e.qOj,e.TTD]}),n}(),kd=new WeakMap,qa=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"],Nl=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){var r;return(0,I.Z)(this,i),(r=t.apply(this,arguments)).inputs=qa,r}return(0,M.Z)(i)}(rm);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[e.qOj]}),n}(),io=(0,M.Z)(function n(o,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,I.Z)(this,n),this.key=o,this.value=t,this.key=i?o.replace(/['"]/g,"").trim():o.trim(),this.value=i?t.replace(/['"]/g,"").trim():t.trim(),this.value=this.value.replace(/;/,"")});function Gp(n){var o=typeof n;return"object"===o?n.constructor===Array?"array":n.constructor===Set?"set":"object":o}function Wp(n){var o=n.split(":"),t=(0,Ol.Z)(o),i=t[0],r=t.slice(1);return new io(i,r.join(":"))}function Qp(n,o){return o.key&&(n[o.key]=o.value),n}var wu=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c,u,h,x,T){var O,U;(0,I.Z)(this,i),(O=t.call(this,r,null,a,s)).sanitizer=l,O.ngStyleInstance=h,O.DIRECTIVE_KEY="ngStyle",O.ngStyleInstance||(O.ngStyleInstance=new D.PC(r,c,u)),O.init();var re=null!==(U=O.nativeElement.getAttribute("style"))&&void 0!==U?U:"";return O.fallbackStyles=O.buildStyleMap(re),O.isServer=x&&(0,D.PM)(T),O}return(0,M.Z)(i,[{key:"updateWithValue",value:function(a){var s=this.buildStyleMap(a);this.ngStyleInstance.ngStyle=Object.assign(Object.assign({},this.fallbackStyles),s),this.isServer&&this.applyStyleToElement(s),this.ngStyleInstance.ngDoCheck()}},{key:"clearStyles",value:function(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}},{key:"buildStyleMap",value:function(a){var s=this,l=function(u){var h;return null!==(h=s.sanitizer.sanitize(e.q3G.STYLE,u))&&void 0!==h?h:""};if(a)switch(Gp(a)){case"string":return Kp(function om(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";";return String(n).trim().split(o).map(function(t){return t.trim()}).filter(function(t){return""!==t})}(a),l);case"array":return Kp(a,l);default:return function Rl(n,o){var t=[];return"set"===Gp(n)?n.forEach(function(i){return t.push(i)}):Object.keys(n).forEach(function(i){t.push("".concat(i,":").concat(n[i]))}),function Da(n,o){return n.map(Wp).filter(function(i){return!!i}).map(function(r){return o&&(r.value=o(r.value)),r}).reduce(Qp,{})}(t,o)}(a,l)}return{}}},{key:"ngDoCheck",value:function(){this.ngStyleInstance.ngDoCheck()}}]),i}(Oi);return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(kt),e.Y36(Ai),e.Y36(we.H7),e.Y36(e.aQg),e.Y36(e.Qsj),e.Y36(D.PC,10),e.Y36(ct),e.Y36(e.Lbi))},n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n}(),zp=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"],Ja=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){var r;return(0,I.Z)(this,i),(r=t.apply(this,arguments)).inputs=zp,r}return(0,M.Z)(i)}(wu);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[e.qOj]}),n}();function Kp(n,o){return n.map(Wp).filter(function(i){return!!i}).map(function(r){return o&&(r.value=o(r.value)),r}).reduce(Qp,{})}var Du=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Nr]}),n}(),y_=J(13736);class $p{}class x_{constructor(){this.children=[]}}let Nc=(()=>{class n{constructor(t){this.httpClient=t,this.dataChange=new b.x,this.shouldRenderCalendar=new b.x,this.requestFiltersChange=new b.x,this.onSelectedSchedule=new b.x,this.onNotificationNavigation=new b.x,this.refetchSchedules=new b.x,this.deviceScheduleSelectLongTouch=new b.x,this.isTemplate=new b.x,this.checkboxChange=new b.x,this.checkboxClickedChange=new b.x,this.dateRangeSubmitted=new b.x,this.invalidCriticalTaskSubgroupIds=new b.x,this.navigatedFromApprovalTable=new b.x,this.unlockedLockedSubgroup=new b.x,this.unlockLockSubgroups=new b.x,this.subgroupIsUnlocked=new b.x,this.dateRangesData=new b.x,this.scheduleIdEmitter=new b.x,this.showSubgroupLockUnlock=new b.x,this.onGetScheduleData=new b.x,this.isInUnlocked=new A.y,this.navigatedFromManageTemplateTable=new b.x,this.scheduleDetailsDisplayed=new b.x,this.subgroupIdToUnlock=new b.x}sendIsTemplateSignal(t){this.isTemplate.next(t)}receiveIsTemplateSignal(){return this.isTemplate.asObservable()}getEmployeesForSelect(){return this.httpClient.get(S.j.URLemployees)}getJobTypesForSelect(){return this.httpClient.get(S.j.URLjobtype)}getEventsForSchedulerAjax(t){let i="";return i=Number(t.get("EmployeeID"))>0?S.j.URLemployeeSchedulesGetJobsByJobTypes:S.j.URLschedulesGetJobsByJobTypes,this.httpClient.get(i,{params:t})}sendIsInUnlocked(t){this.isInUnlocked=A.y.create(i=>{i.next(t)})}receiveIsInUnlocked(){return this.isInUnlocked}getEventsForTemplateSchedulerAjax(t){return this.httpClient.get(S.j.URLtemplateSchedulesGetJobsByJobTypes,{params:t})}autoSolve(t,i,r,a,s){if(!t)return;let l=(new Y.LE).set("ScheduleID",t.toString()).set("StartDate",i.toString()).set("EndDate",r.toString());return null!=s&&(l=l.append("CanChangeAssigneeOnTemplateJobs",s)),a.forEach(c=>{l=l.append("SelectedSubGroups",c.toString())}),this.httpClient.get(S.j.URLautoSolve+"/autosolve",{params:l})}getSchedules(){return this.httpClient.get(S.j.URLschedulesGetAllSchedules)}getMaxNumberOfSubgroups(){return this.httpClient.get(S.j.URLschedulePreference)}getSubgroupsBySchedulerId(t,i,r,a){let s=(new Y.LE).set("ScheduleID",t.toString()).set("StartDate",i).set("EndDate",r).set("EmployeeID",a.toString());return this.httpClient.get(S.j.URLschedulesGetScheduleSubgroups,{params:s})}getSubgroupsByTemplateSchedulerId(t,i,r){if(!t)return;let a=(new Y.LE).set("ScheduleID",t.toString()).set("StartDate",i).set("EndDate",r);return this.httpClient.get(S.j.URLtemplateSchedulesGetScheduleSubgroups,{params:a})}updateEventAfterDrag(t,i,r){return this.httpClient.put((r?S.j.URLtemplatesUpdateEventAfterDrag:S.j.URLschedulesUpdateEventAfterDrag)+"/"+i+"/"+!0,t,{responseType:"text"})}buildResourceTree(t,i,r,a){let s=[];for(let l of t){let c=new $p;c.id=l.entity.id,c.title=l.entity.name,c.start=l.entity.startDate,c.end=l.entity.endDate,c.order=l.entity.sortOrder,c.CanAccessSubGroup=l.entity.canAccessSubGroup,c.CanChangeSubGroupStructure=l.entity.canChangeSubGroupStructure,c.CanAssignSubGroup=l.entity.canAssignSubGroup,c.CanSeeSubGroupEmployeesNames=l.entity.canSeeSubGroupEmployeesNames,c.IsFromTemplate=l.entity.isFromTemplate,c.canBeSubmited=l.entity.canBeSubmited,c.canBeUnlocked=l.entity.canBeUnlocked,c.viewOnly=r,c.currentView=a,c.canOfferJob=l.entity.canOfferJob,i&&(c.parentId=i),l.childNodes.length&&(c.children=this.buildResourceTree(l.childNodes,l.entity.id,r,a)),s.push(c)}return s}submitForApproval(t){return new A.y(i=>{this.httpClient.post(S.j.URLsubGroupsApproval+"/submitSubGroups",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}getSubmissionInfo(t){return this.httpClient.get(S.j.URLsubGroupsApproval+"/scheduleApprovalDetails",{params:t})}submitCachedData(t){return new A.y(i=>{this.httpClient.post(S.j.URLjob+"/submitCachedData",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}checkCacheForChanges(t){return this.httpClient.get(S.j.URLcheckForCachedChanges,{params:t})}checkIfAnyJobStartingInPast(t){return this.httpClient.get(S.j.URLcheckIfJobInPast,{params:t})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Rc=J(2518),hs=J(89216);let Sa=(()=>{class n{constructor(){this.templateId=new b.x,this.statusChange=new _i.X(!1)}get data(){return this.statusChange.value}sendTemplateIdSidebar(t){this.templateId.next(t)}receiveTemplateIdSidebar(){return this.templateId.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Su=J(1842),Vs=J(22160),Lo=J(47423),Gs=J(87238);function am(n,o){1&n&&e._UZ(0,"img",24)}function Xp(n,o){if(1&n&&e._UZ(0,"img",25),2&n){const t=e.oxw(2);e.Q6J("src",t.sanitizeImage(t.employeeImage),e.LSH)}}function sm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"a",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("profile","profile"))}),e.TgZ(2,"span"),e.YNc(3,am,1,0,"img",22),e.YNc(4,Xp,1,1,"img",23),e._uU(5,"\xa0 "),e.qZA()()()}if(2&n){const t=e.oxw();e.ekj("router-link-active","profile"===t.showMenuActive),e.xp6(3),e.Q6J("ngIf",!t.employeeImage),e.xp6(1),e.Q6J("ngIf",t.employeeImage)}}function ka(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("0","dashboard"))}),e.TgZ(1,"div",27),e._UZ(2,"img",28),e._uU(3,"\xa0 "),e.qZA()()}}function ku(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("0","dashboard"))}),e.TgZ(1,"div",27),e._UZ(2,"img",28),e._uU(3,"\xa0 "),e.qZA()()}}function Ao(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.switchBetweenAccounts())})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("0","dashboard"))}),e._UZ(1,"i",31),e.qZA()}}function ca(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",32),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("0","dashboard"))}),e._UZ(1,"img",33),e._uU(2,"\xa0 "),e.qZA()}if(2&n){const t=e.oxw();e.ekj("router-link-active","dashboard"===t.showMenuActive)}}function Au(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("schedules","schedules"))}),e._UZ(2,"img",35),e._uU(3,"\xa0 "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("router-link-active","schedules"===t.showMenuActive)}}const ef=function(){return["/scheduler"]};function lm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("0","scheduler"))}),e._UZ(1,"img",35),e._uU(2,"\xa0 "),e.qZA()}if(2&n){const t=e.oxw();e.ekj("router-link-active","scheduler"===t.showMenuActive),e.Q6J("routerLink",e.DdM(3,ef))}}const Fl=function(){return["/job-offers"]};function fo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("0","jobOffers"))}),e._UZ(1,"img",38),e._uU(2,"\xa0 "),e.qZA()}if(2&n){const t=e.oxw();e.ekj("router-link-active","jobOffers"===t.showMenuActive),e.Q6J("routerLink",e.DdM(3,Fl))}}function cm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("0","tradeBoard"))}),e._UZ(1,"img",40),e._uU(2," \xa0\xa0 "),e.qZA()}if(2&n){const t=e.oxw();e.ekj("router-link-active","tradeBoard"===t.showMenuActive)}}const dm=function(){return["/absence-calendar"]};function Ad(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("0","absenceCalendar"))}),e._UZ(1,"img",42),e._uU(2,"\xa0 "),e.qZA()}if(2&n){const t=e.oxw();e.ekj("router-link-active","absenceCalendar"===t.showMenuActive),e.Q6J("routerLink",e.DdM(3,dm))}}function C_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",44),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.addExpandClass("employees","employees"))}),e._UZ(1,"img",45),e._uU(2,"\xa0 "),e.qZA()}if(2&n){const t=e.oxw(2);e.ekj("router-link-active","employees"===t.showMenuActive)}}function um(n,o){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,C_,3,2,"a",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.canSeeEmployees&&t.canAccessEmployees&&t.applicationHasLicense)}}function Wr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("pages","settings"))}),e._UZ(2,"img",47),e._uU(3,"\xa0 "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("router-link-active","settings"===t.showMenuActive)}}const tf=function(){return["/reports"]};function pm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",48),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addExpandClass("0","reports"))}),e._UZ(1,"img",49),e._uU(2,"\xa0 "),e.qZA()}if(2&n){const t=e.oxw();e.ekj("router-link-active","reports"===t.showMenuActive),e.Q6J("routerLink",e.DdM(3,tf))}}function Ha(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",50),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toogleCollapsedSubmenu("collapseFromHeader"))}),e._UZ(1,"img",51),e.qZA()}}function nf(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",52)(1,"ul",53)(2,"li")(3,"a",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reroute(["/account-settings"]))}),e._uU(4),e.qZA()(),e.TgZ(5,"li")(6,"a",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reroute(["/account-settings"]))}),e.TgZ(7,"span"),e._UZ(8,"i",55),e._uU(9,"Account"),e.qZA()()(),e.TgZ(10,"li")(11,"a",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onLoggedout())}),e.TgZ(12,"span"),e._UZ(13,"i",56),e._uU(14,"Log Out"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij(" ",t.loggedUserName," ")}}function Mu(n,o){1&n&&(e.TgZ(0,"span",60),e._uU(1," (Approval Details) "),e.qZA())}function Ws(n,o){1&n&&(e.TgZ(0,"span",60),e._uU(1," (Template Details) "),e.qZA())}const Cr=function(){return["router-link-active"]};function ho(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",58)(1,"a",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.sendTemplateId())}),e.TgZ(2,"span"),e._uU(3,"Manage Schedules"),e.qZA()(),e.YNc(4,Mu,2,0,"span",59),e.YNc(5,Ws,2,0,"span",59),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("routerLink",e.DdM(4,ef))("routerLinkActive",e.DdM(5,Cr)),e.xp6(4),e.Q6J("ngIf",t.onApprovalDetails),e.xp6(1),e.Q6J("ngIf",t.onTemplateDetails)}}const rf=function(){return["/schedule-approval"]};function T_(n,o){1&n&&(e.TgZ(0,"li",58)(1,"a",61)(2,"span"),e._uU(3,"Manage Approvals"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(2,rf))("routerLinkActive",e.DdM(3,Cr))}const w_=function(){return["/user-manage-templates"]};function fm(n,o){1&n&&(e.TgZ(0,"li",58)(1,"a",61)(2,"span"),e._uU(3,"Manage Templates"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(2,w_))("routerLinkActive",e.DdM(3,Cr))}const af=function(){return["/attendance-confirmation"]};function D_(n,o){1&n&&(e.TgZ(0,"li",58)(1,"a",61)(2,"span"),e._uU(3,"Attendance Confirmation"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(2,af))("routerLinkActive",e.DdM(3,Cr))}const Fc=function(){return["/lone-worker-alerts"]};function hm(n,o){1&n&&(e.TgZ(0,"li",58)(1,"a",61)(2,"span"),e._uU(3,"Lone Worker Alerts"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(2,Fc))("routerLinkActive",e.DdM(3,Cr))}const S_=function(){return["/sync-history"]};function k_(n,o){1&n&&(e.TgZ(0,"li",58)(1,"a",61)(2,"span"),e._uU(3,"Sync History"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(2,S_))("routerLinkActive",e.DdM(3,Cr))}function Md(n,o){if(1&n&&(e.TgZ(0,"li",52)(1,"ul",53),e.YNc(2,ho,6,6,"li",57),e.YNc(3,T_,4,4,"li",57),e.YNc(4,fm,4,4,"li",57),e.YNc(5,D_,4,4,"li",57),e.YNc(6,hm,4,4,"li",57),e.YNc(7,k_,4,4,"li",57),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.canAccessSchedules),e.xp6(1),e.Q6J("ngIf",t.canApproveSchedules),e.xp6(1),e.Q6J("ngIf",t.canAccessTemplates),e.xp6(1),e.Q6J("ngIf",t.canUserAccessAttendanceConfirmationTransactionLog),e.xp6(1),e.Q6J("ngIf",t.canAccessLoneWorkerAlerts),e.xp6(1),e.Q6J("ngIf",t.canApproveSchedules)}}const A_=function(){return["/manage-employees"]};function mm(n,o){1&n&&(e.TgZ(0,"li",58)(1,"a",61)(2,"span"),e._uU(3,"Manage Employees"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(2,A_))("routerLinkActive",e.DdM(3,Cr))}function sf(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",63)(1,"a",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.expandClassForProfiles("absence"))}),e.TgZ(2,"span"),e._uU(3,"Manage Absences "),e._UZ(4,"i",64),e.qZA()()()}2&n&&e.Q6J("routerLinkActive",e.DdM(1,Cr))}function gm(n,o){if(1&n&&(e.TgZ(0,"li",52)(1,"ul",53),e.YNc(2,mm,4,4,"li",57),e.YNc(3,sf,5,2,"li",62),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.canAccessEmployees),e.xp6(1),e.Q6J("ngIf","User"==t.role)}}const M_=function(){return["/absence-authorisation"]};function Tr(n,o){1&n&&(e.TgZ(0,"li",52)(1,"ul",65)(2,"li",58)(3,"a",61)(4,"span"),e._uU(5,"Authorisation List"),e.qZA()()(),e.TgZ(6,"li",58)(7,"a",61)(8,"span"),e._uU(9,"Employee Absences"),e.qZA()()()()()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(4,M_))("routerLinkActive",e.DdM(5,Cr)),e.xp6(4),e.Q6J("routerLink",e.DdM(6,dm))("routerLinkActive",e.DdM(7,Cr)))}const O_=function(){return["/skills-matrix"]};function _m(n,o){1&n&&(e.TgZ(0,"li",58)(1,"a",61)(2,"span"),e._uU(3,"Skills Matrix"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(2,O_))("routerLinkActive",e.DdM(3,Cr))}function lf(n,o){1&n&&(e.TgZ(0,"a",61)(1,"span"),e._uU(2,"Job Types"),e.qZA()())}const P_=function(){return["/job-type-settings"]};function Zl(n,o){if(1&n&&(e.TgZ(0,"li",58),e.YNc(1,lf,3,0,"a",66),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("routerLink",e.DdM(3,P_))("routerLinkActive",e.DdM(4,Cr)),e.xp6(1),e.Q6J("ngIf","User"==t.role)}}const Ou=function(){return["/system-preferences"]};function cf(n,o){1&n&&(e.TgZ(0,"li",58)(1,"a",61)(2,"span"),e._uU(3,"System Preferences"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(2,Ou))("routerLinkActive",e.DdM(3,Cr))}function df(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",63)(1,"a",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.expandClassForProfiles("profiles"))}),e.TgZ(2,"span"),e._uU(3,"User Management "),e._UZ(4,"i",64),e.qZA()()()}2&n&&e.Q6J("routerLinkActive",e.DdM(1,Cr))}function Zc(n,o){if(1&n&&(e.TgZ(0,"li",52)(1,"ul",53),e.YNc(2,_m,4,4,"li",57),e.YNc(3,Zl,2,5,"li",57),e.YNc(4,cf,4,4,"li",57),e.YNc(5,df,5,2,"li",62),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","User"==t.role&&t.canAccessSkillsMatrix&&t.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",t.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","User"==t.role&&t.canAccessSystemPreferences),e.xp6(1),e.Q6J("ngIf","User"==t.role&&t.canAccessUserManagement)}}const uf=function(){return["/manage-employee-profiles"]};function Pu(n,o){1&n&&(e.TgZ(0,"li",58)(1,"a",61)(2,"span"),e._uU(3,"Manage Employee Profiles"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(2,uf))("routerLinkActive",e.DdM(3,Cr))}const pf=function(){return["/audit-trail"]};function vm(n,o){1&n&&(e.TgZ(0,"li",58)(1,"a",61)(2,"span"),e._uU(3,"Audit Trail"),e.qZA()()()),2&n&&e.Q6J("routerLink",e.DdM(2,pf))("routerLinkActive",e.DdM(3,Cr))}const ff=function(){return["/manage-users"]},bm=function(){return["/manage-user-profiles"]};function Eu(n,o){if(1&n&&(e.TgZ(0,"li",52)(1,"ul",65)(2,"li",58)(3,"a",61)(4,"span"),e._uU(5,"Manage Users"),e.qZA()()(),e.TgZ(6,"li",58)(7,"a",61)(8,"span"),e._uU(9,"Manage User Profiles"),e.qZA()()(),e.YNc(10,Pu,4,4,"li",57),e.YNc(11,vm,4,4,"li",57),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("routerLink",e.DdM(6,ff))("routerLinkActive",e.DdM(7,Cr)),e.xp6(4),e.Q6J("routerLink",e.DdM(8,bm))("routerLinkActive",e.DdM(9,Cr)),e.xp6(4),e.Q6J("ngIf","User"==t.role&&t.canAccessUserManagement&&"profiles"===t.showProfiles&&t.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","User"==t.role&&t.canAccessUserManagement&&"profiles"===t.showProfiles&&t.applicationHasLicense)}}function hf(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",67)(1,"a",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toogleCollapsedSubmenu("collapseFromHeader"))}),e.TgZ(2,"span"),e._uU(3," Collapse menu "),e.qZA()()()}}function Iu(n,o){1&n&&(e.TgZ(0,"div",68)(1,"div",69),e._uU(2,"Switching Account..."),e.qZA(),e.TgZ(3,"div",70),e._UZ(4,"div",71),e.qZA()())}const ym=function(n,o,t){return{sidebarPushRight:n,collapsed:o,collapsedSubmenu:t}},Nu=function(n){return{hideSubmenu:n}};let Yn=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne){this.sidebarService=t,this.translate=i,this.router=r,this.componentInteractionService=a,this._sanitizer=s,this._authService=l,this._userRoleService=c,this._profileService=u,this._messageService=h,this.renderer=x,this._notificationsService=T,this._dashboardService=O,this._calendarService=U,this._dialog=re,this._sessionTimerService=de,this.cookieService=ve,this._securityService=Ne,this.showMenuActive="",this.canAccessSchedules=!1,this.canAccessEmployees=!1,this.applicationHasLicense=!0,this.canAccessSkillsMatrix=!1,this.canAccessSystemPreferences=!1,this.canAccessUserManagement=!1,this.canApproveSchedules=!1,this.canAccessReports=!1,this.canOfferJob=!1,this.canAccessTemplates=!1,this.canEmployeeGenerateRequests=!1,this.canEmployeeAccessAbsenceCalendar=!1,this.canAccessLoneWorkerAlerts=!1,this.canUserAccessAttendanceConfirmationTransactionLog=!1,this.canEmployeeAccessTradeBoard=!1,this.roleToSwitch="",this.isMasterAccount=!1,this.canSeeEmployees=!0,this.canLogOut=!0,this.canSwitchAccounts=!0,this.hasLinkedAccount=!1,this.ngUnsubscribe=new b.x,this.shouldSwitchBeBlocked=!1,this.isSwitchBlockedByUnhandledRequests=!1,this.showLoader=!1,this.canUserAccessManagement=!1,this.onApprovalDetails=!1,this.onTemplateDetails=!1,this.isLoaded=!0,this.timeoutMinutes=0,this.collapsedEvent=new e.vpe,this.collapsedSubmenuEvent=new e.vpe,this.router.events.subscribe(De=>{De instanceof q.m2&&window.innerWidth<=992&&this.isToggled()?this.toggleSidebar():De instanceof q.OD&&(this.onApprovalDetails=!1,this.onTemplateDetails=!1)}),this.componentInteractionService.mediumSidebarToggle$.subscribe(De=>{this.toogleCollapsedSubmenu("collapseFromHeader")})}ngOnInit(){this.employeeImage=localStorage.getItem("userImage"),this.loggedUserName=localStorage.getItem("loggedUserName"),this.isActive=!1,this.collapsed=!1,this.collapsedSubmenu=!0,this.showMenu="",this.showProfiles="",this.pushRightClass="push-right",this.getLoggedAccountID(),this.getRole(),this.updateGlobalAccountPermissions(),this.getSecurity(),this.lockUnlockScheduleSubscription=this._calendarService.navigatedFromApprovalTable.subscribe(t=>{switch(t){case 2:this.canLogOut=!1,this.canSwitchAccounts=!1;break;case 3:this.canLogOut=!0,this.canSwitchAccounts=!0}}),this.getHasLinked(),this._calendarService.scheduleDetailsDisplayed.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{switch(t){case 0:this.onApprovalDetails=!1,this.onTemplateDetails=!1;break;case 1:this.onApprovalDetails=!0,this.onTemplateDetails=!1;break;case 2:this.onApprovalDetails=!1,this.onTemplateDetails=!0}}),this.closeAllDialogsOnAccessDenied()}ngAfterViewInit(){this.blockUnblockSwitch()}ngOnDestroy(){this.loggedUserIdSubscription&&this.loggedUserIdSubscription.unsubscribe(),this.linkedAccountAccessChangeSubscription&&this.linkedAccountAccessChangeSubscription.unsubscribe(),this.lockUnlockScheduleSubscription&&this.lockUnlockScheduleSubscription.unsubscribe(),this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete()}blockUnblockSwitch(){this._authService.requestTracker.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{if(t){this.isSwitchBlockedByUnhandledRequests=!0;const i=document.getElementById("switch");this.renderer&&i&&this.renderer.addClass(i,"disable-switch-between-accounts")}else if(t||this.shouldSwitchBeBlocked)this.isSwitchBlockedByUnhandledRequests=!1;else{this.isSwitchBlockedByUnhandledRequests=!1;const i=document.getElementById("switch");this.renderer&&i&&this.renderer.removeClass(i,"disable-switch-between-accounts")}})}getLoggedAccountID(){this.loggedUserID=-111,this.loggedUserIdSubscription=this._userRoleService.loggedUserId.subscribe(t=>{this.loggedUserID=t,this.hasLinkedAccount="true"===localStorage.getItem("hasLinkedAccount"),this._profileService.changeHasLinked(this.hasLinkedAccount),"Employee"===localStorage.getItem("role")?this.roleToSwitch="User":(this.canSeeEmployees=!0,this.roleToSwitch="Employee")})}getSecurity(){this._securityService.getSecurity(!1).subscribe(t=>{this.timeoutMinutes=t.timeoutMinutes})}switchBetweenAccounts(){if(this.isLoaded)if(this.isLoaded=!1,this.canSwitchAccounts){if(this.isSwitchBlockedByUnhandledRequests||this._notificationsService.connectionClosing)return;let t=document.getElementsByClassName("list-group-item");for(let i=0;i<t.length;i++){const r=t.item(i);this.renderer.addClass(r,"disable-switch-between-accounts")}this.shouldSwitchBeBlocked=!0,this.isSwitchBlockedByUnhandledRequests=!0,this._authService.accountSwitchingInProgress.next(!0),this.showLoader=!0,this._authService.switchAccounts().pipe((0,X.b)(650)).subscribe(i=>{if(null!==i&&null!==i.authToken){localStorage.setItem("jwt",i.authToken.token),this.isLoaded=!0;const r=localStorage.getItem("authDomain");this.cookieService.delete("AR_TOKEN","/","."+r);const a=new Date;a.setMinutes(a.getMinutes()+this.timeoutMinutes),this.cookieService.set("AR_TOKEN",i.authToken.token,a,"/","."+r);const s=this.getDecodedAccessToken(i.authToken.token);this._notificationsService.closeConnection(),localStorage.setItem("username",i.authToken.username),localStorage.setItem("loggedUserName",i.credentials),localStorage.setItem("id",s.nameid),localStorage.setItem("role",s.role),localStorage.setItem("hasLinkedAccount",i.authToken.hasLinkedAccount),i.image&&localStorage.setItem("userImage",i.image),this.hasLinkedAccount=i.authToken.hasLinkedAccount,this.role=s.role,this.loggedUserName=i.credentials,localStorage.setItem("userCredentials",i.authToken.username),this._userRoleService.changeRole(s.role),this._userRoleService.changeId(s.nameid),this._userRoleService.changeAccountCredentialsAndImage(this.loggedUserName),this._userRoleService.updatePermissions.next(!0),setTimeout(()=>{this._messageService.open("You have successfully switched between accounts.")},1e3),this.router.navigateByUrl("/dashboard"),this.showMenu="0",this.showProfiles="0",setTimeout(()=>{this._authService.onSuccesfulLogin.next(!0),this._notificationsService.shouldUpdateUnreadNotifications.next(!0),setTimeout(()=>{for(let l=0;l<t.length;l++){const c=t.item(l);this.renderer.removeClass(c,"disable-switch-between-accounts")}this.shouldSwitchBeBlocked=!1,this.isSwitchBlockedByUnhandledRequests=!1,this._authService.accountSwitchingInProgress.next(!1),this._dashboardService.emitAccountSwitchedEvent("User"!=this.role),setTimeout(()=>{this.showLoader=!1},100)},500)},200)}},i=>{for(let r=0;r<t.length;r++){const a=t.item(r);this.renderer.removeClass(a,"disable-switch-between-accounts")}this.isLoaded=!0,this.showLoader=!1,this.shouldSwitchBeBlocked=!1,this.isSwitchBlockedByUnhandledRequests=!1,this._authService.accountSwitchingInProgress.next(!1),this._messageService.open("Unable to switch between accounts.")})}else this._messageService.open("You cannot switch between accounts while your Schedule is unlocked.")}getDecodedAccessToken(t){try{return(0,ue.Z)(t)}catch(i){return null}}getRole(){this._userRoleService.loggedUserRole.subscribe(t=>{this.role=t,"Employee"===this.role?this.roleToSwitch="User":(this.canSeeEmployees=!0,this.roleToSwitch="Employee")})}getHasLinked(){this._profileService.LoggedInHasLinkedAccount.subscribe(t=>{this.hasLinkedAccount=t})}sendTemplateId(){this.sidebarService.sendTemplateIdSidebar(-5)}updateGlobalAccountPermissions(){this._userRoleService.refetchPermissions.subscribe(()=>{setTimeout(()=>{let t=this._userRoleService.getGlobalAccountPermissions();this.accessPermissions=t,null!=this.accessPermissions&&void 0!==this.accessPermissions.canUserAccessEmployeeDetails?"User"==this.role?(this.applicationHasLicense=this.accessPermissions.applicationHasLicense,this.canAccessEmployees=this.accessPermissions.canUserAccessEmployeeDetails,this.canAccessSchedules=this.accessPermissions.canUserAccessExistingSchedules,this.canAccessSkillsMatrix=this.accessPermissions.canUserAccessSkillsMatrix,this.canAccessSystemPreferences=this.accessPermissions.canUserAccessSystemPreferences,this.canAccessUserManagement=this.accessPermissions.canUserAccessUserManagement,this.canApproveSchedules=this.accessPermissions.canUserApproveSchedules,this.canAccessReports=this.accessPermissions.canUserAccessReports,this.canAccessTemplates=this.accessPermissions.canUserManageTemplates,this.canAccessLoneWorkerAlerts=this.accessPermissions.canUserAccessLoneWorkerAlerts,this.canSeeEmployees=!0,this.canUserAccessAttendanceConfirmationTransactionLog=this.accessPermissions.canUserAccessAttendanceConfirmationTransactionLog,this._userRoleService.setEmployeeGenerateRequestPermission(!1),this.canUserAccessManagement=this.accessPermissions.canUserAccessManagement):"Employee"==this.role&&(this.canAccessEmployees=this.accessPermissions.canEmployeeAccessEmployeeDetails,this.canAccessSchedules=this.accessPermissions.canEmployeeViewSchedule,this.canEmployeeGenerateRequests=this.accessPermissions.canEmployeeGenerateRequests,this._userRoleService.setEmployeeGenerateRequestPermission(this.canEmployeeGenerateRequests),this.canEmployeeAccessAbsenceCalendar=this.accessPermissions.canEmployeeAccessAbsenceCalendar,this.canOfferJob=this.accessPermissions.canEmployeeAccessJobOffers,this.canEmployeeAccessTradeBoard=this.accessPermissions.canEmployeeAccessTradeBoard,this.canAccessEmployees&&this.accessPermissions.userHaveAnyPanelPermission?this.canSeeEmployees=!0:this.canAccessEmployees=!1):(this.canAccessEmployees=!1,this.canAccessSchedules=!1,this.canAccessSkillsMatrix=!1,this.canAccessSystemPreferences=!1,this.canAccessUserManagement=!1,this.canAccessReports=!1,this.canOfferJob=!1,this.canEmployeeGenerateRequests=!1,this.canEmployeeAccessTradeBoard=!1,this._userRoleService.setEmployeeGenerateRequestPermission(this.canEmployeeGenerateRequests),this.canEmployeeAccessAbsenceCalendar=!1,this.canAccessLoneWorkerAlerts=!1,this.canAccessTemplates=!1,this.canApproveSchedules=!1,this.canUserAccessAttendanceConfirmationTransactionLog=!1,this.canSeeEmployees="Employee"!=this.role)},200)})}eventCalled(){this.isActive=!this.isActive}addExpandClass(t,i){this.showMenuActive=i,t===this.showMenu?this.showMenu="0":"Employee"===this.role&&"employees"===i&&this.canSeeEmployees&&this.canAccessEmployees?this.router.navigateByUrl("/manage-employees"):this.showMenu=t,this.toogleCollapsedSubmenu(),"0"!==this.showProfiles&&(this.showProfiles="0")}expandClassForProfiles(t){this.showProfiles=t===this.showProfiles?"0":t}toggleCollapsed(t){t&&(""==this.showMenu||"0"==this.showMenu)||(this.collapsed=!this.collapsed,this.collapsedEvent.emit(this.collapsed),this.sidebarService.statusChange.next(this.collapsed))}toogleCollapsedSubmenu(t){t&&(""==this.showMenu||"0"==this.showMenu)||(this.collapsedSubmenu=t&&""!=this.showMenu&&"0"!=this.showMenu?!this.collapsedSubmenu:""==this.showMenu||"0"==this.showMenu,this.collapsedSubmenuEvent.emit(this.collapsedSubmenu),this.sidebarService.statusChange.next(this.collapsedSubmenu))}isToggled(){return document.querySelector("body").classList.contains(this.pushRightClass)}toggleSidebar(){document.querySelector("body").classList.toggle(this.pushRightClass)}rltAndLtr(){document.querySelector("body").classList.toggle("rtl")}changeLang(t){this.translate.use(t)}onLoggedout(){this.canLogOut?(this._notificationsService.closeConnection(),this._sessionTimerService.stopTimer(),this._authService.logout(!0)):this._messageService.open("You cannot log out while your Schedule is unlocked.")}reroute(t){this.router.navigate(t)}sanitizeImage(t){return this._sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+t)}closeAllDialogsOnAccessDenied(){this.router.events.subscribe(t=>{t instanceof q.OD&&"/access-denied"===t.url&&this._dialog.closeAll()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Sa),e.Y36(E.sK),e.Y36(q.F0),e.Y36(Su.M),e.Y36(we.H7),e.Y36(Ir.e),e.Y36(qi.J),e.Y36(yr.H),e.Y36(se.G),e.Y36(e.Qsj),e.Y36(fe.T),e.Y36(y_.s),e.Y36(Nc),e.Y36(z.uw),e.Y36(Rc.Z),e.Y36(Vs.N),e.Y36(hs.I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sidebar"]],outputs:{collapsedEvent:"collapsedEvent",collapsedSubmenuEvent:"collapsedSubmenuEvent"},decls:30,vars:30,consts:[[1,"sidebar",2,"justify-content","start","display","flex",3,"ngClass"],[1,"list-group"],["class","nested-menu asi-sidebar-logged-user-section",3,"router-link-active",4,"ngIf"],["routerLink","/dashboard","class","list-group-item",3,"click",4,"ngIf"],["routerLink","/system-preferences","class","list-group-item",3,"click",4,"ngIf"],["mat-raised-button","","matTooltip","Switch account","matTooltipPosition","right","id","switch","class","list-group-item has-cursor",3,"click",4,"ngIf"],["mat-raised-button","","matTooltip","Dashboard","matTooltipPosition","right","routerLink","/dashboard","class","list-group-item",3,"router-link-active","click",4,"ngIf"],["class","nested-menu",4,"ngIf"],["mat-raised-button","","matTooltip","Scheduler","matTooltipPosition","right","class","list-group-item",3,"routerLink","router-link-active","click",4,"ngIf"],["mat-raised-button","","matTooltip","Job offer","matTooltipPosition","right","class","list-group-item",3,"routerLink","router-link-active","click",4,"ngIf"],["mat-raised-button","","matTooltip","Trade board","matTooltipPosition","right","routerLink","/trade-board","class","list-group-item trade-board-link",3,"router-link-active","click",4,"ngIf"],["mat-raised-button","","matTooltip","Absence calendar","matTooltipPosition","right","class","list-group-item",3,"routerLink","router-link-active","click",4,"ngIf"],["mat-raised-button","","matTooltip","Reports","matTooltipPosition","right","class","list-group-item",3,"routerLink","router-link-active","click",4,"ngIf"],["mat-raised-button","","matTooltip","Collapse menu","matTooltipPosition","right","class","list-group-item collapse-menu-img",3,"click",4,"ngIf"],[1,"list-group2",3,"ngClass"],[1,"nested-menu"],[1,"page-title"],["class","nested expand",4,"ngIf"],["class","collapse-menu-text",4,"ngIf"],["class","centered progressBarContainer",4,"ngIf"],[1,"nested-menu","asi-sidebar-logged-user-section"],[1,"list-group-item","logged-user",3,"click"],["class","user-img","src","assets/images/default-avatar-20.jpg","alt","Generic placeholder image",4,"ngIf"],["class","user-img","alt","Logged in user image",3,"src",4,"ngIf"],["src","assets/images/default-avatar-20.jpg","alt","Generic placeholder image",1,"user-img"],["alt","Logged in user image",1,"user-img",3,"src"],["routerLink","/dashboard",1,"list-group-item",3,"click"],[1,"logoHolder","d-flex","justify-content-center"],["src","assets/advancedLogo.png"],["routerLink","/system-preferences",1,"list-group-item",3,"click"],["mat-raised-button","","matTooltip","Switch account","matTooltipPosition","right","id","switch",1,"list-group-item","has-cursor",3,"click"],["aria-hidden","true",1,"fa","fa-exchange","exchange-icon"],["mat-raised-button","","matTooltip","Dashboard","matTooltipPosition","right","routerLink","/dashboard",1,"list-group-item",3,"click"],["src","assets/icons/esolveDashboardIcon2.png"],["mat-raised-button","","matTooltip","Scheduler","matTooltipPosition","right",1,"list-group-item",3,"click"],["src","assets/icons/esolveSchedulesIcon2.png"],["mat-raised-button","","matTooltip","Scheduler","matTooltipPosition","right",1,"list-group-item",3,"routerLink","click"],["mat-raised-button","","matTooltip","Job offer","matTooltipPosition","right",1,"list-group-item",3,"routerLink","click"],["src","assets/icons/esolveJobOfferIcon.png"],["mat-raised-button","","matTooltip","Trade board","matTooltipPosition","right","routerLink","/trade-board",1,"list-group-item","trade-board-link",3,"click"],["src","assets/icons/tradeBoardIcon.svg",1,"trade-board-icon"],["mat-raised-button","","matTooltip","Absence calendar","matTooltipPosition","right",1,"list-group-item",3,"routerLink","click"],["src","assets/icons/esolveAbsenceIcon.png"],["mat-raised-button","","matTooltip","Employee","matTooltipPosition","right","class","list-group-item eSolveSettings",3,"router-link-active","click",4,"ngIf"],["mat-raised-button","","matTooltip","Employee","matTooltipPosition","right",1,"list-group-item","eSolveSettings",3,"click"],["src","assets/icons/esolveEmployeeIcon2.png"],["mat-raised-button","","matTooltip","Settings","matTooltipPosition","right",1,"list-group-item","eSolveSettings",3,"click"],["src","assets/icons/esolveSettingsIcon2.png"],["mat-raised-button","","matTooltip","Reports","matTooltipPosition","right",1,"list-group-item",3,"routerLink","click"],["src","assets/icons/esolveReportsIcon2.png"],["mat-raised-button","","matTooltip","Collapse menu","matTooltipPosition","right",1,"list-group-item","collapse-menu-img",3,"click"],["src","assets/icons/collapseMenuIcon.png","alt",""],[1,"nested","expand"],[1,"submenu"],[1,"list-group-item",3,"click"],[1,"fa","fa-fw","fa-gear"],[1,"fa","fa-fw","fa-power-off"],[3,"routerLink","routerLinkActive",4,"ngIf"],[3,"routerLink","routerLinkActive"],["class","eSolve-view-details-details-indicator",4,"ngIf"],[1,"eSolve-view-details-details-indicator"],[1,"list-group-item"],[3,"routerLinkActive",4,"ngIf"],[3,"routerLinkActive"],["aria-hidden","true",1,"fa","fa-angle-down"],[1,"submenu","lighter-background"],["class","list-group-item",4,"ngIf"],[1,"collapse-menu-text"],[1,"centered","progressBarContainer"],[1,"progressBarText"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","progress-bar-blue","esolve-progress-bar"]],template:function(t,i){1&t&&(e.TgZ(0,"nav",0),e._UZ(1,"div"),e.TgZ(2,"div",1),e.YNc(3,sm,6,4,"div",2),e.YNc(4,ka,4,0,"a",3),e.YNc(5,ku,4,0,"a",4),e.YNc(6,Ao,2,0,"a",5),e.YNc(7,ca,3,2,"a",6),e.YNc(8,Au,4,2,"div",7),e.YNc(9,lm,3,4,"a",8),e.YNc(10,fo,3,4,"a",9),e.YNc(11,cm,3,2,"a",10),e.YNc(12,Ad,3,4,"a",11),e.YNc(13,um,2,1,"div",7),e.YNc(14,Wr,4,2,"div",7),e.YNc(15,pm,3,4,"a",12),e.YNc(16,Ha,2,0,"a",13),e.qZA(),e.TgZ(17,"div",14)(18,"div",15)(19,"div",16)(20,"span"),e._uU(21,"Auto Rostering"),e.qZA()(),e.YNc(22,nf,15,1,"li",17),e.YNc(23,Md,8,6,"li",17),e.YNc(24,gm,4,2,"li",17),e.YNc(25,Tr,10,8,"li",17),e.YNc(26,Zc,6,4,"li",17),e.YNc(27,Eu,12,10,"li",17),e.YNc(28,hf,4,0,"li",18),e.qZA()()(),e.YNc(29,Iu,5,0,"div",19)),2&t&&(e.Q6J("ngClass",e.kEZ(24,ym,i.isActive,i.collapsed,i.collapsedSubmenu)),e.xp6(3),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",!i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.hasLinkedAccount&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",(i.canAccessSchedules||i.canApproveSchedules||i.canAccessTemplates||i.canAccessLoneWorkerAlerts||i.canUserAccessAttendanceConfirmationTransactionLog)&&"User"==i.role&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.canAccessSchedules&&"Employee"==i.role&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","Employee"==i.role&&i.canOfferJob&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","Employee"==i.role&&i.canEmployeeAccessTradeBoard&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","Employee"==i.role&&i.canEmployeeAccessAbsenceCalendar&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","Employee"!==i.role),e.xp6(1),e.Q6J("ngIf","User"==i.role),e.xp6(1),e.Q6J("ngIf","User"==i.role&&i.canAccessReports&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",!i.collapsedSubmenu),e.xp6(1),e.Q6J("ngClass",e.VKq(28,Nu,i.collapsedSubmenu)),e.xp6(5),e.Q6J("ngIf","profile"===i.showMenu&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","schedules"===i.showMenu&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","employees"===i.showMenu&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","absence"===i.showProfiles&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","pages"===i.showMenu),e.xp6(1),e.Q6J("ngIf","User"==i.role&&i.canAccessUserManagement&&"profiles"===i.showProfiles),e.xp6(1),e.Q6J("ngIf",!i.collapsedSubmenu),e.xp6(1),e.Q6J("ngIf",i.showLoader&&i.applicationHasLicense))},dependencies:[D.mk,D.O5,q.rH,q.yS,q.Od,Lo.zs,Gs.gM,$n],styles:['.sidebar[_ngcontent-%COMP%]{font-size:12px;position:fixed;z-index:990;top:0;left:310px;width:310px;margin-left:-310px;border:none;border-radius:0;overflow-y:auto;background-color:#161616;bottom:0;overflow-x:hidden;white-space:nowrap;transition:all .2s ease-in-out}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{width:80px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .collapse-menu-img[_ngcontent-%COMP%]{position:absolute;bottom:20px;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .collapse-menu-img[_ngcontent-%COMP%]:hover{background-color:transparent!important}.sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]{width:230px;border-left:1px solid #D5D6E0}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]{background:#161616;border:0;border-radius:0;color:var(--eSolve-white);text-decoration:none;width:56px;left:12px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:10px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:17px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]:first-child, .sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]:first-child{background:#161616;-ms-flex-line-pack:center!important;align-content:center!important;border:0;border-radius:0;color:var(--eSolve-white);text-decoration:none}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]:first-child   .fa[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]:first-child   .fa[_ngcontent-%COMP%]{margin-right:10px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]:first-child   img[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]:first-child   img[_ngcontent-%COMP%]{width:17px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#343538;color:#a5a5b6}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{background-color:#343538!important;color:#a5a5b6!important}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .header-fields[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]   .header-fields[_ngcontent-%COMP%]{padding-top:10px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .header-fields[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child, .sidebar[_ngcontent-%COMP%]   .list-group2[_ngcontent-%COMP%]   .header-fields[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-top:1px solid rgba(255,255,255,.2)}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:focus{border-radius:none;border:none}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:1rem;height:50px;margin-bottom:0}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;text-decoration:none;font-weight:400;background:#161616}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:block;padding:1rem 1.5rem .75rem}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#fff;outline:none}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]:hover{background:#090909}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]{border-radius:0;border:none}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border-radius:0;background-color:#161616;border:0 solid transparent}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:hover{background:#090909}.nested-menu[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:700;padding-left:10px;margin-top:15px}.nested-menu[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{cursor:pointer}.nested-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#343538!important}.nested-menu[_ngcontent-%COMP%]   .nested[_ngcontent-%COMP%]{list-style-type:none}.nested-menu[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]{display:none;height:0}.nested-menu[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]{padding-top:1px;display:block;list-style-type:none;height:auto;margin-bottom:0;padding-left:10px;padding-right:10px}.nested-menu[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding:10px;display:block}.nested-menu[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]{background-color:transparent}.nested-menu[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{color:#a5a5b6;padding:10px;display:block}.nested-menu[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]   li.router-link-active[_ngcontent-%COMP%], .nested-menu[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#343538}.nested-menu[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   ul.submenu.lighter-background[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:15px}.nested-menu[_ngcontent-%COMP%]   .collapse-menu-text[_ngcontent-%COMP%]{position:absolute;bottom:20px}.nested-menu[_ngcontent-%COMP%]   .collapse-menu-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:transparent!important}.disable-switch-between-accounts[_ngcontent-%COMP%]{color:#a5a5b6!important;pointer-events:none}@media screen and (max-width: 992px){.sidebar[_ngcontent-%COMP%]{top:54px;left:0}}@media print{.sidebar[_ngcontent-%COMP%]{display:none!important}}@media (min-width: 992px){.header-fields[_ngcontent-%COMP%]{display:none}.navbar-toggler[_ngcontent-%COMP%]{display:block!important}.asi-sidebar-user-section[_ngcontent-%COMP%], .asi-sidebar-logged-user-section[_ngcontent-%COMP%], .logged-user[_ngcontent-%COMP%]{display:none}}@media (max-width: 991px){.asi-sidebar-user-section[_ngcontent-%COMP%], .asi-sidebar-logged-user-section[_ngcontent-%COMP%]{display:block}.logged-user[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 #fff;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:3px;box-shadow:inset 0 0 3px #fff}.toggle-button[_ngcontent-%COMP%]{position:fixed;width:236px;cursor:pointer;padding:12px;bottom:0;color:#999;background:#161616;border-top:1px solid #999;transition:all .2s ease-in-out}.toggle-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:23px}.toggle-button[_ngcontent-%COMP%]:hover{background:#090909;color:#fff}.collapsed[_ngcontent-%COMP%]{width:80px}.collapsed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.collapsedSubmenu[_ngcontent-%COMP%]{width:80px!important}.hideSubmenu[_ngcontent-%COMP%]{display:none}.asi-sidebar-column[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column}.user-img[_ngcontent-%COMP%]{border-radius:50%!important;width:25px!important;height:25px!important}.logoHolder[_ngcontent-%COMP%]{padding-bottom:16px;margin-bottom:-10px}.logoHolder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px!important;height:28px!important;margin-left:5px}.has-cursor[_ngcontent-%COMP%]{cursor:pointer}.trade-board-icon[_ngcontent-%COMP%]{width:18px!important;margin-left:6px}.exchange-icon[_ngcontent-%COMP%]{font-size:16px!important;margin-left:6px}.trade-board-link[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.eSolve-view-details-details-indicator[_ngcontent-%COMP%]{font-size:10px!important;color:var(--eSolve-primary)!important;padding:0 10px 10px 21px}@media (max-width: 991px){.underlined-item[_ngcontent-%COMP%]:after{content:"";display:block;margin:0 auto;width:80%;padding-top:1px;border-bottom:2px solid #999999}}']}),n})();var mf=J(11848);class Aa{constructor(o,t,i,r){this.type=o,this.action=t,this.payload=i,this.isTemplate=r}}let Ma=(()=>{class n{constructor(t){this.http=t,this.isOnDetails=new _i.X(!1),this.paginationData=new b.x,this.columnMap=(new Map).set("alertDateTime",0).set("jobType",1).set("jobStartDateTime",2).set("employee",3).set("isOpened",4),this.columnMapTransactionLog=(new Map).set("schedule",0).set("date",1).set("job",2).set("employee",3).set("firstNotificationDateTime",4).set("secondNotificationDateTime",5).set("employeeResponse",6).set("managerNotification",7).set("managerName",8).set("adminNotification",9).set("adminName",10)}getAllForLoneWorkers(t,i,r,a,s){return new A.y(l=>{this.http.get(S.j.URLloneWorker,{params:{Column:s?this.columnMap.get(s):0,EmployeeIds:t||[],Page:i||"1",Limit:r||"5",SortOrder:a||"asc"}}).subscribe(c=>(l.next(c),l.complete()),c=>l.error(c))})}searchLoneWorkersForFilter(t){return t?this.http.get(S.j.URLloneWorker,{params:{SearchTerm:t}}):(0,gn.of)([])}getLoneWorkerById(t){return new A.y(i=>{this.http.get(S.j.URLloneWorker+"/"+t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}editMetricsLoneWorker(t,i){return new A.y(r=>{this.http.put(S.j.URLloneWorkerBase+"/"+i,t,{responseType:"text"}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}loneWorkerCheckIn(t){return new A.y(i=>{this.http.put(S.j.URLloneWorkerCheckIn,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteMetricsLoneWorker(t){return new A.y(i=>{this.http.delete(S.j.URLloneWorkerBase+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}getAllForLoneWorkerTransactionLog(t,i,r,a,s){return new A.y(l=>{this.http.get(S.j.URLloneWorkerTransactionLog,{params:{Column:s?this.columnMapTransactionLog.get(s):0,EmployeeIds:t||[],Page:i||"1",Limit:r||"5",SortOrder:a||"asc"}}).subscribe(c=>(l.next(c),l.complete()),c=>l.error(c))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gf{}let _f=(()=>{class n{constructor(t){this._http=t,this.refetchJobs=new b.x}attendanceAnswer(t,i){return new A.y(r=>{this._http.put(S.j.URLemployeeAttendance+"/"+i+"/"+t,{}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E_=(()=>{class n{transform(t){return t?da[t]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"notificationsLink",type:n,pure:!0}),n})();const da={Schedule:"Schedule",Authorisation:"Authorisation",Absence:"Absence",ScheduleApproval:"Schedule Approval",TradeBoard:"Trade Board",JobOffers:"View Job Offer",AlertsGrid:"Details"};function xm(n,o){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" Notifications (",t.unreadNotificationsCount,") ")}}function Lc(n,o){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" Notifications - Archive (",t.readNotificationsCount,") ")}}function vf(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.swapNotificationsView())}),e._uU(1," Archived "),e.qZA()}}function Cm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.swapNotificationsView())}),e._uU(1," Notifications - Current "),e.qZA()}}function Tm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!0,r))}),e._uU(2," Yes "),e.qZA(),e._uU(3," / "),e.TgZ(4,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!1,r))}),e._uU(5," No "),e.qZA()()}}function Uo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.loneWorkerConfirm(r))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.loneWorkerCheckedIn?"Checked In":"Check In"," ")}}const Ba=function(n){return{color:n}},Qs=function(n){return{"last-notification":n}};function wm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"div",16)(3,"div",18),e._uU(4),e.qZA(),e.TgZ(5,"div",19),e._uU(6),e.YNc(7,Tm,6,0,"span",6),e.qZA(),e.TgZ(8,"div",20),e.YNc(9,Uo,2,1,"span",21),e.TgZ(10,"span",22),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.followLink(a))}),e._uU(11),e.ALo(12,"notificationsLink"),e.qZA()()()(),e.TgZ(13,"div",23)(14,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.clearNotification("true",[a.id]))}),e._uU(15," X "),e.qZA()(),e._UZ(16,"hr",25),e.qZA()}if(2&n){const t=o.$implicit,i=o.last,r=e.oxw(4);e.xp6(3),e.Q6J("ngStyle",e.VKq(9,Ba,t.color)),e.xp6(1),e.hij(" ",t.notificationTitle," "),e.xp6(2),e.hij(" ",t.notificationContent," "),e.xp6(1),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.attendanceConfirmationAction&&"Employee"==r.role),e.xp6(2),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.loneWorkerAction&&"Employee"==r.role),e.xp6(2),e.hij(" ",e.lcZ(12,7,t.linkTo)," "),e.xp6(5),e.Q6J("ngClass",e.VKq(11,Qs,i))}}function Ru(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,wm,17,13,"div",15),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.shortUnreadNotificationsList)}}function Dm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!0,r))}),e._uU(2," Yes "),e.qZA(),e._uU(3," / "),e.TgZ(4,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!1,r))}),e._uU(5," No "),e.qZA()()}}function bf(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.loneWorkerConfirm(r))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.loneWorkerCheckedIn?"Checked In":"Check In"," ")}}function Sm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"div",16)(3,"div",18),e._uU(4),e.qZA(),e.TgZ(5,"div",19),e._uU(6),e.YNc(7,Dm,6,0,"span",6),e.qZA(),e.TgZ(8,"div",20),e.YNc(9,bf,2,1,"span",21),e.TgZ(10,"span",22),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.followLink(a))}),e._uU(11),e.ALo(12,"notificationsLink"),e.qZA()()()(),e.TgZ(13,"div",23)(14,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.clearNotification("true",[a.id]))}),e._uU(15," X "),e.qZA()(),e._UZ(16,"hr",25),e.qZA()}if(2&n){const t=o.$implicit,i=o.last,r=e.oxw(4);e.xp6(3),e.Q6J("ngStyle",e.VKq(9,Ba,t.color)),e.xp6(1),e.hij(" ",t.notificationTitle," "),e.xp6(2),e.hij(" ",t.notificationContent," "),e.xp6(1),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.attendanceConfirmationAction&&"Employee"==r.role),e.xp6(2),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.loneWorkerAction&&"Employee"==r.role),e.xp6(2),e.hij(" ",e.lcZ(12,7,t.linkTo)," "),e.xp6(5),e.Q6J("ngClass",e.VKq(11,Qs,i))}}function yf(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Sm,17,13,"div",15),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.mediumUnreadNotificationsList)}}function xf(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!0,r))}),e._uU(2," Yes "),e.qZA(),e._uU(3," / "),e.TgZ(4,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!1,r))}),e._uU(5," No "),e.qZA()()}}function zs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.loneWorkerConfirm(r))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.loneWorkerCheckedIn?"Checked In":"Check In"," ")}}function km(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"div",16)(3,"div",18),e._uU(4),e.qZA(),e.TgZ(5,"div",19),e._uU(6),e.YNc(7,xf,6,0,"span",6),e.qZA(),e.TgZ(8,"div",20),e.YNc(9,zs,2,1,"span",21),e.TgZ(10,"span",22),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.followLink(a))}),e._uU(11),e.ALo(12,"notificationsLink"),e.qZA()()()(),e.TgZ(13,"div",23)(14,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.clearNotification("true",[a.id]))}),e._uU(15," X "),e.qZA()(),e._UZ(16,"hr",25),e.qZA()}if(2&n){const t=o.$implicit,i=o.last,r=e.oxw(4);e.xp6(3),e.Q6J("ngStyle",e.VKq(9,Ba,t.color)),e.xp6(1),e.hij(" ",t.notificationTitle," "),e.xp6(2),e.hij(" ",t.notificationContent," "),e.xp6(1),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.attendanceConfirmationAction&&"Employee"==r.role),e.xp6(2),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.loneWorkerAction&&"Employee"==r.role),e.xp6(2),e.hij(" ",e.lcZ(12,7,t.linkTo)," "),e.xp6(5),e.Q6J("ngClass",e.VKq(11,Qs,i))}}function Ks(n,o){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,km,17,13,"div",15),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.unreadNotificationsList)}}function Am(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ru,2,1,"div",6),e.YNc(2,yf,2,1,"div",6),e.YNc(3,Ks,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.expandedUnread&&t.showShortUnreadList),e.xp6(1),e.Q6J("ngIf",t.expandedUnread&&t.showMediumUnreadList),e.xp6(1),e.Q6J("ngIf",t.expandedUnread&&!t.showMediumUnreadList)}}function Mm(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Am,4,3,"div",13),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(11);e.xp6(1),e.Q6J("ngIf",t.unreadNotificationsList.length)("ngIfElse",i)}}function Cf(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!0,r))}),e._uU(1," Yes "),e.qZA()}}function I_(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"/"),e.qZA())}function N_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!1,r))}),e._uU(1," No "),e.qZA()}}function Tf(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," >> You responded to this notification "),e.qZA())}function Om(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,Cf,2,0,"span",31),e.YNc(2,I_,2,0,"span",6),e.YNc(3,N_,2,0,"span",31),e.YNc(4,Tf,2,0,"span",6),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!t.attendanceResponded),e.xp6(1),e.Q6J("ngIf",!t.attendanceResponded),e.xp6(1),e.Q6J("ngIf",!t.attendanceResponded),e.xp6(1),e.Q6J("ngIf",t.attendanceResponded)}}function jo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.loneWorkerConfirm(r))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.loneWorkerCheckedIn?"Checked In":"Check In"," ")}}function Hi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"div",16)(3,"div",29),e._uU(4),e.qZA(),e.TgZ(5,"div",30),e._uU(6),e.YNc(7,Om,5,4,"span",6),e.qZA(),e.TgZ(8,"div",20),e.YNc(9,jo,2,1,"span",21),e.TgZ(10,"span",22),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.followLink(a))}),e._uU(11),e.ALo(12,"notificationsLink"),e.qZA()()()(),e.TgZ(13,"div",23)(14,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.clearNotification("false",[a.id]))}),e._uU(15," X "),e.qZA()(),e._UZ(16,"hr",25),e.qZA()}if(2&n){const t=o.$implicit,i=o.last,r=e.oxw(4);e.xp6(4),e.hij(" ",t.notificationTitle," "),e.xp6(2),e.hij(" ",t.notificationContent," "),e.xp6(1),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.attendanceConfirmationAction&&"Employee"==r.role),e.xp6(2),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.loneWorkerAction&&"Employee"==r.role),e.xp6(2),e.hij(" ",e.lcZ(12,6,t.linkTo)," "),e.xp6(5),e.Q6J("ngClass",e.VKq(8,Qs,i))}}function Od(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Hi,17,10,"div",15),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.shortReadNotificationsList)}}function Fu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!0,r))}),e._uU(1," Yes "),e.qZA()}}function Qr(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"/"),e.qZA())}function Oa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!1,r))}),e._uU(1," No "),e.qZA()}}function Pm(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," >> You responded to this notification "),e.qZA())}function Zu(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,Fu,2,0,"span",31),e.YNc(2,Qr,2,0,"span",6),e.YNc(3,Oa,2,0,"span",31),e.YNc(4,Pm,2,0,"span",6),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!t.attendanceResponded),e.xp6(1),e.Q6J("ngIf",!t.attendanceResponded),e.xp6(1),e.Q6J("ngIf",!t.attendanceResponded),e.xp6(1),e.Q6J("ngIf",t.attendanceResponded)}}function Lu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.loneWorkerConfirm(r))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.loneWorkerCheckedIn?"Checked In":"Check In"," ")}}function Pa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"div",16)(3,"div",29),e._uU(4),e.qZA(),e.TgZ(5,"div",30),e._uU(6),e.YNc(7,Zu,5,4,"span",6),e.qZA(),e.TgZ(8,"div",20),e.YNc(9,Lu,2,1,"span",21),e.TgZ(10,"span",22),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.followLink(a))}),e._uU(11),e.ALo(12,"notificationsLink"),e.qZA()()()(),e.TgZ(13,"div",23)(14,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.clearNotification("false",[a.id]))}),e._uU(15," X "),e.qZA()(),e._UZ(16,"hr",25),e.qZA()}if(2&n){const t=o.$implicit,i=o.last,r=e.oxw(4);e.xp6(4),e.hij(" ",t.notificationTitle," "),e.xp6(2),e.hij(" ",t.notificationContent," "),e.xp6(1),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.attendanceConfirmationAction&&"Employee"==r.role),e.xp6(2),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.loneWorkerAction&&"Employee"==r.role),e.xp6(2),e.hij(" ",e.lcZ(12,6,t.linkTo)," "),e.xp6(5),e.Q6J("ngClass",e.VKq(8,Qs,i))}}function Uc(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Pa,17,10,"div",15),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.mediumReadNotificationsList)}}function Uu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!0,r))}),e._uU(1," Yes "),e.qZA()}}function Em(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"/"),e.qZA())}function wf(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(4);return e.KtG(a.confirmAttendance(!1,r))}),e._uU(1," No "),e.qZA()}}function Ll(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," >> You responded to this notification "),e.qZA())}function jc(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,Uu,2,0,"span",31),e.YNc(2,Em,2,0,"span",6),e.YNc(3,wf,2,0,"span",31),e.YNc(4,Ll,2,0,"span",6),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!t.attendanceResponded),e.xp6(1),e.Q6J("ngIf",!t.attendanceResponded),e.xp6(1),e.Q6J("ngIf",!t.attendanceResponded),e.xp6(1),e.Q6J("ngIf",t.attendanceResponded)}}function Ul(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.loneWorkerConfirm(r))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.loneWorkerCheckedIn?"Checked In":"Check In"," ")}}function ms(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"div",16)(3,"div",29),e._uU(4),e.qZA(),e.TgZ(5,"div",30),e._uU(6),e.YNc(7,jc,5,4,"span",6),e.qZA(),e.TgZ(8,"div",20),e.YNc(9,Ul,2,1,"span",21),e.TgZ(10,"span",22),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.followLink(a))}),e._uU(11),e.ALo(12,"notificationsLink"),e.qZA()()()(),e.TgZ(13,"div",23)(14,"span",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.clearNotification("false",[a.id]))}),e._uU(15," X "),e.qZA()(),e._UZ(16,"hr",25),e.qZA()}if(2&n){const t=o.$implicit,i=o.last,r=e.oxw(4);e.xp6(4),e.hij(" ",t.notificationTitle," "),e.xp6(2),e.hij(" ",t.notificationContent," "),e.xp6(1),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.attendanceConfirmationAction&&"Employee"==r.role),e.xp6(2),e.Q6J("ngIf",t.linkInfo&&t.linkInfo.loneWorkerAction&&"Employee"==r.role),e.xp6(2),e.hij(" ",e.lcZ(12,6,t.linkTo)," "),e.xp6(5),e.Q6J("ngClass",e.VKq(8,Qs,i))}}function jl(n,o){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,ms,17,10,"div",15),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.readNotificationsList)}}function $s(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Od,2,1,"div",6),e.YNc(2,Uc,2,1,"div",6),e.YNc(3,jl,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.expandedRead&&t.showShortReadList),e.xp6(1),e.Q6J("ngIf",t.expandedRead&&t.showMediumReadList),e.xp6(1),e.Q6J("ngIf",t.expandedRead&&!t.showMediumReadList)}}function ju(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,$s,4,3,"div",13),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(11);e.xp6(1),e.Q6J("ngIf",t.readNotificationsList.length)("ngIfElse",i)}}function Xs(n,o){1&n&&(e.TgZ(0,"div",32)(1,"div",33)(2,"span",37),e._uU(3," No current notifications. "),e.qZA()()())}function Va(n,o){1&n&&(e.TgZ(0,"div",32)(1,"div",33)(2,"span",37),e._uU(3," No archived notifications. "),e.qZA()()())}function Yc(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"div",32)(2,"div",33),e._UZ(3,"i",34),e.qZA()(),e.TgZ(4,"div",32)(5,"div",33)(6,"span",35),e._uU(7," All Clear! "),e.qZA()()(),e.YNc(8,Xs,4,0,"div",36),e.YNc(9,Va,4,0,"div",36),e.qZA()),2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",t.onCurrentPage),e.xp6(1),e.Q6J("ngIf",!t.onCurrentPage)}}function R_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleExpansion("unread"))}),e._uU(1," More.. "),e.qZA()}}function Im(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleExpansion("unread"))}),e._uU(1," Less "),e.qZA()}}function Yu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div"),e.YNc(2,R_,2,0,"span",39),e.YNc(3,Im,2,0,"span",39),e.qZA(),e.TgZ(4,"span",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearAll("unread"))}),e._uU(5," Clear All "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.expandedUnread),e.xp6(1),e.Q6J("ngIf",t.expandedUnread)}}function Nm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"span",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearAll("unread"))}),e._uU(2," Clear All "),e.qZA()()}}function Df(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleExpansion("read"))}),e._uU(1," More.. "),e.qZA()}}function F_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleExpansion("read"))}),e._uU(1," Less "),e.qZA()}}function Rm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div"),e.YNc(2,Df,2,0,"span",39),e.YNc(3,F_,2,0,"span",39),e.qZA(),e.TgZ(4,"span",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearAll("read"))}),e._uU(5," Clear All "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.expandedRead),e.xp6(1),e.Q6J("ngIf",t.expandedRead)}}function gs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"span",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearAll("read"))}),e._uU(2," Clear All "),e.qZA()()}}const Fm={Schedule:"/scheduler",Authorisation:"/absence-authorisation",Absence:"/absence-calendar",ScheduleApproval:"/schedule-approval",AlertsGrid:"/lone-worker-alerts",TradeBoard:"/trade-board",JobOffers:"/job-offers"};let Zm=(()=>{class n{constructor(t,i,r,a,s,l,c){this.dialogData=t,this._dialogRef=i,this._notificationsService=r,this._messageService=a,this._router=s,this._loneWorkerService=l,this._attendanceService=c,this.showShortUnreadList=!0,this.showMediumUnreadList=!1,this.showShortReadList=!0,this.showMediumReadList=!1,this.shortUnreadNotificationsList=new Array,this.mediumUnreadNotificationsList=new Array,this.unreadNotificationsList=new Array,this.shortReadNotificationsList=new Array,this.mediumReadNotificationsList=new Array,this.readNotificationsList=new Array,this.readNotificationsCount=0,this.unreadNotificationsCount=0,this.onCurrentPage=!0,this.expandedUnread=!1,this.expandedRead=!1,this.allReadIds=[],this.allUnreadIds=[],this.clickedClear=!1,this.unreadCheckIn=[],this.attendanceResponseInProgress=!1,this.ngUnsubscribe=new b.x,this._router.getCurrentNavigation(),this.url=this._router.url,this.role=localStorage.getItem("role")}ngOnInit(){this.fetchNotifications(),this.subscribeToSignalRSignals()}fetchNotifications(){this._notificationsService.getNotifications(this.dialogData.id,this.dialogData.isUser).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.resetDisplayData(),this.allNotifications=t,this.allNotifications.forEach(i=>{i.isReaded?(this.readNotificationsCount+=1,this.readNotificationsList.push(i),this.readNotificationsCount<5&&this.shortReadNotificationsList.push(i),this.readNotificationsCount<9&&this.mediumReadNotificationsList.push(i),this.allReadIds.push(i.id)):(this.unreadNotificationsCount+=1,this.unreadNotificationsList.push(i),this.unreadNotificationsCount<5&&this.shortUnreadNotificationsList.push(i),this.unreadNotificationsCount<9&&this.mediumUnreadNotificationsList.push(i),this.allUnreadIds.push(i.id))}),this._notificationsService.shouldUpdateUnreadNotifications.next(!0),this.clickedClear&&(this._notificationsService.unreadNotificationsCount.next(this.unreadNotificationsCount),this.clickedClear=!1)},t=>{this._messageService.open(t)})}followLink(t){let i=Fm[t.linkTo];if(i){let r={};r=t.linkInfo?{source:"notification",personalID:t.linkInfo.personalID?t.linkInfo.personalID:null,scheduleID:t.linkInfo.scheduleId?t.linkInfo.scheduleId:null,subgroupID:t.linkInfo.subgroupID?t.linkInfo.subgroupID:null,absenceRequestID:t.linkInfo.absenceRequestID?t.linkInfo.absenceRequestID:null,startDate:t.linkInfo.startDateTime?t.linkInfo.startDateTime:null,endDate:t.linkInfo.endDateTime?t.linkInfo.endDateTime:null,jobId:t.linkInfo.jobID?t.linkInfo.jobID:null,currentView:t.linkInfo.currentView?t.linkInfo.currentView:null}:{source:"notification"};let a=y(this.url),s="/scheduler"==i&&a;i!==this.url||s?(s?this._router.navigateByUrl("/dashboard",{skipLocationChange:!0}).then(()=>{this._router.navigateByUrl(i,{state:r})}):this._router.navigateByUrl(i,{state:r}),this.onCurrentPage&&"Safety Check"!==t.notificationTitle&&this.clearNotification(!0,[t.id])):(this._notificationsService.notificationOnCurrentPage.next(r),this.onCurrentPage&&"Safety Check"!==t.notificationTitle&&this.clearNotification(!0,[t.id])),this._dialogRef.close()}else this._messageService.open("Selected component does not exist.")}clearNotification(t,i){this._notificationsService.multiUpdateNotifications(t,i).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(()=>{this.clickedClear=!0,this.fetchNotifications()},r=>{this._messageService.open(r)})}clearAll(t){switch(t){case"unread":this.unreadNotificationsList.length&&(this._notificationsService.unreadNotificationsCount.next(0),this.clearNotification(!0,this.allUnreadIds));break;case"read":this.readNotificationsList.length&&this.clearNotification(!1,this.allReadIds)}}swapNotificationsView(){this.onCurrentPage=!this.onCurrentPage}resetDisplayData(){this.shortUnreadNotificationsList=new Array,this.mediumUnreadNotificationsList=new Array,this.unreadNotificationsList=new Array,this.shortReadNotificationsList=new Array,this.mediumReadNotificationsList=new Array,this.readNotificationsList=new Array,this.allReadIds=[],this.allUnreadIds=[],this.unreadCheckIn=[],this.readNotificationsCount=0,this.unreadNotificationsCount=0}toggleExpansion(t){switch(t){case"unread":this.expandedUnread?(this.showShortUnreadList=!0,this.expandedUnread=!1):(this.showShortUnreadList=!1,this.expandedUnread=!0,this.showMediumUnreadList=this.unreadNotificationsList.length<9);break;case"read":this.expandedRead?(this.showShortReadList=!0,this.expandedRead=!1):(this.showShortReadList=!1,this.expandedRead=!0,this.showMediumReadList=this.readNotificationsList.length<9)}}subscribeToSignalRSignals(){this._notificationsService.signalReceived.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.fetchNotifications()})}ngOnDestroy(){this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete()}loneWorkerConfirm(t){let i=new gf;i.employeeID=t.linkInfo.employeeId,i.jobID=t.linkInfo.jobID,i.dateNotificationCreated=t.dateCreated,t.loneWorkerCheckedIn||this._loneWorkerService.loneWorkerCheckIn(i).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{this.unreadCheckIn=r.value,this._messageService.open(r.key+""),this._dialogRef.close(),this._notificationsService.unreadNotificationsCount.next(this.unreadNotificationsCount-this.unreadCheckIn.length),this.clearNotification(!0,this.unreadCheckIn)},r=>{this._messageService.open(r)})}confirmAttendance(t,i){this.attendanceResponseInProgress||(this.attendanceResponseInProgress=!0,this._attendanceService.attendanceAnswer(t,i.linkInfo.jobID).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{this._messageService.open(r),this._attendanceService.refetchJobs.next(i.linkInfo.jobID),this.onCurrentPage&&this.clearNotification(!0,[i.id]),setTimeout(()=>{this.attendanceResponseInProgress=!1},2e3)},r=>{this._messageService.open(r),this.attendanceResponseInProgress=!1}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(fe.T),e.Y36(se.G),e.Y36(q.F0),e.Y36(Ma),e.Y36(_f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-notifications-dialog"]],decls:17,vars:10,consts:[[1,"card","notifications-window"],[1,"card-header","notifications-header"],[1,"header-content","d-flex","justify-content-between"],["class","notifications-header-title",4,"ngIf"],["class","notifications-swap",3,"click",4,"ngIf"],[1,"card-body","notifications-body"],[4,"ngIf"],["noNotifications",""],[1,"card-footer","notifications-footer"],["class","footer-content notifications-footer-item d-flex justify-content-between",4,"ngIf"],["class","footer-content notifications-footer-item d-flex justify-content-end",4,"ngIf"],[1,"notifications-header-title"],[1,"notifications-swap",3,"click"],[4,"ngIf","ngIfElse"],["class","g-thin-black-scroll-bar long-list",4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-11","notification-content-container"],[1,"col-12","notification-title",3,"ngStyle"],[1,"col-12","notification-content"],[1,"col-12","notification-action"],["class","check-in-span",3,"click",4,"ngIf"],[3,"click"],[1,"col-1","notification-clear-container"],[1,"clear-icon","my-auto",3,"click"],[1,"notifications-divider",3,"ngClass"],[1,"notification-action",3,"click"],[1,"check-in-span",3,"click"],[1,"g-thin-black-scroll-bar","long-list"],[1,"col-12","notification-title","read-notification-title"],[1,"col-12","notification-content","read-notification-content"],["class","notification-action",3,"click",4,"ngIf"],[1,"col-12"],[1,"d-flex","justify-content-center"],[1,"fa","fa-bell","no-notifications-icon"],[1,"no-notifications-span"],["class","col-12",4,"ngIf"],[1,"no-notifications-span","mb-15"],[1,"footer-content","notifications-footer-item","d-flex","justify-content-between"],[3,"click",4,"ngIf"],[1,"footer-content","notifications-footer-item","d-flex","justify-content-end"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,xm,2,1,"span",3),e.YNc(4,Lc,2,1,"span",3),e.YNc(5,vf,2,0,"span",4),e.YNc(6,Cm,2,0,"span",4),e.qZA()(),e.TgZ(7,"div",5),e.YNc(8,Mm,2,2,"div",6),e.YNc(9,ju,2,2,"div",6),e.YNc(10,Yc,10,2,"ng-template",null,7,e.W1O),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,Yu,6,2,"div",9),e.YNc(14,Nm,3,0,"div",10),e.YNc(15,Rm,6,2,"div",9),e.YNc(16,gs,3,0,"div",10),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.onCurrentPage),e.xp6(1),e.Q6J("ngIf",!i.onCurrentPage),e.xp6(1),e.Q6J("ngIf",i.onCurrentPage),e.xp6(1),e.Q6J("ngIf",!i.onCurrentPage),e.xp6(2),e.Q6J("ngIf",i.onCurrentPage),e.xp6(1),e.Q6J("ngIf",!i.onCurrentPage),e.xp6(4),e.Q6J("ngIf",i.onCurrentPage&&i.unreadNotificationsCount>4),e.xp6(1),e.Q6J("ngIf",i.onCurrentPage&&(i.unreadNotificationsCount<4||4==i.unreadNotificationsCount)),e.xp6(1),e.Q6J("ngIf",!i.onCurrentPage&&i.readNotificationsCount>4),e.xp6(1),e.Q6J("ngIf",!i.onCurrentPage&&(i.readNotificationsCount<4||4==i.readNotificationsCount)))},dependencies:[D.mk,D.sg,D.O5,D.PC,$n,Ja,E_],styles:[".notifications-header[_ngcontent-%COMP%]{background-color:var(--eSolve-gray-dark);padding-right:16px;padding-left:12px}.notifications-body[_ngcontent-%COMP%]{padding:5px 8px 5px 12px;overflow-x:hidden}.notifications-footer[_ngcontent-%COMP%]{padding:.7rem 14px .7rem 11px!important}.notifications-body[_ngcontent-%COMP%], .notifications-footer[_ngcontent-%COMP%]{background-color:#eef3f6}.notifications-header-title[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:700}.notifications-swap[_ngcontent-%COMP%]{cursor:pointer;color:var(--eSolve-primary);font-size:12px;padding-top:4px}.notifications-footer-item[_ngcontent-%COMP%], .notification-action[_ngcontent-%COMP%]{cursor:pointer;color:#127fb6;font-size:12px;text-decoration:underline}.notifications-footer-item[_ngcontent-%COMP%]{margin-top:-4px}.no-notifications-icon[_ngcontent-%COMP%]{color:#999;font-size:30px;margin:15px 0}.no-notifications-span[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#999}.mb-15[_ngcontent-%COMP%]{margin-bottom:15px}.notification-title[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.read-notification-title[_ngcontent-%COMP%], .read-notification-content[_ngcontent-%COMP%]{color:#656567}.notification-content[_ngcontent-%COMP%]{font-size:12px}.notifications-divider[_ngcontent-%COMP%]{width:100%;margin:5px 0 3px}.last-notification[_ngcontent-%COMP%]{display:none}.notification-clear-container[_ngcontent-%COMP%]{text-align:center}.clear-icon[_ngcontent-%COMP%]{cursor:pointer;color:#c2342f;display:inline-block;vertical-align:middle;line-height:normal;padding-right:10px;font-size:15px}.g-thin-black-scroll-bar.long-list[_ngcontent-%COMP%]{max-height:50vh}.check-in-span[_ngcontent-%COMP%]{padding-right:10px}@media (max-width: 462px){.notification-content-container[_ngcontent-%COMP%]{padding-right:0;-ms-flex:0 0 85%;flex:0 0 85%;max-width:85%}.notification-clear-container[_ngcontent-%COMP%]{padding:0}}@media (max-height: 790px){.g-thin-black-scroll-bar.long-list[_ngcontent-%COMP%]{max-height:-moz-fit-content;max-height:fit-content}}"]}),n})(),_s=(()=>{class n{constructor(t){this.http=t,this.template=new b.x,this.isOnDetails=new _i.X(!1),this.paginationData=new b.x,this.columnMapTemplates=(new Map).set("name",0).set("created",1).set("lastModified",2).set("lastPublished",3).set("inUse",4),this.columnMapInsertTemplates=(new Map).set("template",0).set("scheduleLocation",1).set("startDate",2).set("endDate",3).set("rotations",4)}sendTemplateSignal(t){this.template.next(t)}receiveTemplateSignal(){return this.template.asObservable()}createTemplate(t){return new A.y(i=>{this.http.post(S.j.URLtemplates,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}getAllTemplates(){return new A.y(t=>{this.http.get(S.j.URLtemplates).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}checkIfTemplateNameIsUnique(t,i){return new A.y(r=>{this.http.get(S.j.URLtemplates+"/name",{params:{Id:null!=i?i:0,Content:oe(t)},observe:"response"}).subscribe(a=>(r.next(a.status),r.complete()),a=>r.error(a))})}getAllForTemplates(t,i,r,a,s){return new A.y(l=>{this.http.get(S.j.URLtemplates,{params:{Column:s?this.columnMapTemplates.get(s):0,TemplateIds:t||[],Page:i||"1",Limit:r||"5",SortOrder:a||"asc"}}).subscribe(c=>(l.next(c),l.complete()),c=>l.error(c))})}searchTemplatesForFilter(t){return t?this.http.get(S.j.URLTemplateCombosearch,{params:{SearchTerm:t}}):(0,gn.of)([])}deleteUserManageTemplate(t){return new A.y(i=>{this.http.put(S.j.URLtemplates+"/hide",t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}duplicateTemplate(t,i){return new A.y(r=>{this.http.post(S.j.URLtemplates+"/duplicate",{id:null!=t?t:0,name:null!=i?i:0},{responseType:"text"}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}deleteTemplates(t,i){let r=i?S.j.URLinsertedTemplates:S.j.URLtemplates;return new A.y(a=>{this.http.put(r+"/hide",t,{responseType:"text"}).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}createInsertTemplate(t){return new A.y(i=>{this.http.post(S.j.URLinsertTemplate,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}editInsertTemplate(t,i){return new A.y(r=>{this.http.put(S.j.URLinsertedTemplates+"/"+i,t,{responseType:"text"}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}getAllInsertedTemplates(t,i,r,a,s,l){return new A.y(c=>{this.http.get(S.j.URLinsertedTemplates+"/"+l,{params:{Column:s?this.columnMapInsertTemplates.get(s):0,TemplateIds:t||[],Page:i||"1",Limit:r||"5",SortOrder:a||"asc"}}).subscribe(u=>(c.next(u),c.complete()),u=>c.error(u))})}getTemplatesDropdown(){return new A.y(t=>{this.http.get(S.j.URLTemplateDropdown).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}searchInsertedTemplatesForFilter(t,i){return t?this.http.get(S.j.URLinsertedTemplates+"/"+i+"/combosearch",{params:{SearchTerm:t}}):(0,gn.of)([])}getInsertTemplatesRotations(t){return new A.y(i=>{this.http.post(S.j.URLinsertTemplatesRotations,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}publishTemplate(t){return new A.y(i=>{this.http.post(S.j.URLtemplates+"/publish",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Yl=J(20176),hr=J(28382),ql=J(1901);const vs={id:"number",name:"string",startDate:"Date",endDate:"Date",customData:"CustomData"};let el=(()=>{class n{constructor(t){this.http=t,this.subject=new b.x,this.subjectSubgroup=new b.x,this.overrideResponse=new A.y}copyDataForward(t,i){return new A.y(r=>{this.http.post((i?S.j.URLtemplates:S.j.URLschedules)+"/copyData",t).subscribe(s=>(r.next(s),r.complete()),s=>r.error(s))})}copyDataOverrideAssignments(t,i){return new A.y(r=>{this.http.post((i?S.j.URLtemplates:S.j.URLschedules)+"/overrideAssignments/",t.warningDetails).subscribe(s=>(r.next(s),r.complete()),s=>r.error(s))})}sendSignal(){this.subject.next(!0)}receiveSignal(){return this.subject.asObservable()}sendSignalSubgroup(t){this.subjectSubgroup.next(t)}receiveSignalSubgroup(){return this.subjectSubgroup.asObservable()}sendResponse(t){this.overrideResponse=A.y.create(i=>{i.next(t)})}receiveResponse(){return this.overrideResponse}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var W=J(15439),qc=J.n(W),wt=J(27923),Mo=J(27507);let sn=(()=>{class n{constructor(){this._event=new b.x}sendEvent(t){this._event.next(t)}getEvent(){return this._event.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var On=J(86856);let rr=(()=>{class n{constructor(t,i){this.el=t,this.control=i}onEvent(t){setTimeout(()=>{let i=this.el.nativeElement.value;this.referenceValue=this.dateLength,i.length>0&&i.length<this.referenceValue&&this.control.control.setErrors({minlength:!0})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(_.a5))},n.\u0275dir=e.lG2({type:n,selectors:[["","dateLengthTracker",""]],hostBindings:function(t,i){1&t&&e.NdJ("focusout",function(a){return i.onEvent(a)})},inputs:{dateLength:["dateLengthTracker","dateLength"]}}),n})();class Jl{constructor(o,t,i,r,a,s){this.id=o,this.customDataID=t,this.customDataLookupID=i,this.numberValue=r,this.textValue=a,this.manuallyUpdated=s}}function qu(n,o){if(1&n&&e._UZ(0,"input",11),2&n){const t=e.oxw(2);e.hYB("id","",t.$implicit.controls.name.value,"",t.index,"")}}function Ga(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Sf(n,o){1&n&&e.YNc(0,Ga,5,1,"div",14),2&n&&e.Q6J("ngForOf",o.items)}function zr(n,o){if(1&n&&(e.TgZ(0,"ng-select",12),e.YNc(1,Sf,1,1,"ng-template",13),e.qZA()),2&n){const t=e.oxw(2),i=t.$implicit;e.hYB("id","",i.controls.name.value,"",t.index,""),e.Q6J("items",i.controls.lookUpValues.value)("virtualScroll",!0)}}function kf(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function Lm(n,o){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,kf,2,1,"div",19),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",null==t.controls.value.errors?null:t.controls.value.errors.pattern)}}function Hl(n,o){if(1&n&&(e.TgZ(0,"div",5)(1,"div",6)(2,"label",7),e._uU(3),e.qZA(),e.YNc(4,qu,1,2,"input",8),e.YNc(5,zr,2,4,"ng-select",9),e.YNc(6,Lm,2,1,"div",10),e.qZA()()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index;e.Q6J("formGroup",i),e.xp6(2),e.hYB("for","",i.controls.name.value,"",r,""),e.xp6(1),e.hij(" ",i.controls.name.value," "),e.xp6(1),e.Q6J("ngIf",3!==i.controls.customDataTypeID.value),e.xp6(1),e.Q6J("ngIf",3==i.controls.customDataTypeID.value),e.xp6(1),e.Q6J("ngIf",(null==i.controls.value?null:i.controls.value.touched)&&i.controls.value.errors)}}function Um(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Hl,7,7,"div",4),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t)}}function Af(n,o){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,Um,2,1,"div",3),e.qZA()),2&n){const t=e.oxw();e.Q6J("formGroup",t.customDataForm),e.xp6(1),e.Q6J("ngForOf",t.cd.controls)}}function jm(n,o){1&n&&(e.TgZ(0,"div",20)(1,"span"),e._uU(2," No custom data stored in system "),e.qZA()())}let Ju=(()=>{class n{constructor(t,i,r){this._messageService=t,this._customDataService=i,this._formBuilder=r,this.onCustomDataChanged=new e.vpe,this.onCustomDataValidationError=new e.vpe,this.parentCustomDataIds=[],this.systemCustomData=new Array,this._ngUnsubscribe=new b.x,this.numberPattern="-?0?[0-9]{0,999999999}(?:.[0-9]{1,999999999})?"}ngOnInit(){this.getSystemCustomData(),this.parentCustomDataSubscription(),this.message=St.yw}ngAfterViewInit(){}getSystemCustomData(){this._customDataService.getAllCustomData().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.systemCustomData=t,this.buildForm()},t=>{this._messageService.open("Error retrieving custom data list.")})}buildForm(){let t=this.systemCustomData.length;if(this.customDataForm=this._formBuilder.group({customData:new _.Oe([])}),t)for(let i=0;i<t;i++)this.cd.push(this._formBuilder.group({id:this.parentId,customDataID:[this.systemCustomData[i].id],name:[this.systemCustomData[i].name],customDataTypeID:[this.systemCustomData[i].customDataTypeID],customDataType:[this.systemCustomData[i].customDataType],lookUpValues:[this.systemCustomData[i].lookUpValues],manuallyUpdated:[!1],value:[null,{validators:"Number"==this.systemCustomData[i].customDataType.name?[_.kI.pattern(this.numberPattern)]:[]}]}));setTimeout(()=>{this.isCustomDataReadonly&&this.customDataForm.disable(),this.trackFormChanges()},10)}get f(){return this.customDataForm.controls}get cd(){return this.f.customData}getCustomDataIds(t){t&&t.length&&t.forEach(i=>{this.parentCustomDataIds.push(i.customDataID)})}trackFormChanges(){this.cd.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{let i=new Array;this.prepareDataForParentComponent(t).forEach(a=>{(null==a.textValue&&null==a.numberValue&&null==a.customDataLookupID&&this.parentCustomDataIds.includes(a.customDataID)||null!==a.textValue||null!==a.numberValue||null!==a.customDataLookupID)&&i.push(a)}),this.parentCustomData&&this.parentCustomData.length?i&&i.length&&this.parentCustomData.forEach(a=>{i.forEach(s=>{s.customDataID==a.customDataID&&(s.textValue!=a.textValue||s.numberValue!=a.numberValue||s.customDataLookupID!=a.customDataLookupID)&&(s.manuallyUpdated=!0),this.parentCustomDataIds.includes(s.customDataID)||(s.manuallyUpdated=!0)})}):"schedule"!=this.parentComponent&&i.forEach(a=>{a.manuallyUpdated=!0}),this.onCustomDataChanged.emit(i),this.onCustomDataValidationError.emit(!this.cd.valid)})}prepareDataForParentComponent(t){let i=new Array;return t.forEach(r=>{let a=new Jl;switch(a.id=r.id,a.customDataID=r.customDataID,a.manuallyUpdated=r.manuallyUpdated,r.customDataTypeID){case 1:a.textValue=""==r.value?null:r.value,a.numberValue=null,a.customDataLookupID=null;break;case 2:a.textValue=null,a.numberValue=""==r.value||null==r.value?null:Number(r.value),a.customDataLookupID=null;break;case 3:a.textValue=null,a.numberValue=null,a.customDataLookupID=r.value}i.push(a)}),i}patchCustomDataForm(t){t&&t.length&&this.cd.controls.forEach(i=>{let r=i.controls.customDataID.value;t.forEach(a=>{a.customDataID==r&&(i.controls.value.setValue(a.textValue?a.textValue:a.numberValue?a.numberValue:a.customDataLookupID),i.controls.id.setValue(a.id),i.controls.manuallyUpdated.setValue(a.manuallyUpdated))})})}parentCustomDataSubscription(){this._customDataService.onReceivedCustomData.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.parentCustomData=t,this.getCustomDataIds(this.parentCustomData),setTimeout(()=>{this.patchCustomDataForm(this.parentCustomData)},500)})}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se.G),e.Y36(Mo.z),e.Y36(_.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-custom-data-management"]],inputs:{parentComponent:"parentComponent",parentId:"parentId",isCustomDataReadonly:"isCustomDataReadonly"},outputs:{onCustomDataChanged:"onCustomDataChanged",onCustomDataValidationError:"onCustomDataValidationError"},decls:3,vars:2,consts:[[3,"formGroup",4,"ngIf","ngIfElse"],["noData",""],[3,"formGroup"],[4,"ngFor","ngForOf"],["autocomplete","off",3,"formGroup",4,"ngIf"],["autocomplete","off",3,"formGroup"],[1,"col-12","custom-data-entry"],[1,"custom-data-label",3,"for"],["class","form-control form-control-sm custom-data-input","formControlName","value",3,"id",4,"ngIf"],["bindLabel","name","bindValue","id","formControlName","value","class","custom-data-select custom-data-input",3,"items","virtualScroll","id",4,"ngIf"],["class","validationError",4,"ngIf"],["formControlName","value",1,"form-control","form-control-sm","custom-data-input",3,"id"],["bindLabel","name","bindValue","id","formControlName","value",1,"custom-data-select","custom-data-input",3,"items","virtualScroll","id"],["ng-multi-label-tmp",""],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[1,"validationError"],[4,"ngIf"],[1,"col-12","font-size-12b-center"]],template:function(t,i){if(1&t&&(e.YNc(0,Af,2,2,"div",0),e.YNc(1,jm,3,0,"ng-template",null,1,e.W1O)),2&t){const r=e.MAs(2);e.Q6J("ngIf",i.systemCustomData.length&&i.customDataForm)("ngIfElse",r)}},dependencies:[D.sg,D.O5,_.Fj,_.JJ,_.JL,_.sg,_.u,Sn,er],styles:[".custom-data-label[_ngcontent-%COMP%], .custom-data-input[_ngcontent-%COMP%]{font-size:12px;color:#565d6f;margin-bottom:3px}.font-size-12b-center[_ngcontent-%COMP%]{font-size:12px;font-weight:bolder;color:#565d6f;text-align:center}.custom-data-entry[_ngcontent-%COMP%]{padding:0}"]}),n})(),mo=(()=>{class n{constructor(t){this.el=t,this.numbersRegex="^[0-9]+$"}onEvent(t){return"Backspace"==t.key||"ArrowLeft"==t.key||"ArrowRight"==t.key||"Delete"==t.key||new RegExp(this.numbersRegex).test(t.key)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","numbersOnlyMask",""]],hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(a){return i.onEvent(a)})}}),n})();function Ea(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Name ",t.message.required," ")}}function ro(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.limit50," ")}}function Pd(n,o){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,Ea,2,1,"div",19),e.YNc(2,ro,2,1,"div",19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.maxlength)}}function Ym(n,o){if(1&n&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.inUse," ")}}function Ed(n,o){if(1&n&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.inUse," ")}}function Hu(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" No of Days ",t.message.required," ")}}function Bu(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.numberRange," 1 and 730. ")}}function Bl(n,o){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,Hu,2,1,"div",19),e.YNc(2,Bu,2,1,"div",19),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.days.errors?null:t.f.days.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.f.days.errors?null:t.f.days.errors.pattern)||(null==t.f.days.errors?null:t.f.days.errors.max)||(null==t.f.days.errors?null:t.f.days.errors.min))}}function Mf(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",13)(2,"div",14)(3,"label",38),e._uU(4," No of Days*: "),e.qZA()(),e.TgZ(5,"div"),e._UZ(6,"input",39),e.qZA()(),e.YNc(7,Bl,3,2,"div",40),e.qZA()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",(null==t.f.days?null:t.f.days.touched)&&(null==t.f.days?null:t.f.days.errors))}}function Of(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"label",42),e._uU(3," Start Date*: "),e.qZA()(),e.TgZ(4,"div",43)(5,"div",44),e._UZ(6,"input",45),e.qZA(),e.TgZ(7,"div")(8,"img",46),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(10);return e.KtG(r.open())}),e.qZA()(),e._UZ(9,"mat-datepicker",47,48),e.qZA()()}if(2&n){const t=e.MAs(10),i=e.oxw(2);e.xp6(6),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("matDatepicker",t)("dateLengthTracker",i.dateLength),e.xp6(3),e.s9C("touchUi",i.isMobile)}}function Vu(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Start Date ",t.message.required," ")}}function qm(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function Z_(n,o){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,Vu,2,1,"div",19),e.YNc(2,qm,2,1,"div",19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.startDate.errors?null:t.f.startDate.errors.required)&&!(null!=t.f.startDate.errors&&t.f.startDate.errors.matDatepickerParse||null!=t.f.startDate.errors&&t.f.startDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.f.startDate.errors?null:t.f.startDate.errors.matDatepickerParse)||(null==t.f.startDate.errors?null:t.f.startDate.errors.minlength))}}function Pf(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"label",49),e._uU(3," End Date*: "),e.qZA()(),e.TgZ(4,"div",43)(5,"div",44),e._UZ(6,"input",50),e.qZA(),e.TgZ(7,"div")(8,"img",46),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(10);return e.KtG(r.open())}),e.qZA()(),e._UZ(9,"mat-datepicker",47,51),e.qZA()()}if(2&n){const t=e.MAs(10),i=e.oxw(2);e.xp6(6),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("matDatepicker",t)("dateLengthTracker",i.dateLength),e.xp6(3),e.s9C("touchUi",i.isMobile)}}function Ef(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" End Date ",t.message.required," ")}}function Gu(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," End Date must be after Start Date. "),e.qZA())}function If(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function Id(n,o){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,Ef,2,1,"div",19),e.YNc(2,Gu,2,0,"div",19),e.YNc(3,If,2,1,"div",19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate.errors?null:t.f.endDate.errors.required)&&!(null!=t.f.endDate.errors&&t.f.endDate.errors.matDatepickerParse||null!=t.f.endDate.errors&&t.f.endDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",null==t.f.endDate.errors?null:t.f.endDate.errors.invalidDate),e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate.errors?null:t.f.endDate.errors.matDatepickerParse)||(null==t.f.endDate.errors?null:t.f.endDate.errors.minlength))}}function Wu(n,o){1&n&&e._UZ(0,"i",52)}function Vl(n,o){1&n&&e._UZ(0,"i",53)}function Nd(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"button",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.copyDataForward())}),e._UZ(2,"i",55),e._uU(3," Copy Data "),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabledCopyButton)}}function Qu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveSchedule())}),e.TgZ(1,"div",1)(2,"div",12)(3,"div",1)(4,"div",13)(5,"div",14)(6,"label",15),e._uU(7," Name*: "),e.qZA()(),e.TgZ(8,"div",16),e._UZ(9,"input",17),e.qZA()(),e.YNc(10,Pd,3,2,"div",18),e.YNc(11,Ym,2,1,"div",18),e.YNc(12,Ed,2,1,"div",18),e.YNc(13,Mf,8,1,"div",19),e.YNc(14,Of,11,4,"div",20),e.YNc(15,Z_,3,2,"div",18),e.YNc(16,Pf,11,4,"div",20),e.YNc(17,Id,4,3,"div",18),e.TgZ(18,"div",21)(19,"div",22)(20,"div",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.showCustomData())}),e.TgZ(21,"div",24)(22,"label",25),e._uU(23," Custom data\xa0 "),e.qZA()(),e.TgZ(24,"div",26)(25,"span"),e.YNc(26,Wu,1,0,"i",27),e.YNc(27,Vl,1,0,"i",28),e.qZA()()(),e.TgZ(28,"div",29)(29,"div",30)(30,"app-custom-data-management",31),e.NdJ("onCustomDataChanged",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateCustomData(r))})("onCustomDataValidationError",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateFormValidation(r))}),e.qZA()()()()()(),e.TgZ(31,"div",32)(32,"div"),e.YNc(33,Nd,4,1,"div",33),e.TgZ(34,"div",34)(35,"button",35),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialogConfirm())}),e._uU(36," Cancel "),e.qZA()(),e.TgZ(37,"div",34)(38,"button",36),e._uU(39," Save Changes "),e.qZA()()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.scheduleForm),e.xp6(10),e.Q6J("ngIf",(null==t.f.name?null:t.f.name.touched)&&(null==t.f.name?null:t.f.name.errors)),e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.nameInUse),e.xp6(1),e.Q6J("ngIf",t.isTemplate&&(null==t.f.name.errors?null:t.f.name.errors.templateNameInUse)&&!(null!=t.f.name.errors&&t.f.name.errors.required)),e.xp6(1),e.Q6J("ngIf",t.isTemplate),e.xp6(1),e.Q6J("ngIf",!t.isTemplate),e.xp6(1),e.Q6J("ngIf",(null==t.f.startDate?null:t.f.startDate.touched)&&(null==t.f.startDate?null:t.f.startDate.errors)),e.xp6(1),e.Q6J("ngIf",!t.isTemplate),e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate?null:t.f.endDate.touched)&&(null==t.f.endDate?null:t.f.endDate.errors)),e.xp6(9),e.Q6J("ngIf",!t.areShownCustomData),e.xp6(1),e.Q6J("ngIf",t.areShownCustomData),e.xp6(3),e.Q6J("parentComponent",t.componentName)("parentId",t.scheduleID),e.xp6(3),e.Q6J("ngIf",t.showCopyDataButton()),e.xp6(2),e.Q6J("disabled",t.saveButton),e.xp6(3),e.Q6J("disabled",t.saveButton)}}let zu=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x){this._dialogRef=t,this.data=i,this._scheduleService=r,this._copyScheduleDataService=a,this._messageService=s,this.customValidator=l,this._emitter=c,this._fb=u,this._customDataService=h,this._templateService=x,this.saveButton=!1,this.isMobile=!1,this.areShownCustomData=!1,this.isManager=!0,this.isEdit=!1,this.disabledCopyButton=!1,this.isTemplate=!1,this._ngUnsubscribe=new b.x,this.customDataHasValidationErrors=!1,this.existingCustomData=new Array,this.scheduleID=0,this.componentName="schedule",this.dateLength=ai.YG.length,this.lockedRanges=[],this.canCopyForward=!0}ngOnInit(){this.approvedDateRanges=this.data.approvedDateRanges,this.viewedRangeStart=this.data.viewedRange.start,this.viewedRangeEnd=this.data.viewedRange.end,this.message=St.yw,this.isTemplate=this.data.isTemplate,"update"==this.data.FunctionType&&(this.scheduleID=Number(this.data.scheduleEdit)),this.buildScheduleForm(),this.trackInputEntry(),this.getById(this.data.scheduleEdit),this.inerWidth()}closeDialogConfirm(){this._dialogRef.close()}inerWidth(){this.isMobile=window.innerWidth<425}showCustomData(){this.areShownCustomData?(this.areShownCustomData=!1,document.getElementById("customDataShown").style.display="none"):(this.areShownCustomData=!0,document.getElementById("customDataShown").style.display="block")}buildScheduleForm(){this.scheduleForm=this._fb.group({id:[0],name:["",{validators:[_.kI.required,_.kI.maxLength(50)],updateOn:"change"}],startDate:["",{validators:[_.kI.required],updateOn:"change"}],endDate:["",{validators:[_.kI.required],updateOn:"change"}],days:["",{validators:[_.kI.required,_.kI.min(1),_.kI.max(730),_.kI.pattern("^[0-9]*$")],updateOn:"change"}],customData:[]},{validators:[(0,hr.qO)("startDate","endDate")]})}getById(t){"create"==this.data.FunctionType?this.title="Create Schedule":(this.title=this.isTemplate?"Update Template":"Update Schedule",this.isEdit=!0,this._scheduleService.getById(t,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.templateScheduleData=i,this.scheduleForm.patchValue(i),this.scheduleName=i.name,this.existingCustomData=i.customData,this.isTemplate||(this.oldScheduleStartDate=i.startDate,this.oldScheduleEndDate=i.endDate),setTimeout(()=>{this._customDataService.onReceivedCustomData.next(this.existingCustomData)},100)},i=>{this._messageService.open(i)}))}saveSchedule(){this.isTemplate?this.scheduleForm.controls.days.enable():this.scheduleForm.controls.days.disable(),Object.keys(this.scheduleForm.controls).forEach(i=>{const r=this.scheduleForm.get(i);if("string"===vs[i]&&r.value){let a=r.value.trim();r.setValue(a)}r.markAsTouched({onlySelf:!0})});const t=setInterval(()=>{"PENDING"!==this.scheduleForm.status&&(clearInterval(t),this.scheduleForm.valid&&!this.customDataHasValidationErrors?(this.saveButton=!0,"create"==this.data.FunctionType?("object"==typeof this.scheduleForm.controls.startDate.value&&this.scheduleForm.controls.startDate.setValue(W(this.scheduleForm.controls.startDate.value).format("YYYY-MM-DDT00:00:00")),"object"==typeof this.scheduleForm.controls.endDate.value&&this.scheduleForm.controls.endDate.setValue(W(this.scheduleForm.controls.endDate.value).format("YYYY-MM-DDT23:59:59")),this._scheduleService.create(this.scheduleForm.value).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this._emitter.sendEvent(new Aa("schedule","create",i.id,this.data.isTemplate)),this.saveButton=!0,this._dialogRef.close()},i=>{this._messageService.open(i),this.saveButton=!1})):"update"==this.data.FunctionType&&("object"==typeof this.scheduleForm.controls.startDate.value&&this.scheduleForm.controls.startDate.setValue(W(this.scheduleForm.controls.startDate.value).format("YYYY-MM-DDT00:00:00")),"object"==typeof this.scheduleForm.controls.endDate.value&&this.scheduleForm.controls.endDate.setValue(W(this.scheduleForm.controls.endDate.value).format("YYYY-MM-DDT23:59:59")),this._scheduleService.edit(this.scheduleForm.value,this.scheduleForm.controls.id.value,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{var r="",a="";try{var s=JSON.parse("["+i+"]");r=s[0][0],a=s[0][1]}catch(l){r=""}""==r?(this._emitter.sendEvent(new Aa("schedule","edit",this.isTemplate?this.templateScheduleData:this.scheduleForm.controls.id.value,this.isTemplate)),this.isTemplate&&this._templateService.sendTemplateSignal({name:this.scheduleForm.controls.name.value,templateId:this.scheduleForm.controls.id.value}),this.saveButton=!0,this._dialogRef.close(),this.isTemplate||(this.oldScheduleStartDate!=this.scheduleForm.controls.startDate.value||this.oldScheduleEndDate!=this.scheduleForm.controls.endDate.value)&&this._messageService.open("The start/end date of the schedule and any subgroups within it have been changed.")):(this._messageService.open(""+a),this.saveButton=!1)},i=>{this._messageService.open(i),this.saveButton=!1}))):this._messageService.open(this.message.fillForm))},100)}get f(){if(this.scheduleForm)return this.scheduleForm.controls}showCopyDataButton(){if(1==this.isEdit&&1==this.isManager)return!0}copyDataForward(){this.lockedRanges=[],this.canCopyForward=!0;let t=W(this.viewedRangeEnd).diff(W(this.viewedRangeStart),"days")+1,i=W(this.viewedRangeStart).clone().add(t,"days").format("YYYY-MM-DD"),r=W(this.viewedRangeEnd).clone().add(t,"days").format("YYYY-MM-DD");this.approvedDateRanges.forEach(a=>{a.startDate!==this.viewedRangeStart&&a.endDate!==this.viewedRangeEnd&&this.lockedRanges.push(a)}),this.lockedRanges.length&&this.lockedRanges.forEach(a=>{this.canCopyForward=!(0,wt.Fp)(a.startDate,a.endDate,i)&&!(0,wt.Fp)(a.startDate,a.endDate,r)&&!(0,wt.$5)(i,r,a.startDate,a.endDate)}),this.canCopyForward?(this._copyScheduleDataService.sendSignal(),this.disabledCopyButton=!0,this._dialogRef.close()):this._messageService.open("Cannot copy to locked period.")}trackInputEntry(){this.scheduleForm.controls.name.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{t&&(this.isTemplate?this._templateService.checkIfTemplateNameIsUnique(t.trim(),this.scheduleForm.controls.id.value).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{let r=!!t.trim();200==i&&r?this.scheduleForm.controls.name.setErrors(null):201==i&&this.scheduleForm.controls.name.setErrors({templateNameInUse:!0})}):this._scheduleService.checkIfNameIsUnique(t.trim(),this.scheduleForm.controls.id.value).subscribe(i=>{let r=!!t.trim();200==i&&r&&this.scheduleForm.controls.name.setErrors(null)},i=>{"Schedule name has been occupied by another schedule."===i.error&&this.scheduleForm.controls.name.setErrors({nameInUse:!0})}))})}updateCustomData(t){this.f.customData.setValue(t,{emitEvent:!1})}updateFormValidation(t){this.customDataHasValidationErrors=t}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.so),e.Y36(z.WI),e.Y36(Yl.S),e.Y36(el),e.Y36(se.G),e.Y36(ql.x),e.Y36(sn),e.Y36(_.qu),e.Y36(Mo.z),e.Y36(_s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shedule-dialog"]],decls:12,vars:2,consts:[[1,"container"],[1,"row"],[1,"card_body","col-12"],["id","eSolveTitleRow",1,"form-row","row"],[1,"form-group","col-12"],[1,"col-10","d-flex","card_title"],[1,"title-left"],[1,"col-2","justify-content-end","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"eSolveMargin"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"container-jcBetween","col-12","d-flex","justify-content-between"],[1,"col-12","d-flex","justify-content-start","g-margin-bottom-5"],[1,"min-width-100px"],["for","eSolveName",1,"col-form-label","col-form-label-sm","font-size-12b"],[1,"eSolveNameDiv"],["id","eSolveName","placeholder","Name","required","","name","name","maxlength","50","formControlName","name",1,"form-control","eSolve-font-size","form-control-sm"],["class","col-12 validationError",4,"ngIf"],[4,"ngIf"],["class","col-12 d-flex justify-content-start g-margin-bottom-5",4,"ngIf"],[1,"col-12","font-size-12"],["id","customDataHeader",1,"form-row","row","add_data_header"],[1,"d-flex","full-width","align-center","col-12",3,"click"],[1,"justify-content-start","full-width","custom_data_label"],[1,"col-form-label","add_data_header"],[1,"justify-content-end","custom_data_label_span"],["class","fas fa-plus",4,"ngIf"],["class","fas fa-minus",4,"ngIf"],["id","customDataShown",1,"col-12","flex-row","subgroup-customdata","g-display-none"],[1,"form-control","g-thin-black-scroll-bar","cdListHeight"],[3,"parentComponent","parentId","onCustomDataChanged","onCustomDataValidationError"],[1,"row","d-flex","align-items-end","btn-container"],["class","col-12",4,"ngIf"],[1,"col-12"],["id","cancelButton","type","button",1,"cancel-button","btn","p-2","modal-btn","eSolve-font-size",3,"disabled","click"],["id","submitButton","type","submit",1,"submit-new-button","btn","p-2","modal-btn","eSolve-font-size",3,"disabled"],[1,"col-12","validationError"],["for","days",1,"col-form-label","col-form-label-sm","font-size-12b"],["type","number","name","days","id","days","formControlName","days","numbersOnlyMask","",1,"form-control","font-size-12","form-control-sm"],["class","validationError col-12",4,"ngIf"],[1,"validationError","col-12"],["for","eSolveStartDate",1,"col-form-label","col-form-label-sm","font-size-12b"],[1,"d-flex","jusify-content-start"],[1,"min-width-150px"],["required","","id","eSolveStartDate","name","startDate","formControlName","startDate",1,"form-control","form-control-sm","eSolve-font-size",3,"placeholder","matDatepicker","dateLengthTracker"],["src","assets/icons/calendar-icon.png",1,"calendar-icon-img2",3,"click"],[3,"touchUi"],["scheduleStartDatePicker",""],["for","eSolveEndDate",1,"col-form-label","col-form-label-sm","font-size-12b"],["required","","id","eSolveEndDate","name","endDate","formControlName","endDate",1,"form-control","form-control-sm","font-size-12",3,"matDatepicker","dateLengthTracker","placeholder"],["scheduleEndDatePicker",""],[1,"fas","fa-plus"],[1,"fas","fa-minus"],["id","copyData","type","button",1,"copy-job-button","btn","p-2","modal-btn",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-clone"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.qZA()(),e.TgZ(8,"div",7)(9,"img",8),e.NdJ("click",function(){return i.closeDialogConfirm()}),e.qZA()()()(),e._UZ(10,"hr",9),e.YNc(11,Qu,40,16,"form",10),e.qZA()()()),2&t&&(e.xp6(7),e.hij(" ",i.title," "),e.xp6(4),e.Q6J("ngIf",i.scheduleForm))},dependencies:[D.O5,On.Mq,On.hl,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.nD,_.sg,_.u,rr,Ju,mo],styles:["#eSolveTitleRow[_ngcontent-%COMP%]{max-height:40px;position:relative}.card_title[_ngcontent-%COMP%]{font-size:17px;padding-left:0}.title-left[_ngcontent-%COMP%]{font-weight:700}.eSolveCloseButtom[_ngcontent-%COMP%]{position:relative;float:right;top:-21px;padding-right:0}#dialog-close-x[_ngcontent-%COMP%]{position:relative;width:15px}.calendar-icon-img2[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:5px;border-radius:0%;position:relative;left:-30px;top:1px;cursor:pointer}.min-width-100px[_ngcontent-%COMP%]{min-width:100px}.min-width-150px[_ngcontent-%COMP%]{min-width:150px}.font-size-12b[_ngcontent-%COMP%]{font-size:12px;font-weight:bolder;color:#565d6f}.font-size-12[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.eSolveMargin[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-top:0rem}.submit-new-button[_ngcontent-%COMP%]{border-radius:4px;text-align:center;float:right;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:0 2px 5px #00000042;width:200px;height:25px}.cancel-button[_ngcontent-%COMP%]{border-radius:4px;text-align:center;text-decoration:none;float:right;border:none;outline:none;color:#fff;background-color:#404f64;box-shadow:0 2px 5px #00000042;margin-bottom:5px;width:200px;height:25px}.copy-job-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042;margin-bottom:7px}.modal-btn[_ngcontent-%COMP%]{height:30px;width:200px}.full-width[_ngcontent-%COMP%]{width:100%}.margin-bottom-3[_ngcontent-%COMP%]{margin-bottom:3px}.eSolveNameDiv[_ngcontent-%COMP%]{width:200px}#eSolveName[_ngcontent-%COMP%]{width:100%}#days[_ngcontent-%COMP%]{max-width:60px}.fas.fa-plus[_ngcontent-%COMP%], .fas.fa-minus[_ngcontent-%COMP%]{font: 14px/1 FontAwesome;vertical-align:middle}#customDataHeader[_ngcontent-%COMP%]{vertical-align:middle;width:300px;margin-left:0}#customDataHeader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px}.subgroup-customdata[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.cdListHeight[_ngcontent-%COMP%]{height:256px;overflow-y:auto}.add_data_header[_ngcontent-%COMP%]{color:#a0a5ac;background-color:#f2f3f5;cursor:pointer;padding-left:0!important}.custom_data_label_span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#a0a5ac;background-color:#f2f3f5;cursor:pointer}.align-center[_ngcontent-%COMP%]{-ms-flex-align:center!important;align-items:center!important}#customData[_ngcontent-%COMP%]{margin-bottom:0}.fa-plus[_ngcontent-%COMP%]:before{vertical-align:middle}i.fas.fa-minus[_ngcontent-%COMP%]{vertical-align:middle}.lookup[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;padding-top:0}.lookup[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:28px}#customData[_ngcontent-%COMP%]{margin-bottom:0;padding-left:16px}#eSolveCustomData[_ngcontent-%COMP%], .eSolveCustomDataNumber[_ngcontent-%COMP%]{position:relative}@media (max-width: 767px){.container-jcBetween[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}.btn-container[_ngcontent-%COMP%]{margin-top:5px;-ms-flex-pack:center!important;justify-content:center!important}}@media (max-width: 490px){.min-width-100px[_ngcontent-%COMP%]{min-width:75px}.eSolveNameDiv[_ngcontent-%COMP%]{width:100%}.min-width-150px[_ngcontent-%COMP%]{min-width:100%}.cdListHeight[_ngcontent-%COMP%], #customDataHeader[_ngcontent-%COMP%]{width:100%}}"]}),n})();var Ri=J(21164);let Ku=(()=>{class n{constructor(t){this._detailsDialogRef=t,this.logoutMessage="Are you sure you want to log out? This may log you out of other Advanced applications."}ngOnInit(){}closeDialog(){this._detailsDialogRef.close(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-logout-confirmation-dialog"]],decls:22,vars:3,consts:[[1,"row","mb-3"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"row","delete-warning-content"],[1,"col-12"],[1,"dialog-message"],[1,"col-12","d-flex","justify-content-center"],[1,"row","d-flex","justify-content-end"],[1,"col-sm-12","col-md-3"],["id","cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"mat-dialog-close"],[1,"col-sm-12","col-md-4"],["id","continue-button",1,"eSolve-button","eSolve-blue-button",3,"mat-dialog-close"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"strong"),e._uU(5," Log Out "),e.qZA()(),e.TgZ(6,"div",4)(7,"img",5),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"strong")(11,"span",8),e._uU(12),e.qZA()()(),e.TgZ(13,"div",9),e._UZ(14,"hr"),e.qZA()(),e.TgZ(15,"div",10)(16,"div",11)(17,"button",12),e._uU(18," Cancel "),e.qZA()(),e.TgZ(19,"div",13)(20,"button",14),e._uU(21," Log out "),e.qZA()()()),2&t&&(e.xp6(12),e.hij(" ",i.logoutMessage," "),e.xp6(5),e.Q6J("mat-dialog-close",!1),e.xp6(3),e.Q6J("mat-dialog-close",!0))},dependencies:[z.ZT],styles:[".warning-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.dialog-message[_ngcontent-%COMP%]{text-align:center;white-space:pre-line}.dialog-message[_ngcontent-%COMP%]{font-size:12px}.eSolve-button[_ngcontent-%COMP%], .blue_hr[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}@media (max-width: 767px){#continue-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),n})(),Yo=(()=>{class n{constructor(){this.canChangeStructure=new _i.X(!1),this.canAssignEmployees=new _i.X(!1),this.canSeeEmployeesNames=new _i.X(!1),this.canSubmitDateRangeForApproval=new _i.X(!1),this.canOfferJob=new _i.X(!1),this.scheduleIDindicator=new b.x}changePermissionForChangingStructures(t){this.canChangeStructure.next(t)}changePermissionForOfferJob(t){this.canOfferJob.next(t)}changePermissionForAssigningEmployees(t){this.canAssignEmployees.next(t)}changePermissionForSeeingEmployeesNames(t){this.canSeeEmployeesNames.next(t)}changeScheduleIDindicator(t){this.scheduleIDindicator.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Lr=J(92181);const Jm=["eSolveNavbar"],Nf=["notificationTooltipTrigger"],Rf=["selectScheduleDOM"];function Hm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleSidebar())}),e._UZ(1,"i",32),e.qZA()}}function Bm(n,o){if(1&n&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.pageTitleName," ")}}const L_=function(n){return{"header-hide-arrow-template-dropdown":n}};function U_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",34),e.NdJ("touchstart",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchStart(r))})("touchend",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchEnd(r))}),e.TgZ(1,"div",35)(2,"ng-select",36,37),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedSchedule=r)})("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectedSchedule(r))}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.selectedSchedule)("items",t.schedules)("clearable",!1)("searchable",!0)("virtualScroll",!0)("ngClass",e.VKq(6,L_,!t.displayScheduleSelectArrow))}}function j_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createSchedule())}),e._uU(2,"New Schedule\xa0\xa0 "),e._UZ(3,"i",39),e.qZA()()}}function Y_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",40)(2,"ng-select",41),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.templateName=r)}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.templateName)("items",t.templateNames)("clearable",!1)("searchable",!1)}}function Ff(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",35)(2,"button",42),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onContextMenu(r))}),e._UZ(3,"i",43),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.contextMenuBtn)}}function q_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",44),e.NdJ("mouseenter",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleTooltip(r,"show"))})("mouseleave",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleTooltip(r,"hide"))}),e.TgZ(1,"span",45),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openNotifications())}),e._UZ(2,"i",46),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.uIk("data-count",t.notificationsIndicator)}}function J_(n,o){if(1&n&&e._UZ(0,"img",47),2&n){const t=e.oxw();e.Q6J("src",t.sanitizeImage(t.employeeImage),e.LSH)}}function Zf(n,o){1&n&&e._UZ(0,"img",48)}function Vm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.myProfileReroute())}),e._UZ(1,"i",50),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"My Profile")," "))}const Gm=function(n){return{"emp-header-pad":n}};let Jc=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De,Ge,We,gt){this.translate=t,this.router=i,this.componentInteractionService=r,this.renderer=a,this.titleService=s,this.calendarService=l,this._syncService=c,this._sanitizer=u,this._notificationsService=h,this._userRoleService=x,this._permissionsService=T,this.dialog=O,this._profileService=U,this._messageService=re,this._templateService=de,this._scheduleManagmentService=ve,this._sideBarService=Ne,this._authService=De,this.zone=Ge,this._sessionTimerService=We,this._dialogService=gt,this.isOnSchedules=!1,this.isOnTemplates=!1,this.schedules=[],this.dto=new Aa,this.notificationsIndicator="0",this.notificationsTooltipMenuPosition={x:"",y:""},this.notificationsTooltipContent="",this.showScheduleDropdown=!0,this.canAccessAccountSettings=!1,this.canUserAccessSyncButton=!1,this.canLogOut=!0,this.ngUnsubscribe=new b.x,this.templateNames=[""],this.templateId=-5,this.displayScheduleSelectArrow=!0,this.applicationHasLicense=!0,this.approvedScheduleDateRanges=new Array,this.isTemplateDetails=!1,this.contextMenuBtn=!0,this.canUserAccessManagement=!1,this.logoutText="Are you sure you want to log out? This may log you out of other Advanced applications.",this._updateNotificationsCount=new e.vpe,this.getLoggedUserId(),this.router.events.subscribe(rt=>{rt instanceof q.m2&&window.innerWidth<=992&&this.isToggled()&&this.toggleSidebar()}),this.subscription=this.titleService.getTitle().subscribe(rt=>{this.selectedSchedule=null,this.isOnSchedules="Schedules"===rt.text,this.isOnTemplates="Template"===rt.text,this.contextMenuBtn=!0,rt?(this.splitArray=rt.text.split(">"),this.pageTitle=this.splitArray[0],"Manage Employees"===this.pageTitle&&"Employee"===this.role&&(this.splitArray[1]=" Employee Details"),this.pageTitleName=">"+this.splitArray[1]):this.pageTitle="Dashboard"}),this.refetchSchedulesSubscription=this.calendarService.refetchSchedules.subscribe(rt=>{this._getAllSchedules(),rt>0&&(this.selectedSchedule=rt),0==rt&&this.selectScheduleDropDownElement&&this.selectScheduleDropDownElement.handleClearClick()}),this.subscribeToSignalRSignals(),this.scheduleNavigationByNotificationSubscription=this.calendarService.onNotificationNavigation.subscribe(rt=>{setTimeout(()=>{this.selectedSchedule=rt,this.dto.type="selectedSchedule",this.dto.payload=rt,this.calendarService.onSelectedSchedule.next(this.dto),this.calendarService.scheduleIdEmitter.next(rt)},100)}),this.scheduleNavigationByDateRangeApprovalSubscription=this.calendarService.navigatedFromApprovalTable.subscribe(rt=>{switch(rt){case 0:this.showScheduleDropdown=!0,this.displayScheduleSelectArrow=!0;break;case 1:case 2:this.displayScheduleSelectArrow=!1;break;case 3:this.displayScheduleSelectArrow=!0,this.canLogOut=!0}}),this.unreadNotificationsClearedSubscription=this._notificationsService.unreadNotificationsCount.subscribe(rt=>{this.notificationsIndicator=rt>99?"99+":rt.toString()}),this._notificationsService.headerLoadedIndicator.next(0)}onSelectedSchedule(t){try{this.selectedSchedule=t.id,this.contextMenuBtn=!1}catch(i){this.selectedSchedule=0}this.dto.type=pt.hx.selectedSchedule,this.dto.payload=this.selectedSchedule,this.provideSchedulePermissions(),this.calendarService.scheduleIdEmitter.next(this.selectedSchedule),this.calendarService.onSelectedSchedule.next(this.dto)}onClick(t){let i=!1;const r=t.path||t.composedPath&&t.composedPath();for(let a=0;a<r.length;a++)try{r[a].classList.contains("selectSchedule")&&(i=!0)}catch(s){}this.dropdown=!!i&&!this.dropdown}_getAllSchedules(){if("User"==this.role)if(this.templateId>=0)this._scheduleManagmentService.getTemplateScheduleById(this.templateId).subscribe(t=>{this.schedules=[],this.schedules[0]=t,this.selectedSchedule=this.schedules[0],this.dto.type=pt.hx.selectedSchedule,this.dto.payload=this.selectedSchedule,this._permissionsService.changePermissionForAssigningEmployees(this.selectedSchedule.canAssignSchedule),this._permissionsService.changePermissionForChangingStructures(this.selectedSchedule.canChangeScheduleStructure),this._permissionsService.changePermissionForSeeingEmployeesNames(this.selectedSchedule.canSeeScheduleEmployeesNames),this._permissionsService.changePermissionForOfferJob(this.selectedSchedule.canOfferJob),this.calendarService.onSelectedSchedule.next(this.dto),this.templateId=-5,this.contextMenuBtn=!1});else{let t=new b.x;setTimeout(()=>{this.isOnTemplates||(this.subscription=this.calendarService.getSchedules().pipe((0,H.R)(t)).subscribe(i=>{this.schedules=i,t.next(!0),t.complete()}))},0)}else"Employee"==this.role&&(this.schedules=[])}onContextMenu(t){if(void 0!==window.orientation)return t.preventDefault(),void t.stopPropagation();this.dropdown=!1,this.dto.type=pt.hx.contextMenu,this.dto.payload=t,this.provideSchedulePermissions(),this.calendarService.onSelectedSchedule.next(this.dto)}ngOnInit(){this.pushRightClass="push-right",this.employeeImage=localStorage.getItem("userImage"),this.loggedUserName=localStorage.getItem("loggedUserName"),this.isSuperAdmin=localStorage.getItem("isSuperAdmin"),this.contextMenuBtn=!0,this.setImageAndCredentials(),this.getRole(),this.provideSchedulePermissions(),this.fetchProfilePermissions(),this._userRoleService.updatePermissions.subscribe(()=>{this.fetchProfilePermissions()}),this.responseSubscription=this._templateService.receiveTemplateSignal().subscribe(t=>{this.templateName=t.name,this.templateId=t.templateId}),this.responseFromSidebar=this._sideBarService.receiveTemplateIdSidebar().subscribe(t=>{this.templateId=t}),this._userRoleService.updateLoggedInUserName.subscribe(t=>{this.loggedUserName=t})}setAccountSettingsAccessibility(){setTimeout(()=>{const t=this._userRoleService.getGlobalAccountPermissions();this.applicationHasLicense=t.applicationHasLicense,this.canUserAccessManagement=t.canUserAccessManagement,null!=t&&null!=t&&(this.canAccessAccountSettings=null!=t.canEmployeeChangePassword&&null!=t.canEmployeeChangePassword&&!!t.canEmployeeChangePassword&&t.canEmployeeChangePassword,null!=t.canUserAccessShifts&&null!=t.canUserAccessShifts&&(n.canUserAccessShifts=t.canUserAccessShifts)),"User"==this.role&&(this.canAccessAccountSettings=!0,t.applicationHasLicense||this.router.navigate(["/system-preferences"]),t&&void 0!==t.canUserSyncButton&&null!=t.canUserSyncButton&&(this.canUserAccessSyncButton=t.canUserSyncButton))},200)}setImageAndCredentials(){this._userRoleService.credentials.subscribe(t=>{if(null!==t){this.loggedUserName=t;const i=localStorage.getItem("userImage");null!=i&&(this.employeeImage=i)}})}ngAfterViewInit(){this.notificationTooltipTrigger.menu.hasBackdrop=!1,this.reloadUnreadNotificationsSub=this._notificationsService.reloadUnreadNotificationsCount.subscribe(()=>{this.setUnreadNotificationsCount(),this._updateNotificationsCount.next(!0)}),this.setUnreadNotificationsCount(),this._updateNotificationsCount.next(!0)}getRole(){this._userRoleService.loggedUserRole.subscribe(t=>{this.role=t,"User"==this.role&&(this.canAccessAccountSettings=!0)})}getLoggedUserId(){this._userRoleService.loggedUserId.subscribe(t=>{this.personalId=t})}provideSchedulePermissions(){let t=new b.x;this._permissionsService.scheduleIDindicator.pipe((0,H.R)(t)).subscribe(i=>{if(this.isOnTemplates)return mf.C;let r=new b.x;this.calendarService.getSchedules().pipe((0,H.R)(r)).subscribe(a=>{this.schedules=a,this.schedules.forEach(s=>{s.id==i&&(this.contextMenuBtn=!1,this._permissionsService.changePermissionForChangingStructures(s.canChangeScheduleStructure),this._permissionsService.changePermissionForAssigningEmployees(s.canAssignSchedule),this._permissionsService.changePermissionForSeeingEmployeesNames(s.canSeeScheduleEmployeesNames),this._permissionsService.changePermissionForOfferJob(s.canOfferJob))}),r.next(!0),r.complete()}),t.next(!0),t.complete()})}ngOnChanges(t){window.innerWidth>992?this.navbar&&this.renderer.setStyle(this.navbar.nativeElement,"left",!0===this.shiftNavbar?"80px":"310px"):this.renderer.setStyle(this.navbar.nativeElement,"left","0px")}isToggled(){return document.querySelector("body").classList.contains(this.pushRightClass)}toggleSidebar(){window.innerWidth<=992?document.querySelector("body").classList.toggle(this.pushRightClass):this.componentInteractionService.mediumSidebarToggleSource.next("collapse")}rltAndLtr(){document.querySelector("body").classList.toggle("rtl")}onLoggedout(){this.canLogOut?this.dialog.open(Ku,{width:"390px",panelClass:"confirm-dialog",disableClose:!0}).afterClosed().subscribe(t=>{t&&this.zone.run(()=>{this._sessionTimerService.stopTimer(),this._notificationsService.closeConnection(),this._authService.logout(!0)})}):this._messageService.open("You cannot log out while your Schedule is unlocked.")}changeLang(t){this.translate.use(t)}myProfileReroute(){let t;this.pageTitle="Profile","Employee"===this.role?(t=["/manage-employees/details"],this.router.navigate(t)):this.router.navigateByUrl("user-details",{state:{id:this.personalId}})}reroute(t){this.router.navigate(t)}sanitizeImage(t){return this._sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+t)}getDecodedAccessToken(t){try{return(0,ue.Z)(t)}catch(i){return null}}openNotifications(){this.dialog.open(Zm,{autoFocus:!1,data:{id:this.personalId,isUser:"User"==this.role},width:"550px",position:{right:"5px",top:"57px"},panelClass:["max-height96","notifications-dialog-class"]}).afterClosed().subscribe(()=>{})}toggleTooltip(t,i){switch(i){case"show":this.notificationsTooltipContent=Number(this.notificationsIndicator.substring(0,1))>0?this.notificationsIndicator+" notifications":"No current notifications",t.stopPropagation(),t.preventDefault(),this.notificationsTooltipMenuPosition.x=t.clientX+"px",this.notificationsTooltipMenuPosition.y=t.clientY+30+"px",this.notificationTooltipTrigger.openMenu();break;case"hide":this.notificationTooltipTrigger.closeMenu()}}subscribeToSignalRSignals(){this._notificationsService.signalReceived.subscribe(t=>{this.notificationsIndicator=t>99?"99+":t.toString()})}onTouchStart(t){this.timeout=setTimeout(()=>{this.interval=setInterval(()=>{this.calendarService.deviceScheduleSelectLongTouch.next(t),clearTimeout(this.timeout),clearInterval(this.interval)},50)},600)}onTouchEnd(t){clearTimeout(this.timeout),clearInterval(this.interval)}setUnreadNotificationsCount(){(0,ie.T)(this._updateNotificationsCount,this._notificationsService.shouldUpdateUnreadNotifications).pipe((0,H.R)(this.ngUnsubscribe),(0,j.w)(()=>{const t=Number(localStorage.getItem("id"));return this._notificationsService.checkUnreadNotificationsCount(t,"User"==this.role)})).subscribe(t=>{setTimeout(()=>{this._notificationsService.unreadNotificationsCount.next(t)},100)})}fetchProfilePermissions(){let t=new b.x;this._profileService.getProfilePermissions().pipe((0,H.R)(t)).subscribe(i=>{this._userRoleService.setGlobalAccountPermissions(i),this._userRoleService.refetchPermissions.next(!0),this.setAccountSettingsAccessibility(),t.next(!0),t.complete()})}ngOnDestroy(){this.subscription.unsubscribe(),this.responseSubscription&&this.responseSubscription.unsubscribe(),this.responseFromSidebar&&this.responseFromSidebar.unsubscribe(),this.refetchSchedulesSubscription.unsubscribe(),this.scheduleNavigationByNotificationSubscription.unsubscribe(),this.scheduleNavigationByDateRangeApprovalSubscription.unsubscribe(),this.unreadNotificationsClearedSubscription.unsubscribe(),this.reloadUnreadNotificationsSub.unsubscribe(),this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete()}createSchedule(){this.openScheduleDialog(this.selectedSchedule,"create")}openScheduleDialog(t,i){this.dialogRef=this.dialog.open(zu,{autoFocus:!1,disableClose:!0,width:"600px",data:{scheduleEdit:t,FunctionType:i,approvedDateRanges:this.approvedScheduleDateRanges,isTemplate:this.isTemplateDetails,viewedRange:{start:this.startDateForRequest,end:this.endDateForRequest}},panelClass:["max-height96"]})}clearSchedule(t){t&&this.ngOnInit()}}return n.canUserAccessShifts=!1,n.\u0275fac=function(t){return new(t||n)(e.Y36(E.sK),e.Y36(q.F0),e.Y36(Su.M),e.Y36(e.Qsj),e.Y36(ce.Z),e.Y36(Nc),e.Y36(G),e.Y36(we.H7),e.Y36(fe.T),e.Y36(qi.J),e.Y36(Yo),e.Y36(z.uw),e.Y36(yr.H),e.Y36(se.G),e.Y36(_s),e.Y36(Yl.S),e.Y36(Sa),e.Y36(Ir.e),e.Y36(e.R0b),e.Y36(Rc.Z),e.Y36(Ri.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-header"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Jm,5),e.Gf(Nf,5),e.Gf(Rf,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.navbar=r.first),e.iGM(r=e.CRH())&&(i.notificationTooltipTrigger=r.first),e.iGM(r=e.CRH())&&(i.selectScheduleDropDownElement=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("click",function(a){return i.onClick(a)},!1,e.evT)},inputs:{shiftNavbar:"shiftNavbar"},features:[e.TTD],decls:38,vars:24,consts:[["id","eSolve-navbar",1,"navbar","navbar-expand-lg","fixed-top"],["eSolveNavbar",""],["class","navbar-toggler hamburger_btn","type","button",3,"click",4,"ngIf"],["id","dropdown_menu_after_hamburger",1,"collapse","navbar-collapse"],[1,"page-title","header-content",3,"ngClass"],[1,"page-title1"],["class","page-title2",4,"ngIf"],["class","row schedule-container disp-inline-block",3,"touchstart","touchend",4,"ngIf"],[1,"row","schedule-container","disp-inline-block"],["class","col-2",4,"ngIf"],["class","row schedule-container disp-inline-block",4,"ngIf"],[1,"ml-auto"],[1,"product-hub","disp-inline-block"],[1,"btn"],["src","assets/icons/news.svg","alt",""],["class","notifications-slot disp-inline-block notifications-div",3,"mouseenter","mouseleave",4,"ngIf"],[1,"mat-menu-trigger-style",3,"matMenuTriggerFor"],["notificationTooltipTrigger","matMenuTrigger"],[1,"customTooltip"],["notificationsTooltip","matMenu"],[1,"tooltipLabel","notifications-tooltip"],[1,"navbar-nav","header-content"],["ngbDropdown","",1,"nav-item","dropdown"],["href","javascript:void(0)","ngbDropdownToggle","",1,"nav-link"],["class","user-img","alt","Logged in user image",3,"src",4,"ngIf"],["class","user-img","src","assets/images/default-avatar-20.jpg","alt","Generic placeholder image",4,"ngIf"],[1,"caret"],["ngbDropdownMenu","",1,"dropdown-menu-right"],["class","dropdown-item",3,"routerLink","click",4,"ngIf"],[1,"dropdown-item",3,"click"],[1,"fa","fa-fw","fa-power-off"],["type","button",1,"navbar-toggler","hamburger_btn",3,"click"],["aria-hidden","true",1,"fa","fa-bars","text-muted"],[1,"page-title2"],[1,"row","schedule-container","disp-inline-block",3,"touchstart","touchend"],[1,"col-2"],["id","selectScheduleControl","bindLabel","name","bindValue","id","placeholder","No schedule selected",1,"jobTypeDetails","input-width","selectSchedule",3,"ngModel","items","clearable","searchable","virtualScroll","ngClass","ngModelChange","change"],["selectScheduleDOM",""],["id","template_button",1,"form-control","input-width-new",3,"click"],[1,"fa","fa-plus","add-template-icon"],[1,"col-12"],["id","selectTemplateControl","disabled","","bindLabel","value","bindValue","value",1,"jobTypeDetails","input-width","header-hide-arrow-template-dropdown","padding-left",3,"ngModel","items","clearable","searchable","ngModelChange"],["type","button",1,"btn","btn-light","input-width-ell",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-ellipsis-v"],[1,"notifications-slot","disp-inline-block","notifications-div",3,"mouseenter","mouseleave"],[1,"n-icon","icon-stack","has-badge",3,"click"],["id","bell-icon",1,"fa","fa-bell","icon-stack","notifications-icon"],["alt","Logged in user image",1,"user-img",3,"src"],["src","assets/images/default-avatar-20.jpg","alt","Generic placeholder image",1,"user-img"],[1,"dropdown-item",3,"routerLink","click"],[1,"fa","fa-fw","fa-gear"]],template:function(t,i){if(1&t&&(e.TgZ(0,"nav",0,1),e.YNc(2,Hm,2,0,"button",2),e.TgZ(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6),e.qZA(),e.YNc(7,Bm,2,1,"span",6),e.qZA(),e.YNc(8,U_,4,8,"div",7),e.TgZ(9,"div",8),e.YNc(10,j_,4,0,"div",9),e.qZA(),e.YNc(11,Y_,3,4,"div",10),e.YNc(12,Ff,4,1,"div",10),e.TgZ(13,"div",11)(14,"div",12)(15,"button",13),e._UZ(16,"img",14),e._uU(17," Product Hub "),e.qZA()(),e.YNc(18,q_,3,1,"div",15),e._UZ(19,"div",16,17),e.TgZ(21,"mat-menu",18,19)(23,"label",20),e._uU(24),e.qZA()()(),e.TgZ(25,"ul",21)(26,"li",22)(27,"a",23),e.YNc(28,J_,1,1,"img",24),e.YNc(29,Zf,1,0,"img",25),e._uU(30),e._UZ(31,"b",26),e.qZA(),e.TgZ(32,"div",27),e.YNc(33,Vm,4,3,"a",28),e.TgZ(34,"a",29),e.NdJ("click",function(){return i.onLoggedout()}),e._UZ(35,"i",30),e._uU(36),e.ALo(37,"translate"),e.qZA()()()()()()),2&t){const r=e.MAs(22);e.xp6(2),e.Q6J("ngIf","User"==i.role),e.xp6(2),e.Q6J("ngClass",e.VKq(22,Gm,"Employee"==i.role)),e.xp6(2),e.hij(" ",i.pageTitle," "),e.xp6(1),e.Q6J("ngIf",i.splitArray[1]),e.xp6(1),e.Q6J("ngIf",i.isOnSchedules),e.xp6(2),e.Q6J("ngIf",i.isOnSchedules),e.xp6(1),e.Q6J("ngIf",i.isOnTemplates),e.xp6(1),e.Q6J("ngIf",i.isOnTemplates||i.isOnSchedules),e.xp6(6),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Udp("left",i.notificationsTooltipMenuPosition.x)("top",i.notificationsTooltipMenuPosition.y),e.Q6J("matMenuTriggerFor",r),e.xp6(5),e.Oqu(i.notificationsTooltipContent),e.xp6(4),e.Q6J("ngIf",i.employeeImage),e.xp6(1),e.Q6J("ngIf",!i.employeeImage),e.xp6(1),e.hij(" ",i.loggedUserName," "),e.xp6(3),e.Q6J("ngIf",i.canUserAccessManagement&&"false"==i.isSuperAdmin),e.xp6(3),e.hij(" ",e.lcZ(37,20,"Log Out")," ")}},dependencies:[D.mk,D.O5,q.yS,Te.jt,Te.iD,Te.Vi,Te.M2,Lr.VK,Lr.p6,_.JJ,_.On,Sn,$n,E.X$],styles:['*[_ngcontent-%COMP%]{transition:left .2s ease-in-out}.page-title[_ngcontent-%COMP%]{color:#42536f;font-size:18px;font-weight:700}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{background-color:var(--eSolve-white)}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{-ms-flex-line-pack:center;align-content:center;color:#2b3449}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:var(--eSolve-gray-dark)}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#2b3449}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]{width:300px}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:5px 10px}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]:last-child{border-bottom:none}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:13px;font-weight:600}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .messages[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   .last[_ngcontent-%COMP%]{font-size:12px;margin:0}.emp-header-pad[_ngcontent-%COMP%]{padding-left:12px}#eSolve-navbar[_ngcontent-%COMP%]{left:80px}.icon-stack[_ngcontent-%COMP%]{position:relative;vertical-align:middle}.notifications-icon[_ngcontent-%COMP%]{color:#999;font-size:24px;cursor:pointer}.disp-inline-block[_ngcontent-%COMP%]{display:inline-block}.n-icon[data-count][_ngcontent-%COMP%]:after{cursor:pointer;position:absolute;left:14px;top:13px;content:attr(data-count);font-size:10px;padding:4px;border-radius:50%;line-height:7px;color:#fff;background:var(--eSolve-primary);text-align:center;min-width:15px;min-height:15px;max-width:25px;max-height:15px}.n-icon[data-count="0"][_ngcontent-%COMP%]:after{display:none}.input-width[_ngcontent-%COMP%]{min-width:200px;font-size:12px}.input-width-new[_ngcontent-%COMP%]{min-width:150px;height:28px;font-size:12px;line-height:10px;padding:3px 12px!important}.input-width-new[_ngcontent-%COMP%]:focus{box-shadow:none}.input-width-new[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 .2rem #2b344940}.input-width-ell[_ngcontent-%COMP%]{height:28px;padding:2px 12px!important;border:1px solid var(--eSolve-gray)}.product-hub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px}.product-hub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:23px}.notifications-slot[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 992px){.notifications-icon[_ngcontent-%COMP%]{font-size:20px}.notifications-slot[_ngcontent-%COMP%]{float:right}.product-hub[_ngcontent-%COMP%]{position:absolute;right:40px;top:10px}.collapse[_ngcontent-%COMP%]:not(.show){display:inline-block!important}.header-content[_ngcontent-%COMP%]{display:none!important}#eSolve-navbar[_ngcontent-%COMP%]{left:0}.hamburger_btn[_ngcontent-%COMP%]{position:fixed;left:3px;top:5px}#dropdown_menu_after_hamburger[_ngcontent-%COMP%]{margin-left:35px;width:100%}}.page-title1[_ngcontent-%COMP%]{color:var(--eSolve-gray-dark)}.fa.fa-bars.text-muted[_ngcontent-%COMP%]{color:#999!important}.schedule-container[_ngcontent-%COMP%]{padding-left:10px}.user-img[_ngcontent-%COMP%]{border-radius:50%;width:25px;height:25px}.dropdown-item[_ngcontent-%COMP%]{font-size:12px;color:#000000de;padding:4px 18px}.notifications-tooltip[_ngcontent-%COMP%]{font-size:12px!important}.hide-select[_ngcontent-%COMP%]{display:none}.padding-left[_ngcontent-%COMP%]{padding-left:40px}']}),n})();const H_=function(n){return{uncollapsed:n}};let B_=(()=>{class n{constructor(t){this._authService=t,this.collapedSideBar=!0,"undefined"!=typeof Worker&&(this.worker=new Worker(J.tu(new URL(J.p+J.u(153),J.b))),this.worker.onmessage=({})=>{})}ngOnInit(){this._authService.stopWorker$.subscribe(()=>{this.stopWorker()})}stopWorker(){this.worker.terminate(),this.worker=null}receiveCollapsed(t){this.collapedSideBar=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ir.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-layout"]],decls:4,vars:4,consts:[[3,"shiftNavbar"],[3,"collapsedSubmenuEvent"],[1,"main-container",3,"ngClass"]],template:function(t,i){1&t&&(e._UZ(0,"app-header",0),e.TgZ(1,"app-sidebar",1),e.NdJ("collapsedSubmenuEvent",function(a){return i.receiveCollapsed(a)}),e.qZA(),e.TgZ(2,"section",2),e._UZ(3,"router-outlet"),e.qZA()),2&t&&(e.Q6J("shiftNavbar",i.collapedSideBar),e.xp6(2),e.Q6J("ngClass",e.VKq(2,H_,!i.collapedSideBar)))},dependencies:[D.mk,q.lC,$n,Yn,Jc],styles:["*[_ngcontent-%COMP%]{transition:margin-left .2s ease-in-out}.main-container[_ngcontent-%COMP%]{margin-top:56px;margin-left:80px;overflow-x:hidden;overflow-y:hidden;position:relative}.uncollapsed[_ngcontent-%COMP%]{margin-left:310px}@media screen and (max-width: 992px){.main-container[_ngcontent-%COMP%]{margin-left:0!important}}@media print{.main-container[_ngcontent-%COMP%]{margin-top:0!important;margin-left:0!important}}"]}),n})();var qo=J(62843),Wm=J(10065);const Qm=["skillSelect"];function V_(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Skill name ",t.message.required," ")}}function G_(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.limit50," ")}}function zm(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",21),e.YNc(2,V_,2,1,"div",14),e.YNc(3,G_,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.skillCodeForm.controls.name.errors.required),e.xp6(1),e.Q6J("ngIf",t.skillCodeForm.controls.name.errors.maxlength)}}function W_(n,o){if(1&n&&(e.TgZ(0,"div",22)(1,"div",7),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" Skill Name ",t.message.inUse," ")}}const Q_=function(n){return{"ng-invalid":n}};function Oo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveSkillCode())}),e.TgZ(1,"div",2)(2,"div",7)(3,"label",12),e._uU(4," Skill Name: "),e.qZA(),e._UZ(5,"input",13),e.YNc(6,zm,4,2,"div",14),e.YNc(7,W_,3,1,"div",15),e.qZA()(),e.TgZ(8,"div",16)(9,"div",7)(10,"label",17),e._uU(11," Skill Description: "),e.qZA(),e.TgZ(12,"textarea",18),e._uU(13,"                    "),e.qZA()()(),e.TgZ(14,"div",2)(15,"div",7)(16,"div",19)(17,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(18," Cancel "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.skillCodeForm),e.xp6(5),e.Q6J("ngClass",e.VKq(6,Q_,t.skillCodeNameInUse))("readonly",!0),e.xp6(1),e.Q6J("ngIf",t.skillCodeForm.controls.name.invalid&&t.skillCodeForm.controls.name.touched),e.xp6(1),e.Q6J("ngIf",t.skillCodeNameInUse&&!t.skillCodeForm.controls.name.invalid),e.xp6(5),e.Q6J("readonly",!0)}}let Lf=(()=>{class n{constructor(t,i,r,a,s,l,c){this._dialogRef=i,this._messageService=r,this._skilCodeService=a,this._dialogService=s,this._fb=l,this._customValidator=c,this.skillCodeNameInUse=!1,this.isEdit=!1,t&&(this.selectedSkillCodeId=t.skillCodeId)}ngOnInit(){this.message=St.yw,this.createSkillCodeForm(),this.skillCodeForm.controls.name.valueChanges.subscribe(t=>{const i=t.trim();this.isNameUnique(i)})}ngAfterViewInit(){this.populateFormData()}createSkillCodeForm(){this.skillCodeForm=this._fb.group({id:[0],name:["",{validators:[_.kI.required],updateOn:"change"}],description:[""]},{validators:[],asyncValidators:[]})}populateFormData(){this.selectedSkillCodeId&&this._skilCodeService.getSkillCodeById(this.selectedSkillCodeId).subscribe(t=>{this.skillCodeForm.patchValue(t)},t=>{if(400!==t.status)return(0,qo._)(t);this._messageService.open("Error retrieving selected Skill Code.")})}saveSkillCode(){this.skillCodeForm.controls.name.setValue(this.skillCodeForm.controls.name.value.trim()),this.selectedSkillCodeId?this._skilCodeService.editSkillCode(this.skillCodeForm.value,this.selectedSkillCodeId).subscribe(()=>{this._messageService.open("Skill Code updated."),this._dialogRef.close("submitted")},t=>{if(400!==t.status)return(0,qo._)(t);this._messageService.open("Some error has occured during updating.")}):this._skilCodeService.addNewSkillCode(this.skillCodeForm.value).subscribe(t=>{this._messageService.open("Skill Code created."),this._dialogRef.close("submitted")},t=>{if(400!==t.status)return(0,qo._)(t);this._messageService.open(St.yw.fillForm)})}deleteSkillCode(){this._dialogService.openConfirmDialog("Delete",(0,St.$j)(" Skill Code")).afterClosed().subscribe(t=>{t&&this.selectedSkillCodeId&&this._skilCodeService.deleteSkillCode(this.selectedSkillCodeId).subscribe(i=>{i.includes("skillCodeInUse")?this._messageService.open((0,St.iT)("Skill Code")):this._messageService.open("Skill Code deleted."),this._dialogRef.close("submitted")},i=>{if(400!==i.status)return(0,qo._)(i);this._messageService.open("Bad Request. Exception handled.")})})}get f(){return this.skillCodeForm.controls}closeDialog(){this._dialogRef.close()}isNameUnique(t){t?(this.skillCodeNameInUse=!1,this._skilCodeService.checkIfNameIsUnique(t,this.selectedSkillCodeId).subscribe(i=>{200==i&&(this.skillCodeNameInUse=!1)},i=>{this.skillCodeNameInUse=200!=i.status})):this.skillCodeNameInUse=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(se.G),e.Y36(Wm.R),e.Y36(Ri.x),e.Y36(_.qu),e.Y36(ql.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-skill-code"]],viewQuery:function(t,i){if(1&t&&e.Gf(Qm,5),2&t){let r;e.iGM(r=e.CRH())&&(i.skillSelect=r.first)}},decls:15,vars:1,consts:[[1,"skill-code-dialog-container"],[1,"skill-code-header"],[1,"row"],[1,"col-12","header-title"],[1,"d-flex","justify-content-between"],[1,"skill-code-title"],["src","assets/icons/x-icon-3pt.png",1,"eSolveCloseButton",3,"click"],[1,"col-12"],[1,"table-divider"],[1,"skill-code-form"],["class","skill-code-form","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",1,"skill-code-form",3,"formGroup","ngSubmit"],["for","SC_SkillCodeName_Add",1,"form-label"],["id","SC_SkillCodeName_Add","required","","formControlName","name","maxlength","50","type","text",1,"form-control","form-control-sm","input-element",3,"ngClass","readonly"],[4,"ngIf"],["class","row form-group validationError",4,"ngIf"],[1,"row","description-row"],["for","SC_Description_Add",1,"form-label"],["formControlName","description","id","SC_Description_Add","rows","5","placeholder","Description",1,"form-control","description-input",3,"readonly"],[1,"d-flex","justify-content-center"],["id","SC_Cancel_btn","type","button",1,"btn","cancel-button","form-buttons",3,"click"],[1,"validationError"],[1,"row","form-group","validationError"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"div",5),e._uU(7," Skill "),e.qZA()(),e.TgZ(8,"div")(9,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()()()(),e.TgZ(10,"div",2)(11,"div",7),e._UZ(12,"hr",8),e.qZA()()(),e.TgZ(13,"div",9),e.YNc(14,Oo,19,8,"form",10),e.qZA()()),2&t&&(e.xp6(14),e.Q6J("ngIf",i.skillCodeForm))},dependencies:[D.mk,D.O5,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.nD,_.sg,_.u,$n],styles:[".skill-code-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin:8px 0!important}.validationError[_ngcontent-%COMP%]{margin-bottom:-18px}.form-label[_ngcontent-%COMP%]{font-size:12px;margin-bottom:0!important}.forms-input[_ngcontent-%COMP%]{height:35px;font-size:12px}.input-element[_ngcontent-%COMP%]{font-size:12px}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;width:100%}.save-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.cancel-button[_ngcontent-%COMP%]{margin-top:8px;background-color:#404f64;color:#fff!important}.delete-button[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:0!important;background-color:#d6dce2;color:#3f4e63!important}.description-row[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:15px}.description-input[_ngcontent-%COMP%]{font-size:12px;min-height:5vh!important;max-height:20vh!important}"]}),n})();class z_{constructor(o,t,i,r){this.url=o,this.method=t,this.params=i,this.subscription=r}}let Uf=(()=>{class n{constructor(t){this.http=t,this.queue=[],this.isOnDetails=new _i.X(!1),this.paginationData=new b.x,this.getRequestsInQueue=new b.x}getEmployeeSkills(t){return new A.y(i=>{this.http.get(S.j.URLskillmatrices+"/getSkillsByEmployee/"+t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}getAllSkillMatricesByFilter(t,i,r,a,s,l,c,u,h,x,T,O,U){let re=(new Y.LE).set(pt.hx.skillsMatrixFilterRequestParams.ImageSize,t).set(pt.hx.skillsMatrixFilterRequestParams.ColumnPage,a).set(pt.hx.skillsMatrixFilterRequestParams.ColumnLimit,s).set(pt.hx.skillsMatrixFilterRequestParams.IsEmployee,l).set(pt.hx.skillsMatrixFilterRequestParams.Page,x&&""!==x?x:"1").set(pt.hx.skillsMatrixFilterRequestParams.Limit,T&&""!==T?T:"5").set(pt.hx.skillsMatrixFilterRequestParams.SortOrder,O&&""!==O?O:"asc").set(pt.hx.skillsMatrixFilterRequestParams.Column,U&&""!==U?U:0).set(pt.hx.skillsMatrixFilterRequestParams.AreRowsSwapped,i).set(pt.hx.skillsMatrixFilterRequestParams.IsInitialization,r);return c&&c.forEach(de=>{re=re.append(pt.hx.skillsMatrixFilterRequestParams.SkillCodeIds,de.toString())}),h&&h.forEach(de=>{re=re.append(pt.hx.skillsMatrixFilterRequestParams.EmployeeIds,de.toString())}),u&&u.forEach(de=>{re=re.append(pt.hx.skillsMatrixFilterRequestParams.JobTypeIds,de.toString())}),this.addRequestToQueue(S.j.URLskillmatrices+"/filter","Get",re)}getAllSkillsCombovalues(){return new A.y(t=>{this.http.get(S.j.URLskillmatrices+"/combovalues",{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}searchSkillMatrices(t,i,r,a){return new A.y(t?s=>{this.http.get(S.j.URLskillmatrices,{params:{ImageSize:i,Page:"1",SearchTerm:t,Limit:"1000"}}).subscribe(l=>(s.next(l),s.complete()),l=>s.error(l))}:s=>{this.http.get(S.j.URLskillmatrices,{params:{ImageSize:i,Page:"1",Limit:"1000"}}).subscribe(l=>(s.next(l),s.complete()),l=>s.error(l))})}updateSkillMatrix(t,i,r){return new A.y(a=>{this.http.put(S.j.URLskillmatrices+"/",{EmployeeID:t,SkillCodeID:i,skillMatrixValue:r},{}).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}searchEmployeesAndSkillsForFilter(t){return t?this.http.get(S.j.URLSkillMatricesCombosearch,{params:{SearchTerm:t,SearchByEmployees:"true"}}):(0,gn.of)([])}getSkillCodesAndJobTypesForFilter(){return new A.y(t=>{this.http.get(S.j.URLskillmatrices+"/filtervalues").subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}addRequestToQueue(t,i,r){this.getRequestsInQueue.next(1);const a=new b.x,s=new z_(t,i,r,a);return this.queue.push(s),1===this.queue.length&&this.startNextRequest(),0===this.queue.length&&this.getRequestsInQueue.next(0),a}executeRequest(t){this.http.get(t.url,{params:t.params}).subscribe(r=>{t.subscription.next(r),this.queue.shift(),0===this.queue.length&&this.getRequestsInQueue.next(0),this.startNextRequest()})}startNextRequest(){this.queue.length>0?this.executeRequest(this.queue[0]):this.getRequestsInQueue.next(0)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var fn=J(84847),Km=J(4707);const jf=["selectJobType"],$m=["selectSkill"];function Xm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"span",29),e._uU(2),e.qZA(),e.TgZ(3,"span",30),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function $u(n,o){1&n&&e.YNc(0,Xm,5,1,"div",27),2&n&&e.Q6J("ngForOf",o.items)}function eg(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"span",29),e._uU(2),e.qZA(),e.TgZ(3,"span",30),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Yf(n,o){1&n&&e.YNc(0,eg,5,1,"div",27),2&n&&e.Q6J("ngForOf",o.items)}let K_=(()=>{class n{constructor(t,i){this._matDialogRef=t,this.jobTypeIds=new _.NI,this.skillIds=new _.NI,this.jobTypesDropdownItems=new Array,this.skillsDropdownItems=new Array,this.jobTypesDropdownItems=i.jobTypes,this.skillsDropdownItems=i.skills,this.jobTypeIds.setValue(i.selectedJobs),this.skillIds.setValue(i.selectedSkills)}selectAll(t){if("jobType"===t){let i=new Array;for(let r of this.jobTypeRef.items)i.push(r.id);this.jobTypeIds.setValue(i)}else if("skills"===t){let i=new Array;for(let r of this.skillTypeRef.items)i.push(r.id);this.skillIds.setValue(i)}}deselect(t){if("jobType"===t){let i=this.jobTypeRef.selectedItems;for(let r of i)this.jobTypeRef.unselect(r)}else if("skills"===t){let i=this.skillTypeRef.selectedItems;for(let r of i)this.skillTypeRef.unselect(r)}}filter(){this._matDialogRef.close({jobTypeIDs:this.jobTypeIds.value,skillIDs:this.skillIds.value})}closeFilterDialog(){this._matDialogRef.close(null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.so),e.Y36(z.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-filter-matrix-dialog"]],viewQuery:function(t,i){if(1&t&&(e.Gf(jf,5),e.Gf($m,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.jobTypeRef=r.first),e.iGM(r=e.CRH())&&(i.skillTypeRef=r.first)}},decls:62,vars:8,consts:[[1,"filters-wrapper"],[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","title"],[1,"filters-title"],["src","assets/icons/x-icon-3pt.png",1,"eSolveCloseButton",3,"click"],[1,"row","filters-container"],[1,"col-md-6","col-12","filter-side","left-side"],[1,"col-12","filter-table-title"],[1,"col-12","divider"],[1,"col-12","filter-area","g-esolve-multi-select","esolve-font-size","col-spacing"],["id","selectJobTypeInput","placeholder","Search","bindLabel","name","bindValue","id",3,"items","multiple","virtualScroll","formControl"],["selectJobType",""],["ng-multi-label-tmp",""],[1,"col-md-6","col-12","segment-buttons"],["id","job_types_clear_selection_btn",1,"btn","bottom-button","form-buttons",3,"click"],["id","jobt_types_check_all_btn",1,"btn","bottom-button","form-buttons",3,"click"],[1,"col-md-6","col-12","filter-side","right-side"],[1,"filter-side-divider"],["id","selectSkillInput","placeholder","Search","bindLabel","name","bindValue","id",3,"items","multiple","virtualScroll","formControl"],["selectSkill",""],[1,"row","d-flex","justify-content-end","buttons-container"],[1,"col-md-3","col-12","button-div","cancel-container"],[1,"d-flex","justify-content-center"],["id","filter_cancel_btn",1,"btn","cancel-button","form-buttons",3,"click"],[1,"col-md-3","col-12","button-div"],["id","filter_btn",1,"btn","filter-button","form-buttons","g-margin-bottom-5",3,"click"],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5," Filter skills by Job Types and/or by selecting skills individually: "),e.qZA(),e.TgZ(6,"div")(7,"img",5),e.NdJ("click",function(){return i.closeFilterDialog()}),e.qZA()()()(),e.TgZ(8,"div",2)(9,"div",6)(10,"div",7)(11,"div",1)(12,"div",8),e._uU(13," Job Types "),e.qZA(),e.TgZ(14,"div",9),e._UZ(15,"hr"),e.qZA()(),e.TgZ(16,"div",1)(17,"div",10)(18,"ng-select",11,12),e.YNc(20,$u,1,1,"ng-template",13),e.qZA()()(),e.TgZ(21,"div",1)(22,"div",9),e._UZ(23,"hr"),e.qZA()(),e.TgZ(24,"div",1)(25,"div",14)(26,"button",15),e.NdJ("click",function(){return i.deselect("jobType")}),e._uU(27," Clear Selection "),e.qZA()(),e.TgZ(28,"div",14)(29,"button",16),e.NdJ("click",function(){return i.selectAll("jobType")}),e._uU(30," Check All "),e.qZA()()()(),e.TgZ(31,"div",17)(32,"div",1)(33,"div",8),e._uU(34," Skills "),e.qZA(),e.TgZ(35,"div",9),e._UZ(36,"hr",18),e.qZA()(),e.TgZ(37,"div",1)(38,"div",10)(39,"ng-select",19,20),e.YNc(41,Yf,1,1,"ng-template",13),e.qZA()()(),e.TgZ(42,"div",1)(43,"div",9),e._UZ(44,"hr"),e.qZA()(),e.TgZ(45,"div",1)(46,"div",14)(47,"button",15),e.NdJ("click",function(){return i.deselect("skills")}),e._uU(48," Clear Selection "),e.qZA()(),e.TgZ(49,"div",14)(50,"button",16),e.NdJ("click",function(){return i.selectAll("skills")}),e._uU(51," Check All "),e.qZA()()()(),e.TgZ(52,"div",2)(53,"div",21)(54,"div",22)(55,"div",23)(56,"button",24),e.NdJ("click",function(){return i.closeFilterDialog()}),e._uU(57," Cancel "),e.qZA()()(),e.TgZ(58,"div",25)(59,"div",23)(60,"button",26),e.NdJ("click",function(){return i.filter()}),e._uU(61," Filter "),e.qZA()()()()()()()()()),2&t&&(e.xp6(18),e.Q6J("items",i.jobTypesDropdownItems)("multiple",!0)("virtualScroll",!0)("formControl",i.jobTypeIds),e.xp6(21),e.Q6J("items",i.skillsDropdownItems)("multiple",!0)("virtualScroll",!0)("formControl",i.skillIds))},dependencies:[D.sg,_.JJ,_.oH,Sn,er],styles:[".filters-title[_ngcontent-%COMP%]{color:#596881;font-size:12px}.filters-container[_ngcontent-%COMP%]{padding:13px}.filter-side[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;border:1px solid #b2b2b2;max-height:60vh}.left-side[_ngcontent-%COMP%]{-ms-flex:0 0 49%;flex:0 0 49%;max-width:49%;margin-right:2%}.right-side[_ngcontent-%COMP%]{-ms-flex:0 0 49%;flex:0 0 49%;max-width:49%}.divider[_ngcontent-%COMP%]{padding:0;margin:-8px 0}.filter-table-title[_ngcontent-%COMP%]{color:#596881;font-size:14px;font-weight:700;margin-top:8px}.filter-side-divider[_ngcontent-%COMP%]{color:#ced5db}.filter-area[_ngcontent-%COMP%]{height:26vh;max-height:26vh}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{min-height:25px}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{height:25px}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;width:100%}.buttons-container[_ngcontent-%COMP%]{margin-top:14px;margin-bottom:-15px}.filter-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.cancel-button[_ngcontent-%COMP%]{background-color:#3f5064}.bottom-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63!important;margin-bottom:8px}.cancel-container[_ngcontent-%COMP%]{margin-right:-20px}.esolve-font-size[_ngcontent-%COMP%]{font-size:12px}@media (max-width: 767px){.filter-button[_ngcontent-%COMP%]{margin-top:8px}.button-div[_ngcontent-%COMP%]{padding:0!important}.cancel-container[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 570px){.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%;margin-right:0}.right-side[_ngcontent-%COMP%]{margin-top:8px}.cancel-container[_ngcontent-%COMP%]{margin-right:0}}"]}),n})();var $_=J(34782);const X_=new Map([["xxxl","(min-width: 2560px)"],["xxl-2","(min-width: 2150px)"],["xxl","(min-width: 2000px)"],["xl-3","(min-width: 1725px)"],["xl-2","(min-width: 1545px)"],["xl","(min-width: 1200px)"],["lg-2","(min-width: 1024px)"],["lg-sidebar-4","(min-width: 1017px)"],["lg-sidebar-3","(min-width: 993px)"],["lg","(min-width: 992px)"],["md","(min-width: 800px)"],["sm","(min-width: 650px)"],["xs","(min-width: 506px)"],["xxs","(min-width: 0px)"]]);let ev=(()=>{class n{constructor(){this._size$=(0,ie.T)((0,Fe.R)(window,"resize"),(0,Fe.R)(window,"orientationchange")).pipe((0,_e.O)(this._getScreenSize()),(0,Oe.U)(t=>this._getScreenSize()),(0,Gi.x)((t,i)=>JSON.stringify(t)===JSON.stringify(i)),(0,$_.d)(1))}get size$(){return this._size$}_getScreenSize(){const[[t="never"]]=Array.from(X_.entries()).filter(([i,r])=>window.matchMedia(r).matches);return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var qf=J(17144),tv=["input"],nv=function(o){return{enterDuration:o}},iv=["*"],rv=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1}}}),Jf=0,ov={provide:_.JU,useExisting:(0,e.Gpc)(function(){return Hc}),multi:!0},av=(0,M.Z)(function n(o,t){(0,I.Z)(this,n),this.source=o,this.checked=t}),sv=(0,ei.sb)((0,ei.pj)((0,ei.Kr)((0,ei.Id)(function(){return(0,M.Z)(function n(o){(0,I.Z)(this,n),this._elementRef=o})}())))),lv=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c,u,h){var x;return(0,I.Z)(this,i),(x=t.call(this,r))._focusMonitor=a,x._changeDetectorRef=s,x.defaults=c,x._onChange=function(T){},x._onTouched=function(){},x._required=!1,x._checked=!1,x.name=null,x.labelPosition="after",x.ariaLabel=null,x.ariaLabelledby=null,x.change=new e.vpe,x.toggleChange=new e.vpe,x.tabIndex=parseInt(l)||0,x.color=x.defaultColor=c.color||"accent",x._noopAnimations="NoopAnimations"===u,x.id=x._uniqueId="".concat(h).concat(++Jf),x}return(0,M.Z)(i,[{key:"required",get:function(){return this._required},set:function(a){this._required=(0,Pr.Ig)(a)}},{key:"checked",get:function(){return this._checked},set:function(a){this._checked=(0,Pr.Ig)(a),this._changeDetectorRef.markForCheck()}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"ngAfterContentInit",value:function(){var a=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(s){"keyboard"===s||"program"===s?a._focused=!0:s||Promise.resolve().then(function(){a._focused=!1,a._onTouched(),a._changeDetectorRef.markForCheck()})})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"writeValue",value:function(a){this.checked=!!a}},{key:"registerOnChange",value:function(a){this._onChange=a}},{key:"registerOnTouched",value:function(a){this._onTouched=a}},{key:"setDisabledState",value:function(a){this.disabled=a,this._changeDetectorRef.markForCheck()}},{key:"toggle",value:function(){this.checked=!this.checked,this._onChange(this.checked)}},{key:"_emitChangeEvent",value:function(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}]),i}(sv);return n.\u0275fac=function(t){e.$Z()},n.\u0275dir=e.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[e.qOj]}),n}(),Hc=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c,u){return(0,I.Z)(this,i),t.call(this,r,a,s,l,c,u,"mat-slide-toggle-")}return(0,M.Z)(i,[{key:"_createChangeEvent",value:function(a){return new av(this,a)}},{key:"_onChangeEvent",value:function(a){a.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}},{key:"_onInputClick",value:function(a){a.stopPropagation()}},{key:"focus",value:function(a,s){s?this._focusMonitor.focusVia(this._inputElement,s,a):this._inputElement.nativeElement.focus(a)}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}}]),i}(lv);return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(R.tE),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(rv),e.Y36(e.QbO,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,i){var r;1&t&&e.Gf(tv,5),2&t&&e.iGM(r=e.CRH())&&(i._inputElement=r.first)},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(t,i){2&t&&(e.Ikx("id",i.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),e.ekj("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[e._Bn([ov]),e.qOj],ngContentSelectors:iv,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,i){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),e.NdJ("change",function(l){return i._onChangeEvent(l)})("click",function(l){return i._onInputClick(l)}),e.qZA(),e.TgZ(5,"span",5),e._UZ(6,"span",6),e.TgZ(7,"span",7),e._UZ(8,"span",8),e.qZA()()(),e.TgZ(9,"span",9,10),e.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),e.TgZ(11,"span",11),e._uU(12,"\xa0"),e.qZA(),e.Hsn(13),e.qZA()()),2&t){var r=e.MAs(1),a=e.MAs(10);e.uIk("for",i.inputId),e.xp6(2),e.ekj("mat-slide-toggle-bar-no-side-margin",!a.textContent||!a.textContent.trim()),e.xp6(1),e.Q6J("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),e.uIk("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),e.xp6(4),e.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(18,nv,i._noopAnimations?0:150))}},dependencies:[ei.wG,qf.wD],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),n}(),tg=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n}(),Rd=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[tg,ei.si,ei.BQ,qf.Q8,tg,ei.BQ]}),n}();const Hf=["selectEmployee"];function ng(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"span",51),e._uU(2),e.qZA(),e.TgZ(3,"span",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4,"\xd7"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function m(n,o){1&n&&e.YNc(0,ng,5,1,"div",49),2&n&&e.Q6J("ngForOf",o.items)}function v(n,o){if(1&n&&(e.TgZ(0,"form",44)(1,"div",45)(2,"ng-select",46,47),e.ALo(4,"async"),e.YNc(5,m,1,1,"ng-template",48),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.skillMatrixFilterForm),e.xp6(2),e.Q6J("items",e.lcZ(4,6,t.employees))("multiple",!0)("hideSelected",!0)("typeahead",t.employeeSearchInput)("minTermLength",2)}}function f(n,o){if(1&n&&(e.TgZ(0,"mat-header-cell",60),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ","parentName"==t.id?"Employee Name":t.id," ")}}function g(n,o){1&n&&(e.TgZ(0,"span"),e.YNc(1,f,2,1,"mat-header-cell",59),e.qZA())}function k(n,o){if(1&n&&(e.TgZ(0,"mat-header-cell",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ","parentName"==t.id?"Skill Name":t.id," ")}}function F(n,o){1&n&&e.YNc(0,k,2,1,"mat-header-cell",61)}function pe(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,g,2,0,"span",54),e.YNc(2,F,1,0,"ng-template",null,58,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1==i.transpositionTogglerValue)("ngIfElse",t)}}function Ae(n,o){if(1&n&&e._UZ(0,"img",70),2&n){const t=e.oxw(4).$implicit,i=e.oxw();e.Q6J("src",i.sanitizeExisting(t.image),e.LSH)}}function Ie(n,o){1&n&&e._UZ(0,"img",71)}function Ve(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",66)(2,"div",5),e.ynx(3),e.YNc(4,Ae,1,1,"img",67),e.BQk(),e.YNc(5,Ie,1,0,"ng-template",null,68,e.W1O),e.qZA(),e.TgZ(7,"div",5)(8,"span",69),e._uU(9),e.qZA()()(),e.BQk()),2&n){const t=e.MAs(6),i=e.oxw(3).$implicit;e.xp6(4),e.Q6J("ngIf",i.image)("ngIfElse",t),e.xp6(5),e.hij(" ",i.name," ")}}function st(n,o){if(1&n&&(e.TgZ(0,"div",5)(1,"span",74,75),e._uU(3),e.qZA()()),2&n){const t=e.MAs(2),i=e.oxw(4).$implicit,r=e.oxw();e.xp6(1),e.Q6J("matTooltip",i.description)("matTooltipDisabled",!r.isOverflow(t)),e.xp6(2),e.hij(" ",i.description," ")}}function Nt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"span",72),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.editSkillCode(r))}),e._uU(3),e.qZA()(),e.YNc(4,st,4,3,"div",73),e.qZA()}if(2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",i.showDescription)}}const Ut=function(n){return{matHeaderCell:n}};function Yt(n,o){if(1&n&&(e.TgZ(0,"mat-header-cell",64),e.YNc(1,Ve,10,3,"ng-container",54),e.YNc(2,Nt,5,2,"ng-template",null,65,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw(2).index,r=e.oxw();e.MGl("id","data_header",i,""),e.Q6J("ngClass",e.VKq(4,Ut,r.showDescription)),e.xp6(1),e.Q6J("ngIf",!1===r.transpositionTogglerValue)("ngIfElse",t)}}function zt(n,o){1&n&&e.YNc(0,Yt,4,6,"mat-header-cell",63)}function _n(n,o){if(1&n&&e._UZ(0,"img",70),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.Q6J("src",i.sanitizeExisting(t.image),e.LSH)}}function vn(n,o){1&n&&e._UZ(0,"img",71)}function ii(n,o){if(1&n&&(e.ynx(0)(1),e.YNc(2,_n,1,1,"img",67),e.BQk(),e.YNc(3,vn,1,0,"ng-template",null,79,e.W1O),e.TgZ(5,"span",69),e._uU(6),e.qZA(),e.BQk()),2&n){const t=e.MAs(4),i=e.oxw().$implicit,r=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngIf",i.image)("ngIfElse",t),e.xp6(4),e.hij(" ",i[r.name]," ")}}function Ln(n,o){if(1&n&&(e.TgZ(0,"div",80)(1,"span",82,75),e._uU(3),e.qZA()()),2&n){const t=e.MAs(2),i=e.oxw(2).$implicit,r=e.oxw(3);e.xp6(1),e.Q6J("matTooltip",i.values[0].description)("matTooltipDisabled",!r.isOverflow(t)),e.xp6(2),e.hij(" ",i.values[0].description," ")}}function Fi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",80)(2,"span",72),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.editSkillCode(r))}),e._uU(3),e.qZA()(),e.YNc(4,Ln,4,3,"div",81),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2).$implicit,r=e.oxw();e.xp6(3),e.hij(" ",t[i.name]," "),e.xp6(1),e.Q6J("ngIf",r.showDescription)}}function ri(n,o){if(1&n&&(e.TgZ(0,"mat-cell",77),e.YNc(1,ii,7,3,"ng-container",54),e.YNc(2,Fi,5,2,"ng-template",null,78,e.W1O),e.qZA()),2&n){const t=o.$implicit,i=e.MAs(3),r=e.oxw(3);e.s9C("id",t.parentID),e.xp6(1),e.Q6J("ngIf",!0===r.transpositionTogglerValue)("ngIfElse",i)}}function Xn(n,o){1&n&&(e.TgZ(0,"span"),e.YNc(1,ri,4,3,"mat-cell",76),e.qZA())}function si(n,o){1&n&&(e.ynx(0),e._UZ(1,"i",87),e.BQk())}function Pi(n,o){1&n&&e._UZ(0,"i",88)}function Ci(n,o){if(1&n&&(e.ynx(0),e.YNc(1,si,2,0,"ng-container",54),e.YNc(2,Pi,1,0,"ng-template",null,86,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.value)("ngIfElse",t)}}function Ki(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ci,4,2,"ng-container",85),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",t.id==i.id)}}function or(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,Ki,2,1,"ng-container",84),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t.values)}}function $i(n,o){1&n&&e.YNc(0,or,2,1,"mat-cell",83)}function Jo(n,o){if(1&n&&(e.ynx(0,53),e.YNc(1,pe,4,2,"span",54),e.YNc(2,zt,1,0,"ng-template",null,55,e.W1O),e.YNc(4,Xn,2,0,"span",54),e.YNc(5,$i,1,0,"ng-template",56,57,e.W1O),e.BQk()),2&n){const t=o.$implicit,i=o.index,r=e.MAs(3),a=e.MAs(6);e.s9C("matColumnDef",t.id),e.Q6J("sticky",0==i),e.xp6(1),e.Q6J("ngIf","parentName"==t.id)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf","parentName"==t.id)("ngIfElse",a)}}function Kr(n,o){1&n&&e._UZ(0,"mat-header-row")}function tl(n,o){1&n&&e._UZ(0,"mat-row")}function nl(n,o){if(1&n&&(e.TgZ(0,"div",89)(1,"div",90),e._uU(2),e.qZA(),e.TgZ(3,"div",91),e._UZ(4,"div",92),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("Loading ",t.columnPage>1?"more columns...":"data...","")}}const wr=function(n){return{"disabled-column-indicator":n}},ua=function(){return[5,10,25,50,100]};let Fd=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O,U){this._skillsMatrixService=t,this.dialog=i,this._messageService=r,this._titleService=a,this._cd=s,this._sanitizer=l,this._employeeService=c,this._userRoleService=u,this._profileService=h,this._accountService=x,this._breakpointObserverService=T,this._zone=O,this._router=U,this.destroyed$=new Km.t(1),this.pageTitle="Settings > Skills Matrix",this.dataSource=new N.by,this.dataSourceDefinition=[],this.allColumns=[],this.resultsLength=0,this.initColumns=[],this.displayedColumns=[],this.transpositionTogglerValue=!0,this.allJobTypes=new Array,this.allSkills=new Array,this.skillIDs=new Array,this.jobTypeIDs=new Array,this.employeeIDs=new Array,this.employeeSearchInput=new b.x,this.skillDescriptionToggler=new _.NI,this.showDescription=!1,this.canCreateSkillCode=!1,this.isLinkedEmployeeClicked=!1,this.canEditLinkedEmployeeSkills=!1,this.firstLoad=!1,this.columnLimit=12,this.columnPage=1,this.totalColumnCount=0,this.totalColumnPages=0,this.showLoader=!1,this.transposed=!1,this.initiallyLoaded=!1,this.tableTopOffset=0,this.nextColText="",this.previousColText="",this.positionText="",this.nextColLg="Next Column Page",this.prevColLg="Previous Column Page",this.positionLg="Column Page "+this.columnPage+" of "+this.totalColumnPages+" pages",this.nextColSm="Next Page",this.prevColSm="Prev Page",this.positionSm="Col Page "+this.columnPage+" of "+this.totalColumnPages,this.trackByIndex=re=>re,U.events.subscribe(()=>{this._cd&&!this._cd.destroyed&&O.run(()=>this._cd.detectChanges())}),this.size$=this._breakpointObserverService.size$,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.firstLoad=!0}ngOnInit(){this.watchSize(),this.startQueueSubscription(),this.employees=(0,Yr.z)((0,gn.of)([]),this.employeeSearchInput.pipe((0,H.R)(this.destroyed$),(0,Gi.x)(),(0,j.w)(t=>this._employeeService.searchEmployeesAndSkillsForFilter(t,"SkillMatrices","Employee").pipe((0,Wi.K)(()=>(0,gn.of)([])))))),this._titleService.sendTitle(this.pageTitle),this.skillMatrixFilterForm=new _.cw({skills:new _.NI([]),employees:new _.NI([]),jobTypes:new _.NI([])}),this.skillDescriptionToggler.valueChanges.subscribe(t=>{this.showDescription=t}),this.skillMatrixFilterForm.valueChanges.pipe((0,H.R)(this.destroyed$)).subscribe(t=>{t&&(this.columnPage=1,this.paginator.firstPage()),this.employeeIDs=t.employees,this.filterTable()}),this.getRole(),this.getLoggedUserID(),this.getAllDropdownData(),this.setPermissionsForCreatingSkillCodes(),this.setLinkedEmployeeRights(),this._userRoleService.refetchPermissions.pipe((0,H.R)(this.destroyed$)).subscribe(()=>{this.setPermissionsForCreatingSkillCodes()})}getRole(){this._userRoleService.loggedUserRole.pipe((0,H.R)(this.destroyed$)).subscribe(t=>{this.role=t})}getLoggedUserID(){this._userRoleService.loggedUserId.pipe((0,H.R)(this.destroyed$)).subscribe(t=>{this.loggedUserID=t})}setPermissionsForCreatingSkillCodes(){setTimeout(()=>{const t=this._userRoleService.getGlobalAccountPermissions();t&&(this.canCreateSkillCode=t.canUserCreateSkillCodes)},200)}setLinkedEmployeeRights(){"User"==this.role&&this._accountService.getLinkedAccount().pipe((0,H.R)(this.destroyed$)).subscribe(t=>{null!==t?(this.linkedEmployeeID=t.id,this._profileService.getLinkedAccountRights().subscribe(i=>{this.linkedEmployeeRights=i})):this.linkedEmployeeID=null})}filterTable(){this.showLoader=!0,this._skillsMatrixService.getAllSkillMatricesByFilter("xs",!this.transpositionTogglerValue,this.firstLoad,this.columnPage,this.columnLimit,this.transpositionTogglerValue,this.skillIDs,this.jobTypeIDs,this.employeeIDs,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction).pipe((0,H.R)(this.destroyed$)).subscribe(t=>{if(this.resultsLength=t.totalCount,this.totalColumnCount=t.totalColumnCount,this.totalColumnPages=Math.ceil(this.totalColumnCount/this.columnLimit),this.columnPage>this.totalColumnPages)return this.columnPage=this.totalColumnPages,void this.filterTable();this.handleData(t)},t=>{this._messageService.open(t)})}ngAfterViewInit(){(0,ie.T)(this.sort.sortChange,this.paginator.page).pipe((0,_e.O)({}),(0,L.b)(()=>{this.getVerticalOffset()}),(0,H.R)(this.destroyed$),(0,j.w)(()=>this._skillsMatrixService.getAllSkillMatricesByFilter("xs",!this.transpositionTogglerValue,this.firstLoad,this.columnPage,this.columnLimit,this.transpositionTogglerValue,this.skillIDs,this.jobTypeIDs,this.employeeIDs,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction))).subscribe(t=>{this.paginator.pageSize!=t.limit&&(this.paginator.pageSize=t.limit),t.areRowsSwapped&&this.transpositionTogglerValue&&this.transpose(!0),1!=t.page&&this.paginator.pageIndex!=t.page-1&&(this.columnPage=t.page,this.paginator.pageIndex=t.page-1),this.skillIDs=t.skillCodesIDs?t.skillCodesIDs:[],this.jobTypeIDs=t.jobTypesIDs?t.jobTypesIDs:[],this.resultsLength=t.totalCount,this.totalColumnCount=t.totalColumnCount,this.initiallyLoaded=!0,this.totalColumnPages=Math.ceil(this.totalColumnCount/this.columnLimit),this.handleData(t)},t=>{this._messageService.open(t)}),this.firstLoad&&(this.firstLoad=!1)}transpose(t){this.transposed=!0,this.transpositionTogglerValue=!this.transpositionTogglerValue,t||(this.columnPage=1,this.paginator.firstPage(),this.filterTable())}updateValues(t,i,r){let a;if(null!=this.linkedEmployeeID&&null!=this.linkedEmployeeID&&this.linkedEmployeeID==t?(this.isLinkedEmployeeClicked=!0,this.canEditLinkedEmployeeSkills="Modify"==this.linkedEmployeeRights):this.isLinkedEmployeeClicked=!1,!this.isLinkedEmployeeClicked||this.canEditLinkedEmployeeSkills){let l,c,s=document.elementFromPoint(r.x,r.y);s.classList.contains("fa-check-circle")?(s.classList.remove("fa-check-circle"),s.classList.add("fa-times-circle"),a=!1):(s.classList.remove("fa-times-circle"),s.classList.add("fa-check-circle"),a=!0),1==this.transpositionTogglerValue?(l=t,c=i):0==this.transpositionTogglerValue&&(c=t,l=i),this._skillsMatrixService.updateSkillMatrix(l,c,a).pipe((0,H.R)(this.destroyed$)).subscribe(u=>{this._messageService.open(u),this.filterTable()})}}openNewSkillDialog(){this.dialog.open(Lf,{width:"300px",disableClose:!0,autoFocus:!1}).afterClosed().pipe((0,H.R)(this.destroyed$)).subscribe(i=>{"submitted"===i&&(this.getAllDropdownData(),this.filterTable())})}editSkillCode(t){if("Employee Name"!==t.target.innerText){const i=t.target.innerText;let r;this.allSkills.forEach(a=>{a.name===i&&(r=a.id)}),r&&this.dialog.open(Lf,{width:"300px",disableClose:!0,autoFocus:!1,data:{skillCodeId:r}}).afterClosed().pipe((0,H.R)(this.destroyed$)).subscribe(()=>{this.getAllDropdownData(),this.filterTable()})}}getAllDropdownData(){this._skillsMatrixService.getSkillCodesAndJobTypesForFilter().pipe((0,H.R)(this.destroyed$)).subscribe(t=>{this.allJobTypes=t.JobTypes,this.allSkills=t.SkillCodes})}openFiltersDialog(){this._zone.run(()=>{this.dialog.open(K_,{panelClass:"skills-matrix-filter-dialog",backdropClass:"backdropBackground",width:"700px",disableClose:!0,autoFocus:!1,data:{selectedJobs:this.jobTypeIDs,selectedSkills:this.skillIDs,jobTypes:this.allJobTypes,skills:this.allSkills}}).afterClosed().pipe((0,H.R)(this.destroyed$)).subscribe(i=>{i&&(this.columnPage=1,this.skillIDs=i.skillIDs,this.jobTypeIDs=i.jobTypeIDs,this.filterTable())})})}handleData(t){if(this.dataSourceDefinition=t.items,this.initColumns=[],this.displayedColumns=[],0!==this.dataSourceDefinition.length){this.allColumns.push(Object.keys(t.items[0])),this.allColumnsDefined=this.allColumns[0],this.valuesLength=this.dataSourceDefinition[0].values.length,this.initColumns.push({id:"parentName",name:"parentName",image:"parentName",description:"parentName"});for(let i=0;i<this.valuesLength;i++)this.initColumns.push({id:this.dataSourceDefinition[0].values[i].id.toString(),name:this.dataSourceDefinition[0].values[i].name.toString(),image:this.dataSourceDefinition[0].values[i].image,description:this.dataSourceDefinition[0].values[i].description.toString()});this.displayedColumns=this.initColumns.map(i=>i.id),this.dataSource=new N.by(this.dataSourceDefinition),this.showLoader=!1,this._cd.detectChanges(),t.areRowsSwapped?this.setVerticalOffset():(this.setVerticalOffset(1),this.transposed=!1)}else this.showLoader=!1,this._cd.detectChanges(),this._messageService.open("No data to display")}sanitizeExisting(t){return this._sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+t)}navigateColumns(t){switch(this.getVerticalOffset(),t){case"next":this.columnPage+=1;break;case"previous":this.columnPage-=1;break;case"first":this.columnPage=1;break;case"last":this.columnPage=this.totalColumnPages}this.filterTable()}watchSize(){this.size$.pipe((0,H.R)(this.destroyed$)).subscribe(t=>{switch(t){case"xxxl":this.columnLimit=11,this.nextColText=this.nextColLg,this.previousColText=this.prevColLg,this.initiallyLoaded&&(this._cd.detectChanges(),this.filterTable());break;case"xxl-2":this.columnLimit=10,this.nextColText=this.nextColLg,this.previousColText=this.prevColLg,this.initiallyLoaded&&(this._cd.detectChanges(),this.filterTable());break;case"xxl":this.columnLimit=9,this.nextColText=this.nextColLg,this.previousColText=this.prevColLg,this.initiallyLoaded&&(this._cd.detectChanges(),this.filterTable());break;case"xl-3":this.columnLimit=8,this.nextColText=this.nextColLg,this.previousColText=this.prevColLg,this.initiallyLoaded&&(this._cd.detectChanges(),this.filterTable());break;case"xl-2":this.columnLimit=7,this.nextColText=this.nextColLg,this.previousColText=this.prevColLg,this.initiallyLoaded&&(this._cd.detectChanges(),this.filterTable());break;case"xl":this.columnLimit=5,this.nextColText=this.nextColLg,this.previousColText=this.prevColLg,this.initiallyLoaded&&(this._cd.detectChanges(),this.filterTable());break;case"lg-2":case"lg-sidebar-4":case"lg":case"md":this.columnLimit=4,this.nextColText=this.nextColLg,this.previousColText=this.prevColLg,this.initiallyLoaded&&(this._cd.detectChanges(),this.filterTable());break;case"lg-sidebar-3":case"sm":this.columnLimit=3,this.nextColText=this.nextColLg,this.previousColText=this.prevColLg,this.initiallyLoaded&&(this._cd.detectChanges(),this.filterTable());break;case"xs":this.columnLimit=2,this.nextColText=this.nextColLg,this.previousColText=this.prevColLg,this.initiallyLoaded&&(this._cd.detectChanges(),this.filterTable());break;case"xxs":this.columnLimit=1,this.nextColText=this.nextColSm,this.previousColText=this.prevColSm,this.initiallyLoaded&&(this._cd.detectChanges(),this.filterTable())}})}startQueueSubscription(){this._skillsMatrixService.getRequestsInQueue.pipe((0,H.R)(this.destroyed$)).subscribe(t=>{switch(t){case 0:this.showLoader=!1;break;case 1:this.showLoader=!0}this._cd.detectChanges()})}getVerticalOffset(){const t=document.querySelector(".skills-matrix-table-container");this.tableTopOffset=t.scrollTop}setVerticalOffset(t){document.querySelector(".skills-matrix-table-container").scrollTop=t?0:this.tableTopOffset}isOverflow(t){var i=t.style.overflow;(!i||"visible"===i)&&(t.style.overflow="hidden");var r=t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight;return t.style.overflow=i,r}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Uf),e.Y36(z.uw),e.Y36(se.G),e.Y36(ce.Z),e.Y36(e.sBO),e.Y36(we.H7),e.Y36(Vr.n),e.Y36(qi.J),e.Y36(yr.H),e.Y36(jn),e.Y36(ev),e.Y36(e.R0b),e.Y36(q.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-skills-matrix"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(Hf,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.employeesSelect=r.first)}},decls:56,vars:31,consts:[[1,"container-fluid","skills-matrix-page"],[1,"card"],[1,"card-body"],[1,"skills-matrix-header"],[1,"row"],[1,"col-12"],["id","wholeHeader",1,"d-flex","justify-content-between"],["id","nameAndFilterHeader",1,"d-flex","justify-content-between"],[1,"matrix-title"],[1,"filterFormDiv"],[3,"formGroup",4,"ngIf"],["id","topButtons",1,"d-flex","justify-content-end"],[1,"header-second"],["id","SkillMatrix_Filters_btn",1,"btn","skills-matrix-button","filter-button","pull-right",3,"click"],[1,"fa","fa-filter","border-none"],[1,"header-third"],["id","SkillMatrix_SwapRowsColumns_btn","type","button",1,"btn","skills-matrix-button","toggle-button",3,"disabled","click"],[1,"fa","fa-retweet","border-none"],[1,"header-fourth"],[1,"skill-code-slider","d-flex","justify-content-center"],[1,"skill-labels"],[1,"skill-slider",3,"formControl"],[1,"table-divider"],["id","skillsMatrixTableRow",1,"row"],[1,"col-md-12"],[1,"g-thin-black-scroll-bar","skills-matrix-table-container",3,"scroll"],["matSort","","id","skillMatrixTable",1,"matrix-table-class",3,"dataSource"],[3,"matColumnDef","sticky",4,"ngFor","ngForOf","ngForTrackBy"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[1,"d-flex","justify-content-between","column-indicator-container"],[1,"column-navigation",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-chevron-left","column-navigation"],[1,"column-indicator"],[1,"d-flex","justify-content-between","column-indicator"],[3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-step-backward","column-navigation","coulmn-border-navigation"],[1,"coulmn-count-display"],["aria-hidden","true",1,"fa","fa-step-forward","column-navigation","coulmn-border-navigation"],["aria-hidden","true",1,"fa","fa-chevron-right"],["paginatorStyle","","showFirstLastButtons","","color","accent",1,"sm-paginator",3,"length","pageSize","pageSizeOptions"],["paginator",""],[1,"card-text"],["class","centered progressBarContainer",4,"ngIf"],[3,"formGroup"],[1,"g-esolve-multi-select","col-spacing"],["id","empSearchInput","bindLabel","name","bindValue","id","placeholder","Find Employee","formControlName","employees","typeToSearchText","Enter at least two characters",1,"g-esolve-multi-select","esolve-font-size",3,"items","multiple","hideSelected","typeahead","minTermLength"],["employeeSelect",""],["ng-multi-label-tmp",""],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[3,"matColumnDef","sticky"],[4,"ngIf","ngIfElse"],["otherColumn",""],["class","eSolveMatrixCell"],["other",""],["swappedNamesColumn",""],["mat-sort-header","","id","first_header",4,"matHeaderCellDef"],["mat-sort-header","","id","first_header"],["mat-sort-header","",4,"matHeaderCellDef"],["mat-sort-header",""],[3,"id","ngClass",4,"matHeaderCellDef"],[3,"id","ngClass"],["horizontalSkills",""],[1,"row","column-header-employees"],["class","matrix-image","id","table-image",3,"src",4,"ngIf","ngIfElse"],["defaultColumnImage",""],[1,"emplNames"],["id","table-image",1,"matrix-image",3,"src"],["id","table-image","src","assets/images/default-avatar-60.jpg",1,"matrix-image"],[1,"skill-code-name",3,"click"],["class","col-12",4,"ngIf"],["mdTooltipClass","toolTip",1,"skill-code-description",3,"matTooltip","matTooltipDisabled"],["matMenuDescriptionn",""],[3,"id",4,"matCellDef"],[3,"id"],["verticalSkills",""],["defaultImage",""],[1,"col-12","verticallSkillCode"],["class","col-12 verticallSkillCode",4,"ngIf"],["mdTooltipClass","toolTip",1,"skill-code-description","skill-code-description-vertical",3,"matTooltip","matTooltipDisabled"],[4,"matCellDef"],[4,"ngFor","ngForOf"],[4,"ngIf"],["noSkill",""],["aria-hidden","true",1,"fa","fa-check-circle","active-state"],["aria-hidden","true",1,"fa","fa-times-circle","active-state"],[1,"centered","progressBarContainer"],[1,"progressBarText"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","progress-bar-blue","esolve-progress-bar"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e._uU(9," View Skills Matrix "),e.qZA(),e.TgZ(10,"div",9),e.YNc(11,v,6,8,"form",10),e.qZA()(),e.TgZ(12,"div",11)(13,"div",12)(14,"button",13),e.NdJ("click",function(){return i.openFiltersDialog()}),e._UZ(15,"i",14),e._uU(16),e.qZA()(),e.TgZ(17,"div",15)(18,"button",16),e.NdJ("click",function(){return i.transpose(!1)}),e._UZ(19,"i",17),e._uU(20," \xa0\xa0Swap Rows / Columns "),e.qZA()(),e.TgZ(21,"div",18)(22,"div",19)(23,"div",20)(24,"mat-slide-toggle",21),e._uU(25,"Skill Description"),e.qZA()()()()()()()(),e.TgZ(26,"div",4)(27,"div",5),e._UZ(28,"hr",22),e.qZA()()(),e.TgZ(29,"div",23)(30,"div",24)(31,"div",25),e.NdJ("scroll",function(){return i.getVerticalOffset()}),e.TgZ(32,"mat-table",26),e.YNc(33,Jo,7,6,"ng-container",27),e.YNc(34,Kr,1,0,"mat-header-row",28),e.YNc(35,tl,1,0,"mat-row",29),e.qZA()(),e.TgZ(36,"div",30)(37,"span",31),e.NdJ("click",function(){return i.navigateColumns("previous")}),e._UZ(38,"i",32),e.TgZ(39,"span",33),e._uU(40),e.qZA()(),e.TgZ(41,"span",34)(42,"span",35),e.NdJ("click",function(){return i.navigateColumns("first")}),e._UZ(43,"i",36),e.qZA(),e.TgZ(44,"span",37),e._uU(45),e.qZA(),e.TgZ(46,"span",35),e.NdJ("click",function(){return i.navigateColumns("last")}),e._UZ(47,"i",38),e.qZA()(),e.TgZ(48,"span",31),e.NdJ("click",function(){return i.navigateColumns("next")}),e.TgZ(49,"span",33),e._uU(50),e.qZA(),e._UZ(51,"i",39),e.qZA()(),e._UZ(52,"mat-paginator",40,41),e.qZA()(),e._UZ(54,"div",42),e.qZA()(),e.YNc(55,nl,5,1,"div",43),e.qZA()),2&t&&(e.xp6(11),e.Q6J("ngIf",i.skillMatrixFilterForm),e.xp6(5),e.hij(" \xa0\xa0Filters ",i.skillIDs.length>0||i.jobTypeIDs.length>0?"(Active)":""," "),e.xp6(2),e.Q6J("disabled",i.showLoader),e.xp6(6),e.Q6J("formControl",i.skillDescriptionToggler),e.xp6(8),e.Q6J("dataSource",i.dataSource),e.xp6(1),e.Q6J("ngForOf",i.initColumns)("ngForTrackBy",i.trackByIndex),e.xp6(1),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("ngClass",e.VKq(22,wr,1==i.columnPage||i.showLoader)),e.xp6(3),e.hij(" \xa0 ",i.previousColText," "),e.xp6(2),e.Q6J("ngClass",e.VKq(24,wr,1==i.columnPage||i.showLoader)),e.xp6(3),e.AsE(" Column Page ",i.columnPage," of ",i.totalColumnPages," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,wr,i.columnPage==i.totalColumnPages||i.showLoader)),e.xp6(2),e.Q6J("ngClass",e.VKq(28,wr,i.columnPage==i.totalColumnPages||i.showLoader)),e.xp6(2),e.hij(" ",i.nextColText," \xa0 "),e.xp6(2),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(30,ua)),e.xp6(3),e.Q6J("ngIf",i.showLoader))},dependencies:[D.mk,D.sg,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,Gs.gM,_._Y,_.JJ,_.JL,_.oH,_.sg,_.u,Sn,er,Hc,$n,di,D.Ov],styles:[".mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#757575!important}  .new-skill-dialog{padding:5px!important}.mat-dialog-container[_ngcontent-%COMP%]{padding:10px!important}mat-table[_ngcontent-%COMP%]{overflow:auto}.skills-matrix-table-container[_ngcontent-%COMP%]{height:calc(100vh - 274px);overflow:auto}.filterFormDiv[_ngcontent-%COMP%]{padding-top:5px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{width:125px;text-align:center!important;margin:0vh 1vw 0vh 1vw!important}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;min-width:100%}mat-cell[_ngcontent-%COMP%]:not(:first-child){display:-ms-flexbox!important;display:flex!important;margin:0 5px!important;-ms-flex-pack:center!important;justify-content:center!important}mat-header-cell[_ngcontent-%COMP%]:not(:first-child){color:#4c2929;font-size:14px;margin:0 5px!important;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.mat-cell[_ngcontent-%COMP%]:first-child, .mat-header-cell[_ngcontent-%COMP%]:first-child{min-width:160px;max-width:218px;margin:0!important;padding-left:0}.mat-cell[_ngcontent-%COMP%]:last-child, .mat-header-cell[_ngcontent-%COMP%]:last-child{padding-right:0}.mat-header-cell[_ngcontent-%COMP%]{height:74px}  .eSolveMatrixCell.mat-cell:not(:first-child){text-align:center;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;margin:0vh 0vh -1.5vh;vertical-align:middle}.container-fluid[_ngcontent-%COMP%]{position:relative;background-color:#eff3f7;padding:5vh 1vw 5vh 2vw;width:100%}.add-skill-button[_ngcontent-%COMP%]{width:120px!important}.swap-button[_ngcontent-%COMP%], .add-skill-button[_ngcontent-%COMP%]{height:37px;width:200px;padding:0 12px;margin-bottom:10px;margin-left:10px!important;float:right;min-width:88px;border-radius:4px;font-size:14px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}#skillsFilter[_ngcontent-%COMP%]{margin-right:20px}.active-state[_ngcontent-%COMP%]{font-size:27px}.column-header-employees[_ngcontent-%COMP%]{height:74px}.fa-check-circle[_ngcontent-%COMP%]{color:var(--eSolve-green)!important}.fa-times-circle[_ngcontent-%COMP%]{color:var(--eSolve-red)!important}.matrix-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f;margin:9px 0 2px!important;min-width:86px}.icon-input[_ngcontent-%COMP%]{padding-right:30px!important;padding-left:10px!important;height:30px;border-radius:6px;font-size:11px;font-weight:300;color:#615f5b;background-color:#f2f2f2;position:relative;width:100%;border:1px solid #999999;margin:5px 0 2px!important}.search-icon[_ngcontent-%COMP%]{right:24px;position:absolute;top:12px;color:#989898;font-size:14px;cursor:pointer}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.header-second[_ngcontent-%COMP%], .header-third[_ngcontent-%COMP%], .header-fourth[_ngcontent-%COMP%]{border-left:1px solid #ced5db}.header-second[_ngcontent-%COMP%], .header-third[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.header-fourth[_ngcontent-%COMP%]{padding-left:15px}.skills-matrix-button[_ngcontent-%COMP%]{height:27px;width:165px;font-size:12px;font-weight:bolder;line-height:10px;outline:none;color:#3f5064;background-color:#d4dbe0;margin-top:10px;margin-right:5px;box-shadow:none}.header-item-margin[_ngcontent-%COMP%]{margin:5px 0!important}.filter-button[_ngcontent-%COMP%], .toggle-button[_ngcontent-%COMP%], .add-skill-button[_ngcontent-%COMP%]{width:167px!important;margin:5px 0 2px!important}.matrix-image[_ngcontent-%COMP%]{height:30px;width:30px;min-height:30px;min-width:30px;border-radius:50%}.emplNames[_ngcontent-%COMP%]{margin-left:2px;padding:0 5px;white-space:nowrap;font-size:12px}.skill-code-name[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}.skill-code-description[_ngcontent-%COMP%]{cursor:pointer;font-size:12px;color:#0000008a;--max-lines: 2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--max-lines);overflow:hidden;text-overflow:ellipsis}.skill-code-description-vertical[_ngcontent-%COMP%]{--max-lines: 1}.verticallSkillCode[_ngcontent-%COMP%]{text-align:start}.matHeaderCell[_ngcontent-%COMP%]{-ms-flex-align:start;align-items:start}.esolve-font-size[_ngcontent-%COMP%]{font-size:12px}.col-spacing[_ngcontent-%COMP%]{padding-bottom:0%;margin-right:15px;margin-left:8px}#nameAndFilterHeader[_ngcontent-%COMP%]{width:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:static!important;position:initial!important;overflow-y:hidden!important}.skills-matrix-page[_ngcontent-%COMP%]{padding:17px!important}.matrix-table-class[_ngcontent-%COMP%]{overflow:visible!important;overflow:initial!important}.column-indicator-container[_ngcontent-%COMP%]{height:16px;padding-top:6px;z-index:300;border-top:1px solid rgba(0,0,0,.25)}.column-indicator[_ngcontent-%COMP%]{margin-top:-1px;font-size:10px;color:#0000008a}.column-navigation[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;cursor:pointer;font-size:13px}.disabled-column-indicator[_ngcontent-%COMP%]{color:#0006;pointer-events:none;cursor:none}.coulmn-count-display[_ngcontent-%COMP%]{margin:0 5px}.coulmn-border-navigation[_ngcontent-%COMP%]{font-size:10px!important;padding-top:1px;color:#0000008a}.skill-code-slider[_ngcontent-%COMP%]{margin-top:5px}.skill-labels[_ngcontent-%COMP%]{float:right}  .mat-tooltip{font-size:12px}@media (max-width: 1130px){#topButtons[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}.header-second[_ngcontent-%COMP%], .header-third[_ngcontent-%COMP%], .header-fourth[_ngcontent-%COMP%]{padding:0;border:none}}@media (max-width: 767px){.header-second[_ngcontent-%COMP%], .header-third[_ngcontent-%COMP%], .header-fourth[_ngcontent-%COMP%]{border:none}.filter-button[_ngcontent-%COMP%], .toggle-button[_ngcontent-%COMP%], .add-skill-button[_ngcontent-%COMP%]{float:none;width:100%!important}.matrix-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f;margin:9px 0 2px!important;text-align:center}}@media (max-width: 628px){.sm-paginator[_ngcontent-%COMP%]{margin-top:20px}}@media (max-width: 520px){#wholeHeader[_ngcontent-%COMP%], #nameAndFilterHeader[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}.col-spacing[_ngcontent-%COMP%]{margin:0 0 2px}}@media (max-width: 425px){.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{width:90px;text-align:center!important;margin:0vh 1vw 0vh 1vw!important}}@media (max-width: 320px){.skills-matrix-table-container[_ngcontent-%COMP%]{height:calc(100vh - 476px)}}@media (min-width: 321px) and (max-width: 339px){.skills-matrix-table-container[_ngcontent-%COMP%]{height:calc(100vh - 500px)}}@media (max-width: 448px) and (min-width: 340px){.skills-matrix-table-container[_ngcontent-%COMP%]{height:calc(100vh - 500px)}.sm-paginator[_ngcontent-%COMP%]{margin-bottom:-10px!important}}@media (max-width: 490px) and (min-width: 449px){.skills-matrix-table-container[_ngcontent-%COMP%]{height:calc(100vh - 444px)}.sm-paginator[_ngcontent-%COMP%]{margin-bottom:-10px!important}}@media (max-width: 520px) and (min-width: 491px){.skills-matrix-table-container[_ngcontent-%COMP%]{height:calc(100vh - 447px)}}@media (min-width: 521px) and (max-width: 606px){.skills-matrix-table-container[_ngcontent-%COMP%]{height:calc(100vh - 375px)}}@media (min-width: 607px) and (max-width: 628px){.skills-matrix-table-container[_ngcontent-%COMP%]{height:calc(100vh - 361px)}}@media (min-width: 629px) and (max-width: 1129px){.skills-matrix-table-container[_ngcontent-%COMP%]{height:calc(100vh - 341px)}}"]}),n})(),bs=(()=>{class n{constructor(t,i){this._dialogService=t,this._authService=i}canDeactivate(t){if(!t.employeeForm.pristine){const i=new b.x,r=this._dialogService.openGuardConfirmDialog("Confirm",(0,St.dS)());r.componentInstance.subject=i;let s,a=i.asObservable();return this._authService.isSessionExpireDialogOpen.subscribe(l=>s=l),s?(r.close(!0),!0):a}return!0}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ri.x),e.LFG(Ir.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const Gl=function(n,o){return{"blue-color":n,"red-color":o}},Bc=function(n){return{"last-info":n}};function Vc(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",10)(3,"div",12),e._uU(4),e.qZA(),e.TgZ(5,"div",13),e._uU(6),e.ALo(7,"date"),e.ALo(8,"date"),e.qZA()()(),e._UZ(9,"hr",14),e.qZA()),2&n){const t=o.$implicit,i=o.last,r=e.oxw(2);e.xp6(3),e.Q6J("ngClass",e.WLB(13,Gl,"Approved"===t.status,"Not Submitted"===t.status)),e.xp6(1),e.lnq(" ",t.isSchedule?"[S] ":"","",t.header,"\xa0[",t.status,"] "),e.xp6(2),e.AsE(" Period:\xa0",e.xi3(7,7,t.startDateTime,r.dateFormat)," - ",e.xi3(8,10,t.endDateTime,r.dateFormat)," "),e.xp6(3),e.Q6J("ngClass",e.VKq(16,Bc,i))}}function Zd(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Vc,10,18,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.shortInfoList)}}function Wl(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",10)(3,"div",12),e._uU(4),e.qZA(),e.TgZ(5,"div",13),e._uU(6),e.ALo(7,"date"),e.ALo(8,"date"),e.qZA()()(),e._UZ(9,"hr",14),e.qZA()),2&n){const t=o.$implicit,i=o.last,r=e.oxw(2);e.xp6(3),e.Q6J("ngClass",e.WLB(13,Gl,"Approved"===t.status,"Not Submitted"===t.status)),e.xp6(1),e.lnq(" ",t.isSchedule?"[S] ":"","",t.header,"\xa0[",t.status,"] "),e.xp6(2),e.AsE(" Period:\xa0",e.xi3(7,7,t.startDateTime,r.dateFormat)," - ",e.xi3(8,10,t.endDateTime,r.dateFormat)," "),e.xp6(3),e.Q6J("ngClass",e.VKq(16,Bc,i))}}function ys(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Wl,10,18,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.mediumInfoList)}}function Gc(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",10)(3,"div",12),e._uU(4),e.qZA(),e.TgZ(5,"div",13),e._uU(6),e.ALo(7,"date"),e.ALo(8,"date"),e.qZA()()(),e._UZ(9,"hr",14),e.qZA()),2&n){const t=o.$implicit,i=o.last,r=e.oxw(2);e.xp6(3),e.Q6J("ngClass",e.WLB(13,Gl,"Approved"===t.status,"Not Submitted"===t.status)),e.xp6(1),e.lnq(" ",t.isSchedule?"[S] ":"","",t.header,"\xa0[",t.status,"] "),e.xp6(2),e.AsE(" Period:\xa0",e.xi3(7,7,t.startDateTime,r.dateFormat)," - ",e.xi3(8,10,t.endDateTime,r.dateFormat)," "),e.xp6(3),e.Q6J("ngClass",e.VKq(16,Bc,i))}}function Ld(n,o){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,Gc,10,18,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.infoList)}}function Ia(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleExpansion())}),e._uU(1," More.. "),e.qZA()}}function Xu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleExpansion())}),e._uU(1," Less "),e.qZA()}}function Bf(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"div"),e.YNc(2,Ia,2,0,"span",17),e.YNc(3,Xu,2,0,"span",17),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.expandedList),e.xp6(1),e.Q6J("ngIf",t.expandedList)}}let Ud=(()=>{class n{constructor(t,i,r,a){this.dialogData=t,this._calendarService=i,this._dialogRef=r,this._messageService=a,this.showShortInfoList=!0,this.showMediumInfoList=!1,this.shortInfoList=new Array,this.mediumInfoList=new Array,this.infoList=new Array,this.infoCount=0,this.expandedList=!1,this.dateFormat="",this.sysLocale=window.localStorage.getItem("systemLocale")}ngOnInit(){this.dateFormat="en"==this.sysLocale?"MMM dd":"dd MMM",this._fetchSubmissionInfo()}_fetchSubmissionInfo(){let t=this._prepareRequestParams();this._calendarService.getSubmissionInfo(t).subscribe(i=>{i.forEach(r=>{this.infoCount+=1,this.infoList.push(r),this.infoCount<7&&this.shortInfoList.push(r),this.infoCount<11&&this.mediumInfoList.push(r)})},i=>{this._messageService.open(i)})}toggleExpansion(){this.expandedList?(this.showShortInfoList=!0,this.expandedList=!1):(this.showShortInfoList=!1,this.expandedList=!0,this.showMediumInfoList=this.infoList.length<11)}_prepareRequestParams(){return(new Y.LE).set("userId",this.dialogData.id).set("scheduleId",this.dialogData.scheduleId).set("startDateTime",this.dialogData.startDate).set("endDateTime",this.dialogData.endDate)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(Nc),e.Y36(z.so),e.Y36(se.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-approval-info"]],decls:11,vars:4,consts:[[1,"card","absence-info-window"],[1,"card-header","info-header"],[1,"header-content","d-flex","justify-content-between"],[1,"info-header-title","blue-color"],[1,"card-body","info-body"],[4,"ngIf"],["class","g-thin-black-scroll-bar long-list",4,"ngIf"],[1,"card-footer","info-footer"],["class","footer-content info-footer-item d-flex justify-content-end",4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","info-content-container"],[1,"col-12","info-title",3,"ngClass"],[1,"col-12","info-content"],[1,"info-divider",3,"ngClass"],[1,"g-thin-black-scroll-bar","long-list"],[1,"footer-content","info-footer-item","d-flex","justify-content-end"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4," Schedule Approval - Details "),e.qZA()()(),e.TgZ(5,"div",4),e.YNc(6,Zd,2,1,"div",5),e.YNc(7,ys,2,1,"div",5),e.YNc(8,Ld,2,1,"div",6),e.qZA(),e.TgZ(9,"div",7),e.YNc(10,Bf,4,2,"div",8),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngIf",!i.expandedList&&i.showShortInfoList),e.xp6(1),e.Q6J("ngIf",i.expandedList&&i.showMediumInfoList),e.xp6(1),e.Q6J("ngIf",i.expandedList&&!i.showMediumInfoList),e.xp6(2),e.Q6J("ngIf",i.infoCount>6))},dependencies:[D.mk,D.sg,D.O5,$n,D.uU],styles:[".info-header[_ngcontent-%COMP%]{background-color:var(--eSolve-gray-dark);padding-right:16px;padding-left:12px}.info-body[_ngcontent-%COMP%]{padding:5px 8px 5px 12px;overflow-x:hidden}.info-footer[_ngcontent-%COMP%]{padding:.7rem 14px .7rem 11px!important}.info-body[_ngcontent-%COMP%], .info-footer[_ngcontent-%COMP%]{background-color:#eef3f6}.info-header-title[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:700}.info-footer-item[_ngcontent-%COMP%]{cursor:pointer;color:#127fb6;font-size:12px;text-decoration:underline}.info-footer-item[_ngcontent-%COMP%]{margin-top:-4px}.info-title[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.info-content[_ngcontent-%COMP%]{font-size:12px}.info-divider[_ngcontent-%COMP%]{width:100%;margin:5px 0 3px}.last-info[_ngcontent-%COMP%]{display:none}.g-thin-black-scroll-bar.long-list[_ngcontent-%COMP%]{max-height:67vh!important}.blue-color[_ngcontent-%COMP%]{color:var(--eSolve-primary)}.red-color[_ngcontent-%COMP%]{color:var(--eSolve-red)}@media (max-width: 462px){.info-content-container[_ngcontent-%COMP%]{padding-right:0;-ms-flex:0 0 85%;flex:0 0 85%;max-width:85%}}@media (max-height: 600px){.g-thin-black-scroll-bar.long-list[_ngcontent-%COMP%]{max-height:-moz-fit-content!important;max-height:fit-content!important}}"]}),n})();class jd{constructor(o,t,i,r,a,s,l){this.userId=o,this.isSchedule=t,this.scheduleId=i,this.subGroupId=r,this.startDateTime=a,this.endDateTime=s,this.currentView=l}}var ep=J(78959),oo=J(44409),Ql=J(95225),tp=J(77531);let Vf=(()=>{class n{transform(t,i){return t?i?t.filter(r=>r.name.toLowerCase().includes(i.toLowerCase())):t:[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"rankingsTableFilter",type:n,pure:!0}),n})();function ig(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div",46)(2,"mat-slide-toggle",47),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.updateValues(a.id))}),e.qZA()(),e.TgZ(3,"div",48)(4,"span",49),e._uU(5," Name: "),e.qZA(),e.TgZ(6,"span",50),e._uU(7),e.qZA()(),e.TgZ(8,"div",48)(9,"span",49),e._uU(10," Type: "),e.qZA(),e.TgZ(11,"span",50),e._uU(12),e.qZA()(),e.TgZ(13,"div",51)(14,"button",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return s.toggleViews(a.id),e.KtG(s.selectRanking())}),e._uU(15," View Details "),e.qZA()(),e.TgZ(16,"div",53),e._UZ(17,"i",54),e.qZA()()}if(2&n){const t=o.$implicit;e.Q6J("cdkDragData",t),e.xp6(2),e.Q6J("checked",t.active),e.xp6(5),e.hij(" ",t.name," "),e.xp6(5),e.hij(" ",t.rankingTypeName," ")}}function rg(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div",55)(2,"div",56)(3,"div",2)(4,"mat-slide-toggle",47),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.updateValues(a.id))}),e.qZA()()(),e.TgZ(5,"div",57)(6,"div",2)(7,"span",50),e._uU(8),e.qZA()()(),e.TgZ(9,"div",57)(10,"div",2)(11,"span",50),e._uU(12),e.qZA()()(),e.TgZ(13,"div",57)(14,"div",58)(15,"button",59),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return s.toggleViews(a.id),e.KtG(s.selectRanking())}),e._uU(16," View Details "),e.qZA()()()(),e.TgZ(17,"div",60),e._UZ(18,"i",54),e.qZA()()}if(2&n){const t=o.$implicit;e.Q6J("cdkDragData",t),e.xp6(4),e.Q6J("checked",t.active),e.xp6(4),e.hij(" Name: ",t.name," "),e.xp6(4),e.hij(" Type: ",t.rankingTypeName," ")}}function Na(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Ranking Type ",t.message.required," ")}}function il(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,Na,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.rf.rankingTypeID.errors?null:t.rf.rankingTypeID.errors.required)}}function Gf(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Ranking Name ",t.message.required," ")}}function Wf(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Ranking Name ",t.message.inUse," ")}}function Wc(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,Gf,2,1,"div",69),e.YNc(2,Wf,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.rf.name.errors?null:t.rf.name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.rf.name.errors?null:t.rf.name.errors.rankingNameExists)}}function np(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Date Range ",t.message.required," ")}}function Qf(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,np,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.rf.dateRange.errors?null:t.rf.dateRange.errors.required)}}function zf(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function Kf(n,o){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,zf,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.offset.errors?null:t.rf.offset.errors.required)}}function Ub(n,o){1&n&&(e.TgZ(0,"div",70),e._uU(1," Offset must be less than Amount. "),e.qZA())}function jb(n,o){if(1&n&&(e.TgZ(0,"div",78),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}const og=function(n){return{"is-invalid":n}};function Yb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Offset*: "),e.qZA()(),e.TgZ(5,"div",2)(6,"input",76),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.isOffsetLessThanAmount())}),e.qZA(),e.YNc(7,Kf,2,1,"div",77),e.YNc(8,Ub,2,0,"div",65),e.YNc(9,jb,2,1,"div",77),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(6),e.Q6J("ngClass",e.VKq(4,og,(null==t.rf.offset?null:t.rf.offset.touched)&&(null==t.rf.offset?null:t.rf.offset.errors)||!t.isOffsetLessAmount||!t.isOffsetNegative)),e.xp6(1),e.Q6J("ngIf",(null==t.rf.offset?null:t.rf.offset.touched)&&(null==t.rf.offset?null:t.rf.offset.errors)),e.xp6(1),e.Q6J("ngIf",!(t.isOffsetLessAmount||null!=t.rf.offset&&t.rf.offset.errors)),e.xp6(1),e.Q6J("ngIf",!(t.isOffsetNegative||null!=t.rf.offset&&t.rf.offset.errors))}}function qb(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function Jb(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,qb,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.amount.errors?null:t.rf.amount.errors.required)}}function Hb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Amount*: "),e.qZA()(),e.TgZ(5,"div",2)(6,"input",79),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.isOffsetLessThanAmount())}),e.qZA(),e.YNc(7,Jb,2,1,"div",65),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(7),e.Q6J("ngIf",(null==t.rf.amount?null:t.rf.amount.touched)&&(null==t.rf.amount?null:t.rf.amount.errors))}}function Bb(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Base Date ",t.message.required," ")}}function Vb(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function Wa(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Base Date ",t.message.futureDate," ")}}function Gb(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,Bb,2,1,"div",69),e.YNc(2,Vb,2,1,"div",69),e.YNc(3,Wa,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",(null==t.rf.baseDate.errors?null:t.rf.baseDate.errors.required)&&!(null!=t.rf.baseDate.errors&&t.rf.baseDate.errors.matDatepickerParse)&&!(null!=t.rf.baseDate.errors&&t.rf.baseDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.rf.baseDate.errors?null:t.rf.baseDate.errors.matDatepickerParse)||(null==t.rf.baseDate.errors?null:t.rf.baseDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",t.isFutureDate)}}function Wb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Base Date*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2)(7,"input",80),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.dateValidation(r))}),e.qZA(),e.TgZ(8,"img",81),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(10);return e.KtG(r.open())}),e.qZA(),e._UZ(9,"mat-datepicker",null,82),e.YNc(11,Gb,4,3,"div",65),e.qZA()()()}if(2&n){const t=e.MAs(10),i=e.oxw(3);e.xp6(7),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("max",i.currentDate)("dateLengthTracker",i.dateLength)("matDatepicker",t),e.xp6(4),e.Q6J("ngIf",(null==i.rf.baseDate?null:i.rf.baseDate.touched)&&(null==i.rf.baseDate?null:i.rf.baseDate.errors))}}function Qc(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function Fn(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.minInput," 1. ")}}function Qb(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,Qc,2,1,"div",69),e.YNc(2,Fn,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.baseDateRange.errors?null:t.rf.baseDateRange.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.rf.baseDateRange.errors?null:t.rf.baseDateRange.errors.min)}}function Ho(n,o){if(1&n&&(e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label",73),e._uU(4," Base Date Range*: "),e.qZA()(),e.TgZ(5,"div",2),e._UZ(6,"input",83),e.YNc(7,Qb,3,2,"div",65),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(7),e.Q6J("ngIf",(null==t.rf.baseDateRange?null:t.rf.baseDateRange.touched)&&(null==t.rf.baseDateRange?null:t.rf.baseDateRange.errors))}}function Dr(n,o){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",67),e.TgZ(2,"div",71)(3,"div",72)(4,"div",9)(5,"div",2)(6,"label",73),e._uU(7," Date Range*: "),e.qZA()()(),e.TgZ(8,"div",9)(9,"div",2)(10,"ng-select",74),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onDateRangeChange())}),e.qZA(),e.YNc(11,Qf,2,1,"div",65),e.qZA()()(),e.YNc(12,Yb,10,6,"div",75),e.YNc(13,Hb,8,1,"div",75),e.YNc(14,Wb,12,5,"div",75),e.YNc(15,Ho,8,1,"div",75),e.qZA(),e._UZ(16,"hr",66),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(10),e.Q6J("required",!0)("items",t.dateRangeOptions)("searchable",!1)("clearable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==t.rf.dateRange?null:t.rf.dateRange.touched)&&(null==t.rf.dateRange?null:t.rf.dateRange.errors)),e.xp6(1),e.Q6J("ngIf","Custom"==t.rf.dateRange.value),e.xp6(1),e.Q6J("ngIf","Custom"==t.rf.dateRange.value),e.xp6(1),e.Q6J("ngIf","Base date"==t.rf.dateRange.value),e.xp6(1),e.Q6J("ngIf","Base date"==t.rf.dateRange.value)}}function zb(n,o){1&n&&(e.ynx(0),e._UZ(1,"hr",84)(2,"hr",66),e.BQk())}function zl(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Date Range ",t.message.required," ")}}function Kb(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,zl,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.rf.dateRange.errors?null:t.rf.dateRange.errors.required)}}function $b(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function Xb(n,o){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,$b,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.offset.errors?null:t.rf.offset.errors.required)}}function e0(n,o){1&n&&(e.TgZ(0,"div",70),e._uU(1," Offset must be less than Amount. "),e.qZA())}function t0(n,o){if(1&n&&(e.TgZ(0,"div",78),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function ag(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Offset*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2)(7,"input",76),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.isOffsetLessThanAmount())}),e.qZA(),e.YNc(8,Xb,2,1,"div",77),e.YNc(9,e0,2,0,"div",65),e.YNc(10,t0,2,1,"div",77),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(7),e.Q6J("ngClass",e.VKq(4,og,(null==t.rf.offset?null:t.rf.offset.touched)&&(null==t.rf.offset?null:t.rf.offset.errors)||!t.isOffsetLessAmount||!t.isOffsetNegative)),e.xp6(1),e.Q6J("ngIf",(null==t.rf.offset?null:t.rf.offset.touched)&&(null==t.rf.offset?null:t.rf.offset.errors)),e.xp6(1),e.Q6J("ngIf",!(t.isOffsetLessAmount||null!=t.rf.offset&&t.rf.offset.errors)),e.xp6(1),e.Q6J("ngIf",!(t.isOffsetNegative||null!=t.rf.offset&&t.rf.offset.errors))}}function n0(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function rl(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,n0,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.amount.errors?null:t.rf.amount.errors.required)}}function uv(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Amount*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2)(7,"input",79),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.isOffsetLessThanAmount())}),e.qZA(),e.YNc(8,rl,2,1,"div",65),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(8),e.Q6J("ngIf",(null==t.rf.amount?null:t.rf.amount.touched)&&(null==t.rf.amount?null:t.rf.amount.errors))}}function $f(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Base Date ",t.message.required," ")}}function lr(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function mr(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Base Date ",t.message.futureDate," ")}}function pv(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,$f,2,1,"div",69),e.YNc(2,lr,2,1,"div",69),e.YNc(3,mr,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",(null==t.rf.baseDate.errors?null:t.rf.baseDate.errors.required)&&!(null!=t.rf.baseDate.errors&&t.rf.baseDate.errors.matDatepickerParse)&&!(null!=t.rf.baseDate.errors&&t.rf.baseDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.rf.baseDate.errors?null:t.rf.baseDate.errors.matDatepickerParse)||(null==t.rf.baseDate.errors?null:t.rf.baseDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",t.isFutureDate)}}function r0(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Base Date*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2)(7,"input",87),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.dateValidation(r))}),e.qZA(),e.TgZ(8,"img",81),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(10);return e.KtG(r.open())}),e.qZA(),e._UZ(9,"mat-datepicker",null,82),e.YNc(11,pv,4,3,"div",65),e.qZA()()()}if(2&n){const t=e.MAs(10),i=e.oxw(3);e.xp6(7),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("matDatepicker",t)("dateLengthTracker",i.dateLength)("max",i.currentDate),e.xp6(4),e.Q6J("ngIf",(null==i.rf.baseDate?null:i.rf.baseDate.touched)&&(null==i.rf.baseDate?null:i.rf.baseDate.errors))}}function o0(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function a0(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.minInput," 1. ")}}function s0(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,o0,2,1,"div",69),e.YNc(2,a0,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.baseDateRange.errors?null:t.rf.baseDateRange.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.rf.baseDateRange.errors?null:t.rf.baseDateRange.errors.min)}}function l0(n,o){if(1&n&&(e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Base Date Range*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2),e._UZ(7,"input",88),e.YNc(8,s0,3,2,"div",65),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(8),e.Q6J("ngIf",(null==t.rf.baseDateRange?null:t.rf.baseDateRange.touched)&&(null==t.rf.baseDateRange?null:t.rf.baseDateRange.errors))}}function c0(n,o){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",84),e.TgZ(2,"div",71)(3,"div",72)(4,"div",9)(5,"div",2)(6,"label",85),e._uU(7," Date Range*: "),e.qZA()()(),e.TgZ(8,"div",9)(9,"div",2)(10,"ng-select",86),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onDateRangeChange())}),e.qZA(),e.YNc(11,Kb,2,1,"div",65),e.qZA()()(),e.YNc(12,ag,11,6,"div",75),e.YNc(13,uv,9,1,"div",75),e.YNc(14,r0,12,5,"div",75),e.YNc(15,l0,9,1,"div",75),e.qZA(),e._UZ(16,"hr",66),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(10),e.Q6J("required",!0)("items",t.dateRangeOptions)("searchable",!1)("clearable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==t.rf.dateRange?null:t.rf.dateRange.touched)&&(null==t.rf.dateRange?null:t.rf.dateRange.errors)),e.xp6(1),e.Q6J("ngIf","Custom"==t.rf.dateRange.value),e.xp6(1),e.Q6J("ngIf","Custom"==t.rf.dateRange.value),e.xp6(1),e.Q6J("ngIf","Base date"==t.rf.dateRange.value),e.xp6(1),e.Q6J("ngIf","Base date"==t.rf.dateRange.value)}}function fv(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Date Range ",t.message.required," ")}}function ip(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,fv,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.rf.dateRange.errors?null:t.rf.dateRange.errors.required)}}function sg(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function d0(n,o){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,sg,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.offset.errors?null:t.rf.offset.errors.required)}}function hv(n,o){1&n&&(e.TgZ(0,"div",70),e._uU(1," Offset must be less than Amount. "),e.qZA())}function Xf(n,o){if(1&n&&(e.TgZ(0,"div",78),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function pa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Offset*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2)(7,"input",76),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.isOffsetLessThanAmount())}),e.qZA(),e.YNc(8,d0,2,1,"div",77),e.YNc(9,hv,2,0,"div",65),e.YNc(10,Xf,2,1,"div",77),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(7),e.Q6J("ngClass",e.VKq(4,og,(null==t.rf.offset?null:t.rf.offset.touched)&&(null==t.rf.offset?null:t.rf.offset.errors)||!t.isOffsetLessAmount||!t.isOffsetNegative)),e.xp6(1),e.Q6J("ngIf",(null==t.rf.offset?null:t.rf.offset.touched)&&(null==t.rf.offset?null:t.rf.offset.errors)),e.xp6(1),e.Q6J("ngIf",!(t.isOffsetLessAmount||null!=t.rf.offset&&t.rf.offset.errors)),e.xp6(1),e.Q6J("ngIf",!(t.isOffsetNegative||null!=t.rf.offset&&t.rf.offset.errors))}}function Yd(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function u0(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,Yd,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.amount.errors?null:t.rf.amount.errors.required)}}function p0(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Amount*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2)(7,"input",79),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.isOffsetLessThanAmount())}),e.qZA(),e.YNc(8,u0,2,1,"div",65),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(8),e.Q6J("ngIf",(null==t.rf.amount?null:t.rf.amount.touched)&&(null==t.rf.amount?null:t.rf.amount.errors))}}function f0(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Base Date ",t.message.required," ")}}function h0(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function m0(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Base Date ",t.message.futureDate," ")}}function mv(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,f0,2,1,"div",69),e.YNc(2,h0,2,1,"div",69),e.YNc(3,m0,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",(null==t.rf.baseDate.errors?null:t.rf.baseDate.errors.required)&&!(null!=t.rf.baseDate.errors&&t.rf.baseDate.errors.matDatepickerParse)&&!(null!=t.rf.baseDate.errors&&t.rf.baseDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.rf.baseDate.errors?null:t.rf.baseDate.errors.matDatepickerParse)||(null==t.rf.baseDate.errors?null:t.rf.baseDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",t.isFutureDate)}}function ol(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Base Date*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2)(7,"input",87),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.dateValidation(r))}),e.qZA(),e.TgZ(8,"img",81),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(10);return e.KtG(r.open())}),e.qZA(),e._UZ(9,"mat-datepicker",null,82),e.YNc(11,mv,4,3,"div",65),e.qZA()()()}if(2&n){const t=e.MAs(10),i=e.oxw(3);e.xp6(7),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("matDatepicker",t)("dateLengthTracker",i.dateLength)("max",i.currentDate),e.xp6(4),e.Q6J("ngIf",(null==i.rf.baseDate?null:i.rf.baseDate.touched)&&(null==i.rf.baseDate?null:i.rf.baseDate.errors))}}function qn(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function gv(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.minInput," 1. ")}}function Ra(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,qn,2,1,"div",69),e.YNc(2,gv,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.baseDateRange.errors?null:t.rf.baseDateRange.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.rf.baseDateRange.errors?null:t.rf.baseDateRange.errors.min)}}function _v(n,o){if(1&n&&(e.TgZ(0,"div",72)(1,"div",9)(2,"div",2)(3,"label"),e._uU(4," Base Date Range*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2),e._UZ(7,"input",88),e.YNc(8,Ra,3,2,"div",65),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(8),e.Q6J("ngIf",(null==t.rf.baseDateRange?null:t.rf.baseDateRange.touched)&&(null==t.rf.baseDateRange?null:t.rf.baseDateRange.errors))}}function g0(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day of Week ",t.message.required," ")}}function Mi(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,g0,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.rf.dayOfWeek.errors?null:t.rf.dayOfWeek.errors.required)}}function _0(n,o){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",84),e.TgZ(2,"div",71)(3,"div",72)(4,"div",9)(5,"div",2)(6,"label",89),e._uU(7," Date Range*: "),e.qZA()()(),e.TgZ(8,"div",9)(9,"div",2)(10,"ng-select",90),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onDateRangeChange())}),e.qZA(),e.YNc(11,ip,2,1,"div",65),e.qZA()()(),e.YNc(12,pa,11,6,"div",75),e.YNc(13,p0,9,1,"div",75),e.YNc(14,ol,12,5,"div",75),e.YNc(15,_v,9,1,"div",75),e.qZA(),e._UZ(16,"hr",66),e.TgZ(17,"div",71)(18,"div",72)(19,"div",9)(20,"div",2)(21,"label"),e._uU(22," Day of Week*: "),e.qZA()()(),e.TgZ(23,"div",9)(24,"div",2),e._UZ(25,"ng-select",91),e.YNc(26,Mi,2,1,"div",65),e.qZA()()(),e.TgZ(27,"div",72)(28,"div",9)(29,"div",2)(30,"label"),e._uU(31," Count Overnights: "),e.qZA()()(),e.TgZ(32,"div",9)(33,"div",2),e._UZ(34,"mat-checkbox",92),e.qZA()()()(),e._UZ(35,"hr",66),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(10),e.Q6J("required",!0)("items",t.dateRangeOptions)("searchable",!1)("clearable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==t.rf.dateRange?null:t.rf.dateRange.touched)&&(null==t.rf.dateRange?null:t.rf.dateRange.errors)),e.xp6(1),e.Q6J("ngIf","Custom"==t.rf.dateRange.value),e.xp6(1),e.Q6J("ngIf","Custom"==t.rf.dateRange.value),e.xp6(1),e.Q6J("ngIf","Base date"==t.rf.dateRange.value),e.xp6(1),e.Q6J("ngIf","Base date"==t.rf.dateRange.value),e.xp6(10),e.Q6J("required",!0)("items",t.dayOfWeekOptions)("searchable",!1)("clearable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==t.rf.dayOfWeek?null:t.rf.dayOfWeek.touched)&&(null==t.rf.dayOfWeek?null:t.rf.dayOfWeek.errors)),e.xp6(8),e.Q6J("checked",t.countOvernights)}}function vv(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Comparison mode ",t.message.required," ")}}function eh(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,vv,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.rf.comparisonMode.errors?null:t.rf.comparisonMode.errors.required)}}function v0(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Operator ",t.message.required," ")}}function b0(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,v0,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.operator.errors?null:t.rf.operator.errors.required)}}function y0(n,o){1&n&&(e.TgZ(0,"div",70),e._uU(1," Selected operator is not supported for this field. "),e.qZA())}function x0(n,o){1&n&&(e.TgZ(0,"div",70),e._uU(1," Selected operator is not supported for this comparison mode. "),e.qZA())}function C0(n,o){if(1&n&&(e.TgZ(0,"div",103)(1,"div",9)(2,"div",2)(3,"label",104),e._uU(4," Operator*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2),e._UZ(7,"ng-select",105),e.YNc(8,b0,2,1,"div",65),e.YNc(9,y0,2,0,"div",65),e.YNc(10,x0,2,0,"div",65),e.qZA()()()),2&n){const t=e.oxw(3);e.Q6J("ngClass","Set Value"==t.rf.comparisonMode.value&&"Location"==t.rf.employeeField.value?"col-md-2 col-12":"col-md-3 col-12"),e.xp6(7),e.Q6J("required",!0)("items",t.operator)("searchable",!1)("clearable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==t.rf.operator?null:t.rf.operator.touched)&&(null==t.rf.operator?null:t.rf.operator.errors)),e.xp6(1),e.Q6J("ngIf",!t.isSelectedOperatorSupported()&&"Set Value"==t.rf.comparisonMode.value),e.xp6(1),e.Q6J("ngIf",!t.isSelectedOperatorSupported()&&"Custom Data"==t.rf.comparisonMode.value)}}function T0(n,o){if(1&n&&(e.TgZ(0,"ng-option",106),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=o.index,r=e.oxw(3);e.Q6J("value",r.employeeField[i].name),e.xp6(1),e.Oqu(t.name)}}function w0(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Employee field ",t.message.required," ")}}function D0(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,w0,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.rf.employeeField.errors?null:t.rf.employeeField.errors.required)}}function S0(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",118),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),a=r.index,s=r.$implicit,l=e.oxw(5);return e.KtG(l.deleteValue(a,s.controls.id.value,s.controls.name.value))}),e.qZA()}}function k0(n,o){if(1&n&&(e.TgZ(0,"div",119),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function A0(n,o){1&n&&(e.TgZ(0,"div",120)(1,"strong"),e._uU(2,"OR"),e.qZA()())}const M0=function(n){return{"first-input-element":n}};function O0(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",112)(2,"input",113),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.uniqueLocationValues())}),e.qZA(),e.YNc(3,S0,1,0,"i",114),e.qZA(),e.TgZ(4,"div",9)(5,"div",115),e.YNc(6,k0,2,1,"div",116),e.qZA(),e.YNc(7,A0,3,0,"div",117),e.qZA()()}if(2&n){const t=o.index,i=o.first,r=o.last,a=e.oxw(5);e.xp6(1),e.Q6J("formGroupName",t)("ngClass",e.VKq(5,M0,i)),e.xp6(2),e.Q6J("ngIf","Location"==a.rf.employeeField.value&&0!=t),e.xp6(3),e.Q6J("ngIf",(null==a.rankingForm.get("comparisonValues").controls[t].controls.name?null:a.rankingForm.get("comparisonValues").controls[t].controls.name.touched)&&(null==a.rankingForm.get("comparisonValues").controls[t].controls.name||null==a.rankingForm.get("comparisonValues").controls[t].controls.name.errors?null:a.rankingForm.get("comparisonValues").controls[t].controls.name.errors.required)),e.xp6(1),e.Q6J("ngIf",!r)}}function lg(n,o){if(1&n&&(e.TgZ(0,"div",121),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Values ",t.message.unique," ")}}function P0(n,o){if(1&n&&(e.TgZ(0,"div",109),e.YNc(1,O0,8,7,"div",110),e.YNc(2,lg,2,1,"div",111),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.rankingForm.get("comparisonValues").controls),e.xp6(1),e.Q6J("ngIf",!t.isValuesUnique)}}function cg(n,o){if(1&n&&(e.TgZ(0,"div",93)(1,"div",9)(2,"div",2)(3,"label",107),e._uU(4," Comparison Value*: "),e.qZA()()(),e.YNc(5,P0,3,2,"div",108),e.qZA()),2&n){e.oxw();const t=e.MAs(25),i=e.oxw(2);e.xp6(5),e.Q6J("ngIf","Location"==i.rf.employeeField.value)("ngIfElse",t)}}function E0(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function I0(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,E0,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.comparisonValue.errors?null:t.rf.comparisonValue.errors.required)}}function N0(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"div",2),e._UZ(2,"input",122),e.YNc(3,I0,2,1,"div",65),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",(null==t.rf.comparisonValue?null:t.rf.comparisonValue.touched)&&(null==t.rf.comparisonValue?null:t.rf.comparisonValue.errors))}}function $r(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Custom Data ",t.message.required," ")}}function Bo(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,$r,2,1,"div",69),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.rf.customDataID.errors?null:t.rf.customDataID.errors.required)}}function R0(n,o){if(1&n&&(e.TgZ(0,"div",93)(1,"div",9)(2,"div",2)(3,"label",123),e._uU(4," Custom Data Field*: "),e.qZA()()(),e.TgZ(5,"div",9)(6,"div",2),e._UZ(7,"ng-select",124),e.YNc(8,Bo,2,1,"div",65),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(7),e.Q6J("required",!0)("items",t.customDataID)("searchable",!1)("clearable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==t.rf.customDataID?null:t.rf.customDataID.touched)&&(null==t.rf.customDataID?null:t.rf.customDataID.errors))}}function F0(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",125)(1,"div",9)(2,"div",2)(3,"button",126),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.addNewInput())}),e._uU(4," Add "),e.qZA()()()()}}function Z0(n,o){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",84),e.TgZ(2,"div",71)(3,"div",93)(4,"div",9)(5,"div",2)(6,"label",94),e._uU(7," Comparison mode: "),e.qZA()()(),e.TgZ(8,"div",9)(9,"div",2)(10,"ng-select",95),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2);return a.selectComparisonMode(r),e.KtG(a.onComparisonModeChange())}),e.qZA(),e.YNc(11,eh,2,1,"div",65),e.qZA()()(),e.YNc(12,C0,11,9,"div",96),e.TgZ(13,"div",93)(14,"div",9)(15,"div",2)(16,"label",97),e._uU(17," Employee Field*: "),e.qZA()()(),e.TgZ(18,"div",9)(19,"div",2)(20,"ng-select",98),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onEmployeeFieldChange())}),e.YNc(21,T0,2,2,"ng-option",99),e.qZA(),e.YNc(22,D0,2,1,"div",65),e.qZA()()(),e.YNc(23,cg,6,2,"div",100),e.YNc(24,N0,4,1,"ng-template",null,101,e.W1O),e.YNc(26,R0,9,6,"div",100),e.YNc(27,F0,5,0,"div",102),e.qZA(),e._UZ(28,"hr",66),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(10),e.Q6J("items",t.comparisonMode)("searchable",!1)("clearable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==t.rf.comparisonMode?null:t.rf.comparisonMode.touched)&&(null==t.rf.comparisonMode?null:t.rf.comparisonMode.errors)),e.xp6(1),e.Q6J("ngIf","Custom Data"==t.rf.comparisonMode.value||"Set Value"==t.rf.comparisonMode.value),e.xp6(8),e.Q6J("required",!0)("searchable",!1)("clearable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngForOf",t.employeeField),e.xp6(1),e.Q6J("ngIf",(null==t.rf.employeeField?null:t.rf.employeeField.touched)&&(null==t.rf.employeeField?null:t.rf.employeeField.errors)),e.xp6(1),e.Q6J("ngIf","Set Value"==t.rf.comparisonMode.value),e.xp6(3),e.Q6J("ngIf","Custom Data"==t.rf.comparisonMode.value),e.xp6(1),e.Q6J("ngIf","Location"==t.rf.employeeField.value&&"Set Value"==t.rf.comparisonMode.value)}}function bv(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",61,62),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitChanges())}),e.TgZ(2,"div",9)(3,"div",63)(4,"div",9)(5,"div",2)(6,"div",9)(7,"div",2)(8,"label"),e._uU(9," Ranking Type*: "),e.qZA()(),e.TgZ(10,"div",2)(11,"ng-select",64),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.selectTypeAndPopulateForm(r))}),e.qZA(),e.YNc(12,il,2,1,"div",65),e.qZA(),e._UZ(13,"hr",66),e.qZA(),e.TgZ(14,"div",9)(15,"div",2),e._UZ(16,"hr",67),e.qZA(),e.TgZ(17,"div",2)(18,"label"),e._uU(19," Ranking Name*: "),e.qZA()(),e.TgZ(20,"div",2)(21,"input",68),e.NdJ("keyup",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.checkIfNameIsUnique(r))})("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.trimValue(r))}),e.qZA(),e.YNc(22,Wc,3,2,"div",65),e.qZA()(),e.YNc(23,Dr,17,10,"ng-container",69),e.YNc(24,zb,3,0,"ng-container",69),e.YNc(25,c0,17,10,"ng-container",69),e.YNc(26,_0,36,17,"ng-container",69),e.YNc(27,Z0,29,15,"ng-container",69),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.rankingForm),e.xp6(11),e.Q6J("items",t.rankingTypes)("required",!0)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf",(null==t.rf.rankingTypeID?null:t.rf.rankingTypeID.touched)&&(null==t.rf.rankingTypeID?null:t.rf.rankingTypeID.errors)),e.xp6(10),e.Q6J("ngIf",(null==t.rf.name?null:t.rf.name.touched)&&(null==t.rf.name?null:t.rf.name.errors)),e.xp6(1),e.Q6J("ngIf","Scheduled Hours"==t.rankingTypesObject[t.selectedRankingType]),e.xp6(1),e.Q6J("ngIf","Default job"==t.rankingTypesObject[t.selectedRankingType]),e.xp6(1),e.Q6J("ngIf","Job Type Frequency"==t.rankingTypesObject[t.selectedRankingType]),e.xp6(1),e.Q6J("ngIf","Day of week frequency"==t.rankingTypesObject[t.selectedRankingType]),e.xp6(1),e.Q6J("ngIf","Employee field value"==t.rankingTypesObject[t.selectedRankingType])}}const th=function(n){return{toggleScreens:n}};let L0=(()=>{class n{constructor(t,i,r,a,s,l,c){this._rankingsDialogRef=t,this.dialogData=i,this._rankingsService=r,this._dialogService=a,this._messageService=s,this._fbr=l,this._datePipe=c,this.rankingNameTracker="",this.rankingCtrl=new _.NI,this.rankingTypes=new Array,this.jobTypes=new Array,this.changedRankings=new Array,this.tableShown=!0,this.selectedRanking=new Ql.J,this.rankingIsSelected=!1,this.existingRankingSelected=!1,this.rankingTypesObject={},this.isFutureDate=!1,this.currentDate=new Date,this.isValuesUnique=!0,this.validComparisonOperatorSelected=!0,this.dateLength=ai.YG.length,this.isOffsetLessAmount=!0,this.isOffsetNegative=!0,this.employeeField=new Array,this.customDataID=new Array,this.comparisonMode=[{value:""},{value:"Set Value"},{value:"Custom Data"}],this.operator=[{value:"<>"},{value:"="},{value:">"},{value:"<"}],this.dateRangeOptions=[{id:1,name:"Week"},{id:2,name:"Month"},{id:3,name:"Pay period"},{id:5,name:"Base date"}],this.dayOfWeekOptions=[{id:1,name:"Monday"},{id:2,name:"Tuesday"},{id:3,name:"Wednesday"},{id:4,name:"Thursday"},{id:5,name:"Friday"},{id:6,name:"Saturday"},{id:7,name:"Sunday"}]}ngOnInit(){this.message=St.yw,this.getRankingTypes(),this.buildRankingForm()}ngAfterViewInit(){this.populateTableData()}populateTableData(){this._rankingsService.getAllRankingsBySchedule(this.dialogData.scheduleId).subscribe(t=>{this.rankingRules=t},t=>{if(404!==t.status)return(0,qo._)(t);this._messageService.open("Ranking not found.")})}buildRankingForm(){this.rankingForm=this._fbr.group({id:0,name:["",{validators:[_.kI.required,_.kI.maxLength(50)]}],active:!0,order:0,employeeID:null,rankingTypeID:0,rankingRuleID:0,toDeleteLocationValuesLookup:this._fbr.array([]),comparisonValues:this._fbr.array([]),scheduleID:Number(this.dialogData.scheduleId)},{validators:[],asyncValidators:[]})}_getFormArray(){return this.rankingForm.controls.comparisonValues}_getDeleteFormArray(){return this.rankingForm.controls.toDeleteLocationValuesLookup}get rf(){return this.rankingForm.controls}selectRestrictedJobType(t){this.rankingForm.controls.restrictedToJobTypeID.setValue(t.target.value,{onlySelf:!0})}selectComparisonMode(t){this.rankingForm.controls.comparisonMode.setValue(t.value,{onlySelf:!0})}selectTypeAndPopulateForm(t){let i;i=null==t.id?t:t.id;for(const r in this.rankingForm.controls)("dateRange"===r||"comparisonMode"===r||"countOvernights"===r||"restrictedToJobTypeID"===r||"reverseOrder"===r||"dayOfWeek"==r||"employeeField"==r)&&this.rankingForm.removeControl(r);for(let r=0;r<this.rankingTypes.length;r++)this.rankingTypes[r].id==i&&Object.keys(this.rankingTypes[r]).forEach(s=>{!0===this.rankingTypes[r][s]&&("comparisonValue"===s||"operator"===s||"employeeField"===s||"customDataID"===s?this.rankingForm.addControl(s,new _.NI):"offset"===s||"amount"===s||"baseDateRange"===s?("baseDateRange"===s&&this.rankingForm.addControl(s,new _.NI(0,_.kI.min(1))),this.rankingForm.addControl(s,new _.NI(0))):this.rankingForm.addControl(s,new _.NI(null)))});this.selectedRankingType=i,this.selectedRanking.id||(this.rankingForm.controls.id.setValue(0),this.rankingForm.controls.scheduleID.setValue(Number(this.dialogData.scheduleId))),this.rankingForm.setErrors(null);for(const r in this.rankingForm.controls)"name"!=r&&this.rankingForm.controls[r].setErrors(null)}onComparisonModeChange(){this.removeComparisonValue(),this.removeComparisonValues(),this.rankingForm.controls.operator.setValue(null),this.rankingForm.controls.operator.markAsUntouched(),this.rankingForm.controls.employeeField.setValue(null),this.rankingForm.controls.employeeField.markAsUntouched(),this.rankingForm.controls.customDataID.setValue(null),this.rankingForm.controls.customDataID.markAsUntouched(),this.rankingForm.controls.customDataID.setErrors(null),""==this.rankingForm.controls.comparisonMode.value&&this.rankingForm.controls.operator.setErrors(null)}onDateRangeChange(){this.isOffsetNegative=!0,this.isOffsetLessAmount=!0,this.rankingForm.controls.baseDateRange.setValue(null),this.rankingForm.controls.baseDateRange.markAsUntouched(),this.rankingForm.controls.baseDateRange.setErrors(null),this.rankingForm.controls.baseDate.setValue(null),this.rankingForm.controls.baseDate.markAsUntouched(),this.rankingForm.controls.baseDate.setErrors(null),this.rankingForm.controls.amount.setValue(null),this.rankingForm.controls.amount.markAsUntouched(),this.rankingForm.controls.amount.setErrors(null),this.rankingForm.controls.offset.setValue(null),this.rankingForm.controls.offset.markAsUntouched(),this.rankingForm.controls.offset.setErrors(null)}getRankingTypes(){this._rankingsService.getAllRankingTypes().subscribe(t=>{this.rankingTypes=t,this.rankingTypes.forEach(i=>{this.rankingTypesObject[i.id]=i.name}),this.getJobTypes(this.rankingTypes[0].id),this.getCustomData(),this.getEmployeeFields()},t=>{if(400!==t.status)return(0,qo._)(t);this._messageService.open("Ranking type not found.")})}getJobTypes(t){this.jobTypes=new Array,this._rankingsService.getRankingTypesById(t).subscribe(i=>{i.jobType.forEach(r=>{"Job Type Removed"!==r.name&&this.jobTypes.push(r)})},i=>{if(400!==i.status)return(0,qo._)(i);this._messageService.open("Job Type not found.")})}getEmployeeFields(){this._rankingsService.getEmployeeFields().subscribe(t=>{t.forEach(i=>{this.employeeField.push(i)})},t=>{if(400!==t.status)return(0,qo._)(t);this._messageService.open("Employee field not found.")})}getCustomData(){this._rankingsService.getAllCustomData().subscribe(t=>{t.forEach(i=>{this.customDataID.push(i)})},t=>{if(400!==t.status)return(0,qo._)(t);this._messageService.open("Custom data not found.")})}saveTableChanges(){for(let t=0;t<this.rankingRules.length;t++)this.rankingRules[t].order=t+1;this._rankingsService.saveRankingTypesForSchedule(this.rankingRules,this.selectedRankingID).subscribe(t=>{this._messageService.open("Changes saved."),this.populateTableData()},t=>{if(400!==t.status)return(0,qo._)(t);this._messageService.open(this.message.saveError+"ranking.")})}trimValue(t){let i=t.target.value.trim();this.rankingForm.controls.name.setValue(i),this.rankingNameTracker=i,this.rankingForm.controls.name.value||this.rankingForm.controls.name.markAsTouched(),this.checkIfNameIsUnique(i)}submitChanges(){this.rankingForm.controls.scheduleID.setValue(Number(this.dialogData.scheduleId)),this.rankingForm.controls.active.setValue(!0),this.rankingForm.controls.order.setValue(this.selectedRanking.id>0?this.selectedRanking.order:0),this.rankingForm.controls.id.setValue(this.selectedRanking.id>0?this.selectedRanking.id:0),this.rankingForm.controls.rankingRuleID.setValue(this.selectedRanking.id>0?this.selectedRanking.rankingRuleID:null),this.rankingForm.controls.reverseOrder&&(this.rankingForm.controls.reverseOrder.value||this.rankingForm.controls.reverseOrder.setValue(!1)),this.rankingForm.controls.countOvernights&&(this.rankingForm.controls.countOvernights.value||this.rankingForm.controls.countOvernights.setValue(!1)),this.rankingForm.controls.baseDate&&this.rankingForm.controls.baseDate.value&&this.rankingForm.controls.baseDate.setValue(new Date(this._datePipe.transform(this.rankingForm.controls.baseDate.value,"yyyy-MM-dd"))),this.selectedRanking.id>0&&(this.rankingForm.valid&&this.isOffsetLessAmount&&this.isValuesUnique&&this.validComparisonOperatorSelected?this._rankingsService.editRanking(this.rankingForm.value,this.selectedRanking.id).subscribe(t=>{this._messageService.open("Changes saved."),this.clearNameTracker(),this.selectedRanking=new Ql.J,this.rankingForm.reset(),this.buildRankingForm(),this.clearPreviousSelectedType(),this.populateTableData(),this.toggleViews()},t=>{if(400!==t.status)return(0,qo._)(t);this._messageService.open(t)}):(this._messageService.open(this.message.fillForm),Object.keys(this.rankingForm.controls).forEach(t=>{const i=this.rankingForm.get(t);i instanceof _.Oe?Object.keys(this.rankingForm.controls.comparisonValues.controls).forEach(r=>{Object.keys(this.rankingForm.controls.comparisonValues.controls[r].controls).forEach(a=>{this.rankingForm.controls.comparisonValues.controls[r].get(a).markAsTouched({onlySelf:!0})})}):i.markAsTouched({onlySelf:!0})}))),this.selectedRanking.id||(this.rankingForm.valid&&this.isOffsetLessAmount&&this.isValuesUnique&&this.validComparisonOperatorSelected?this._rankingsService.createRanking(this.rankingForm.value).subscribe(t=>{this._messageService.open("Ranking rule saved."),this.clearNameTracker(),this.selectedRanking=new Ql.J,this.rankingForm.reset(),this.buildRankingForm(),this.clearPreviousSelectedType(),this.populateTableData(),this.toggleViews()},t=>{if(400!==t.status)return(0,qo._)(t);this._messageService.open(t)}):(this._messageService.open(this.message.fillForm),Object.keys(this.rankingForm.controls).forEach(t=>{const i=this.rankingForm.get(t);i instanceof _.Oe?Object.keys(this.rankingForm.controls.comparisonValues.controls).forEach(r=>{Object.keys(this.rankingForm.controls.comparisonValues.controls[r].controls).forEach(a=>{this.rankingForm.controls.comparisonValues.controls[r].get(a).markAsTouched({onlySelf:!0})})}):i.markAsTouched({onlySelf:!0})})))}updateValues(t){this.selectedRankingID=t;for(let i=0;i<this.rankingRules.length;i++)this.rankingRules[i].id==t&&setTimeout(()=>{this.rankingRules[i].active=!this.rankingRules[i].active,this.saveTableChanges()},0)}toggleViews(t){t||(this.rankingForm.controls.id.setValue(0),this.rankingForm.controls.scheduleID.setValue(Number(this.dialogData.scheduleId))),this.tableShown=!this.tableShown,this.tableShown&&(this.filterValue=""),this.clearPreviousSelectedType(),t&&this._rankingsService.getRankingDtoById(t).subscribe(i=>{if(this.selectedRanking=i,null!=this.selectedRanking.comparisonValues)for(let r of this.selectedRanking.comparisonValues)this._getFormArray().push(this._fbr.group({id:new _.NI(r.id),name:new _.NI(r.name,[_.kI.required,_.kI.maxLength(300)])}));this.rankingIsSelected=!0,this.rankingNameTracker=this.selectedRanking.name,this.existingRankingSelected=!0,this.selectTypeAndPopulateForm(this.selectedRanking.rankingTypeID),this.rankingForm.patchValue(this.selectedRanking)},i=>{if(400!==i.status)return(0,qo._)(i);this._messageService.open("Selected Ranking could not be retrieved.")})}resetForm(){this.rankingForm.reset()}clearExistingRankingData(){this.selectedRanking=new Ql.J}checkIfNameIsUnique(t){this.rankingNameTracker="object"==typeof t&&null!==t?t.target.value:t,this.rankingNameTracker.trim()?this.selectedRanking.id>0?this.rankingRules.some(i=>i.name.toLowerCase()===this.rankingNameTracker.toLowerCase()&&i.id!==this.selectedRanking.id)&&(this.rankingForm.controls.name.markAsTouched(),this.rankingForm.controls.name.setErrors({rankingNameExists:!0})):this.rankingRules.some(i=>i.name.toLowerCase()===this.rankingNameTracker.toLowerCase())&&(this.rankingForm.controls.name.markAsTouched(),this.rankingForm.controls.name.setErrors({rankingNameExists:!0})):(this.trimValue(t),this.rankingNameTracker="")}onListDrop(t){this.selectedRankingID=t.item.data.id;const i=this.rankingRules.findIndex(r=>r===t.item.data);(0,oo.bA)(this.rankingRules,i,t.currentIndex),this.saveTableChanges()}deleteRanking(){this._dialogService.openConfirmDialog("Delete",(0,St.$j)(" Ranking Rule")).afterClosed().subscribe(t=>{t&&this.selectedRanking.id>0&&(!1!==this.selectedRanking.active?this._messageService.open("You cannot delete active ranking rule!"):this._rankingsService.deleteRanking(this.selectedRanking.id).subscribe(i=>{this._messageService.open("Ranking rule deleted."),this.clearNameTracker(),this.selectedRanking=new Ql.J,this.populateTableData(),this.toggleViews()},i=>{this._messageService.open(i)}))})}closeRankingsDialog(){this.rankingForm.reset(),this._rankingsDialogRef.close()}clearPreviousSelectedType(){this.selectedRankingType=null}selectRanking(){this.rankingIsSelected=!0}deselectRanking(){this.rankingIsSelected=!1}clearNameTracker(){this.rankingNameTracker=""}dateValidation(t){let i=String(t.target.value);this.isFutureDate=new Date(i)>new Date}isOffsetLessThanAmount(){let t,i;("1"==this.selectedRankingType||"3"==this.selectedRankingType||"4"==this.selectedRankingType)&&(i=this.rankingForm.controls.offset.value,t=this.rankingForm.controls.amount.value),(t||0===t)&&(i||0===i)&&(this.isOffsetLessAmount=!(i>=t)),this.isOffsetNegative=!(i>0)}addNewInput(){this._getFormArray().push(this._fbr.group({id:new _.NI(0),name:new _.NI("")},_.kI.required))}deleteValue(t,i,r){0==i?this._getFormArray().removeAt(t):(this._getDeleteFormArray().push(this._fbr.group({id:new _.NI(i),name:new _.NI(r)})),this._getFormArray().removeAt(t),r||this._getFormArray().removeAt(t)),this.uniqueLocationValues()}uniqueLocationValues(){this.trimWholeForm();let t=[];var a;this.rankingForm.controls.comparisonValues.value.forEach(i=>{t.push(i.name.toLowerCase())}),-1==t.indexOf("")&&(this.isValuesUnique=!((a=t,a.filter((s,l)=>a.indexOf(s)!=l)).length>0))}trimWholeForm(){try{let i=this.rankingForm.controls.comparisonValues.controls.length;for(var t=0;t<=i-1;t++){let r=this.rankingForm.value.comparisonValues[t].name.trim();this.rankingForm.controls.comparisonValues.controls[t].controls.name.setValue(r)}}catch(i){}}removeComparisonValues(){this.rankingForm.get("comparisonValues").controls=[],this.rankingForm.controls.comparisonValues.setValue([]),this.rankingForm.controls.comparisonValues.markAsUntouched(),this.rankingForm.controls.comparisonValues.setErrors(null),this.isValuesUnique=!0}removeComparisonValue(){this.rankingForm.controls.comparisonValue.setValue(null),this.rankingForm.controls.comparisonValue.markAsUntouched(),this.rankingForm.controls.comparisonValue.setErrors(null)}onEmployeeFieldChange(){"Set Value"==this.rankingForm.controls.comparisonMode.value&&("Location"==this.rankingForm.controls.employeeField.value?(this.addNewInput(),this.removeComparisonValue()):"Location"!==this.rankingForm.controls.employeeField.value&&this.removeComparisonValues())}isSelectedOperatorSupported(){return this.validComparisonOperatorSelected=!0,"Set Value"!=this.rankingForm.controls.comparisonMode.value||""==this.rankingForm.controls.operator.value||""==this.rankingForm.controls.employeeField.value||null==this.rankingForm.controls.employeeField.value||">"!=this.rankingForm.controls.operator.value&&"<"!=this.rankingForm.controls.operator.value?"Custom Data"==this.rankingForm.controls.comparisonMode.value&&(">"==this.rankingForm.controls.operator.value||"<"==this.rankingForm.controls.operator.value)&&(this.validComparisonOperatorSelected=!1):this.validComparisonOperatorSelected="Pay Rate"==this.rankingForm.controls.employeeField.value||"Max Hours 1"==this.rankingForm.controls.employeeField.value||"Max Hours 2"==this.rankingForm.controls.employeeField.value||"Max Hours 3"==this.rankingForm.controls.employeeField.value||"Max Hours 4"==this.rankingForm.controls.employeeField.value||"Max Hours 5"==this.rankingForm.controls.employeeField.value,this.validComparisonOperatorSelected}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.so),e.Y36(z.WI),e.Y36(ep.r),e.Y36(Ri.x),e.Y36(se.G),e.Y36(_.qu),e.Y36(D.uU))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-rankings-dialog"]],decls:75,vars:25,consts:[[1,"wrapper","d-flex","flex-column"],[1,"table-header","row","sticky-top"],[1,"col-12"],[1,"d-flex","justify-content-between"],[1,"rankings-dialog-title"],["src","assets/icons/x-icon-3pt.png",1,"eSolveCloseButton",3,"click"],[1,"table-divider"],[1,"rankings-main-content","d-flex","flex-column","flex-grow"],[1,"table-wrapper",3,"ngClass"],[1,"row"],[1,"search-input","col-12"],["id","rankings_search"],["matInput","","type","text","id","rankings_search_input","placeholder","Filter by Name",1,"form-control","form-control-sm","font-size-12","input-bg",3,"ngModel","ngModelChange"],["searchInputField",""],[1,"fa","fa-search","search-icon"],["id","rankings_table_container",1,"row"],[1,"row","table-header"],[1,"col-md-1"],[1,"col-md-4"],[1,"ranking-column-header","ranking-name-header"],[1,"ranking-column-header","ranking-style-header"],[1,"col-md-2"],[1,"table-top"],["id","table_large",1,"row"],[1,"col-12","rankings-table"],[1,"g-thin-black-scroll-bar"],["cdkDropList","","cdkDropListLockAxis","y","cdkDropListOrientation","vertical","cdkDragRootElement",".rankings-table",1,"drag-container",3,"cdkDropListData","cdkDropListDropped"],["rankingRulesTable","cdkDropList"],["class","row draggable-row","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["id","table_small",1,"row"],[1,"details-wrapper",3,"ngClass"],["autocomplete","off","class","font-size-12","id","rankingForm",3,"formGroup","ngSubmit",4,"ngIf"],[1,"ranking-rules-buttons-group"],[1,"row","table-buttons",3,"ngClass"],[1,"col-12","col-sm-6"],[1,"btn","close-button",3,"click"],[1,"btn","add-ranking-button","float-right",3,"click"],[1,"fa","fa-plus","add-job-type-icon","border-none"],[1,"form-group","row","align-center-md",3,"ngClass"],[1,"col-12","col-md-6"],["type","button",1,"btn","delete-button","form-buttons","g-margin-bottom-5",3,"disabled","click"],[1,"fa","fa-trash-o"],[1,"col-12","align-center"],["type","button",1,"btn","cancel-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],["type","button",1,"btn","save-button","form-buttons","float-right",3,"click"],["cdkDrag","",1,"row","draggable-row",3,"cdkDragData"],[1,"col-1","active-state"],[3,"checked","click"],[1,"col-4"],[1,"small-label"],[1,"ranking-info"],[1,"col-2","details-button-container"],[1,"details-button","pull-right","border-none",3,"click"],["cdkDragHandle","",1,"col-1","drag-handle","text-align-center"],[1,"fa","fa-ellipsis-v"],["id","ranking_rule_data",1,"col-9"],[1,"row","active-state","small-display-status"],[1,"row","small-display-details"],[1,"col-12","details-button-container"],[1,"details-button","border-none",3,"click"],["id","handle_side","cdkDragHandle","",1,"col-1","drag-handle","text-align-center"],["autocomplete","off","id","rankingForm",1,"font-size-12",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"dynamicForm","col-12"],["id","ranking_types","required","","formControlName","rankingTypeID","bindLabel","name","bindValue","id",1,"width100","jobTypeDetails","constraintTypeMaxHeight",3,"items","required","clearable","searchable","change"],["class","validationError",4,"ngIf"],[1,"grey-line2"],[1,"grey-line"],["type","text","maxlength","50","id","rankingName","name","ranking-name","formControlName","name","required","","placeholder","Enter ranking name",1,"form-control","form-control-sm",3,"keyup","change"],[4,"ngIf"],[1,"validationError"],[1,"row","row-rankings"],[1,"col-md-4","col-12"],["for","scheduled_hours_date_range"],["id","scheduled_hours_date_range","formControlName","dateRange","bindLabel","name","bindValue","name",1,"width100","jobTypeDetails",3,"required","items","searchable","clearable","dropdownPosition","change"],["class","col-md-4 col-12",4,"ngIf"],["type","number","max","0","formControlName","offset","required","","numbersOnlyMask","",1,"form-control","form-control-sm","width100",3,"ngClass","change"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],["type","number","min","0","formControlName","amount","required","","numbersOnlyMask","",1,"form-control","form-control-sm","width100",3,"change"],["formControlName","baseDate","required","",1,"form-control","form-control-sm","width100","eSolve_ranking_date",3,"max","dateLengthTracker","matDatepicker","placeholder","change"],["src","assets/icons/calendar-icon.png",1,"eSolve_ranking_calendar_icon_img",3,"click"],["pickerNew1",""],["id","scheduled_hours_date_range","type","number","min","1","required","","formControlName","baseDateRange","numbersOnlyMask","",1,"form-control","form-control-sm","width100"],[1,"grey-line-top"],["for","job_type_frequency_date_range"],["id","job_type_frequency_date_range","formControlName","dateRange","bindLabel","name","bindValue","name",1,"width100","jobTypeDetails",3,"required","items","searchable","clearable","dropdownPosition","change"],["formControlName","baseDate","required","",1,"form-control","form-control-sm","width100","eSolve_ranking_date",3,"matDatepicker","dateLengthTracker","max","placeholder","change"],["type","number","min","1","formControlName","baseDateRange","required","","numbersOnlyMask","",1,"form-control","form-control-sm","width100"],["for","day_of_week_frequency_date_range"],["id","day_of_week_frequency_date_range","formControlName","dateRange","bindLabel","name","bindValue","name",1,"width100","jobTypeDetails",3,"required","items","searchable","clearable","dropdownPosition","change"],["formControlName","dayOfWeek","bindLabel","name","bindValue","name",1,"width100","jobTypeDetails",3,"required","items","searchable","clearable","dropdownPosition"],["formControlName","countOvernights",3,"checked"],[1,"col-md-3","col-12"],["for","employee_field_value_comparison_mode"],["id","employee_field_value_comparison_mode","formControlName","comparisonMode","bindLabel","value","bindValue","value",1,"width100","jobTypeDetails",3,"items","searchable","clearable","dropdownPosition","change"],["class","col-md-2 col-12",3,"ngClass",4,"ngIf"],["for","employee_field_value_employee_field"],["id","employee_field_value_employee_field","formControlName","employeeField",1,"width100","jobTypeDetails",3,"required","searchable","clearable","dropdownPosition","change"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-3 col-12",4,"ngIf"],["singleComparisonValue",""],["class","col-md-1 col-12 add-new-values-paddings",4,"ngIf"],[1,"col-md-2","col-12",3,"ngClass"],["for","employee_field_value_operator"],["id","employee_field_value_operator","formControlName","operator","bindLabel","value","bindValue","value",1,"width100","jobTypeDetails",3,"required","items","searchable","clearable","dropdownPosition"],[3,"value"],["for","employee_field_value_comparison_value"],["formArrayName","comparisonValues","class","row",4,"ngIf","ngIfElse"],["formArrayName","comparisonValues",1,"row"],["class","col-12",4,"ngFor","ngForOf"],["class","validationError margin-left",4,"ngIf"],[1,"d-flex",3,"formGroupName","ngClass"],["type","text","maxlength","50","id","employee_field_value_comparison_values","name","comparison-values","formControlName","name","required","",1,"form-control","form-control-sm",3,"change"],["class","fa fa-trash-o esolve-custom-icon delete-icon",3,"click",4,"ngIf"],[1,"col-md-9"],["class","validationError no-wrap",4,"ngIf"],["class","col-md-3 or-class",4,"ngIf"],[1,"fa","fa-trash-o","esolve-custom-icon","delete-icon",3,"click"],[1,"validationError","no-wrap"],[1,"col-md-3","or-class"],[1,"validationError","margin-left"],["type","text","maxlength","50","id","employee_field_value_comparison_value","name","comparison-value","required","","formControlName","comparisonValue",1,"form-control","form-control-sm"],["for","employee_field_value_custom_data_field"],["id","employee_field_value_custom_data_field","formControlName","customDataID","bindLabel","name","bindValue","id",1,"width100","jobTypeDetails",3,"required","items","searchable","clearable","dropdownPosition"],[1,"col-md-1","col-12","add-new-values-paddings"],["type","button",1,"add-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5," Rankings "),e.qZA(),e.TgZ(6,"div")(7,"img",5),e.NdJ("click",function(){return i.resetForm(),i.closeRankingsDialog()}),e.qZA()()(),e._UZ(8,"hr",6),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"input",12,13),e.NdJ("ngModelChange",function(a){return i.filterValue=a}),e.qZA(),e._UZ(16,"i",14),e.qZA(),e._UZ(17,"hr"),e.qZA()(),e.TgZ(18,"div",15)(19,"div",2)(20,"div",16)(21,"div",2)(22,"div",9),e._UZ(23,"div",17),e.TgZ(24,"div",18)(25,"span",19),e._uU(26," Ranking Name "),e.qZA()(),e.TgZ(27,"div",18)(28,"span",20),e._uU(29," Ranking Type "),e.qZA()(),e._UZ(30,"div",21)(31,"div",17),e.qZA()()(),e._UZ(32,"hr",22),e.TgZ(33,"div",23)(34,"div",24)(35,"div",25)(36,"div",26,27),e.NdJ("cdkDropListDropped",function(a){return i.onListDrop(a)}),e.YNc(38,ig,18,4,"div",28),e.ALo(39,"rankingsTableFilter"),e.qZA()()()(),e.TgZ(40,"div",29)(41,"div",24)(42,"div",25)(43,"div",26,27),e.NdJ("cdkDropListDropped",function(a){return i.onListDrop(a)}),e.YNc(45,rg,19,4,"div",28),e.ALo(46,"rankingsTableFilter"),e.qZA()()()()()()(),e.TgZ(47,"div",30),e.YNc(48,bv,28,12,"form",31),e.qZA()(),e.TgZ(49,"div",32)(50,"div",33)(51,"div",2)(52,"div",9)(53,"div",34)(54,"button",35),e.NdJ("click",function(){return i.closeRankingsDialog()}),e._uU(55," Close "),e.qZA()(),e.TgZ(56,"div",34)(57,"button",36),e.NdJ("click",function(){return i.toggleViews(),i.resetForm(),i.clearNameTracker(),i.deselectRanking()}),e._UZ(58,"i",37),e._uU(59,"\xa0\xa0 Add New Ranking "),e.qZA()()()()()(),e.TgZ(60,"div",38)(61,"div",39)(62,"div",9)(63,"div",2)(64,"button",40),e.NdJ("click",function(){return i.deleteRanking()}),e._UZ(65,"i",41),e._uU(66," Delete "),e.qZA()()()(),e.TgZ(67,"div",39)(68,"div",9)(69,"div",42)(70,"button",43),e.NdJ("click",function(){return i.toggleViews(),i.clearExistingRankingData(),i.buildRankingForm()}),e._uU(71," Cancel "),e.qZA()(),e.TgZ(72,"div",2)(73,"button",44),e.NdJ("click",function(){return i.submitChanges()}),e._uU(74," Save Changes "),e.qZA()()()()()()),2&t&&(e.xp6(10),e.Q6J("ngClass",e.VKq(17,th,!i.tableShown)),e.xp6(4),e.Q6J("ngModel",i.filterValue),e.xp6(22),e.Q6J("cdkDropListData",i.rankingRules),e.xp6(2),e.Q6J("ngForOf",e.xi3(39,11,i.rankingRules,i.filterValue)),e.xp6(5),e.Q6J("cdkDropListData",i.rankingRules),e.xp6(2),e.Q6J("ngForOf",e.xi3(46,14,i.rankingRules,i.filterValue)),e.xp6(2),e.Q6J("ngClass",e.VKq(19,th,i.tableShown)),e.xp6(1),e.Q6J("ngIf",i.rankingForm),e.xp6(2),e.Q6J("ngClass",e.VKq(21,th,!i.tableShown)),e.xp6(10),e.Q6J("ngClass",e.VKq(23,th,i.tableShown)),e.xp6(4),e.Q6J("disabled",!i.rankingIsSelected))},dependencies:[D.mk,D.sg,D.O5,Zi.oG,tp.Nt,On.Mq,On.hl,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.nD,_.qQ,_.Fd,_.On,_.sg,_.u,_.x0,_.CE,Sn,tr,oo.Wj,oo.Zt,oo.Bh,Hc,$n,rr,mo,Vf],styles:['.toggleScreens[_ngcontent-%COMP%]{display:none}.table-header[_ngcontent-%COMP%]{margin-bottom:31px;margin-top:-6px}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:16px;font-weight:700;padding-top:6px}.rankings-table[_ngcontent-%COMP%]{max-height:26vh;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.rankings-table-header[_ngcontent-%COMP%]{overflow:auto;width:100%;border-radius:5px 5px 0 0;top:-14px;padding-right:15px}table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]{border-radius:5px 5px 0 0}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}.mat-column-name[_ngcontent-%COMP%], .mat-column-type[_ngcontent-%COMP%]{width:35%}.mat-column-button[_ngcontent-%COMP%]{width:20%;padding:8px 10px 0 0;-ms-flex-pack:end!important;justify-content:flex-end!important}.mat-column-checkbox[_ngcontent-%COMP%]{width:10%;padding:8px 0 2px 20px}@media (max-width: 575px){.table-buttons[_ngcontent-%COMP%]{text-align:center}.delete-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}}@media (max-width: 450px){.mat-column-checkbox[_ngcontent-%COMP%]{padding:8px 0 2px 10px}}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.search-input[_ngcontent-%COMP%]{margin-top:-24px}.search-icon[_ngcontent-%COMP%]{right:24px;position:absolute;top:7px;color:#989898;font-size:14px;cursor:pointer}.icon-input[_ngcontent-%COMP%]{padding-right:30px!important;padding-left:10px!important;height:30px;border-radius:6px;font-size:11px;font-weight:300;color:#615f5b;background-color:#f2f2f2;position:relative;width:100%;border:1px solid #999999}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.rankings-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButton[_ngcontent-%COMP%]{padding:0;width:15px;cursor:pointer}.actions-button[_ngcontent-%COMP%]{width:90px!important}.scroll[_ngcontent-%COMP%]{margin-top:-14px;height:34vh;max-height:34vh;margin-left:2px}.scroll-details[_ngcontent-%COMP%]{margin-top:-14px;height:34vh;max-height:34vh}.eSolve-button[_ngcontent-%COMP%]{width:110px}.active-state[_ngcontent-%COMP%]{font-size:27px}.displayed-label[_ngcontent-%COMP%]{display:block!important}.small-label[_ngcontent-%COMP%]{display:none}.draggable-row[_ngcontent-%COMP%]{max-width:100%;width:100%;min-height:40px;border-bottom:solid 1px #ccc;color:#000000de;box-sizing:border-box;background:white;font-size:12px;-ms-flex-align:center;align-items:center;margin-right:0;margin-left:0}.draggable-row.horizontal[_ngcontent-%COMP%]{display:inline-block;margin:0 0 0 5px}#table_large[_ngcontent-%COMP%]{display:block}#table_small[_ngcontent-%COMP%]{display:none}.active-checkbox[_ngcontent-%COMP%]{color:var(--eSolve-green)!important;cursor:pointer}.inactive-checkbox[_ngcontent-%COMP%]{color:var(--eSolve-red)!important;cursor:pointer}@media (max-width: 767px){.draggable-row[_ngcontent-%COMP%]{height:135px;width:auto;text-align:left}.ranking-column-header[_ngcontent-%COMP%]{display:none}.small-label[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex}.active-state[_ngcontent-%COMP%]{margin-bottom:-14px}#table_large[_ngcontent-%COMP%]{display:none}#table_small[_ngcontent-%COMP%]{display:block}.first-input-element[_ngcontent-%COMP%]{width:96%!important}.add-new-values-paddings[_ngcontent-%COMP%]{padding-left:15px!important;padding-top:20px!important}}@media (max-width: 340px){.draggable-row[_ngcontent-%COMP%]{height:181px}.scroll[_ngcontent-%COMP%], .scroll-details[_ngcontent-%COMP%]{height:37vh;max-height:37vh}.drag-handle[_ngcontent-%COMP%]{margin-left:3px}}.small-display-details[_ngcontent-%COMP%]{margin-bottom:5px}.small-display-status[_ngcontent-%COMP%]{margin-bottom:-4px}.drag-handle[_ngcontent-%COMP%], .drag-handle[_ngcontent-%COMP%]:active{cursor:grab}.table-top[_ngcontent-%COMP%]{margin-top:-20px}#table_large[_ngcontent-%COMP%], #table_small[_ngcontent-%COMP%]{margin-top:-14px}.details-button[_ngcontent-%COMP%]{height:27px;width:110px;font-size:12px;font-weight:bolder;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:none!important;margin-bottom:1px;border-radius:.25rem}.ranking-column-header[_ngcontent-%COMP%]{font-size:12px}.ranking-name-header[_ngcontent-%COMP%]{padding-left:11px}.ranking-style-header[_ngcontent-%COMP%]{margin-left:2px}.small-display-rows[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start;height:145px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.add-ranking-button[_ngcontent-%COMP%]{height:25px;width:165px;font-size:12px;font-weight:bolder;line-height:10px;outline:none;color:#3f5064;background-color:#d4dbe0;margin-top:10px;margin-right:5px;box-shadow:none}.close-button[_ngcontent-%COMP%]{margin-top:5px;width:200px;background-color:var(--eSolve-primary)}.align-center-md[_ngcontent-%COMP%]{margin-top:15px}@media only screen and (max-width: 767px){.add-ranking-button[_ngcontent-%COMP%], .close-button[_ngcontent-%COMP%]{float:none!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}.save-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{float:none!important}.row-rankings[_ngcontent-%COMP%]{display:block}}@media only screen and (max-width: 348px){.add-ranking-button[_ngcontent-%COMP%], .close-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{width:100%}}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.grey-line[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}.grey-line2[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);margin-bottom:0;margin-top:0}.grey-line-last[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);margin-top:0}.grey-line-top[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);margin-bottom:0}.row-rankings[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.width100[_ngcontent-%COMP%]{width:100%}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.close-button[_ngcontent-%COMP%]{background-color:#3f5064;width:165px;height:25px;font-size:12px;font-weight:bolder;line-height:10px;color:#fff;box-shadow:none;margin-top:10px}.cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.save-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.delete-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63!important;width:200px}.dynamicForm[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:1px!important}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .font-size-12[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.eSolve_ranking_calendar_icon_img[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:5px;border-radius:0%;right:20px;position:absolute;top:4px;color:#989898;font-size:12px;cursor:pointer}.date_input[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:.25rem!important;padding-left:.8rem!important}.eSolve_ranking_date[_ngcontent-%COMP%]{width:100%}.ranking-info[_ngcontent-%COMP%]{word-break:break-word}.ranking-rules-buttons-group[_ngcontent-%COMP%]{margin-top:-2px}.text-align-center[_ngcontent-%COMP%]{text-align:center}.add-new-values-paddings[_ngcontent-%COMP%]{padding-left:0;padding-top:20px}.esolve-custom-icon[_ngcontent-%COMP%]{cursor:pointer}.delete-icon[_ngcontent-%COMP%]{position:relative;top:5px;margin-left:5px;font-size:medium;font-size:initial}.form-margin-bottom[_ngcontent-%COMP%]{margin-bottom:5px}.first-input-element[_ngcontent-%COMP%]{width:86%}.or-class[_ngcontent-%COMP%]{margin-bottom:inherit;text-align:end}.margin-left[_ngcontent-%COMP%]{margin-left:15px}.add-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff}.no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.input-bg[_ngcontent-%COMP%]{background-color:#f2f2f2}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]     .mat-slide-toggle-thumb{width:12px!important;height:12px!important;-ms-transform:translate(25%,40%);transform:translate(25%,40%)}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]     .mat-slide-toggle-bar{border-radius:15px!important;height:16px!important;width:38px!important;background-color:var(--eSolve-primary)!important}[_nghost-%COMP%]   .mat-slide-toggle.mat-checked[_ngcontent-%COMP%]     .mat-slide-toggle-bar:after{content:"On";font-size:10px;font-weight:500;color:#fff;position:absolute;left:4px;top:-4px}[_nghost-%COMP%]   .mat-slide-toggle.mat-checked[_ngcontent-%COMP%]     .mat-slide-toggle-thumb{-ms-transform:translate(60%,40%);transform:translate(60%,40%);background-color:#fff}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]:not(.mat-checked)     .mat-slide-toggle-bar:after{content:"Off";font-size:10px;font-weight:500;color:#fff;position:absolute;left:17px;top:-4px}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]:not(.mat-checked)     .mat-slide-toggle-bar{background-color:var(--gray)!important}']}),n})();var rp,rn,dg,zc,xv,Cv,ug,Kc,xs=J(73237),Qa=J(61120),yi=J(97326),nh={},Tv=[],U0=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function al(n,o){for(var t in o)n[t]=o[t];return n}function wv(n){var o=n.parentNode;o&&o.removeChild(n)}function ye(n,o,t){var i,r,a,s={};for(a in o)"key"==a?i=o[a]:"ref"==a?r=o[a]:s[a]=o[a];if(arguments.length>2&&(s.children=arguments.length>3?rp.call(arguments,2):t),"function"==typeof n&&null!=n.defaultProps)for(a in n.defaultProps)void 0===s[a]&&(s[a]=n.defaultProps[a]);return qd(n,s,i,r,null)}function qd(n,o,t,i,r){var a={type:n,props:o,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++dg:r};return null==r&&null!=rn.vnode&&rn.vnode(a),a}function Mn(n){return n.children}function Vo(n,o){this.props=n,this.context=o}function op(n,o){if(null==o)return n.__?op(n.__,n.__.__k.indexOf(n)+1):null;for(var t;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e)return t.__e;return"function"==typeof n.type?op(n):null}function Dv(n){var o,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,o=0;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return Dv(n)}}function pg(n){(!n.__d&&(n.__d=!0)&&zc.push(n)&&!ih.__r++||xv!==rn.debounceRendering)&&((xv=rn.debounceRendering)||Cv)(ih)}function ih(){var n,o,t,i,r,a,s,l;for(zc.sort(ug);n=zc.shift();)n.__d&&(o=zc.length,i=void 0,r=void 0,s=(a=(t=n).__v).__e,(l=t.__P)&&(i=[],(r=al({},a)).__v=a.__v+1,fg(l,a,r,t.__n,void 0!==l.ownerSVGElement,null!=a.__h?[s]:null,i,null==s?op(a):s,a.__h),Iv(i,a),a.__e!=s&&Dv(a)),zc.length>o&&zc.sort(ug));ih.__r=0}function Sv(n,o,t,i,r,a,s,l,c,u){var h,x,T,O,U,re,de,ve=i&&i.__k||Tv,Ne=ve.length;for(t.__k=[],h=0;h<o.length;h++)if(null!=(O=t.__k[h]=null==(O=o[h])||"boolean"==typeof O||"function"==typeof O?null:"string"==typeof O||"number"==typeof O||"bigint"==typeof O?qd(null,O,null,null,O):Array.isArray(O)?qd(Mn,{children:O},null,null,null):O.__b>0?qd(O.type,O.props,O.key,O.ref?O.ref:null,O.__v):O)){if(O.__=t,O.__b=t.__b+1,null===(T=ve[h])||T&&O.key==T.key&&O.type===T.type)ve[h]=void 0;else for(x=0;x<Ne;x++){if((T=ve[x])&&O.key==T.key&&O.type===T.type){ve[x]=void 0;break}T=null}fg(n,O,T=T||nh,r,a,s,l,c,u),U=O.__e,(x=O.ref)&&T.ref!=x&&(de||(de=[]),T.ref&&de.push(T.ref,null,O),de.push(x,O.__c||U,O)),null!=U?(null==re&&(re=U),"function"==typeof O.type&&O.__k===T.__k?O.__d=c=kv(O,c,n):c=Av(n,O,T,ve,U,c),"function"==typeof t.type&&(t.__d=c)):c&&T.__e==c&&c.parentNode!=n&&(c=op(T))}for(t.__e=re,h=Ne;h--;)null!=ve[h]&&("function"==typeof t.type&&null!=ve[h].__e&&ve[h].__e==t.__d&&(t.__d=Mv(i).nextSibling),Rv(ve[h],ve[h]));if(de)for(h=0;h<de.length;h++)Nv(de[h],de[++h],de[++h])}function kv(n,o,t){for(var i,r=n.__k,a=0;r&&a<r.length;a++)(i=r[a])&&(i.__=n,o="function"==typeof i.type?kv(i,o,t):Av(t,i,i,r,i.__e,o));return o}function sl(n,o){return o=o||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(t){sl(t,o)}):o.push(n)),o}function Av(n,o,t,i,r,a){var s,l,c;if(void 0!==o.__d)s=o.__d,o.__d=void 0;else if(null==t||r!=a||null==r.parentNode)e:if(null==a||a.parentNode!==n)n.appendChild(r),s=null;else{for(l=a,c=0;(l=l.nextSibling)&&c<i.length;c+=1)if(l==r)break e;n.insertBefore(r,a),s=a}return void 0!==s?s:r.nextSibling}function Mv(n){var o,t,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(o=n.__k.length-1;o>=0;o--)if((t=n.__k[o])&&(i=Mv(t)))return i;return null}function Ov(n,o,t){"-"===o[0]?n.setProperty(o,null==t?"":t):n[o]=null==t?"":"number"!=typeof t||U0.test(o)?t:t+"px"}function rh(n,o,t,i,r){var a;e:if("style"===o)if("string"==typeof t)n.style.cssText=t;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(o in i)t&&o in t||Ov(n.style,o,"");if(t)for(o in t)i&&t[o]===i[o]||Ov(n.style,o,t[o])}else if("o"===o[0]&&"n"===o[1])a=o!==(o=o.replace(/Capture$/,"")),o=o.toLowerCase()in n?o.toLowerCase().slice(2):o.slice(2),n.l||(n.l={}),n.l[o+a]=t,t?i||n.addEventListener(o,a?Ev:Pv,a):n.removeEventListener(o,a?Ev:Pv,a);else if("dangerouslySetInnerHTML"!==o){if(r)o=o.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==o&&"height"!==o&&"href"!==o&&"list"!==o&&"form"!==o&&"tabIndex"!==o&&"download"!==o&&o in n)try{n[o]=null==t?"":t;break e}catch(s){}"function"==typeof t||(null==t||!1===t&&-1==o.indexOf("-")?n.removeAttribute(o):n.setAttribute(o,t))}}function Pv(n){return this.l[n.type+!1](rn.event?rn.event(n):n)}function Ev(n){return this.l[n.type+!0](rn.event?rn.event(n):n)}function fg(n,o,t,i,r,a,s,l,c){var u,h,x,T,O,U,re,de,ve,Ne,De,Ge,We,gt,rt,vt=o.type;if(void 0!==o.constructor)return null;null!=t.__h&&(c=t.__h,l=o.__e=t.__e,o.__h=null,a=[l]),(u=rn.__b)&&u(o);try{e:if("function"==typeof vt){if(de=o.props,ve=(u=vt.contextType)&&i[u.__c],Ne=u?ve?ve.props.value:u.__:i,t.__c?re=(h=o.__c=t.__c).__=h.__E:("prototype"in vt&&vt.prototype.render?o.__c=h=new vt(de,Ne):(o.__c=h=new Vo(de,Ne),h.constructor=vt,h.render=q0),ve&&ve.sub(h),h.props=de,h.state||(h.state={}),h.context=Ne,h.__n=i,x=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=vt.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=al({},h.__s)),al(h.__s,vt.getDerivedStateFromProps(de,h.__s))),T=h.props,O=h.state,h.__v=o,x)null==vt.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==vt.getDerivedStateFromProps&&de!==T&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(de,Ne),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(de,h.__s,Ne)||o.__v===t.__v){for(o.__v!==t.__v&&(h.props=de,h.state=h.__s,h.__d=!1),h.__e=!1,o.__e=t.__e,o.__k=t.__k,o.__k.forEach(function(Zt){Zt&&(Zt.__=o)}),De=0;De<h._sb.length;De++)h.__h.push(h._sb[De]);h._sb=[],h.__h.length&&s.push(h);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(de,h.__s,Ne),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(T,O,U)})}if(h.context=Ne,h.props=de,h.__P=n,Ge=rn.__r,We=0,"prototype"in vt&&vt.prototype.render){for(h.state=h.__s,h.__d=!1,Ge&&Ge(o),u=h.render(h.props,h.state,h.context),gt=0;gt<h._sb.length;gt++)h.__h.push(h._sb[gt]);h._sb=[]}else do{h.__d=!1,Ge&&Ge(o),u=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++We<25);h.state=h.__s,null!=h.getChildContext&&(i=al(al({},i),h.getChildContext())),x||null==h.getSnapshotBeforeUpdate||(U=h.getSnapshotBeforeUpdate(T,O)),rt=null!=u&&u.type===Mn&&null==u.key?u.props.children:u,Sv(n,Array.isArray(rt)?rt:[rt],o,t,i,r,a,s,l,c),h.base=o.__e,o.__h=null,h.__h.length&&s.push(h),re&&(h.__E=h.__=null),h.__e=!1}else null==a&&o.__v===t.__v?(o.__k=t.__k,o.__e=t.__e):o.__e=function Y0(n,o,t,i,r,a,s,l){var c,u,h,x=t.props,T=o.props,O=o.type,U=0;if("svg"===O&&(r=!0),null!=a)for(;U<a.length;U++)if((c=a[U])&&"setAttribute"in c==!!O&&(O?c.localName===O:3===c.nodeType)){n=c,a[U]=null;break}if(null==n){if(null===O)return document.createTextNode(T);n=r?document.createElementNS("http://www.w3.org/2000/svg",O):document.createElement(O,T.is&&T),a=null,l=!1}if(null===O)x===T||l&&n.data===T||(n.data=T);else{if(a=a&&rp.call(n.childNodes),u=(x=t.props||nh).dangerouslySetInnerHTML,h=T.dangerouslySetInnerHTML,!l){if(null!=a)for(x={},U=0;U<n.attributes.length;U++)x[n.attributes[U].name]=n.attributes[U].value;(h||u)&&(h&&(u&&h.__html==u.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||""))}if(function j0(n,o,t,i,r){var a;for(a in t)"children"===a||"key"===a||a in o||rh(n,a,null,t[a],i);for(a in o)r&&"function"!=typeof o[a]||"children"===a||"key"===a||"value"===a||"checked"===a||t[a]===o[a]||rh(n,a,o[a],t[a],i)}(n,T,x,r,l),h)o.__k=[];else if(U=o.props.children,Sv(n,Array.isArray(U)?U:[U],o,t,i,r&&"foreignObject"!==O,a,s,a?a[0]:t.__k&&op(t,0),l),null!=a)for(U=a.length;U--;)null!=a[U]&&wv(a[U]);l||("value"in T&&void 0!==(U=T.value)&&(U!==n.value||"progress"===O&&!U||"option"===O&&U!==x.value)&&rh(n,"value",U,x.value,!1),"checked"in T&&void 0!==(U=T.checked)&&U!==n.checked&&rh(n,"checked",U,x.checked,!1))}return n}(t.__e,o,t,i,r,a,s,c);(u=rn.diffed)&&u(o)}catch(Zt){o.__v=null,(c||null!=a)&&(o.__e=l,o.__h=!!c,a[a.indexOf(l)]=null),rn.__e(Zt,o,t)}}function Iv(n,o){rn.__c&&rn.__c(o,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){rn.__e(i,t.__v)}})}function Nv(n,o,t){try{"function"==typeof n?n(o):n.current=o}catch(i){rn.__e(i,t)}}function Rv(n,o,t){var i,r;if(rn.unmount&&rn.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||Nv(i,null,o)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){rn.__e(a,o)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&Rv(i[r],o,t||"function"!=typeof n.type);t||null==n.__e||wv(n.__e),n.__=n.__e=n.__d=void 0}function q0(n,o,t){return this.constructor(n,t)}function Kl(n,o,t){var i,r,a;rn.__&&rn.__(n,o),r=(i="function"==typeof t)?null:t&&t.__k||o.__k,a=[],fg(o,n=(!i&&t||o).__k=ye(Mn,null,[n]),r||nh,nh,void 0!==o.ownerSVGElement,!i&&t?[t]:r?null:o.firstChild?rp.call(o.childNodes):null,a,!i&&t?t:r?r.__e:o.firstChild,i),Iv(a,n)}rp=Tv.slice,rn={__e:function(o,t,i,r){for(var a,s,l;t=t.__;)if((a=t.__c)&&!a.__)try{if((s=a.constructor)&&null!=s.getDerivedStateFromError&&(a.setState(s.getDerivedStateFromError(o)),l=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(o,r||{}),l=a.__d),l)return a.__E=a}catch(c){o=c}throw o}},dg=0,Vo.prototype.setState=function(n,o){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=al({},this.state),"function"==typeof n&&(n=n(al({},t),this.props)),n&&al(t,n),null!=n&&this.__v&&(o&&this._sb.push(o),pg(this))},Vo.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),pg(this))},Vo.prototype.render=Mn,zc=[],Cv="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ug=function(o,t){return o.__v.__b-t.__v.__b},ih.__r=0,Kc=0;var ji,gg,Zv,Lv=[],oh=[],Uv=rn.__b,Po=rn.__r,ah=rn.diffed,jv=rn.__c,Yv=rn.unmount;function bg(){for(var n;n=Lv.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(ch),n.__H.__h.forEach(yg),n.__H.__h=[]}catch(o){n.__H.__h=[],rn.__e(o,n.__v)}}rn.__b=function(n){ji=null,Uv&&Uv(n)},rn.__r=function(n){Po&&Po(n);var o=(ji=n.__c).__H;o&&(gg===ji?(o.__h=[],ji.__h=[],o.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=oh,t.__N=t.i=void 0})):(o.__h.forEach(ch),o.__h.forEach(yg),o.__h=[])),gg=ji},rn.diffed=function(n){ah&&ah(n);var o=n.__c;o&&o.__H&&(o.__H.__h.length&&(1!==Lv.push(o)&&Zv===rn.requestAnimationFrame||((Zv=rn.requestAnimationFrame)||W0)(bg)),o.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==oh&&(t.__=t.__V),t.i=void 0,t.__V=oh})),gg=ji=null},rn.__c=function(n,o){o.some(function(t){try{t.__h.forEach(ch),t.__h=t.__h.filter(function(i){return!i.__||yg(i)})}catch(i){o.some(function(r){r.__h&&(r.__h=[])}),o=[],rn.__e(i,t.__v)}}),jv&&jv(n,o)},rn.unmount=function(n){Yv&&Yv(n);var o,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{ch(i)}catch(r){o=r}}),t.__H=void 0,o&&rn.__e(o,t.__v))};var lh="function"==typeof requestAnimationFrame;function W0(n){var o,t=function(){clearTimeout(i),lh&&cancelAnimationFrame(o),setTimeout(n)},i=setTimeout(t,100);lh&&(o=requestAnimationFrame(t))}function ch(n){var o=ji,t=n.__c;"function"==typeof t&&(n.__c=void 0,t()),ji=o}function yg(n){var o=ji;n.__c=n.__(),ji=o}function Cg(n,o){for(var t in n)if("__source"!==t&&!(t in o))return!0;for(var i in o)if("__source"!==i&&n[i]!==o[i])return!0;return!1}function wg(n){this.props=n}(wg.prototype=new Vo).isPureReactComponent=!0,wg.prototype.shouldComponentUpdate=function(n,o){return Cg(this.props,n)||Cg(this.state,o)};var Vv=rn.__b;rn.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),Vv&&Vv(n)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var X0=rn.__e;rn.__e=function(n,o,t,i){if(n.then)for(var r,a=o;a=a.__;)if((r=a.__c)&&r.__c)return null==o.__e&&(o.__e=t.__e,o.__k=t.__k),r.__c(n,o);X0(n,o,t,i)};var Wv=rn.unmount;function Qv(n,o,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){"function"==typeof i.__c&&i.__c()}),n.__c.__H=null),null!=(n=function Bv(n,o){for(var t in o)n[t]=o[t];return n}({},n)).__c&&(n.__c.__P===t&&(n.__c.__P=o),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return Qv(i,o,t)})),n}function zv(n,o,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return zv(i,o,t)}),n.__c&&n.__c.__P===o&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function dh(){this.__u=0,this.t=null,this.__b=null}function Kv(n){var o=n.__.__c;return o&&o.__a&&o.__a(n)}function p(){this.u=null,this.o=null}rn.unmount=function(n){var o=n.__c;o&&o.__R&&o.__R(),o&&!0===n.__h&&(n.type=null),Wv&&Wv(n)},(dh.prototype=new Vo).__c=function(n,o){var t=o.__c,i=this;null==i.t&&(i.t=[]),i.t.push(t);var r=Kv(i.__v),a=!1,s=function(){a||(a=!0,t.__R=null,r?r(l):l())};t.__R=s;var l=function(){if(!--i.__u){if(i.state.__a){var h=i.state.__a;i.__v.__k[0]=zv(h,h.__c.__P,h.__c.__O)}var x;for(i.setState({__a:i.__b=null});x=i.t.pop();)x.forceUpdate()}},c=!0===o.__h;i.__u++||c||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(s,s)},dh.prototype.componentWillUnmount=function(){this.t=[]},dh.prototype.render=function(n,o){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Qv(this.__b,t,i.__O=i.__P)}this.__b=null}var r=o.__a&&ye(Mn,null,n.fallback);return r&&(r.__h=null),[ye(Mn,null,o.__a?null:n.children),r]};var w=function(o,t,i){if(++i[1]===i[0]&&o.o.delete(t),o.props.revealOrder&&("t"!==o.props.revealOrder[0]||!o.o.size))for(i=o.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;o.u=i=i[2]}};function V(n){return this.getChildContext=function(){return n.context},n.children}function me(n){var o=this,t=n.i;o.componentWillUnmount=function(){Kl(null,o.l),o.l=null,o.i=null},o.i&&o.i!==t&&o.componentWillUnmount(),n.__v?(o.l||(o.i=t,o.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),o.i.appendChild(r)},insertBefore:function(r,a){this.childNodes.push(r),o.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),o.i.removeChild(r)}}),Kl(ye(V,{context:o.context},n.__v),o.l)):o.l&&o.componentWillUnmount()}(p.prototype=new Vo).__a=function(n){var o=this,t=Kv(o.__v),i=o.o.get(n);return i[0]++,function(r){var a=function(){o.props.revealOrder?(i.push(r),w(o,n,i)):r()};t?t(a):a()}},p.prototype.render=function(n){this.u=null,this.o=new Map;var o=sl(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&o.reverse();for(var t=o.length;t--;)this.o.set(o[t],this.u=[1,0,this.u]);return n.children},p.prototype.componentDidUpdate=p.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(o,t){w(n,t,o)})};var Le="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Be=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,tt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ct=/[A-Z0-9]/g,Dt="undefined"!=typeof document,Lt=function(o){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(o)};Vo.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Vo.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var wn=rn.event;function Gn(){}function Dn(){return this.cancelBubble}function li(){return this.defaultPrevented}rn.event=function(n){return wn&&(n=wn(n)),n.persist=Gn,n.isPropagationStopped=Dn,n.isDefaultPrevented=li,n.nativeEvent=n};var ao={configurable:!0,get:function(){return this.class}},go=rn.vnode;rn.vnode=function(n){var o=n.type,t=n.props,i=t;if("string"==typeof o){for(var r in i={},t){var a=t[r];if(!("value"===r&&"defaultValue"in t&&null==a||Dt&&"children"===r&&"noscript"===o)){var s=r.toLowerCase();"defaultValue"===r&&"value"in t&&null==t.value?r="value":"download"===r&&!0===a?a="":"ondoubleclick"===s?r="ondblclick":"onchange"!==s||"input"!==o&&"textarea"!==o||Lt(t.type)?"onfocus"===s?r="onfocusin":"onblur"===s?r="onfocusout":tt.test(r)?r=s:-1===o.indexOf("-")&&Be.test(r)?r=r.replace(Ct,"-$&").toLowerCase():null===a&&(a=void 0):s=r="oninput","oninput"===s&&i[r=s]&&(r="oninputCapture"),i[r]=a}}"select"==o&&i.multiple&&Array.isArray(i.value)&&(i.value=sl(t.children).forEach(function(l){l.props.selected=-1!=i.value.indexOf(l.props.value)})),"select"==o&&null!=i.defaultValue&&(i.value=sl(t.children).forEach(function(l){l.props.selected=i.multiple?-1!=i.defaultValue.indexOf(l.props.value):i.defaultValue==l.props.value})),n.props=i,t.class!=t.className&&(ao.enumerable="className"in t,null!=t.className&&(i.class=t.className),Object.defineProperty(i,"className",ao))}n.$$typeof=Le,go&&go(n)};var Go=rn.__r;rn.__r=function(n){Go&&Go(n)};var gr=rn.diffed;rn.diffed=function(n){gr&&gr(n);var o=n.props,t=n.__e;null!=t&&"textarea"===n.type&&"value"in o&&o.value!==t.value&&(t.value=null==o.value?"":o.value)};var ty,cT=[],ey=new WeakMap;function uh(n){n&&"undefined"!=typeof document&&cT.push(dT(document.head,n))}function OM(n){var o=n.getRootNode();if(!ey.get(o)){ey.set(o,!0);var i,t=(0,te.Z)(cT);try{for(t.s();!(i=t.n()).done;)dT(o,i.value.innerText)}catch(a){t.e(a)}finally{t.f()}}}function dT(n,o){var t=document.createElement("style"),i=function PM(){return void 0===ty&&(ty=function EM(){var n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");var o=document.querySelector("script[nonce]");return o&&o.nonce||""}()),ty}();return i&&(t.nonce=i),t.innerText=o,n.appendChild(t),t}"undefined"!=typeof document&&ey.set(document,!0);var Dg=function(){function n(o){(0,I.Z)(this,n),this.drainedOption=o,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return(0,M.Z)(n,[{key:"request",value:function(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==t?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}},{key:"pause",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=this.pauseDepths;i[t]=(i[t]||0)+1,this.clearTimeout()}},{key:"resume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0,r=this.pauseDepths;if(t in r){if(i)delete r[t];else{r[t]-=1;var a=r[t];a<=0&&delete r[t]}this.tryDrain()}}},{key:"isPaused",value:function(){return Object.keys(this.pauseDepths).length}},{key:"tryDrain",value:function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}},{key:"clear",value:function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}},{key:"clearTimeout",value:function(o){function t(){return o.apply(this,arguments)}return t.toString=function(){return o.toString()},t}(function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)})},{key:"drained",value:function(){this.drainedOption&&this.drainedOption()}}]),n}();function Xv(n){n.parentNode&&n.parentNode.removeChild(n)}function _o(n,o){if(n.closest)return n.closest(o);if(!document.documentElement.contains(n))return null;do{if(uT(n,o))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function uT(n,o){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,o)}function ph(n,o){for(var t=n instanceof HTMLElement?[n]:n,i=[],r=0;r<t.length;r+=1)for(var a=t[r].querySelectorAll(o),s=0;s<a.length;s+=1)i.push(a[s]);return i}var NM=/(top|left|right|bottom|width|height)$/i;function fh(n,o){for(var t in o)pT(n,t,o[t])}function pT(n,o,t){n.style[o]=null==t?"":"number"==typeof t&&NM.test(o)?"".concat(t,"px"):t}function fT(n){var o,t;return null!==(t=null===(o=n.composedPath)||void 0===o?void 0:o.call(n)[0])&&void 0!==t?t:n.target}var hT=0;function Sg(){return"fc-dom-"+(hT+=1)}function e1(n){n.preventDefault()}function mT(n,o,t,i){var r=function RM(n,o){return function(t){var i=_o(t.target,n);i&&o.call(i,t,i)}}(t,i);return n.addEventListener(o,r),function(){n.removeEventListener(o,r)}}var gT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function _T(n){return Object.assign({onClick:n},vT(n))}function vT(n){return{tabIndex:0,onKeyDown:function(t){("Enter"===t.key||" "===t.key)&&(n(t),t.preventDefault())}}}var bT=0;function ec(){return String(bT+=1)}function ny(){document.body.classList.add("fc-not-allowed")}function iy(){document.body.classList.remove("fc-not-allowed")}function ry(n){var i,r,o=[],t=[];for("string"==typeof n?t=n.split(/\s*,\s*/):"function"==typeof n?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)"string"==typeof(r=t[i])?o.push("-"===r.charAt(0)?{field:r.substring(1),order:-1}:{field:r,order:1}):"function"==typeof r&&o.push({func:r});return o}function yT(n,o,t){var i,r;for(i=0;i<t.length;i+=1)if(r=qM(n,o,t[i]))return r;return 0}function qM(n,o,t){return t.func?t.func(n,o):xT(n[t.field],o[t.field])*(t.order||1)}function xT(n,o){return n||o?null==o?-1:null==n?1:"string"==typeof n||"string"==typeof o?String(n).localeCompare(String(o)):n-o:0}function Xc(n,o){var t=String(n);return"000".substr(0,o-t.length)+t}function kg(n,o,t){return"function"==typeof n?n.apply(void 0,(0,K.Z)(o)):"string"==typeof n?o.reduce(function(i,r,a){return i.replace("$"+a,r||"")},n):t}function JM(n,o){return n-o}function ap(n){return n%1==0}function HM(n){var o=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!o)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-o.getBoundingClientRect().width+t.getBoundingClientRect().width}var CT=["years","months","days","milliseconds"],BM=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Wn(n,o){return"string"==typeof n?function VM(n){var o=BM.exec(n);if(o){var t=o[1]?-1:1;return{years:0,months:0,days:t*(o[2]?parseInt(o[2],10):0),milliseconds:t*(60*(o[3]?parseInt(o[3],10):0)*60*1e3+60*(o[4]?parseInt(o[4],10):0)*1e3+1e3*(o[5]?parseInt(o[5],10):0)+(o[6]?parseInt(o[6],10):0))}}return null}(n):"object"==typeof n&&n?TT(n):"number"==typeof n?TT((0,B.Z)({},o||"milliseconds",n)):null}function TT(n){var o={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:60*(n.hours||n.hour||0)*60*1e3+60*(n.minutes||n.minute||0)*1e3+1e3*(n.seconds||n.second||0)+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(o.days+=7*t,o.specifiedWeeks=!0),o}function GM(n,o){return n.years===o.years&&n.months===o.months&&n.days===o.days&&n.milliseconds===o.milliseconds}function wT(n){return n.years||n.months||n.milliseconds?0:n.days}function oy(n,o){return{years:n.years+o.years,months:n.months+o.months,days:n.days+o.days,milliseconds:n.milliseconds+o.milliseconds}}function DT(n,o){return{years:n.years*o,months:n.months*o,days:n.days*o,milliseconds:n.milliseconds*o}}function hh(n){return Wo(n)/864e5}function Wo(n){return 31536e6*n.years+2592e6*n.months+864e5*n.days+n.milliseconds}function Hd(n,o){for(var t=null,i=0;i<CT.length;i+=1){var r=CT[i];if(o[r]){var a=n[r]/o[r];if(!ap(a)||null!==t&&t!==a)return null;t=a}else if(n[r])return null}return t}function Bd(n){var o=n.milliseconds;if(o){if(o%1e3!=0)return{unit:"millisecond",value:o};if(o%6e4!=0)return{unit:"second",value:o/1e3};if(o%36e5!=0)return{unit:"minute",value:o/6e4};if(o)return{unit:"hour",value:o/36e5}}return n.days?n.specifiedWeeks&&n.days%7==0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Ka(n,o,t){if(n===o)return!0;var r,i=n.length;if(i!==o.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],o[r]):n[r]===o[r]))return!1;return!0}var ST=["sun","mon","tue","wed","thu","fri","sat"];function kT(n,o){var t=Gd(n);return t[2]+=7*o,Fa(t)}function vo(n,o){var t=Gd(n);return t[2]+=o,Fa(t)}function ed(n,o){var t=Gd(n);return t[6]+=o,Fa(t)}function Vd(n,o){return(o.valueOf()-n.valueOf())/864e5}function Ag(n,o){return Wd(n)===Wd(o)?Math.round(Vd(n,o)):null}function Yi(n){return Fa([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function ay(n,o,t,i){var r=Fa([o,0,1+cO(o,t,i)]),a=Yi(n),s=Math.round(Vd(r,a));return Math.floor(s/7)+1}function cO(n,o,t){var i=7+o-t;return-(7+Fa([n,0,i]).getUTCDay()-o)%7+i-1}function AT(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function MT(n){return new Date(n[0],n[1]||0,null==n[2]?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Gd(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Fa(n){return 1===n.length&&(n=n.concat([0])),new Date(Date.UTC.apply(Date,(0,K.Z)(n)))}function sy(n){return!isNaN(n.valueOf())}function Wd(n){return 1e3*n.getUTCHours()*60*60+1e3*n.getUTCMinutes()*60+1e3*n.getUTCSeconds()+n.getUTCMilliseconds()}function t1(n,o){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(null==o?i=i.replace("Z",""):0!==o&&(i=i.replace("Z",cy(o,!0)))),i}function n1(n){return n.toISOString().replace(/T.*$/,"")}function ly(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function dO(n){return Xc(n.getUTCHours(),2)+":"+Xc(n.getUTCMinutes(),2)+":"+Xc(n.getUTCSeconds(),2)}function cy(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),a=Math.round(i%60);return o?"".concat(t+Xc(r,2),":").concat(Xc(a,2)):"GMT".concat(t).concat(r).concat(a?":".concat(Xc(a,2)):"")}function tn(n,o,t){var i,r;return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];if(i){if(!Ka(i,s)){t&&t(r);var c=n.apply(this,s);(!o||!o(c,r))&&(r=c)}}else r=n.apply(this,s);return i=s,r}}function Qd(n,o,t){var r,a,i=this;return function(s){if(r){if(!Eo(r,s)){t&&t(a);var l=n.call(i,s);(!o||!o(l,a))&&(a=l)}}else a=n.call(i,s);return r=s,a}}function dy(n,o,t){var i=this,r=[],a=[];return function(s){for(var l=r.length,c=s.length,u=0;u<l;u+=1)if(s[u]){if(!Ka(r[u],s[u])){t&&t(a[u]);var h=n.apply(i,s[u]);(!o||!o(h,a[u]))&&(a[u]=h)}}else t&&t(a[u]);for(;u<c;u+=1)a[u]=n.apply(i,s[u]);return r=s,a.splice(c),a}}function OT(n,o,t){var i=this,r={},a={};return function(s){var l={};for(var c in s)if(a[c])if(Ka(r[c],s[c]))l[c]=a[c];else{t&&t(a[c]);var u=n.apply(i,s[c]);l[c]=o&&o(u,a[c])?a[c]:u}else l[c]=n.apply(i,s[c]);return r=s,a=l,l}}var PT={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},r1={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},o1=/\s*([ap])\.?m\.?/i,uO=/,/g,pO=/\s+/g,fO=/\u200e/g,hO=/UTC|GMT/,mO=function(){function n(o){(0,I.Z)(this,n);var t={},i={},r=0;for(var a in o)a in PT?(i[a]=o[a],r=Math.max(PT[a],r)):(t[a]=o[a],a in r1&&(r=Math.max(r1[a],r)));this.standardDateProps=t,this.extendedSettings=i,this.severity=r,this.buildFormattingFunc=tn(ET)}return(0,M.Z)(n,[{key:"format",value:function(t,i){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,i)(t)}},{key:"formatRange",value:function(t,i,r,a){var s=this.standardDateProps,l=this.extendedSettings,c=function xO(n,o,t){return t.getMarkerYear(n)!==t.getMarkerYear(o)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(o)?4:t.getMarkerDay(n)!==t.getMarkerDay(o)?2:Wd(n)!==Wd(o)?1:0}(t.marker,i.marker,r.calendarSystem);if(!c)return this.format(t,r);var u=c;u>1&&("numeric"===s.year||"2-digit"===s.year)&&("numeric"===s.month||"2-digit"===s.month)&&("numeric"===s.day||"2-digit"===s.day)&&(u=1);var h=this.format(t,r),x=this.format(i,r);if(h===x)return h;var T=function CO(n,o){var t={};for(var i in n)(!(i in r1)||r1[i]<=o)&&(t[i]=n[i]);return t}(s,u),O=ET(T,l,r),U=O(t),re=O(i),de=function TO(n,o,t,i){for(var r=0;r<n.length;){var a=n.indexOf(o,r);if(-1===a)break;for(var s=n.substr(0,a),l=n.substr(r=a+o.length),c=0;c<t.length;){var u=t.indexOf(i,c);if(-1===u)break;var h=t.substr(0,u),x=t.substr(c=u+i.length);if(s===h&&l===x)return{before:s,after:l}}}return null}(h,U,x,re),ve=l.separator||a||r.defaultSeparator||"";return de?de.before+U+ve+re+de.after:h+ve+x}},{key:"getLargestUnit",value:function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}]),n}();function ET(n,o,t){var i=Object.keys(n).length;return 1===i&&"short"===n.timeZoneName?function(r){return cy(r.timeZoneOffset)}:0===i&&o.week?function(r){return function yO(n,o,t,i,r){var a=[];return"long"===r?a.push(t):("short"===r||"narrow"===r)&&a.push(o),("long"===r||"short"===r)&&a.push(" "),a.push(i.simpleNumberFormat.format(n)),"rtl"===i.options.direction&&a.reverse(),a.join("")}(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,o.week)}:function gO(n,o,t){n=Object.assign({},n),o=Object.assign({},o),function _O(n,o){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),"long"===n.timeZoneName&&(n.timeZoneName="short"),o.omitZeroMinute&&(n.second||n.millisecond)&&delete o.omitZeroMinute}(n,o),n.timeZone="UTC";var r,i=new Intl.DateTimeFormat(t.locale.codes,n);if(o.omitZeroMinute){var a=Object.assign({},n);delete a.minute,r=new Intl.DateTimeFormat(t.locale.codes,a)}return function(s){var l=s.marker;return function vO(n,o,t,i,r){return n=n.replace(fO,""),"short"===t.timeZoneName&&(n=function bO(n,o){var t=!1;return n=n.replace(hO,function(){return t=!0,o}),t||(n+=" ".concat(o)),n}(n,"UTC"===r.timeZone||null==o.timeZoneOffset?"UTC":cy(o.timeZoneOffset))),i.omitCommas&&(n=n.replace(uO,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),!1===i.meridiem?n=n.replace(o1,"").trim():"narrow"===i.meridiem?n=n.replace(o1,function(a,s){return s.toLocaleLowerCase()}):"short"===i.meridiem?n=n.replace(o1,function(a,s){return"".concat(s.toLocaleLowerCase(),"m")}):"lowercase"===i.meridiem&&(n=n.replace(o1,function(a){return a.toLocaleLowerCase()})),(n=n.replace(pO," ")).trim()}((r&&!l.getUTCMinutes()?r:i).format(l),s,n,o,t)}}(n,o,t)}function IT(n,o){var t=o.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function a1(n,o,t,i){var r=IT(n,t.calendarSystem);return{date:r,start:r,end:o?IT(o,t.calendarSystem):null,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}var wO=function(){function n(o){(0,I.Z)(this,n),this.cmdStr=o}return(0,M.Z)(n,[{key:"format",value:function(t,i,r){return i.cmdFormatter(this.cmdStr,a1(t,null,i,r))}},{key:"formatRange",value:function(t,i,r,a){return r.cmdFormatter(this.cmdStr,a1(t,i,r,a))}}]),n}(),DO=function(){function n(o){(0,I.Z)(this,n),this.func=o}return(0,M.Z)(n,[{key:"format",value:function(t,i,r){return this.func(a1(t,null,i,r))}},{key:"formatRange",value:function(t,i,r,a){return this.func(a1(t,i,r,a))}}]),n}();function Bi(n){return"object"==typeof n&&n?new mO(n):"string"==typeof n?new wO(n):"function"==typeof n?new DO(n):null}var NT={navLinkDayClick:at,navLinkWeekClick:at,duration:Wn,bootstrapFontAwesome:at,buttonIcons:at,customButtons:at,defaultAllDayEventDuration:Wn,defaultTimedEventDuration:Wn,nextDayThreshold:Wn,scrollTime:Wn,scrollTimeReset:Boolean,slotMinTime:Wn,slotMaxTime:Wn,dayPopoverFormat:Bi,slotDuration:Wn,snapDuration:Wn,headerToolbar:at,footerToolbar:at,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Bi,dayHeaderClassNames:at,dayHeaderContent:at,dayHeaderDidMount:at,dayHeaderWillUnmount:at,dayCellClassNames:at,dayCellContent:at,dayCellDidMount:at,dayCellWillUnmount:at,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:at,weekNumbers:Boolean,weekNumberClassNames:at,weekNumberContent:at,weekNumberDidMount:at,weekNumberWillUnmount:at,editable:Boolean,viewClassNames:at,viewDidMount:at,viewWillUnmount:at,nowIndicator:Boolean,nowIndicatorClassNames:at,nowIndicatorContent:at,nowIndicatorDidMount:at,nowIndicatorWillUnmount:at,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:at,locale:at,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:at,eventOrder:ry,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:at,contentHeight:at,direction:String,weekNumberFormat:Bi,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:at,initialDate:at,now:at,eventDataTransform:at,stickyHeaderDates:at,stickyFooterScrollbar:at,viewHeight:at,defaultAllDay:Boolean,eventSourceFailure:at,eventSourceSuccess:at,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:at,eventConstraint:at,eventAllow:at,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:at,eventContent:at,eventDidMount:at,eventWillUnmount:at,selectConstraint:at,selectOverlap:at,selectAllow:at,droppable:Boolean,unselectCancel:String,slotLabelFormat:at,slotLaneClassNames:at,slotLaneContent:at,slotLaneDidMount:at,slotLaneWillUnmount:at,slotLabelClassNames:at,slotLabelContent:at,slotLabelDidMount:at,slotLabelWillUnmount:at,dayMaxEvents:at,dayMaxEventRows:at,dayMinWidth:Number,slotLabelInterval:Wn,allDayText:String,allDayClassNames:at,allDayContent:at,allDayDidMount:at,allDayWillUnmount:at,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Bi,rerenderDelay:Number,moreLinkText:at,moreLinkHint:at,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:at,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Wn,hiddenDays:at,fixedWeekCount:Boolean,validRange:at,visibleRange:at,titleFormat:at,eventInteractive:Boolean,noEventsText:String,viewHint:at,navLinkHint:at,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:at,moreLinkClassNames:at,moreLinkContent:at,moreLinkDidMount:at,moreLinkWillUnmount:at,monthStartFormat:Bi,handleCustomRendering:at,customRenderingMetaMap:at,customRenderingReplacesEl:Boolean},Mg={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},RT={datesSet:at,eventsSet:at,eventAdd:at,eventChange:at,eventRemove:at,windowResize:at,eventClick:at,eventMouseEnter:at,eventMouseLeave:at,select:at,unselect:at,loading:at,_unmount:at,_beforeprint:at,_afterprint:at,_noEventDrop:at,_noEventResize:at,_resize:at,_scrollRequest:at},FT={buttonText:at,buttonHints:at,views:at,plugins:at,initialEvents:at,events:at,eventSources:at},sp=(0,B.Z)({headerToolbar:lp,footerToolbar:lp,buttonText:lp,buttonHints:lp,buttonIcons:lp,dateIncrement:lp,plugins:s1,events:s1,eventSources:s1},"resources",s1);function lp(n,o){return"object"==typeof n&&"object"==typeof o&&n&&o?Eo(n,o):n===o}function s1(n,o){return Array.isArray(n)&&Array.isArray(o)?Ka(n,o):n===o}var SO={type:String,component:at,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:at,usesMinMaxTime:Boolean,classNames:at,content:at,didMount:at,willUnmount:at};function uy(n){return py(n,sp)}function mh(n,o){var t={},i={};for(var r in o)r in n&&(t[r]=o[r](n[r]));for(var a in n)a in o||(i[a]=n[a]);return{refined:t,extra:i}}function at(n){return n}var l1=Object.prototype.hasOwnProperty;function py(n,o){var t={};if(o)for(var i in o)if(o[i]===lp){for(var r=[],a=n.length-1;a>=0;a-=1){var s=n[a][i];if("object"==typeof s&&s)r.unshift(s);else if(void 0!==s){t[i]=s;break}}r.length&&(t[i]=py(r))}for(var l=n.length-1;l>=0;l-=1){var c=n[l];for(var u in c)u in t||(t[u]=c[u])}return t}function td(n,o){var t={};for(var i in n)o(n[i],i)&&(t[i]=n[i]);return t}function Qo(n,o){var t={};for(var i in n)t[i]=o(n[i],i);return t}function ZT(n){var i,o={},t=(0,te.Z)(n);try{for(t.s();!(i=t.n()).done;)o[i.value]=!0}catch(a){t.e(a)}finally{t.f()}return o}function fy(n){var o=[];for(var t in n)o.push(n[t]);return o}function Eo(n,o){if(n===o)return!0;for(var t in n)if(l1.call(n,t)&&!(t in o))return!1;for(var i in o)if(l1.call(o,i)&&n[i]!==o[i])return!1;return!0}var kO=/^on[A-Z]/;function hy(n,o){var t=[];for(var i in n)l1.call(n,i)&&(i in o||t.push(i));for(var r in o)l1.call(o,r)&&n[r]!==o[r]&&t.push(r);return t}function c1(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n===o)return!0;for(var i in o)if(!(i in n)||!MO(n[i],o[i],t[i]))return!1;for(var r in n)if(!(r in o))return!1;return!0}function MO(n,o,t){return n===o||!0===t||!!t&&t(n,o)}function LT(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=[];null==t&&(t=Object.keys(n).length);for(var a=o;a<t;a+=i){var s=n[a];void 0!==s&&r.push(s)}return r}var UT={};!function OO(n,o){UT[n]=o}("gregory",function(){function n(){(0,I.Z)(this,n)}return(0,M.Z)(n,[{key:"getMarkerYear",value:function(t){return t.getUTCFullYear()}},{key:"getMarkerMonth",value:function(t){return t.getUTCMonth()}},{key:"getMarkerDay",value:function(t){return t.getUTCDate()}},{key:"arrayToMarker",value:function(t){return Fa(t)}},{key:"markerToArray",value:function(t){return Gd(t)}}]),n}());var IO=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/,RO=function(){function n(o){(0,I.Z)(this,n);var t=this.timeZone=o.timeZone,i="local"!==t&&"UTC"!==t;o.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new o.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!i||this.namedTimeZoneImpl),this.calendarSystem=function PO(n){return new UT[n]}(o.calendarSystem),this.locale=o.locale,this.weekDow=o.locale.week.dow,this.weekDoy=o.locale.week.doy,"ISO"===o.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof o.firstDay&&(this.weekDow=o.firstDay),"function"==typeof o.weekNumberCalculation&&(this.weekNumberFunc=o.weekNumberCalculation),this.weekText=null!=o.weekText?o.weekText:o.locale.options.weekText,this.weekTextLong=(null!=o.weekTextLong?o.weekTextLong:o.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=o.cmdFormatter,this.defaultSeparator=o.defaultSeparator}return(0,M.Z)(n,[{key:"createMarker",value:function(t){var i=this.createMarkerMeta(t);return null===i?null:i.marker}},{key:"createNowMarker",value:function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):Fa(AT(new Date))}},{key:"createMarkerMeta",value:function(t){if("string"==typeof t)return this.parse(t);var i=null;return"number"==typeof t?i=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(i=this.timestampToMarker(t))):Array.isArray(t)&&(i=Fa(t)),null!==i&&sy(i)?{marker:i,isTimeUnspecified:!1,forcedTzo:null}:null}},{key:"parse",value:function(t){var i=function NO(n){var o=IO.exec(n);if(o){var t=new Date(Date.UTC(Number(o[1]),o[3]?Number(o[3])-1:0,Number(o[5]||1),Number(o[7]||0),Number(o[8]||0),Number(o[10]||0),o[12]?1e3*Number("0.".concat(o[12])):0));if(sy(t)){var i=null;return o[13]&&(i=("-"===o[15]?-1:1)*(60*Number(o[16]||0)+Number(o[18]||0))),{marker:t,isTimeUnspecified:!o[6],timeZoneOffset:i}}}return null}(t);if(null===i)return null;var r=i.marker,a=null;return null!==i.timeZoneOffset&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-60*i.timeZoneOffset*1e3):a=i.timeZoneOffset),{marker:r,isTimeUnspecified:i.isTimeUnspecified,forcedTzo:a}}},{key:"getYear",value:function(t){return this.calendarSystem.getMarkerYear(t)}},{key:"getMonth",value:function(t){return this.calendarSystem.getMarkerMonth(t)}},{key:"getDay",value:function(t){return this.calendarSystem.getMarkerDay(t)}},{key:"add",value:function(t,i){var r=this.calendarSystem.markerToArray(t);return r[0]+=i.years,r[1]+=i.months,r[2]+=i.days,r[6]+=i.milliseconds,this.calendarSystem.arrayToMarker(r)}},{key:"subtract",value:function(t,i){var r=this.calendarSystem.markerToArray(t);return r[0]-=i.years,r[1]-=i.months,r[2]-=i.days,r[6]-=i.milliseconds,this.calendarSystem.arrayToMarker(r)}},{key:"addYears",value:function(t,i){var r=this.calendarSystem.markerToArray(t);return r[0]+=i,this.calendarSystem.arrayToMarker(r)}},{key:"addMonths",value:function(t,i){var r=this.calendarSystem.markerToArray(t);return r[1]+=i,this.calendarSystem.arrayToMarker(r)}},{key:"diffWholeYears",value:function(t,i){var r=this.calendarSystem;return Wd(t)===Wd(i)&&r.getMarkerDay(t)===r.getMarkerDay(i)&&r.getMarkerMonth(t)===r.getMarkerMonth(i)?r.getMarkerYear(i)-r.getMarkerYear(t):null}},{key:"diffWholeMonths",value:function(t,i){var r=this.calendarSystem;return Wd(t)===Wd(i)&&r.getMarkerDay(t)===r.getMarkerDay(i)?r.getMarkerMonth(i)-r.getMarkerMonth(t)+12*(r.getMarkerYear(i)-r.getMarkerYear(t)):null}},{key:"greatestWholeUnit",value:function(t,i){var r=this.diffWholeYears(t,i);return null!==r?{unit:"year",value:r}:null!==(r=this.diffWholeMonths(t,i))?{unit:"month",value:r}:(r=function rO(n,o){var t=Ag(n,o);return null!==t&&t%7==0?t/7:null}(t,i),null!==r?{unit:"week",value:r}:null!==(r=Ag(t,i))?{unit:"day",value:r}:(r=function eO(n,o){return(o.valueOf()-n.valueOf())/36e5}(t,i),ap(r)?{unit:"hour",value:r}:(r=function tO(n,o){return(o.valueOf()-n.valueOf())/6e4}(t,i),ap(r)?{unit:"minute",value:r}:(r=function nO(n,o){return(o.valueOf()-n.valueOf())/1e3}(t,i),ap(r)?{unit:"second",value:r}:{unit:"millisecond",value:i.valueOf()-t.valueOf()}))))}},{key:"countDurationsBetween",value:function(t,i,r){var a;return r.years&&null!==(a=this.diffWholeYears(t,i))?a/function QM(n){return hh(n)/365}(r):r.months&&null!==(a=this.diffWholeMonths(t,i))?a/function zM(n){return hh(n)/30}(r):r.days&&null!==(a=Ag(t,i))?a/hh(r):(i.valueOf()-t.valueOf())/Wo(r)}},{key:"startOf",value:function(t,i){return"year"===i?this.startOfYear(t):"month"===i?this.startOfMonth(t):"week"===i?this.startOfWeek(t):"day"===i?Yi(t):"hour"===i?function oO(n){return Fa([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}(t):"minute"===i?function aO(n){return Fa([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}(t):"second"===i?function sO(n){return Fa([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}(t):null}},{key:"startOfYear",value:function(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}},{key:"startOfMonth",value:function(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}},{key:"startOfWeek",value:function(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}},{key:"computeWeekNumber",value:function(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):function lO(n,o,t){var i=n.getUTCFullYear(),r=ay(n,i,o,t);if(r<1)return ay(n,i-1,o,t);var a=ay(n,i+1,o,t);return a>=1?Math.min(r,a):r}(t,this.weekDow,this.weekDoy)}},{key:"format",value:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.format({marker:t,timeZoneOffset:null!=r.forcedTzo?r.forcedTzo:this.offsetForMarker(t)},this)}},{key:"formatRange",value:function(t,i,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.isEndExclusive&&(i=ed(i,-1)),r.formatRange({marker:t,timeZoneOffset:null!=a.forcedStartTzo?a.forcedStartTzo:this.offsetForMarker(t)},{marker:i,timeZoneOffset:null!=a.forcedEndTzo?a.forcedEndTzo:this.offsetForMarker(i)},this,a.defaultSeparator)}},{key:"formatIso",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;return i.omitTimeZoneOffset||(r=null!=i.forcedTzo?i.forcedTzo:this.offsetForMarker(t)),t1(t,r,i.omitTime)}},{key:"timestampToMarker",value:function(t){return"local"===this.timeZone?Fa(AT(new Date(t))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?Fa(this.namedTimeZoneImpl.timestampToArray(t)):new Date(t)}},{key:"offsetForMarker",value:function(t){return"local"===this.timeZone?-MT(Gd(t)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Gd(t)):null}},{key:"toDate",value:function(t,i){return"local"===this.timeZone?MT(Gd(t)):"UTC"===this.timeZone?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Gd(t))*60):new Date(t.valueOf()-(i||0))}}]),n}(),Og=function(){function n(o){(0,I.Z)(this,n),this.iconOverrideOption&&this.setIconOverride(o[this.iconOverrideOption])}return(0,M.Z)(n,[{key:"setIconOverride",value:function(t){var i,r;if("object"==typeof t&&t){for(r in i=Object.assign({},this.iconClasses),t)i[r]=this.applyIconOverridePrefix(t[r]);this.iconClasses=i}else!1===t&&(this.iconClasses={})}},{key:"applyIconOverridePrefix",value:function(t){var i=this.iconOverridePrefix;return i&&0!==t.indexOf(i)&&(t=i+t),t}},{key:"getClass",value:function(t){return this.classes[t]||""}},{key:"getIconClass",value:function(t,i){var r;return(r=i&&this.rtlIconClasses&&this.rtlIconClasses[t]||this.iconClasses[t])?"".concat(this.baseIconClass," ").concat(r):""}},{key:"getCustomButtonIconClass",value:function(t){var i;return this.iconOverrideCustomButtonOption&&(i=t[this.iconOverrideCustomButtonOption])?"".concat(this.baseIconClass," ").concat(this.applyIconOverridePrefix(i)):""}}]),n}();function jT(n){n();var o=rn.debounceRendering,t=[];for(rn.debounceRendering=function i(r){t.push(r)},Kl(ye(FO,{}),document.createElement("div"));t.length;)t.shift()();rn.debounceRendering=o}Og.prototype.classes={},Og.prototype.iconClasses={},Og.prototype.baseIconClass="",Og.prototype.iconOverridePrefix="";var FO=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){return ye("div",{})}},{key:"componentDidMount",value:function(){this.setState({})}}]),t}(Vo);function YT(n){var o=function mg(n,o){var t={__c:o="__cC"+Kc++,__:n,Consumer:function(r,a){return r.children(a)},Provider:function(r){var a,s;return this.getChildContext||(a=[],(s={})[o]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&a.some(function(c){c.__e=!0,pg(c)})},this.sub=function(l){a.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){a.splice(a.indexOf(l),1),c&&c.call(l)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}(n),t=o.Provider;return o.Provider=function(){var i=this,r=!this.getChildContext,a=t.apply(this,arguments);if(r){var s=[];this.shouldComponentUpdate=function(l){i.props.value!==l.value&&s.forEach(function(c){c.context=l.value,c.forceUpdate()})},this.sub=function(l){s.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){s.splice(s.indexOf(l),1),c&&c.call(l)}}}return a},o}var ZO=function(){function n(o,t,i,r){var a=this;(0,I.Z)(this,n),this.execFunc=o,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=function(s){a.queuedRequest=Object.assign({},a.queuedRequest||{},s),a.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return(0,M.Z)(n,[{key:"detach",value:function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}},{key:"update",value:function(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}},{key:"fireInitialScroll",value:function(){this.handleScrollRequest({time:this.scrollTime})}},{key:"drain",value:function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}]),n}(),tc=YT({});function LO(n,o,t,i,r,a,s,l,c,u,h,x,T){return{dateEnv:r,options:t,pluginHooks:s,emitter:u,dispatch:l,getCurrentData:c,calendarApi:h,viewSpec:n,viewApi:o,dateProfileGenerator:i,theme:a,isRtl:"rtl"===t.direction,addResizeHandler:function(U){u.on("_resize",U)},removeResizeHandler:function(U){u.off("_resize",U)},createScrollResponder:function(U){return new ZO(U,u,Wn(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:x,unregisterInteractiveComponent:T}}var d1=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){return(0,I.Z)(this,i),t.apply(this,arguments)}return(0,M.Z)(i,[{key:"shouldComponentUpdate",value:function(a,s){return this.debug&&console.log(hy(a,this.props),hy(s,this.state)),!c1(this.props,a,this.propEquality)||!c1(this.state,s,this.stateEquality)}},{key:"safeSetState",value:function(a){c1(this.state,Object.assign(Object.assign({},this.state),a),this.stateEquality)||this.setState(a)}}]),i}(Vo);return n.addPropsEquality=UO,n.addStateEquality=jO,n.contextType=tc,n}();d1.prototype.propEquality={},d1.prototype.stateEquality={};var Cn=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){return(0,I.Z)(this,i),t.apply(this,arguments)}return(0,M.Z)(i)}(d1);return n.contextType=tc,n}();function UO(n){var o=Object.create(this.prototype.propEquality);Object.assign(o,n),this.prototype.propEquality=o}function jO(n){var o=Object.create(this.prototype.stateEquality);Object.assign(o,n),this.prototype.stateEquality=o}function cl(n,o){"function"==typeof n?n(o):n&&(n.current=o)}var my=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).id=ec(),i.queuedDomNodes=[],i.currentDomNodes=[],i.handleEl=function(r){i.props.elRef&&cl(i.props.elRef,r)},i}return(0,M.Z)(t,[{key:"render",value:function(){var T,U,r=this.props,s=this.context.options,l=r.customGenerator,c=r.defaultGenerator,u=r.renderProps,h=JT(r),x=!1,O=[];if(null!=l){var re="function"==typeof l?l(u,ye):l;if(!0===re)x=!0;else{var de=re&&"object"==typeof re;de&&"html"in re?h.dangerouslySetInnerHTML={__html:re.html}:de&&"domNodes"in re?O=Array.prototype.slice.call(re.domNodes):de||"function"==typeof re?U=re:T=re}}else x=!qT(r.generatorName,s);return x&&c&&(T=c(u)),this.queuedDomNodes=O,this.currentGeneratorMeta=U,ye(r.elTag,h,T)}},{key:"componentDidMount",value:function(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}},{key:"componentDidUpdate",value:function(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}},{key:"componentWillUnmount",value:function(){this.triggerCustomRendering(!1)}},{key:"triggerCustomRendering",value:function(r){var a,s=this.props,c=this.context.options,u=c.handleCustomRendering,h=c.customRenderingMetaMap;if(u){var x=null!==(a=this.currentGeneratorMeta)&&void 0!==a?a:null==h?void 0:h[s.generatorName];x&&u(Object.assign(Object.assign({id:this.id,isActive:r,containerEl:this.base,reportNewContainerEl:this.handleEl,generatorMeta:x},s),{elClasses:s.elClasses.filter(YO)}))}}},{key:"applyQueueudDomNodes",value:function(){var r=this.queuedDomNodes,a=this.currentDomNodes,s=this.base;if(!Ka(r,a)){a.forEach(Xv);var c,l=(0,te.Z)(r);try{for(l.s();!(c=l.n()).done;)s.appendChild(c.value)}catch(h){l.e(h)}finally{l.f()}this.currentDomNodes=r}}}]),t}(Cn);function qT(n,o){var t;return Boolean(o.handleCustomRendering&&n&&(null===(t=o.customRenderingMetaMap)||void 0===t?void 0:t[n]))}function JT(n,o){var t=Object.assign(Object.assign({},n.elAttrs),{ref:n.elRef});return(n.elClasses||o)&&(t.className=(n.elClasses||[]).concat(o||[]).concat(t.className||[]).filter(Boolean).join(" ")),n.elStyle&&(t.style=n.elStyle),t}function YO(n){return Boolean(n)}my.addPropsEquality({elClasses:Ka,elStyle:Eo,elAttrs:function AO(n,o){var r,t=hy(n,o),i=(0,te.Z)(t);try{for(i.s();!(r=i.n()).done;)if(!kO.test(r.value))return!1}catch(s){i.e(s)}finally{i.f()}return!0},renderProps:Eo});var HT=YT(0),Ur=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){var r;return(0,I.Z)(this,i),(r=t.apply(this,arguments)).InnerContent=qO.bind(void 0,(0,yi.Z)(r)),r}return(0,M.Z)(i,[{key:"render",value:function(){var a=this.props,s=function JO(n,o){var t="function"==typeof n?n(o):n||[];return"string"==typeof t?[t]:t}(a.classNameGenerator,a.renderProps);if(a.children){var l=JT(a,s),c=a.children(this.InnerContent,a.renderProps,l);return a.elTag?ye(a.elTag,l,c):c}return ye(my,Object.assign(Object.assign({},a),{elTag:a.elTag||"div",elClasses:(a.elClasses||[]).concat(s),renderId:this.context}))}},{key:"componentDidMount",value:function(){var a,s;null===(s=(a=this.props).didMount)||void 0===s||s.call(a,Object.assign(Object.assign({},this.props.renderProps),{el:this.base}))}},{key:"componentWillUnmount",value:function(){var a,s;null===(s=(a=this.props).willUnmount)||void 0===s||s.call(a,Object.assign(Object.assign({},this.props.renderProps),{el:this.base}))}}]),i}(Vo);return n.contextType=HT,n}();function qO(n,o){var t=n.props;return ye(my,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},o))}var cp=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.context,s=a.options,l={view:a.viewApi};return ye(Ur,Object.assign({},r,{elTag:r.elTag||"div",elClasses:[].concat((0,K.Z)(BT(r.viewSpec)),(0,K.Z)(r.elClasses||[])),renderProps:l,classNameGenerator:s.viewClassNames,generatorName:void 0,didMount:s.viewDidMount,willUnmount:s.viewWillUnmount}),function(){return r.children})}}]),t}(Cn);function BT(n){return["fc-".concat(n.type,"-view"),"fc-view"]}function VT(n,o){var r,a,t=[],i=o.start;for(n.sort(BO),r=0;r<n.length;r+=1)(a=n[r]).start>i&&t.push({start:i,end:a.start}),a.end>i&&(i=a.end);return i<o.end&&t.push({start:i,end:o.end}),t}function BO(n,o){return n.start.valueOf()-o.start.valueOf()}function nd(n,o){var t=n.start,i=n.end,r=null;return null!==o.start&&(t=null===t?o.start:new Date(Math.max(t.valueOf(),o.start.valueOf()))),null!=o.end&&(i=null===i?o.end:new Date(Math.min(i.valueOf(),o.end.valueOf()))),(null===t||null===i||t<i)&&(r={start:t,end:i}),r}function GT(n,o){return(null===n.start?null:n.start.valueOf())===(null===o.start?null:o.start.valueOf())&&(null===n.end?null:n.end.valueOf())===(null===o.end?null:o.end.valueOf())}function u1(n,o){return(null===n.end||null===o.start||n.end>o.start)&&(null===n.start||null===o.end||n.start<o.end)}function p1(n,o){return(null===n.start||null!==o.start&&o.start>=n.start)&&(null===n.end||null!==o.end&&o.end<=n.end)}function nc(n,o){return(null===n.start||o>=n.start)&&(null===n.end||o<n.end)}function VO(n,o){return null!=o.start&&n<o.start?o.start:null!=o.end&&n>=o.end?new Date(o.end.valueOf()-1):n}function WT(n){var o=Math.floor(Vd(n.start,n.end))||1,t=Yi(n.start);return{start:t,end:vo(t,o)}}function f1(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wn(0),t=null,i=null;if(n.end){i=Yi(n.end);var r=n.end.valueOf()-i.valueOf();r&&r>=Wo(o)&&(i=vo(i,1))}return n.start&&(t=Yi(n.start),i&&i<=t&&(i=vo(t,1))),{start:t,end:i}}function gh(n,o,t,i){return"year"===i?Wn(t.diffWholeYears(n,o),"year"):"month"===i?Wn(t.diffWholeMonths(n,o),"month"):function iO(n,o){var t=Yi(n),i=Yi(o);return{years:0,months:0,days:Math.round(Vd(t,i)),milliseconds:o.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}(n,o)}function Pg(n,o){return"function"==typeof n&&(n=n()),null==n?o.createNowMarker():o.createMarker(n)}var QT=function(){function n(o){(0,I.Z)(this,n),this.props=o,this.nowDate=Pg(o.nowInput,o.dateEnv),this.initHiddenDays()}return(0,M.Z)(n,[{key:"buildPrev",value:function(t,i,r){var a=this.props.dateEnv,s=a.subtract(a.startOf(i,t.currentRangeUnit),t.dateIncrement);return this.build(s,-1,r)}},{key:"buildNext",value:function(t,i,r){var a=this.props.dateEnv,s=a.add(a.startOf(i,t.currentRangeUnit),t.dateIncrement);return this.build(s,1,r)}},{key:"build",value:function(t,i){var s,l,c,u,h,x,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.props;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(t=VO(t,s)),l=this.buildCurrentRangeInfo(t,i),c=/^(year|month|week|day)$/.test(l.unit),u=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,c),h=u=this.trimHiddenDays(u),a.showNonCurrentDates||(h=nd(h,l.range)),h=nd(h=this.adjustActiveRange(h),s),x=u1(l.range,s),nc(u,t)||(t=u.start),{currentDate:t,validRange:s,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:c,activeRange:h,renderRange:u,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:x,dateIncrement:this.buildDateIncrement(l.duration)}}},{key:"buildValidRange",value:function(){var t=this.props.validRangeInput,i="function"==typeof t?t.call(this.props.calendarApi,this.nowDate):t;return this.refineRange(i)||{start:null,end:null}}},{key:"buildCurrentRangeInfo",value:function(t,i){var c,r=this.props,a=null,s=null,l=null;return r.duration?l=this.buildRangeFromDuration(t,i,a=r.duration,s=r.durationUnit):(c=this.props.dayCount)?(s="day",l=this.buildRangeFromDayCount(t,i,c)):(l=this.buildCustomVisibleRange(t))?s=r.dateEnv.greatestWholeUnit(l.start,l.end).unit:(s=Bd(a=this.getFallbackDuration()).unit,l=this.buildRangeFromDuration(t,i,a,s)),{duration:a,unit:s,range:l}}},{key:"getFallbackDuration",value:function(){return Wn({day:1})}},{key:"adjustActiveRange",value:function(t){var i=this.props,r=i.dateEnv,s=i.slotMinTime,l=i.slotMaxTime,c=t.start,u=t.end;return i.usesMinMaxTime&&(hh(s)<0&&(c=Yi(c),c=r.add(c,s)),hh(l)>1&&(u=vo(u=Yi(u),-1),u=r.add(u,l))),{start:c,end:u}}},{key:"buildRangeFromDuration",value:function(t,i,r,a){var u,h,x,s=this.props,l=s.dateEnv,c=s.dateAlignment;if(!c){var T=this.props.dateIncrement;c=T&&Wo(T)<Wo(r)?Bd(T).unit:a}function O(){u=l.startOf(t,c),h=l.add(u,r),x={start:u,end:h}}return hh(r)<=1&&this.isHiddenDay(u)&&(u=Yi(u=this.skipHiddenDays(u,i))),O(),this.trimHiddenDays(x)||(t=this.skipHiddenDays(t,i),O()),x}},{key:"buildRangeFromDayCount",value:function(t,i,r){var h,a=this.props,l=a.dateAlignment,c=0,u=t;l&&(u=a.dateEnv.startOf(u,l)),u=Yi(u),h=u=this.skipHiddenDays(u,i);do{h=vo(h,1),this.isHiddenDay(h)||(c+=1)}while(c<r);return{start:u,end:h}}},{key:"buildCustomVisibleRange",value:function(t){var i=this.props,r=i.visibleRangeInput,a="function"==typeof r?r.call(i.calendarApi,i.dateEnv.toDate(t)):r,s=this.refineRange(a);return!s||null!=s.start&&null!=s.end?s:null}},{key:"buildRenderRange",value:function(t,i,r){return t}},{key:"buildDateIncrement",value:function(t){var r;return this.props.dateIncrement||((r=this.props.dateAlignment)?Wn(1,r):t||Wn({days:1}))}},{key:"refineRange",value:function(t){if(t){var i=function HO(n,o){var t=null,i=null;return n.start&&(t=o.createMarker(n.start)),n.end&&(i=o.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}(t,this.props.dateEnv);return i&&(i=f1(i)),i}return null}},{key:"initHiddenDays",value:function(){var a,t=this.props.hiddenDays||[],i=[],r=0;for(!1===this.props.weekends&&t.push(0,6),a=0;a<7;a+=1)(i[a]=-1!==t.indexOf(a))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=i}},{key:"trimHiddenDays",value:function(t){var i=t.start,r=t.end;return i&&(i=this.skipHiddenDays(i)),r&&(r=this.skipHiddenDays(r,-1,!0)),null==i||null==r||i<r?{start:i,end:r}:null}},{key:"isHiddenDay",value:function(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}},{key:"skipHiddenDays",value:function(t){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isHiddenDayHash[(t.getUTCDay()+(r?i:0)+7)%7];)t=vo(t,i);return t}}]),n}();function gy(n,o,t,i){return{instanceId:ec(),defId:n,range:o,forcedStartTzo:null==t?null:t,forcedEndTzo:null==i?null:i}}function QO(n,o,t,i){for(var r=0;r<i.length;r+=1){var a=i[r].parse(n,t);if(a){var s=n.allDay;return null==s&&null==(s=o)&&null==(s=a.allDayGuess)&&(s=!1),{allDay:s,duration:a.duration,typeData:a.typeData,typeId:r}}}return null}function dp(n,o,t){var i=t.dateEnv,r=t.pluginHooks,a=t.options,s=n.defs,l=n.instances;for(var c in l=td(l,function(de){return!s[de.defId].recurringDef}),s){var u=s[c];if(u.recurringDef){var h=u.recurringDef.duration;h||(h=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);var O,x=zO(u,h,o,i,r.recurringTypes),T=(0,te.Z)(x);try{for(T.s();!(O=T.n()).done;){var U=O.value,re=gy(c,{start:U,end:i.add(U,h)});l[re.instanceId]=re}}catch(de){T.e(de)}finally{T.f()}}}return{defs:s,instances:l}}function zO(n,o,t,i,r){var s=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,o),end:t.end},i);return n.allDay&&(s=s.map(Yi)),s}var h1={id:String,groupId:String,title:String,url:String,interactive:Boolean},zT={start:at,end:at,date:at,allDay:Boolean},KO=Object.assign(Object.assign(Object.assign({},h1),zT),{extendedProps:at});function KT(n,o,t,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_y(t),a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,l=$T(n,t,r),c=l.refined,u=l.extra,h=XO(o,t),x=QO(c,h,t.dateEnv,t.pluginHooks.recurringTypes);if(x){var T=vy(c,u,o?o.sourceId:"",x.allDay,Boolean(x.duration),t,a);return T.recurringDef={typeId:x.typeId,typeData:x.typeData,duration:x.duration},{def:T,instance:null}}var O=$O(c,h,t,i);if(O){var U=vy(c,u,o?o.sourceId:"",O.allDay,O.hasEnd,t,a),re=gy(U.defId,O.range,O.forcedStartTzo,O.forcedEndTzo);return s&&U.publicId&&s[U.publicId]&&(re.instanceId=s[U.publicId]),{def:U,instance:re}}return null}function $T(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_y(o);return mh(n,t)}function _y(n){return Object.assign(Object.assign(Object.assign({},_1),KO),n.pluginHooks.eventRefiners)}function vy(n,o,t,i,r,a,s){var u,l={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(s&&n.id?s[n.id]:"")||ec(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:Ig(n,a),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),o)},c=(0,te.Z)(a.pluginHooks.eventDefMemberAdders);try{for(c.s();!(u=c.n()).done;)Object.assign(l,(0,u.value)(n))}catch(x){c.e(x)}finally{c.f()}return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function $O(n,o,t,i){var a,c,r=n.allDay,s=null,l=!1,u=null;if(a=t.dateEnv.createMarkerMeta(null!=n.start?n.start:n.date))s=a.marker;else if(!i)return null;return null!=n.end&&(c=t.dateEnv.createMarkerMeta(n.end)),null==r&&(r=null!=o?o:(!a||a.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),r&&s&&(s=Yi(s)),c&&(u=c.marker,r&&(u=Yi(u)),s&&u<=s&&(u=null)),u?l=!0:i||(l=t.options.forceEventDuration||!1,u=t.dateEnv.add(s,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:l,range:{start:s,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function XO(n,o){var t=null;return n&&(t=n.defaultAllDay),null==t&&(t=o.options.defaultAllDay),t}function Eg(n,o,t,i,r,a){var u,s={defs:{},instances:{}},l=_y(t),c=(0,te.Z)(n);try{for(c.s();!(u=c.n()).done;){var x=KT(u.value,o,t,i,l,r,a);x&&by(x,s)}}catch(T){c.e(T)}finally{c.f()}return s}function by(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{defs:{},instances:{}};return o.defs[n.def.defId]=n.def,n.instance&&(o.instances[n.instance.instanceId]=n.instance),o}function yy(n,o){var t=n.instances[o];if(t){var i=n.defs[t.defId],r=g1(n,function(a){return function eP(n,o){return Boolean(n.groupId&&n.groupId===o.groupId)}(i,a)});return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return{defs:{},instances:{}}}function m1(n,o){return{defs:Object.assign(Object.assign({},n.defs),o.defs),instances:Object.assign(Object.assign({},n.instances),o.instances)}}function g1(n,o){var t=td(n.defs,o),i=td(n.instances,function(r){return t[r.defId]});return{defs:t,instances:i}}function xy(n){return Array.isArray(n)?n:"string"==typeof n?n.split(/\s+/):[]}var _1={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:at,overlap:at,allow:at,className:xy,classNames:xy,color:String,backgroundColor:String,borderColor:String,textColor:String},iP={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Ig(n,o){var t=function nP(n,o){return Array.isArray(n)?Eg(n,null,o,!0):"object"==typeof n&&n?Eg([n],null,o,!0):null!=n?String(n):null}(n.constraint,o);return{display:n.display||null,startEditable:null!=n.startEditable?n.startEditable:n.editable,durationEditable:null!=n.durationEditable?n.durationEditable:n.editable,constraints:null!=t?[t]:[],overlap:null!=n.overlap?n.overlap:null,allows:null!=n.allow?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function Cy(n){return n.reduce(rP,iP)}function rP(n,o){return{display:null!=o.display?o.display:n.display,startEditable:null!=o.startEditable?o.startEditable:n.startEditable,durationEditable:null!=o.durationEditable?o.durationEditable:n.durationEditable,constraints:n.constraints.concat(o.constraints),overlap:"boolean"==typeof o.overlap?o.overlap:n.overlap,allows:n.allows.concat(o.allows),backgroundColor:o.backgroundColor||n.backgroundColor,borderColor:o.borderColor||n.borderColor,textColor:o.textColor||n.textColor,classNames:n.classNames.concat(o.classNames)}}var oP={id:String,defaultAllDay:Boolean,url:String,format:String,events:at,eventDataTransform:at,success:at,failure:at};function XT(n,o){var i,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ew(o);if("string"==typeof n?i={url:n}:"function"==typeof n||Array.isArray(n)?i={events:n}:"object"==typeof n&&n&&(i=n),i){var r=mh(i,t),a=r.refined,s=r.extra,l=aP(a,o);if(l)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:ec(),sourceDefId:l.sourceDefId,meta:l.meta,ui:Ig(a,o),extendedProps:s}}return null}function ew(n){return Object.assign(Object.assign(Object.assign({},_1),oP),n.pluginHooks.eventSourceRefiners)}function aP(n,o){for(var t=o.pluginHooks.eventSourceDefs,i=t.length-1;i>=0;i-=1){var a=t[i].parseMeta(n);if(a)return{sourceDefId:i,meta:a}}return null}function tw(n,o,t){var i=t.options.eventDataTransform,r=o?o.eventDataTransform:null;return r&&(n=nw(n,r)),i&&(n=nw(n,i)),n}function nw(n,o){var t;if(o){t=[];var r,i=(0,te.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=o(a);s?t.push(s):null==s&&t.push(a)}}catch(l){i.e(l)}finally{i.f()}}else t=n;return t}function iw(n,o){return g1(n,function(t){return t.sourceId!==o})}var Ng=function(){function n(){(0,I.Z)(this,n),this.handlers={},this.thisContext=null}return(0,M.Z)(n,[{key:"setThisContext",value:function(t){this.thisContext=t}},{key:"setOptions",value:function(t){this.options=t}},{key:"on",value:function(t,i){!function hP(n,o,t){(n[o]||(n[o]=[])).push(t)}(this.handlers,t,i)}},{key:"off",value:function(t,i){!function mP(n,o,t){t?n[o]&&(n[o]=n[o].filter(function(i){return i!==t})):delete n[o]}(this.handlers,t,i)}},{key:"trigger",value:function(t){for(var i=this.handlers[t]||[],r=this.options&&this.options[t],a=[].concat(r||[],i),s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];var h,u=(0,te.Z)(a);try{for(u.s();!(h=u.n()).done;){var x=h.value;x.apply(this.thisContext,l)}}catch(T){u.e(T)}finally{u.f()}}},{key:"hasHandlers",value:function(t){return Boolean(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}}]),n}(),gP={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function rw(n,o){return Eg(function _P(n){return(!0===n?[{}]:Array.isArray(n)?n.filter(function(t){return t.daysOfWeek}):"object"==typeof n&&n?[n]:[]).map(function(t){return Object.assign(Object.assign({},gP),t)})}(n),null,o)}function ow(n,o,t){t.emitter.trigger("select",Object.assign(Object.assign({},Ty(n,t)),{jsEvent:o?o.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function Ty(n,o){var r,t={},i=(0,te.Z)(o.pluginHooks.dateSpanTransforms);try{for(i.s();!(r=i.n()).done;)Object.assign(t,(0,r.value)(n,o))}catch(s){i.e(s)}finally{i.f()}return Object.assign(t,function EP(n,o){return Object.assign(Object.assign({},hw(n.range,o,n.allDay)),{allDay:n.allDay})}(n,o.dateEnv)),t}function aw(n,o,t){var i=t.dateEnv,r=t.options,a=o;return n?(a=Yi(a),a=i.add(a,r.defaultAllDayEventDuration)):a=i.add(a,r.defaultTimedEventDuration),a}function wy(n,o,t,i){var r=v1(n.defs,o),a={defs:{},instances:{}};for(var s in n.defs)a.defs[s]=bP(n.defs[s],r[s],t,i);for(var c in n.instances){var u=n.instances[c];a.instances[c]=yP(u,a.defs[u.defId],r[u.defId],t,i)}return a}function bP(n,o,t,i){var r=t.standardProps||{};null==r.hasEnd&&o.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);var a=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),t.extendedProps));var l,s=(0,te.Z)(i.pluginHooks.eventDefMutationAppliers);try{for(s.s();!(l=s.n()).done;)(0,l.value)(a,t,i)}catch(u){s.e(u)}finally{s.f()}return!a.hasEnd&&i.options.forceEventDuration&&(a.hasEnd=!0),a}function yP(n,o,t,i,r){var a=r.dateEnv,s=i.standardProps&&!0===i.standardProps.allDay,l=i.standardProps&&!1===i.standardProps.hasEnd,c=Object.assign({},n);return s&&(c.range=WT(c.range)),i.datesDelta&&t.startEditable&&(c.range={start:a.add(c.range.start,i.datesDelta),end:a.add(c.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(c.range={start:a.add(c.range.start,i.startDelta),end:c.range.end}),i.endDelta&&t.durationEditable&&(c.range={start:c.range.start,end:a.add(c.range.end,i.endDelta)}),l&&(c.range={start:c.range.start,end:aw(o.allDay,c.range.start,r)}),o.allDay&&(c.range={start:Yi(c.range.start),end:Yi(c.range.end)}),c.range.end<c.range.start&&(c.range.end=aw(o.allDay,c.range.start,r)),c}var _h=function(){function n(o,t){(0,I.Z)(this,n),this.context=o,this.internalEventSource=t}return(0,M.Z)(n,[{key:"remove",value:function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}},{key:"refetch",value:function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}},{key:"id",get:function(){return this.internalEventSource.publicId}},{key:"url",get:function(){return this.internalEventSource.meta.url}},{key:"format",get:function(){return this.internalEventSource.meta.format}}]),n}(),cr=function(){function n(o,t,i){(0,I.Z)(this,n),this._context=o,this._def=t,this._instance=i||null}return(0,M.Z)(n,[{key:"setProp",value:function(t,i){if(t in zT)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===t)i=h1[t](i),this.mutate({standardProps:{publicId:i}});else if(t in h1)i=h1[t](i),this.mutate({standardProps:(0,B.Z)({},t,i)});else if(t in _1){var r=_1[t](i);r="color"===t?{backgroundColor:i,borderColor:i}:"editable"===t?{startEditable:i,durationEditable:i}:(0,B.Z)({},t,i),this.mutate({standardProps:{ui:r}})}else console.warn("Could not set prop '".concat(t,"'. Use setExtendedProp instead."))}},{key:"setExtendedProp",value:function(t,i){this.mutate({extendedProps:(0,B.Z)({},t,i)})}},{key:"setStart",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._context.dateEnv,a=r.createMarker(t);if(a&&this._instance){var s=this._instance.range,l=gh(s.start,a,r,i.granularity);this.mutate(i.maintainDuration?{datesDelta:l}:{startDelta:l})}}},{key:"setEnd",value:function(t){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._context.dateEnv;if((null==t||(a=r.createMarker(t)))&&this._instance)if(a){var s=gh(this._instance.range.end,a,r,i.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}},{key:"setDates",value:function(t,i){var c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this._context.dateEnv,s={allDay:r.allDay},l=a.createMarker(t);if(l&&(null==i||(c=a.createMarker(i)))&&this._instance){var u=this._instance.range;!0===r.allDay&&(u=WT(u));var h=gh(u.start,l,a,r.granularity);if(c){var x=gh(u.end,c,a,r.granularity);GM(h,x)?this.mutate({datesDelta:h,standardProps:s}):this.mutate({startDelta:h,endDelta:x,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:h,standardProps:s})}}},{key:"moveStart",value:function(t){var i=Wn(t);i&&this.mutate({startDelta:i})}},{key:"moveEnd",value:function(t){var i=Wn(t);i&&this.mutate({endDelta:i})}},{key:"moveDates",value:function(t){var i=Wn(t);i&&this.mutate({datesDelta:i})}},{key:"setAllDay",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={allDay:t},a=i.maintainDuration;null==a&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(r.hasEnd=a),this.mutate({standardProps:r})}},{key:"formatRange",value:function(t){var i=this._context.dateEnv,r=this._instance,a=Bi(t);return this._def.hasEnd?i.formatRange(r.range.start,r.range.end,a,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):i.format(r.range.start,a,{forcedTzo:r.forcedStartTzo})}},{key:"mutate",value:function(t){var i=this._instance;if(i){var r=this._def,a=this._context,l=a.getCurrentData().eventStore,c=yy(l,i.instanceId);c=wy(c,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,a);var h=new n(a,r,i);this._def=c.defs[r.defId],this._instance=c.instances[i.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:c}),a.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:up(c,a,i),revert:function(){a.dispatch({type:"RESET_EVENTS",eventStore:l})}})}}},{key:"remove",value:function(){var t=this._context,i=sw(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:i}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:i})}})}},{key:"source",get:function(){var t=this._def.sourceId;return t?new _h(this._context,this._context.getCurrentData().eventSources[t]):null}},{key:"start",get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}},{key:"end",get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}},{key:"startStr",get:function(){var t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}},{key:"endStr",get:function(){var t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}},{key:"id",get:function(){return this._def.publicId}},{key:"groupId",get:function(){return this._def.groupId}},{key:"allDay",get:function(){return this._def.allDay}},{key:"title",get:function(){return this._def.title}},{key:"url",get:function(){return this._def.url}},{key:"display",get:function(){return this._def.ui.display||"auto"}},{key:"startEditable",get:function(){return this._def.ui.startEditable}},{key:"durationEditable",get:function(){return this._def.ui.durationEditable}},{key:"constraint",get:function(){return this._def.ui.constraints[0]||null}},{key:"overlap",get:function(){return this._def.ui.overlap}},{key:"allow",get:function(){return this._def.ui.allows[0]||null}},{key:"backgroundColor",get:function(){return this._def.ui.backgroundColor}},{key:"borderColor",get:function(){return this._def.ui.borderColor}},{key:"textColor",get:function(){return this._def.ui.textColor}},{key:"classNames",get:function(){return this._def.ui.classNames}},{key:"extendedProps",get:function(){return this._def.extendedProps}},{key:"toPlainObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._def,r=i.ui,a=this.startStr,s=this.endStr,l={allDay:i.allDay};return i.title&&(l.title=i.title),a&&(l.start=a),s&&(l.end=s),i.publicId&&(l.id=i.publicId),i.groupId&&(l.groupId=i.groupId),i.url&&(l.url=i.url),r.display&&"auto"!==r.display&&(l.display=r.display),t.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?l.color=r.backgroundColor:(r.backgroundColor&&(l.backgroundColor=r.backgroundColor),r.borderColor&&(l.borderColor=r.borderColor)),r.textColor&&(l.textColor=r.textColor),r.classNames.length&&(l.classNames=r.classNames),Object.keys(i.extendedProps).length&&(t.collapseExtendedProps?Object.assign(l,i.extendedProps):l.extendedProps=i.extendedProps),l}},{key:"toJSON",value:function(){return this.toPlainObject()}}]),n}();function sw(n){var o=n._def,t=n._instance;return{defs:(0,B.Z)({},o.defId,o),instances:t?(0,B.Z)({},t.instanceId,t):{}}}function up(n,o,t){var i=n.defs,r=n.instances,a=[],s=t?t.instanceId:"";for(var l in r){var c=r[l];c.instanceId!==s&&a.push(new cr(o,i[c.defId],c))}return a}function lw(n,o,t,i){var r={},a={},s={},l=[],c=[],u=v1(n.defs,o);for(var h in n.defs){var x=n.defs[h];"inverse-background"===u[x.defId].display&&(x.groupId?(r[x.groupId]=[],s[x.groupId]||(s[x.groupId]=x)):a[h]=[])}for(var O in n.instances){var U=n.instances[O],re=n.defs[U.defId],de=u[re.defId],ve=U.range,Ne=!re.allDay&&i?f1(ve,i):ve,De=nd(Ne,t);De&&("inverse-background"===de.display?re.groupId?r[re.groupId].push(De):a[U.defId].push(De):"none"!==de.display&&("background"===de.display?l:c).push({def:re,ui:de,instance:U,range:De,isStart:Ne.start&&Ne.start.valueOf()===De.start.valueOf(),isEnd:Ne.end&&Ne.end.valueOf()===De.end.valueOf()}))}for(var Ge in r){var vt,gt=VT(r[Ge],t),rt=(0,te.Z)(gt);try{for(rt.s();!(vt=rt.n()).done;){var Ht=s[Ge];l.push({def:Ht,ui:u[Ht.defId],instance:null,range:vt.value,isStart:!1,isEnd:!1})}}catch(Ni){rt.e(Ni)}finally{rt.f()}}for(var ln in a){var mi,Jn=VT(a[ln],t),kn=(0,te.Z)(Jn);try{for(kn.s();!(mi=kn.n()).done;)l.push({def:n.defs[ln],ui:u[ln],instance:null,range:mi.value,isStart:!1,isEnd:!1})}catch(Ni){kn.e(Ni)}finally{kn.f()}}return{bg:l,fg:c}}function cw(n,o){n.fcSeg=o}function vh(n){return n.fcSeg||n.parentNode.fcSeg||null}function v1(n,o){return Qo(n,function(t){return dw(t,o)})}function dw(n,o){var t=[];return o[""]&&t.push(o[""]),o[n.defId]&&t.push(o[n.defId]),t.push(n.ui),Cy(t)}function Dy(n,o){var t=n.map(CP);return t.sort(function(i,r){return yT(i,r,o)}),t.map(function(i){return i._seg})}function CP(n){var o=n.eventRange,t=o.def,i=o.instance?o.instance.range:o.range,r=i.start?i.start.valueOf():0,a=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:a,duration:a-r,allDay:Number(t.allDay),_seg:n})}function TP(n,o){var u,r=n.eventRange,a=r.def,s=r.ui,l=s.startEditable,c=(0,te.Z)(o.pluginHooks.isDraggableTransformers);try{for(c.s();!(u=c.n()).done;)l=(0,u.value)(l,a,s,o)}catch(x){c.e(x)}finally{c.f()}return l}function wP(n,o){return n.isStart&&n.eventRange.ui.durationEditable&&o.options.eventResizableFromStart}function DP(n,o){return n.isEnd&&n.eventRange.ui.durationEditable}function uw(n,o,t,i,r,a,s){var l=t.dateEnv,c=t.options,u=c.displayEventTime,h=c.displayEventEnd,x=n.eventRange.def,T=n.eventRange.instance;null==u&&(u=!1!==i),null==h&&(h=!1!==r);var O=T.range.start,U=T.range.end,re=a||n.start||n.eventRange.range.start,de=s||n.end||n.eventRange.range.end,ve=Yi(O).valueOf()===Yi(re).valueOf(),Ne=Yi(ed(U,-1)).valueOf()===Yi(ed(de,-1)).valueOf();return u&&!x.allDay&&(ve||Ne)?(re=ve?O:re,de=Ne?U:de,h&&x.hasEnd?l.formatRange(re,de,o,{forcedStartTzo:a?null:T.forcedStartTzo,forcedEndTzo:s?null:T.forcedEndTzo}):l.format(re,o,{forcedTzo:a?null:T.forcedStartTzo})):""}function dl(n,o,t){var i=n.eventRange.range;return{isPast:i.end<(t||o.start),isFuture:i.start>=(t||o.end),isToday:o&&nc(o,i.start)}}function SP(n){var o=["fc-event"];return n.isMirror&&o.push("fc-event-mirror"),n.isDraggable&&o.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&o.push("fc-event-resizable"),n.isDragging&&o.push("fc-event-dragging"),n.isResizing&&o.push("fc-event-resizing"),n.isSelected&&o.push("fc-event-selected"),n.isStart&&o.push("fc-event-start"),n.isEnd&&o.push("fc-event-end"),n.isPast&&o.push("fc-event-past"),n.isToday&&o.push("fc-event-today"),n.isFuture&&o.push("fc-event-future"),o}function Sy(n){return n.instance?n.instance.instanceId:"".concat(n.def.defId,":").concat(n.range.start.toISOString())}function pw(n,o){var t=n.eventRange,i=t.def,r=t.instance,a=i.url;if(a)return{href:a};var s=o.emitter,c=o.options.eventInteractive;return null==c&&null==(c=i.interactive)&&(c=Boolean(s.hasHandlers("eventClick"))),c?vT(function(u){s.trigger("eventClick",{el:u.target,event:new cr(o,i,r),jsEvent:u,view:o.viewApi})}):{}}var kP={start:at,end:at,allDay:Boolean};function fw(n,o,t){return Object.assign(Object.assign({},hw(n,o,t)),{timeZone:o.timeZone})}function hw(n,o,t){return{start:o.toDate(n.start),end:o.toDate(n.end),startStr:o.formatIso(n.start,{omitTime:t}),endStr:o.formatIso(n.end,{omitTime:t})}}function IP(n,o,t){var i=$T({editable:!1},t),r=vy(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:dw(r,o),instance:gy(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function mw(n,o,t){var i=!1,r=function(c){i||(i=!0,o(c))},a=function(c){i||(i=!0,t(c))},s=n(r,a);s&&"function"==typeof s.then&&s.then(r,a)}var ky,gw=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i,r){var a;return(0,I.Z)(this,t),(a=o.call(this,i)).response=r,a}return(0,M.Z)(t)}((0,Ac.Z)(Error));function _w(n,o,t){var i={method:n=n.toUpperCase()};return"GET"===n?o+=(-1===o.indexOf("?")?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(o,i).then(function(r){if(r.ok)return r.json().then(function(a){return[a,r]},function(){throw new gw("Failure parsing JSON",r)});throw new gw("Request failed",r)})}function Ay(){return null==ky&&(ky=function NP(){if("undefined"==typeof document)return!0;var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);var t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}()),ky}var RP=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).state={forPrint:!1},i.handleBeforePrint=function(){i.setState({forPrint:!0})},i.handleAfterPrint=function(){i.setState({forPrint:!1})},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=r.options,s=this.state.forPrint,l=s||"auto"===a.height||"auto"===a.contentHeight,c=l||null==a.height?"":a.height,u=["fc",s?"fc-media-print":"fc-media-screen","fc-direction-".concat(a.direction),r.theme.getClass("root")];return Ay()||u.push("fc-liquid-hack"),r.children(u,c,l,s)}},{key:"componentDidMount",value:function(){var r=this.props.emitter;r.on("_beforeprint",this.handleBeforePrint),r.on("_afterprint",this.handleAfterPrint)}},{key:"componentWillUnmount",value:function(){var r=this.props.emitter;r.off("_beforeprint",this.handleBeforePrint),r.off("_afterprint",this.handleAfterPrint)}}]),t}(Cn),bh=function(){function n(o){(0,I.Z)(this,n),this.component=o.component,this.isHitComboAllowed=o.isHitComboAllowed||null}return(0,M.Z)(n,[{key:"destroy",value:function(){}}]),n}();function FP(n,o){return{component:n,el:o.el,useEventCenter:null==o.useEventCenter||o.useEventCenter,isHitComboAllowed:o.isHitComboAllowed||null}}function My(n){return(0,B.Z)({},n.component.uid,n)}var Oy={},yh=function(){function n(){(0,I.Z)(this,n)}return(0,M.Z)(n,[{key:"getCurrentData",value:function(){return this.currentDataManager.getCurrentData()}},{key:"dispatch",value:function(t){this.currentDataManager.dispatch(t)}},{key:"view",get:function(){return this.getCurrentData().viewApi}},{key:"batchRendering",value:function(t){t()}},{key:"updateSize",value:function(){this.trigger("_resize",!0)}},{key:"setOption",value:function(t,i){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:i})}},{key:"getOption",value:function(t){return this.currentDataManager.currentCalendarOptionsInput[t]}},{key:"getAvailableLocaleCodes",value:function(){return Object.keys(this.getCurrentData().availableRawLocales)}},{key:"on",value:function(t,i){var r=this.currentDataManager;r.currentCalendarOptionsRefiners[t]?r.emitter.on(t,i):console.warn("Unknown listener name '".concat(t,"'"))}},{key:"off",value:function(t,i){this.currentDataManager.emitter.off(t,i)}},{key:"trigger",value:function(t){for(var i,r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];(i=this.currentDataManager.emitter).trigger.apply(i,[t].concat(a))}},{key:"changeView",value:function(t,i){var r=this;this.batchRendering(function(){if(r.unselect(),i)if(i.start&&i.end)r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),r.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:i});else{var a=r.getCurrentData();r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:a.dateEnv.createMarker(i)})}else r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}},{key:"zoomTo",value:function(t,i){var a;a=this.getCurrentData().viewSpecs[i=i||"day"]||this.getUnitViewSpec(i),this.unselect(),this.dispatch(a?{type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:t}:{type:"CHANGE_DATE",dateMarker:t})}},{key:"getUnitViewSpec",value:function(t){var l,c,i=this.getCurrentData(),r=i.viewSpecs,a=i.toolbarConfig,s=[].concat(a.header?a.header.viewsWithButtons:[],a.footer?a.footer.viewsWithButtons:[]);for(var u in r)s.push(u);for(l=0;l<s.length;l+=1)if((c=r[s[l]])&&c.singleUnit===t)return c;return null}},{key:"prev",value:function(){this.unselect(),this.dispatch({type:"PREV"})}},{key:"next",value:function(){this.unselect(),this.dispatch({type:"NEXT"})}},{key:"prevYear",value:function(){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}},{key:"nextYear",value:function(){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}},{key:"today",value:function(){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Pg(t.calendarOptions.now,t.dateEnv)})}},{key:"gotoDate",value:function(t){var i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:i.dateEnv.createMarker(t)})}},{key:"incrementDate",value:function(t){var i=this.getCurrentData(),r=Wn(t);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:i.dateEnv.add(i.currentDate,r)}))}},{key:"getDate",value:function(){var t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}},{key:"formatDate",value:function(t,i){var a=this.getCurrentData().dateEnv;return a.format(a.createMarker(t),Bi(i))}},{key:"formatRange",value:function(t,i,r){var s=this.getCurrentData().dateEnv;return s.formatRange(s.createMarker(t),s.createMarker(i),Bi(r),r)}},{key:"formatIso",value:function(t,i){var a=this.getCurrentData().dateEnv;return a.formatIso(a.createMarker(t),{omitTime:i})}},{key:"select",value:function(t,i){var r;r=null==i?null!=t.start?t:{start:t,end:null}:{start:t,end:i};var a=this.getCurrentData(),s=function AP(n,o,t){var i=function MP(n,o){var t=mh(n,kP),i=t.refined,r=t.extra,a=i.start?o.createMarkerMeta(i.start):null,s=i.end?o.createMarkerMeta(i.end):null,l=i.allDay;return null==l&&(l=a&&a.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:s?s.marker:null},allDay:l},r)}(n,o),r=i.range;if(!r.start)return null;if(!r.end){if(null==t)return null;r.end=o.add(r.start,t)}return i}(r,a.dateEnv,Wn({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),ow(s,null,a))}},{key:"unselect",value:function(t){var i=this.getCurrentData();i.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function vP(n,o){o.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:o.viewApi||o.calendarApi.view})}(t,i))}},{key:"addEvent",value:function(t,i){if(t instanceof cr){var r=t._def,a=t._instance;return this.getCurrentData().eventStore.defs[r.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:by({def:r,instance:a})}),this.triggerEventAdd(t)),t}var c,l=this.getCurrentData();if(i instanceof _h)c=i.internalEventSource;else if("boolean"==typeof i){if(i){var u=fy(l.eventSources);c=(0,ee.Z)(u,1)[0]}}else if(null!=i){var x=this.getEventSourceById(i);if(!x)return console.warn('Could not find an event source with ID "'.concat(i,'"')),null;c=x.internalEventSource}var T=KT(t,c,l,!1);if(T){var O=new cr(l,T.def,T.def.recurringDef?null:T.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:by(T)}),this.triggerEventAdd(O),O}return null}},{key:"triggerEventAdd",value:function(t){var i=this;this.getCurrentData().emitter.trigger("eventAdd",{event:t,relatedEvents:[],revert:function(){i.dispatch({type:"REMOVE_EVENTS",eventStore:sw(t)})}})}},{key:"getEventById",value:function(t){var i=this.getCurrentData(),r=i.eventStore,a=r.defs,s=r.instances;for(var l in t=String(t),a){var c=a[l];if(c.publicId===t){if(c.recurringDef)return new cr(i,c,null);for(var u in s){var h=s[u];if(h.defId===c.defId)return new cr(i,c,h)}}}return null}},{key:"getEvents",value:function(){var t=this.getCurrentData();return up(t.eventStore,t)}},{key:"removeAllEvents",value:function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}},{key:"getEventSources",value:function(){var t=this.getCurrentData(),i=t.eventSources,r=[];for(var a in i)r.push(new _h(t,i[a]));return r}},{key:"getEventSourceById",value:function(t){var i=this.getCurrentData(),r=i.eventSources;for(var a in t=String(t),r)if(r[a].publicId===t)return new _h(i,r[a]);return null}},{key:"addEventSource",value:function(t){var i=this.getCurrentData();if(t instanceof _h)return i.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;var r=XT(t,i);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new _h(i,r)):null}},{key:"removeAllEventSources",value:function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}},{key:"refetchEvents",value:function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}},{key:"scrollToTime",value:function(t){var i=Wn(t);i&&this.trigger("_scrollRequest",{time:i})}}]),n}();function ZP(n,o){return n.left>=o.left&&n.left<o.right&&n.top>=o.top&&n.top<o.bottom}function vw(n,o){var t={left:Math.max(n.left,o.left),right:Math.min(n.right,o.right),top:Math.max(n.top,o.top),bottom:Math.min(n.bottom,o.bottom)};return t.left<t.right&&t.top<t.bottom&&t}function bw(n,o,t){return{left:n.left+o,right:n.right+o,top:n.top+t,bottom:n.bottom+t}}var Py={defs:{},instances:{}},Ey=function(){function n(){(0,I.Z)(this,n),this.getKeysForEventDefs=tn(this._getKeysForEventDefs),this.splitDateSelection=tn(this._splitDateSpan),this.splitEventStore=tn(this._splitEventStore),this.splitIndividualUi=tn(this._splitIndividualUi),this.splitEventDrag=tn(this._splitInteraction),this.splitEventResize=tn(this._splitInteraction),this.eventUiBuilders={}}return(0,M.Z)(n,[{key:"splitProps",value:function(t){var i=this,r=this.getKeyInfo(t),a=this.getKeysForEventDefs(t.eventStore),s=this.splitDateSelection(t.dateSelection),l=this.splitIndividualUi(t.eventUiBases,a),c=this.splitEventStore(t.eventStore,a),u=this.splitEventDrag(t.eventDrag),h=this.splitEventResize(t.eventResize),x={};for(var T in this.eventUiBuilders=Qo(r,function(de,ve){return i.eventUiBuilders[ve]||tn(YP)}),r){var O=r[T],U=c[T]||Py;x[T]={businessHours:O.businessHours||t.businessHours,dateSelection:s[T]||null,eventStore:U,eventUiBases:(0,this.eventUiBuilders[T])(t.eventUiBases[""],O.ui,l[T]),eventSelection:U.instances[t.eventSelection]?t.eventSelection:"",eventDrag:u[T]||null,eventResize:h[T]||null}}return x}},{key:"_splitDateSpan",value:function(t){var i={};if(t){var s,r=this.getKeysForDateSpan(t),a=(0,te.Z)(r);try{for(a.s();!(s=a.n()).done;)i[s.value]=t}catch(c){a.e(c)}finally{a.f()}}return i}},{key:"_getKeysForEventDefs",value:function(t){var i=this;return Qo(t.defs,function(r){return i.getKeysForEventDef(r)})}},{key:"_splitEventStore",value:function(t,i){var r=t.defs,a=t.instances,s={};for(var l in r){var u,c=(0,te.Z)(i[l]);try{for(c.s();!(u=c.n()).done;){var h=u.value;s[h]||(s[h]={defs:{},instances:{}}),s[h].defs[l]=r[l]}}catch(de){c.e(de)}finally{c.f()}}for(var x in a){var U,T=a[x],O=(0,te.Z)(i[T.defId]);try{for(O.s();!(U=O.n()).done;){var re=U.value;s[re]&&(s[re].instances[x]=T)}}catch(de){O.e(de)}finally{O.f()}}return s}},{key:"_splitIndividualUi",value:function(t,i){var r={};for(var a in t)if(a){var l,s=(0,te.Z)(i[a]);try{for(s.s();!(l=s.n()).done;){var c=l.value;r[c]||(r[c]={}),r[c][a]=t[a]}}catch(u){s.e(u)}finally{s.f()}}return r}},{key:"_splitInteraction",value:function(t){var i={};if(t){var r=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),a=this._getKeysForEventDefs(t.mutatedEvents),s=this._splitEventStore(t.mutatedEvents,a),l=function(x){i[x]||(i[x]={affectedEvents:r[x]||Py,mutatedEvents:s[x]||Py,isEvent:t.isEvent})};for(var c in r)l(c);for(var u in s)l(u)}return i}}]),n}();function YP(n,o,t){var i=[];n&&i.push(n),o&&i.push(o);var r={"":Cy(i)};return t&&Object.assign(r,t),r}function b1(n,o,t,i){return{dow:n.getUTCDay(),isDisabled:Boolean(i&&!nc(i.activeRange,n)),isOther:Boolean(i&&!nc(i.currentRange,n)),isToday:Boolean(o&&nc(o,n)),isPast:Boolean(t?n<t:!!o&&n<o.start),isFuture:Boolean(t?n>t:!!o&&n>=o.end)}}function Rg(n,o){var t=["fc-day","fc-day-".concat(ST[n.dow])];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(o.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}function yw(n,o){var t=["fc-slot","fc-slot-".concat(ST[n.dow])];return n.isDisabled?t.push("fc-slot-disabled"):(n.isToday&&(t.push("fc-slot-today"),t.push(o.getClass("today"))),n.isPast&&t.push("fc-slot-past"),n.isFuture&&t.push("fc-slot-future")),t}var qP=Bi({year:"numeric",month:"long",day:"numeric"}),JP=Bi({week:"long"});function Fg(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=n.dateEnv,a=n.options,s=n.calendarApi,l=r.format(o,"week"===t?JP:qP);if(a.navLinks){var c=r.toDate(o),u=function(x){var T="day"===t?a.navLinkDayClick:"week"===t?a.navLinkWeekClick:null;"function"==typeof T?T.call(s,r.toDate(o),x):("string"==typeof T&&(t=T),s.zoomTo(o,t))};return Object.assign({title:kg(a.navLinkHint,[l,c],l),"data-navlink":""},i?_T(u):{onClick:u})}return{"aria-label":l}}var Ny,Iy=null;function y1(){return null===Iy&&(Iy=function HP(){var n=document.createElement("div");fh(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);var t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Xv(n),t}()),Iy}function xw(){return Ny||(Ny=function BP(){var n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);var o=Cw(n);return document.body.removeChild(n),o}()),Ny}function Cw(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function Tw(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,a=parseInt(t.borderTopWidth,10)||0,s=parseInt(t.borderBottomWidth,10)||0,l=Cw(n),c=l.y-i-r,u=l.x-a-s,h={borderLeft:i,borderRight:r,borderTop:a,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return y1()&&"rtl"===t.direction?h.scrollbarLeft=c:h.scrollbarRight=c,o&&(h.paddingLeft=parseInt(t.paddingLeft,10)||0,h.paddingRight=parseInt(t.paddingRight,10)||0,h.paddingTop=parseInt(t.paddingTop,10)||0,h.paddingBottom=parseInt(t.paddingBottom,10)||0),h}function ww(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0,i=t?n.getBoundingClientRect():Ry(n),r=Tw(n,o),a={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return o&&(a.left+=r.paddingLeft,a.right-=r.paddingRight,a.top+=r.paddingTop,a.bottom-=r.paddingBottom),a}function Ry(n){var o=n.getBoundingClientRect();return{left:o.left+window.pageXOffset,top:o.top+window.pageYOffset,right:o.right+window.pageXOffset,bottom:o.bottom+window.pageYOffset}}function Dw(n){for(var o=[];n instanceof HTMLElement;){var t=window.getComputedStyle(n);if("fixed"===t.position)break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&o.push(n),n=n.parentNode}return o}var id=function(){function n(o,t,i,r){(0,I.Z)(this,n),this.els=t;var a=this.originClientRect=o.getBoundingClientRect();i&&this.buildElHorizontals(a.left),r&&this.buildElVerticals(a.top)}return(0,M.Z)(n,[{key:"buildElHorizontals",value:function(t){var s,i=[],r=[],a=(0,te.Z)(this.els);try{for(a.s();!(s=a.n()).done;){var c=s.value.getBoundingClientRect();i.push(c.left-t),r.push(c.right-t)}}catch(u){a.e(u)}finally{a.f()}this.lefts=i,this.rights=r}},{key:"buildElVerticals",value:function(t){var s,i=[],r=[],a=(0,te.Z)(this.els);try{for(a.s();!(s=a.n()).done;){var c=s.value.getBoundingClientRect();i.push(c.top-t),r.push(c.bottom-t)}}catch(u){a.e(u)}finally{a.f()}this.tops=i,this.bottoms=r}},{key:"leftToIndex",value:function(t){var s,i=this.lefts,r=this.rights,a=i.length;for(s=0;s<a;s+=1)if(t>=i[s]&&t<r[s])return s}},{key:"topToIndex",value:function(t){var s,i=this.tops,r=this.bottoms,a=i.length;for(s=0;s<a;s+=1)if(t>=i[s]&&t<r[s])return s}},{key:"getWidth",value:function(t){return this.rights[t]-this.lefts[t]}},{key:"getHeight",value:function(t){return this.bottoms[t]-this.tops[t]}},{key:"similarTo",value:function(t){return x1(this.tops||[],t.tops||[])&&x1(this.bottoms||[],t.bottoms||[])&&x1(this.lefts||[],t.lefts||[])&&x1(this.rights||[],t.rights||[])}}]),n}();function x1(n,o){var t=n.length;if(t!==o.length)return!1;for(var i=0;i<t;i++)if(Math.round(n[i])!==Math.round(o[i]))return!1;return!0}var Fy=function(){function n(){(0,I.Z)(this,n)}return(0,M.Z)(n,[{key:"getMaxScrollTop",value:function(){return this.getScrollHeight()-this.getClientHeight()}},{key:"getMaxScrollLeft",value:function(){return this.getScrollWidth()-this.getClientWidth()}},{key:"canScrollVertically",value:function(){return this.getMaxScrollTop()>0}},{key:"canScrollHorizontally",value:function(){return this.getMaxScrollLeft()>0}},{key:"canScrollUp",value:function(){return this.getScrollTop()>0}},{key:"canScrollDown",value:function(){return this.getScrollTop()<this.getMaxScrollTop()}},{key:"canScrollLeft",value:function(){return this.getScrollLeft()>0}},{key:"canScrollRight",value:function(){return this.getScrollLeft()<this.getMaxScrollLeft()}}]),n}(),GP=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i){var r;return(0,I.Z)(this,t),(r=o.call(this)).el=i,r}return(0,M.Z)(t,[{key:"getScrollTop",value:function(){return this.el.scrollTop}},{key:"getScrollLeft",value:function(){return this.el.scrollLeft}},{key:"setScrollTop",value:function(r){this.el.scrollTop=r}},{key:"setScrollLeft",value:function(r){this.el.scrollLeft=r}},{key:"getScrollWidth",value:function(){return this.el.scrollWidth}},{key:"getScrollHeight",value:function(){return this.el.scrollHeight}},{key:"getClientHeight",value:function(){return this.el.clientHeight}},{key:"getClientWidth",value:function(){return this.el.clientWidth}}]),t}(Fy),WP=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"getScrollTop",value:function(){return window.pageYOffset}},{key:"getScrollLeft",value:function(){return window.pageXOffset}},{key:"setScrollTop",value:function(r){window.scroll(window.pageXOffset,r)}},{key:"setScrollLeft",value:function(r){window.scroll(r,window.pageYOffset)}},{key:"getScrollWidth",value:function(){return document.documentElement.scrollWidth}},{key:"getScrollHeight",value:function(){return document.documentElement.scrollHeight}},{key:"getClientHeight",value:function(){return document.documentElement.clientHeight}},{key:"getClientWidth",value:function(){return document.documentElement.clientWidth}}]),t}(Fy),fa=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).uid=ec(),i}return(0,M.Z)(t,[{key:"prepareHits",value:function(){}},{key:"queryHit",value:function(r,a,s,l){return null}},{key:"isValidSegDownEl",value:function(r){return!this.props.eventDrag&&!this.props.eventResize&&!_o(r,".fc-event-mirror")}},{key:"isValidDateDownEl",value:function(r){return!(_o(r,".fc-event:not(.fc-bg-event)")||_o(r,".fc-more-link")||_o(r,"a[data-navlink]")||_o(r,".fc-popover"))}}]),t}(Cn),Zy=function(){function n(){(0,I.Z)(this,n),this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return(0,M.Z)(n,[{key:"addSegs",value:function(t){var a,i=[],r=(0,te.Z)(t);try{for(r.s();!(a=r.n()).done;)this.insertEntry(a.value,i)}catch(l){r.e(l)}finally{r.f()}return i}},{key:"insertEntry",value:function(t,i){var r=this.findInsertion(t);return this.isInsertionValid(r,t)?(this.insertEntryAt(t,r),1):this.handleInvalidInsertion(r,t,i)}},{key:"isInsertionValid",value:function(t,i){return(-1===this.maxCoord||t.levelCoord+i.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||t.stackCnt<this.maxStackCnt)}},{key:"handleInvalidInsertion",value:function(t,i,r){return this.allowReslicing&&t.touchingEntry?this.splitEntry(i,t.touchingEntry,r):(r.push(i),0)}},{key:"splitEntry",value:function(t,i,r){var a=0,s=[],l=t.span,c=i.span;return l.start<c.start&&(a+=this.insertEntry({index:t.index,thickness:t.thickness,span:{start:l.start,end:c.start}},s)),l.end>c.end&&(a+=this.insertEntry({index:t.index,thickness:t.thickness,span:{start:c.end,end:l.end}},s)),a?(r.push.apply(r,[{index:t.index,thickness:t.thickness,span:Uy(c,l)}].concat(s)),a):(r.push(t),0)}},{key:"insertEntryAt",value:function(t,i){var r=this.entriesByLevel;-1===i.lateral?(jy(this.levelCoords,i.level,i.levelCoord),jy(r,i.level,[t])):jy(r[i.level],i.lateral,t),this.stackCnts[pp(t)]=i.stackCnt}},{key:"findInsertion",value:function(t){for(var i=this.levelCoords,r=this.entriesByLevel,a=this.strictOrder,s=this.stackCnts,l=i.length,c=0,u=-1,h=-1,x=null,T=0,O=0;O<l;O+=1){var U=i[O];if(!a&&U>=c+t.thickness)break;for(var re=r[O],de=void 0,ve=Yy(re,t.span.start,Ly),Ne=ve[0]+ve[1];(de=re[Ne])&&de.span.start<t.span.end;){var De=U+de.thickness;De>c&&(c=De,x=de,u=O,h=Ne),De===c&&(T=Math.max(T,s[pp(de)]+1)),Ne+=1}}var Ge=0;if(x)for(Ge=u+1;Ge<l&&i[Ge]<c;)Ge+=1;var We=-1;return Ge<l&&i[Ge]===c&&(We=Yy(r[Ge],t.span.end,Ly)[0]),{touchingLevel:u,touchingLateral:h,touchingEntry:x,stackCnt:T,levelCoord:c,level:Ge,lateral:We}}},{key:"toRects",value:function(){for(var t=this.entriesByLevel,i=this.levelCoords,r=t.length,a=[],s=0;s<r;s+=1){var h,c=i[s],u=(0,te.Z)(t[s]);try{for(u.s();!(h=u.n()).done;)a.push(Object.assign(Object.assign({},h.value),{levelCoord:c}))}catch(T){u.e(T)}finally{u.f()}}return a}}]),n}();function Ly(n){return n.span.end}function pp(n){return n.index+":"+n.span.start}function Sw(n){var i,o=[],t=(0,te.Z)(n);try{for(t.s();!(i=t.n()).done;){var c,r=i.value,a=[],s={span:r.span,entries:[r]},l=(0,te.Z)(o);try{for(l.s();!(c=l.n()).done;){var u=c.value;Uy(u.span,s.span)?s={entries:u.entries.concat(s.entries),span:QP(u.span,s.span)}:a.push(u)}}catch(h){l.e(h)}finally{l.f()}a.push(s),o=a}}catch(h){t.e(h)}finally{t.f()}return o}function QP(n,o){return{start:Math.min(n.start,o.start),end:Math.max(n.end,o.end)}}function Uy(n,o){var t=Math.max(n.start,o.start),i=Math.min(n.end,o.end);return t<i?{start:t,end:i}:null}function jy(n,o,t){n.splice(o,0,t)}function Yy(n,o,t){var i=0,r=n.length;if(!r||o<t(n[i]))return[0,0];if(o>t(n[r-1]))return[r,0];for(;i<r;){var a=Math.floor(i+(r-i)/2),s=t(n[a]);if(o<s)r=a;else{if(!(o>s))return[a,1];i=a+1}}return[i,0]}var kw=function(){function n(o,t){(0,I.Z)(this,n),this.emitter=new Ng}return(0,M.Z)(n,[{key:"destroy",value:function(){}},{key:"setMirrorIsVisible",value:function(t){}},{key:"setMirrorNeedsRevert",value:function(t){}},{key:"setAutoScrollEnabled",value:function(t){}}]),n}(),ic={};Boolean;var Mw="fc-col-header-cell";function Ow(n){return n.text}var Pw=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.context,a=r.dateEnv,s=r.options,l=r.theme,c=r.viewApi,u=this.props,h=u.date,T=b1(h,u.todayRange,null,u.dateProfile),O=[Mw].concat(Rg(T,l)),U=a.format(h,u.dayHeaderFormat),re=!T.isDisabled&&u.colCnt>1?Fg(this.context,h):{},de=Object.assign(Object.assign(Object.assign({date:a.toDate(h),view:c},u.extraRenderProps),{text:U}),T);return ye(Ur,{elTag:"th",elClasses:O,elAttrs:Object.assign({role:"columnheader",colSpan:u.colSpan,"data-date":T.isDisabled?void 0:n1(h)},u.extraDataAttrs),renderProps:de,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:Ow,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},function(ve){return ye("div",{className:"fc-scrollgrid-sync-inner"},!T.isDisabled&&ye(ve,{elTag:"a",elAttrs:re,elClasses:["fc-col-header-cell-cushion",u.isSticky&&"fc-sticky"]}))})}}]),t}(Cn),KP=Bi({weekday:"long"}),Ew=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.context,s=a.dateEnv,l=a.theme,c=a.viewApi,u=a.options,h=vo(new Date(2592e5),r.dow),x={dow:r.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},T=s.format(h,r.dayHeaderFormat),O=Object.assign(Object.assign(Object.assign(Object.assign({date:h},x),{view:c}),r.extraRenderProps),{text:T});return ye(Ur,{elTag:"th",elClasses:[Mw].concat((0,K.Z)(Rg(x,l)),(0,K.Z)(r.extraClassNames||[])),elAttrs:Object.assign({role:"columnheader",colSpan:r.colSpan},r.extraDataAttrs),renderProps:O,generatorName:"dayHeaderContent",customGenerator:u.dayHeaderContent,defaultGenerator:Ow,classNameGenerator:u.dayHeaderClassNames,didMount:u.dayHeaderDidMount,willUnmount:u.dayHeaderWillUnmount},function(U){return ye("div",{className:"fc-scrollgrid-sync-inner"},ye(U,{elTag:"a",elClasses:["fc-col-header-cell-cushion",r.isSticky&&"fc-sticky"],elAttrs:{"aria-label":s.format(h,KP)}}))})}}]),t}(Cn),zd=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a){var s;return(0,I.Z)(this,i),(s=t.call(this,r,a)).initialNowDate=Pg(a.options.now,a.dateEnv),s.initialNowQueriedMs=(new Date).valueOf(),s.state=s.computeTiming().currentState,s}return(0,M.Z)(i,[{key:"render",value:function(){var s=this.state;return this.props.children(s.nowDate,s.todayRange)}},{key:"componentDidMount",value:function(){this.setTimeout()}},{key:"componentDidUpdate",value:function(a){a.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"computeTiming",value:function(){var a=this.props,s=this.context,l=ed(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),c=s.dateEnv.startOf(l,a.unit),u=s.dateEnv.add(c,Wn(1,a.unit)),h=u.valueOf()-l.valueOf();return h=Math.min(864e5,h),{currentState:{nowDate:c,todayRange:Iw(c)},nextState:{nowDate:u,todayRange:Iw(u)},waitMs:h}}},{key:"setTimeout",value:function(r){function a(){return r.apply(this,arguments)}return a.toString=function(){return r.toString()},a}(function(){var r=this,a=this.computeTiming(),s=a.nextState;this.timeoutId=setTimeout(function(){r.setState(s,function(){r.setTimeout()})},a.waitMs)})},{key:"clearTimeout",value:function(r){function a(){return r.apply(this,arguments)}return a.toString=function(){return r.toString()},a}(function(){this.timeoutId&&clearTimeout(this.timeoutId)})}]),i}(Vo);return n.contextType=tc,n}();function Iw(n){var o=Yi(n);return{start:o,end:vo(o,1)}}var qy=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).createDayHeaderFormatter=tn($P),i}return(0,M.Z)(t,[{key:"render",value:function(){var a=this.props,s=a.dates,l=a.dateProfile,c=a.datesRepDistinctDays,u=a.renderIntro,h=this.createDayHeaderFormatter(this.context.options.dayHeaderFormat,c,s.length);return ye(zd,{unit:"day"},function(x,T){return ye("tr",{role:"row"},u&&u("day"),s.map(function(O){return c?ye(Pw,{key:O.toISOString(),date:O,dateProfile:l,todayRange:T,colCnt:s.length,dayHeaderFormat:h}):ye(Ew,{key:O.getUTCDay(),dow:O.getUTCDay(),dayHeaderFormat:h})}))})}}]),t}(Cn);function $P(n,o,t){return n||function Aw(n,o){return Bi(!n||o>10?{weekday:"short"}:o>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(o,t)}var Nw=function(){function n(o,t){(0,I.Z)(this,n);for(var i=o.start,r=o.end,a=[],s=[],l=-1;i<r;)t.isHiddenDay(i)?a.push(l+.5):(a.push(l+=1),s.push(i)),i=vo(i,1);this.dates=s,this.indices=a,this.cnt=s.length}return(0,M.Z)(n,[{key:"sliceRange",value:function(t){var i=this.getDateDayIndex(t.start),r=this.getDateDayIndex(vo(t.end,-1)),a=Math.max(0,i),s=Math.min(this.cnt-1,r);return(a=Math.ceil(a))<=(s=Math.floor(s))?{firstIndex:a,lastIndex:s,isStart:i===a,isEnd:r===s}:null}},{key:"getDateDayIndex",value:function(t){var i=this.indices,r=Math.floor(Vd(this.dates[0],t));return r<0?i[0]-1:r>=i.length?i[i.length-1]+1:i[r]}}]),n}(),Rw=function(){function n(o,t){(0,I.Z)(this,n);var r,a,s,i=o.dates;if(t){for(a=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==a;r+=1);s=Math.ceil(i.length/r)}else s=1,r=i.length;this.rowCnt=s,this.colCnt=r,this.daySeries=o,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return(0,M.Z)(n,[{key:"buildCells",value:function(){for(var t=[],i=0;i<this.rowCnt;i+=1){for(var r=[],a=0;a<this.colCnt;a+=1)r.push(this.buildCell(i,a));t.push(r)}return t}},{key:"buildCell",value:function(t,i){var r=this.daySeries.dates[t*this.colCnt+i];return{key:r.toISOString(),date:r}}},{key:"buildHeaderDates",value:function(){for(var t=[],i=0;i<this.colCnt;i+=1)t.push(this.cells[0][i].date);return t}},{key:"sliceRange",value:function(t){var i=this.colCnt,r=this.daySeries.sliceRange(t),a=[];if(r)for(var s=r.firstIndex,l=r.lastIndex,c=s;c<=l;){var u=Math.floor(c/i),h=Math.min((u+1)*i,l+1);a.push({row:u,firstCol:c%i,lastCol:(h-1)%i,isStart:r.isStart&&c===s,isEnd:r.isEnd&&h-1===l}),c=h}return a}}]),n}(),Jy=function(){function n(){(0,I.Z)(this,n),this.sliceBusinessHours=tn(this._sliceBusinessHours),this.sliceDateSelection=tn(this._sliceDateSpan),this.sliceEventStore=tn(this._sliceEventStore),this.sliceEventDrag=tn(this._sliceInteraction),this.sliceEventResize=tn(this._sliceInteraction),this.forceDayIfListItem=!1}return(0,M.Z)(n,[{key:"sliceProps",value:function(t,i,r,a){for(var s=t.eventUiBases,l=arguments.length,c=new Array(l>4?l-4:0),u=4;u<l;u++)c[u-4]=arguments[u];var h=this.sliceEventStore.apply(this,[t.eventStore,s,i,r].concat(c));return{dateSelectionSegs:this.sliceDateSelection.apply(this,[t.dateSelection,i,r,s,a].concat(c)),businessHourSegs:this.sliceBusinessHours.apply(this,[t.businessHours,i,r,a].concat(c)),fgEventSegs:h.fg,bgEventSegs:h.bg,eventDrag:this.sliceEventDrag.apply(this,[t.eventDrag,s,i,r].concat(c)),eventResize:this.sliceEventResize.apply(this,[t.eventResize,s,i,r].concat(c)),eventSelection:t.eventSelection}}},{key:"sliceNowDate",value:function(t,i,r,a){for(var s=arguments.length,l=new Array(s>4?s-4:0),c=4;c<s;c++)l[c-4]=arguments[c];return this._sliceDateSpan.apply(this,[{range:{start:t,end:ed(t,1)},allDay:!1},i,r,{},a].concat(l))}},{key:"_sliceBusinessHours",value:function(t,i,r,a){if(!t)return[];for(var s=arguments.length,l=new Array(s>4?s-4:0),c=4;c<s;c++)l[c-4]=arguments[c];return this._sliceEventStore.apply(this,[dp(t,C1(i,Boolean(r)),a),{},i,r].concat(l)).bg}},{key:"_sliceEventStore",value:function(t,i,r,a){if(t){for(var s=lw(t,i,C1(r,Boolean(a)),a),l=arguments.length,c=new Array(l>4?l-4:0),u=4;u<l;u++)c[u-4]=arguments[u];return{bg:this.sliceEventRanges(s.bg,c),fg:this.sliceEventRanges(s.fg,c)}}return{bg:[],fg:[]}}},{key:"_sliceInteraction",value:function(t,i,r,a){if(!t)return null;for(var s=lw(t.mutatedEvents,i,C1(r,Boolean(a)),a),l=arguments.length,c=new Array(l>4?l-4:0),u=4;u<l;u++)c[u-4]=arguments[u];return{segs:this.sliceEventRanges(s.fg,c),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}},{key:"_sliceDateSpan",value:function(t,i,r,a,s){if(!t)return[];var l=C1(i,Boolean(r)),c=nd(t.range,l);if(c){for(var u=IP(t=Object.assign(Object.assign({},t),{range:c}),a,s),h=arguments.length,x=new Array(h>5?h-5:0),T=5;T<h;T++)x[T-5]=arguments[T];var re,O=this.sliceRange.apply(this,[t.range].concat(x)),U=(0,te.Z)(O);try{for(U.s();!(re=U.n()).done;){var de=re.value;de.eventRange=u}}catch(ve){U.e(ve)}finally{U.f()}return O}return[]}},{key:"sliceEventRanges",value:function(t,i){var s,r=[],a=(0,te.Z)(t);try{for(a.s();!(s=a.n()).done;)r.push.apply(r,(0,K.Z)(this.sliceEventRange(s.value,i)))}catch(c){a.e(c)}finally{a.f()}return r}},{key:"sliceEventRange",value:function(t,i){var r=t.range;this.forceDayIfListItem&&"list-item"===t.ui.display&&(r={start:r.start,end:vo(r.start,1)});var l,a=this.sliceRange.apply(this,[r].concat((0,K.Z)(i))),s=(0,te.Z)(a);try{for(s.s();!(l=s.n()).done;){var c=l.value;c.eventRange=t,c.isStart=t.isStart&&c.isStart,c.isEnd=t.isEnd&&c.isEnd}}catch(u){s.e(u)}finally{s.f()}return a}}]),n}();function C1(n,o){var t=n.activeRange;return o?t:{start:ed(t.start,n.slotMinTime.milliseconds),end:ed(t.end,n.slotMaxTime.milliseconds-864e5)}}function Fw(n,o,t){var i=n.mutatedEvents.instances;for(var r in i)if(!p1(o.validRange,i[r].range))return!1;return Zw({eventDrag:n},t)}function Zw(n,o){var t=o.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(o.pluginHooks.isPropsValid||Lw)(i,o)}function Lw(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;return!(n.eventDrag&&!eE(n,o,t,i)||n.dateSelection&&!tE(n,o,t,i))}function eE(n,o,t,i){var r=o.getCurrentData(),a=n.eventDrag,s=a.mutatedEvents,l=s.defs,c=s.instances,u=v1(l,a.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(u=Qo(u,i));var h=function pP(n,o){return{defs:n.defs,instances:td(n.instances,function(t){return!o[t.instanceId]})}}(n.eventStore,a.affectedEvents.instances),x=h.defs,T=h.instances,O=v1(x,n.eventUiBases);for(var U in c){var re=c[U],de=re.range,ve=u[re.defId],Ne=l[re.defId];if(!Uw(ve.constraints,de,h,n.businessHours,o))return!1;var De=o.options.eventOverlap,Ge="function"==typeof De?De:null;for(var We in T){var gt=T[We];if(u1(de,gt.range)&&(!1===O[gt.defId].overlap&&a.isEvent||!1===ve.overlap||Ge&&!Ge(new cr(o,x[gt.defId],gt),new cr(o,Ne,re))))return!1}var Ht,vt=r.eventStore,Zt=(0,te.Z)(ve.allows);try{for(Zt.s();!(Ht=Zt.n()).done;){var kn,Bt=Ht.value,ln=Object.assign(Object.assign({},t),{range:re.range,allDay:Ne.allDay}),Pn=vt.defs[Ne.defId];if(kn=Pn?new cr(o,Pn,vt.instances[U]):new cr(o,Ne),!Bt(Ty(ln,o),kn))return!1}}catch(mi){Zt.e(mi)}finally{Zt.f()}}return!0}function tE(n,o,t,i){var r=n.eventStore,a=r.defs,s=r.instances,l=n.dateSelection,c=l.range,h=o.getCurrentData().selectionConfig;if(i&&(h=i(h)),!Uw(h.constraints,c,r,n.businessHours,o))return!1;var x=o.options.selectOverlap,T="function"==typeof x?x:null;for(var O in s){var U=s[O];if(u1(c,U.range)&&(!1===h.overlap||T&&!T(new cr(o,a[U.defId],U),null)))return!1}var de,re=(0,te.Z)(h.allows);try{for(re.s();!(de=re.n()).done;)if(!(0,de.value)(Ty(Object.assign(Object.assign({},t),l),o),null))return!1}catch(De){re.e(De)}finally{re.f()}return!0}function Uw(n,o,t,i,r){var s,a=(0,te.Z)(n);try{for(a.s();!(s=a.n()).done;)if(!iE(nE(s.value,o,t,i,r),o))return!1}catch(c){a.e(c)}finally{a.f()}return!0}function nE(n,o,t,i,r){return"businessHours"===n?Hy(dp(i,o,r)):"string"==typeof n?Hy(g1(t,function(a){return a.groupId===n})):"object"==typeof n&&n?Hy(dp(n,o,r)):[]}function Hy(n){var o=n.instances,t=[];for(var i in o)t.push(o[i].range);return t}function iE(n,o){var i,t=(0,te.Z)(n);try{for(t.s();!(i=t.n()).done;)if(p1(i.value,o))return!0}catch(a){t.e(a)}finally{t.f()}return!1}var T1=/^(visible|hidden)$/,jw=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).handleEl=function(r){i.el=r,cl(i.props.elRef,r)},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=r.liquid,s=r.liquidIsAbsolute,l=a&&s,c=["fc-scroller"];return a&&c.push(s?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),ye("div",{ref:this.handleEl,className:c.join(" "),style:{overflowX:r.overflowX,overflowY:r.overflowY,left:l&&-(r.overcomeLeft||0)||"",right:l&&-(r.overcomeRight||0)||"",bottom:l&&-(r.overcomeBottom||0)||"",marginLeft:!l&&-(r.overcomeLeft||0)||"",marginRight:!l&&-(r.overcomeRight||0)||"",marginBottom:!l&&-(r.overcomeBottom||0)||"",maxHeight:r.maxHeight||""}},r.children)}},{key:"needsXScrolling",value:function(){if(T1.test(this.props.overflowX))return!1;for(var r=this.el,a=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),s=r.children,l=0;l<s.length;l+=1)if(s[l].getBoundingClientRect().width>a)return!0;return!1}},{key:"needsYScrolling",value:function(){if(T1.test(this.props.overflowY))return!1;for(var r=this.el,a=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),s=r.children,l=0;l<s.length;l+=1)if(s[l].getBoundingClientRect().height>a)return!0;return!1}},{key:"getXScrollbarWidth",value:function(){return T1.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}},{key:"getYScrollbarWidth",value:function(){return T1.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}]),t}(Cn),Io=function(){function n(o){var t=this;(0,I.Z)(this,n),this.masterCallback=o,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(i,r){var a=t.depths,s=t.currentMap,l=!1,c=!1;null!==i?(l=r in s,s[r]=i,a[r]=(a[r]||0)+1,c=!0):(a[r]-=1,a[r]||(delete s[r],delete t.callbackMap[r],l=!0)),t.masterCallback&&(l&&t.masterCallback(null,String(r)),c&&t.masterCallback(i,String(r)))}}return(0,M.Z)(n,[{key:"createRef",value:function(t){var i=this,r=this.callbackMap[t];return r||(r=this.callbackMap[t]=function(a){i.handleValue(a,String(t))}),r}},{key:"collect",value:function(t,i,r){return LT(this.currentMap,t,i,r)}},{key:"getAll",value:function(){return fy(this.currentMap)}}]),n}();function Yw(n){var r,o=ph(n,".fc-scrollgrid-shrink"),t=0,i=(0,te.Z)(o);try{for(i.s();!(r=i.n()).done;)t=Math.max(t,HM(r.value))}catch(s){i.e(s)}finally{i.f()}return Math.ceil(t)}function By(n,o){return n.liquid&&o.liquid}function qw(n,o){return null!=o.maxHeight||By(n,o)}function Jw(n,o,t,i){var r=t.expandRows;return"function"==typeof o.content?o.content(t):ye("table",{role:"presentation",className:[o.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,ye(i?"thead":"tbody",{role:"presentation"},"function"==typeof o.rowContent?o.rowContent(t):o.rowContent))}function Hw(n,o){return Ka(n,o,Eo)}function Bw(n,o){var r,t=[],i=(0,te.Z)(n);try{for(i.s();!(r=i.n()).done;)for(var a=r.value,s=a.span||1,l=0;l<s;l+=1)t.push(ye("col",{style:{width:"shrink"===a.width?Vw(o):a.width||"",minWidth:a.minWidth||""}}))}catch(c){i.e(c)}finally{i.f()}return ye.apply(void 0,["colgroup",{}].concat(t))}function Vw(n){return null==n?4:n}function Gw(n){var t,o=(0,te.Z)(n);try{for(o.s();!(t=o.n()).done;)if("shrink"===t.value.width)return!0}catch(r){o.e(r)}finally{o.f()}return!1}function Ww(n,o){var t=["fc-scrollgrid",o.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function Qw(n,o){var t=["fc-scrollgrid-section","fc-scrollgrid-section-".concat(n.type),n.className];return o&&n.liquid&&null==n.maxHeight&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function xh(n){return ye("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function Ch(n){var o=n.stickyHeaderDates;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}function w1(n){var o=n.stickyFooterScrollbar;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}var Vy=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).processCols=tn(function(r){return r},Hw),i.renderMicroColGroup=tn(Bw),i.scrollerRefs=new Io,i.scrollerElRefs=new Io(i._handleScrollerEl.bind((0,yi.Z)(i))),i.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},i.handleSizing=function(){i.safeSetState(Object.assign({shrinkWidth:i.computeShrinkWidth()},i.computeScrollerDims()))},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.state,s=this.context,l=r.sections||[],c=this.processCols(r.cols),u=this.renderMicroColGroup(c,a.shrinkWidth),h=Ww(r.liquid,s);r.collapsibleWidth&&h.push("fc-scrollgrid-collapsible");for(var O,x=l.length,T=0,U=[],re=[],de=[];T<x&&"header"===(O=l[T]).type;)U.push(this.renderSection(O,u,!0)),T+=1;for(;T<x&&"body"===(O=l[T]).type;)re.push(this.renderSection(O,u,!1)),T+=1;for(;T<x&&"footer"===(O=l[T]).type;)de.push(this.renderSection(O,u,!0)),T+=1;var ve=!Ay(),Ne={role:"rowgroup"};return ye("table",{role:"grid",className:h.join(" "),style:{height:r.height}},Boolean(!ve&&U.length)&&ye.apply(void 0,["thead",Ne].concat(U)),Boolean(!ve&&re.length)&&ye.apply(void 0,["tbody",Ne].concat(re)),Boolean(!ve&&de.length)&&ye.apply(void 0,["tfoot",Ne].concat(de)),ve&&ye.apply(void 0,["tbody",Ne].concat(U,re,de)))}},{key:"renderSection",value:function(r,a,s){return"outerContent"in r?ye(Mn,{key:r.key},r.outerContent):ye("tr",{key:r.key,role:"presentation",className:Qw(r,this.props.liquid).join(" ")},this.renderChunkTd(r,a,r.chunk,s))}},{key:"renderChunkTd",value:function(r,a,s,l){if("outerContent"in s)return s.outerContent;var c=this.props,u=this.state,h=u.forceYScrollbars,x=u.scrollerClientWidths,T=u.scrollerClientHeights,O=qw(c,r),U=By(c,r),re=c.liquid?h?"scroll":O?"auto":"hidden":"visible",de=r.key,ve=Jw(r,s,{tableColGroupNode:a,tableMinWidth:"",clientWidth:c.collapsibleWidth||void 0===x[de]?null:x[de],clientHeight:void 0!==T[de]?T[de]:null,expandRows:r.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},l);return ye(l?"th":"td",{ref:s.elRef,role:"presentation"},ye("div",{className:"fc-scroller-harness".concat(U?" fc-scroller-harness-liquid":"")},ye(jw,{ref:this.scrollerRefs.createRef(de),elRef:this.scrollerElRefs.createRef(de),overflowY:re,overflowX:c.liquid?"hidden":"visible",maxHeight:r.maxHeight,liquid:U,liquidIsAbsolute:!0},ve)))}},{key:"_handleScrollerEl",value:function(r,a){var s=function rE(n,o){var i,t=(0,te.Z)(n);try{for(t.s();!(i=t.n()).done;){var r=i.value;if(r.key===o)return r}}catch(a){t.e(a)}finally{t.f()}return null}(this.props.sections,a);s&&cl(s.chunk.scrollerElRef,r)}},{key:"componentDidMount",value:function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}},{key:"componentDidUpdate",value:function(){this.handleSizing()}},{key:"componentWillUnmount",value:function(){this.context.removeResizeHandler(this.handleSizing)}},{key:"computeShrinkWidth",value:function(){return Gw(this.props.cols)?Yw(this.scrollerElRefs.getAll()):0}},{key:"computeScrollerDims",value:function(){var r=xw(),a=this.scrollerRefs,s=this.scrollerElRefs,l=!1,c={},u={};for(var h in a.currentMap){var x=a.currentMap[h];if(x&&x.needsYScrolling()){l=!0;break}}var O,T=(0,te.Z)(this.props.sections);try{for(T.s();!(O=T.n()).done;){var re=O.value.key,de=s.currentMap[re];if(de){var ve=de.parentNode;c[re]=Math.floor(ve.getBoundingClientRect().width-(l?r.y:0)),u[re]=Math.floor(ve.getBoundingClientRect().height)}}}catch(Ne){T.e(Ne)}finally{T.f()}return{forceYScrollbars:l,scrollerClientWidths:c,scrollerClientHeights:u}}}]),t}(Cn);Vy.addStateEquality({scrollerClientWidths:Eo,scrollerClientHeights:Eo});var Gy=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).handleEl=function(r){i.el=r,r&&cw(r,i.props.seg)},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.context,s=a.options,l=r.seg,c=l.eventRange,u=c.ui,h={event:new cr(a,c.def,c.instance),view:a.viewApi,timeText:r.timeText,textColor:u.textColor,backgroundColor:u.backgroundColor,borderColor:u.borderColor,isDraggable:!r.disableDragging&&TP(l,a),isStartResizable:!r.disableResizing&&wP(l,a),isEndResizable:!r.disableResizing&&DP(l),isMirror:Boolean(r.isDragging||r.isResizing||r.isDateSelecting),isStart:Boolean(l.isStart),isEnd:Boolean(l.isEnd),isPast:Boolean(r.isPast),isFuture:Boolean(r.isFuture),isToday:Boolean(r.isToday),isSelected:Boolean(r.isSelected),isDragging:Boolean(r.isDragging),isResizing:Boolean(r.isResizing)};return ye(Ur,Object.assign({},r,{elRef:this.handleEl,elClasses:[].concat((0,K.Z)(SP(h)),(0,K.Z)(l.eventRange.ui.classNames),(0,K.Z)(r.elClasses||[])),renderProps:h,generatorName:"eventContent",customGenerator:s.eventContent,defaultGenerator:r.defaultGenerator,classNameGenerator:s.eventClassNames,didMount:s.eventDidMount,willUnmount:s.eventWillUnmount}))}},{key:"componentDidUpdate",value:function(r){this.el&&this.props.seg!==r.seg&&cw(this.el,this.props.seg)}}]),t}(Cn),Wy=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.context,l=r.seg,c=l.eventRange.ui,h=uw(l,a.options.eventTimeFormat||r.defaultTimeFormat,a,r.defaultDisplayEventTime,r.defaultDisplayEventEnd);return ye(Gy,Object.assign({},r,{elTag:"a",elStyle:{borderColor:c.borderColor,backgroundColor:c.backgroundColor},elAttrs:pw(l,a),defaultGenerator:oE,timeText:h}),function(x,T){return ye(Mn,null,ye(x,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:T.textColor}}),Boolean(T.isStartResizable)&&ye("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(T.isEndResizable)&&ye("div",{className:"fc-event-resizer fc-event-resizer-end"}))})}}]),t}(Cn);function oE(n){return ye("div",{className:"fc-event-main-frame"},n.timeText&&ye("div",{className:"fc-event-time"},n.timeText),ye("div",{className:"fc-event-title-container"},ye("div",{className:"fc-event-title fc-sticky"},n.event.title||ye(Mn,null,"\xa0"))))}var Th=function(o){return ye(tc.Consumer,null,function(t){var i=t.options,r={isAxis:o.isAxis,date:t.dateEnv.toDate(o.date),view:t.viewApi};return ye(Ur,Object.assign({},o,{elTag:o.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:i.nowIndicatorContent,classNameGenerator:i.nowIndicatorClassNames,didMount:i.nowIndicatorDidMount,willUnmount:i.nowIndicatorWillUnmount}))})},aE=Bi({day:"numeric"}),Qy=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).refineRenderProps=Qd(sE),i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.context,s=a.options,l=this.refineRenderProps({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,isMonthStart:r.isMonthStart||!1,showDayNumber:r.showDayNumber,extraRenderProps:r.extraRenderProps,viewApi:a.viewApi,dateEnv:a.dateEnv,monthStartFormat:s.monthStartFormat});return ye(Ur,Object.assign({},r,{elClasses:[].concat((0,K.Z)(Rg(l,a.theme)),(0,K.Z)(r.elClasses||[])),elAttrs:Object.assign(Object.assign({},r.elAttrs),l.isDisabled?{}:{"data-date":n1(r.date)}),renderProps:l,generatorName:"dayCellContent",customGenerator:s.dayCellContent,defaultGenerator:r.defaultGenerator,classNameGenerator:l.isDisabled?void 0:s.dayCellClassNames,didMount:s.dayCellDidMount,willUnmount:s.dayCellWillUnmount}))}}]),t}(Cn);function zy(n){return Boolean(n.dayCellContent||qT("dayCellContent",n))}function sE(n){var o=n.date,t=n.dateEnv,r=n.isMonthStart,a=b1(o,n.todayRange,null,n.dateProfile),s=n.showDayNumber?t.format(o,r?n.monthStartFormat:aE):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(o),view:n.viewApi},a),{isMonthStart:r,dayNumberText:s}),n.extraRenderProps)}var Ky=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=r.seg;return ye(Gy,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:a.eventRange.ui.backgroundColor},defaultGenerator:lE,seg:a,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday,disableDragging:!0,disableResizing:!0})}}]),t}(Cn);function lE(n){return n.event.title&&ye("div",{className:"fc-event-title"},n.event.title)}function $y(n){return ye("div",{className:"fc-".concat(n)})}var zw=function(o){return ye(tc.Consumer,null,function(t){var i=t.dateEnv,r=t.options,a=o.date,s=r.weekNumberFormat||o.defaultFormat,l=i.computeWeekNumber(a),c=i.format(a,s);return ye(Ur,Object.assign({},o,{renderProps:{num:l,text:c,date:a},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:cE,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))})};function cE(n){return n.text}var dE=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).state={titleId:Sg()},i.handleRootEl=function(r){i.rootEl=r,i.props.elRef&&cl(i.props.elRef,r)},i.handleDocumentMouseDown=function(r){var a=fT(r);i.rootEl.contains(a)||i.handleCloseClick()},i.handleDocumentKeyDown=function(r){"Escape"===r.key&&i.handleCloseClick()},i.handleCloseClick=function(){var r=i.props.onClose;r&&r()},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.context,a=r.theme,s=r.options,l=this.props,c=this.state,u=["fc-popover",a.getClass("popover")].concat(l.extraClassNames||[]);return function Pe(n,o){var t=ye(me,{__v:n,i:o});return t.containerInfo=o,t}(ye("div",Object.assign({},l.extraAttrs,{id:l.id,className:u.join(" "),"aria-labelledby":c.titleId,ref:this.handleRootEl}),ye("div",{className:"fc-popover-header "+a.getClass("popoverHeader")},ye("span",{className:"fc-popover-title",id:c.titleId},l.title),ye("span",{className:"fc-popover-close "+a.getIconClass("close"),title:s.closeHint,onClick:this.handleCloseClick})),ye("div",{className:"fc-popover-body "+a.getClass("popoverContent")},l.children)),l.parentEl)}},{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}},{key:"updateSize",value:function(){var r=this.context.isRtl,a=this.props,s=a.alignmentEl,l=a.alignGridTop,c=this.rootEl,u=function VP(n){var r,o=Dw(n),t=n.getBoundingClientRect(),i=(0,te.Z)(o);try{for(i.s();!(r=i.n()).done;){var s=vw(t,r.value.getBoundingClientRect());if(!s)return null;t=s}}catch(l){i.e(l)}finally{i.f()}return t}(s);if(u){var h=c.getBoundingClientRect(),x=l?_o(s,".fc-scrollgrid").getBoundingClientRect().top:u.top,T=r?u.right-h.width:u.left;x=Math.max(x,10),T=Math.min(T,document.documentElement.clientWidth-10-h.width),T=Math.max(T,10);var O=c.offsetParent.getBoundingClientRect();fh(c,{top:x-O.top,left:T-O.left})}}}]),t}(Cn),uE=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).handleRootEl=function(r){i.rootEl=r,r?i.context.registerInteractiveComponent((0,yi.Z)(i),{el:r,useEventCenter:!1}):i.context.unregisterInteractiveComponent((0,yi.Z)(i))},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.context,a=r.options,l=this.props,c=l.startDate,u=l.todayRange,h=l.dateProfile,x=r.dateEnv.format(c,a.dayPopoverFormat);return ye(Qy,{elRef:this.handleRootEl,date:c,dateProfile:h,todayRange:u},function(T,O,U){return ye(dE,{elRef:U.ref,id:l.id,title:x,extraClassNames:["fc-more-popover"].concat(U.className||[]),extraAttrs:U,parentEl:l.parentEl,alignmentEl:l.alignmentEl,alignGridTop:l.alignGridTop,onClose:l.onClose},zy(a)&&ye(T,{elTag:"div",elClasses:["fc-more-popover-misc"]}),l.children)})}},{key:"queryHit",value:function(r,a,s,l){var c=this.rootEl,u=this.props;return r>=0&&r<s&&a>=0&&a<l?{dateProfile:u.dateProfile,dateSpan:Object.assign({allDay:!0,range:{start:u.startDate,end:u.endDate}},u.extraDateSpan),dayEl:c,rect:{left:0,top:0,right:s,bottom:l},layer:1}:null}}]),t}(fa),ex=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).state={isPopoverOpen:!1,popoverId:Sg()},i.handleLinkEl=function(r){i.linkEl=r,i.props.elRef&&cl(i.props.elRef,r)},i.handleClick=function(r){var a=(0,yi.Z)(i),s=a.props,l=a.context,c=l.options.moreLinkClick,u=Kw(s).start;function h(x){var T=x.eventRange,re=T.range;return{event:new cr(l,T.def,T.instance),start:l.dateEnv.toDate(re.start),end:l.dateEnv.toDate(re.end),isStart:x.isStart,isEnd:x.isEnd}}"function"==typeof c&&(c=c({date:u,allDay:Boolean(s.allDayDate),allSegs:s.allSegs.map(h),hiddenSegs:s.hiddenSegs.map(h),jsEvent:r,view:l.viewApi})),c&&"popover"!==c?"string"==typeof c&&l.calendarApi.zoomTo(u,c):i.setState({isPopoverOpen:!0})},i.handlePopoverClose=function(){i.setState({isPopoverOpen:!1})},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.state;return ye(tc.Consumer,null,function(l){var c=l.viewApi,u=l.options,h=l.calendarApi,x=u.moreLinkText,T=a.moreCnt,O=Kw(a),U="function"==typeof x?x.call(h,T):"+".concat(T," ").concat(x),re=kg(u.moreLinkHint,[T],U),de={num:T,shortText:"+".concat(T),text:U,view:c};return ye(Mn,null,Boolean(a.moreCnt)&&ye(Ur,{elTag:a.elTag||"a",elRef:r.handleLinkEl,elClasses:[].concat((0,K.Z)(a.elClasses||[]),["fc-more-link"]),elStyle:a.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},a.elAttrs),_T(r.handleClick)),{title:re,"aria-expanded":s.isPopoverOpen,"aria-controls":s.isPopoverOpen?s.popoverId:""}),renderProps:de,generatorName:"moreLinkContent",customGenerator:u.moreLinkContent,defaultGenerator:a.defaultGenerator||pE,classNameGenerator:u.moreLinkClassNames,didMount:u.moreLinkDidMount,willUnmount:u.moreLinkWillUnmount},a.children),s.isPopoverOpen&&ye(uE,{id:s.popoverId,startDate:O.start,endDate:O.end,dateProfile:a.dateProfile,todayRange:a.todayRange,extraDateSpan:a.extraDateSpan,parentEl:r.parentEl,alignmentEl:a.alignmentElRef?a.alignmentElRef.current:r.linkEl,alignGridTop:a.alignGridTop,onClose:r.handlePopoverClose},a.popoverContent()))})}},{key:"componentDidMount",value:function(){this.updateParentEl()}},{key:"componentDidUpdate",value:function(){this.updateParentEl()}},{key:"updateParentEl",value:function(){this.linkEl&&(this.parentEl=_o(this.linkEl,".fc-view-harness"))}}]),t}(Cn);function pE(n){return n.text}function Kw(n){if(n.allDayDate)return{start:n.allDayDate,end:vo(n.allDayDate,1)};var o=n.hiddenSegs;return{start:D1(o),end:hE(o)}}function D1(n){return n.reduce(fE).eventRange.range.start}function fE(n,o){return n.eventRange.range.start<o.eventRange.range.start?n:o}function hE(n){return n.reduce(mE).eventRange.range.end}function mE(n,o){return n.eventRange.range.end>o.eventRange.range.end?n:o}var _E=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).map=new Map,i}return(0,M.Z)(t,[{key:"handle",value:function(r){var a=this.map,s=!1;r.isActive?(a.set(r.id,r),s=!0):a.has(r.id)&&(a.delete(r.id),s=!0),s&&this.set(a)}}]),t}(function(){function n(){(0,I.Z)(this,n),this.handlers=[]}return(0,M.Z)(n,[{key:"set",value:function(t){this.currentValue=t;var r,i=(0,te.Z)(this.handlers);try{for(i.s();!(r=i.n()).done;)(0,r.value)(t)}catch(s){i.e(s)}finally{i.f()}}},{key:"subscribe",value:function(t){this.handlers.push(t),void 0!==this.currentValue&&t(this.currentValue)}}]),n}());uh(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-moz-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');var bE=[],$w={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Xw=Object.assign(Object.assign({},$w),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(o,t){return"day"===t?"Today":"This ".concat(o)}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(o){return"Show ".concat(o," more event").concat(1===o?"":"s")}});function eD(n){var a,o=n.length>0?n[0].code:"en",t=bE.concat(n),i={en:Xw},r=(0,te.Z)(t);try{for(r.s();!(a=r.n()).done;){var s=a.value;i[s.code]=s}}catch(l){r.e(l)}finally{r.f()}return{map:i,defaultCode:o}}function tx(n,o){return"object"!=typeof n||Array.isArray(n)?function yE(n,o){var t=[].concat(n||[]),i=function xE(n,o){for(var t=0;t<n.length;t+=1)for(var i=n[t].toLocaleLowerCase().split("-"),r=i.length;r>0;r-=1){var a=i.slice(0,r).join("-");if(o[a])return o[a]}return null}(t,o)||Xw;return tD(n,t,i)}(n,o):tD(n.code,[n.code],n)}function tD(n,o,t){var i=py([$w,t],["buttonText"]);delete i.code;var r=i.week;return delete i.week,{codeArg:n,codes:o,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function ha(n){return{id:ec(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function wE(n,o){return{premiumReleaseDate:DE(n.premiumReleaseDate,o.premiumReleaseDate),reducers:n.reducers.concat(o.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(o.isLoadingFuncs),contextInit:n.contextInit.concat(o.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),o.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(o.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),o.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(o.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(o.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(o.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(o.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(o.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(o.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),o.views),viewPropsTransformers:n.viewPropsTransformers.concat(o.viewPropsTransformers),isPropsValid:o.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(o.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(o.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(o.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(o.calendarInteractions),componentInteractions:n.componentInteractions.concat(o.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),o.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(o.eventSourceDefs),cmdFormatter:o.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(o.recurringTypes),namedTimeZonedImpl:o.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||o.initialView,elementDraggingImpl:n.elementDraggingImpl||o.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),o.optionChangeHandlers),scrollGridImpl:o.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),o.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),o.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),o.propSetHandlers)}}function DE(n,o){return void 0===n?o:void 0===o?n:new Date(Math.max(n.valueOf(),o.valueOf()))}var Kd=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t)}(Og);function nx(n,o,t,i){if(o[n])return o[n];var r=function kE(n,o,t,i){var r=t[n],a=i[n],s=function(x){return r&&null!==r[x]?r[x]:a&&null!==a[x]?a[x]:null},l=s("component"),c=s("superType"),u=null;if(c){if(c===n)throw new Error("Can't have a custom view type that references itself");u=nx(c,o,t,i)}return!l&&u&&(l=u.component),l?{type:n,component:l,defaults:Object.assign(Object.assign({},u?u.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}(n,o,t,i);return r&&(o[n]=r),r}function nD(n){return Qo(n,AE)}function AE(n){var o="function"==typeof n?{component:n}:n,t=o.component;return o.content&&(t=function ME(n){return function(o){return ye(tc.Consumer,null,function(t){return ye(Ur,{elTag:"div",elClasses:BT(t.viewSpec),renderProps:Object.assign(Object.assign({},o),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount})})}}(o)),{superType:o.type,component:t,rawOptions:o}}function OE(n,o,t,i){var r=nD(n),a=nD(o.views),s=function SE(n,o){var i,t={};for(i in n)nx(i,t,n,o);for(i in o)nx(i,t,n,o);return t}(r,a);return Qo(s,function(l){return function PE(n,o,t,i,r){var a=n.overrides.duration||n.defaults.duration||i.duration||t.duration,s=null,l="",c="",u={};if(a&&(s=function EE(n){var o=JSON.stringify(n),t=iD[o];return void 0===t&&(t=Wn(n),iD[o]=t),t}(a))){var h=Bd(s);l=h.unit,1===h.value&&(c=l,u=o[l]?o[l].rawOptions:{})}var x=function(U){var re=U.buttonText||{},de=n.defaults.buttonTextKey;return null!=de&&null!=re[de]?re[de]:null!=re[n.type]?re[n.type]:null!=re[c]?re[c]:null},T=function(U){var re=U.buttonHints||{},de=n.defaults.buttonTextKey;return null!=de&&null!=re[de]?re[de]:null!=re[n.type]?re[n.type]:null!=re[c]?re[c]:null};return{type:n.type,component:n.component,duration:s,durationUnit:l,singleUnit:c,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},u),n.overrides),buttonTextOverride:x(i)||x(t)||n.overrides.buttonText,buttonTextDefault:x(r)||n.defaults.buttonText||x(Mg)||n.type,buttonTitleOverride:T(i)||T(t)||n.overrides.buttonHint,buttonTitleDefault:T(r)||n.defaults.buttonHint||T(Mg)}}(l,a,o,t,i)})}Kd.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Kd.prototype.baseIconClass="fc-icon",Kd.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Kd.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Kd.prototype.iconOverrideOption="buttonIcons",Kd.prototype.iconOverrideCustomButtonOption="icon",Kd.prototype.iconOverridePrefix="fc-icon-";var iD={};function rD(n){for(var o in n)if(n[o].isFetching)return!0;return!1}function oD(n,o,t,i){var s,r={},a=(0,te.Z)(o);try{for(a.s();!(s=a.n()).done;){var l=s.value;r[l.sourceId]=l}}catch(c){a.e(c)}finally{a.f()}return t&&(r=aD(r,t,i)),Object.assign(Object.assign({},n),r)}function aD(n,o,t){return ix(n,td(n,function(i){return function jE(n,o,t){return lD(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||o.start<n.fetchRange.start||o.end>n.fetchRange.end:!n.latestFetchId}(i,o,t)}),o,!1,t)}function ix(n,o,t,i,r){var a={};for(var s in n){var l=n[s];a[s]=o[s]?YE(l,t,i,r):l}return a}function YE(n,o,t,i){var r=i.options,a=i.calendarApi,s=i.pluginHooks.eventSourceDefs[n.sourceDefId],l=ec();return s.fetch({eventSource:n,range:o,isRefetch:t,context:i},function(c){var u=c.rawEvents;r.eventSourceSuccess&&(u=r.eventSourceSuccess.call(a,u,c.response)||u),n.success&&(u=n.success.call(a,u,c.response)||u),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:l,fetchRange:o,rawEvents:u})},function(c){var u=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(a,c),u=!0),n.failure&&(n.failure(c),u=!0),u||console.warn(c.message,c),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:l,fetchRange:o,error:c})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:l})}function sD(n,o){return td(n,function(t){return lD(t,o)})}function lD(n,o){return!o.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function HE(n,o){switch(o.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return o.selection;default:return n}}function BE(n,o){switch(o.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return o.eventInstanceId;default:return n}}function VE(n,o){var t;switch(o.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(t=o.state).affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function GE(n,o){var t;switch(o.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(t=o.state).affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function WE(n,o,t,i,r){return{header:n.headerToolbar?cD(n.headerToolbar,n,o,t,i,r):null,footer:n.footerToolbar?cD(n.footerToolbar,n,o,t,i,r):null}}function cD(n,o,t,i,r,a){var s={},l=[],c=!1;for(var u in n){var x=QE(n[u],o,t,i,r,a);s[u]=x.widgets,l.push.apply(l,(0,K.Z)(x.viewsWithButtons)),c=c||x.hasTitle}return{sectionWidgets:s,viewsWithButtons:l,hasTitle:c}}function QE(n,o,t,i,r,a){var s="rtl"===o.direction,l=o.customButtons||{},c=t.buttonText||{},u=o.buttonText||{},h=t.buttonHints||{},x=o.buttonHints||{},T=n?n.split(" "):[],O=[],U=!1;return{widgets:T.map(function(de){return de.split(",").map(function(ve){if("title"===ve)return U=!0,{buttonName:ve};var Ne,De,Ge,We,gt,rt;if(Ne=l[ve])Ge=function(Bt){Ne.click&&Ne.click.call(Bt.target,Bt,Bt.target)},(We=i.getCustomButtonIconClass(Ne))||(We=i.getIconClass(ve,s))||(gt=Ne.text),rt=Ne.hint||Ne.text;else if(De=r[ve]){O.push(ve),Ge=function(){a.changeView(ve)},(gt=De.buttonTextOverride)||(We=i.getIconClass(ve,s))||(gt=De.buttonTextDefault);var vt=De.buttonTextOverride||De.buttonTextDefault;rt=kg(De.buttonTitleOverride||De.buttonTitleDefault||o.viewHint,[vt,ve],vt)}else if(a[ve])if(Ge=function(){a[ve]()},(gt=c[ve])||(We=i.getIconClass(ve,s))||(gt=u[ve]),"prevYear"===ve||"nextYear"===ve){var Zt="prevYear"===ve?"prev":"next";rt=kg(h[Zt]||x[Zt],[u.year||"year","year"],u[ve])}else rt=function(Bt){return kg(h[ve]||x[ve],[u[Bt]||Bt,Bt],u[ve])};return{buttonName:ve,buttonClick:Ge,buttonIcon:We,buttonText:gt,buttonHint:rt}})}),viewsWithButtons:O,hasTitle:U}}var zE=function(){function n(o,t,i){(0,I.Z)(this,n),this.type=o,this.getCurrentData=t,this.dateEnv=i}return(0,M.Z)(n,[{key:"calendar",get:function(){return this.getCurrentData().calendarApi}},{key:"title",get:function(){return this.getCurrentData().viewTitle}},{key:"activeStart",get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}},{key:"activeEnd",get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}},{key:"currentStart",get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}},{key:"currentEnd",get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}},{key:"getOption",value:function(t){return this.getCurrentData().options[t]}}]),n}();function dD(n,o){var t=fy(o.getCurrentData().eventSources);if(1===t.length&&1===n.length&&Array.isArray(t[0]._raw)&&Array.isArray(n[0]))o.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});else{var a,i=[],r=(0,te.Z)(n);try{for(r.s();!(a=r.n()).done;){for(var s=a.value,l=!1,c=0;c<t.length;c+=1)if(t[c]._raw===s){t.splice(c,1),l=!0;break}l||i.push(s)}}catch(re){r.e(re)}finally{r.f()}var h,u=(0,te.Z)(t);try{for(u.s();!(h=u.n()).done;)o.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:h.value.sourceId})}catch(re){u.e(re)}finally{u.f()}for(var T=0,O=i;T<O.length;T++)o.calendarApi.addEventSource(O[T])}}var f6=[ha({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:function(o){return Array.isArray(o.events)?o.events:null},fetch:function(o,t){t({rawEvents:o.eventSource.meta})}}]}),ha({name:"func-event-source",eventSourceDefs:[{parseMeta:function(o){return"function"==typeof o.events?o.events:null},fetch:function(o,t,i){mw(o.eventSource.meta.bind(null,fw(o.range,o.context.dateEnv)),function(s){return t({rawEvents:s})},i)}}]}),ha({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:at,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(o){return!o.url||"json"!==o.format&&o.format?null:{url:o.url,format:"json",method:(o.method||"GET").toUpperCase(),extraParams:o.extraParams,startParam:o.startParam,endParam:o.endParam,timeZoneParam:o.timeZoneParam}},fetch:function(o,t,i){var r=o.eventSource.meta,a=function o6(n,o,t){var a,s,l,c,i=t.dateEnv,r=t.options,u={};return null==(a=n.startParam)&&(a=r.startParam),null==(s=n.endParam)&&(s=r.endParam),null==(l=n.timeZoneParam)&&(l=r.timeZoneParam),c="function"==typeof n.extraParams?n.extraParams():n.extraParams||{},Object.assign(u,c),u[a]=i.formatIso(o.start),u[s]=i.formatIso(o.end),"local"!==i.timeZone&&(u[l]=i.timeZone),u}(r,o.range,o.context);_w(r.method,r.url,a).then(function(s){var l=(0,ee.Z)(s,2);t({rawEvents:l[0],response:l[1]})},i)}}]}),ha({name:"simple-recurring-event",recurringTypes:[{parse:function(o,t){if(o.daysOfWeek||o.startTime||o.endTime||o.startRecur||o.endRecur){var r,i={daysOfWeek:o.daysOfWeek||null,startTime:o.startTime||null,endTime:o.endTime||null,startRecur:o.startRecur?t.createMarker(o.startRecur):null,endRecur:o.endRecur?t.createMarker(o.endRecur):null};return o.duration&&(r=o.duration),!r&&o.startTime&&o.endTime&&(r=function WM(n,o){return{years:n.years-o.years,months:n.months-o.months,days:n.days-o.days,milliseconds:n.milliseconds-o.milliseconds}}(o.endTime,o.startTime)),{allDayGuess:Boolean(!o.startTime&&!o.endTime),duration:r,typeData:i}}return null},expand:function(o,t,i){var r=nd(t,{start:o.startRecur,end:o.endRecur});return r?function c6(n,o,t,i){for(var r=n?ZT(n):null,a=Yi(t.start),s=t.end,l=[];a<s;){var c=void 0;(!r||r[a.getUTCDay()])&&(c=o?i.add(a,o):a,l.push(c)),a=vo(a,1)}return l}(o.daysOfWeek,o.startTime,r,i):[]}}],eventRefiners:{daysOfWeek:at,startTime:Wn,endTime:Wn,duration:Wn,startRecur:at,endRecur:at}}),ha({name:"change-handler",optionChangeHandlers:{events:function(o,t){dD([o],t)},eventSources:dD}}),ha({name:"misc",isLoadingFuncs:[function(n){return rD(n.eventSources)}],propSetHandlers:{dateProfile:function u6(n,o){o.emitter.trigger("datesSet",Object.assign(Object.assign({},fw(n.activeRange,o.dateEnv)),{view:o.viewApi}))},eventStore:function p6(n,o){var t=o.emitter;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",up(n,o))}}})],h6=function(){function n(o,t){(0,I.Z)(this,n),this.runTaskOption=o,this.drainedOption=t,this.queue=[],this.delayedRunner=new Dg(this.drain.bind(this))}return(0,M.Z)(n,[{key:"request",value:function(t,i){this.queue.push(t),this.delayedRunner.request(i)}},{key:"pause",value:function(t){this.delayedRunner.pause(t)}},{key:"resume",value:function(t,i){this.delayedRunner.resume(t,i)}},{key:"drain",value:function(){for(var t=this.queue;t.length;){for(var i=[],r=void 0;r=t.shift();)this.runTask(r),i.push(r);this.drained(i)}}},{key:"runTask",value:function(t){this.runTaskOption&&this.runTaskOption(t)}},{key:"drained",value:function(t){this.drainedOption&&this.drainedOption(t)}}]),n}();function m6(n,o,t){var i;return i=/^(year|month)$/.test(n.currentRangeUnit)?n.currentRange:n.activeRange,t.formatRange(i.start,i.end,Bi(o.titleFormat||function g6(n){var o=n.currentRangeUnit;if("year"===o)return{year:"numeric"};if("month"===o)return{year:"numeric",month:"long"};var t=Ag(n.currentRange.start,n.currentRange.end);return null!==t&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:o.titleRangeSeparator})}var _6=function(){function n(o){var t=this;(0,I.Z)(this,n),this.computeCurrentViewData=tn(this._computeCurrentViewData),this.organizeRawLocales=tn(eD),this.buildLocale=tn(tx),this.buildPluginHooks=function TE(){var t,n=[],o=[];return function(i,r){return(!t||!Ka(i,n)||!Ka(r,o))&&(t=function CE(n,o){var t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(a){var l,s=(0,te.Z)(a);try{for(s.s();!(l=s.n()).done;){var c=l.value,u=c.name,h=t[u];void 0===h?(t[u]=c.id,r(c.deps),i=wE(i,c)):h!==c.id&&console.warn("Duplicate plugin '".concat(u,"'"))}}catch(x){s.e(x)}finally{s.f()}}return n&&r(n),r(o),i}(i,r)),n=i,o=r,t}}(),this.buildDateEnv=tn(v6),this.buildTheme=tn(b6),this.parseToolbars=tn(WE),this.buildViewSpecs=tn(OE),this.buildDateProfileGenerator=Qd(y6),this.buildViewApi=tn(x6),this.buildViewUiProps=Qd(w6),this.buildEventUiBySource=tn(C6,Eo),this.buildEventUiBases=tn(T6),this.parseContextBusinessHours=Qd(D6),this.buildTitle=tn(m6),this.emitter=new Ng,this.actionRunner=new h6(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=function(){return t.data},this.dispatch=function(De){t.actionRunner.request(De)},this.props=o,this.actionRunner.pause();var i={},r=this.computeOptionsData(o.optionOverrides,i,o.calendarApi),a=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(a,r,o.optionOverrides,i);o.calendarApi.currentDataManager=this,this.emitter.setThisContext(o.calendarApi),this.emitter.setOptions(s.options);var l=function WO(n,o){var t=n.initialDate;return null!=t?o.createMarker(t):Pg(n.now,o)}(r.calendarOptions,r.dateEnv),c=s.dateProfileGenerator.build(l);nc(c.activeRange,l)||(l=c.currentRange.start);var x,u={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},h=(0,te.Z)(r.pluginHooks.contextInit);try{for(h.s();!(x=h.n()).done;)(0,x.value)(u)}catch(De){h.e(De)}finally{h.f()}var ve,O=function FE(n,o,t){var i=o?o.activeRange:null;return oD({},function JE(n,o){var t=ew(o),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);var s,a=(0,te.Z)(i);try{for(a.s();!(s=a.n()).done;){var c=XT(s.value,o,t);c&&r.push(c)}}catch(u){a.e(u)}finally{a.f()}return r}(n,t),i,t)}(r.calendarOptions,c,u),U={dynamicOptionOverrides:i,currentViewType:a,currentDate:l,dateProfile:c,businessHours:this.parseContextBusinessHours(u),eventSources:O,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(u).selectionConfig},re=Object.assign(Object.assign({},u),U),de=(0,te.Z)(r.pluginHooks.reducers);try{for(de.s();!(ve=de.n()).done;)Object.assign(U,(0,ve.value)(null,null,re))}catch(De){de.e(De)}finally{de.f()}rx(U,u)&&this.emitter.trigger("loading",!0),this.state=U,this.updateData(),this.actionRunner.resume()}return(0,M.Z)(n,[{key:"resetOptions",value:function(t,i){var a,r=this.props;void 0===i?r.optionOverrides=t:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),t),(a=this.optionsForRefining).push.apply(a,(0,K.Z)(i))),(void 0===i||i.length)&&this.actionRunner.request({type:"NOTHING"})}},{key:"_handleAction",value:function(t){var i=this.props,r=this.state,a=this.emitter,s=function NE(n,o){return"SET_OPTION"===o.type?Object.assign(Object.assign({},n),(0,B.Z)({},o.optionName,o.rawOptionValue)):n}(r.dynamicOptionOverrides,t),l=this.computeOptionsData(i.optionOverrides,s,i.calendarApi),c=function IE(n,o){return"CHANGE_VIEW_TYPE"===o.type&&(n=o.viewType),n}(r.currentViewType,t),u=this.computeCurrentViewData(c,l,i.optionOverrides,s);i.calendarApi.currentDataManager=this,a.setThisContext(i.calendarApi),a.setOptions(u.options);var h={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},x=r.currentDate,T=r.dateProfile;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(T=u.dateProfileGenerator.build(x)),x=function GO(n,o){return"CHANGE_DATE"===o.type?o.dateMarker:n}(x,t),T=function RE(n,o,t,i){var r;switch(o.type){case"CHANGE_VIEW_TYPE":return i.build(o.dateMarker||t);case"CHANGE_DATE":return i.build(o.dateMarker);case"PREV":if((r=i.buildPrev(n,t)).isValid)return r;break;case"NEXT":if((r=i.buildNext(n,t)).isValid)return r}return n}(T,t,x,u.dateProfileGenerator),("PREV"===t.type||"NEXT"===t.type||!nc(T.currentRange,x))&&(x=T.currentRange.start);var Zt,O=function ZE(n,o,t,i){var r=t?t.activeRange:null;switch(o.type){case"ADD_EVENT_SOURCES":return oD(n,o.sources,r,i);case"REMOVE_EVENT_SOURCE":return function UE(n,o){return td(n,function(t){return t.sourceId!==o})}(n,o.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?aD(n,r,i):n;case"FETCH_EVENT_SOURCES":return ix(n,o.sourceIds?ZT(o.sourceIds):sD(n,i),r,o.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function qE(n,o,t,i){var r=n[o];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),(0,B.Z)({},o,Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i}))):n}(n,o.sourceId,o.fetchId,o.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}(r.eventSources,t,T,h),U=function sP(n,o,t,i,r){switch(o.type){case"RECEIVE_EVENTS":return function lP(n,o,t,i,r,a){if(o&&t===o.latestFetchId){var s=Eg(tw(r,o,a),o,a);return i&&(s=dp(s,i,a)),m1(iw(n,o.sourceId),s)}return n}(n,t[o.sourceId],o.fetchId,o.fetchRange,o.rawEvents,r);case"RESET_RAW_EVENTS":return function cP(n,o,t,i){var r=function fP(n){var o=n.defs,t=n.instances,i={},r={};for(var a in o){var l=o[a].publicId;l&&(i[l]=a)}for(var c in t){var x=o[t[c].defId].publicId;x&&(r[x]=c)}return{defIdMap:i,instanceIdMap:r}}(n),a=r.defIdMap,s=r.instanceIdMap,l=Eg(tw(t,o,i),o,i,!1,a,s);return o.fetchRange&&(l=dp(l,o.fetchRange,i)),l}(n,t[o.sourceId],o.rawEvents,r);case"ADD_EVENTS":return function dP(n,o,t,i){return t&&(o=dp(o,t,i)),m1(n,o)}(n,o.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return o.eventStore;case"MERGE_EVENTS":return m1(n,o.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?dp(n,i.activeRange,r):n;case"REMOVE_EVENTS":return function tP(n,o){var t=n.defs,i=n.instances,r={},a={};for(var s in t)o.defs[s]||(r[s]=t[s]);for(var l in i)!o.instances[l]&&r[i[l].defId]&&(a[l]=i[l]);return{defs:r,instances:a}}(n,o.eventStore);case"REMOVE_EVENT_SOURCE":return iw(n,o.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return g1(n,function(a){return!a.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return n}}(r.eventStore,t,O,T,h),de=rD(O)&&!u.options.progressiveEventRendering&&r.renderableEventStore||U,ve=this.buildViewUiProps(h),Ne=ve.eventUiSingleBase,De=ve.selectionConfig,Ge=this.buildEventUiBySource(O),gt={dynamicOptionOverrides:s,currentViewType:c,currentDate:x,dateProfile:T,eventSources:O,eventStore:U,renderableEventStore:de,selectionConfig:De,eventUiBases:this.buildEventUiBases(de.defs,Ne,Ge),businessHours:this.parseContextBusinessHours(h),dateSelection:HE(r.dateSelection,t),eventSelection:BE(r.eventSelection,t),eventDrag:VE(r.eventDrag,t),eventResize:GE(r.eventResize,t)},rt=Object.assign(Object.assign({},h),gt),vt=(0,te.Z)(l.pluginHooks.reducers);try{for(vt.s();!(Zt=vt.n()).done;)Object.assign(gt,(0,Zt.value)(r,t,rt))}catch(Pn){vt.e(Pn)}finally{vt.f()}var Bt=rx(r,h),ln=rx(gt,h);!Bt&&ln?a.trigger("loading",!0):Bt&&!ln&&a.trigger("loading",!1),this.state=gt,i.onAction&&i.onAction(t)}},{key:"updateData",value:function(){var t=this.props,i=this.state,r=this.data,a=this.computeOptionsData(t.optionOverrides,i.dynamicOptionOverrides,t.calendarApi),s=this.computeCurrentViewData(i.currentViewType,a,t.optionOverrides,i.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(i.dateProfile,s.options,a.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),s),i),c=a.pluginHooks.optionChangeHandlers,u=r&&r.calendarOptions,h=a.calendarOptions;if(u&&u!==h)for(var x in u.timeZone!==h.timeZone&&(i.eventSources=l.eventSources=function LE(n,o,t){var i=o?o.activeRange:null;return ix(n,sD(n,t),i,!0,t)}(l.eventSources,i.dateProfile,l),i.eventStore=l.eventStore=function uP(n,o,t){var i=n.defs,r=Qo(n.instances,function(a){var s=i[a.defId];return s.allDay||s.recurringDef?a:Object.assign(Object.assign({},a),{range:{start:t.createMarker(o.toDate(a.range.start,a.forcedStartTzo)),end:t.createMarker(o.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:a.forcedEndTzo})});return{defs:i,instances:r}}(l.eventStore,r.dateEnv,l.dateEnv)),c)(-1!==this.optionsForHandling.indexOf(x)||u[x]!==h[x])&&c[x](h[x],l);this.optionsForHandling=[],t.onData&&t.onData(l)}},{key:"computeOptionsData",value:function(t,i,r){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&i===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;var a=this.processRawCalendarOptions(t,i),s=a.refinedOptions,l=a.pluginHooks,c=a.localeDefaults,u=a.availableLocaleData;uD(a.extra);var x=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,l,u,s.defaultRangeSeparator),T=this.buildViewSpecs(l.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,c),O=this.buildTheme(s,l),U=this.parseToolbars(s,this.stableOptionOverrides,O,T,r);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:l,dateEnv:x,viewSpecs:T,theme:O,toolbarConfig:U,localeDefaults:c,availableRawLocales:u.map}}},{key:"processRawCalendarOptions",value:function(t,i){var r,a=uy([Mg,t,i]),l=a.locale,c=this.organizeRawLocales(a.locales),h=this.buildLocale(l||c.defaultCode,c.map).options,x=this.buildPluginHooks(t.plugins||[],f6),T=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NT),RT),FT),x.listenerRefiners),x.optionRefiners),O={},U=uy([Mg,h,t,i]),re={},de=this.currentCalendarOptionsInput,ve=this.currentCalendarOptionsRefined,Ne=!1;for(var De in U)-1===this.optionsForRefining.indexOf(De)&&(U[De]===de[De]||sp[De]&&De in de&&sp[De](de[De],U[De]))?re[De]=ve[De]:T[De]?(re[De]=T[De](U[De]),Ne=!0):O[De]=de[De];return Ne&&(this.currentCalendarOptionsInput=U,this.currentCalendarOptionsRefined=re,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=i),(r=this.optionsForHandling).push.apply(r,(0,K.Z)(this.optionsForRefining)),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:x,availableLocaleData:c,localeDefaults:h,extra:O}}},{key:"_computeCurrentViewData",value:function(t,i,r,a){var s=i.viewSpecs[t];if(!s)throw new Error('viewType "'.concat(t,"\" is not available. Please make sure you've loaded all neccessary plugins"));var l=this.processRawViewOptions(s,i.pluginHooks,i.localeDefaults,r,a),c=l.refinedOptions;return uD(l.extra),{viewSpec:s,options:c,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:i.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,showNonCurrentDates:c.showNonCurrentDates,dayCount:c.dayCount,dateAlignment:c.dateAlignment,dateIncrement:c.dateIncrement,hiddenDays:c.hiddenDays,weekends:c.weekends,nowInput:c.now,validRangeInput:c.validRange,visibleRangeInput:c.visibleRange,fixedWeekCount:c.fixedWeekCount}),viewApi:this.buildViewApi(t,this.getCurrentData,i.dateEnv)}}},{key:"processRawViewOptions",value:function(t,i,r,a,s){var l=uy([Mg,t.optionDefaults,r,a,t.optionOverrides,s]),c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NT),RT),FT),SO),i.listenerRefiners),i.optionRefiners),u={},h=this.currentViewOptionsInput,x=this.currentViewOptionsRefined,T=!1,O={};for(var U in l)l[U]===h[U]||sp[U]&&sp[U](l[U],h[U])?u[U]=x[U]:(l[U]===this.currentCalendarOptionsInput[U]||sp[U]&&sp[U](l[U],this.currentCalendarOptionsInput[U])?U in this.currentCalendarOptionsRefined&&(u[U]=this.currentCalendarOptionsRefined[U]):c[U]?u[U]=c[U](l[U]):O[U]=l[U],T=!0);return T&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:O}}}]),n}();function v6(n,o,t,i,r,a,s,l){var c=tx(o||s.defaultCode,s.map);return new RO({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:c,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:a.cmdFormatter,defaultSeparator:l})}function b6(n,o){return new(o.themeClasses[n.themeSystem]||Kd)(n)}function y6(n){return new(n.dateProfileGeneratorClass||QT)(n)}function x6(n,o,t){return new zE(n,o,t)}function C6(n){return Qo(n,function(o){return o.ui})}function T6(n,o,t){var i={"":o};for(var r in n){var a=n[r];a.sourceId&&t[a.sourceId]&&(i[r]=t[a.sourceId])}return i}function w6(n){var o=n.options;return{eventUiSingleBase:Ig({display:o.eventDisplay,editable:o.editable,startEditable:o.eventStartEditable,durationEditable:o.eventDurationEditable,constraint:o.eventConstraint,overlap:"boolean"==typeof o.eventOverlap?o.eventOverlap:void 0,allow:o.eventAllow,backgroundColor:o.eventBackgroundColor,borderColor:o.eventBorderColor,textColor:o.eventTextColor,color:o.eventColor},n),selectionConfig:Ig({constraint:o.selectConstraint,overlap:"boolean"==typeof o.selectOverlap?o.selectOverlap:void 0,allow:o.selectAllow},n)}}function rx(n,o){var i,t=(0,te.Z)(o.pluginHooks.isLoadingFuncs);try{for(t.s();!(i=t.n()).done;)if((0,i.value)(n))return!0}catch(a){t.e(a)}finally{t.f()}return!1}function D6(n){return rw(n.options.businessHours,n)}function uD(n,o){for(var t in n)console.warn("Unknown option '".concat(t,"'")+(o?" for view '".concat(o,"'"):""))}var S6=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props.widgetGroups.map(function(s){return r.renderWidgetGroup(s)});return ye.apply(void 0,["div",{className:"fc-toolbar-chunk"}].concat((0,K.Z)(a)))}},{key:"renderWidgetGroup",value:function(r){var h,a=this.props,s=this.context.theme,l=[],c=!0,u=(0,te.Z)(r);try{for(u.s();!(h=u.n()).done;){var x=h.value,T=x.buttonName,O=x.buttonClick,U=x.buttonText,re=x.buttonIcon,de=x.buttonHint;if("title"===T)c=!1,l.push(ye("h2",{className:"fc-toolbar-title",id:a.titleId},a.title));else{var ve=T===a.activeButton,Ne=!a.isTodayEnabled&&"today"===T||!a.isPrevEnabled&&"prev"===T||!a.isNextEnabled&&"next"===T,De=["fc-".concat(T,"-button"),s.getClass("button")];ve&&De.push(s.getClass("buttonActive")),l.push(ye("button",{type:"button",title:"function"==typeof de?de(a.navUnit):de,disabled:Ne,"aria-pressed":ve,className:De.join(" "),onClick:O},U||(re?ye("span",{className:re}):"")))}}}catch(We){u.e(We)}finally{u.f()}if(l.length>1){var Ge=c&&s.getClass("buttonGroup")||"";return ye.apply(void 0,["div",{className:Ge}].concat(l))}return l[0]}}]),t}(Cn),pD=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var c,u,r=this.props,l=!1,h=r.model.sectionWidgets,x=h.center;return h.left?(l=!0,c=h.left):c=h.start,h.right?(l=!0,u=h.right):u=h.end,ye("div",{className:[r.extraClassName||"","fc-toolbar",l?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",c||[]),this.renderSection("center",x||[]),this.renderSection("end",u||[]))}},{key:"renderSection",value:function(r,a){var s=this.props;return ye(S6,{key:r,widgetGroups:a,title:s.title,navUnit:s.navUnit,activeButton:s.activeButton,isTodayEnabled:s.isTodayEnabled,isPrevEnabled:s.isPrevEnabled,isNextEnabled:s.isNextEnabled,titleId:s.titleId})}}]),t}(Cn),k6=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).state={availableWidth:null},i.handleEl=function(r){i.el=r,cl(i.props.elRef,r),i.updateAvailableWidth()},i.handleResize=function(){i.updateAvailableWidth()},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.state,s=r.aspectRatio,l=["fc-view-harness",s||r.liquid||r.height?"fc-view-harness-active":"fc-view-harness-passive"],c="",u="";return s?null!==a.availableWidth?c=a.availableWidth/s:u="".concat(1/s*100,"%"):c=r.height||"",ye("div",{"aria-labelledby":r.labeledById,ref:this.handleEl,className:l.join(" "),style:{height:c,paddingBottom:u}},r.children)}},{key:"componentDidMount",value:function(){this.context.addResizeHandler(this.handleResize)}},{key:"componentWillUnmount",value:function(){this.context.removeResizeHandler(this.handleResize)}},{key:"updateAvailableWidth",value:function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}]),t}(Cn),A6=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i){var r;return(0,I.Z)(this,t),(r=o.call(this,i)).handleSegClick=function(a,s){var c=(0,yi.Z)(r).component,u=c.context,h=vh(s);if(h&&c.isValidSegDownEl(a.target)){var x=_o(a.target,".fc-event-forced-url"),T=x?x.querySelector("a[href]").href:"";u.emitter.trigger("eventClick",{el:s,event:new cr(c.context,h.eventRange.def,h.eventRange.instance),jsEvent:a,view:u.viewApi}),T&&!a.defaultPrevented&&(window.location.href=T)}},r.destroy=mT(i.el,"click",".fc-event",r.handleSegClick),r}return(0,M.Z)(t)}(bh),M6=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i){var r;return(0,I.Z)(this,t),(r=o.call(this,i)).handleEventElRemove=function(a){a===r.currentSegEl&&r.handleSegLeave(null,r.currentSegEl)},r.handleSegEnter=function(a,s){vh(s)&&(r.currentSegEl=s,r.triggerEvent("eventMouseEnter",a,s))},r.handleSegLeave=function(a,s){r.currentSegEl&&(r.currentSegEl=null,r.triggerEvent("eventMouseLeave",a,s))},r.removeHoverListeners=function FM(n,o,t,i){var r;return mT(n,"mouseover",o,function(a,s){s!==r&&(r=s,t(a,s),s.addEventListener("mouseleave",function c(u){r=null,i(u,s),s.removeEventListener("mouseleave",c)}))})}(i.el,".fc-event",r.handleSegEnter,r.handleSegLeave),r}return(0,M.Z)(t,[{key:"destroy",value:function(){this.removeHoverListeners()}},{key:"triggerEvent",value:function(r,a,s){var l=this.component,c=l.context,u=vh(s);(!a||l.isValidSegDownEl(a.target))&&c.emitter.trigger(r,{el:s,event:new cr(c,u.eventRange.def,u.eventRange.instance),jsEvent:a,view:c.viewApi})}}]),t}(bh),O6=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).buildViewContext=tn(LO),i.buildViewPropTransformers=tn(E6),i.buildToolbarProps=tn(P6),i.headerRef={current:null},i.footerRef={current:null},i.interactionsStore={},i.state={viewLabelId:Sg()},i.registerInteractiveComponent=function(r,a){var s=FP(r,a),u=[A6,M6].concat(i.props.pluginHooks.componentInteractions).map(function(h){return new h(s)});i.interactionsStore[r.uid]=u,Oy[r.uid]=s},i.unregisterInteractiveComponent=function(r){var a=i.interactionsStore[r.uid];if(a){var l,s=(0,te.Z)(a);try{for(s.s();!(l=s.n()).done;)l.value.destroy()}catch(u){s.e(u)}finally{s.f()}delete i.interactionsStore[r.uid]}delete Oy[r.uid]},i.resizeRunner=new Dg(function(){i.props.emitter.trigger("_resize",!0),i.props.emitter.trigger("windowResize",{view:i.props.viewApi})}),i.handleWindowResize=function(r){var a=i.props.options;a.handleWindowResize&&r.target===window&&i.resizeRunner.request(a.windowResizeDelay)},i}return(0,M.Z)(t,[{key:"render",value:function(){var h,r=this.props,a=r.toolbarConfig,s=r.options,l=this.buildToolbarProps(r.viewSpec,r.dateProfile,r.dateProfileGenerator,r.currentDate,Pg(r.options.now,r.dateEnv),r.viewTitle),c=!1,u="";r.isHeightAuto||r.forPrint?u="":null!=s.height?c=!0:null!=s.contentHeight?u=s.contentHeight:h=Math.max(s.aspectRatio,.5);var x=this.buildViewContext(r.viewSpec,r.viewApi,r.options,r.dateProfileGenerator,r.dateEnv,r.theme,r.pluginHooks,r.dispatch,r.getCurrentData,r.emitter,r.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),T=a.header&&a.header.hasTitle?this.state.viewLabelId:"";return ye(tc.Provider,{value:x},a.header&&ye(pD,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:a.header,titleId:T},l)),ye(k6,{liquid:c,height:u,aspectRatio:h,labeledById:T},this.renderView(r),this.buildAppendContent()),a.footer&&ye(pD,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:a.footer,titleId:""},l)))}},{key:"componentDidMount",value:function(){var r=this.props;this.calendarInteractions=r.pluginHooks.calendarInteractions.map(function(l){return new l(r)}),window.addEventListener("resize",this.handleWindowResize);var a=r.pluginHooks.propSetHandlers;for(var s in a)a[s](r[s],r)}},{key:"componentDidUpdate",value:function(r){var a=this.props,s=a.pluginHooks.propSetHandlers;for(var l in s)a[l]!==r[l]&&s[l](a[l],a)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();var a,r=(0,te.Z)(this.calendarInteractions);try{for(r.s();!(a=r.n()).done;)a.value.destroy()}catch(l){r.e(l)}finally{r.f()}this.props.emitter.trigger("_unmount")}},{key:"buildAppendContent",value:function(){var r=this.props,a=r.pluginHooks.viewContainerAppends.map(function(s){return s(r)});return ye.apply(void 0,[Mn,{}].concat((0,K.Z)(a)))}},{key:"renderView",value:function(r){var h,s=r.viewSpec,l={dateProfile:r.dateProfile,businessHours:r.businessHours,eventStore:r.renderableEventStore,eventUiBases:r.eventUiBases,dateSelection:r.dateSelection,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,isHeightAuto:r.isHeightAuto,forPrint:r.forPrint},c=this.buildViewPropTransformers(r.pluginHooks.viewPropsTransformers),u=(0,te.Z)(c);try{for(u.s();!(h=u.n()).done;)Object.assign(l,h.value.transform(l,r))}catch(O){u.e(O)}finally{u.f()}return ye(s.component,Object.assign({},l))}}]),t}(d1);function P6(n,o,t,i,r,a){var s=t.build(r,void 0,!1),l=t.buildPrev(o,i,!1),c=t.buildNext(o,i,!1);return{title:a,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:s.isValid&&!nc(o.currentRange,r),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function E6(n){return n.map(function(o){return new o})}var ox=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,I.Z)(this,t),(r=o.call(this)).isRendering=!1,r.isRendered=!1,r.currentClassNames=[],r.customContentRenderId=0,r.handleAction=function(s){switch(s.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":r.renderRunner.tryDrain()}},r.handleData=function(s){r.currentData=s,r.renderRunner.request(s.calendarOptions.rerenderDelay)},r.handleRenderRequest=function(){if(r.isRendering){r.isRendered=!0;var l=(0,yi.Z)(r).currentData;jT(function(){Kl(ye(RP,{options:l.calendarOptions,theme:l.theme,emitter:l.emitter},function(c,u,h,x){return r.setClassNames(c),r.setHeight(u),ye(HT.Provider,{value:r.customContentRenderId},ye(O6,Object.assign({isHeightAuto:h,forPrint:x},l)))}),r.el)})}else r.isRendered&&(r.isRendered=!1,Kl(null,r.el),r.setClassNames([]),r.setHeight(""))},OM(i),r.el=i,r.renderRunner=new Dg(r.handleRenderRequest),new _6({optionOverrides:a,calendarApi:(0,yi.Z)(r),onAction:r.handleAction,onData:r.handleData}),r}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.isRendering;r?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),r&&this.updateSize()}},{key:"destroy",value:function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}},{key:"updateSize",value:function(){var r=this;jT(function(){(0,xs.Z)((0,Qa.Z)(t.prototype),"updateSize",r).call(r)})}},{key:"batchRendering",value:function(r){this.renderRunner.pause("batchRendering"),r(),this.renderRunner.resume("batchRendering")}},{key:"pauseRendering",value:function(){this.renderRunner.pause("pauseRendering")}},{key:"resumeRendering",value:function(){this.renderRunner.resume("pauseRendering",!0)}},{key:"resetOptions",value:function(r,a){this.currentDataManager.resetOptions(r,a)}},{key:"setClassNames",value:function(r){if(!Ka(r,this.currentClassNames)){var l,a=this.el.classList,s=(0,te.Z)(this.currentClassNames);try{for(s.s();!(l=s.n()).done;)a.remove(l.value)}catch(T){s.e(T)}finally{s.f()}var h,u=(0,te.Z)(r);try{for(u.s();!(h=u.n()).done;)a.add(h.value)}catch(T){u.e(T)}finally{u.f()}this.currentClassNames=r}}},{key:"setHeight",value:function(r){pT(this.el,"height",r)}}]),t}(yh);ic.touchMouseIgnoreWait=500;var ax=0,S1=0,sx=!1,lx=function(){function n(o){var t=this;(0,I.Z)(this,n),this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(i){if(!t.shouldIgnoreMouse()&&function I6(n){return 0===n.button&&!n.ctrlKey}(i)&&t.tryStart(i)){var r=t.createEventFromMouse(i,!0);t.emitter.trigger("pointerdown",r),t.initScrollWatch(r),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(i){var r=t.createEventFromMouse(i);t.recordCoords(r),t.emitter.trigger("pointermove",r)},this.handleMouseUp=function(i){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(i)),t.cleanup()},this.handleTouchStart=function(i){if(t.tryStart(i)){t.isTouchDragging=!0;var r=t.createEventFromTouch(i,!0);t.emitter.trigger("pointerdown",r),t.initScrollWatch(r);var a=i.target;t.shouldIgnoreMove||a.addEventListener("touchmove",t.handleTouchMove),a.addEventListener("touchend",t.handleTouchEnd),a.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(i){var r=t.createEventFromTouch(i);t.recordCoords(r),t.emitter.trigger("pointermove",r)},this.handleTouchEnd=function(i){if(t.isDragging){var r=i.target;r.removeEventListener("touchmove",t.handleTouchMove),r.removeEventListener("touchend",t.handleTouchEnd),r.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(i)),t.cleanup(),t.isTouchDragging=!1,function N6(){ax+=1,setTimeout(function(){ax-=1},ic.touchMouseIgnoreWait)}()}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(i){if(!t.shouldIgnoreMove){var r=window.pageXOffset-t.prevScrollX+t.prevPageX,a=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:i,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:r,pageY:a,deltaX:r-t.origPageX,deltaY:a-t.origPageY})}},this.containerEl=o,this.emitter=new Ng,o.addEventListener("mousedown",this.handleMouseDown),o.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function R6(){1===(S1+=1)&&window.addEventListener("touchmove",hD,{passive:!1})}()}return(0,M.Z)(n,[{key:"destroy",value:function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function F6(){(S1-=1)||window.removeEventListener("touchmove",hD,{passive:!1})}()}},{key:"tryStart",value:function(t){var i=this.querySubjectEl(t);return!(!i||this.handleSelector&&!_o(t.target,this.handleSelector)||(this.subjectEl=i,this.isDragging=!0,this.wasTouchScroll=!1,0))}},{key:"cleanup",value:function(){sx=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}},{key:"querySubjectEl",value:function(t){return this.selector?_o(t.target,this.selector):this.containerEl}},{key:"shouldIgnoreMouse",value:function(){return ax||this.isTouchDragging}},{key:"cancelTouchScroll",value:function(){this.isDragging&&(sx=!0)}},{key:"initScrollWatch",value:function(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}},{key:"recordCoords",value:function(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}},{key:"destroyScrollWatch",value:function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}},{key:"createEventFromMouse",value:function(t,i){var r=0,a=0;return i?(this.origPageX=t.pageX,this.origPageY=t.pageY):(r=t.pageX-this.origPageX,a=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:r,deltaY:a}}},{key:"createEventFromTouch",value:function(t,i){var a,s,r=t.touches,l=0,c=0;return r&&r.length?(a=r[0].pageX,s=r[0].pageY):(a=t.pageX,s=t.pageY),i?(this.origPageX=a,this.origPageY=s):(l=a-this.origPageX,c=s-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:s,deltaX:l,deltaY:c}}}]),n}();function hD(n){sx&&n.preventDefault()}var Z6=function(){function n(){(0,I.Z)(this,n),this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return(0,M.Z)(n,[{key:"start",value:function(t,i,r){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=i-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}},{key:"handleMove",value:function(t,i){this.deltaX=t-window.pageXOffset-this.origScreenX,this.deltaY=i-window.pageYOffset-this.origScreenY,this.updateElPosition()}},{key:"setIsVisible",value:function(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}},{key:"stop",value:function(t,i){var r=this,a=function(){r.cleanup(),i()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(a,this.revertDuration):setTimeout(a,0)}},{key:"doRevertAnimation",value:function(t,i){var r=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();r.style.transition="top "+i+"ms,left "+i+"ms",fh(r,{left:a.left,top:a.top}),function ZM(n,o){var t=function i(r){o(r),gT.forEach(function(a){n.removeEventListener(a,i)})};gT.forEach(function(i){n.addEventListener(i,t)})}(r,function(){r.style.transition="",t()})}},{key:"cleanup",value:function(){this.mirrorEl&&(Xv(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}},{key:"updateElPosition",value:function(){this.sourceEl&&this.isVisible&&fh(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}},{key:"getMirrorEl",value:function(){var t=this.sourceElRect,i=this.mirrorEl;return i||((i=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),i.classList.add("fc-event-dragging"),fh(i,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(i)),i}}]),n}(),mD=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i,r){var a;return(0,I.Z)(this,t),(a=o.call(this)).handleScroll=function(){a.scrollTop=a.scrollController.getScrollTop(),a.scrollLeft=a.scrollController.getScrollLeft(),a.handleScrollChange()},a.scrollController=i,a.doesListening=r,a.scrollTop=a.origScrollTop=i.getScrollTop(),a.scrollLeft=a.origScrollLeft=i.getScrollLeft(),a.scrollWidth=i.getScrollWidth(),a.scrollHeight=i.getScrollHeight(),a.clientWidth=i.getClientWidth(),a.clientHeight=i.getClientHeight(),a.clientRect=a.computeClientRect(),a.doesListening&&a.getEventTarget().addEventListener("scroll",a.handleScroll),a}return(0,M.Z)(t,[{key:"destroy",value:function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}},{key:"getScrollTop",value:function(){return this.scrollTop}},{key:"getScrollLeft",value:function(){return this.scrollLeft}},{key:"setScrollTop",value:function(r){this.scrollController.setScrollTop(r),this.doesListening||(this.scrollTop=Math.max(Math.min(r,this.getMaxScrollTop()),0),this.handleScrollChange())}},{key:"setScrollLeft",value:function(r){this.scrollController.setScrollLeft(r),this.doesListening||(this.scrollLeft=Math.max(Math.min(r,this.getMaxScrollLeft()),0),this.handleScrollChange())}},{key:"getClientWidth",value:function(){return this.clientWidth}},{key:"getClientHeight",value:function(){return this.clientHeight}},{key:"getScrollWidth",value:function(){return this.scrollWidth}},{key:"getScrollHeight",value:function(){return this.scrollHeight}},{key:"handleScrollChange",value:function(){}}]),t}(Fy),gD=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i,r){return(0,I.Z)(this,t),o.call(this,new GP(i),r)}return(0,M.Z)(t,[{key:"getEventTarget",value:function(){return this.scrollController.el}},{key:"computeClientRect",value:function(){return ww(this.scrollController.el)}}]),t}(mD),L6=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i){return(0,I.Z)(this,t),o.call(this,new WP,i)}return(0,M.Z)(t,[{key:"getEventTarget",value:function(){return window}},{key:"computeClientRect",value:function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}},{key:"handleScrollChange",value:function(){this.clientRect=this.computeClientRect()}}]),t}(mD),_D="function"==typeof performance?performance.now:Date.now,U6=function(){function n(){var o=this;(0,I.Z)(this,n),this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(o.isAnimating){var t=o.computeBestEdge(o.pointerScreenX+window.pageXOffset,o.pointerScreenY+window.pageYOffset);if(t){var i=_D();o.handleSide(t,(i-o.msSinceRequest)/1e3),o.requestAnimation(i)}else o.isAnimating=!1}}}return(0,M.Z)(n,[{key:"start",value:function(t,i,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,i))}},{key:"handleMove",value:function(t,i){if(this.isEnabled){var r=t-window.pageXOffset,a=i-window.pageYOffset,s=null===this.pointerScreenY?0:a-this.pointerScreenY,l=null===this.pointerScreenX?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(_D()))}}},{key:"stop",value:function(){if(this.isEnabled){this.isAnimating=!1;var i,t=(0,te.Z)(this.scrollCaches);try{for(t.s();!(i=t.n()).done;)i.value.destroy()}catch(a){t.e(a)}finally{t.f()}this.scrollCaches=null}}},{key:"requestAnimation",value:function(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}},{key:"handleSide",value:function(t,i){var r=t.scrollCache,a=this.edgeThreshold,s=a-t.distance,l=s*s/(a*a)*this.maxVelocity*i,c=1;switch(t.name){case"left":c=-1;case"right":r.setScrollLeft(r.getScrollLeft()+l*c);break;case"top":c=-1;case"bottom":r.setScrollTop(r.getScrollTop()+l*c)}}},{key:"computeBestEdge",value:function(t,i){var c,r=this.edgeThreshold,a=null,l=(0,te.Z)(this.scrollCaches||[]);try{for(l.s();!(c=l.n()).done;){var u=c.value,h=u.clientRect,x=t-h.left,T=h.right-t,O=i-h.top,U=h.bottom-i;x>=0&&T>=0&&O>=0&&U>=0&&(O<=r&&this.everMovedUp&&u.canScrollUp()&&(!a||a.distance>O)&&(a={scrollCache:u,name:"top",distance:O}),U<=r&&this.everMovedDown&&u.canScrollDown()&&(!a||a.distance>U)&&(a={scrollCache:u,name:"bottom",distance:U}),x<=r&&this.everMovedLeft&&u.canScrollLeft()&&(!a||a.distance>x)&&(a={scrollCache:u,name:"left",distance:x}),T<=r&&this.everMovedRight&&u.canScrollRight()&&(!a||a.distance>T)&&(a={scrollCache:u,name:"right",distance:T}))}}catch(re){l.e(re)}finally{l.f()}return a}},{key:"buildCaches",value:function(t){return this.queryScrollEls(t).map(function(i){return i===window?new L6(!1):new gD(i,!1)})}},{key:"queryScrollEls",value:function(t){var a,i=[],r=(0,te.Z)(this.scrollQuery);try{for(r.s();!(a=r.n()).done;){var s=a.value;"object"==typeof s?i.push(s):i.push.apply(i,(0,K.Z)(Array.prototype.slice.call(t.getRootNode().querySelectorAll(s))))}}catch(l){r.e(l)}finally{r.f()}return i}}]),n}(),Zg=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i,r){var a;(0,I.Z)(this,t),(a=o.call(this,i)).containerEl=i,a.delay=null,a.minDistance=0,a.touchScrollAllowed=!0,a.mirrorNeedsRevert=!1,a.isInteracting=!1,a.isDragging=!1,a.isDelayEnded=!1,a.isDistanceSurpassed=!1,a.delayTimeoutId=null,a.onPointerDown=function(l){a.isDragging||(a.isInteracting=!0,a.isDelayEnded=!1,a.isDistanceSurpassed=!1,function LM(n){n.classList.add("fc-unselectable"),n.addEventListener("selectstart",e1)}(document.body),function jM(n){n.addEventListener("contextmenu",e1)}(document.body),l.isTouch||l.origEvent.preventDefault(),a.emitter.trigger("pointerdown",l),a.isInteracting&&!a.pointer.shouldIgnoreMove&&(a.mirror.setIsVisible(!1),a.mirror.start(l.subjectEl,l.pageX,l.pageY),a.startDelay(l),a.minDistance||a.handleDistanceSurpassed(l)))},a.onPointerMove=function(l){if(a.isInteracting){if(a.emitter.trigger("pointermove",l),!a.isDistanceSurpassed){var c=a.minDistance,h=l.deltaX,x=l.deltaY;h*h+x*x>=c*c&&a.handleDistanceSurpassed(l)}a.isDragging&&("scroll"!==l.origEvent.type&&(a.mirror.handleMove(l.pageX,l.pageY),a.autoScroller.handleMove(l.pageX,l.pageY)),a.emitter.trigger("dragmove",l))}},a.onPointerUp=function(l){a.isInteracting&&(a.isInteracting=!1,function UM(n){n.classList.remove("fc-unselectable"),n.removeEventListener("selectstart",e1)}(document.body),function YM(n){n.removeEventListener("contextmenu",e1)}(document.body),a.emitter.trigger("pointerup",l),a.isDragging&&(a.autoScroller.stop(),a.tryStopDrag(l)),a.delayTimeoutId&&(clearTimeout(a.delayTimeoutId),a.delayTimeoutId=null))};var s=a.pointer=new lx(i);return s.emitter.on("pointerdown",a.onPointerDown),s.emitter.on("pointermove",a.onPointerMove),s.emitter.on("pointerup",a.onPointerUp),r&&(s.selector=r),a.mirror=new Z6,a.autoScroller=new U6,a}return(0,M.Z)(t,[{key:"destroy",value:function(){this.pointer.destroy(),this.onPointerUp({})}},{key:"startDelay",value:function(r){var a=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){a.delayTimeoutId=null,a.handleDelayEnd(r)},this.delay):this.handleDelayEnd(r)}},{key:"handleDelayEnd",value:function(r){this.isDelayEnded=!0,this.tryStartDrag(r)}},{key:"handleDistanceSurpassed",value:function(r){this.isDistanceSurpassed=!0,this.tryStartDrag(r)}},{key:"tryStartDrag",value:function(r){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(r.pageX,r.pageY,this.containerEl),this.emitter.trigger("dragstart",r),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}},{key:"tryStopDrag",value:function(r){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,r))}},{key:"stopDrag",value:function(r){this.isDragging=!1,this.emitter.trigger("dragend",r)}},{key:"setIgnoreMove",value:function(r){this.pointer.shouldIgnoreMove=r}},{key:"setMirrorIsVisible",value:function(r){this.mirror.setIsVisible(r)}},{key:"setMirrorNeedsRevert",value:function(r){this.mirrorNeedsRevert=r}},{key:"setAutoScrollEnabled",value:function(r){this.autoScroller.isEnabled=r}}]),t}(kw),j6=function(){function n(o){(0,I.Z)(this,n),this.origRect=Ry(o),this.scrollCaches=Dw(o).map(function(t){return new gD(t,!0)})}return(0,M.Z)(n,[{key:"destroy",value:function(){var i,t=(0,te.Z)(this.scrollCaches);try{for(t.s();!(i=t.n()).done;)i.value.destroy()}catch(a){t.e(a)}finally{t.f()}}},{key:"computeLeft",value:function(){var r,t=this.origRect.left,i=(0,te.Z)(this.scrollCaches);try{for(i.s();!(r=i.n()).done;){var a=r.value;t+=a.origScrollLeft-a.getScrollLeft()}}catch(s){i.e(s)}finally{i.f()}return t}},{key:"computeTop",value:function(){var r,t=this.origRect.top,i=(0,te.Z)(this.scrollCaches);try{for(i.s();!(r=i.n()).done;){var a=r.value;t+=a.origScrollTop-a.getScrollTop()}}catch(s){i.e(s)}finally{i.f()}return t}},{key:"isWithinClipping",value:function(t,i){var s,r={left:t,top:i},a=(0,te.Z)(this.scrollCaches);try{for(a.s();!(s=a.n()).done;){var l=s.value;if(!Y6(l.getEventTarget())&&!ZP(r,l.clientRect))return!1}}catch(c){a.e(c)}finally{a.f()}return!0}}]),n}();function Y6(n){var o=n.tagName;return"HTML"===o||"BODY"===o}var k1=function(){function n(o,t){var i=this;(0,I.Z)(this,n),this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(r){var a=i.dragging;i.initialHit=null,i.movingHit=null,i.finalHit=null,i.prepareHits(),i.processFirstCoord(r),i.initialHit||!i.requireInitial?(a.setIgnoreMove(!1),i.emitter.trigger("pointerdown",r)):a.setIgnoreMove(!0)},this.handleDragStart=function(r){i.emitter.trigger("dragstart",r),i.handleMove(r,!0)},this.handleDragMove=function(r){i.emitter.trigger("dragmove",r),i.handleMove(r)},this.handlePointerUp=function(r){i.releaseHits(),i.emitter.trigger("pointerup",r)},this.handleDragEnd=function(r){i.movingHit&&i.emitter.trigger("hitupdate",null,!0,r),i.finalHit=i.movingHit,i.movingHit=null,i.emitter.trigger("dragend",r)},this.droppableStore=t,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("dragmove",this.handleDragMove),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd),this.dragging=o,this.emitter=new Ng}return(0,M.Z)(n,[{key:"processFirstCoord",value:function(t){var s,i={left:t.pageX,top:t.pageY},r=i,a=t.subjectEl;a instanceof HTMLElement&&(r=function LP(n,o){return{left:Math.min(Math.max(n.left,o.left),o.right),top:Math.min(Math.max(n.top,o.top),o.bottom)}}(r,s=Ry(a)));var l=this.initialHit=this.queryHitForOffset(r.left,r.top);if(l){if(this.useSubjectCenter&&s){var c=vw(s,l.rect);c&&(r=function UP(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}(c))}this.coordAdjust=function jP(n,o){return{left:n.left-o.left,top:n.top-o.top}}(r,i)}else this.coordAdjust={left:0,top:0}}},{key:"handleMove",value:function(t,i){var r=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(i||!A1(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,t))}},{key:"prepareHits",value:function(){this.offsetTrackers=Qo(this.droppableStore,function(t){return t.component.prepareHits(),new j6(t.el)})}},{key:"releaseHits",value:function(){var t=this.offsetTrackers;for(var i in t)t[i].destroy();this.offsetTrackers={}}},{key:"queryHitForOffset",value:function(t,i){var r=this.droppableStore,a=this.offsetTrackers,s=null;for(var l in r){var c=r[l].component,u=a[l];if(u&&u.isWithinClipping(t,i)){var h=u.computeLeft(),x=u.computeTop(),T=t-h,O=i-x,U=u.origRect,re=U.right-U.left,de=U.bottom-U.top;if(T>=0&&T<re&&O>=0&&O<de){var ve=c.queryHit(T,O,re,de);ve&&p1(ve.dateProfile.activeRange,ve.dateSpan.range)&&(!s||ve.layer>s.layer)&&(ve.componentId=l,ve.context=c.context,ve.rect.left+=h,ve.rect.right+=h,ve.rect.top+=x,ve.rect.bottom+=x,s=ve)}}}return s}}]),n}();function A1(n,o){return!n&&!o||Boolean(n)===Boolean(o)&&function OP(n,o){return GT(n.range,o.range)&&n.allDay===o.allDay&&function PP(n,o){for(var t in o)if("range"!==t&&"allDay"!==t&&n[t]!==o[t])return!1;for(var i in n)if(!(i in o))return!1;return!0}(n,o)}(n.dateSpan,o.dateSpan)}function vD(n,o){var r,t={},i=(0,te.Z)(o.pluginHooks.datePointTransforms);try{for(i.s();!(r=i.n()).done;)Object.assign(t,(0,r.value)(n,o))}catch(s){i.e(s)}finally{i.f()}return Object.assign(t,function q6(n,o){return{date:o.toDate(n.range.start),dateStr:o.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,o.dateEnv)),t}var J6=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i){var r;(0,I.Z)(this,t),(r=o.call(this,i)).handlePointerDown=function(s){(0,yi.Z)(r).dragging.setIgnoreMove(!r.component.isValidDateDownEl(s.origEvent.target))},r.handleDragEnd=function(s){var c=(0,yi.Z)(r).component;if(!r.dragging.pointer.wasTouchScroll){var h=r.hitDragging,x=h.initialHit,T=h.finalHit;if(x&&T&&A1(x,T)){var O=c.context,U=Object.assign(Object.assign({},vD(x.dateSpan,O)),{dayEl:x.dayEl,jsEvent:s.origEvent,view:O.viewApi||O.calendarApi.view});O.emitter.trigger("dateClick",U)}}},r.dragging=new Zg(i.el),r.dragging.autoScroller.isEnabled=!1;var a=r.hitDragging=new k1(r.dragging,My(i));return a.emitter.on("pointerdown",r.handlePointerDown),a.emitter.on("dragend",r.handleDragEnd),r}return(0,M.Z)(t,[{key:"destroy",value:function(){this.dragging.destroy()}}]),t}(bh),H6=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i){var r;(0,I.Z)(this,t),(r=o.call(this,i)).dragSelection=null,r.handlePointerDown=function(u){var h=(0,yi.Z)(r),x=h.component,T=h.dragging,U=x.context.options.selectable&&x.isValidDateDownEl(u.origEvent.target);T.setIgnoreMove(!U),T.delay=u.isTouch?function B6(n){var o=n.context.options,t=o.selectLongPressDelay;return null==t&&(t=o.longPressDelay),t}(x):null},r.handleDragStart=function(u){r.component.context.calendarApi.unselect(u)},r.handleHitUpdate=function(u,h){var x=r.component.context,T=null,O=!1;if(u){var U=r.hitDragging.initialHit;u.componentId===U.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(U,u)||(T=function V6(n,o,t){var i=n.dateSpan,r=o.dateSpan,a=[i.range.start,i.range.end,r.range.start,r.range.end];a.sort(JM);var c,s={},l=(0,te.Z)(t);try{for(l.s();!(c=l.n()).done;){var h=(0,c.value)(n,o);if(!1===h)return null;h&&Object.assign(s,h)}}catch(x){l.e(x)}finally{l.f()}return s.range={start:a[0],end:a[3]},s.allDay=i.allDay,s}(U,u,x.pluginHooks.dateSelectionTransformers)),(!T||!function XP(n,o,t){return!!p1(o.validRange,n.range)&&Zw({dateSelection:n},t)}(T,u.dateProfile,x))&&(O=!0,T=null)}T?x.dispatch({type:"SELECT_DATES",selection:T}):h||x.dispatch({type:"UNSELECT_DATES"}),O?ny():iy(),h||(r.dragSelection=T)},r.handlePointerUp=function(u){r.dragSelection&&(ow(r.dragSelection,u,r.component.context),r.dragSelection=null)};var s=i.component.context.options,l=r.dragging=new Zg(i.el);l.touchScrollAllowed=!1,l.minDistance=s.selectMinDistance||0,l.autoScroller.isEnabled=s.dragScroll;var c=r.hitDragging=new k1(r.dragging,My(i));return c.emitter.on("pointerdown",r.handlePointerDown),c.emitter.on("dragstart",r.handleDragStart),c.emitter.on("hitupdate",r.handleHitUpdate),c.emitter.on("pointerup",r.handlePointerUp),r}return(0,M.Z)(t,[{key:"destroy",value:function(){this.dragging.destroy()}}]),t}(bh),bD=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r){var a;(0,I.Z)(this,i),(a=t.call(this,r)).subjectEl=null,a.subjectSeg=null,a.isDragging=!1,a.eventRange=null,a.relevantEvents=null,a.receivingContext=null,a.validMutation=null,a.mutatedRelevantEvents=null,a.handlePointerDown=function(x){var T=x.origEvent.target,O=(0,yi.Z)(a),U=O.component,re=O.dragging,de=re.mirror,ve=U.context.options,Ne=U.context;a.subjectEl=x.subjectEl;var De=a.subjectSeg=vh(x.subjectEl),We=(a.eventRange=De.eventRange).instance.instanceId;a.relevantEvents=yy(Ne.getCurrentData().eventStore,We),re.minDistance=x.isTouch?0:ve.eventDragMinDistance,re.delay=x.isTouch&&We!==U.props.eventSelection?function W6(n){var o=n.context.options,t=o.eventLongPressDelay;return null==t&&(t=o.longPressDelay),t}(U):null,de.parentNode=ve.fixedMirrorParent?ve.fixedMirrorParent:_o(T,".fc"),de.revertDuration=ve.dragRevertDuration;var gt=U.isValidSegDownEl(T)&&!_o(T,".fc-event-resizer");re.setIgnoreMove(!gt),a.isDragging=gt&&x.subjectEl.classList.contains("fc-event-draggable")},a.handleDragStart=function(x){var T=a.component.context,O=a.eventRange,U=O.instance.instanceId;x.isTouch?U!==a.component.props.eventSelection&&T.dispatch({type:"SELECT_EVENT",eventInstanceId:U}):T.dispatch({type:"UNSELECT_EVENT"}),a.isDragging&&(T.calendarApi.unselect(x),T.emitter.trigger("eventDragStart",{el:a.subjectEl,event:new cr(T,O.def,O.instance),jsEvent:x.origEvent,view:T.viewApi}))},a.handleHitUpdate=function(x,T){if(a.isDragging){var O=a.relevantEvents,U=a.hitDragging.initialHit,re=a.component.context,de=null,ve=null,Ne=null,De=!1,Ge={affectedEvents:O,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(x){var We=(de=x.context).options;re===de||We.editable&&We.droppable?(ve=function G6(n,o,t){var i=n.dateSpan,r=o.dateSpan,a=i.range.start,s=r.range.start,l={};i.allDay!==r.allDay&&(l.allDay=r.allDay,l.hasEnd=o.context.options.allDayMaintainDuration,r.allDay&&(a=Yi(a)));var c=gh(a,s,n.context.dateEnv,n.componentId===o.componentId?n.largeUnit:null);c.milliseconds&&(l.allDay=!1);var x,u={datesDelta:c,standardProps:l},h=(0,te.Z)(t);try{for(h.s();!(x=h.n()).done;)(0,x.value)(u,n,o)}catch(O){h.e(O)}finally{h.f()}return u}(U,x,de.getCurrentData().pluginHooks.eventDragMutationMassagers),ve&&(Ne=wy(O,de.getCurrentData().eventUiBases,ve,de),Ge.mutatedEvents=Ne,Fw(Ge,x.dateProfile,de)||(De=!0,ve=null,Ne=null,Ge.mutatedEvents={defs:{},instances:{}}))):de=null}a.displayDrag(de,Ge),De?ny():iy(),T||(re===de&&A1(U,x)&&(ve=null),a.dragging.setMirrorNeedsRevert(!ve),a.dragging.setMirrorIsVisible(!x||!a.subjectEl.getRootNode().querySelector(".fc-event-mirror")),a.receivingContext=de,a.validMutation=ve,a.mutatedRelevantEvents=Ne)}},a.handlePointerUp=function(){a.isDragging||a.cleanup()},a.handleDragEnd=function(x){if(a.isDragging){var T=a.component.context,O=T.viewApi,U=(0,yi.Z)(a),re=U.receivingContext,de=U.validMutation,ve=a.eventRange.def,Ne=a.eventRange.instance,De=new cr(T,ve,Ne),Ge=a.relevantEvents,We=a.mutatedRelevantEvents,gt=a.hitDragging.finalHit;if(a.clearDrag(),T.emitter.trigger("eventDragStop",{el:a.subjectEl,event:De,jsEvent:x.origEvent,view:O}),de){if(re===T){var rt=new cr(T,We.defs[ve.defId],Ne?We.instances[Ne.instanceId]:null);T.dispatch({type:"MERGE_EVENTS",eventStore:We});var Bt,vt={oldEvent:De,event:rt,relatedEvents:up(We,T,Ne),revert:function(){T.dispatch({type:"MERGE_EVENTS",eventStore:Ge})}},Zt={},Ht=(0,te.Z)(T.getCurrentData().pluginHooks.eventDropTransformers);try{for(Ht.s();!(Bt=Ht.n()).done;)Object.assign(Zt,(0,Bt.value)(de,T))}catch(Ni){Ht.e(Ni)}finally{Ht.f()}T.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},vt),Zt),{el:x.subjectEl,delta:de.datesDelta,jsEvent:x.origEvent,view:O})),T.emitter.trigger("eventChange",vt)}else if(re){var Pn={event:De,relatedEvents:up(Ge,T,Ne),revert:function(){T.dispatch({type:"MERGE_EVENTS",eventStore:Ge})}};T.emitter.trigger("eventLeave",Object.assign(Object.assign({},Pn),{draggedEl:x.subjectEl,view:O})),T.dispatch({type:"REMOVE_EVENTS",eventStore:Ge}),T.emitter.trigger("eventRemove",Pn);var kn=We.instances[Ne.instanceId],mi=new cr(re,We.defs[ve.defId],kn);re.dispatch({type:"MERGE_EVENTS",eventStore:We});var wi={event:mi,relatedEvents:up(We,re,kn),revert:function(){re.dispatch({type:"REMOVE_EVENTS",eventStore:We})}};re.emitter.trigger("eventAdd",wi),x.isTouch&&re.dispatch({type:"SELECT_EVENT",eventInstanceId:Ne.instanceId}),re.emitter.trigger("drop",Object.assign(Object.assign({},vD(gt.dateSpan,re)),{draggedEl:x.subjectEl,jsEvent:x.origEvent,view:gt.context.viewApi})),re.emitter.trigger("eventReceive",Object.assign(Object.assign({},wi),{draggedEl:x.subjectEl,view:gt.context.viewApi}))}}else T.emitter.trigger("_noEventDrop")}a.cleanup()};var c=(0,yi.Z)(a).component.context.options,u=a.dragging=new Zg(r.el);u.pointer.selector=i.SELECTOR,u.touchScrollAllowed=!1,u.autoScroller.isEnabled=c.dragScroll;var h=a.hitDragging=new k1(a.dragging,Oy);return h.useSubjectCenter=r.useEventCenter,h.emitter.on("pointerdown",a.handlePointerDown),h.emitter.on("dragstart",a.handleDragStart),h.emitter.on("hitupdate",a.handleHitUpdate),h.emitter.on("pointerup",a.handlePointerUp),h.emitter.on("dragend",a.handleDragEnd),a}return(0,M.Z)(i,[{key:"destroy",value:function(){this.dragging.destroy()}},{key:"displayDrag",value:function(a,s){var c=this.receivingContext;c&&c!==a&&c.dispatch(c===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:s.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),a&&a.dispatch({type:"SET_EVENT_DRAG",state:s})}},{key:"clearDrag",value:function(){var a=this.component.context,s=this.receivingContext;s&&s.dispatch({type:"UNSET_EVENT_DRAG"}),a!==s&&a.dispatch({type:"UNSET_EVENT_DRAG"})}},{key:"cleanup",value:function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}]),i}(bh);return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n}(),Q6=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i){var r;(0,I.Z)(this,t),(r=o.call(this,i)).draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(c){var h=(0,yi.Z)(r).component,T=vh(r.querySegEl(c)),O=r.eventRange=T.eventRange;r.dragging.minDistance=h.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(c.origEvent.target)||c.isTouch&&r.component.props.eventSelection!==O.instance.instanceId)},r.handleDragStart=function(c){var u=r.component.context,h=r.eventRange;r.relevantEvents=yy(u.getCurrentData().eventStore,r.eventRange.instance.instanceId);var x=r.querySegEl(c);r.draggingSegEl=x,r.draggingSeg=vh(x),u.calendarApi.unselect(),u.emitter.trigger("eventResizeStart",{el:x,event:new cr(u,h.def,h.instance),jsEvent:c.origEvent,view:u.viewApi})},r.handleHitUpdate=function(c,u,h){var x=r.component.context,T=r.relevantEvents,O=r.hitDragging.initialHit,U=r.eventRange.instance,re=null,de=null,ve=!1,Ne={affectedEvents:T,mutatedEvents:{defs:{},instances:{}},isEvent:!0};c&&(c.componentId===O.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(O,c)||(re=function z6(n,o,t,i){var r=n.context.dateEnv,l=gh(n.dateSpan.range.start,o.dateSpan.range.start,r,n.largeUnit);if(t){if(r.add(i.start,l)<i.end)return{startDelta:l}}else if(r.add(i.end,l)>i.start)return{endDelta:l};return null}(O,c,h.subjectEl.classList.contains("fc-event-resizer-start"),U.range))),re&&(de=wy(T,x.getCurrentData().eventUiBases,re,x),Ne.mutatedEvents=de,Fw(Ne,c.dateProfile,x)||(ve=!0,re=null,de=null,Ne.mutatedEvents=null)),x.dispatch(de?{type:"SET_EVENT_RESIZE",state:Ne}:{type:"UNSET_EVENT_RESIZE"}),ve?ny():iy(),u||(re&&A1(O,c)&&(re=null),r.validMutation=re,r.mutatedRelevantEvents=de)},r.handleDragEnd=function(c){var u=r.component.context,h=r.eventRange.def,x=r.eventRange.instance,T=new cr(u,h,x),O=r.relevantEvents,U=r.mutatedRelevantEvents;if(u.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:T,jsEvent:c.origEvent,view:u.viewApi}),r.validMutation){var re=new cr(u,U.defs[h.defId],x?U.instances[x.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:U});var de={oldEvent:T,event:re,relatedEvents:up(U,u,x),revert:function(){u.dispatch({type:"MERGE_EVENTS",eventStore:O})}};u.emitter.trigger("eventResize",Object.assign(Object.assign({},de),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||Wn(0),endDelta:r.validMutation.endDelta||Wn(0),jsEvent:c.origEvent,view:u.viewApi})),u.emitter.trigger("eventChange",de)}else u.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var a=i.component,s=r.dragging=new Zg(i.el);s.pointer.selector=".fc-event-resizer",s.touchScrollAllowed=!1,s.autoScroller.isEnabled=a.context.options.dragScroll;var l=r.hitDragging=new k1(r.dragging,My(i));return l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("dragend",r.handleDragEnd),r}return(0,M.Z)(t,[{key:"destroy",value:function(){this.dragging.destroy()}},{key:"querySegEl",value:function(r){return _o(r.subjectEl,".fc-event")}}]),t}(bh),K6=function(){function n(o){var t=this;(0,I.Z)(this,n),this.context=o,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(r){r.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(r){var a=t.context.options.unselectCancel,s=fT(r.origEvent);t.matchesCancel=!!_o(s,a),t.matchesEvent=!!_o(s,bD.SELECTOR)},this.onDocumentPointerUp=function(r){var a=t.context,s=t.documentPointer,l=a.getCurrentData();if(!s.wasTouchScroll){if(l.dateSelection&&!t.isRecentPointerDateSelect){var c=a.options.unselectAuto;c&&(!c||!t.matchesCancel)&&a.calendarApi.unselect(r)}l.eventSelection&&!t.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var i=this.documentPointer=new lx(document);i.shouldIgnoreMove=!0,i.shouldWatchScroll=!1,i.emitter.on("pointerdown",this.onDocumentPointerDown),i.emitter.on("pointerup",this.onDocumentPointerUp),o.emitter.on("select",this.onSelect)}return(0,M.Z)(n,[{key:"destroy",value:function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}]),n}(),$6={fixedMirrorParent:at},X6={dateClick:at,eventDragStart:at,eventDragStop:at,eventDrop:at,eventResizeStart:at,eventResizeStop:at,eventResize:at,drop:at,eventReceive:at,eventLeave:at};ic.dataAttrPrefix="";var M1=ha({name:"@fullcalendar/interaction",componentInteractions:[J6,H6,bD,Q6],calendarInteractions:[K6],elementDraggingImpl:Zg,optionRefiners:$6,listenerRefiners:X6});function O1(n,o,t,i){var r;return"local"===o?r=W(n):"UTC"===o?r=W.utc(n):W.tz?r=W.tz(n,o):(r=W.utc(n),null!=t&&r.utcOffset(t)),r.locale(i),r}function yD(n){return function(o){return o?n.format(o):""}}function xD(n){var o=n.match(/^(.*?)\{(.*)\}(.*)$/);if(o){var t=xD(o[2]);return{head:o[1],middle:t,tail:o[3],whole:o[1]+t.whole+o[3]}}return{head:null,middle:null,tail:null,whole:n}}function cx(n,o,t,i){if(n.middle){var r=o(n.head),a=cx(n.middle,o,t,i),s=o(n.tail),l=t(n.head),c=cx(n.middle,o,t,i),u=t(n.tail);if(r===l&&s===u)return r+(a===c?a:a+i+c)+s}var h=o(n.whole),x=t(n.whole);return h===x?h:h+i+x}var CD,P1=ha({name:"@fullcalendar/moment",cmdFormatter:function t3(n,o){var t=xD(n);if(o.end){var i=O1(o.start.array,o.timeZone,o.start.timeZoneOffset,o.localeCodes[0]),r=O1(o.end.array,o.timeZone,o.end.timeZoneOffset,o.localeCodes[0]);return cx(t,yD(i),yD(r),o.defaultSeparator)}return O1(o.date.array,o.timeZone,o.date.timeZoneOffset,o.localeCodes[0]).format(t.whole)}}),E1=J(95698),n3=J(91005),s3=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],l3={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"},dx=ha({name:"@fullcalendar/premium-common",premiumReleaseDate:"2023-02-07",optionRefiners:{schedulerLicenseKey:String},viewContainerAppends:[function c3(n){var o=n.options.schedulerLicenseKey;if(!function u3(n){return/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(n)}("undefined"!=typeof window?window.location.href:"")){var i=function d3(n,o){if(-1!==s3.indexOf(n))return"valid";var t=(n||"").match(/^(\d+)-fcs-(\d+)$/);if(t&&10===t[1].length){var i=new Date(1e3*parseInt(t[2],10)),r=ic.mockSchedulerReleaseDate||o;if(sy(r))return vo(r,-372)<i?"valid":"outdated"}return"invalid"}(o,n.pluginHooks.premiumReleaseDate);if("valid"!==i)return ye("div",{className:"fc-license-message",style:l3},"outdated"===i?ye(Mn,null,"Your license key is too old to work with this version. ",ye("a",{href:"https://fullcalendar.io/docs/schedulerLicenseKey#outdated"},"More Info")):ye(Mn,null,"Your license key is invalid. ",ye("a",{href:"https://fullcalendar.io/docs/schedulerLicenseKey#invalid"},"More Info")))}return null}]});function h3(n){var o=n.scrollLeft;if("rtl"===window.getComputedStyle(n).direction)switch(TD()){case"negative":o*=-1;case"reverse":o=n.scrollWidth-o-n.clientWidth}return o}function m3(n,o){if("rtl"===window.getComputedStyle(n).direction)switch(TD()){case"reverse":o=n.scrollWidth-o;break;case"negative":o=-(n.scrollWidth-o)}n.scrollLeft=o}function TD(){return CD||(CD=function g3(){var o,n=document.createElement("div");return n.style.position="absolute",n.style.top="-1000px",n.style.width="1px",n.style.height="1px",n.style.overflow="scroll",n.style.direction="rtl",n.style.fontSize="100px",n.innerHTML="A",document.body.appendChild(n),n.scrollLeft>0?o="positive":(n.scrollLeft=1,o=n.scrollLeft>0?"reverse":"negative"),Xv(n),o}())}var v3=function(){function n(o,t){var i=this;(0,I.Z)(this,n),this.scrollEl=o,this.isRtl=t,this.updateSize=function(){var r=i.scrollEl,a=ph(r,".fc-sticky");!function b3(n,o,t){n.forEach(function(i,r){var h,a=o[r],c=a.parentBound;fh(i,{left:h="center"===a.textAlign&&c.right-c.left>t?(t-a.elWidth)/2:"",right:h,top:0})})}(a,i.queryElGeoms(a),r.clientWidth)}}return(0,M.Z)(n,[{key:"queryElGeoms",value:function(t){var c,r=this.isRtl,a=function f3(n){var o=n.getBoundingClientRect(),t=Tw(n);return{left:o.left+t.borderLeft+t.scrollbarLeft-h3(n),top:o.top+t.borderTop-n.scrollTop}}(this.scrollEl),s=[],l=(0,te.Z)(t);try{for(l.s();!(c=l.n()).done;){var u=c.value,h=bw(ww(u.parentNode,!0,!0),-a.left,-a.top),x=u.getBoundingClientRect(),T=window.getComputedStyle(u),O=window.getComputedStyle(u.parentNode).textAlign,U=null;"start"===O?O=r?"right":"left":"end"===O&&(O=r?"left":"right"),"sticky"!==T.position&&(U=bw(x,-a.left-(parseFloat(T.left)||0),-a.top-(parseFloat(T.top)||0))),s.push({parentBound:h,naturalBound:U,elWidth:x.width,elHeight:x.height,textAlign:O})}}catch(re){l.e(re)}finally{l.f()}return s}}]),n}(),y3=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).elRef={current:null},i.state={xScrollbarWidth:0,yScrollbarWidth:0},i.handleScroller=function(r){i.scroller=r,cl(i.props.scrollerRef,r)},i.handleSizing=function(){var a=(0,yi.Z)(i).props;"scroll-hidden"===a.overflowY&&i.setState({yScrollbarWidth:i.scroller.getYScrollbarWidth()}),"scroll-hidden"===a.overflowX&&i.setState({xScrollbarWidth:i.scroller.getXScrollbarWidth()})},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.state,l=this.context.isRtl&&y1(),c=0,u=0,h=0;return"scroll-hidden"===r.overflowX&&(h=a.xScrollbarWidth),"scroll-hidden"===r.overflowY&&null!=a.yScrollbarWidth&&(l?c=a.yScrollbarWidth:u=a.yScrollbarWidth),ye("div",{ref:this.elRef,className:"fc-scroller-harness"+(r.liquid?" fc-scroller-harness-liquid":"")},ye(jw,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:"scroll-hidden"===r.overflowX?"scroll":r.overflowX,overflowY:"scroll-hidden"===r.overflowY?"scroll":r.overflowY,overcomeLeft:c,overcomeRight:u,overcomeBottom:h,maxHeight:"number"==typeof r.maxHeight?r.maxHeight+("scroll-hidden"===r.overflowX?a.xScrollbarWidth:0):"",liquid:r.liquid,liquidIsAbsolute:!0},r.children))}},{key:"componentDidMount",value:function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}},{key:"componentDidUpdate",value:function(r){Eo(r,this.props)||this.handleSizing()}},{key:"componentWillUnmount",value:function(){this.context.removeResizeHandler(this.handleSizing)}},{key:"needsXScrolling",value:function(){return this.scroller.needsXScrolling()}},{key:"needsYScrolling",value:function(){return this.scroller.needsYScrolling()}}]),t}(Cn),wD="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" "),x3=function(){function n(o){var t=this;(0,I.Z)(this,n),this.el=o,this.emitter=new Ng,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new Dg(this._handleWheelWaited.bind(this)),this.scrollWaiter=new Dg(this._handleScrollWaited.bind(this)),this.handleScroll=function(){t.startScroll(),t.emitter.trigger("scroll",t.isRecentlyWheeled,t.isTouching),t.isRecentlyScrolled=!0,t.scrollWaiter.request(500)},this.handleWheel=function(){t.isRecentlyWheeled=!0,t.wheelWaiter.request(500)},this.handleTouchStart=function(){t.isTouching=!0},this.handleTouchEnd=function(){t.isTouching=!1,t.isRecentlyScrolled||t.endScroll()},o.addEventListener("scroll",this.handleScroll),o.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),o.addEventListener("touchend",this.handleTouchEnd);var r,i=(0,te.Z)(wD);try{for(i.s();!(r=i.n()).done;)o.addEventListener(r.value,this.handleWheel)}catch(s){i.e(s)}finally{i.f()}}return(0,M.Z)(n,[{key:"destroy",value:function(){var t=this.el;t.removeEventListener("scroll",this.handleScroll),t.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),t.removeEventListener("touchend",this.handleTouchEnd);var r,i=(0,te.Z)(wD);try{for(i.s();!(r=i.n()).done;)t.removeEventListener(r.value,this.handleWheel)}catch(s){i.e(s)}finally{i.f()}}},{key:"startScroll",value:function(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))}},{key:"endScroll",value:function(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())}},{key:"_handleScrollWaited",value:function(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()}},{key:"_handleWheelWaited",value:function(){this.isRecentlyWheeled=!1}}]),n}(),C3=function(){function n(o,t){var i=this;(0,I.Z)(this,n),this.isVertical=o,this.scrollEls=t,this.isPaused=!1,this.scrollListeners=t.map(function(r){return i.bindScroller(r)})}return(0,M.Z)(n,[{key:"destroy",value:function(){var i,t=(0,te.Z)(this.scrollListeners);try{for(t.s();!(i=t.n()).done;)i.value.destroy()}catch(a){t.e(a)}finally{t.f()}}},{key:"bindScroller",value:function(t){var i=this,r=this.scrollEls,a=this.isVertical,s=new x3(t);return s.emitter.on("scroll",function(h,x){if(!i.isPaused&&((!i.masterEl||i.masterEl!==t&&(h||x))&&i.assignMaster(t),i.masterEl===t)){var O,T=(0,te.Z)(r);try{for(T.s();!(O=T.n()).done;){var U=O.value;U!==t&&(a?U.scrollTop=t.scrollTop:U.scrollLeft=t.scrollLeft)}}catch(re){T.e(re)}finally{T.f()}}}),s.emitter.on("scrollEnd",function(){i.masterEl===t&&(i.masterEl=null)}),s}},{key:"assignMaster",value:function(t){this.masterEl=t;var r,i=(0,te.Z)(this.scrollListeners);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.el!==t&&a.endScroll()}}catch(s){i.e(s)}finally{i.f()}}},{key:"forceScrollLeft",value:function(t){this.isPaused=!0;var r,i=(0,te.Z)(this.scrollListeners);try{for(i.s();!(r=i.n()).done;)m3(r.value.el,t)}catch(s){i.e(s)}finally{i.f()}this.isPaused=!1}},{key:"forceScrollTop",value:function(t){this.isPaused=!0;var r,i=(0,te.Z)(this.scrollListeners);try{for(i.s();!(r=i.n()).done;)r.value.el.scrollTop=t}catch(s){i.e(s)}finally{i.f()}this.isPaused=!1}}]),n}();ic.SCROLLGRID_RESIZE_INTERVAL=500;var ux=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).compileColGroupStats=dy(S3,A3),i.renderMicroColGroups=dy(Bw),i.clippedScrollerRefs=new Io,i.scrollerElRefs=new Io(i._handleScrollerEl.bind((0,yi.Z)(i))),i.chunkElRefs=new Io(i._handleChunkEl.bind((0,yi.Z)(i))),i.scrollSyncersBySection={},i.scrollSyncersByColumn={},i.rowUnstableMap=new Map,i.rowInnerMaxHeightMap=new Map,i.anyRowHeightsChanged=!1,i.recentSizingCnt=0,i.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},i.handleSizing=function(r,a){if(i.allowSizing()){a||(i.anyRowHeightsChanged=!0);var s={};(r||!a&&!i.rowUnstableMap.size)&&(s.sectionRowMaxHeights=i.computeSectionRowMaxHeights()),i.setState(Object.assign(Object.assign({shrinkWidths:i.computeShrinkWidths()},i.computeScrollerDims()),s),function(){i.rowUnstableMap.size||i.updateStickyScrolling()})}},i.handleRowHeightChange=function(r,a){var s=(0,yi.Z)(i),l=s.rowUnstableMap,c=s.rowInnerMaxHeightMap;if(a){l.delete(r);var u=DD(r);(!c.has(r)||c.get(r)!==u)&&(c.set(r,u),i.anyRowHeightsChanged=!0),!l.size&&i.anyRowHeightsChanged&&(i.anyRowHeightsChanged=!1,i.setState({sectionRowMaxHeights:i.computeSectionRowMaxHeights()}))}else l.set(r,!0)},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.state,s=this.context,l=a.shrinkWidths,c=this.compileColGroupStats(r.colGroups.map(function(Ge){return[Ge]})),u=this.renderMicroColGroups(c.map(function(Ge,We){return[Ge.cols,l[We]]})),h=Ww(r.liquid,s);this.getDims();for(var U,x=r.sections,T=x.length,O=0,re=[],de=[],ve=[];O<T&&"header"===(U=x[O]).type;)re.push(this.renderSection(U,O,c,u,a.sectionRowMaxHeights,!0)),O+=1;for(;O<T&&"body"===(U=x[O]).type;)de.push(this.renderSection(U,O,c,u,a.sectionRowMaxHeights,!1)),O+=1;for(;O<T&&"footer"===(U=x[O]).type;)ve.push(this.renderSection(U,O,c,u,a.sectionRowMaxHeights,!0)),O+=1;var Ne=!Ay(),De={role:"rowgroup"};return ye("table",{ref:r.elRef,role:"grid",className:h.join(" ")},function D3(n,o){var t=n.map(function(i,r){var a=i.width;return"shrink"===a&&(a=i.totalColWidth+Vw(o[r])+1),ye("col",{style:{width:a}})});return ye.apply(void 0,["colgroup",{}].concat((0,K.Z)(t)))}(c,l),Boolean(!Ne&&re.length)&&ye.apply(void 0,["thead",De].concat(re)),Boolean(!Ne&&de.length)&&ye.apply(void 0,["tbody",De].concat(de)),Boolean(!Ne&&ve.length)&&ye.apply(void 0,["tfoot",De].concat(ve)),Ne&&ye.apply(void 0,["tbody",De].concat(re,de,ve)))}},{key:"renderSection",value:function(r,a,s,l,c,u){var h=this;return"outerContent"in r?ye(Mn,{key:r.key},r.outerContent):ye("tr",{key:r.key,role:"presentation",className:Qw(r,this.props.liquid).join(" ")},r.chunks.map(function(x,T){return h.renderChunk(r,a,s[T],l[T],x,T,(c[a]||[])[T]||[],u)}))}},{key:"renderChunk",value:function(r,a,s,l,c,u,h,x){if("outerContent"in c)return ye(Mn,{key:c.key},c.outerContent);var T=this.state,O=T.scrollerClientWidths,U=T.scrollerClientHeights,re=this.getDims(),de=(0,ee.Z)(re,2),ve=de[0],Ne=de[1],De=a*Ne+u,We=u===(!this.context.isRtl||y1()?Ne-1:0),gt=a===ve-1,rt=gt&&T.forceXScrollbars,vt=We&&T.forceYScrollbars,Zt=s&&s.allowXScrolling,Ht=qw(this.props,r),Bt=By(this.props,r),Jn=Jw(r,c,{tableColGroupNode:l,tableMinWidth:s&&s.totalColMinWidth||"",clientWidth:void 0!==O[De]?O[De]:null,clientHeight:void 0!==U[De]?U[De]:null,expandRows:r.expandRows&&Bt,syncRowHeights:Boolean(r.syncRowHeights),rowSyncHeights:h,reportRowHeightChange:this.handleRowHeightChange},x),kn=rt?gt?"scroll":"scroll-hidden":Zt?gt?"auto":"scroll-hidden":"hidden",mi=vt?We?"scroll":"scroll-hidden":Ht?We?"auto":"scroll-hidden":"hidden";return Jn=ye(y3,{ref:this.clippedScrollerRefs.createRef(De),scrollerElRef:this.scrollerElRefs.createRef(De),overflowX:kn,overflowY:mi,liquid:Bt,maxHeight:r.maxHeight},Jn),ye(x?"th":"td",{key:c.key,ref:this.chunkElRefs.createRef(De),role:"presentation"},Jn)}},{key:"componentDidMount",value:function(){this.getStickyScrolling=dy(M3),this.getScrollSyncersBySection=OT(kD.bind(this,!0),null,I1),this.getScrollSyncersByColumn=OT(kD.bind(this,!1),null,I1),this.updateScrollSyncers(),this.handleSizing(!1),this.context.addResizeHandler(this.handleSizing)}},{key:"componentDidUpdate",value:function(r,a){this.updateScrollSyncers(),this.handleSizing(!1,a.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)}},{key:"componentWillUnmount",value:function(){this.context.removeResizeHandler(this.handleSizing),this.destroyScrollSyncers()}},{key:"allowSizing",value:function(){var r=new Date;return!this.lastSizingDate||r.valueOf()>this.lastSizingDate.valueOf()+ic.SCROLLGRID_RESIZE_INTERVAL?(this.lastSizingDate=r,this.recentSizingCnt=0,!0):(this.recentSizingCnt+=1)<=10}},{key:"computeShrinkWidths",value:function(){var r=this,a=this.compileColGroupStats(this.props.colGroups.map(function(T){return[T]})),s=this.getDims(),l=(0,ee.Z)(s,2),u=l[1],h=l[0]*u,x=[];return a.forEach(function(T,O){if(T.hasShrinkCol){var U=r.chunkElRefs.collect(O,h,u);x[O]=Yw(U)}}),x}},{key:"computeSectionRowMaxHeights",value:function(){for(var r=new Map,a=this.getDims(),s=(0,ee.Z)(a,2),l=s[0],c=s[1],u=[],h=0;h<l;h+=1){var x=this.props.sections[h],T=[];if(x&&x.syncRowHeights){for(var O=[],U=0;U<c;U+=1){var de,ve=this.chunkElRefs.currentMap[h*c+U];de=ve?ph(ve,".fc-scrollgrid-sync-table tr").map(function(_l){var du=DD(_l);return r.set(_l,du),du}):[],O.push(de)}for(var Ne=O[0].length,De=!0,Ge=1;Ge<c;Ge+=1)if((!x.chunks[Ge]||void 0===x.chunks[Ge].outerContent)&&O[Ge].length!==Ne){De=!1;break}if(De){for(var mi=0;mi<c;mi+=1)T.push([]);for(var wi=0;wi<Ne;wi+=1){for(var Ni=[],cn=0;cn<c;cn+=1){var Rn=O[cn][wi];null!=Rn&&Ni.push(Rn)}for(var Co=Math.max.apply(Math,Ni),ea=0;ea<c;ea+=1)T[ea].push(Co)}}else{for(var gt=[],rt=0;rt<c;rt+=1)gt.push(T3(O[rt])+O[rt].length);for(var vt=Math.max.apply(Math,gt),Zt=0;Zt<c;Zt+=1){var Ht=O[Zt].length,Bt=vt-Ht,ln=Math.floor(Bt/Ht),Jn=[],kn=0;for(kn<Ht&&(Jn.push(Bt-ln*(Ht-1)),kn+=1);kn<Ht;)Jn.push(ln),kn+=1;T.push(Jn)}}}u.push(T)}return this.rowInnerMaxHeightMap=r,u}},{key:"computeScrollerDims",value:function(){for(var r=xw(),a=this.getDims(),s=(0,ee.Z)(a,2),l=s[0],c=s[1],u=!this.context.isRtl||y1()?c-1:0,h=l-1,x=this.clippedScrollerRefs.currentMap,T=this.scrollerElRefs.currentMap,O=!1,U=!1,re={},de={},ve=0;ve<l;ve+=1){var De=x[ve*c+u];if(De&&De.needsYScrolling()){O=!0;break}}for(var Ge=0;Ge<c;Ge+=1){var gt=x[h*c+Ge];if(gt&&gt.needsXScrolling()){U=!0;break}}for(var rt=0;rt<l;rt+=1)for(var vt=0;vt<c;vt+=1){var Zt=rt*c+vt,Ht=T[Zt];if(Ht){var Bt=Ht.parentNode;re[Zt]=Math.floor(Bt.getBoundingClientRect().width-(vt===u&&O?r.y:0)),de[Zt]=Math.floor(Bt.getBoundingClientRect().height-(rt===h&&U?r.x:0))}}return{forceYScrollbars:O,forceXScrollbars:U,scrollerClientWidths:re,scrollerClientHeights:de}}},{key:"updateStickyScrolling",value:function(){var r=this.context.isRtl,a=this.scrollerElRefs.getAll().map(function(s){return[s,r]});this.getStickyScrolling(a).forEach(function(s){return s.updateSize()})}},{key:"updateScrollSyncers",value:function(){for(var r=this.getDims(),a=(0,ee.Z)(r,2),s=a[0],l=a[1],c=s*l,u={},h={},x=this.scrollerElRefs.currentMap,T=0;T<s;T+=1){var O=T*l;u[T]=LT(x,O,O+l,1)}for(var re=0;re<l;re+=1)h[re]=this.scrollerElRefs.collect(re,c,l);this.scrollSyncersBySection=this.getScrollSyncersBySection(u),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(h)}},{key:"destroyScrollSyncers",value:function(){Qo(this.scrollSyncersBySection,I1),Qo(this.scrollSyncersByColumn,I1)}},{key:"getChunkConfigByIndex",value:function(r){var a=this.getDims()[1],s=Math.floor(r/a),c=this.props.sections[s];return c&&c.chunks[r%a]}},{key:"forceScrollLeft",value:function(r,a){var s=this.scrollSyncersByColumn[r];s&&s.forceScrollLeft(a)}},{key:"forceScrollTop",value:function(r,a){var s=this.scrollSyncersBySection[r];s&&s.forceScrollTop(a)}},{key:"_handleChunkEl",value:function(r,a){var s=this.getChunkConfigByIndex(parseInt(a,10));s&&cl(s.elRef,r)}},{key:"_handleScrollerEl",value:function(r,a){var s=this.getChunkConfigByIndex(parseInt(a,10));s&&cl(s.scrollerElRef,r)}},{key:"getDims",value:function(){var r=this.props.sections.length;return[r,r?this.props.sections[0].chunks.length:0]}}]),t}(Cn);function T3(n){var i,o=0,t=(0,te.Z)(n);try{for(t.s();!(i=t.n()).done;)o+=i.value}catch(a){t.e(a)}finally{t.f()}return o}function DD(n){var o=ph(n,".fc-scrollgrid-sync-inner").map(w3);return o.length?Math.max.apply(Math,(0,K.Z)(o)):0}function w3(n){return n.offsetHeight}function S3(n){var o=SD(n.cols,"width"),t=SD(n.cols,"minWidth"),i=Gw(n.cols);return{hasShrinkCol:i,totalColWidth:o,totalColMinWidth:t,allowXScrolling:"shrink"!==n.width&&Boolean(o||t||i),cols:n.cols,width:n.width}}function SD(n,o){var r,t=0,i=(0,te.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=a[o];"number"==typeof s&&(t+=s*(a.span||1))}}catch(l){i.e(l)}finally{i.f()}return t}ux.addStateEquality({shrinkWidths:Ka,scrollerClientWidths:Eo,scrollerClientHeights:Eo});var k3={cols:Hw};function A3(n,o){return c1(n,o,k3)}function kD(n){for(var o=arguments.length,t=new Array(o>1?o-1:0),i=1;i<o;i++)t[i-1]=arguments[i];return new C3(n,t)}function I1(n){n.destroy()}function M3(n,o){return new v3(n,o)}ic.MAX_TIMELINE_SLOTS=1e3;var px=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function AD(n,o,t,i){var r={labelInterval:t.slotLabelInterval,slotDuration:t.slotDuration};(function I3(n,o,t){var i=o.currentRange;if(n.labelInterval&&t.countDurationsBetween(i.start,i.end,n.labelInterval)>ic.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),n.labelInterval=null),n.slotDuration&&t.countDurationsBetween(i.start,i.end,n.slotDuration)>ic.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),n.slotDuration=null),n.labelInterval&&n.slotDuration){var s=Hd(n.labelInterval,n.slotDuration);(null===s||s<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),n.slotDuration=null)}})(r,n,o),OD(r,n,o),function N3(n,o,t){var i=o.currentRange,r=n.slotDuration;if(!r){var l,a=OD(n,o,t),s=(0,te.Z)(px);try{for(s.s();!(l=s.n()).done;){var u=Wn(l.value),h=Hd(a,u);if(null!==h&&h>1&&h<=6){r=u;break}}}catch(T){s.e(T)}finally{s.f()}r&&t.countDurationsBetween(i.start,i.end,r)>200&&(r=null),r||(r=a),n.slotDuration=r}}(r,n,o);var a=t.slotLabelFormat,s=Array.isArray(a)?a:null!=a?[a]:function R3(n,o,t,i){var r,a,s=n.labelInterval,l=Bd(s).unit,c=i.weekNumbers,u=r=a=null;switch("week"===l&&!c&&(l="day"),l){case"year":u={year:"numeric"};break;case"month":wh("years",o,t)>1&&(u={year:"numeric"}),r={month:"short"};break;case"week":wh("years",o,t)>1&&(u={year:"numeric"}),r={week:"narrow"};break;case"day":wh("years",o,t)>1?u={year:"numeric",month:"long"}:wh("months",o,t)>1&&(u={month:"long"}),c&&(r={week:"short"}),a={weekday:"narrow",day:"numeric"};break;case"hour":c&&(u={week:"short"}),wh("days",o,t)>1&&(r={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),a={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":(function KM(n){return Wo(n)/6e4})(s)/60>=6?(u={hour:"numeric",meridiem:"short"},r=function(x){return":"+Xc(x.date.minute,2)}):u={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":(function $M(n){return Wo(n)/1e3})(s)/60>=6?(u={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},r=function(x){return":"+Xc(x.date.second,2)}):u={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":u={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},r=function(x){return"."+Xc(x.millisecond,3)}}return[].concat(u||[],r||[],a||[])}(r,n,o,t);r.headerFormats=s.map(function(We){return Bi(We)}),r.isTimeScale=Boolean(r.slotDuration.milliseconds);var l=null;if(!r.isTimeScale){var c=Bd(r.slotDuration).unit;/year|month|week/.test(c)&&(l=c)}r.largeUnit=l,r.emphasizeWeeks=1===wT(r.slotDuration)&&wh("weeks",n,o)>=2&&!t.businessHours;var h,x,u=t.snapDuration;u&&(h=Wn(u),x=Hd(r.slotDuration,h)),null==x&&(h=r.slotDuration,x=1),r.snapDuration=h,r.snapsPerSlot=x;var T=Wo(n.slotMaxTime)-Wo(n.slotMinTime),O=MD(n.renderRange.start,r,o),U=MD(n.renderRange.end,r,o);r.isTimeScale&&(O=o.add(O,n.slotMinTime),U=o.add(vo(U,-1),n.slotMaxTime)),r.timeWindowMs=T,r.normalizedRange={start:O,end:U};for(var re=[],de=O;de<U;)R1(de,r,n,i)&&re.push(de),de=o.add(de,r.slotDuration);r.slotDates=re;var ve=-1,Ne=0,De=[],Ge=[];for(de=O;de<U;)R1(de,r,n,i)?(De.push(ve+=1),Ge.push(Ne)):De.push(ve+.5),de=o.add(de,r.snapDuration),Ne+=1;return r.snapDiffToIndex=De,r.snapIndexToDiff=Ge,r.snapCnt=ve+1,r.slotCnt=r.snapCnt/r.snapsPerSlot,r.isWeekStarts=function F3(n,o){var l,i=n.emphasizeWeeks,r=null,a=[],s=(0,te.Z)(n.slotDates);try{for(s.s();!(l=s.n()).done;){var u=o.computeWeekNumber(l.value),h=i&&null!==r&&r!==u;r=u,a.push(h)}}catch(x){s.e(x)}finally{s.f()}return a}(r,o),r.cellRows=function Z3(n,o){for(var t=n.slotDates,i=n.headerFormats,r=i.map(function(){return[]}),a=wT(n.slotDuration),s=7===a?"week":1===a?"day":null,l=i.map(function(We){return We.getLargestUnit?We.getLargestUnit():null}),c=0;c<t.length;c+=1)for(var u=t[c],h=n.isWeekStarts[c],x=0;x<i.length;x+=1){var T=i[x],O=r[x],U=O[O.length-1],re=x===i.length-1,ve=null,Ne=l[x]||(re?s:null);if(i.length>1&&!re){var De=o.format(u,T);U&&U.text===De?U.colspan+=1:ve=PD(u,De,Ne)}else!U||ap(o.countDurationsBetween(n.normalizedRange.start,u,n.labelInterval))?ve=PD(u,o.format(u,T),Ne):U.colspan+=1;ve&&(ve.weekStart=h,O.push(ve))}return r}(r,o),r.slotsPerLabel=Hd(r.labelInterval,r.slotDuration),r}function MD(n,o,t){var i=n;return o.isTimeScale||(i=Yi(i),o.largeUnit&&(i=t.startOf(i,o.largeUnit))),i}function R1(n,o,t,i){if(i.isHiddenDay(n))return!1;if(o.isTimeScale){var r=Yi(n),s=n.valueOf()-r.valueOf()-Wo(t.slotMinTime);return(s=(s%864e5+864e5)%864e5)<o.timeWindowMs}return!0}function OD(n,o,t){var i=o.currentRange,r=n.labelInterval;if(!r){if(n.slotDuration){var l,s=(0,te.Z)(px);try{for(s.s();!(l=s.n()).done;){var c=Wn(l.value),u=Hd(c,n.slotDuration);if(null!==u&&u<=6){r=c;break}}}catch(O){s.e(O)}finally{s.f()}r||(r=n.slotDuration)}else{var x,h=(0,te.Z)(px);try{for(h.s();!(x=h.n()).done&&(r=Wn(x.value),!(t.countDurationsBetween(i.start,i.end,r)>=18)););}catch(O){h.e(O)}finally{h.f()}}n.labelInterval=r}return r}function wh(n,o,t){var i=o.currentRange,r=null;return"years"===n?r=t.diffWholeYears(i.start,i.end):"months"===n||"weeks"===n?r=t.diffWholeMonths(i.start,i.end):"days"===n&&(r=Ag(i.start,i.end)),r||0}function PD(n,o,t){return{date:n,text:o,rowUnit:t,colspan:1,isWeekStart:!1}}var L3=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).refineRenderProps=Qd(Y3),i.buildCellNavLinkAttrs=tn(U3),i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.context,l=s.dateEnv,c=s.options,u=a.cell,x=a.tDateProfile,T=b1(u.date,a.todayRange,a.nowDate,a.dateProfile),O=this.refineRenderProps({level:a.rowLevel,dateMarker:u.date,text:u.text,dateEnv:s.dateEnv,viewApi:s.viewApi});return ye(Ur,{elTag:"th",elClasses:["fc-timeline-slot","fc-timeline-slot-label",u.isWeekStart&&"fc-timeline-slot-em"].concat((0,K.Z)("time"===u.rowUnit?yw(T,s.theme):Rg(T,s.theme))),elAttrs:{colSpan:u.colspan,"data-date":l.formatIso(u.date,{omitTime:!x.isTimeScale,omitTimeZoneOffset:!0})},renderProps:O,generatorName:"slotLabelContent",customGenerator:c.slotLabelContent,defaultGenerator:j3,classNameGenerator:c.slotLabelClassNames,didMount:c.slotLabelDidMount,willUnmount:c.slotLabelWillUnmount},function(U){return ye("div",{className:"fc-timeline-slot-frame",style:{height:a.rowInnerHeight}},ye(U,{elTag:"a",elClasses:["fc-timeline-slot-cushion","fc-scrollgrid-sync-inner",a.isSticky&&"fc-sticky"],elAttrs:r.buildCellNavLinkAttrs(s,u.date,u.rowUnit)}))})}}]),t}(Cn);function U3(n,o,t){return t&&"time"!==t?Fg(n,o,t):{}}function j3(n){return n.text}function Y3(n){return{level:n.level,date:n.dateEnv.toDate(n.dateMarker),view:n.viewApi,text:n.text}}var q3=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=r.dateProfile,s=r.tDateProfile,l=r.rowInnerHeights,c=r.todayRange,u=r.nowDate,h=s.cellRows;return ye(Mn,null,h.map(function(x,T){var O=T===h.length-1;return ye("tr",{key:T,className:["fc-timeline-header-row",s.isTimeScale&&O?"fc-timeline-header-row-chrono":""].join(" ")},x.map(function(de){return ye(L3,{key:de.date.toISOString(),cell:de,rowLevel:T,dateProfile:a,tDateProfile:s,todayRange:c,nowDate:u,rowInnerHeight:l&&l[T],isSticky:!O})}))}))}}]),t}(Cn),J3=function(){function n(o,t,i,r,a,s){(0,I.Z)(this,n),this.slatRootEl=o,this.dateProfile=i,this.tDateProfile=r,this.dateEnv=a,this.isRtl=s,this.outerCoordCache=new id(o,t,!0,!1),this.innerCoordCache=new id(o,function IM(n,o){for(var t=n instanceof HTMLElement?[n]:n,i=[],r=0;r<t.length;r+=1)for(var a=t[r].children,s=0;s<a.length;s+=1){var l=a[s];(!o||uT(l,o))&&i.push(l)}return i}(t,"div"),!0,!1)}return(0,M.Z)(n,[{key:"isDateInRange",value:function(t){return nc(this.dateProfile.currentRange,t)}},{key:"dateToCoord",value:function(t){var i=this.tDateProfile,a=this.computeDateSnapCoverage(t)/i.snapsPerSlot,s=Math.floor(a),l=a-(s=Math.min(s,i.slotCnt-1)),c=this.innerCoordCache,u=this.outerCoordCache;return this.isRtl?u.originClientRect.width-(u.rights[s]-c.getWidth(s)*l):u.lefts[s]+c.getWidth(s)*l}},{key:"rangeToCoords",value:function(t){return{start:this.dateToCoord(t.start),end:this.dateToCoord(t.end)}}},{key:"durationToCoord",value:function(t){var i=this.dateProfile,r=this.tDateProfile,s=this.isRtl,l=0;if(i){var c=this.dateEnv.add(i.activeRange.start,t);r.isTimeScale||(c=Yi(c)),l=this.dateToCoord(c),!s&&l&&(l+=1)}return l}},{key:"coordFromLeft",value:function(t){return this.isRtl?this.outerCoordCache.originClientRect.width-t:t}},{key:"computeDateSnapCoverage",value:function(t){return fx(t,this.tDateProfile,this.dateEnv)}}]),n}();function fx(n,o,t){var i=t.countDurationsBetween(o.normalizedRange.start,n,o.snapDuration);if(i<0)return 0;if(i>=o.snapDiffToIndex.length)return o.snapCnt;var r=Math.floor(i),a=o.snapDiffToIndex[r];return ap(a)?a+=i-r:a=Math.ceil(a),a}function hx(n,o){return null===n?{left:"",right:""}:o?{right:n,left:""}:{left:n,right:""}}function mx(n,o){return n?o?{right:n.start,left:-n.end}:{left:n.start,right:-n.end}:{left:"",right:""}}var ED=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).rootElRef={current:null},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.context,l=Bd(a.tDateProfile.slotDuration).unit,c=a.slatCoords&&a.slatCoords.dateProfile===a.dateProfile?a.slatCoords:null;return ye(zd,{unit:l},function(u,h){return ye("div",{className:"fc-timeline-header",ref:r.rootElRef},ye("table",{"aria-hidden":!0,className:"fc-scrollgrid-sync-table",style:{minWidth:a.tableMinWidth,width:a.clientWidth}},a.tableColGroupNode,ye("tbody",null,ye(q3,{dateProfile:a.dateProfile,tDateProfile:a.tDateProfile,nowDate:u,todayRange:h,rowInnerHeights:a.rowInnerHeights}))),s.options.nowIndicator&&ye("div",{className:"fc-timeline-now-indicator-container"},c&&c.isDateInRange(u)&&ye(Th,{elClasses:["fc-timeline-now-indicator-arrow"],elStyle:hx(c.dateToCoord(u),s.isRtl),isAxis:!0,date:u})))})}},{key:"componentDidMount",value:function(){this.updateSize()}},{key:"componentDidUpdate",value:function(){this.updateSize()}},{key:"updateSize",value:function(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())}},{key:"computeMaxCushionWidth",value:function(){return Math.max.apply(Math,(0,K.Z)(ph(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map(function(r){return r.getBoundingClientRect().width})))}}]),t}(Cn),H3=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.context,s=a.dateEnv,l=a.options,c=a.theme,u=r.date,h=r.tDateProfile,x=r.isEm,T=b1(r.date,r.todayRange,r.nowDate,r.dateProfile),O=Object.assign(Object.assign({date:s.toDate(r.date)},T),{view:a.viewApi});return ye(Ur,{elTag:"td",elRef:r.elRef,elClasses:["fc-timeline-slot","fc-timeline-slot-lane",x&&"fc-timeline-slot-em",h.isTimeScale?ap(s.countDurationsBetween(h.normalizedRange.start,r.date,h.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor":""].concat((0,K.Z)(r.isDay?Rg(T,c):yw(T,c))),elAttrs:{"data-date":s.formatIso(u,{omitTimeZoneOffset:!0,omitTime:!h.isTimeScale})},renderProps:O,generatorName:"slotLaneContent",customGenerator:l.slotLaneContent,classNameGenerator:l.slotLaneClassNames,didMount:l.slotLaneDidMount,willUnmount:l.slotLaneWillUnmount},function(U){return ye(U,{elTag:"div"})})}}]),t}(Cn),B3=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=r.tDateProfile,s=r.cellElRefs,c=a.isWeekStarts,u=!a.isTimeScale&&!a.largeUnit;return ye("tbody",null,ye("tr",null,a.slotDates.map(function(h,x){var T=h.toISOString();return ye(H3,{key:T,elRef:s.createRef(T),date:h,dateProfile:r.dateProfile,tDateProfile:a,nowDate:r.nowDate,todayRange:r.todayRange,isEm:c[x],isDay:u})})))}}]),t}(Cn),ID=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).rootElRef={current:null},i.cellElRefs=new Io,i.handleScrollRequest=function(r){var a=i.props.onScrollLeftRequest,l=(0,yi.Z)(i).coords;return a&&l?(r.time&&a(l.coordFromLeft(l.durationToCoord(r.time))),!0):null},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props;return ye("div",{className:"fc-timeline-slots",ref:this.rootElRef},ye("table",{"aria-hidden":!0,className:this.context.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth}},r.tableColGroupNode,ye(B3,{cellElRefs:this.cellElRefs,dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange})))}},{key:"componentDidMount",value:function(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}},{key:"componentDidUpdate",value:function(r){this.updateSizing(),this.scrollResponder.update(r.dateProfile!==this.props.dateProfile)}},{key:"componentWillUnmount",value:function(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)}},{key:"updateSizing",value:function(){var r=this.props,a=this.context;null!==r.clientWidth&&this.scrollResponder&&this.rootElRef.current.offsetWidth&&(this.coords=new J3(this.rootElRef.current,function V3(n,o){return o.map(function(t){var i=t.toISOString();return n[i]})}(this.cellElRefs.currentMap,r.tDateProfile.slotDates),r.dateProfile,r.tDateProfile,a.dateEnv,a.isRtl),r.onCoords&&r.onCoords(this.coords),this.scrollResponder.update(!1))}},{key:"positionToHit",value:function(r){var a=this.coords.outerCoordCache,s=this.context,l=s.dateEnv,c=s.isRtl,u=this.props.tDateProfile,h=a.leftToIndex(r);if(null!=h){var x=a.getWidth(h),O=Math.floor((c?(a.rights[h]-r)/x:(r-a.lefts[h])/x)*u.snapsPerSlot),U=l.add(u.slotDates[h],DT(u.snapDuration,O));return{dateSpan:{range:{start:U,end:l.add(U,u.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[h],left:a.lefts[h],right:a.rights[h]}}return null}}]),t}(Cn);function ND(n,o,t){var i=[];if(t){var a,r=(0,te.Z)(n);try{for(r.s();!(a=r.n()).done;){var l=t.rangeToCoords(a.value),c=Math.round(l.start),u=Math.round(l.end);u-c<o&&(u=c+o),i.push({start:c,end:u})}}catch(h){r.e(h)}finally{r.f()}}return i}var RD=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=[].concat(r.eventResizeSegs,r.dateSelectionSegs);return r.timelineCoords&&ye("div",{className:"fc-timeline-bg"},this.renderSegs(r.businessHourSegs||[],r.timelineCoords,"non-business"),this.renderSegs(r.bgEventSegs||[],r.timelineCoords,"bg-event"),this.renderSegs(a,r.timelineCoords,"highlight"))}},{key:"renderSegs",value:function(r,a,s){var l=this.props,c=l.todayRange,u=l.nowDate,h=this.context.isRtl,x=ND(r,0,a),T=r.map(function(O,U){var de=mx(x[U],h);return ye("div",{key:Sy(O.eventRange),className:"fc-timeline-bg-harness",style:de},"bg-event"===s?ye(Ky,Object.assign({seg:O},dl(O,c,u))):$y(s))});return ye(Mn,null,T)}}]),t}(Cn),FD=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"sliceRange",value:function(r,a,s,l,c){var u=function E3(n,o,t){if(!o.isTimeScale&&(n=f1(n),o.largeUnit)){var i=n;((n={start:t.startOf(n.start,o.largeUnit),end:t.startOf(n.end,o.largeUnit)}).end.valueOf()!==i.end.valueOf()||n.end<=n.start)&&(n={start:n.start,end:t.add(n.end,o.slotDuration)})}return n}(r,l,c),h=[];if(fx(u.start,l,c)<fx(u.end,l,c)){var x=nd(u,l.normalizedRange);x&&h.push({start:x.start,end:x.end,isStart:x.start.valueOf()===u.start.valueOf()&&R1(x.start,l,a,s),isEnd:x.end.valueOf()===u.end.valueOf()&&R1(ed(x.end,-1),l,a,s)})}return h}}]),t}(Jy),W3=Bi({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}),ZD=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props;return ye(Wy,Object.assign({},r,{elClasses:["fc-timeline-event","fc-h-event"],defaultTimeFormat:W3,defaultDisplayEventTime:!r.isTimeScale}))}}]),t}(Cn),Q3=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,s=r.hiddenSegs,l=r.placement,c=r.resourceId,u=l.top,h=l.hcoords,x=h&&null!==u,T=mx(h,this.context.isRtl),O=c?{resourceId:c}:{};return ye(ex,{elRef:r.elRef,elClasses:["fc-timeline-more-link"],elStyle:Object.assign({visibility:x?"":"hidden",top:u||0},T),allDayDate:null,moreCnt:s.length,allSegs:s,hiddenSegs:s,dateProfile:r.dateProfile,todayRange:r.todayRange,extraDateSpan:O,popoverContent:function(){return ye(Mn,null,s.map(function(re){var de=re.eventRange.instance.instanceId;return ye("div",{key:de,style:{visibility:r.isForcedInvisible[de]?"hidden":""}},ye(ZD,Object.assign({isTimeScale:r.isTimeScale,seg:re,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:de===r.eventSelection},dl(re,r.todayRange,r.nowDate))))}))}},function(U){return ye(U,{elTag:"div",elClasses:["fc-timeline-more-link-inner","fc-sticky"]})})}}]),t}(Cn),gx=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).slicer=new FD,i.sortEventSegs=tn(Dy),i.harnessElRefs=new Io,i.moreElRefs=new Io,i.innerElRef={current:null},i.state={eventInstanceHeights:{},moreLinkHeights:{}},i.handleResize=function(r){r&&i.updateSize()},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.state,s=this.context,l=s.options,c=r.dateProfile,u=r.tDateProfile,h=this.slicer.sliceProps(r,c,u.isTimeScale?null:r.nextDayThreshold,s,c,s.dateProfileGenerator,u,s.dateEnv),x=(h.eventDrag?h.eventDrag.segs:null)||(h.eventResize?h.eventResize.segs:null)||[],T=this.sortEventSegs(h.fgEventSegs,l.eventOrder),U=function G3(n,o,t,i,r,a){for(var s=[],l=[],c=0;c<n.length;c+=1){var u=n[c],x=t[u.eventRange.instance.instanceId],T=o[c];x&&T?s.push({index:c,span:T,thickness:x}):l.push({seg:u,hcoords:T,top:null})}var O=new Zy;null!=r&&(O.strictOrder=r),null!=a&&(O.maxStackCnt=a);for(var U=O.addSegs(s),re=U.map(function(kn){return{seg:n[kn.index],hcoords:kn.span,top:null}}),de=Sw(U),ve=[],Ne=[],De=function(mi){return n[mi.index]},Ge=0;Ge<de.length;Ge+=1){var We=de[Ge],gt=We.entries.map(De),rt=i[t1(D1(gt))];null!=rt?ve.push({index:n.length+Ge,thickness:rt,span:We.span}):Ne.push({seg:gt,hcoords:We.span,top:null})}O.maxStackCnt=-1,O.addSegs(ve);var ln,vt=O.toRects(),Zt=[],Ht=0,Bt=(0,te.Z)(vt);try{for(Bt.s();!(ln=Bt.n()).done;){var Pn=ln.value,Jn=Pn.index;Zt.push({seg:Jn<n.length?n[Jn]:de[Jn-n.length].entries.map(De),hcoords:Pn.span,top:Pn.levelCoord}),Ht=Math.max(Ht,Pn.levelCoord+Pn.thickness)}}catch(kn){Bt.e(kn)}finally{Bt.f()}return[Zt.concat(l,re,Ne),Ht]}(T,ND(T,l.eventMinWidth,r.timelineCoords),a.eventInstanceHeights,a.moreLinkHeights,l.eventOrderStrict,l.eventMaxStack),re=(0,ee.Z)(U,2),de=re[0],ve=re[1],Ne=(h.eventDrag?h.eventDrag.affectedInstances:null)||(h.eventResize?h.eventResize.affectedInstances:null)||{};return ye(Mn,null,ye(RD,{businessHourSegs:h.businessHourSegs,bgEventSegs:h.bgEventSegs,timelineCoords:r.timelineCoords,eventResizeSegs:h.eventResize?h.eventResize.segs:[],dateSelectionSegs:h.dateSelectionSegs,nowDate:r.nowDate,todayRange:r.todayRange}),ye("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:ve}},this.renderFgSegs(de,Ne,!1,!1,!1),this.renderFgSegs(function z3(n,o,t){if(!n.length||!o)return[];var i=function K3(n){var i,o={},t=(0,te.Z)(n);try{for(t.s();!(i=t.n()).done;){var r=i.value,a=r.seg;Array.isArray(a)||(o[a.eventRange.instance.instanceId]=r.top)}}catch(s){t.e(s)}finally{t.f()}return o}(t);return n.map(function(r){return{seg:r,hcoords:o.rangeToCoords(r),top:i[r.eventRange.instance.instanceId]}})}(x,r.timelineCoords,de),{},Boolean(h.eventDrag),Boolean(h.eventResize),!1)))}},{key:"componentDidMount",value:function(){this.updateSize(),this.context.addResizeHandler(this.handleResize)}},{key:"componentDidUpdate",value:function(r,a){(r.eventStore!==this.props.eventStore||r.timelineCoords!==this.props.timelineCoords||a.moreLinkHeights!==this.state.moreLinkHeights)&&this.updateSize()}},{key:"componentWillUnmount",value:function(){this.context.removeResizeHandler(this.handleResize)}},{key:"updateSize",value:function(){var r=this.props,a=r.timelineCoords,s=this.innerElRef.current;r.onHeightChange&&r.onHeightChange(s,!1),a&&this.setState({eventInstanceHeights:Qo(this.harnessElRefs.currentMap,function(l){return Math.round(l.getBoundingClientRect().height)}),moreLinkHeights:Qo(this.moreElRefs.currentMap,function(l){return Math.round(l.getBoundingClientRect().height)})},function(){r.onHeightChange&&r.onHeightChange(s,!0)}),r.syncParentMinHeight&&(s.parentElement.style.minHeight=s.style.height)}},{key:"renderFgSegs",value:function(r,a,s,l,c){var u=this.harnessElRefs,h=this.moreElRefs,x=this.props,T=this.context,O=s||l||c;return ye(Mn,null,r.map(function(U){var re=U.seg,de=U.hcoords,ve=U.top;if(Array.isArray(re)){var Ne=t1(D1(re));return ye(Q3,{key:"m:"+Ne,elRef:h.createRef(Ne),hiddenSegs:re,placement:U,dateProfile:x.dateProfile,nowDate:x.nowDate,todayRange:x.todayRange,isTimeScale:x.tDateProfile.isTimeScale,eventSelection:x.eventSelection,resourceId:x.resourceId,isForcedInvisible:a})}var De=re.eventRange.instance.instanceId,Ge=O||Boolean(!a[De]&&de&&null!==ve),We=mx(de,T.isRtl);return ye("div",{key:"e:"+De,ref:O?null:u.createRef(De),className:"fc-timeline-event-harness",style:Object.assign({visibility:Ge?"":"hidden",top:ve||0},We)},ye(ZD,Object.assign({isTimeScale:x.tDateProfile.isTimeScale,seg:re,isDragging:s,isResizing:l,isDateSelecting:c,isSelected:De===x.eventSelection},dl(re,x.todayRange,x.nowDate))))}))}}]),t}(Cn);gx.addStateEquality({eventInstanceHeights:Eo,moreLinkHeights:Eo});var $3=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).slatsRef={current:null},i.state={coords:null},i.handeEl=function(r){r?i.context.registerInteractiveComponent((0,yi.Z)(i),{el:r}):i.context.unregisterInteractiveComponent((0,yi.Z)(i))},i.handleCoords=function(r){i.setState({coords:r}),i.props.onSlatCoords&&i.props.onSlatCoords(r)},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.state,l=this.context,c=l.options,u=a.dateProfile,h=a.tDateProfile,x=Bd(h.slotDuration).unit;return ye("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:a.tableMinWidth,height:a.clientHeight,width:a.clientWidth}},ye(zd,{unit:x},function(T,O){return ye(Mn,null,ye(ID,{ref:r.slatsRef,dateProfile:u,tDateProfile:h,nowDate:T,todayRange:O,clientWidth:a.clientWidth,tableColGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,onCoords:r.handleCoords,onScrollLeftRequest:a.onScrollLeftRequest}),ye(gx,{dateProfile:u,tDateProfile:a.tDateProfile,nowDate:T,todayRange:O,nextDayThreshold:c.nextDayThreshold,businessHours:a.businessHours,eventStore:a.eventStore,eventUiBases:a.eventUiBases,dateSelection:a.dateSelection,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,timelineCoords:s.coords,syncParentMinHeight:!0}),c.nowIndicator&&s.coords&&s.coords.isDateInRange(T)&&ye("div",{className:"fc-timeline-now-indicator-container"},ye(Th,{elClasses:["fc-timeline-now-indicator-line"],elStyle:hx(s.coords.dateToCoord(T),l.isRtl),isAxis:!1,date:T})))}))}},{key:"queryHit",value:function(r,a,s,l){var u=this.slatsRef.current.positionToHit(r);return u?{dateProfile:this.props.dateProfile,dateSpan:u.dateSpan,rect:{left:u.left,right:u.right,top:0,bottom:l},dayEl:u.dayEl,layer:0}:null}}]),t}(fa),X3=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).buildTimelineDateProfile=tn(AD),i.scrollGridRef={current:null},i.state={slatCoords:null,slotCushionMaxWidth:null},i.handleSlatCoords=function(r){i.setState({slatCoords:r})},i.handleScrollLeftRequest=function(r){i.scrollGridRef.current.forceScrollLeft(0,r)},i.handleMaxCushionWidth=function(r){i.setState({slotCushionMaxWidth:Math.ceil(r)})},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.state,l=this.context,c=l.options,u=!a.forPrint&&Ch(c),h=!a.forPrint&&w1(c),x=this.buildTimelineDateProfile(a.dateProfile,l.dateEnv,c,l.dateProfileGenerator),T=c.slotMinWidth,O=LD(x,T||this.computeFallbackSlotMinWidth(x)),U=[{type:"header",key:"header",isSticky:u,chunks:[{key:"timeline",content:function(de){return ye(ED,{dateProfile:a.dateProfile,clientWidth:de.clientWidth,clientHeight:de.clientHeight,tableMinWidth:de.tableMinWidth,tableColGroupNode:de.tableColGroupNode,tDateProfile:x,slatCoords:s.slatCoords,onMaxCushionWidth:T?null:r.handleMaxCushionWidth})}}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:function(de){return ye($3,Object.assign({},a,{clientWidth:de.clientWidth,clientHeight:de.clientHeight,tableMinWidth:de.tableMinWidth,tableColGroupNode:de.tableColGroupNode,tDateProfile:x,onSlatCoords:r.handleSlatCoords,onScrollLeftRequest:r.handleScrollLeftRequest}))}}]}];return h&&U.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:xh}]}),ye(cp,{elClasses:["fc-timeline",!1===c.eventOverlap?"fc-timeline-overlap-disabled":""],viewSpec:l.viewSpec},ye(ux,{ref:this.scrollGridRef,liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:!1,colGroups:[{cols:O}],sections:U}))}},{key:"computeFallbackSlotMinWidth",value:function(r){return Math.max(30,(this.state.slotCushionMaxWidth||0)/r.slotsPerLabel)}}]),t}(fa);function LD(n,o){return[{span:n.slotCnt,minWidth:o||1}]}uh('.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:var(--fc-small-font-size);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:"";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;font-size:var(--fc-small-font-size);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}');var tI=ha({name:"@fullcalendar/timeline",premiumReleaseDate:"2023-02-07",deps:[dx],initialView:"timelineDay",views:{timeline:{component:X3,usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}}),UD="_fc:",nI={id:String,parentId:String,children:at,title:String,businessHours:at,extendedProps:at,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:at,eventOverlap:Boolean,eventAllow:at,eventClassNames:xy,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};function _x(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=mh(n,nI),a=r.refined,s=r.extra,l={id:a.id||UD+ec(),parentId:a.parentId||o,title:a.title||"",businessHours:a.businessHours?rw(a.businessHours,i):null,ui:Ig({editable:a.eventEditable,startEditable:a.eventStartEditable,durationEditable:a.eventDurationEditable,constraint:a.eventConstraint,overlap:a.eventOverlap,allow:a.eventAllow,classNames:a.eventClassNames,backgroundColor:a.eventBackgroundColor,borderColor:a.eventBorderColor,textColor:a.eventTextColor,color:a.eventColor},i),extendedProps:Object.assign(Object.assign({},s),a.extendedProps)};if(Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),!t[l.id]&&(t[l.id]=l,a.children)){var u,c=(0,te.Z)(a.children);try{for(c.s();!(u=c.n()).done;){var h=u.value;_x(h,l.id,t,i)}}catch(x){c.e(x)}finally{c.f()}}return l}function jD(n){return 0===n.indexOf(UD)?"":n}var ul=function(){function n(o,t){(0,I.Z)(this,n),this._context=o,this._resource=t}return(0,M.Z)(n,[{key:"setProp",value:function(t,i){var r=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:r.id,propName:t,propValue:i}),this.sync(r)}},{key:"setExtendedProp",value:function(t,i){var r=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:r.id,propName:t,propValue:i}),this.sync(r)}},{key:"sync",value:function(t){var i=this._context,r=t.id;this._resource=i.getCurrentData().resourceStore[r],i.emitter.trigger("resourceChange",{oldResource:new n(i,t),resource:this,revert:function(){i.dispatch({type:"ADD_RESOURCE",resourceHash:(0,B.Z)({},r,t)})}})}},{key:"remove",value:function(){var t=this._context,i=this._resource,r=i.id;t.dispatch({type:"REMOVE_RESOURCE",resourceId:r}),t.emitter.trigger("resourceRemove",{resource:this,revert:function(){t.dispatch({type:"ADD_RESOURCE",resourceHash:(0,B.Z)({},r,i)})}})}},{key:"getParent",value:function(){var t=this._context,i=this._resource.parentId;return i?new n(t,t.getCurrentData().resourceSource[i]):null}},{key:"getChildren",value:function(){var t=this._resource.id,i=this._context,a=i.getCurrentData().resourceStore,s=[];for(var l in a)a[l].parentId===t&&s.push(new n(i,a[l]));return s}},{key:"getEvents",value:function(){var t=this._resource.id,i=this._context,r=i.getCurrentData().eventStore,a=r.defs,s=r.instances,l=[];for(var c in s){var u=s[c],h=a[u.defId];-1!==h.resourceIds.indexOf(t)&&l.push(new cr(i,h,u))}return l}},{key:"id",get:function(){return jD(this._resource.id)}},{key:"title",get:function(){return this._resource.title}},{key:"eventConstraint",get:function(){return this._resource.ui.constraints[0]||null}},{key:"eventOverlap",get:function(){return this._resource.ui.overlap}},{key:"eventAllow",get:function(){return this._resource.ui.allows[0]||null}},{key:"eventBackgroundColor",get:function(){return this._resource.ui.backgroundColor}},{key:"eventBorderColor",get:function(){return this._resource.ui.borderColor}},{key:"eventTextColor",get:function(){return this._resource.ui.textColor}},{key:"eventClassNames",get:function(){return this._resource.ui.classNames}},{key:"extendedProps",get:function(){return this._resource.extendedProps}},{key:"toPlainObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._resource,r=i.ui,a=this.id,s={};return a&&(s.id=a),i.title&&(s.title=i.title),t.collapseEventColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?s.eventColor=r.backgroundColor:(r.backgroundColor&&(s.eventBackgroundColor=r.backgroundColor),r.borderColor&&(s.eventBorderColor=r.borderColor)),r.textColor&&(s.eventTextColor=r.textColor),r.classNames.length&&(s.eventClassNames=r.classNames),Object.keys(i.extendedProps).length&&(t.collapseExtendedProps?Object.assign(s,i.extendedProps):s.extendedProps=i.extendedProps),s}},{key:"toJSON",value:function(){return this.toPlainObject()}}]),n}(),YD=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"getKeyInfo",value:function(r){return Object.assign({"":{}},r.resourceStore)}},{key:"getKeysForDateSpan",value:function(r){return[r.resourceId||""]}},{key:"getKeysForEventDef",value:function(r){var a=r.resourceIds;return a.length?a:[""]}}]),t}(Ey),rI=ry("id,title");function aI(n){return{resource:new ul(n.context,n.resource)}}function qD(n,o,t,i,r,a){var s=function uI(n,o,t,i){var r=function pI(n,o){var t={};for(var i in n){var r=n[i];t[i]={resource:r,resourceFields:BD(r),children:[]}}for(var a in n){var s=n[a];if(s.parentId){var l=t[s.parentId];l&&HD(t[a],l.children,o)}}return t}(n,i),a=[];for(var s in r){var l=r[s];l.resource.parentId||JD(l,a,t,0,o,i)}return a}(n,i?-1:1,o,t),l=[];return F1(s,l,i,[],0,r,a),l}function F1(n,o,t,i,r,a,s){for(var l=0;l<n.length;l+=1){var c=n[l],u=c.group;if(u)if(t){var h=o.length,x=i.length;if(F1(c.children,o,t,i.concat(0),r,a,s),h<o.length){var T=o[h];(T.rowSpans=T.rowSpans.slice())[x]=o.length-h}}else{var U=u.spec.field+":"+u.value,re=null!=a[U]?a[U]:s;o.push({id:U,group:u,isExpanded:re}),re&&F1(c.children,o,t,i,r+1,a,s)}else if(c.resource){var de=c.resource.id,ve=null!=a[de]?a[de]:s;o.push({id:de,rowSpans:i,depth:r,isExpanded:ve,hasChildren:Boolean(c.children.length),resource:c.resource,resourceFields:c.resourceFields}),ve&&F1(c.children,o,t,i,r+1,a,s)}}}function JD(n,o,t,i,r,a){if(t.length&&(-1===r||i<=r)){var s=function fI(n,o,t){var r,a,i=n.resourceFields[t.field];if(t.order)for(a=0;a<o.length;a+=1){var s=o[a];if(s.group){var l=xT(i,s.group.value)*t.order;if(0===l){r=s;break}if(l<0)break}}else for(a=0;a<o.length;a+=1){var c=o[a];if(c.group&&i===c.group.value){r=c;break}}return r||o.splice(a,0,r={group:{value:i,spec:t},children:[]}),r}(n,o,t[0]);JD(n,s.children,t.slice(1),i+1,r,a)}else HD(n,o,a)}function HD(n,o,t){var i;for(i=0;i<o.length&&!(yT(o[i].resourceFields,n.resourceFields,t)>0);i+=1);o.splice(i,0,n)}function BD(n){var o=Object.assign(Object.assign(Object.assign({},n.extendedProps),n.ui),n);return delete o.ui,delete o.extendedProps,o}function VD(n,o){var t=n.resourceEditable;if(null==t){var i=n.sourceId&&o.getCurrentData().eventSources[n.sourceId];i&&(t=i.extendedProps.resourceEditable),null==t&&null==(t=o.options.eventResourceEditable)&&(t=o.options.editable)}return t}var vI=function(){function n(){(0,I.Z)(this,n),this.filterResources=tn(bI)}return(0,M.Z)(n,[{key:"transform",value:function(t,i){return i.viewSpec.optionDefaults.needsResourceData?{resourceStore:this.filterResources(i.resourceStore,i.options.filterResourcesWithEvents,i.eventStore,i.dateProfile.activeRange),resourceEntityExpansions:i.resourceEntityExpansions}:null}}]),n}();function bI(n,o,t,i){if(o){var r=function yI(n,o){return td(n,function(t){return u1(t.range,o)})}(t.instances,i),a=function xI(n,o){var t={};for(var i in n){var s,a=(0,te.Z)(o[n[i].defId].resourceIds);try{for(a.s();!(s=a.n()).done;)t[s.value]=!0}catch(c){a.e(c)}finally{a.f()}}return t}(r,t.defs);return Object.assign(a,function CI(n,o){var t={};for(var i in n)for(var r=void 0;(r=o[i])&&(i=r.parentId);)t[i]=!0;return t}(a,n)),td(n,function(s,l){return a[l]})}return n}var wI=function(){function n(){(0,I.Z)(this,n),this.buildResourceEventUis=tn(DI,Eo),this.injectResourceEventUis=tn(SI)}return(0,M.Z)(n,[{key:"transform",value:function(t,i){return i.viewSpec.optionDefaults.needsResourceData?null:{eventUiBases:this.injectResourceEventUis(t.eventUiBases,t.eventStore.defs,this.buildResourceEventUis(i.resourceStore))}}}]),n}();function DI(n){return Qo(n,function(o){return o.ui})}function SI(n,o,t){return Qo(n,function(i,r){return r?function kI(n,o,t){var a,i=[],r=(0,te.Z)(o.resourceIds);try{for(r.s();!(a=r.n()).done;){var s=a.value;t[s]&&i.unshift(t[s])}}catch(l){r.e(l)}finally{r.f()}return i.unshift(n),Cy(i)}(i,o[r],t):i})}var bx=[];function yx(n){bx.push(n)}function GD(n){return bx[n]}var MI={id:String,resources:at,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:at};function WD(n,o,t,i){if(n){var r=function OI(n){var o;if("string"==typeof n?o={url:n}:"function"==typeof n||Array.isArray(n)?o={resources:n}:"object"==typeof n&&n&&(o=n),o){var t=mh(o,MI),i=t.refined;!function EI(n){for(var o in n)console.warn("Unknown resource prop '".concat(o,"'"))}(t.extra);var a=function PI(n){for(var o=function AI(){return bx}(),t=o.length-1;t>=0;t-=1){var r=o[t].parseMeta(n);if(r)return{meta:r,sourceDefId:t}}return null}(i);if(a)return{_raw:n,sourceId:ec(),sourceDefId:a.sourceDefId,meta:a.meta,publicId:i.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}(n);return xx(r,t?o:null,i)}return null}function xx(n,o,t){var i=GD(n.sourceDefId),r=ec();return i.fetch({resourceSource:n,range:o,context:t},function(a){t.dispatch({type:"RECEIVE_RESOURCES",fetchId:r,fetchRange:o,rawResources:a.rawResources})},function(a){t.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:r,fetchRange:o,error:a})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:r})}var BI={resourceId:String,resourceIds:at,resourceEditable:Boolean};function GI(n){return(n||[]).map(function(o){return String(o)})}function $I(n,o){return Object.assign(Object.assign({},o),{constraints:XI(n,o.constraints)})}function XI(n,o){return o.map(function(t){var i=t.defs;if(i)for(var r in i){var a=i[r].resourceIds;if(a.length&&-1===a.indexOf(n))return!1}return t})}yh.prototype.addResource=function(n){var r,a,o=this,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.getCurrentData();n instanceof ul?r=(0,B.Z)({},(a=n._resource).id,a):a=_x(n,"",r={},i),this.dispatch({type:"ADD_RESOURCE",resourceHash:r}),t&&this.trigger("_scrollRequest",{resourceId:a.id});var s=new ul(i,a);return i.emitter.trigger("resourceAdd",{resource:s,revert:function(){o.dispatch({type:"REMOVE_RESOURCE",resourceId:a.id})}}),s},yh.prototype.getResourceById=function(n){n=String(n);var o=this.getCurrentData();if(o.resourceStore){var t=o.resourceStore[n];if(t)return new ul(o,t)}return null},yh.prototype.getResources=function(){var n=this.getCurrentData(),o=n.resourceStore,t=[];if(o)for(var i in o)t.push(new ul(n,o[i]));return t},yh.prototype.getTopLevelResources=function(){var n=this.getCurrentData(),o=n.resourceStore,t=[];if(o)for(var i in o)o[i].parentId||t.push(new ul(n,o[i]));return t},yh.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};var iN={initialResources:at,resources:at,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:ry,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:at,resourceAreaColumns:at,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:at,resourceAreaHeaderContent:at,resourceAreaHeaderDidMount:at,resourceAreaHeaderWillUnmount:at,resourceGroupLabelClassNames:at,resourceGroupLabelContent:at,resourceGroupLabelDidMount:at,resourceGroupLabelWillUnmount:at,resourceLabelClassNames:at,resourceLabelContent:at,resourceLabelDidMount:at,resourceLabelWillUnmount:at,resourceLaneClassNames:at,resourceLaneContent:at,resourceLaneDidMount:at,resourceLaneWillUnmount:at,resourceGroupLaneClassNames:at,resourceGroupLaneContent:at,resourceGroupLaneDidMount:at,resourceGroupLaneWillUnmount:at},rN={resourcesSet:at,resourceAdd:at,resourceChange:at,resourceRemove:at};cr.prototype.getResources=function(){var n=this._context.calendarApi;return this._def.resourceIds.map(function(o){return n.getResourceById(o)})},cr.prototype.setResources=function(n){var i,o=[],t=(0,te.Z)(n);try{for(t.s();!(i=t.n()).done;){var r=i.value,a=null;"string"==typeof r?a=r:"number"==typeof r?a=String(r):r instanceof ul?a=r.id:console.warn("unknown resource type: "+r),a&&o.push(a)}}catch(s){t.e(s)}finally{t.f()}this.mutate({standardProps:{resourceIds:o}})},yx({ignoreRange:!0,parseMeta:function(o){return Array.isArray(o.resources)?o.resources:null},fetch:function(o,t){t({rawResources:o.resourceSource.meta})}}),yx({parseMeta:function(o){return"function"==typeof o.resources?o.resources:null},fetch:function(o,t,i){var r=o.context.dateEnv,a=o.resourceSource.meta,s=o.range?{start:r.toDate(o.range.start),end:r.toDate(o.range.end),startStr:r.formatIso(o.range.start),endStr:r.formatIso(o.range.end),timeZone:r.timeZone}:{};mw(a.bind(null,s),function(l){return t({rawResources:l})},i)}}),yx({parseMeta:function(o){return o.url?{url:o.url,method:(o.method||"GET").toUpperCase(),extraParams:o.extraParams}:null},fetch:function(o,t,i){var r=o.resourceSource.meta,a=function oN(n,o,t){var a,s,l,c,i=t.dateEnv,r=t.options,u={};return o&&(null==(a=n.startParam)&&(a=r.startParam),null==(s=n.endParam)&&(s=r.endParam),null==(l=n.timeZoneParam)&&(l=r.timeZoneParam),u[a]=i.formatIso(o.start),u[s]=i.formatIso(o.end),"local"!==i.timeZone&&(u[l]=i.timeZone)),c="function"==typeof n.extraParams?n.extraParams():n.extraParams||{},Object.assign(u,c),u}(r,o.range,o.context);_w(r.method,r.url,a).then(function(s){var l=(0,ee.Z)(s,2);t({rawResources:l[0],response:l[1]})},i)}});var aN=ha({name:"@fullcalendar/resource",premiumReleaseDate:"2023-02-07",deps:[dx],reducers:[function HI(n,o,t){var i=function II(n,o,t){var i=t.options,r=t.dateProfile;if(!n||!o)return WD(i.initialResources||i.resources,r.activeRange,i.refetchResourcesOnNavigate,t);switch(o.type){case"RESET_RESOURCE_SOURCE":return WD(o.resourceSourceInput,r.activeRange,i.refetchResourcesOnNavigate,t);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return function NI(n,o,t,i){return!t||function RI(n){return Boolean(GD(n.sourceDefId).ignoreRange)}(n)||n.fetchRange&&GT(n.fetchRange,o)?n:xx(n,o,i)}(n,r.activeRange,i.refetchResourcesOnNavigate,t);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return function FI(n,o,t){return o===n.latestFetchId?Object.assign(Object.assign({},n),{isFetching:!1,fetchRange:t}):n}(n,o.fetchId,o.fetchRange);case"REFETCH_RESOURCES":return xx(n,r.activeRange,t);default:return n}}(n&&n.resourceSource,o,t),r=function ZI(n,o,t,i){if(!n||!o)return{};switch(o.type){case"RECEIVE_RESOURCES":return function LI(n,o,t,i,r){if(i.latestFetchId===t){var l,a={},s=(0,te.Z)(o);try{for(s.s();!(l=s.n()).done;)_x(l.value,"",a,r)}catch(u){s.e(u)}finally{s.f()}return a}return n}(n,o.rawResources,o.fetchId,t,i);case"ADD_RESOURCE":return function UI(n,o){return Object.assign(Object.assign({},n),o)}(n,o.resourceHash);case"REMOVE_RESOURCE":return function jI(n,o){var t=Object.assign({},n);for(var i in delete t[o],t)t[i].parentId===o&&(t[i]=Object.assign(Object.assign({},t[i]),{parentId:""}));return t}(n,o.resourceId);case"SET_RESOURCE_PROP":return function YI(n,o,t,i){var r=n[o];return r?Object.assign(Object.assign({},n),(0,B.Z)({},o,Object.assign(Object.assign({},r),(0,B.Z)({},t,i)))):n}(n,o.resourceId,o.propName,o.propValue);case"SET_RESOURCE_EXTENDED_PROP":return function qI(n,o,t,i){var r=n[o];return r?Object.assign(Object.assign({},n),(0,B.Z)({},o,Object.assign(Object.assign({},r),{extendedProps:Object.assign(Object.assign({},r.extendedProps),(0,B.Z)({},t,i))}))):n}(n,o.resourceId,o.propName,o.propValue);default:return n}}(n&&n.resourceStore,o,i,t),a=function JI(n,o){return n&&o?"SET_RESOURCE_ENTITY_EXPANDED"===o.type?Object.assign(Object.assign({},n),(0,B.Z)({},o.id,o.isExpanded)):n:{}}(n&&n.resourceEntityExpansions,o);return{resourceSource:i,resourceStore:r,resourceEntityExpansions:a}}],isLoadingFuncs:[function(n){return n.resourceSource&&n.resourceSource.isFetching}],eventRefiners:BI,eventDefMemberAdders:[function VI(n){return{resourceIds:GI(n.resourceIds).concat(n.resourceId?[n.resourceId]:[]),resourceEditable:n.resourceEditable}}],isDraggableTransformers:[function TI(n,o,t,i){if(!n){var r=i.getCurrentData();if(r.viewSpecs[r.currentViewType].optionDefaults.needsResourceData&&VD(o,i))return!0}return n}],eventDragMutationMassagers:[function mI(n,o,t){var i=o.dateSpan.resourceId,r=t.dateSpan.resourceId;i&&r&&i!==r&&(n.resourceMutation={matchResourceId:i,setResourceId:r})}],eventDefMutationAppliers:[function gI(n,o,t){var i=o.resourceMutation;if(i&&VD(n,t)){var r=n.resourceIds.indexOf(i.matchResourceId);if(-1!==r){var a=n.resourceIds.slice();a.splice(r,1),-1===a.indexOf(i.setResourceId)&&a.push(i.setResourceId),n.resourceIds=a}}}],dateSelectionTransformers:[function WI(n,o){var t=n.dateSpan.resourceId;return t&&o.dateSpan.resourceId?{resourceId:t}:null}],datePointTransforms:[function QI(n,o){return n.resourceId?{resource:o.calendarApi.getResourceById(n.resourceId)}:{}}],dateSpanTransforms:[function zI(n,o){return n.resourceId?{resource:o.calendarApi.getResourceById(n.resourceId)}:{}}],viewPropsTransformers:[vI,wI],isPropsValid:function KI(n,o){var i=(new YD).splitProps(Object.assign(Object.assign({},n),{resourceStore:o.getCurrentData().resourceStore}));for(var r in i){var a=i[r];if(r&&i[""]&&(a=Object.assign(Object.assign({},a),{eventStore:m1(i[""].eventStore,a.eventStore),eventUiBases:Object.assign(Object.assign({},i[""].eventUiBases),a.eventUiBases)})),!Lw(a,o,{resourceId:r},$I.bind(null,r)))return!1}return!0},externalDefTransforms:[function eN(n){return n.resourceId?{resourceId:n.resourceId}:{}}],eventDropTransformers:[function _I(n,o){var t=n.resourceMutation;if(t){var i=o.calendarApi;return{oldResource:i.getResourceById(t.matchResourceId),newResource:i.getResourceById(t.setResourceId)}}return{oldResource:null,newResource:null}}],optionChangeHandlers:{resources:function nN(n,o){o.getCurrentData().resourceSource._raw!==n&&o.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:n})}},optionRefiners:iN,listenerRefiners:rN,propSetHandlers:{resourceStore:function oI(n,o){var t=o.emitter;t.hasHandlers("resourcesSet")&&t.trigger("resourcesSet",function iI(n,o){var t=[];for(var i in n)t.push(new ul(o,n[i]));return t}(n,o))}}});function QD(n){for(var o=n.depth,t=n.hasChildren,i=n.isExpanded,r=n.onExpanderClick,a=[],s=0;s<o;s+=1)a.push(ye("span",{className:"fc-icon"}));var l=["fc-icon"];return t&&l.push(i?"fc-icon-minus-square":"fc-icon-plus-square"),a.push(ye("span",{className:"fc-datagrid-expander"+(t?"":" fc-datagrid-expander-placeholder"),onClick:r},ye("span",{className:l.join(" ")}))),ye.apply(void 0,[Mn,{}].concat(a))}var sN=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).refineRenderProps=Qd(cN),i.onExpanderClick=function(r){var s=(0,yi.Z)(i).props;s.hasChildren&&i.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:s.resource.id,isExpanded:!s.isExpanded})},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,l=a.colSpec,c=this.refineRenderProps({resource:a.resource,fieldValue:a.fieldValue,context:this.context});return ye(Ur,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource"],elAttrs:{role:"gridcell","data-resource-id":a.resource.id},renderProps:c,generatorName:l.isMain?"resourceLabelContent":void 0,customGenerator:l.cellContent,defaultGenerator:lN,classNameGenerator:l.cellClassNames,didMount:l.cellDidMount,willUnmount:l.cellWillUnmount},function(u){return ye("div",{className:"fc-datagrid-cell-frame",style:{height:a.innerHeight}},ye("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},l.isMain&&ye(QD,{depth:a.depth,hasChildren:a.hasChildren,isExpanded:a.isExpanded,onExpanderClick:r.onExpanderClick}),ye(u,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})))})}}]),t}(Cn);function lN(n){return n.fieldValue||ye(Mn,null,"\xa0")}function cN(n){return{resource:new ul(n.context,n.resource),fieldValue:n.fieldValue,view:n.context.viewApi}}var dN=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,s=r.colSpec;return ye(Ur,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource-group"],elAttrs:{role:"gridcell",rowSpan:r.rowSpan},renderProps:{groupValue:r.fieldValue,view:this.context.viewApi},generatorName:"resourceGroupLabelContent",customGenerator:s.cellContent,defaultGenerator:uN,classNameGenerator:s.cellClassNames,didMount:s.cellDidMount,willUnmount:s.cellWillUnmount},function(c){return ye("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},ye(c,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-sticky"]}))})}}]),t}(Cn);function uN(n){return n.groupValue||ye(Mn,null,"\xa0")}var zD=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=r.resource,s=r.rowSpans,l=r.depth,c=BD(a);return ye("tr",{role:"row"},r.colSpecs.map(function(u,h){var x=s[h];if(0===x)return null;null==x&&(x=1);var T=u.field?c[u.field]:a.title||jD(a.id);return x>1?ye(dN,{key:h,colSpec:u,fieldValue:T,rowSpan:x}):ye(sN,{key:h,colSpec:u,resource:a,fieldValue:T,depth:l,hasChildren:r.hasChildren,isExpanded:r.isExpanded,innerHeight:r.innerHeight})}))}}]),t}(Cn);zD.addPropsEquality({rowSpans:Ka});var KD=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).innerInnerRef={current:null},i.onExpanderClick=function(){var a=(0,yi.Z)(i).props;i.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:a.id,isExpanded:!a.isExpanded})},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.context,l={groupValue:a.group.value,view:s.viewApi},c=a.group.spec;return ye("tr",{role:"row"},ye(Ur,{elTag:"th",elClasses:["fc-datagrid-cell","fc-resource-group",s.theme.getClass("tableCellShaded")],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:a.spreadsheetColCnt},renderProps:l,generatorName:"resourceGroupLabelContent",customGenerator:c.labelContent,defaultGenerator:pN,classNameGenerator:c.labelClassNames,didMount:c.labelDidMount,willUnmount:c.labelWillUnmount},function(u){return ye("div",{className:"fc-datagrid-cell-frame",style:{height:a.innerHeight}},ye("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:r.innerInnerRef},ye(QD,{depth:0,hasChildren:!0,isExpanded:a.isExpanded,onExpanderClick:r.onExpanderClick}),ye(u,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})))}))}}]),t}(Cn);function pN(n){return n.groupValue||ye(Mn,null,"\xa0")}KD.addPropsEquality({group:function hI(n,o){return n.spec===o.spec&&n.value===o.value}});var hN=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).resizerElRefs=new Io(i._handleColResizerEl.bind((0,yi.Z)(i))),i.colDraggings={},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=a.colSpecs,l=a.superHeaderRendering,c=a.rowInnerHeights,u={view:this.context.viewApi},h=[];if(c=c.slice(),l){var x=c.shift();h.push(ye("tr",{key:"row-super",role:"row"},ye(Ur,{elTag:"th",elClasses:["fc-datagrid-cell","fc-datagrid-cell-super"],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:s.length},renderProps:u,generatorName:"resourceAreaHeaderContent",customGenerator:l.headerContent,defaultGenerator:l.headerDefault,classNameGenerator:l.headerClassNames,didMount:l.headerDidMount,willUnmount:l.headerWillUnmount},function(O){return ye("div",{className:"fc-datagrid-cell-frame",style:{height:x}},ye(O,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-scrollgrid-sync-inner"]}))})))}var T=c.shift();return h.push(ye("tr",{key:"row",role:"row"},s.map(function(O,U){var re=U===s.length-1;return ye(Ur,{key:U,elTag:"th",elClasses:["fc-datagrid-cell"],elAttrs:{role:"columnheader"},renderProps:u,generatorName:"resourceAreaHeaderContent",customGenerator:O.headerContent,defaultGenerator:O.headerDefault,classNameGenerator:O.headerClassNames,didMount:O.headerDidMount,willUnmount:O.headerWillUnmount},function(de){return ye("div",{className:"fc-datagrid-cell-frame",style:{height:T}},ye("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},O.isMain&&ye("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},ye("span",{className:"fc-icon"})),ye(de,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})),!re&&ye("div",{className:"fc-datagrid-cell-resizer",ref:r.resizerElRefs.createRef(U)}))})}))),ye(Mn,null,h)}},{key:"_handleColResizerEl",value:function(r,a){var s=this.colDraggings;if(r){var c=this.initColResizing(r,parseInt(a,10));c&&(s[a]=c)}else{var l=s[a];l&&(l.destroy(),delete s[a])}}},{key:"initColResizing",value:function(r,a){var s=this.context,c=s.isRtl,u=this.props.onColWidthChange,h=s.pluginHooks.elementDraggingImpl;if(h){var T,O,x=new h(r);return x.emitter.on("dragstart",function(){var U=ph(_o(r,"tr"),"th");O=U.map(function(re){return re.getBoundingClientRect().width}),T=O[a]}),x.emitter.on("dragmove",function(U){O[a]=Math.max(T+U.deltaX*(c?-1:1),20),u&&u(O.slice())}),x.setAutoScrollEnabled(!1),x}return null}}]),t}(Cn),mN=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).refineRenderProps=Qd(aI),i.handleHeightChange=function(r,a){i.props.onHeightChange&&i.props.onHeightChange(_o(r,"tr"),a)},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.context,l=s.options,c=this.refineRenderProps({resource:a.resource,context:s});return ye("tr",{ref:a.elRef},ye(Ur,{elTag:"td",elClasses:["fc-timeline-lane","fc-resource"],elAttrs:{"data-resource-id":a.resource.id},renderProps:c,generatorName:"resourceLaneContent",customGenerator:l.resourceLaneContent,classNameGenerator:l.resourceLaneClassNames,didMount:l.resourceLaneDidMount,willUnmount:l.resourceLaneWillUnmount},function(u){return ye("div",{className:"fc-timeline-lane-frame",style:{height:a.innerHeight}},ye(u,{elTag:"div",elClasses:["fc-timeline-lane-misc"]}),ye(gx,{dateProfile:a.dateProfile,tDateProfile:a.tDateProfile,nowDate:a.nowDate,todayRange:a.todayRange,nextDayThreshold:a.nextDayThreshold,businessHours:a.businessHours,eventStore:a.eventStore,eventUiBases:a.eventUiBases,dateSelection:a.dateSelection,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,timelineCoords:a.timelineCoords,onHeightChange:r.handleHeightChange,resourceId:a.resource.id}))}))}}]),t}(Cn),gN=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.context,s=r.renderHooks,l={groupValue:r.groupValue,view:a.viewApi};return ye("tr",{ref:r.elRef},ye(Ur,{elTag:"td",elRef:r.elRef,elClasses:["fc-timeline-lane","fc-resource-group",a.theme.getClass("tableCellShaded")],renderProps:l,generatorName:"resourceGroupLaneContent",customGenerator:s.laneContent,classNameGenerator:s.laneClassNames,didMount:s.laneDidMount,willUnmount:s.laneWillUnmount},function(c){return ye(c,{elTag:"div",elStyle:{height:r.innerHeight}})}))}}]),t}(Cn),_N=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.context,s=r.rowElRefs,l=r.innerHeights;return ye("tbody",null,r.rowNodes.map(function(c,u){if(c.group)return ye(gN,{key:c.id,elRef:s.createRef(c.id),groupValue:c.group.value,renderHooks:c.group.spec,innerHeight:l[u]||""});if(c.resource){var h=c.resource;return ye(mN,Object.assign({key:c.id,elRef:s.createRef(c.id)},r.splitProps[h.id],{resource:h,dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange,nextDayThreshold:a.options.nextDayThreshold,businessHours:h.businessHours||r.fallbackBusinessHours,innerHeight:l[u]||"",timelineCoords:r.slatCoords,onHeightChange:r.onRowHeightChange}))}return null}))}}]),t}(Cn),vN=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).rootElRef={current:null},i.rowElRefs=new Io,i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props;return ye("table",{ref:this.rootElRef,"aria-hidden":!0,className:"fc-scrollgrid-sync-table "+this.context.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:r.minHeight}},ye(_N,{rowElRefs:this.rowElRefs,rowNodes:r.rowNodes,dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange,splitProps:r.splitProps,fallbackBusinessHours:r.fallbackBusinessHours,slatCoords:r.slatCoords,innerHeights:r.innerHeights,onRowHeightChange:r.onRowHeightChange}))}},{key:"componentDidMount",value:function(){this.updateCoords()}},{key:"componentDidUpdate",value:function(){this.updateCoords()}},{key:"componentWillUnmount",value:function(){this.props.onRowCoords&&this.props.onRowCoords(null)}},{key:"updateCoords",value:function(){var r=this.props;r.onRowCoords&&null!==r.clientWidth&&this.props.onRowCoords(new id(this.rootElRef.current,function bN(n,o){return o.map(function(t){return n[t.id]})}(this.rowElRefs.currentMap,r.rowNodes),!1,!0))}}]),t}(Cn),yN=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).computeHasResourceBusinessHours=tn(xN),i.resourceSplitter=new YD,i.bgSlicer=new FD,i.slatsRef={current:null},i.state={slatCoords:null},i.handleEl=function(r){r?i.context.registerInteractiveComponent((0,yi.Z)(i),{el:r}):i.context.unregisterInteractiveComponent((0,yi.Z)(i))},i.handleSlatCoords=function(r){i.setState({slatCoords:r}),i.props.onSlatCoords&&i.props.onSlatCoords(r)},i.handleRowCoords=function(r){i.rowCoords=r,i.props.onRowCoords&&i.props.onRowCoords(r)},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.state,l=this.context,c=a.dateProfile,u=a.tDateProfile,h=Bd(u.slotDuration).unit,x=this.computeHasResourceBusinessHours(a.rowNodes),T=this.resourceSplitter.splitProps(a),U=this.bgSlicer.sliceProps(T[""],c,u.isTimeScale?null:a.nextDayThreshold,l,c,l.dateProfileGenerator,u,l.dateEnv),re=s.slatCoords&&s.slatCoords.dateProfile===a.dateProfile?s.slatCoords:null;return ye("div",{ref:this.handleEl,className:["fc-timeline-body",a.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:a.tableMinWidth}},ye(zd,{unit:h},function(de,ve){return ye(Mn,null,ye(ID,{ref:r.slatsRef,dateProfile:c,tDateProfile:u,nowDate:de,todayRange:ve,clientWidth:a.clientWidth,tableColGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,onCoords:r.handleSlatCoords,onScrollLeftRequest:a.onScrollLeftRequest}),ye(RD,{businessHourSegs:x?null:U.businessHourSegs,bgEventSegs:U.bgEventSegs,timelineCoords:re,eventResizeSegs:U.eventResize?U.eventResize.segs:[],dateSelectionSegs:U.dateSelectionSegs,nowDate:de,todayRange:ve}),ye(vN,{rowNodes:a.rowNodes,dateProfile:c,tDateProfile:a.tDateProfile,nowDate:de,todayRange:ve,splitProps:T,fallbackBusinessHours:x?a.businessHours:null,clientWidth:a.clientWidth,minHeight:a.expandRows?a.clientHeight:"",tableMinWidth:a.tableMinWidth,innerHeights:a.rowInnerHeights,slatCoords:re,onRowCoords:r.handleRowCoords,onRowHeightChange:a.onRowHeightChange}),l.options.nowIndicator&&re&&re.isDateInRange(de)&&ye("div",{className:"fc-timeline-now-indicator-container"},ye(Th,{elClasses:["fc-timeline-now-indicator-line"],elStyle:hx(re.dateToCoord(de),l.isRtl),isAxis:!1,date:de})))}))}},{key:"queryHit",value:function(r,a){var s=this.rowCoords,l=s.topToIndex(a);if(null!=l){var c=this.props.rowNodes[l].resource;if(c){var u=this.slatsRef.current.positionToHit(r);if(u)return{dateProfile:this.props.dateProfile,dateSpan:{range:u.dateSpan.range,allDay:u.dateSpan.allDay,resourceId:c.id},rect:{left:u.left,right:u.right,top:s.tops[l],bottom:s.bottoms[l]},dayEl:u.dayEl,layer:0}}}return null}}]),t}(fa);function xN(n){var t,o=(0,te.Z)(n);try{for(o.s();!(t=o.n()).done;){var r=t.value.resource;if(r&&r.businessHours)return!0}}catch(a){o.e(a)}finally{o.f()}return!1}var CN=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).scrollGridRef={current:null},i.timeBodyScrollerElRef={current:null},i.spreadsheetHeaderChunkElRef={current:null},i.rootElRef={current:null},i.ensureScrollGridResizeId=0,i.state={resourceAreaWidthOverride:null},i.ensureScrollGridResize=function(){i.ensureScrollGridResizeId&&clearTimeout(i.ensureScrollGridResizeId),i.ensureScrollGridResizeId=setTimeout(function(){i.scrollGridRef.current.handleSizing(!1)},ic.SCROLLGRID_RESIZE_INTERVAL+1)},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.state,s=this.context,l=s.options,c=!r.forPrint&&Ch(l),u=!r.forPrint&&w1(l),h=[{type:"header",key:"header",syncRowHeights:!0,isSticky:c,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:r.spreadsheetHeaderRows},{key:"divider",outerContent:ye("td",{role:"presentation",className:"fc-resource-timeline-divider "+s.theme.getClass("tableCellShaded")})},{key:"timeline",content:r.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(l.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:r.spreadsheetBodyRows},{key:"divider",outerContent:ye("td",{role:"presentation",className:"fc-resource-timeline-divider "+s.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:r.timeBodyContent}]}];return u&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:xh},{key:"divider",outerContent:ye("td",{role:"presentation",className:"fc-resource-timeline-divider "+s.theme.getClass("tableCellShaded")})},{key:"timeline",content:xh}]}),ye(ux,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:!1,colGroups:[{cols:r.spreadsheetCols,width:null!=a.resourceAreaWidthOverride?a.resourceAreaWidthOverride:l.resourceAreaWidth},{cols:[]},{cols:r.timeCols}],sections:h})}},{key:"forceTimeScroll",value:function(r){this.scrollGridRef.current.forceScrollLeft(2,r)}},{key:"forceResourceScroll",value:function(r){this.scrollGridRef.current.forceScrollTop(1,r)}},{key:"getResourceScroll",value:function(){return this.timeBodyScrollerElRef.current.scrollTop}},{key:"componentDidMount",value:function(){this.initSpreadsheetResizing()}},{key:"componentWillUnmount",value:function(){this.destroySpreadsheetResizing()}},{key:"initSpreadsheetResizing",value:function(){var r=this,a=this.context,s=a.isRtl,c=a.pluginHooks.elementDraggingImpl,u=this.spreadsheetHeaderChunkElRef.current;if(c){var T,O,h=this.rootElRef.current,x=this.spreadsheetResizerDragging=new c(h,".fc-resource-timeline-divider");x.emitter.on("dragstart",function(){T=u.getBoundingClientRect().width,O=h.getBoundingClientRect().width}),x.emitter.on("dragmove",function(U){var re=T+U.deltaX*(s?-1:1);re=Math.max(re,30),re=Math.min(re,O-30),r.setState({resourceAreaWidthOverride:re},r.ensureScrollGridResize)}),x.setAutoScrollEnabled(!1)}}},{key:"destroySpreadsheetResizing",value:function(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()}}]),t}(Cn),XD=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i,r){var a;return(0,I.Z)(this,t),(a=o.call(this,i,r)).processColOptions=tn(SN),a.buildTimelineDateProfile=tn(AD),a.hasNesting=tn(DN),a.buildRowNodes=tn(qD),a.layoutRef={current:null},a.rowNodes=[],a.renderedRowNodes=[],a.buildRowIndex=tn(TN),a.handleSlatCoords=function(s){a.setState({slatCoords:s})},a.handleRowCoords=function(s){a.rowCoords=s,a.scrollResponder.update(!1)},a.handleMaxCushionWidth=function(s){a.setState({slotCushionMaxWidth:Math.ceil(s)})},a.handleScrollLeftRequest=function(s){a.layoutRef.current.forceTimeScroll(s)},a.handleScrollRequest=function(s){var c=(0,yi.Z)(a).rowCoords,u=a.layoutRef.current,h=s.rowId||s.resourceId;if(c){if(h){var T=a.buildRowIndex(a.renderedRowNodes)[h];null!=T&&u.forceResourceScroll(null!=s.fromBottom?c.bottoms[T]-s.fromBottom:c.tops[T])}return!0}return null},a.handleColWidthChange=function(s){a.setState({spreadsheetColWidths:s})},a.state={resourceAreaWidth:r.options.resourceAreaWidth,spreadsheetColWidths:[]},a}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.state,l=this.context,c=l.options,u=l.viewSpec,h=this.processColOptions(l.options),x=h.superHeaderRendering,T=h.groupSpecs,O=h.orderSpecs,U=h.isVGrouping,re=h.colSpecs,de=this.buildTimelineDateProfile(a.dateProfile,l.dateEnv,c,l.dateProfileGenerator),ve=this.rowNodes=this.buildRowNodes(a.resourceStore,T,O,U,a.resourceEntityExpansions,c.resourcesInitiallyExpanded),Ne=c.slotMinWidth,De=LD(de,Ne||this.computeFallbackSlotMinWidth(de));return ye(cp,{elClasses:["fc-resource-timeline",!this.hasNesting(ve)&&"fc-resource-timeline-flat","fc-timeline",!1===c.eventOverlap?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],viewSpec:u},ye(CN,{ref:this.layoutRef,forPrint:a.forPrint,isHeightAuto:a.isHeightAuto,spreadsheetCols:wN(re,s.spreadsheetColWidths,""),spreadsheetHeaderRows:function(We){return ye(hN,{superHeaderRendering:x,colSpecs:re,onColWidthChange:r.handleColWidthChange,rowInnerHeights:We.rowSyncHeights})},spreadsheetBodyRows:function(We){return ye(Mn,null,r.renderSpreadsheetRows(ve,re,We.rowSyncHeights))},timeCols:De,timeHeaderContent:function(We){return ye(ED,{clientWidth:We.clientWidth,clientHeight:We.clientHeight,tableMinWidth:We.tableMinWidth,tableColGroupNode:We.tableColGroupNode,dateProfile:a.dateProfile,tDateProfile:de,slatCoords:s.slatCoords,rowInnerHeights:We.rowSyncHeights,onMaxCushionWidth:Ne?null:r.handleMaxCushionWidth})},timeBodyContent:function(We){return ye(yN,{dateProfile:a.dateProfile,clientWidth:We.clientWidth,clientHeight:We.clientHeight,tableMinWidth:We.tableMinWidth,tableColGroupNode:We.tableColGroupNode,expandRows:We.expandRows,tDateProfile:de,rowNodes:ve,businessHours:a.businessHours,dateSelection:a.dateSelection,eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,resourceStore:a.resourceStore,nextDayThreshold:l.options.nextDayThreshold,rowInnerHeights:We.rowSyncHeights,onSlatCoords:r.handleSlatCoords,onRowCoords:r.handleRowCoords,onScrollLeftRequest:r.handleScrollLeftRequest,onRowHeightChange:We.reportRowHeightChange})}}))}},{key:"renderSpreadsheetRows",value:function(r,a,s){return r.map(function(l,c){return l.group?ye(KD,{key:l.id,id:l.id,spreadsheetColCnt:a.length,isExpanded:l.isExpanded,group:l.group,innerHeight:s[c]||""}):l.resource?ye(zD,{key:l.id,colSpecs:a,rowSpans:l.rowSpans,depth:l.depth,isExpanded:l.isExpanded,hasChildren:l.hasChildren,resource:l.resource,innerHeight:s[c]||""}):null})}},{key:"componentDidMount",value:function(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}},{key:"getSnapshotBeforeUpdate",value:function(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}}},{key:"componentDidUpdate",value:function(r,a,s){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(r.dateProfile!==this.props.dateProfile),s.resourceScroll&&this.handleScrollRequest(s.resourceScroll)}},{key:"componentWillUnmount",value:function(){this.scrollResponder.detach()}},{key:"computeFallbackSlotMinWidth",value:function(r){return Math.max(30,(this.state.slotCushionMaxWidth||0)/r.slotsPerLabel)}},{key:"queryResourceScroll",value:function(){var r=this.rowCoords,a=this.renderedRowNodes;if(r){for(var l=r.bottoms,c=this.layoutRef.current.getResourceScroll(),u={},h=0;h<l.length;h+=1){var T=l[h]-c;if(T>0){u.rowId=a[h].id,u.fromBottom=T;break}}return u}return null}}]),t}(Cn);function TN(n){for(var o={},t=0;t<n.length;t+=1)o[n[t].id]=t;return o}function wN(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n.map(function(i,r){return{className:i.isMain?"fc-main-col":"",width:o[r]||i.width||t}})}function DN(n){var t,o=(0,te.Z)(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(i.group||i.resource&&i.hasChildren)return!0}}catch(r){o.e(r)}finally{o.f()}return!1}function SN(n){var o=n.resourceAreaColumns||[],t=null;o.length?n.resourceAreaHeaderContent&&(t={headerClassNames:n.resourceAreaHeaderClassNames,headerContent:n.resourceAreaHeaderContent,headerDidMount:n.resourceAreaHeaderDidMount,headerWillUnmount:n.resourceAreaHeaderWillUnmount}):o.push({headerClassNames:n.resourceAreaHeaderClassNames,headerContent:n.resourceAreaHeaderContent,headerDefault:function(){return"Resources"},headerDidMount:n.resourceAreaHeaderDidMount,headerWillUnmount:n.resourceAreaHeaderWillUnmount});var c,i=[],r=[],a=[],s=!1,l=(0,te.Z)(o);try{for(l.s();!(c=l.n()).done;){var u=c.value;u.group?r.push(Object.assign(Object.assign({},u),{cellClassNames:u.cellClassNames||n.resourceGroupLabelClassNames,cellContent:u.cellContent||n.resourceGroupLabelContent,cellDidMount:u.cellDidMount||n.resourceGroupLabelDidMount,cellWillUnmount:u.cellWillUnmount||n.resourceGroupLaneWillUnmount})):i.push(u)}}catch(We){l.e(We)}finally{l.f()}var h=i[0];if(h.isMain=!0,h.cellClassNames=h.cellClassNames||n.resourceLabelClassNames,h.cellContent=h.cellContent||n.resourceLabelContent,h.cellDidMount=h.cellDidMount||n.resourceLabelDidMount,h.cellWillUnmount=h.cellWillUnmount||n.resourceLabelWillUnmount,r.length)a=r,s=!0;else{var x=n.resourceGroupField;x&&a.push({field:x,labelClassNames:n.resourceGroupLabelClassNames,labelContent:n.resourceGroupLabelContent,labelDidMount:n.resourceGroupLabelDidMount,labelWillUnmount:n.resourceGroupLabelWillUnmount,laneClassNames:n.resourceGroupLaneClassNames,laneContent:n.resourceGroupLaneContent,laneDidMount:n.resourceGroupLaneDidMount,laneWillUnmount:n.resourceGroupLaneWillUnmount})}var re,O=[],U=(0,te.Z)(n.resourceOrder||rI);try{for(U.s();!(re=U.n()).done;){var De,de=re.value,ve=!1,Ne=(0,te.Z)(a);try{for(Ne.s();!(De=Ne.n()).done;){var Ge=De.value;if(Ge.field===de.field){Ge.order=de.order,ve=!0;break}}}catch(We){Ne.e(We)}finally{Ne.f()}ve||O.push(de)}}catch(We){U.e(We)}finally{U.f()}return{superHeaderRendering:t,isVGrouping:s,groupSpecs:a,colSpecs:r.concat(i),orderSpecs:O}}XD.addStateEquality({spreadsheetColWidths:Ka}),uh(".fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:var(--fc-neutral-bg-color)}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}");var AN=ha({name:"@fullcalendar/resource-timeline",premiumReleaseDate:"2023-02-07",deps:[dx,aN,tI],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:XD,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}}),Cx=J(17445);class eS{constructor(o,t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De,Ge,We,gt,rt,vt,Zt,Ht,Bt,ln,Pn,Jn,kn,mi,wi,Ni,cn,Rn,Co,ea,_l,du){this.textColor="white",this.timelineCheck=o,this.startDay=W(u).clone().set({hour:0,minute:0,second:0,millisecond:0}),this.endDay=W(h).clone().set({hour:0,minute:0,second:0,millisecond:0}),this.resourceId=s+a+t+l,this.jobId=i,this.name=l,this.status=c,this.start=W(u).clone().toISOString(),this.end=W(h).clone().toISOString(),this.jobStartTime=(0,wt.gr)(u),this.jobEndTime=(0,wt.gr)(h),this.timelineCheck||!this.startDay.isSame(this.endDay)&&"00:00:00"!==this.jobEndTime&&(this.end=W(this.end).clone().add(1,"days").toISOString()),this.eventPeriod=W(u).clone().format("h:mma")+"-"+W(h).clone().format("h:mma"),this.noOfRequiredEmployees=x,this.noOfValidAssignedEmployees=T,this.noOfInvalidAssignedEmployees=O,this.borderColor=Ne,this.employees=re,this.subGroupId=a,this.viewType=de,this.allDay=ve,this.color=U,this.primaryStatusColor=Ne,this.jobStatusId=De,this.isCriticalTask=Ge,this.sortOrder=r,this.isConcurrent=We,this.coveragePercentageForConcurrentJob=gt,this.referenceArea=rt,this.hours1=vt,this.hours2=Zt,this.hours3=Ht,this.hours4=Bt,this.hours5=ln,this.hours6=Pn,this.manualEditedHours1=Jn,this.manualEditedHours2=kn,this.manualEditedHours3=mi,this.manualEditedHours4=wi,this.manualEditedHours5=Ni,this.manualEditedHours6=cn,this.hasLoneWorker=Rn,this.hasAttendanceConfirmation=Co,this.offeredForTrade=ea,this.canBeTraded=_l,this.comment=du}}class tS{constructor(o,t,i,r){this.employeeID=o,this.jobID=t,this.canBeAssignedOrUnassigned=i,this.cached=r}}class MN{constructor(o,t,i,r){this.employeeID=o,this.jobID=t,this.canBeUnassigned=i,this.cached=r}}class Tx{constructor(o,t,i,r,a,s,l,c,u,h,x,T){this.id=o,this.nameAndSurname=t,this.employeeNumber=i,this.image=r,this.status=a,this.isSelected=s,this.employeeInfo=l,this.scheduledHours=c,this.additionalInfo=u,this.tooltipIndicator=h,this.brokenRules=x,this.canBeAssignedOrUnassigned=T}}let Z1=(()=>{class n{constructor(t){this.http=t}get(t){return new A.y(i=>{this.http.get(t?S.j.URLtemplateJob:S.j.URLjob).subscribe(a=>(i.next(a),i.complete()),a=>i.error(a))})}getInvalidEmployees(t){return new A.y(i=>{this.http.get(S.j.URLjob+"/invalid/"+t+"/L").subscribe(r=>{const a=[];return r.forEach(s=>{a.push(new Tx(s.id,s.nameAndSurname,s.image,s.status,s.isSelected))}),i.next(a),i.complete()},r=>i.error(r))})}getUnavailableEmployees(t){return new A.y(i=>{this.http.get(S.j.URLjob+"/unavailable/"+t+"/L").subscribe(r=>{const a=[];return r.forEach(s=>{a.push(new Tx(s.id,s.nameAndSurname,s.image,s.status,s.isSelected))}),i.next(a),i.complete()},r=>i.error(r))})}getAvailable(t){return new A.y(i=>{this.http.get(S.j.URLjob+"/available/"+t+"/L").subscribe(r=>{const a=[];return r.forEach(s=>{a.push(new Tx(s.id,s.nameAndSurname,s.image,s.status,s.isSelected))}),i.next(a),i.complete()},r=>i.error(r))})}getAllEmployeesList(t,i,r,a,s,l,c,u,h,x){let T=new Y.LE;return T=T.append("JobID",t),T=T.append("StartDate",i),T=T.append("EndDate",r),T=T.append("ImageSize","M"),T=T.append("ListType",a),s&&(T=T.append("SearchTerm",s)),T=T.append("Page",l),T=T.append("Limit",c),T=T.append("Cached",u),T=T.append("IsCreated",h.toString()),A.y.create(O=>{this.http.get((x?S.j.URLtemplateJob:S.j.URLjob)+"/employeesLists/",{params:T}).subscribe(re=>{O.next(re)},re=>{O.error(re)})})}getAssociatedEmployeesList(t,i){return this.http.get((i?S.j.URLtemplateJob:S.j.URLjob)+"/associated/"+t+"/M")}getSelectedAssociatedEmployeeList(t,i,r,a){return this.http.get((a?S.j.URLtemplateJob:S.j.URLjob)+"/associated/"+t+"/M/"+i+"/"+r)}removeListEmployees(t,i){return new A.y(r=>{this.http.put((i?S.j.URLtemplateJob:S.j.URLjob)+"/employees",t,{responseType:"text"}).subscribe(s=>(r.next(s),r.complete()),s=>r.error(s))})}unassignSubGroupEmployees(t,i,r,a){return new A.y(s=>{this.http.put((a?S.j.URLtemplateSubgroups:S.j.URLsubgroups)+"/unassign/"+t,{},{params:{startDate:i,endDate:r},responseType:"text"}).subscribe(()=>(s.next("success"),s.complete()),c=>s.error(c))})}getAssign(t){return new A.y(i=>{this.http.get(S.j.URLjob+"/assigned/"+t+"/L").subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}getById(t,i,r){return new A.y(a=>{this.http.get(r?S.j.URLtemplateJob+"/"+t:S.j.URLjob+"/"+t+"/"+i).subscribe(l=>(a.next(l),a.complete()),l=>a.error(l))})}getJobDetails(t,i){return new A.y(r=>{this.http.get(S.j.URLjob+"/jobdetails/"+t+"/"+i).subscribe(s=>(r.next(s),r.complete()),s=>r.error(s))})}assignEmployeeToJob(t,i,r,a,s,l){let c;return c=s?{employeeAssignment:[new tS(i,t)],canBeAssignedOrUnassigned:r,brokenRules:null==a?a:a.warningDetails[0].brokenRules[0],cached:s}:{employeeAssignment:[new tS(i,t)],canBeAssignedOrUnassigned:r,brokenRules:null==a?a:a.warningDetails[0].brokenRules[0]},new A.y(u=>{this.http.post((l?S.j.URLtemplateJob:S.j.URLjob)+"/assign/",c,{responseType:"text"}).subscribe(x=>(u.next(x),u.complete()),x=>u.error(x))})}assignEmployeesToJob(t,i,r,a){var s=null;let l;try{s=null==i?i:i.warningDetails[0].brokenRules[0]}catch(c){}return l=r?{employeeAssignment:t,brokenRules:s,cached:r}:{employeeAssignment:t,brokenRules:s},new A.y(c=>{this.http.post((a?S.j.URLtemplateJob:S.j.URLjob)+"/assignlist/",l,{responseType:"text"}).subscribe(h=>(c.next(h),c.complete()),h=>c.error(h))})}removeAssignment(t,i,r,a,s){return new A.y(l=>{this.http.put((s?S.j.URLtemplateJob:S.j.URLjob)+"/employee",{EmployeeID:t,CanBeUnassigned:i,JobID:r,Cached:a},{responseType:"text"}).subscribe(u=>(l.next(u),l.complete()),u=>l.error(u))})}create(t,i){return new A.y(r=>{this.http.post(i?S.j.URLtemplateJob:S.j.URLjob,t).subscribe(s=>(r.next(s),r.complete()),s=>r.error(s))})}edit(t,i,r){return new A.y(a=>{this.http.put((r?S.j.URLtemplateJob:S.j.URLjob)+"/"+i+"/"+!1,t,{responseType:"text"}).subscribe(l=>(a.next(l),a.complete()),l=>a.error(l))})}delete(t){return new A.y(i=>{this.http.delete(S.j.URLjob+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteSelectedJobs(t,i,r){return new A.y(a=>{this.http.request("delete",r?S.j.URLtemplateJob:S.j.URLjob,{body:t}).subscribe(l=>(a.next(l),a.complete()),l=>a.error(l))})}deleteAll(t,i,r,a){return new A.y(s=>{this.http.delete((a?S.j.URLtemplateJob:S.j.URLjob)+"/"+t,{params:{startDate:i,endDate:r},responseType:"text"}).subscribe(c=>(s.next(c),s.complete()),c=>s.error(c))})}getRuleBrokenMessage(t,i){let r=i?S.j.URLtemplateBrokenRules:S.j.URLbrokenRules;return new A.y(a=>{this.http.post(r,t).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var fp=J(69832);const ON={id:"number",name:"string",startDate:"Date",endDate:"Date",sortOrder:"number",parentGroupID:"number",parentGroup:"SubGroup",scheduleID:"number",schedule:"Schedule",attendanceManager1:"number",attendanceManager2:"number"};function PN(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Name ",t.message.required," ")}}function EN(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.limit50," ")}}function IN(n,o){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,PN,2,1,"div",56),e.YNc(2,EN,2,1,"div",56),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.maxlength)}}function NN(n,o){if(1&n&&(e.TgZ(0,"div",57),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.inUse," ")}}function RN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"label",58),e._uU(3," Start Date*: "),e.qZA()(),e.TgZ(4,"div",59)(5,"div",60),e._UZ(6,"input",61),e.qZA(),e.TgZ(7,"div")(8,"img",62),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(10);return e.KtG(r.open())}),e.qZA()(),e._UZ(9,"mat-datepicker",63,64),e.qZA()()}if(2&n){const t=e.MAs(10),i=e.oxw(2);e.xp6(6),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("min",i.startDateParent)("max",i.endDateParent)("matDatepicker",t)("dateLengthTracker",i.dateLength),e.xp6(3),e.s9C("touchUi",i.isMobile)}}function FN(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Start Date ",t.message.required," ")}}function ZN(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function LN(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Sub Group Start Date must be within parent date range "),e.qZA())}function UN(n,o){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,FN,2,1,"div",56),e.YNc(2,ZN,2,1,"div",56),e.YNc(3,LN,2,0,"div",56),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.startDate.errors?null:t.f.startDate.errors.required)&&!(null!=t.f.startDate.errors&&t.f.startDate.errors.matDatepickerParse||null!=t.f.startDate.errors&&t.f.startDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.f.startDate.errors?null:t.f.startDate.errors.matDatepickerParse)||(null==t.f.startDate.errors?null:t.f.startDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",((null==t.f.startDate.errors?null:t.f.startDate.errors.matDatepickerMin)||(null==t.f.startDate.errors?null:t.f.startDate.errors.matDatepickerMax))&&!(null!=t.f.startDate.errors&&t.f.startDate.errors.required||null!=t.f.startDate.errors&&t.f.startDate.errors.matDatepickerParse))}}function jN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"label",65),e._uU(3," End Date*: "),e.qZA()(),e.TgZ(4,"div",59)(5,"div",60),e._UZ(6,"input",66),e.qZA(),e.TgZ(7,"div")(8,"img",62),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(10);return e.KtG(r.open())}),e.qZA()(),e._UZ(9,"mat-datepicker",63,67),e.qZA()()}if(2&n){const t=e.MAs(10),i=e.oxw(2);e.xp6(6),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("min",i.startDateParent)("max",i.endDateParent)("matDatepicker",t)("dateLengthTracker",i.dateLength),e.xp6(3),e.s9C("touchUi",i.isMobile)}}function YN(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" End Date ",t.message.required," ")}}function qN(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," End Date must be after Start Date. "),e.qZA())}function JN(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function HN(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Sub Group End Date must be within parent date range "),e.qZA())}function BN(n,o){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,YN,2,1,"div",56),e.YNc(2,qN,2,0,"div",56),e.YNc(3,JN,2,1,"div",56),e.YNc(4,HN,2,0,"div",56),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate.errors?null:t.f.endDate.errors.required)&&!(null!=t.f.endDate.errors&&t.f.endDate.errors.matDatepickerParse||null!=t.f.endDate.errors&&t.f.endDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",null==t.f.endDate.errors?null:t.f.endDate.errors.invalidDate),e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate.errors?null:t.f.endDate.errors.matDatepickerParse)||(null==t.f.endDate.errors?null:t.f.endDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",((null==t.f.endDate.errors?null:t.f.endDate.errors.matDatepickerMin)||(null==t.f.endDate.errors?null:t.f.endDate.errors.matDatepickerMax))&&!(null!=t.f.endDate.errors&&t.f.endDate.errors.required||null!=t.f.endDate.errors&&t.f.endDate.errors.matDatepickerParse))}}function VN(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.numberRange," 1 and 99. ")}}function GN(n,o){if(1&n&&(e.TgZ(0,"div",68)(1,"div",52),e.YNc(2,VN,2,1,"div",56),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==t.f.sortOrder.errors?null:t.f.sortOrder.errors.pattern)}}function WN(n,o){1&n&&e._UZ(0,"i",69)}function QN(n,o){1&n&&e._UZ(0,"i",70)}function zN(n,o){if(1&n&&(e.TgZ(0,"ng-option",71),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function KN(n,o){if(1&n&&(e.TgZ(0,"ng-option",71),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function $N(n,o){1&n&&e._UZ(0,"i",69)}function XN(n,o){1&n&&e._UZ(0,"i",70)}function eR(n,o){if(1&n&&(e.TgZ(0,"ng-option",71),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function tR(n,o){if(1&n&&(e.TgZ(0,"ng-option",71),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function nR(n,o){1&n&&e._UZ(0,"i",69)}function iR(n,o){1&n&&e._UZ(0,"i",70)}function rR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",72),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.copyDataForward())}),e._UZ(2,"i",73),e._uU(3," Copy Data "),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabledCopyButton)}}const oR=function(n,o){return{"ng-invalid":n,"ng-touched":o}};function aR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",10),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveSubGroup())}),e.TgZ(1,"div",1)(2,"div",11)(3,"div",1)(4,"div",12)(5,"div",13)(6,"label",14),e._uU(7," Name*: "),e.qZA()(),e.TgZ(8,"div",15)(9,"input",16),e.NdJ("keyup",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.checkName(r.target.value))}),e.qZA()()(),e.YNc(10,IN,3,2,"div",17),e.YNc(11,NN,2,1,"div",18),e.YNc(12,RN,11,6,"div",19),e.YNc(13,UN,4,3,"div",17),e.YNc(14,jN,11,6,"div",19),e.YNc(15,BN,5,4,"div",17),e.TgZ(16,"div",12)(17,"div",13)(18,"label",20),e._uU(19," Sort Order: "),e.qZA()(),e.TgZ(20,"div"),e._UZ(21,"input",21),e.qZA()(),e.YNc(22,GN,3,1,"div",22),e.TgZ(23,"div",23)(24,"div",24)(25,"div",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.expandContainer("loneWorkerShown"))}),e.TgZ(26,"div",26)(27,"label",27),e._uU(28," Lone Worker\xa0 "),e.qZA()(),e.TgZ(29,"div",28)(30,"span"),e.YNc(31,WN,1,0,"i",29),e.YNc(32,QN,1,0,"i",30),e.qZA()()(),e.TgZ(33,"div",31)(34,"div",1)(35,"div",32)(36,"div",33)(37,"label",34),e._uU(38," Lone Worker Manager 1: "),e.qZA()(),e.TgZ(39,"div",35)(40,"ng-select",36),e.YNc(41,zN,2,2,"ng-option",37),e.qZA()()()(),e.TgZ(42,"div",1)(43,"div",32)(44,"div",33)(45,"label",38),e._uU(46," Lone Worker Manager 2: "),e.qZA()(),e.TgZ(47,"div",35)(48,"ng-select",39),e.YNc(49,KN,2,2,"ng-option",37),e.qZA()()()()()()(),e.TgZ(50,"div",23)(51,"div",40)(52,"div",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.expandContainer("attendanceShown"))}),e.TgZ(53,"div",26)(54,"label",27),e._uU(55," Attendance Confirmation\xa0 "),e.qZA()(),e.TgZ(56,"div",28)(57,"span"),e.YNc(58,$N,1,0,"i",29),e.YNc(59,XN,1,0,"i",30),e.qZA()()(),e.TgZ(60,"div",41)(61,"div",1)(62,"div",32)(63,"div",33)(64,"label",42),e._uU(65," Attendance Manager 1: "),e.qZA()(),e.TgZ(66,"div",35)(67,"ng-select",43),e.YNc(68,eR,2,2,"ng-option",37),e.qZA()()()(),e.TgZ(69,"div",1)(70,"div",32)(71,"div",33)(72,"label",44),e._uU(73," Attendance Manager 2: "),e.qZA()(),e.TgZ(74,"div",35)(75,"ng-select",45),e.YNc(76,tR,2,2,"ng-option",37),e.qZA()()()()()()(),e.TgZ(77,"div",23)(78,"div",46)(79,"div",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.expandContainer("customDataShown"))}),e.TgZ(80,"div",26)(81,"label",27),e._uU(82," Custom data\xa0 "),e.qZA()(),e.TgZ(83,"div",28)(84,"span"),e.YNc(85,nR,1,0,"i",29),e.YNc(86,iR,1,0,"i",30),e.qZA()()(),e.TgZ(87,"div",47)(88,"div",48)(89,"app-custom-data-management",49),e.NdJ("onCustomDataChanged",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateCustomData(r))})("onCustomDataValidationError",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateFormValidation(r))}),e.qZA()()()()()(),e.TgZ(90,"div",50)(91,"div"),e.YNc(92,rR,4,1,"div",51),e.TgZ(93,"div",52)(94,"button",53),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialogConfirm())}),e._uU(95,"Cancel"),e.qZA()(),e.TgZ(96,"div",52)(97,"button",54),e._uU(98,"Save Changes"),e.qZA()()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.subGroupForm),e.xp6(9),e.Q6J("ngClass",e.WLB(32,oR,t.nameInUse,t.nameInUse)),e.xp6(1),e.Q6J("ngIf",(null==t.f.name?null:t.f.name.touched)&&(null==t.f.name?null:t.f.name.errors)),e.xp6(1),e.Q6J("ngIf",t.nameInUse),e.xp6(1),e.Q6J("ngIf",!t.isTemplate),e.xp6(1),e.Q6J("ngIf",(null==t.f.startDate?null:t.f.startDate.touched)&&(null==t.f.startDate?null:t.f.startDate.errors)),e.xp6(1),e.Q6J("ngIf",!t.isTemplate),e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate?null:t.f.endDate.touched)&&(null==t.f.endDate?null:t.f.endDate.errors)),e.xp6(7),e.Q6J("ngIf",(null==t.f.sortOrder?null:t.f.sortOrder.touched)&&(null==t.f.sortOrder?null:t.f.sortOrder.errors)),e.xp6(9),e.Q6J("ngIf",!t.areShownLoneWorkers),e.xp6(1),e.Q6J("ngIf",t.areShownLoneWorkers),e.xp6(8),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",t.loneWorkerManagers)("ngForTrackBy",t.trackByFn),e.xp6(7),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",t.loneWorkerManagers)("ngForTrackBy",t.trackByFn),e.xp6(9),e.Q6J("ngIf",!t.areShownAttendance),e.xp6(1),e.Q6J("ngIf",t.areShownAttendance),e.xp6(8),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",t.attendanceConfirmationManagers)("ngForTrackBy",t.trackByFn),e.xp6(7),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",t.attendanceConfirmationManagers)("ngForTrackBy",t.trackByFn),e.xp6(9),e.Q6J("ngIf",!t.areShownCustomData),e.xp6(1),e.Q6J("ngIf",t.areShownCustomData),e.xp6(3),e.Q6J("parentComponent",t.componentName)("parentId",t.subgroupID),e.xp6(3),e.Q6J("ngIf",t.showCopyDataButton()),e.xp6(2),e.Q6J("disabled",t.saveButton),e.xp6(3),e.Q6J("disabled",t.saveButton||t.disabledSaveBtn)}}let sR=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O){this.dialogRef=t,this.dialogData=i,this._messageService=r,this._subGroupService=a,this._scheduleService=s,this._copyScheduleDataService=l,this._emitter=c,this._fb=u,this.customValidator=h,this._customDataService=x,this._userService=T,this._userRoleService=O,this.dateLength=ai.YG.length,this.saveButton=!1,this.isMobile=!1,this.areShownCustomData=!1,this.areShownLoneWorkers=!1,this.areShownAttendance=!1,this.isManager=!0,this.isEdit=!1,this.disabledCopyButton=!1,this.disabledSaveBtn=!1,this.nameInUse=!1,this.lockedRanges=[],this.canCopyForward=!0,this.isTemplate=!1,this.attendanceConfirmationManagers=[],this._ngUnsubscribe=new b.x,this.customDataHasValidationErrors=!1,this.existingCustomData=new Array,this.subgroupID=0,this.componentName="sub-group",this.parentId=0,this._updateLWandAClists=new e.vpe}ngOnInit(){this.getAllUsersAttendanceConfirmation(),this.getAllUsersLoneWorker(),this.approvedDateRanges=this.dialogData.approvedDateRanges,this.viewedRangeStart=this.dialogData.viewedRange.start,this.viewedRangeEnd=this.dialogData.viewedRange.end,"update"==this.dialogData.FunctionType&&(this.subgroupID=Number(this.dialogData.subGroupId)),this.getParent(),this.buildSubGroupForm(),this.setLoggedUserIDandRole(),this.message=St.yw,this.inerWidth()}closeDialogConfirm(){this.dialogRef.close()}buildSubGroupForm(){this.subGroupForm=this._fb.group({id:[0],name:["",{validators:[_.kI.required,_.kI.maxLength(50)],updateOn:"change"}],startDate:["",{validators:[_.kI.required],updateOn:"change"}],endDate:["",{validators:[_.kI.required],updateOn:"change"}],sortOrder:["",{validators:[],updateOn:"blur"}],parentGroupID:["",{validators:[],updateOn:"blur"}],parentGroup:["",{validators:[],updateOn:"blur"}],scheduleID:["",{validators:[],updateOn:"blur"}],schedule:["",{validators:[],updateOn:"blur"}],loneWorkerManager1ID:[null,{validators:[],updateOn:"change"}],loneWorkerManager2ID:[null,{validators:[],updateOn:"change"}],attendanceManager1ID:[],attendanceManager2ID:[],customData:[]},{validators:[(0,hr.qO)("startDate","endDate")],asyncValidators:[this.customValidator.CheckSubGroupName("name","id","scheduleID","parentGroupID",this.isTemplate)]})}expandContainer(t){switch(t){case"customDataShown":this.areShownCustomData?(this.areShownCustomData=!1,document.getElementById("customDataShown").style.display="none"):(this.areShownCustomData=!0,document.getElementById("customDataShown").style.display="block");break;case"loneWorkerShown":this.areShownLoneWorkers?(this.areShownLoneWorkers=!1,document.getElementById("loneWorkerShown").style.display="none"):(this.areShownLoneWorkers=!0,document.getElementById("loneWorkerShown").style.display="block");break;case"attendanceShown":this.areShownAttendance?(this.areShownAttendance=!1,document.getElementById("attendanceShown").style.display="none"):(this.areShownAttendance=!0,document.getElementById("attendanceShown").style.display="block")}}getParent(){const t={emitEvent:!1};this.isTemplate=this.dialogData.isTemplate,"create"==this.dialogData.FunctionType?(this.title="Add Subgroup","schedule"==this.dialogData.Name?this._scheduleService.getById(this.dialogData.scheduleEdit,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.emitCustomData(i.customData,!0),this.subGroupForm.controls.customData.setValue(i.customData,t),this.subGroupForm.controls.startDate.setValue(i.startDate),this.subGroupForm.controls.endDate.setValue(i.endDate),this.startDateParent=i.startDate,this.endDateParent=i.endDate,this.subGroupForm.controls.scheduleID.setValue(i.id),this.parentId=i.id,this._updateLWandAClists.next(!0)},i=>{}):this._subGroupService.getById(this.dialogData.scheduleEdit,this.dialogData.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.emitCustomData(i.customData,!0),this.subGroupForm.controls.customData.setValue(i.customData,t),this.subGroupForm.controls.startDate.setValue(i.startDate),this.subGroupForm.controls.endDate.setValue(i.endDate),this.startDateParent=i.startDate,this.endDateParent=i.endDate,this.subGroupForm.controls.parentGroupID.setValue(i.id),this.subGroupForm.controls.scheduleID.setValue(i.scheduleID),this.parentId=i.scheduleID,this._updateLWandAClists.next(!0)},i=>{})):(this.title="Update Subgroup",this.isEdit=!0,this._subGroupService.getById(this.dialogData.subGroupId,this.dialogData.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.parentId=i.parentGroupID?i.parentGroupID:i.scheduleID,this._updateLWandAClists.next(!0),this.subGroupForm.patchValue(i),this.emitCustomData(i.customData,!1),this.subGroupForm.controls.parentGroupID.value?this._subGroupService.getById(this.subGroupForm.controls.parentGroupID.value,this.dialogData.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{this.startDateParent=r.startDate,this.endDateParent=r.endDate},r=>{this._messageService.open(r)}):this.isTemplate||this._scheduleService.getById(this.subGroupForm.controls.scheduleID.value,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{this.startDateParent=r.startDate,this.endDateParent=r.endDate},r=>{this._messageService.open(r)})},i=>{this._messageService.open(i)}))}inerWidth(){this.isMobile=window.innerWidth<425}saveSubGroup(){this.subGroupForm.controls.name.disabled&&this.subGroupForm.controls.name.enable(),Object.keys(this.subGroupForm.controls).forEach(i=>{const r=this.subGroupForm.get(i);if("string"===ON[i]&&r.value){let a=r.value.trim();r.setValue(a)}r.markAsTouched({onlySelf:!0})});const t=setInterval(()=>{"PENDING"!==this.subGroupForm.status&&(clearInterval(t),this.saveButton=!0,this.subGroupForm.valid&&!this.customDataHasValidationErrors?"update"==this.dialogData.FunctionType?("object"==typeof this.subGroupForm.controls.startDate.value&&this.subGroupForm.controls.startDate.setValue(W(this.subGroupForm.controls.startDate.value).format("YYYY-MM-DDT00:00:00")),"object"==typeof this.subGroupForm.controls.endDate.value&&this.subGroupForm.controls.endDate.setValue(W(this.subGroupForm.controls.endDate.value).format("YYYY-MM-DDT23:59:59")),this._subGroupService.edit(this.subGroupForm.value,this.subGroupForm.controls.id.value,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{var r="",a="";try{var s=JSON.parse("["+i+"]");r=s[0][0],a=s[0][1]}catch(l){r=""}""==r?(this._emitter.sendEvent(new Aa("subgroup","edit",null,this.isTemplate)),this.saveButton=!0,this.dialogRef.close()):(this._messageService.open(""+a),this.saveButton=!1)},i=>{this.subGroupForm.controls.name.enabled&&this.dialogData.isFromTemplate&&this.subGroupForm.controls.name.disable(),this._messageService.open(i),this.saveButton=!1})):("object"==typeof this.subGroupForm.controls.startDate.value&&this.subGroupForm.controls.startDate.setValue(W(this.subGroupForm.controls.startDate.value).format("YYYY-MM-DDT00:00:00")),"object"==typeof this.subGroupForm.controls.endDate.value&&this.subGroupForm.controls.endDate.setValue(W(this.subGroupForm.controls.endDate.value).format("YYYY-MM-DDT23:59:59")),this._subGroupService.create(this.subGroupForm.value,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._emitter.sendEvent(new Aa("subgroup","create",null,this.isTemplate)),this.saveButton=!0,this.dialogRef.close()},i=>{this._messageService.open(i),this.saveButton=!1})):(this._messageService.open(St.yw.fillForm),this.saveButton=!1))},100)}get f(){if(this.subGroupForm)return this.subGroupForm.controls}showCopyDataButton(){if(1==this.isEdit&&1==this.isManager)return!0}copyDataForward(){this.lockedRanges=[],this.canCopyForward=!0;let t=W(this.viewedRangeEnd).diff(W(this.viewedRangeStart),"days")+1,i=W(this.viewedRangeStart).clone().add(t,"days").format("YYYY-MM-DD"),r=W(this.viewedRangeEnd).clone().add(t,"days").format("YYYY-MM-DD");this.approvedDateRanges.forEach(a=>{a.startDate!==this.viewedRangeStart&&a.endDate!==this.viewedRangeEnd&&a.subGroupID==this.subGroupForm.controls.id.value&&this.lockedRanges.push(a)}),this.lockedRanges.length&&this.lockedRanges.forEach(a=>{this.canCopyForward=!((0,wt.Fp)(a.startDate,a.endDate,i)&&a.subGroupID==this.subGroupForm.controls.id.value||(0,wt.Fp)(a.startDate,a.endDate,r)&&a.subGroupID==this.subGroupForm.controls.id.value||(0,wt.$5)(i,r,a.startDate,a.endDate)&&a.subGroupID==this.subGroupForm.controls.id.value)}),this.canCopyForward?(this._copyScheduleDataService.sendSignalSubgroup(this.subGroupForm.controls.id.value),this.disabledCopyButton=!0,this.dialogRef.close()):this._messageService.open("Cannot copy to locked period.")}checkName(t){this._subGroupService.checkIfNameIsUnique(t,this.subGroupForm.controls.id.value,this.subGroupForm.controls.scheduleID.value,this.subGroupForm.controls.parentGroupID.value,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.nameInUse=!1},i=>{"Selected SubGroup Name has been occupied by another SubGroup."===i.error&&(this.nameInUse=!0)})}getAllUsersAttendanceConfirmation(){(0,ie.T)(this._updateLWandAClists).pipe((0,H.R)(this._ngUnsubscribe),(0,_e.O)({}),(0,j.w)(()=>this._userService.getAllUsersForAttendanceManagement(this.dialogData.scheduleId,this.dialogData.isTemplate)),(0,Wi.K)(t=>(this._messageService.open("Error retrieving Attendance Confirmation managers list"),(0,gn.of)([])))).subscribe(t=>{this.attendanceConfirmationManagers=t})}getAllUsersLoneWorker(){(0,ie.T)(this._updateLWandAClists).pipe((0,H.R)(this._ngUnsubscribe),(0,_e.O)({}),(0,j.w)(()=>this._userService.getAllUsersForLoneWorker(this.dialogData.scheduleId,this.dialogData.isTemplate)),(0,Wi.K)(t=>(this._messageService.open("Error retrieving Lone Worker managers list"),(0,gn.of)([])))).subscribe(t=>{this.loneWorkerManagers=t})}emitCustomData(t,i){let r=[];this.existingCustomData=t,i&&(r=[...t],r.forEach(a=>{a.manuallyUpdated=!1})),setTimeout(()=>{this._customDataService.onReceivedCustomData.next(i?r:this.existingCustomData)},100)}updateCustomData(t){this.f.customData.setValue(t,{emitEvent:!1})}updateFormValidation(t){this.customDataHasValidationErrors=t}trackByFn(t){return t.id}setLoggedUserIDandRole(){this._userRoleService.loggedUserId.subscribe(t=>{this.loggedUserID=t,this.dialogData.isFromTemplate&&(t<0?this.subGroupForm.controls.name.enable():this.subGroupForm.controls.name.disable())})}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.so),e.Y36(z.WI),e.Y36(se.G),e.Y36(Ce.L),e.Y36(Yl.S),e.Y36(el),e.Y36(sn),e.Y36(_.qu),e.Y36(ql.x),e.Y36(Mo.z),e.Y36(jn),e.Y36(qi.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-subgroups-create"]],decls:11,vars:2,consts:[[1,"container"],[1,"row"],[1,"card_body","col-12"],["id","eSolveTitleRow",1,"form-row","row"],[1,"form-group","col-12","d-flex","justify-content-between"],[1,"dialog-title"],[1,"x-container"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"eSolveMargin"],["autocomplete","off","id","eSolveCreateSubGroup",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off","id","eSolveCreateSubGroup",3,"formGroup","ngSubmit"],[1,"container-jcBetween","col-12","d-flex","justify-content-between"],[1,"col-12","d-flex","justify-content-start","g-margin-bottom-5"],[1,"label-width"],["for","eSolveName",1,"col-form-label","col-form-label-sm","font-size-12b"],[1,"eSolveNameDiv"],["id","eSolveName","placeholder","Name","required","","name","name","maxlength","50","formControlName","name",1,"form-control","eSolve-font-size","form-control-sm",3,"ngClass","keyup"],["class","col-12 validationError",4,"ngIf"],["class","validationError",4,"ngIf"],["class","col-12 d-flex justify-content-start g-margin-bottom-5",4,"ngIf"],["for","eSolveSortOrder",1,"col-form-label","col-form-label-sm","font-size-12b"],["id","eSolveSortOrder","formControlName","sortOrder","name","sortOrder","numbersOnlyMask","",1,"form-control","font-size-12","form-control-sm","eSolveSortOrder"],["class","row form-group validationError",4,"ngIf"],[1,"col-12","font-size-12"],["id","loneWorkerHeader",1,"form-row","row","add_data_header"],[1,"d-flex","full-width","align-center","col-12",3,"click"],[1,"justify-content-start","full-width","custom_data_label"],[1,"col-form-label","add_data_header"],[1,"justify-content-end","custom_data_label_span"],["class","fas fa-plus",4,"ngIf"],["class","fas fa-minus",4,"ngIf"],["id","loneWorkerShown",1,"col-12","flex-row","subgroup-customdata","g-display-none"],[1,"col-12","d-flex","justify-content-start","g-margin-bottom-5","subgroups-create-flex-direction-row-small"],[1,"label-width2","subgroups-create-ml-15"],["for","loneWorkerManager1ID",1,"col-form-label","col-form-label-sm","font-size-12b"],[1,"eSolveNameDiv","subgroups-create-mr-15"],["formControlName","loneWorkerManager1ID","id","loneWorkerManager1ID","dropdownPosition","top",1,"form-input","subgroup-details",3,"virtualScroll"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","loneWorkerManager2ID",1,"col-form-label","col-form-label-sm","font-size-12b"],["formControlName","loneWorkerManager2ID","id","loneWorkerManager2ID","dropdownPosition","top",1,"form-input","subgroup-details",3,"virtualScroll"],["id","attendanceHeader",1,"form-row","row","add_data_header"],["id","attendanceShown",1,"col-12","flex-row","subgroup-customdata","g-display-none"],["for","eSolveAttendanceManager1",1,"col-form-label","col-form-label-sm","font-size-12b"],["formControlName","attendanceManager1ID","id","eSolveAttendanceManager1","dropdownPosition","top",1,"form-input","subgroup-details",3,"virtualScroll"],["for","eSolveAttendanceManager2",1,"col-form-label","col-form-label-sm","font-size-12b"],["formControlName","attendanceManager2ID","id","eSolveAttendanceManager2","dropdownPosition","top",1,"form-input","subgroup-details",3,"virtualScroll"],["id","customDataHeader",1,"form-row","row","add_data_header"],["id","customDataShown",1,"col-12","flex-row","subgroup-customdata","g-display-none"],[1,"form-control","g-thin-black-scroll-bar","cdListHeight"],[3,"parentComponent","parentId","onCustomDataChanged","onCustomDataValidationError"],[1,"row","d-flex","align-items-end","btn-container"],["class","col-12",4,"ngIf"],[1,"col-12"],["id","cancelButton","type","button",1,"cancel-button","btn","p-2","modal-btn","eSolve-font-size",3,"disabled","click"],["id","submitButton","type","submit",1,"submit-new-button","btn","p-2","modal-btn","eSolve-font-size",3,"disabled"],[1,"col-12","validationError"],[4,"ngIf"],[1,"validationError"],["for","eSolveStartDate",1,"col-form-label","col-form-label-sm","font-size-12b"],[1,"d-flex","jusify-content-start"],[1,"min-width-150px"],["required","","id","eSolveStartDate","name","startDate","formControlName","startDate",1,"form-control","form-control-sm","eSolve-font-size",3,"min","max","placeholder","matDatepicker","dateLengthTracker"],["src","assets/icons/calendar-icon.png",1,"calendar-icon-img2",3,"click"],[3,"touchUi"],["scheduleStartDatePicker",""],["for","eSolveEndDate",1,"col-form-label","col-form-label-sm","font-size-12b"],["required","","id","eSolveEndDate","name","endDate","formControlName","endDate",1,"form-control","form-control-sm","font-size-12",3,"min","max","matDatepicker","dateLengthTracker","placeholder"],["scheduleEndDatePicker",""],[1,"row","form-group","validationError"],[1,"fas","fa-plus"],[1,"fas","fa-minus"],[3,"value"],["id","copyData","type","button",1,"copy-job-button","btn","p-2","modal-btn",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-clone"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.qZA(),e.TgZ(7,"div",6)(8,"img",7),e.NdJ("click",function(){return i.closeDialogConfirm()}),e.qZA()()()(),e._UZ(9,"hr",8),e.YNc(10,aR,99,35,"form",9),e.qZA()()()),2&t&&(e.xp6(6),e.hij(" ",i.title," "),e.xp6(4),e.Q6J("ngIf",i.subGroupForm))},dependencies:[D.mk,D.sg,D.O5,On.Mq,On.hl,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.nD,_.sg,_.u,Sn,tr,$n,rr,Ju,mo],styles:[".card_title[_ngcontent-%COMP%]{font-size:17px;padding-left:0}.dialog-title[_ngcontent-%COMP%]{font-weight:700}.x-container[_ngcontent-%COMP%]{margin-top:6px}#dialog-close-x[_ngcontent-%COMP%]{width:15px}.calendar-icon-img2[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:5px;border-radius:0%;position:relative;left:-30px;top:1px;cursor:pointer}.min-width-150px[_ngcontent-%COMP%]{min-width:150px}.label-width[_ngcontent-%COMP%]{max-width:150px;min-width:75px}.label-width2[_ngcontent-%COMP%]{min-width:150px;max-width:150px}.font-size-12b[_ngcontent-%COMP%]{font-size:12px;font-weight:bolder;color:#565d6f}.font-size-12[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.eSolveMargin[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-top:0rem}.submit-new-button[_ngcontent-%COMP%]{border-radius:4px;text-align:center;float:right;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:0 2px 5px #00000042;width:200px;height:25px}.cancel-button[_ngcontent-%COMP%]{border-radius:4px;text-align:center;text-decoration:none;float:right;border:none;outline:none;color:#fff;background-color:#404f64;box-shadow:0 2px 5px #00000042;margin-bottom:5px;width:200px;height:25px}.copy-job-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042;margin-bottom:7px}.modal-btn[_ngcontent-%COMP%]{height:30px;width:200px}.full-width[_ngcontent-%COMP%]{width:100%}.margin-bottom-3[_ngcontent-%COMP%]{margin-bottom:3px}.eSolveNameDiv[_ngcontent-%COMP%]{max-width:200px}.subgroups-create-flex-direction-row-small[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]{max-width:170px;width:170px}#eSolveName[_ngcontent-%COMP%]{width:100%}.fas.fa-plus[_ngcontent-%COMP%], .fas.fa-minus[_ngcontent-%COMP%]{font: 14px/1 FontAwesome;vertical-align:middle}#customDataHeader[_ngcontent-%COMP%], #loneWorkerHeader[_ngcontent-%COMP%], #attendanceHeader[_ngcontent-%COMP%]{vertical-align:middle;width:349px;margin-left:0}#customDataHeader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px}.subgroup-customdata[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.cdListHeight[_ngcontent-%COMP%]{height:256px;overflow-y:auto}.add_data_header[_ngcontent-%COMP%]{color:#a0a5ac;background-color:#f2f3f5;cursor:pointer;padding-left:0!important}.custom_data_label_span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#a0a5ac;background-color:#f2f3f5;cursor:pointer}.align-center[_ngcontent-%COMP%]{-ms-flex-align:center!important;align-items:center!important}#customData[_ngcontent-%COMP%]{margin-bottom:0}.fa-plus[_ngcontent-%COMP%]:before{vertical-align:middle}i.fas.fa-minus[_ngcontent-%COMP%]{vertical-align:middle}.lookup[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;padding-top:0}.lookup[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:28px}#customData[_ngcontent-%COMP%]{margin-bottom:0;padding-left:16px}#eSolveCustomData[_ngcontent-%COMP%], .eSolveCustomDataNumber[_ngcontent-%COMP%]{position:relative}.lookup[_ngcontent-%COMP%]{position:relative;bottom:3px}.patternVisible[_ngcontent-%COMP%]{visibility:hidden}.subgroups-create-ml-15[_ngcontent-%COMP%]{margin-left:15px}.subgroups-create-mr-15[_ngcontent-%COMP%]{margin-right:15px}@media (max-width: 386px){.min-width-150px[_ngcontent-%COMP%]{min-width:100%}}@media (max-width: 490px){.cdListHeight[_ngcontent-%COMP%]{width:100%}}@media (max-width: 535px){#customDataHeader[_ngcontent-%COMP%], #loneWorkerHeader[_ngcontent-%COMP%], #attendanceHeader[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.container-jcBetween[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}.btn-container[_ngcontent-%COMP%]{margin-top:5px;-ms-flex-pack:center!important;justify-content:center!important}.subgroups-create-flex-direction-row-small[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column}.subgroups-create-flex-direction-row-small[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]{margin-left:15px}}"]}),n})();var Dh=J(75725),Lg=J(29413),nS=J(4128);let iS=(()=>{class n{constructor(t){this.http=t}getAllEmpSchedHrsColors(){return new A.y(t=>{this.http.get(S.j.URLEmployeeSchedHrsStatusColor).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}employeeSchedHrsStatus(t,i){return new A.y(r=>{this.http.put(S.j.URLEmployeeSchedHrsStatusColor+"/"+t,i,{responseType:"text"}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}resetToDefaultColor(t){return new A.y(i=>{this.http.put(S.j.URLEmployeeSchedHrsStatusDefaultColor+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class L1{constructor(o,t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De,Ge,We,gt,rt){this.id=o,this.jobTypeName=t,this.skillCodes=i,this.essentialSkillsSelected=r,this.nonEssentialSkillsSelected=a,this.allowedTrade=s,this.timeUnit=l,this.timeUnitValue=c,this.timeUnitSelectedID=u,this.isTimeUnitNonEssential=h,this.comparisonMode=x,this.operator=T,this.employeeFields=O,this.customDataFields=U,this.essentialComparisonRules=re,this.nonEssentialComparisonRules=de,this.areSkillsUpdated=ve,this.loneWorkerJob=Ne,this.loneWorkerRecurringIntervals=De,this.loneWorkerResponseWindow=Ge,this.attendanceConfirmation=We,this.attendanceTimeBeforeStart=gt,this.attendanceResponseWindow=rt}}class lR{constructor(o,t){this.name=o,this.nameID=t}}class rS{constructor(o,t,i,r,a,s,l,c,u){this.id=o,this.jobTypeID=t,this.customDataID=i,this.comparisonMode=r,this.operator=a,this.employeeField=s,this.textValue=l,this.comparisonValues=c,this.numberValue=u}}var U1=J(74165),Ug=J(70655),j1=new e.OlP("ngx-mask config"),oS=new e.OlP("new ngx-mask config"),aS=new e.OlP("initial ngx-mask config"),cR={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new e.vpe,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},dR=["Hh:m0:s0","Hh:m0","m0:s0"],uR=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"],sS=function(){var n=function(){function o(t){var i=this;(0,I.Z)(this,o),this._config=t,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=function(r,a,s,l){var c,u,h=[],x="";if(Array.isArray(s)){var T=new RegExp(s.map(function(ve){return"[\\^$.|?*+()".indexOf(ve)>=0?"\\".concat(ve):ve}).join("|"));h=r.split(T),x=null!==(u=null===(c=r.match(T))||void 0===c?void 0:c[0])&&void 0!==u?u:""}else h=r.split(s),x=s;var O=h.length>1?"".concat(x).concat(h[1]):"",U=h[0],re=i.separatorLimit.replace(/\s/g,"");re&&+re&&(U="-"===U[0]?"-".concat(U.slice(1,U.length).slice(0,re.length)):U.slice(0,re.length));for(var de=/(\d+)(\d{3})/;a&&de.test(U);)U=U.replace(de,"$1"+a+"$2");return void 0===l?U+O:0===l?U:U+O.substr(0,l+1)},this.percentage=function(r){return Number(r)>=0&&Number(r)<=100},this.getPrecision=function(r){var a=r.split(".");return a.length>1?Number(a[a.length-1]):1/0},this.checkAndRemoveSuffix=function(r){for(var a,s,l,c=(null===(a=i.suffix)||void 0===a?void 0:a.length)-1;c>=0;c--){var u=i.suffix.substr(c,null===(s=i.suffix)||void 0===s?void 0:s.length);if(r.includes(u)&&(c-1<0||!r.includes(i.suffix.substr(c-1,null===(l=i.suffix)||void 0===l?void 0:l.length))))return r.replace(u,"")}return r},this.checkInputPrecision=function(r,a,s){if(a<1/0){if(Array.isArray(s)){var l=s.find(function(x){return x!==i.thousandSeparator});s=l||s[0]}var c=new RegExp(i._charToRegExpExpression(s)+"\\d{".concat(a,"}.*$")),u=r.match(c);u&&u[0].length-1>a&&(r=r.substring(0,r.length-(u[0].length-1-a))),0===a&&i._compareOrIncludes(r[r.length-1],s,i.thousandSeparator)&&(r=r.substring(0,r.length-1))}return r},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}return(0,M.Z)(o,[{key:"applyMaskWithPattern",value:function(i,r){var a=(0,ee.Z)(r,2),s=a[0];return this.customPattern=a[1],this.applyMask(i,s)}},{key:"applyMask",value:function(i,r){var h,x,a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};if(!r||"string"!=typeof i)return"";var T=0,O="",U=!1,re=!1,de=1,ve=!1;i.slice(0,this.prefix.length)===this.prefix&&(i=i.slice(this.prefix.length,i.length)),this.suffix&&(null==i?void 0:i.length)>0&&(i=this.checkAndRemoveSuffix(i));var Ne=i.toString().split("");if("IP"===r){var De=i.split(".");this.ipError=this._validIP(De),r="099.099.099.099"}for(var Ge=[],We=0;We<i.length;We++)null!==(h=i[We])&&void 0!==h&&h.match("\\d")&&Ge.push(i[We]);if("CPF_CNPJ"===r&&(this.cpfCnpjError=11!==Ge.length&&14!==Ge.length,r=Ge.length>11?"00.000.000/0000-00":"000.000.000-00"),r.startsWith("percent")){if(i.match("[a-z]|[A-Z]")||i.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){i=this._stripToDecimal(i);var gt=this.getPrecision(r);i=this.checkInputPrecision(i,gt,this.decimalMarker)}if(i.indexOf(".")>0&&!this.percentage(i.substring(0,i.indexOf(".")))){var rt=i.substring(0,i.indexOf(".")-1);i="".concat(rt).concat(i.substring(i.indexOf("."),i.length))}O=this.percentage(i)?i:i.substring(0,i.length-1)}else if(r.startsWith("separator")){(i.match("[w\u0430-\u044f\u0410-\u042f]")||i.match("[\u0401\u0451\u0410-\u044f]")||i.match("[a-z]|[A-Z]")||i.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||i.match("[^A-Za-z0-9,]"))&&(i=this._stripToDecimal(i)),i=i.length>1&&"0"===i[0]&&i[1]!==this.thousandSeparator&&!this._compareOrIncludes(i[1],this.decimalMarker,this.thousandSeparator)&&!c?i.slice(0,i.length-1):i,c&&(i=this._compareOrIncludes(i[i.length-1],this.decimalMarker,this.thousandSeparator)?i.slice(0,i.length-1):i);var vt=this._charToRegExpExpression(this.thousandSeparator),Zt='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(vt,"");if(Array.isArray(this.decimalMarker)){var Bt,Ht=(0,te.Z)(this.decimalMarker);try{for(Ht.s();!(Bt=Ht.n()).done;){var ln=Bt.value;Zt=Zt.replace(this._charToRegExpExpression(ln),"")}}catch(oT){Ht.e(oT)}finally{Ht.f()}}else Zt=Zt.replace(this._charToRegExpExpression(this.decimalMarker),"");var Pn=new RegExp("["+Zt+"]");(i.match(Pn)||1===i.length&&this._compareOrIncludes(i,this.decimalMarker,this.thousandSeparator))&&(i=i.substring(0,i.length-1));var Jn=this.getPrecision(r),kn=(i=this.checkInputPrecision(i,Jn,this.decimalMarker)).replace(new RegExp(vt,"g"),""),mi=(O=this._formatWithSeparators(kn,this.thousandSeparator,this.decimalMarker,Jn)).indexOf(",")-i.indexOf(","),wi=O.length-i.length;if(wi>0&&","!==O[s]){re=!0;var Ni=0;do{this._shift.add(s+Ni),Ni++}while(Ni<wi)}else 0!==mi&&s>0&&!(O.indexOf(",")>=s&&s>3)||!(O.indexOf(".")>=s&&s>3)&&wi<=0?(this._shift.clear(),re=!0,de=wi,this._shift.add(s+=wi)):this._shift.clear()}else for(var cn=0,Rn=Ne[0];cn<Ne.length&&T!==r.length;Rn=Ne[++cn])if(this._checkSymbolMask(Rn,r[T])&&"?"===r[T+1])O+=Rn,T+=2;else if("*"===r[T+1]&&U&&this._checkSymbolMask(Rn,r[T+2]))O+=Rn,T+=3,U=!1;else if(this._checkSymbolMask(Rn,r[T])&&"*"===r[T+1])O+=Rn,U=!0;else if("?"===r[T+1]&&this._checkSymbolMask(Rn,r[T+2]))O+=Rn,T+=3;else if(this._checkSymbolMask(Rn,r[T])){if("H"===r[T]&&Number(Rn)>2){this._shiftStep(r,T+=1,Ne.length),cn--,this.leadZeroDateTime&&(O+="0");continue}if("h"===r[T]&&"2"===O&&Number(Rn)>3){T+=1,cn--;continue}if("m"===r[T]&&Number(Rn)>5){this._shiftStep(r,T+=1,Ne.length),cn--,this.leadZeroDateTime&&(O+="0");continue}if("s"===r[T]&&Number(Rn)>5){this._shiftStep(r,T+=1,Ne.length),cn--,this.leadZeroDateTime&&(O+="0");continue}var Co=31;if("d"===r[T]&&(Number(Rn)>3&&this.leadZeroDateTime||Number(i.slice(T,T+2))>Co||"/"===i[T+1])){this._shiftStep(r,T+=1,Ne.length),cn--,this.leadZeroDateTime&&(O+="0");continue}if("M"===r[T]){var ea=12,_l=0===T&&(Number(Rn)>2||Number(i.slice(T,T+2))>ea||"/"===i[T+1]),du=i.slice(T-3,T-1).includes("/")&&("/"===i[T-2]&&Number(i.slice(T-1,T+1))>ea&&"/"!==i[T]||"/"===i[T]||"/"===i[T-3]&&Number(i.slice(T-2,T))>ea&&"/"!==i[T-1]||"/"===i[T-1]),nT=Number(i.slice(T-3,T-1))<=Co&&!i.slice(T-3,T-1).includes("/")&&"/"===i[T-1]&&(Number(i.slice(T,T+2))>ea||"/"===i[T+1]),iT=Number(i.slice(T-3,T-1))>Co&&!i.slice(T-3,T-1).includes("/")&&!i.slice(T-2,T).includes("/")&&Number(i.slice(T-2,T))>ea,rT=Number(i.slice(T-3,T-1))<=Co&&!i.slice(T-3,T-1).includes("/")&&"/"!==i[T-1]&&Number(i.slice(T-1,T+1))>ea;if(Number(Rn)>1&&this.leadZeroDateTime||_l||du||nT||iT||rT){this._shiftStep(r,T+=1,Ne.length),cn--,this.leadZeroDateTime&&(O+="0");continue}}O+=Rn,T++}else" "===Rn&&" "===r[T]?(O+=Rn,T++):-1!==this.maskSpecialCharacters.indexOf(r[T])?(O+=r[T],T++,this._shiftStep(r,T,Ne.length),cn--):this.maskSpecialCharacters.indexOf(Rn)>-1&&this.maskAvailablePatterns[r[T]]&&(null===(x=this.maskAvailablePatterns[r[T]])||void 0===x?void 0:x.optional)?(!!Ne[T]&&"099.099.099.099"!==r&&"000.000.000-00"!==r&&"00.000.000/0000-00"!==r&&!r.match(/^9+\.0+$/)&&(O+=Ne[T]),T++,cn--):"*"===this.maskExpression[T+1]&&this._findSpecialChar(this.maskExpression[T+2])&&this._findSpecialChar(Rn)===this.maskExpression[T+2]&&U||"?"===this.maskExpression[T+1]&&this._findSpecialChar(this.maskExpression[T+2])&&this._findSpecialChar(Rn)===this.maskExpression[T+2]&&U?(T+=3,O+=Rn):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(Rn)<0&&Rn!==this.placeHolderCharacter&&(ve=!0);O.length+1===r.length&&-1!==this.maskSpecialCharacters.indexOf(r[r.length-1])&&(O+=r[r.length-1]);for(var gM=s+1;this._shift.has(gM);)de++,gM++;var _M=l&&!r.startsWith("separator")?T:this._shift.has(s)?de:0;ve&&_M--,u(_M,re),de<0&&this._shift.clear();var vM=!1;c&&(vM=Ne.every(function(oT){return a.maskSpecialCharacters.includes(oT)}));var bM="".concat(this.prefix).concat(vM?"":O).concat(this.suffix);return 0===O.length&&(bM="".concat(this.prefix).concat(O)),bM}},{key:"_findSpecialChar",value:function(i){return this.maskSpecialCharacters.find(function(r){return r===i})}},{key:"_checkSymbolMask",value:function(i,r){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[r]&&this.maskAvailablePatterns[r].pattern&&this.maskAvailablePatterns[r].pattern.test(i)}},{key:"_stripToDecimal",value:function(i){var r=this;return i.split("").filter(function(a,s){var l="string"==typeof r.decimalMarker?a===r.decimalMarker:r.decimalMarker.includes(a);return a.match("^-?\\d")||a===r.thousandSeparator||l||"-"===a&&0===s&&r.allowNegativeNumbers}).join("")}},{key:"_charToRegExpExpression",value:function(i){return i?" "===i?"\\s":"[\\^$.|?*+()".indexOf(i)>=0?"\\".concat(i):i:i}},{key:"_shiftStep",value:function(i,r,a){var s=/[*?]/g.test(i.slice(0,r))?a:r;this._shift.add(s+this.prefix.length||0)}},{key:"_compareOrIncludes",value:function(i,r,a){return Array.isArray(r)?r.filter(function(s){return s!==a}).includes(i):i===r}},{key:"_validIP",value:function(i){return!(4===i.length&&!i.some(function(r,a){return i.length!==a+1?""===r||Number(r)>255:""===r||Number(r.substring(0,3))>255}))}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(j1))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),lS=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l){var c;return(0,I.Z)(this,i),(c=t.call(this,a)).document=r,c._config=a,c._elementRef=s,c._renderer=l,c.maskExpression="",c.isNumberValue=!1,c.placeHolderCharacter="_",c.maskIsShown="",c.selStart=null,c.selEnd=null,c.writingValue=!1,c.maskChanged=!1,c.triggerOnMaskChange=!1,c.onChange=function(u){},c}return(0,M.Z)(i,[{key:"applyMask",value:function(a,s){var l=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],h=arguments.length>4&&void 0!==arguments[4]&&arguments[4],x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};if(!s)return a!==this.actualValue?this.actualValue:a;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(a||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(a||"#")),!a&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;var T=a&&"number"==typeof this.selStart?a[this.selStart]:"",O="";if(void 0!==this.hiddenInput&&!this.writingValue){var U=this.actualValue.split("");""!==a&&U.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(a.length>U.length?U.splice(this.selStart,0,T):a.length<U.length&&(U.length-a.length==1?U.splice(this.selStart-1,1):U.splice(this.selStart,this.selEnd-this.selStart))):U=[],this.showMaskTyped&&(a=this.removeMask(a)),O=this.actualValue.length&&U.length<=a.length?this.shiftTypedSymbols(U.join("")):a}this.showMaskTyped&&(a=this.removeMask(a)),O=Boolean(O)&&O.length?O:a;var re=(0,xs.Z)((0,Qa.Z)(i.prototype),"applyMask",this).call(this,O,s,c,u,h,x);if(this.actualValue=this.getActualValue(re),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(function(De){return!l._compareOrIncludes(De,l.decimalMarker,l.thousandSeparator)})),this.formControlResult(re),!this.showMaskTyped)return this.hiddenInput&&re&&re.length?this.hideInput(re,this.maskExpression):re;var de=re.length,ve=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){var Ne=this._numberSkipedSymbols(re);return re+ve.slice(de+Ne)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?re+ve:re+ve.slice(de)}},{key:"_numberSkipedSymbols",value:function(a){for(var s=/(^|\D)(\d\D)/g,l=s.exec(a),c=0;null!=l;)c+=1,l=s.exec(a);return c}},{key:"applyValueChanges",value:function(a,s,l){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},u=this._elementRef.nativeElement;u.value=this.applyMask(u.value,this.maskExpression,a,s,l,c),u!==this._getActiveElement()&&this.clearIfNotMatchFn()}},{key:"hideInput",value:function(a,s){var l=this;return a.split("").map(function(c,u){var h,x;return l.maskAvailablePatterns&&l.maskAvailablePatterns[s[u]]&&(null===(h=l.maskAvailablePatterns[s[u]])||void 0===h?void 0:h.symbol)?null===(x=l.maskAvailablePatterns[s[u]])||void 0===x?void 0:x.symbol:c}).join("")}},{key:"getActualValue",value:function(a){var s=this,l=a.split("").filter(function(c,u){return s._checkSymbolMask(c,s.maskExpression[u])||s.maskSpecialCharacters.includes(s.maskExpression[u])&&c===s.maskExpression[u]});return l.join("")===a?l.join(""):a}},{key:"shiftTypedSymbols",value:function(a){var s=this,l="";return(a&&a.split("").map(function(u,h){if(s.maskSpecialCharacters.includes(a[h+1])&&a[h+1]!==s.maskExpression[h+1])return l=u,a[h+1];if(l.length){var x=l;return l="",x}return u})||[]).join("")}},{key:"numberToString",value:function(a){return a||0===a?Number(a).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(a)}},{key:"showMaskInInput",value:function(a){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(a){if("IP"===this.maskExpression)return this._checkForIp(a);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(a)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}},{key:"clearIfNotMatchFn",value:function(){var a=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==a.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(a.value,this.maskExpression))}},{key:"formElementProperty",set:function(a){var s=this,l=(0,ee.Z)(a,2),c=l[0],u=l[1];Promise.resolve().then(function(){return s._renderer.setProperty(s._elementRef.nativeElement,c,u)})}},{key:"checkSpecialCharAmount",value:function(a){var s=this;return a.split("").filter(function(c){return s._findSpecialChar(c)}).length}},{key:"removeMask",value:function(a){return this._removeMask(this._removeSuffix(this._removePrefix(a)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}},{key:"_checkForIp",value:function(a){var s;if("#"===a)return"".concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter);for(var l=[],c=0;c<a.length;c++)null!==(s=a[c])&&void 0!==s&&s.match("\\d")&&l.push(a[c]);return l.length<=3?"".concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter):l.length>3&&l.length<=6?"".concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter):l.length>6&&l.length<=9?this.placeHolderCharacter:""}},{key:"_checkForCpfCnpj",value:function(a){var s,l="".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter)+".".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter)+".".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter)+"-".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter),c="".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter)+".".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter)+".".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter)+"/".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter)+"-".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter);if("#"===a)return l;for(var u=[],h=0;h<a.length;h++)null!==(s=a[h])&&void 0!==s&&s.match("\\d")&&u.push(a[h]);return u.length<=3?l.slice(u.length,l.length):u.length>3&&u.length<=6?l.slice(u.length+1,l.length):u.length>6&&u.length<=9?l.slice(u.length+2,l.length):u.length>9&&u.length<11?l.slice(u.length+3,l.length):11===u.length?"":12===u.length?c.slice(17===a.length?16:15,c.length):u.length>12&&u.length<=14?c.slice(u.length+4,c.length):""}},{key:"_getActiveElement",value:function(){var s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.document,l=null===(s=null==a?void 0:a.activeElement)||void 0===s?void 0:s.shadowRoot;return null!=l&&l.activeElement?this._getActiveElement(l):a.activeElement}},{key:"formControlResult",value:function(a){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(a)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(a)):this._removeSuffix(a))}},{key:"_toNumber",value:function(a){if(!this.isNumberValue||""===a)return a;var s=Number(a);return Number.isNaN(s)?a:s}},{key:"_removeMask",value:function(a,s){return a&&a.replace(this._regExpForRemove(s),"")}},{key:"_removePrefix",value:function(a){return this.prefix?a&&a.replace(this.prefix,""):a}},{key:"_removeSuffix",value:function(a){return this.suffix?a&&a.replace(this.suffix,""):a}},{key:"_retrieveSeparatorValue",value:function(a){return this._removeMask(this._removeSuffix(this._removePrefix(a)),this.maskSpecialCharacters)}},{key:"_regExpForRemove",value:function(a){return new RegExp(a.map(function(s){return"\\".concat(s)}).join("|"),"gi")}},{key:"_replaceDecimalMarkerToDot",value:function(a){var s=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return a.replace(this._regExpForRemove(s),".")}},{key:"_checkSymbols",value:function(a){if(""===a)return a;var s=this._retrieveSeparatorPrecision(this.maskExpression),l=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(a));return this.isNumberValue?s?a===this.decimalMarker?null:this._checkPrecision(this.maskExpression,l):Number(l):l}},{key:"_retrieveSeparatorPrecision",value:function(a){var s=a.match(new RegExp("^separator\\.([^d]*)"));return s?Number(s[1]):null}},{key:"_checkPrecision",value:function(a,s){return a.indexOf("2")>0?Number(s).toFixed(2):Number(s)}}]),i}(sS);return n.\u0275fac=function(t){return new(t||n)(e.LFG(D.K0),e.LFG(j1),e.LFG(e.SBq),e.LFG(e.Qsj))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),Cs=function(){var n=function(){function o(t,i,r){(0,I.Z)(this,o),this.document=t,this._maskService=i,this._config=r,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new e.vpe,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=function(a){},this.onTouch=function(){}}return(0,M.Z)(o,[{key:"ngOnChanges",value:function(i){var r=i.maskExpression,a=i.specialCharacters,s=i.patterns,l=i.prefix,c=i.suffix,u=i.thousandSeparator,h=i.decimalMarker,x=i.dropSpecialCharacters,T=i.hiddenInput,O=i.showMaskTyped,U=i.placeHolderCharacter,re=i.shownMaskExpression,de=i.showTemplate,ve=i.clearIfNotMatch,Ne=i.validation,De=i.separatorLimit,Ge=i.allowNegativeNumbers,We=i.leadZeroDateTime,gt=i.triggerOnMaskChange;if(r&&(r.currentValue!==r.previousValue&&!r.firstChange&&(this._maskService.maskChanged=!0),r.currentValue&&r.currentValue.split("||").length>1?(this._maskExpressionArray=r.currentValue.split("||").sort(function(rt,vt){return rt.length-vt.length}),this._setMask()):(this._maskExpressionArray=[],this._maskValue=r.currentValue||"",this._maskService.maskExpression=this._maskValue)),a){if(!a.currentValue||!Array.isArray(a.currentValue))return;this._maskService.maskSpecialCharacters=a.currentValue||[]}s&&s.currentValue&&(this._maskService.maskAvailablePatterns=s.currentValue),l&&(this._maskService.prefix=l.currentValue),c&&(this._maskService.suffix=c.currentValue),u&&(this._maskService.thousandSeparator=u.currentValue),h&&(this._maskService.decimalMarker=h.currentValue),x&&(this._maskService.dropSpecialCharacters=x.currentValue),T&&(this._maskService.hiddenInput=T.currentValue),O&&(this._maskService.showMaskTyped=O.currentValue),U&&(this._maskService.placeHolderCharacter=U.currentValue),re&&(this._maskService.shownMaskExpression=re.currentValue),de&&(this._maskService.showTemplate=de.currentValue),ve&&(this._maskService.clearIfNotMatch=ve.currentValue),Ne&&(this._maskService.validation=Ne.currentValue),De&&(this._maskService.separatorLimit=De.currentValue),Ge&&(this._maskService.allowNegativeNumbers=Ge.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(function(rt){return"-"!==rt}))),We&&(this._maskService.leadZeroDateTime=We.currentValue),gt&&(this._maskService.triggerOnMaskChange=gt.currentValue),this._applyMask()}},{key:"validate",value:function(i){var r=this,a=i.value;if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(a);if(this._maskService.cpfCnpjError)return this._createValidationError(a);if(this._maskValue.startsWith("separator")||uR.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(dR.includes(this._maskValue))return this._validateTime(a);if(a&&a.toString().length>=1){var s=0,l=function(T){if(r._maskService.maskAvailablePatterns[T].optional){if(r._maskValue.indexOf(T)!==r._maskValue.lastIndexOf(T)){var O=r._maskValue.split("").filter(function(U){return U===T}).join("");s+=O.length}else-1!==r._maskValue.indexOf(T)&&s++;if(-1!==r._maskValue.indexOf(T)&&a.toString().length>=r._maskValue.indexOf(T))return{v:null};if(s===r._maskValue.length)return{v:null}}};for(var c in this._maskService.maskAvailablePatterns){var u=l(c);if("object"==typeof u)return u.v}if(1===this._maskValue.indexOf("{")&&a.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&a.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&a.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(a);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){var h=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-s:this._maskValue.length-s;if(a.toString().length<h)return this._createValidationError(a)}}return a&&this.maskFilled.emit(),null}},{key:"onPaste",value:function(){this._justPasted=!0}},{key:"onModelChange",value:function(i){(""===i||null==i)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}},{key:"onInput",value:function(i){var r=this,a=i.target;if(this._inputValue=a.value,this._setMask(),this._maskValue){var s=1===a.selectionStart?a.selectionStart+this._maskService.prefix.length:a.selectionStart,l=0,c=!1;if(this._maskService.applyValueChanges(s,this._justPasted,"Backspace"===this._code||"Delete"===this._code,function(h,x){r._justPasted=!1,l=h,c=x}),this._getActiveElement()===a){this._position=1===this._position&&1===this._inputValue.length?null:this._position;var u=this._position?this._inputValue.length+s+l:s+("Backspace"!==this._code||c?l:0);u>this._getActualInputLength()&&(u=this._getActualInputLength()),u<0&&(u=0),a.setSelectionRange(u,u),this._position=null}}else this.onChange(a.value)}},{key:"onBlur",value:function(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}},{key:"onClick",value:function(i){if(this._maskValue){var r=i.target;null!==r&&null!==r.selectionStart&&r.selectionStart===r.selectionEnd&&r.selectionStart>this._maskService.prefix.length&&38!==i.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),r.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===r.value?(r.focus(),r.setSelectionRange(0,0)):r.selectionStart>this._maskService.actualValue.length&&r.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));var l=r.value&&r.value!==this._maskService.prefix?r.value:this._maskService.prefix+this._maskService.maskIsShown;if(r.value!==l&&(r.value=l),(r.selectionStart||r.selectionEnd)<=this._maskService.prefix.length)return void(r.selectionStart=this._maskService.prefix.length);r.selectionEnd>this._getActualInputLength()&&(r.selectionEnd=this._getActualInputLength())}}},{key:"onKeyDown",value:function(i){var r;if(this._maskValue){this._code=i.code?i.code:i.key;var a=i.target;if(this._inputValue=a.value,this._setMask(),38===i.keyCode&&i.preventDefault(),37===i.keyCode||8===i.keyCode||46===i.keyCode){if(8===i.keyCode&&0===a.value.length&&(a.selectionStart=a.selectionEnd),8===i.keyCode&&0!==a.selectionStart)if(this.specialCharacters=null!==(r=this.specialCharacters)&&void 0!==r&&r.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&a.selectionStart<=this.prefix.length)a.setSelectionRange(this.prefix.length,a.selectionEnd);else if(this._inputValue.length!==a.selectionStart&&1!==a.selectionStart)for(;this.specialCharacters.includes(this._inputValue[a.selectionStart-1].toString())&&(this.prefix.length>=1&&a.selectionStart>this.prefix.length||0===this.prefix.length);)a.setSelectionRange(a.selectionStart-1,a.selectionEnd);this.checkSelectionOnDeletion(a),this._maskService.prefix.length&&a.selectionStart<=this._maskService.prefix.length&&a.selectionEnd<=this._maskService.prefix.length&&i.preventDefault(),8===i.keyCode&&!a.readOnly&&0===a.selectionStart&&a.selectionEnd===a.value.length&&0!==a.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<a.selectionStart?a.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===i.keyCode&&i.ctrlKey||65===i.keyCode&&i.metaKey)&&(a.setSelectionRange(0,this._getActualInputLength()),i.preventDefault()),this._maskService.selStart=a.selectionStart,this._maskService.selEnd=a.selectionEnd}}},{key:"writeValue",value:function(i){return(0,Ug.mG)(this,void 0,void 0,(0,U1.Z)().mark(function r(){return(0,U1.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:"object"==typeof i&&null!==i&&"value"in i&&("disable"in i&&this.setDisabledState(Boolean(i.disable)),i=i.value),("number"==typeof i||this._maskValue.startsWith("separator"))&&(i=this._maskService.numberToString(i),Array.isArray(this.decimalMarker)||(i="."!==this.decimalMarker?i.replace(".",this.decimalMarker):i),this._maskService.isNumberValue=!0),"string"!=typeof i&&(i=""),this._inputValue=i,this._setMask(),i&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(i,this._maskService.maskExpression)],this._maskService.writingValue=!1):this._maskService.formElementProperty=["value",i],this._inputValue=i;case 7:case"end":return s.stop()}},r,this)}))}},{key:"registerOnChange",value:function(i){this._maskService.onChange=this.onChange=i}},{key:"registerOnTouched",value:function(i){this.onTouch=i}},{key:"_getActiveElement",value:function(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.document,a=null===(r=null==i?void 0:i.activeElement)||void 0===r?void 0:r.shadowRoot;return null!=a&&a.activeElement?this._getActiveElement(a):i.activeElement}},{key:"checkSelectionOnDeletion",value:function(i){i.selectionStart=Math.min(Math.max(this.prefix.length,i.selectionStart),this._inputValue.length-this.suffix.length),i.selectionEnd=Math.min(Math.max(this.prefix.length,i.selectionEnd),this._inputValue.length-this.suffix.length)}},{key:"setDisabledState",value:function(i){this._maskService.formElementProperty=["disabled",i]}},{key:"_repeatPatternSymbols",value:function(i){var r=this;return i.match(/{[0-9]+}/)&&i.split("").reduce(function(a,s,l){if(r._start="{"===s?l:r._start,"}"!==s)return r._maskService._findSpecialChar(s)?a+s:a;r._end=l;var c=Number(i.slice(r._start+1,r._end));return a+new Array(c+1).join(i[r._start-1])},"")||i}},{key:"_applyMask",value:function(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}},{key:"_validateTime",value:function(i){var r=this._maskValue.split("").filter(function(a){return":"!==a}).length;return i&&(0==+i[i.length-1]&&i.length<r||i.length<=r-2)?this._createValidationError(i):null}},{key:"_getActualInputLength",value:function(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}},{key:"_createValidationError",value:function(i){return{mask:{requiredMask:this._maskValue,actualValue:i}}}},{key:"_setMask",value:function(){var i=this;this._maskExpressionArray.length>0&&this._maskExpressionArray.some(function(r){var a,s,l=(null===(a=i._maskService.removeMask(i._inputValue))||void 0===a?void 0:a.length)<=(null===(s=i._maskService.removeMask(r))||void 0===s?void 0:s.length);if(i._inputValue&&l)return i._maskValue=r,i.maskExpression=r,i._maskService.maskExpression=r,l;i._maskValue=i._maskExpressionArray[i._maskExpressionArray.length-1],i.maskExpression=i._maskExpressionArray[i._maskExpressionArray.length-1],i._maskService.maskExpression=i._maskExpressionArray[i._maskExpressionArray.length-1]})}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.K0),e.Y36(lS),e.Y36(j1))},n.\u0275dir=e.lG2({type:n,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(t,i){1&t&&e.NdJ("paste",function(){return i.onPaste()})("ngModelChange",function(a){return i.onModelChange(a)})("input",function(a){return i.onInput(a)})("blur",function(){return i.onBlur()})("click",function(a){return i.onClick(a)})("keydown",function(a){return i.onKeyDown(a)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[e._Bn([{provide:_.JU,useExisting:(0,e.Gpc)(function(){return n}),multi:!0},{provide:_.Cf,useExisting:(0,e.Gpc)(function(){return n}),multi:!0},lS]),e.TTD]}),n}();function pR(n,o){return Object.assign(Object.assign({},n),o instanceof Function?o():o)}var fR=function(){var n=function(){function o(){(0,I.Z)(this,o)}return(0,M.Z)(o,null,[{key:"forRoot",value:function(i){return{ngModule:o,providers:[{provide:oS,useValue:i},{provide:aS,useValue:cR},{provide:j1,useFactory:pR,deps:[aS,oS]},sS]}}},{key:"forChild",value:function(){return{ngModule:o}}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n}(),cS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function hR(n,o){1&n&&(e.TgZ(0,"span",80),e._uU(1," (Default) "),e.qZA())}function mR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",81),e.NdJ("click",function(){const r=e.CHM(t);return e.KtG((0,r.clear)(r.item))}),e._uU(1,"\xd7"),e.qZA(),e.TgZ(2,"span",82),e._uU(3),e.qZA()}if(2&n){const t=o.item;e.xp6(2),e.Q6J("matTooltip",t.description),e.xp6(1),e.Oqu(t.name)}}function gR(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",83),e._uU(3),e.qZA()()),2&n){const t=o.item;e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.hij(" \xa0\xa0\xa0 ",t.description," ")}}function _R(n,o){if(1&n&&(e.TgZ(0,"div",84),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" At least one skill ",t.message.required," ")}}function vR(n,o){1&n&&(e.TgZ(0,"div",85)(1,"div",86)(2,"div",87)(3,"span"),e._uU(4,"OR "),e.qZA()(),e.TgZ(5,"div",88),e._UZ(6,"hr"),e.qZA()()())}function bR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",70)(1,"div",71)(2,"div",50)(3,"div",72)(4,"label",73)(5,"span"),e._uU(6),e.qZA(),e.YNc(7,hR,2,0,"span",74),e.qZA()(),e.TgZ(8,"div",75)(9,"ng-select",76),e.NdJ("add",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSkillAdd(r))})("remove",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onSkillRemove(r))}),e.YNc(10,mR,4,2,"ng-template",77),e.YNc(11,gR,4,2,"ng-template",78),e.qZA(),e.YNc(12,_R,2,1,"div",79),e.qZA()(),e.YNc(13,vR,7,0,"div",28),e.qZA()()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",i),e.xp6(5),e.hij(" ",t.controls.name.value,": "),e.xp6(1),e.Q6J("ngIf","Skills Group A"==t.name),e.xp6(2),e.Q6J("id","essentialSkill"+i)("items",r.selectedJobTypeData.skillCodes)("multiple",!0)("closeOnSelect",!1)("clearable",!1)("dropdownPosition","bottom")("hideSelected",!0)("clearSearchOnAdd",!0),e.xp6(3),e.Q6J("ngIf",(null==r.jobTypeForm.controls.skillGorups.controls[0].controls.nameID.errors?null:r.jobTypeForm.controls.skillGorups.controls[0].controls.nameID.errors.required)&&r.jobTypeForm.controls.skillGorups.controls[0].controls.nameID.touched),e.xp6(1),e.Q6J("ngIf",r.skillGroupsArray.controls.length-1>i)}}function yR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",85)(1,"span",89),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.addNewSkillGroup())}),e._uU(2," + Add Skills Group "),e.qZA()()}}function xR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",81),e.NdJ("click",function(){const r=e.CHM(t);return e.KtG((0,r.clear)(r.item))}),e._uU(1,"\xd7"),e.qZA(),e.TgZ(2,"span",82),e._uU(3),e.qZA()}if(2&n){const t=o.item;e.xp6(2),e.Q6J("matTooltip",t.description),e.xp6(1),e.Oqu(t.name)}}function CR(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",83),e._uU(3),e.qZA()()),2&n){const t=o.item;e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.hij(" \xa0\xa0\xa0 ",t.description," ")}}function TR(n,o){if(1&n&&(e.TgZ(0,"div",90)(1,"div",10)(2,"div",91)(3,"ng-select",92),e.YNc(4,xR,4,2,"ng-template",77),e.YNc(5,CR,4,2,"ng-template",78),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("multiple",!0)("clearable",!1)("hideSelected",!0)("clearSearchOnAdd",!0)("items",t.nonEssentialSkillsSelected)}}function wR(n,o){if(1&n&&(e.TgZ(0,"div",95),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Length of Service value ",t.message.required," ")}}function DR(n,o){if(1&n&&(e.TgZ(0,"div",95),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.maxInput," 999. ")}}function SR(n,o){if(1&n&&(e.TgZ(0,"div",93),e.YNc(1,wR,2,1,"div",94),e.YNc(2,DR,2,1,"div",94),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.lengthOfServiceValue?null:t.jobTypeForm.controls.lengthOfServiceValue.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.lengthOfServiceValue?null:t.jobTypeForm.controls.lengthOfServiceValue.errors.max)}}function kR(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Recurring Intervals ",t.message.required," ")}}function AR(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function MR(n,o){if(1&n&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.loneWorkerReccuringIntervalsGreaterThanResponseWindow," ")}}function OR(n,o){if(1&n&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.loneWorkerReccuringIntervalsValidValue," ")}}function PR(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,kR,2,1,"div",100),e.YNc(2,AR,2,1,"div",100),e.YNc(3,MR,2,1,"div",101),e.YNc(4,OR,2,1,"div",101),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.loneWorkerRecurringIntervals.errors?null:t.jobTypeForm.controls.loneWorkerRecurringIntervals.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.loneWorkerRecurringIntervals.errors?null:t.jobTypeForm.controls.loneWorkerRecurringIntervals.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.loneWorkerRecurringIntervals.errors?null:t.jobTypeForm.controls.loneWorkerRecurringIntervals.errors.loneWorkerReccuringIntervalsThreeTimesGreater),e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.loneWorkerRecurringIntervals.errors?null:t.jobTypeForm.controls.loneWorkerRecurringIntervals.errors.loneWorkerReccuringIntervalsValidValue)}}function ER(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",50)(2,"div",96)(3,"label",97)(4,"strong"),e._uU(5," Recurring Intervals: "),e.qZA()()(),e.TgZ(6,"div",98)(7,"input",99),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.loneWorkerValidation())}),e.qZA()()(),e.YNc(8,PR,5,4,"div",58),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==t.jobTypeForm.controls.loneWorkerRecurringIntervals?null:t.jobTypeForm.controls.loneWorkerRecurringIntervals.touched)&&(null==t.jobTypeForm.controls.loneWorkerRecurringIntervals?null:t.jobTypeForm.controls.loneWorkerRecurringIntervals.errors))}}function IR(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Response Window ",t.message.required," ")}}function NR(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function RR(n,o){if(1&n&&(e.TgZ(0,"div",103),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.loneWorkerResponseWindowValidValue," ")}}function FR(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,IR,2,1,"div",100),e.YNc(2,NR,2,1,"div",100),e.YNc(3,RR,2,1,"div",101),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.loneWorkerResponseWindow.errors?null:t.jobTypeForm.controls.loneWorkerResponseWindow.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.loneWorkerResponseWindow.errors?null:t.jobTypeForm.controls.loneWorkerResponseWindow.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.loneWorkerResponseWindow.errors?null:t.jobTypeForm.controls.loneWorkerResponseWindow.errors.loneWorkerResponseWindowValidValue)}}function ZR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",104)(1,"div",50)(2,"div",105)(3,"label",106)(4,"strong"),e._uU(5," Response Window: "),e.qZA()()(),e.TgZ(6,"div",107)(7,"input",108),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.loneWorkerValidation())}),e.qZA()()(),e.YNc(8,FR,4,3,"div",58),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==t.jobTypeForm.controls.loneWorkerResponseWindow?null:t.jobTypeForm.controls.loneWorkerResponseWindow.touched)&&(null==t.jobTypeForm.controls.loneWorkerResponseWindow?null:t.jobTypeForm.controls.loneWorkerResponseWindow.errors))}}function LR(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Time Before Job Start ",t.message.required," ")}}function UR(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function jR(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,LR,2,1,"div",100),e.YNc(2,UR,2,1,"div",100),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.attendanceTimeBeforeStart.errors?null:t.jobTypeForm.controls.attendanceTimeBeforeStart.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.attendanceTimeBeforeStart.errors?null:t.jobTypeForm.controls.attendanceTimeBeforeStart.errors.minlength)}}function YR(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div")(2,"div",50)(3,"div",96)(4,"label",109)(5,"strong"),e._uU(6," Time Before Job Start: "),e.qZA()()(),e.TgZ(7,"div",98),e._UZ(8,"input",110),e.qZA()(),e.YNc(9,jR,3,2,"div",58),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==t.jobTypeForm.controls.attendanceTimeBeforeStart?null:t.jobTypeForm.controls.attendanceTimeBeforeStart.touched)&&(null==t.jobTypeForm.controls.attendanceTimeBeforeStart?null:t.jobTypeForm.controls.attendanceTimeBeforeStart.errors))}}function qR(n,o){1&n&&(e.TgZ(0,"div",104)(1,"div",50)(2,"div",105)(3,"label",111)(4,"strong"),e._uU(5," Response Window: "),e.qZA()()(),e.TgZ(6,"div",98),e._UZ(7,"input",112),e.qZA()()()),2&n&&(e.xp6(7),e.Q6J("dropSpecialCharacters",!1))}function JR(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function HR(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Response Window ",t.message.required," ")}}function BR(n,o){1&n&&(e.TgZ(0,"div",102),e._uU(1," Cannot be greater than Time Before Start "),e.qZA())}function VR(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,JR,2,1,"div",100),e.YNc(2,HR,2,1,"div",100),e.YNc(3,BR,2,0,"div",100),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.attendanceResponseWindow.errors?null:t.jobTypeForm.controls.attendanceResponseWindow.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.attendanceResponseWindow.errors?null:t.jobTypeForm.controls.attendanceResponseWindow.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jobTypeForm.controls.attendanceResponseWindow.errors?null:t.jobTypeForm.controls.attendanceResponseWindow.errors.invalidResponseTime)}}function GR(n,o){if(1&n&&(e.TgZ(0,"div",84),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Operator ",t.message.required," ")}}function WR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",128)(1,"label",117)(2,"div"),e._uU(3," Operator "),e.qZA()(),e.TgZ(4,"ng-select",129),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.checkiIsComparisonRuleValid())}),e.qZA(),e.YNc(5,GR,2,1,"div",79),e.qZA()}if(2&n){const t=e.oxw().index,i=e.oxw(2);e.Q6J("ngClass","Location"==i.comparisonRulesArray.controls[t].controls.field.value&&"Set Value"===i.selectedComparisonMode[t]?"col-lg-1 form-group":"col-lg-2 form-group"),e.xp6(4),e.Q6J("items",i.selectedJobTypeData.operator)("dropdownPosition","top")("clearable",!1)("required",i.isComparisonModeRequired[t]),e.xp6(1),e.Q6J("ngIf",(null==i.jobTypeForm.controls.comparisonRules.controls[t].controls.operator.errors?null:i.jobTypeForm.controls.comparisonRules.controls[t].controls.operator.errors.required)&&i.jobTypeForm.controls.comparisonRules.controls[t].controls.operator.touched)}}function QR(n,o){if(1&n&&(e.TgZ(0,"div",84),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Employee Field ",t.message.required," ")}}function zR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",130)(1,"label",117)(2,"div"),e._uU(3," Employee Field "),e.qZA()(),e.TgZ(4,"ng-select",131),e.NdJ("change",function(){e.CHM(t);const r=e.oxw().index,a=e.oxw(2);return a.checkiIsComparisonRuleValid(),e.KtG(a.onEmployeeFieldChange(r))}),e.qZA(),e.YNc(5,QR,2,1,"div",79),e.qZA()}if(2&n){const t=e.oxw().index,i=e.oxw(2);e.xp6(4),e.Q6J("items",i.selectedJobTypeData.employeeFields)("clearable",!1)("dropdownPosition","top")("required",i.isComparisonModeRequired[t]),e.xp6(1),e.Q6J("ngIf",(null==i.jobTypeForm.controls.comparisonRules.controls[t].controls.field.errors?null:i.jobTypeForm.controls.comparisonRules.controls[t].controls.field.errors.required)&&i.jobTypeForm.controls.comparisonRules.controls[t].controls.field.touched)}}function KR(n,o){if(1&n&&(e.TgZ(0,"div",84),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Custom Data ",t.message.required," ")}}function $R(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",116)(1,"label",117)(2,"div"),e._uU(3," Custom Data "),e.qZA()(),e.TgZ(4,"ng-select",132),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.checkiIsComparisonRuleValid())}),e.qZA(),e.YNc(5,KR,2,1,"div",79),e.qZA()}if(2&n){const t=e.oxw().index,i=e.oxw(2);e.xp6(4),e.Q6J("items",i.selectedJobTypeData.customDataFields)("clearable",!1)("dropdownPosition","top")("required",i.isComparisonModeRequired[t]),e.xp6(1),e.Q6J("ngIf",(null==i.jobTypeForm.controls.comparisonRules.controls[t].controls.customDataID.errors?null:i.jobTypeForm.controls.comparisonRules.controls[t].controls.customDataID.errors.required)&&i.jobTypeForm.controls.comparisonRules.controls[t].controls.customDataID.touched)}}function XR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",144),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),a=r.index,s=r.$implicit,l=e.oxw(3).index,c=e.oxw(2);return e.KtG(c.deleteValue(a,s.controls.id.value,s.controls.name.value,l))}),e.qZA()}}function eF(n,o){if(1&n&&(e.TgZ(0,"div",145),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function tF(n,o){1&n&&(e.TgZ(0,"div",146)(1,"strong"),e._uU(2,"OR"),e.qZA()())}cS.KeyboardEvent||(cS.KeyboardEvent=function(n,o){});const nF=function(n){return{"first-input-element":n}};function iF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",138)(2,"input",139),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3).index,a=e.oxw(2);return e.KtG(a.uniqueLocationValues(r))})("keyup",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.checkiIsComparisonRuleValid())}),e.qZA(),e.YNc(3,XR,1,0,"i",140),e.qZA(),e.TgZ(4,"div",10)(5,"div",141),e.YNc(6,eF,2,1,"div",142),e.qZA(),e.YNc(7,tF,3,0,"div",143),e.qZA()()}if(2&n){const t=o.index,i=o.first,r=o.last,a=e.oxw(3).index,s=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t)("ngClass",e.VKq(5,nF,i)),e.xp6(2),e.Q6J("ngIf","Location"==s.comparisonRulesArray.controls[a].controls.field.value&&0!=t),e.xp6(3),e.Q6J("ngIf",(null==s.comparisonRulesArray.controls[a].controls.comparisonValues.controls[t].controls.name?null:s.comparisonRulesArray.controls[a].controls.comparisonValues.controls[t].controls.name.touched)&&(null==s.comparisonRulesArray.controls[a].controls.comparisonValues.controls[t].controls.name||null==s.comparisonRulesArray.controls[a].controls.comparisonValues.controls[t].controls.name.errors?null:s.comparisonRulesArray.controls[a].controls.comparisonValues.controls[t].controls.name.errors.required)),e.xp6(1),e.Q6J("ngIf",!r)}}function rF(n,o){if(1&n&&(e.TgZ(0,"div",147),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Values ",t.message.unique," ")}}function oF(n,o){if(1&n&&(e.TgZ(0,"div",135),e.YNc(1,iF,8,7,"div",136),e.YNc(2,rF,2,1,"div",137),e.qZA()),2&n){const t=e.oxw(2).index,i=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",i.comparisonRulesArray.controls[t].controls.comparisonValues.controls),e.xp6(1),e.Q6J("ngIf",null==i.comparisonRulesArray.controls[t].controls.comparisonValues||null==i.comparisonRulesArray.controls[t].controls.comparisonValues.errors?null:i.comparisonRulesArray.controls[t].controls.comparisonValues.errors.unique)}}function aF(n,o){if(1&n&&(e.TgZ(0,"div",116)(1,"div",10)(2,"div",11)(3,"label",133),e._uU(4," Comparison Value*: "),e.qZA()()(),e.YNc(5,oF,3,2,"div",134),e.qZA()),2&n){const t=e.oxw().index,i=e.MAs(13),r=e.oxw(2);e.xp6(5),e.Q6J("ngIf","Location"==r.comparisonRulesArray.controls[t].controls.field.value)("ngIfElse",i)}}function sF(n,o){if(1&n&&(e.TgZ(0,"div",84),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function lF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"input",148),e.NdJ("keyup",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.checkiIsComparisonRuleValid())}),e.qZA(),e.YNc(3,sF,2,1,"div",79),e.qZA()()}if(2&n){const t=e.oxw().index,i=e.oxw(2);e.xp6(2),e.Q6J("required",i.isComparisonModeRequired[t]),e.xp6(1),e.Q6J("ngIf",(null==i.jobTypeForm.controls.comparisonRules.controls[t].controls.value.errors?null:i.jobTypeForm.controls.comparisonRules.controls[t].controls.value.errors.required)&&i.jobTypeForm.controls.comparisonRules.controls[t].controls.value.touched)}}function cF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",149)(1,"div",10)(2,"div",11)(3,"button",150),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,a=e.oxw(2);return e.KtG(a.addNewInput(r))}),e._uU(4," Add "),e.qZA()()()()}}function dF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",151)(1,"i",152),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,a=e.oxw(2);return e.KtG(a.removeComparisonRule(r))}),e.qZA()()}}function uF(n,o){if(1&n&&(e.TgZ(0,"div",153)(1,"label",46)(2,"strong"),e._uU(3," Non-Essential Rule: "),e.qZA()(),e.TgZ(4,"div",154),e._UZ(5,"mat-checkbox",155),e.qZA()()),2&n){const t=e.oxw().index;e.xp6(5),e.MGl("id","nonEssential-",t,"")}}function pF(n,o){1&n&&(e.TgZ(0,"div",156)(1,"div",157)(2,"div",158)(3,"span"),e._uU(4," AND "),e.qZA()(),e.TgZ(5,"div",88),e._UZ(6,"hr"),e.qZA()()())}function fF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",113)(1,"div",114)(2,"div",115)(3,"div",116)(4,"label",117)(5,"div"),e._uU(6," Comparison Mode "),e.qZA()(),e.TgZ(7,"ng-select",118),e.NdJ("change",function(){const a=e.CHM(t).index,s=e.oxw(2);return s.changedSelectComparisonMode(a),s.checkIsComparisonModeRequired(a),e.KtG(s.resetComparisonValues(a))}),e.qZA()(),e.YNc(8,WR,6,6,"div",119),e.YNc(9,zR,6,5,"div",120),e.YNc(10,$R,6,5,"div",121),e.YNc(11,aF,6,2,"div",122),e.YNc(12,lF,4,2,"ng-template",null,123,e.W1O),e.YNc(14,cF,5,0,"div",124),e.YNc(15,dF,2,0,"div",125),e.YNc(16,uF,6,1,"div",126),e.qZA()(),e.YNc(17,pF,7,0,"div",127),e.qZA()}if(2&n){const t=o.index,i=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(6),e.Q6J("items",i.selectedJobTypeData.comparisonMode)("dropdownPosition","top")("clearable",!1),e.xp6(1),e.Q6J("ngIf",""!=i.selectedComparisonMode[t]),e.xp6(1),e.Q6J("ngIf",""!=i.selectedComparisonMode[t]),e.xp6(1),e.Q6J("ngIf","Custom Data"===i.selectedComparisonMode[t]),e.xp6(1),e.Q6J("ngIf","Set Value"===i.selectedComparisonMode[t]),e.xp6(3),e.Q6J("ngIf","Location"==i.comparisonRulesArray.controls[t].controls.field.value&&"Set Value"===i.selectedComparisonMode[t]),e.xp6(1),e.Q6J("ngIf",""!=i.selectedComparisonMode[t]),e.xp6(1),e.Q6J("ngIf",""!=i.selectedComparisonMode[t]),e.xp6(1),e.Q6J("ngIf",i.comparisonRulesArray.controls.length-1>t)}}function hF(n,o){1&n&&e._UZ(0,"hr",159)}function mF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",86)(1,"div",160)(2,"span",89),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.addComparisonRule())}),e._uU(3," + Add Comparison Rules "),e.qZA()()()}}function gF(n,o){1&n&&e._UZ(0,"hr")}const _F=function(n){return{"disabled-form":n}},dS=function(n){return{"small-screen-min-height-180":n}};function vF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",16,17)(2,"fieldset",18)(3,"div",19)(4,"div",20)(5,"div")(6,"strong",21),e._uU(7," Skills Required: "),e.qZA()(),e.TgZ(8,"div"),e._UZ(9,"i",22),e.qZA()(),e.TgZ(10,"div",23),e.YNc(11,bR,14,13,"div",24),e._UZ(12,"div",25,26),e.qZA(),e._UZ(14,"div",27),e.YNc(15,yR,3,0,"div",28),e.qZA(),e._UZ(16,"hr",29),e.TgZ(17,"div",30)(18,"div",31)(19,"div")(20,"strong",21),e._uU(21," Non-Essential Skills: "),e.qZA()()(),e.TgZ(22,"div",32),e.YNc(23,TR,6,5,"div",33),e.qZA()(),e._UZ(24,"hr",29),e.TgZ(25,"div",34)(26,"div",35)(27,"div",36)(28,"label",37)(29,"strong"),e._uU(30," Length of Service: "),e.qZA()()(),e.TgZ(31,"div",38)(32,"div",10)(33,"div",39)(34,"div",10)(35,"div",40)(36,"ng-select",41),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onChangeTimeUnit(r))}),e.qZA()(),e.TgZ(37,"div",42),e._UZ(38,"input",43),e.qZA()(),e.YNc(39,SR,3,2,"div",44),e.qZA(),e.TgZ(40,"div",45)(41,"label",46)(42,"strong"),e._uU(43," Non-Essential Rule: "),e.qZA()(),e.TgZ(44,"div",47),e._UZ(45,"mat-checkbox",48),e.qZA()()()()()(),e._UZ(46,"hr",29),e.TgZ(47,"div",49)(48,"div",50)(49,"div",51)(50,"label",52)(51,"strong"),e._uU(52," Allowed Trade: "),e.qZA()()(),e.TgZ(53,"div",53),e._UZ(54,"mat-checkbox",54),e.qZA()()(),e._UZ(55,"hr",29),e.TgZ(56,"div",55)(57,"div",50)(58,"div")(59,"div",50)(60,"div",51)(61,"label",56)(62,"strong"),e._uU(63," Lone Worker Job: "),e.qZA()()(),e.TgZ(64,"div",53)(65,"mat-checkbox",57),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.trackCheckboxChanges("loneWorkerJob"))}),e.qZA()()()(),e.YNc(66,ER,9,2,"div",58),e.YNc(67,ZR,9,2,"div",59),e.qZA()(),e._UZ(68,"hr",29),e.TgZ(69,"div",60)(70,"div",50)(71,"div")(72,"div",50)(73,"div",51)(74,"label",61)(75,"strong"),e._uU(76," Attendance Confirmation: "),e.qZA()()(),e.TgZ(77,"div",38)(78,"div",62)(79,"mat-checkbox",63),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.trackCheckboxChanges("attendanceConfirmation"))}),e.qZA()()()()(),e.YNc(80,YR,10,2,"div",58),e.TgZ(81,"div"),e.YNc(82,qR,8,1,"div",59),e.YNc(83,VR,4,3,"div",58),e.qZA()()(),e._UZ(84,"hr",64),e.TgZ(85,"div",65)(86,"strong",66),e._uU(87," Comparison Rules: "),e.qZA()(),e.YNc(88,fF,18,12,"div",67),e.YNc(89,hF,1,0,"hr",68),e.YNc(90,mF,4,0,"div",69),e.YNc(91,gF,1,0,"hr",58),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.jobTypeForm),e.xp6(2),e.Q6J("disabled",!t.canMaintainJobTypes)("ngClass",e.VKq(22,_F,!t.canMaintainJobTypes)),e.xp6(9),e.Q6J("ngForOf",t.skillGroupsArray.controls),e.xp6(4),e.Q6J("ngIf",t.skillGroupsArray.controls.length<5&&t.canMaintainJobTypes),e.xp6(8),e.Q6J("ngIf",t.nonEssentialSkillsSelected.length),e.xp6(13),e.Q6J("items",t.selectedJobTypeData.timeUnit)("multiple",!1)("dropdownPosition","top"),e.xp6(2),e.Q6J("required",""!=(null==t.jobTypeForm.controls.lengthOfService?null:t.jobTypeForm.controls.lengthOfService.value)&&null!=(null==t.jobTypeForm.controls.lengthOfService?null:t.jobTypeForm.controls.lengthOfService.value)),e.xp6(1),e.Q6J("ngIf",(null==t.jobTypeForm.controls.lengthOfServiceValue?null:t.jobTypeForm.controls.lengthOfServiceValue.touched)&&(null==t.jobTypeForm.controls.lengthOfServiceValue?null:t.jobTypeForm.controls.lengthOfServiceValue.errors)),e.xp6(17),e.Q6J("ngClass",e.VKq(24,dS,t.jobTypeForm.controls.loneWorkerJob.value)),e.xp6(10),e.Q6J("ngIf",t.jobTypeForm.controls.loneWorkerJob.value),e.xp6(1),e.Q6J("ngIf",t.jobTypeForm.controls.loneWorkerJob.value),e.xp6(2),e.Q6J("ngClass",e.VKq(26,dS,t.jobTypeForm.controls.attendanceConfirmation.value)),e.xp6(11),e.Q6J("ngIf",t.jobTypeForm.controls.attendanceConfirmation.value),e.xp6(2),e.Q6J("ngIf",t.jobTypeForm.controls.attendanceConfirmation.value),e.xp6(1),e.Q6J("ngIf",(null==t.jobTypeForm.controls.attendanceResponseWindow?null:t.jobTypeForm.controls.attendanceResponseWindow.touched)&&(null==t.jobTypeForm.controls.attendanceResponseWindow?null:t.jobTypeForm.controls.attendanceResponseWindow.errors)),e.xp6(5),e.Q6J("ngForOf",t.comparisonRulesArray.controls),e.xp6(1),e.Q6J("ngIf",t.canMaintainJobTypes),e.xp6(1),e.Q6J("ngIf",t.isComparisonRuleValid&&t.canMaintainJobTypes),e.xp6(1),e.Q6J("ngIf",t.isComparisonRuleValid)}}function bF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",161),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.jobTypeDelete())}),e._UZ(1,"i",162),e._uU(2," Delete "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.httpCallProgress)}}function yF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",163),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveJobType())}),e._uU(1," Save Changes "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.httpCallProgress)}}let uS=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x){this._confirmDetailsDialogRef=t,this.dialogData=i,this._messageService=r,this._jobTypeService=a,this.skillDialog=s,this.dialogService=l,this.dialogRef=c,this._userRoleService=u,this._fb=h,this.changeDetectorRef=x,this.selectedJobTypeData=new L1,this.skillGroupNameCharacter=new Array("A","B","C","D","E"),this.nonEssentialSkillsSelected=new Array,this.isComparisonModeRequired=[],this.selectedComparisonMode=[],this.isComparisonRuleValid=!1,this.areSkillUpdated=!1,this.canCreateSkillCode=!1,this.snapshot={},this.objectOnSave={},this.canMaintainJobTypes=!1,this.httpCallProgress=!1,this.selectedSkills=new Array,this.ngUnsubscribe=new b.x}ngOnInit(){this.message=St.yw,this.canMaintainJobTypes=this.dialogData.permissionToMaintainJobTypes,this.buildForm(),this.populateData(),this.setPermissionForCreatingSkillCodes()}ngAfterViewChecked(){this.changeDetectorRef.detectChanges()}buildForm(){this.jobTypeForm=this._fb.group({id:0,skillGorups:this._fb.array([]),nonEssentialSkills:[],lengthOfService:[],lengthOfServiceValue:["",_.kI.max(999)],nonEssentialRuleLengthOfService:!1,loneWorkerJob:!1,loneWorkerRecurringIntervals:[null,{validators:[_.kI.minLength(5)],updateOn:"change"}],loneWorkerResponseWindow:[null,{validators:[_.kI.minLength(5)],updateOn:"change"}],allowedTrade:!1,attendanceConfirmation:[!1],attendanceTimeBeforeStart:[null],attendanceResponseWindow:[null],comparisonRules:this._fb.array([]),toDeleteLocationValuesLookup:this._fb.array([])},{validators:[(0,hr.il)("loneWorkerJob","loneWorkerRecurringIntervals","loneWorkerResponseWindow"),(0,hr.il)("attendanceConfirmation","attendanceTimeBeforeStart","attendanceResponseWindow"),(0,hr.q7)("attendanceTimeBeforeStart","attendanceResponseWindow")]})}get skillGroupsArray(){return this.jobTypeForm.get("skillGorups")}get comparisonRulesArray(){return this.jobTypeForm.get("comparisonRules")}_getFormArray(t){return this.comparisonRulesArray.controls[t].controls.comparisonValues.controls}_getDeleteFormArray(){return this.jobTypeForm.controls.toDeleteLocationValuesLookup}newSkillGroup(){return this._fb.group({id:0,name:null,nameID:[]})}addSkillGroup(){this.skillGroupsArray.push(this.newSkillGroup())}removeSkillGroup(t){this.skillGroupsArray.removeAt(t),this.skillGroupsArray.length||this.addSkillGroup()}newComparisonRule(){return this._fb.group({id:0,comparisonMode:[],operator:[],field:[],value:[],customDataID:[],nonEssential:!1,comparisonValues:this._fb.array([],{validators:[_.kI.required],updateOn:"change"})})}addComparisonRule(){this.comparisonRulesArray.push(this.newComparisonRule()),this.selectedComparisonMode[this.comparisonRulesArray.length-1]="",this.isComparisonModeRequired[this.comparisonRulesArray.length-1]=!1}removeComparisonRule(t){this.comparisonRulesArray.removeAt(t),this.selectedComparisonMode.splice(t,1),this.isComparisonModeRequired.splice(t,1),this.comparisonRulesArray.length||(this.isComparisonRuleValid=!1,this.addComparisonRule(),this.selectedComparisonMode[0]="",this.isComparisonModeRequired[0]=!1)}setPermissionForCreatingSkillCodes(){setTimeout(()=>{let t=this._userRoleService.getGlobalAccountPermissions();t&&(this.canCreateSkillCode=t.canUserCreateSkillCodes)},200)}populateData(){this._jobTypeService.getJobType(this.dialogData.jobTypeId).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(i=>{this.selectedJobTypeData=i,this.addSkillGroup(),this.skillGroupsArray.controls[0].controls.name.setValue("Skill Group "+this.skillGroupNameCharacter[0]),this.selectedJobTypeData.id<1&&this.addComparisonRule(),this.selectedJobTypeData.id>0&&(this.patchValues(),this.snapshot=this.createSnapshot(i),this.snapshot.comparisonRules=JSON.parse(JSON.stringify(this.comparisonRulesArray.value)))},i=>{this._messageService.open(i)})}addNewSkillGroup(){this.addSkillGroup(),this.skillGroupsArray.controls[this.skillGroupsArray.controls.length-1].controls.name.setValue("Skill Group "+this.skillGroupNameCharacter[this.skillGroupsArray.controls.length-1])}onSkillAdd(t){this.nonEssentialSkillsSelected.find(i=>i.id==t.id)||(this.nonEssentialSkillsSelected=[...this.nonEssentialSkillsSelected,t])}onSkillRemove(t){let i=!1;for(var r=0;r<this.skillGroupsArray.length;r++)if(this.skillGroupsArray.controls[r].controls.nameID.value.find(s=>s.id==t.value.id)){i=!0;break}if(!i){var a=[];this.jobTypeForm.controls.nonEssentialSkills.value&&this.jobTypeForm.controls.nonEssentialSkills.value.forEach(c=>{a.push(c)});const s=a.map(function(c){return c.id}).indexOf(t.value.id);-1!=s&&(a.splice(s,1),this.jobTypeForm.controls.nonEssentialSkills.patchValue(a));const l=this.nonEssentialSkillsSelected.map(function(c){return c.id}).indexOf(t.value.id);-1!==l&&(this.nonEssentialSkillsSelected.splice(l,1),this.nonEssentialSkillsSelected=[...this.nonEssentialSkillsSelected])}}onSkillRemoveInEssential(t){this.nonEssentialSkillsSelected.find(i=>i.id==t.value.id)||(this.nonEssentialSkillsSelected=[...this.nonEssentialSkillsSelected,t.value])}onSkillRemoveInNonEssential(t){this.selectedJobTypeData.skillCodes.find(i=>i.name==t.value.id)||(this.selectedJobTypeData.skillCodes=[...this.selectedJobTypeData.skillCodes,t.value])}onSkillAddInNonEssential(t){for(var i=0;i<this.skillGroupsArray.length;i++){var r=[];this.skillGroupsArray.controls[i].controls.nameID.value&&this.skillGroupsArray.controls[i].controls.nameID.value.forEach(l=>{r.push(l)});const a=r.map(function(l){return l.id}).indexOf(t.id);-1!=a&&(r.splice(a,1),this.skillGroupsArray.controls[i].controls.nameID.value.patchValue(r));const s=this.selectedJobTypeData.skillCodes.map(function(l){return l.id}).indexOf(t.id);-1!==s&&(this.selectedJobTypeData.skillCodes.splice(s,1),this.selectedJobTypeData.skillCodes=[...this.selectedJobTypeData.skillCodes])}}onSkillAddInEssential(t){let i=!1;for(var r=0;r<this.skillGroupsArray.length;r++)if(this.skillGroupsArray.controls[r].controls.nameID.value.find(s=>s.id==t.id)){i=!0;break}if(i){var a=[];this.jobTypeForm.controls.nonEssentialSkills.value&&this.jobTypeForm.controls.nonEssentialSkills.value.forEach(c=>{a.push(c)});const s=a.map(function(c){return c.id}).indexOf(t.id);-1!=s&&(a.splice(s,1),this.jobTypeForm.controls.nonEssentialSkills.patchValue(a));const l=this.nonEssentialSkillsSelected.map(function(c){return c.id}).indexOf(t.id);-1!==l&&(this.nonEssentialSkillsSelected.splice(l,1),this.nonEssentialSkillsSelected=[...this.nonEssentialSkillsSelected])}}get f(){if(this.jobTypeForm)return this.jobTypeForm.controls}checkIsComparisonModeRequired(t){let i="",r="",a="";i=this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonMode.value,r=this.jobTypeForm.controls.comparisonRules.controls[t].controls.operator.value,a=this.jobTypeForm.controls.comparisonRules.controls[t].controls.field.value,this.isComparisonModeRequired[t]=""!=i&&null!=i||""!=r&&null!=r||""!=a&&null!=a}changedSelectComparisonMode(t){this.selectedComparisonMode[t]=this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonMode.value,this.resetField("Set Value"==this.selectedComparisonMode[t]||"Custom Data"==this.selectedComparisonMode[t]?["value","customDataID"]:["comparisonMode","value","customDataID","operator","field"],t)}resetField(t,i){t.forEach(r=>{this.jobTypeForm.controls.comparisonRules.controls[i].controls[r].setValue(null),this.jobTypeForm.controls.comparisonRules.controls[i].controls[r].markAsUntouched(),this.jobTypeForm.controls.comparisonRules.controls[i].controls[r].setErrors(null)})}checkiIsComparisonRuleValid(){let t=this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls;this.isComparisonRuleValid="Location"==t.field.value?!!(t.operator.valid&&t.field.valid&&t.comparisonValues.valid):!!(t.operator.valid&&t.field.valid&&t.value.valid)}onChangeTimeUnit(t){this.jobTypeForm.controls.lengthOfServiceValue.setErrors(null),this.jobTypeForm.controls.lengthOfServiceValue.markAsUntouched(),null==t&&this.jobTypeForm.controls.lengthOfServiceValue.setValue("")}trackCheckboxChanges(t){let i="",r="",a="";switch(t){case"attendanceConfirmation":i="attendanceConfirmation",r="attendanceTimeBeforeStart",a="attendanceResponseWindow";break;case"loneWorkerJob":i="loneWorkerJob",r="loneWorkerRecurringIntervals",a="loneWorkerResponseWindow"}this.jobTypeForm.controls[i].value||(this.jobTypeForm.controls[r].setValue(null,{emitEvent:!1}),this.jobTypeForm.controls[a].setValue(null,{emitEvent:!1}))}saveJobType(){if(this.httpCallProgress=!0,(""==this.jobTypeForm.controls.lengthOfService.value||null==this.jobTypeForm.controls.lengthOfService.value)&&this.jobTypeForm.controls.lengthOfServiceValue.setValue(null),this.loneWorkerValidation(),this.checkControls(),this.checkIfOneEssentialSkillPresent(),this.jobTypeForm.valid){let t=new L1;t.id=this.selectedJobTypeData.id,t.jobTypeName=this.selectedJobTypeData.jobTypeName;for(let r=0;r<this.jobTypeForm.controls.skillGorups.value.length;r++)null==this.jobTypeForm.controls.skillGorups.value[r].nameID&&this.jobTypeForm.controls.skillGorups.value.splice(r,1);if(this.jobTypeForm.controls.skillGorups.value.length>0&&null!=this.jobTypeForm.controls.skillGorups.value[0].nameID){for(let r=0;r<this.jobTypeForm.controls.skillGorups.value.length;r++)this.jobTypeForm.controls.skillGorups.controls[r].controls.nameID.value.forEach(a=>{a.description&&delete a.description});t.essentialSkillsSelected=this.jobTypeForm.controls.skillGorups.value}if(null!=this.jobTypeForm.controls.nonEssentialSkills.value){for(let r=0;r<this.jobTypeForm.controls.nonEssentialSkills.value.length;r++)this.jobTypeForm.controls.nonEssentialSkills.value.forEach(a=>{a.description&&delete a.description});t.nonEssentialSkillsSelected=[new lR("nonEssential",this.jobTypeForm.controls.nonEssentialSkills.value)]}else t.nonEssentialSkillsSelected=[];t.timeUnitSelectedID=this.jobTypeForm.controls.lengthOfService.value,t.timeUnitValue=this.jobTypeForm.controls.lengthOfServiceValue.value,t.isTimeUnitNonEssential=this.jobTypeForm.controls.nonEssentialRuleLengthOfService.value,t.attendanceConfirmation=this.jobTypeForm.controls.attendanceConfirmation.value,t.attendanceTimeBeforeStart=this.jobTypeForm.controls.attendanceTimeBeforeStart.value,t.attendanceResponseWindow=this.jobTypeForm.controls.attendanceResponseWindow.value,t.loneWorkerJob=this.jobTypeForm.controls.loneWorkerJob.value,t.loneWorkerRecurringIntervals=this.jobTypeForm.controls.loneWorkerRecurringIntervals.value,t.loneWorkerResponseWindow=this.jobTypeForm.controls.loneWorkerResponseWindow.value,t.allowedTrade=this.jobTypeForm.controls.allowedTrade.value,t.areSkillsUpdated=this.checkSkillUpdated(this.checkIsListEmpty(this.jobTypeForm.controls.skillGorups.value),this.checkIsListEmpty(this.selectedJobTypeData.essentialSkillsSelected))||this.checkSkillUpdated(this.checkIsListEmpty(t.nonEssentialSkillsSelected),this.checkIsListEmpty(this.selectedJobTypeData.nonEssentialSkillsSelected)),t.essentialComparisonRules=new Array,t.nonEssentialComparisonRules=new Array;for(let r=0;r<this.comparisonRulesArray.length;r++)if(null!=this.comparisonRulesArray.controls[r].controls.comparisonMode.value){let a=[];this.comparisonRulesArray.controls[r].controls.comparisonValues.controls.forEach(s=>{a.push(s.value)}),this.comparisonRulesArray.controls[r].controls.nonEssential.value?t.nonEssentialComparisonRules.push(new rS(0,this.selectedJobTypeData.id,this.comparisonRulesArray.controls[r].controls.customDataID.value,this.comparisonRulesArray.controls[r].controls.comparisonMode.value,this.comparisonRulesArray.controls[r].controls.operator.value,this.comparisonRulesArray.controls[r].controls.field.value,this.comparisonRulesArray.controls[r].controls.value.value,a,null)):t.essentialComparisonRules.push(new rS(0,this.selectedJobTypeData.id,this.comparisonRulesArray.controls[r].controls.customDataID.value,this.comparisonRulesArray.controls[r].controls.comparisonMode.value,this.comparisonRulesArray.controls[r].controls.operator.value,this.comparisonRulesArray.controls[r].controls.field.value,this.comparisonRulesArray.controls[r].controls.value.value,a,null))}this.objectOnSave=this.createSnapshot(t),this.objectOnSave.comparisonRules=this.comparisonRulesArray.value;let i=this.detectChanges(this.snapshot,this.objectOnSave);i?this._jobTypeService.editJobType(t).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{this.closeDialog({state:"success",changes:i,tradeChanged:t.allowedTrade})},r=>{this.httpCallProgress=!1,this._messageService.open(r)}):this.closeDialog({state:"success",changes:i,tradeChanged:t.allowedTrade})}else this.jobTypeForm.markAllAsTouched(),this.httpCallProgress=!1,this._messageService.open(this.message.fillForm)}checkIsListEmpty(t){return null==t?[]:1!=t.length||null!=t[0].nameID&&0!=t[0].nameID.length?t:[]}checkSkillUpdated(t,i){let r=!1;if(t.length==i.length)for(var a=0;a<t.length;a++){if(t[a].nameID.length!=i[a].nameID.length){r=!0;break}var s=["id","name"];if(0!=t[a].nameID.filter(function(c){return!i[a].nameID.some(function(u){return c.id===u.id})}).map(function(c){return s.reduce(function(u,h){return u[h]=c[h],u},{})}).length){r=!0;break}r=!1}else r=!0;return r}patchValues(){if(this.selectedJobTypeData.essentialSkillsSelected.length>0)for(var t=0;t<this.selectedJobTypeData.essentialSkillsSelected.length;t++){0!=t&&this.addNewSkillGroup();let i=this.selectedJobTypeData.essentialSkillsSelected.map(function(r){return r.name}).indexOf(this.skillGroupsArray.controls[this.skillGroupsArray.controls.length-1].controls.name.value);this.skillGroupsArray.controls[this.skillGroupsArray.controls.length-1].controls.nameID.patchValue(this.selectedJobTypeData.essentialSkillsSelected[i].nameID);for(let r=0;r<this.selectedJobTypeData.essentialSkillsSelected[t].nameID.length;r++)-1==this.nonEssentialSkillsSelected.map(function(s){return s.id}).indexOf(this.selectedJobTypeData.essentialSkillsSelected[t].nameID[r].id)&&(this.nonEssentialSkillsSelected=[...this.nonEssentialSkillsSelected,this.selectedJobTypeData.essentialSkillsSelected[t].nameID[r]])}if(this.selectedJobTypeData.nonEssentialSkillsSelected[0].nameID.length>0&&this.jobTypeForm.controls.nonEssentialSkills.patchValue(this.selectedJobTypeData.nonEssentialSkillsSelected[0].nameID),this.nonEssentialSkillsSelected.length>0&&(this.selectedSkills=this.selectedJobTypeData.skillCodes,this.nonEssentialSkillsSelected.map(i=>{var r=this.selectedSkills.find(a=>a.id==i.id).description;r&&(i.description=r)})),this.selectedJobTypeData.essentialComparisonRules.length>0||this.selectedJobTypeData.nonEssentialComparisonRules.length>0){for(t=0;t<this.selectedJobTypeData.essentialComparisonRules.length;t++){if(this.addComparisonRule(),this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.comparisonMode.patchValue(this.selectedJobTypeData.essentialComparisonRules[t].comparisonMode),this.isComparisonModeRequired[this.comparisonRulesArray.length-1]=!0,this.changedSelectComparisonMode(this.comparisonRulesArray.length-1),this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.operator.patchValue(this.selectedJobTypeData.essentialComparisonRules[t].operator),this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.field.patchValue(this.selectedJobTypeData.essentialComparisonRules[t].employeeField),"Set Value"==this.selectedJobTypeData.essentialComparisonRules[t].comparisonMode){let r=this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.comparisonValues;if(null!=this.selectedJobTypeData.essentialComparisonRules[t].comparisonValues)for(let a of this.selectedJobTypeData.essentialComparisonRules[t].comparisonValues)r.push(this._fb.group({id:new _.NI(a.id),name:new _.NI(a.name,[_.kI.required,_.kI.maxLength(300)])}));else this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.value.patchValue(this.selectedJobTypeData.essentialComparisonRules[t].textValue)}else this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.customDataID.patchValue(this.selectedJobTypeData.essentialComparisonRules[t].customDataID);this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.nonEssential.patchValue(!1)}for(t=0;t<this.selectedJobTypeData.nonEssentialComparisonRules.length;t++){if(this.addComparisonRule(),this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.comparisonMode.patchValue(this.selectedJobTypeData.nonEssentialComparisonRules[t].comparisonMode),this.isComparisonModeRequired[this.comparisonRulesArray.length-1]=!0,this.changedSelectComparisonMode(this.comparisonRulesArray.length-1),this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.operator.patchValue(this.selectedJobTypeData.nonEssentialComparisonRules[t].operator),this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.field.patchValue(this.selectedJobTypeData.nonEssentialComparisonRules[t].employeeField),"Set Value"==this.selectedJobTypeData.nonEssentialComparisonRules[t].comparisonMode){let r=this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.comparisonValues;if(null!=this.selectedJobTypeData.nonEssentialComparisonRules[t].comparisonValues)for(let a of this.selectedJobTypeData.nonEssentialComparisonRules[t].comparisonValues)r.push(this._fb.group({id:new _.NI(a.id),name:new _.NI(a.name,[_.kI.required,_.kI.maxLength(300)])}));else this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.value.patchValue(this.selectedJobTypeData.nonEssentialComparisonRules[t].textValue)}else this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.customDataID.patchValue(this.selectedJobTypeData.nonEssentialComparisonRules[t].customDataID);this.comparisonRulesArray.controls[this.comparisonRulesArray.length-1].controls.nonEssential.patchValue(!0)}}else this.addComparisonRule();this.jobTypeForm.controls.allowedTrade.patchValue(this.selectedJobTypeData.allowedTrade),this.jobTypeForm.controls.lengthOfService.patchValue(this.selectedJobTypeData.timeUnitSelectedID),this.jobTypeForm.controls.lengthOfServiceValue.patchValue(this.selectedJobTypeData.timeUnitValue),this.jobTypeForm.controls.nonEssentialRuleLengthOfService.patchValue(this.selectedJobTypeData.isTimeUnitNonEssential),this.jobTypeForm.controls.loneWorkerJob.patchValue(this.selectedJobTypeData.loneWorkerJob),this.jobTypeForm.controls.loneWorkerRecurringIntervals.patchValue(this.selectedJobTypeData.loneWorkerRecurringIntervals),this.jobTypeForm.controls.loneWorkerResponseWindow.patchValue(this.selectedJobTypeData.loneWorkerResponseWindow),this.jobTypeForm.controls.attendanceConfirmation.patchValue(this.selectedJobTypeData.attendanceConfirmation),this.jobTypeForm.controls.attendanceTimeBeforeStart.patchValue(this.selectedJobTypeData.attendanceTimeBeforeStart),this.jobTypeForm.controls.attendanceResponseWindow.patchValue(this.selectedJobTypeData.attendanceResponseWindow),this.isComparisonRuleValid=!0}closeDialog(t){this._confirmDetailsDialogRef.close(t)}jobTypeDelete(){this.httpCallProgress=!0;let t=this.dialogData.jobTypeId;this.dialogService.openConfirmDialog("Delete",(0,St.$j)(" Job Type")).afterClosed().pipe((0,H.R)(this.ngUnsubscribe)).subscribe(i=>{i?this._jobTypeService.deleteJobType(t).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{this._messageService.open(null==r?"Job Type deleted.":r),null==r?this.dialogRef.close({message:"deleted"}):this.httpCallProgress=!1},r=>{this.httpCallProgress=!1,this._messageService.open(r)}):this.httpCallProgress=!1})}openNewSkillDialog(){this.skillDialog.open(Lf,{width:"300px",disableClose:!0,autoFocus:!1}).afterClosed().pipe((0,H.R)(this.ngUnsubscribe)).subscribe(i=>{"submitted"===i&&this._jobTypeService.getJobType(this.selectedJobTypeData.id).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{this.selectedJobTypeData.skillCodes=r.skillCodes})})}createSnapshot(t){let i={};return i.allowedTrade=t.allowedTrade,i.areSkillsUpdated=t.areSkillsUpdated,i.essentialComparisonRules=t.essentialComparisonRules,i.essentialSkillsSelected=t.essentialSkillsSelected,i.id=t.id,i.isTimeUnitNonEssential=t.isTimeUnitNonEssential,i.jobTypeName=t.jobTypeName,i.nonEssentialComparisonRules=t.nonEssentialComparisonRules,i.nonEssentialSkillsSelected=t.nonEssentialSkillsSelected,i.timeUnitSelectedID=t.timeUnitSelectedID,i.timeUnitValue=t.timeUnitValue,i.loneWorkerJob=t.loneWorkerJob,i.loneWorkerRecurringIntervals=t.loneWorkerRecurringIntervals,i.loneWorkerResponseWindow=t.loneWorkerResponseWindow,i.attendanceConfirmation=t.attendanceConfirmation,i.attendanceTimeBeforeStart=t.attendanceTimeBeforeStart,i.attendanceResponseWindow=t.attendanceResponseWindow,i}detectChanges(t,i){let r=!1;return Object.keys(t).forEach(a=>{"nonEssentialSkillsSelected"==a||"essentialSkillsSelected"==a?i.areSkillsUpdated&&(r=!0):"nonEssentialComparisonRules"==a||"essentialComparisonRules"==a?i[a].comparisonMode&&t[a].comparisonMode&&(i[a].comparisonMode.length!==t[a].comparisonMode.length||i[a].comparisonMode!==t[a].comparisonMode||i[a].customDataID!==t[a].customDataID||i[a].employeeField!==t[a].employeeField||i[a].operator!==t[a].operator||i[a].textValue!==t[a].textValue||i[a].numberValue!==t[a].numberValue)&&(r=!0):JSON.stringify(i[a])!==JSON.stringify(t[a])&&(r=!0)}),r}loneWorkerValidation(){let t=W.duration(this.jobTypeForm.controls.loneWorkerRecurringIntervals.value).asMinutes(),i=W.duration(this.jobTypeForm.controls.loneWorkerResponseWindow.value).asMinutes();"00:00"==this.jobTypeForm.controls.loneWorkerRecurringIntervals.value||"00:00"==this.jobTypeForm.controls.loneWorkerResponseWindow.value?"00:00"==this.jobTypeForm.controls.loneWorkerRecurringIntervals.value&&"00:00"==this.jobTypeForm.controls.loneWorkerResponseWindow.value?(this.jobTypeForm.controls.loneWorkerRecurringIntervals.setErrors({loneWorkerReccuringIntervalsValidValue:!0}),this.jobTypeForm.controls.loneWorkerResponseWindow.setErrors({loneWorkerResponseWindowValidValue:!0})):"00:00"==this.jobTypeForm.controls.loneWorkerRecurringIntervals.value?this.jobTypeForm.controls.loneWorkerRecurringIntervals.setErrors({loneWorkerReccuringIntervalsValidValue:!0}):"00:00"==this.jobTypeForm.controls.loneWorkerResponseWindow.value&&this.jobTypeForm.controls.loneWorkerResponseWindow.setErrors({loneWorkerResponseWindowValidValue:!0}):this.jobTypeForm.controls.loneWorkerRecurringIntervals.value&&this.jobTypeForm.controls.loneWorkerResponseWindow.value&&this.jobTypeForm.controls.loneWorkerRecurringIntervals.setErrors(t<=3*i?{loneWorkerReccuringIntervalsThreeTimesGreater:!0}:null)}addNewInput(t){this._getFormArray(t).push(this._fb.group({id:new _.NI(0),name:new _.NI("")},_.kI.required))}deleteValue(t,i,r,a){const s=this.comparisonRulesArray.controls[a].controls.comparisonValues;0==i?s.removeAt(t):(this._getDeleteFormArray().push(this._fb.group({id:new _.NI(i),name:new _.NI(r)})),s.removeAt(t),r||s.removeAt(t)),this.uniqueLocationValues(a)}uniqueLocationValues(t){this.trimWholeForm(t);let i=[],r=[];var l;this.comparisonRulesArray.controls[t].controls.comparisonValues.controls.forEach(a=>{r.push(a.value)}),r.forEach(a=>{i.push(a.name.toLowerCase())}),-1==i.indexOf("")&&((l=i,l.filter((c,u)=>l.indexOf(c)!=u)).length>0?this.comparisonRulesArray.controls[t].controls.comparisonValues.setErrors({unique:!0}):this.comparisonRulesArray.controls[t].controls.comparisonValues.setErrors(null))}trimWholeForm(t){try{let r=this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.length;for(var i=0;i<=r-1;i++){let a=this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.controls[i].controls.name.value.trim();this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.controls[i].controls.name.setValue(a)}}catch(r){}}checkControls(){for(let t=0;t<this.jobTypeForm.controls.comparisonRules.controls.length;t++){let r=this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonMode.value;if("Location"==this.jobTypeForm.controls.comparisonRules.controls[t].controls.field.value&&"Set Value"==r)for(let a=0;a<this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.controls.length;a++)"INVALID"==this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.controls[a].status&&(this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.setErrors({required:!0}),this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.markAsTouched());else this.removeComparisonValues(t)}}checkIfOneEssentialSkillPresent(){let t=!1;for(let i=0;i<this.jobTypeForm.controls.skillGorups.value.length;i++)null!=this.jobTypeForm.controls.skillGorups.value[i].nameID&&this.jobTypeForm.controls.skillGorups.value[i].nameID.length>0&&(t=!0);t||(this.jobTypeForm.controls.skillGorups.controls[0].controls.nameID.setErrors({required:!0}),this.jobTypeForm.controls.skillGorups.controls[0].controls.nameID.markAsTouched())}removeComparisonValues(t){this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.controls=[],this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.setValue([]),this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.markAsUntouched(),this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.setErrors(null)}resetComparisonValues(t){this.removeComparisonValues(t),this.addNewInput(t)}onEmployeeFieldChange(t){"Set Value"==this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonMode.value&&("Location"==this.jobTypeForm.controls.comparisonRules.controls[t].controls.field.value?(this.resetField(["value"],t),0==this.jobTypeForm.controls.comparisonRules.controls[t].controls.comparisonValues.length&&this.addNewInput(t)):"Location"!==this.jobTypeForm.controls.comparisonRules.controls[t].controls.field.value&&this.removeComparisonValues(t))}ngOnDestroy(){this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.so),e.Y36(z.WI),e.Y36(se.G),e.Y36(Lg.T),e.Y36(z.uw),e.Y36(Ri.x),e.Y36(z.so),e.Y36(qi.J),e.Y36(_.qu),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-job-type-dialog"]],decls:22,vars:5,consts:[[1,"container-fluid","jt-edit-container"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["id","closeDialogBtn","src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],[1,"g-thin-black-scroll-bar"],["class","existing-job-type-form","autocomplete","off",3,"formGroup",4,"ngIf"],[1,"form-group","row","align-center-md","job-type-detail-buttons"],[1,"col-12","col-sm-6"],[1,"row"],[1,"col-12"],["class","btn rules-delete-button form-buttons","type","button",3,"disabled","click",4,"ngIf"],[1,"col-12","align-center"],["type","button",1,"btn","rules-cancel-button","form-buttons","float-right",3,"click"],["id","submitBtn","type","button","class","btn rules-save-button form-buttons float-right",3,"disabled","click",4,"ngIf"],["autocomplete","off",1,"existing-job-type-form",3,"formGroup"],["f","ngForm"],[3,"disabled","ngClass"],[1,"required-skills-controls","row"],["id","jt_edit_skills_title",1,"col-12","d-flex","justify-content-between","form-titles"],[1,"control-title-label"],[1,"fa","fa-info-circle"],[1,"default-skills-group","col-12"],["id","MultiSelect","formArrayName","skillGorups",4,"ngFor","ngForOf"],[1,"one"],["one",""],[1,"subsequent-skills-groups","col-12"],["class","add-new-skills-group col-12",4,"ngIf"],[1,"eSolveHr"],[1,"required-skills-controls","d-flex","justify-content-start","small-screen-display-block"],["id","jt_edit_skills_title",1,"d-flex","justify-content-between","form-titles","min-width-143"],[1,"default-skills-group","full-width"],["id","MultiSelect",4,"ngIf"],[1,"length-of-service","col-12","eSolvePadding"],[1,"input-field","d-flex","justify-content-start","small-screen-display-block"],[1,"form-group","min-width-143"],["for","lengthOfService",1,"jt-label","eSolveLength"],[1,"full-width"],[1,"col-md-8"],[1,"form-group","col-md-6","paddingLeft"],["formControlName","lengthOfService","bindLabel","name","bindValue","id","placeholder","Select time unit","name","lengthOfService","id","lengthOfService",1,"eSolveLengthValue","jobTypeDetails",3,"items","multiple","dropdownPosition","change"],[1,"form-group","col-2"],["formControlName","lengthOfServiceValue","id","timeUnitValue","name","timeUnitValue","type","number","numbersOnlyMask","",1,"form-control","jt-input","length-value",3,"required"],["class","row","class","errorMessage",4,"ngIf"],[1,"col-md-4","paddingRight"],[1,"jt-label2","nonEssentialRule"],[1,"col-md-12","nonEssentialCheckbox"],["formControlName","nonEssentialRuleLengthOfService","type","checkbox","id","nonEssentialRuleLengthOfService","name","nonEssentialRuleLengthOfService"],[1,"col-12","eSolvePadding"],[1,"d-flex","justify-content-start","small-screen-display-block"],[1,"min-width-143"],["for","allowedTrade",1,"jt-label2"],[1,"full-width","checkboxMarginTop"],["formControlName","allowedTrade","type","checkbox","id","allowedTrade","name","allowedTrade",1,"eSolvePadding"],[1,"col-12","eSolvePadding",3,"ngClass"],["for","loneWorkerJobCheckbox",1,"jt-label2"],["formControlName","loneWorkerJob","type","checkbox","id","loneWorkerJobCheckbox","name","loneWorkerJobCheckbox",1,"eSolvePadding",3,"change"],[4,"ngIf"],["class","small-screen-display-grid",4,"ngIf"],[1,"length-of-service","col-12","eSolvePadding",3,"ngClass"],["for","attendanceConfirmationCheckbox",1,"jt-label2"],[1,"checkboxMarginTop"],["formControlName","attendanceConfirmation","type","checkbox","id","attendanceConfirmationCheckbox","name","attendanceConfirmation",1,"eSolvePadding",3,"change"],[1,"eSolveHrAttendanceBottomSeparator"],[1,"comparison-title"],[1,"control-title-label-rules"],["class","form-row row","formArrayName","comparisonRules",4,"ngFor","ngForOf"],["id","eSolveComparationHr",4,"ngIf"],["class","form-row",4,"ngIf"],["id","MultiSelect","formArrayName","skillGorups"],[3,"formGroupName"],[1,"skill_group_name","min-width-143"],[1,"jt-label"],["class","subscript",4,"ngIf"],[1,"eSolveMultiSelect","full-width"],["formControlName","nameID","bindLabel","name","placeholder","Select skills",1,"jobTypeDetails",3,"id","items","multiple","closeOnSelect","clearable","dropdownPosition","hideSelected","clearSearchOnAdd","add","remove"],["ng-label-tmp",""],["ng-option-tmp",""],["class","validationError",4,"ngIf"],[1,"subscript"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"matTooltip"],[1,"skill-description"],[1,"validationError"],[1,"add-new-skills-group","col-12"],[1,"form-row"],[1,"col-1","OR"],[1,"col-11","eSolveLine"],[3,"click"],["id","MultiSelect"],[1,"col-md-12","eSolveMultiSelect"],["formControlName","nonEssentialSkills","id","nonEssentialSkills","bindLabel","name","placeholder","Select skills",1,"jobTypeDetails",3,"multiple","clearable","hideSelected","clearSearchOnAdd","items"],[1,"errorMessage"],["class","col-12 validationError ml-15a",4,"ngIf"],[1,"col-12","validationError","ml-15a"],[1,"min-width-124"],["for","loneWorkerRecurringIntervalsInput",1,"jt-label2"],[1,"width-60px"],["formControlName","loneWorkerRecurringIntervals","id","loneWorkerRecurringIntervalsInput","name","loneWorkerRecurringIntervalsValue","type","text","placeholder","00:00","mask","Hh:m0","maxlength","5","minlength","5","required","",1,"form-control","jt-input","input-element",3,"dropSpecialCharacters","change"],["class","validationError ml-15 col-12",4,"ngIf"],["class","validationError ml-15 col-12 validation-position",4,"ngIf"],[1,"validationError","ml-15","col-12"],[1,"validationError","ml-15","col-12","validation-position"],[1,"small-screen-display-grid"],[1,"min-width-110"],["for","loneWorkerResponseWindowInput",1,"jt-label2"],[1,"width-60px","response-field-hrs"],["formControlName","loneWorkerResponseWindow","id","loneWorkerResponseWindowInput","name","loneWorkerResponseWindowValue","type","text","placeholder","00:00","mask","Hh:m0","maxlength","5","minlength","5","required","",1,"form-control","loneWorkerResponseWindow","jt-input","input-element",3,"dropSpecialCharacters","change"],["for","attendanceTimeBeforeStartInput",1,"jt-label2"],["type","text","placeholder","00:00","id","attendanceTimeBeforeStartInput","mask","Hh:m0","maxlength","5","minlength","5","name","attendanceTimeBeforeStartValue","formControlName","attendanceTimeBeforeStart",1,"form-control","jt-input","input-element",3,"dropSpecialCharacters"],["for","attendanceResponseWindowInput",1,"jt-label2"],["type","text","placeholder","00:00","id","attendanceResponseWindowInput","mask","Hh:m0","maxlength","5","minlength","5","name","attendanceResponseWindowValue","formControlName","attendanceResponseWindow",1,"form-control","jt-input","input-element","response-field",3,"dropSpecialCharacters"],["formArrayName","comparisonRules",1,"form-row","row"],[1,"comparison-rules","form-group","col-12",3,"formGroupName"],[1,"input-field","row","form-row"],[1,"col-lg-2","form-group"],[1,"comparison-label"],["formControlName","comparisonMode","bindLabel","name","bindValue","name","id","comparisonMode",1,"comparison-dropdown","jobTypeDetails",3,"items","dropdownPosition","clearable","change"],[3,"ngClass",4,"ngIf"],["class","col-lg-3 form-group ",4,"ngIf"],["class","col-lg-2 form-group ",4,"ngIf"],["class","col-lg-2 form-group",4,"ngIf"],["singleComparisonValue",""],["class","col-md-1 col-12 add-new-values-paddings",4,"ngIf"],["class","col-lg-1 d-flex justify-content-center",4,"ngIf"],["class","form-group col-lg-2 paddingRight",4,"ngIf"],["class","add-comparison-rules col-12",4,"ngIf"],[3,"ngClass"],["formControlName","operator","id","operator","bindLabel","name","bindValue","name",1,"comparison-dropdown","jobTypeDetails",3,"items","dropdownPosition","clearable","required","change"],[1,"col-lg-3","form-group"],["formControlName","field","id","field","bindLabel","name","bindValue","name",1,"comparison-dropdown","jobTypeDetails",3,"items","clearable","dropdownPosition","required","change"],["formControlName","customDataID","id","customDataID","bindLabel","name","bindValue","id",1,"comparison-dropdown","jobTypeDetails",3,"items","clearable","dropdownPosition","required","change"],["for","employee_field_value_comparison_value",1,"comparison-label"],["formArrayName","comparisonValues","class","row",4,"ngIf","ngIfElse"],["formArrayName","comparisonValues",1,"row"],["class","col-12",4,"ngFor","ngForOf"],["class","validationError margin-left",4,"ngIf"],[1,"d-flex",3,"formGroupName","ngClass"],["type","text","maxlength","50","id","comparison_values","name","comparison_values","formControlName","name","required","",1,"form-control","form-control-sm",3,"change","keyup"],["class","fa fa-trash-o esolve-custom-icon delete-icon2",3,"click",4,"ngIf"],[1,"col-md-9"],["class","validationError no-wrap",4,"ngIf"],["class","col-md-3 or-class",4,"ngIf"],[1,"fa","fa-trash-o","esolve-custom-icon","delete-icon2",3,"click"],[1,"validationError","no-wrap"],[1,"col-md-3","or-class"],[1,"validationError","margin-left"],["type","text","maxlength","50","id","value","name","value","formControlName","value","autocomplete","off",1,"form-control","comparison-input",3,"required","keyup"],[1,"col-md-1","col-12","add-new-values-paddings"],["type","button",1,"add-button",3,"click"],[1,"col-lg-1","d-flex","justify-content-center"],["aria-hidden","true",1,"fa","fa-trash-o","align-self-center","delete-icon",3,"click"],[1,"form-group","col-lg-2","paddingRight"],[1,"col-lg-12","nonEssentialCheckbox"],["type","checkbox","formControlName","nonEssential",3,"id"],[1,"add-comparison-rules","col-12"],[1,"form-row","row"],[1,"col-1","AND"],["id","eSolveComparationHr"],[1,"add-new-comparison-rule","col-12","eSolveComparationRule"],["type","button",1,"btn","rules-delete-button","form-buttons",3,"disabled","click"],[1,"fa","fa-trash-o"],["id","submitBtn","type","button",1,"btn","rules-save-button","form-buttons","float-right",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"div",3)(6,"img",4),e.NdJ("click",function(){return i.closeDialog({state:"cancelled",changes:!1,tradeChanged:!1})}),e.qZA()()(),e._UZ(7,"hr",5),e.TgZ(8,"div",6),e.YNc(9,vF,92,28,"form",7),e.qZA(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11),e.YNc(14,bF,3,1,"button",12),e.qZA()()(),e.TgZ(15,"div",9)(16,"div",10)(17,"div",13)(18,"button",14),e.NdJ("click",function(){return i.closeDialog({state:"cancelled",changes:!1,tradeChanged:!1})}),e._uU(19),e.qZA()(),e.TgZ(20,"div",11),e.YNc(21,yF,2,1,"button",15),e.qZA()()()()()),2&t&&(e.xp6(4),e.hij(" ",i.selectedJobTypeData.jobTypeName," "),e.xp6(5),e.Q6J("ngIf",i.jobTypeForm),e.xp6(5),e.Q6J("ngIf",i.canMaintainJobTypes),e.xp6(5),e.hij(" ",i.canMaintainJobTypes?"Cancel":"Close"," "),e.xp6(2),e.Q6J("ngIf",i.canMaintainJobTypes))},dependencies:[D.mk,D.sg,D.O5,Zi.oG,Gs.gM,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.wO,_.nD,_.sg,_.u,_.x0,_.CE,Sn,Or,ns,Cs,$n,mo],styles:[".jt-edit-container[_ngcontent-%COMP%]{padding:2px;max-height:90vh}.existing-job-type-form[_ngcontent-%COMP%]{max-height:calc(96vh - 158px);padding:0 10px 0 2px;margin-top:5px}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.close-dialog-text[_ngcontent-%COMP%]{color:#596981;font-size:11px}.close-dialog-text[_ngcontent-%COMP%]{cursor:pointer}.eSolveComparationRule[_ngcontent-%COMP%]{position:relative;left:0}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-bottom:20px}.control-title-label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#565d6f}.control-title-label-rules[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#565d6f;margin-bottom:20px}.jt-input[_ngcontent-%COMP%], .comparison-input[_ngcontent-%COMP%]{height:28px;font-size:12px}.comparison-title[_ngcontent-%COMP%]{margin-bottom:13px}.response-field[_ngcontent-%COMP%]{float:right}.time-dropdown[_ngcontent-%COMP%]{width:150px;margin-right:15px}.input-element[_ngcontent-%COMP%]{width:59px;height:28px}.form-titles[_ngcontent-%COMP%]{padding-bottom:13px}.subscript[_ngcontent-%COMP%]{font-size:11px;color:#565d6f}.jt-label[_ngcontent-%COMP%]{color:#565d6f;font-size:12px;top:-2px;position:relative}.jt-label2[_ngcontent-%COMP%]{color:#565d6f;font-size:12px}.comparison-label[_ngcontent-%COMP%]{color:#565d6f;font-size:12px;right:-1px;position:relative;height:26px;margin-bottom:-5px}.radio-label[_ngcontent-%COMP%]{font-size:12px;font-weight:300;color:#4d4d4d;position:relative;top:-2.5px;left:3px}.add-new-skills-group[_ngcontent-%COMP%]{color:#9cacb8;font-size:12px;font-weight:600}.add-new-skills-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.add-comparison-rules[_ngcontent-%COMP%]{color:#9cacb8;font-size:12px;font-weight:600;margin-top:-25px;margin-bottom:-2px}.add-comparison-rules[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.add-new-comparison-rule[_ngcontent-%COMP%]{color:#9cacb8;font-size:12px;font-weight:600;margin-top:-4px;margin-bottom:-2px}.add-new-comparison-rule[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.rules-save-button[_ngcontent-%COMP%]{margin-top:5px;width:200px;background-color:var(--eSolve-primary)}.rules-cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.add-skill-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.rules-delete-button[_ngcontent-%COMP%]{margin-top:5px;background-color:#d6dce2;color:#3f4e63!important;width:200px}.comp-line[_ngcontent-%COMP%]{margin-top:-1px;margin-bottom:2px}.disabled-form[_ngcontent-%COMP%]{pointer-events:none}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.eSolvePadding[_ngcontent-%COMP%]{padding-left:0}#timeUnitValue[_ngcontent-%COMP%], #customDataFields[_ngcontent-%COMP%], #comparison_values[_ngcontent-%COMP%], #value[_ngcontent-%COMP%]{font-size:12px}#timeUnitValue[_ngcontent-%COMP%]{width:50px;height:28px}.OR[_ngcontent-%COMP%], .AND[_ngcontent-%COMP%]{padding-top:7px}#eSolveServiceHr[_ngcontent-%COMP%]{position:relative;top:-16px;margin-top:8px;margin-bottom:-16px}.eSolveHr[_ngcontent-%COMP%], .eSolveHrAttendanceBottomSeparator[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:5px}#eSolveComparationHr[_ngcontent-%COMP%]{position:relative;top:-9px;margin-top:-7px;margin-bottom:8px}.eSolveLength[_ngcontent-%COMP%]{position:relative;top:11px}.nonEssentialRule[_ngcontent-%COMP%]{position:relative;white-space:nowrap;width:inherit;text-align:end}.nonEssentialCheckbox[_ngcontent-%COMP%]{text-align:end;width:inherit;margin-left:15px}.paddingLeft[_ngcontent-%COMP%]{padding-left:8px}.paddingRight[_ngcontent-%COMP%]{padding-right:0}.eSolveLengthValue[_ngcontent-%COMP%]{position:relative;left:7px;top:9px}#timeUnitValue[_ngcontent-%COMP%]{position:relative;left:3px;top:9px}.checkboxMarginTop[_ngcontent-%COMP%]{margin-top:5px}.loneWorkerResponseWindow[_ngcontent-%COMP%]{float:right}.response-field-hrs[_ngcontent-%COMP%]{padding-right:0!important}.alignCenter[_ngcontent-%COMP%]{-ms-flex-item-align:center;align-self:center}strong[_ngcontent-%COMP%]{font-weight:bolder}.delete-icon[_ngcontent-%COMP%]{color:#495057;padding-top:10px;cursor:pointer}.delete-length-icon[_ngcontent-%COMP%]{color:#495057;padding-top:15px;cursor:pointer}.jobtype-customdata[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:236px}.sg-custom-data-bottom[_ngcontent-%COMP%]{margin-bottom:1px;position:relative;max-width:100%}.custom_data_header[_ngcontent-%COMP%]{color:#a0a5ac;background-color:#f2f3f5;cursor:pointer;height:36px;padding-top:11px}.customDataDropdownTitle[_ngcontent-%COMP%]{margin-top:-2px}.fas.fa-plus[_ngcontent-%COMP%], .fas.fa-minus[_ngcontent-%COMP%]{font: 14px/1 FontAwesome;vertical-align:middle}.fas.fa-plus#text[_ngcontent-%COMP%], .fas.fa-minus#text[_ngcontent-%COMP%]{vertical-align:middle}.cd-row-position[_ngcontent-%COMP%]{position:relative;min-width:100%;left:7px;padding-right:15px}.cd-row-position-table[_ngcontent-%COMP%]{position:relative;min-width:95%;left:7px}#customData[_ngcontent-%COMP%]{margin-bottom:0;padding-left:16px}select#nputState[_ngcontent-%COMP%]{position:relative;max-height:139%}#eSolveCustomData[_ngcontent-%COMP%]{position:relative;width:112%}#inputState[_ngcontent-%COMP%]{position:relative;width:109%}.job-type-buttons-group[_ngcontent-%COMP%]{padding:0 4px}.job-type-detail-buttons[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:0}input.length-value[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.length-value[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number].length-value[_ngcontent-%COMP%]{-moz-appearance:textfield}.min-width-143[_ngcontent-%COMP%]{min-width:143px}.min-width-124[_ngcontent-%COMP%]{min-width:124px;margin-left:5px}.min-width-110[_ngcontent-%COMP%]{min-width:110px;margin-left:5px}.full-width[_ngcontent-%COMP%]{width:100%}.width-60px[_ngcontent-%COMP%]{width:60px}.ml-15[_ngcontent-%COMP%]{padding-left:5px;padding-right:0}.ml-15a[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.add-new-values-paddings[_ngcontent-%COMP%]{padding-left:0;padding-top:26px}.esolve-custom-icon[_ngcontent-%COMP%]{cursor:pointer}.delete-icon2[_ngcontent-%COMP%]{position:relative;top:5px;margin-left:5px;font-size:medium;font-size:initial}.form-margin-bottom[_ngcontent-%COMP%]{margin-bottom:5px}.first-input-element[_ngcontent-%COMP%]{width:86%}.or-class[_ngcontent-%COMP%]{font-size:12px;margin-bottom:inherit;text-align:end}.margin-left[_ngcontent-%COMP%]{margin-left:15px}.add-button[_ngcontent-%COMP%]{font-size:12px;background-color:var(--eSolve-primary);color:#fff}.no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.skill-description[_ngcontent-%COMP%]{background:white!important}  .mat-tooltip{font-size:12px}.skill-code-description[_ngcontent-%COMP%]{font-size:12px;cursor:pointer;display:inline;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 348px){.rules-delete-button[_ngcontent-%COMP%], .rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .add-skill-button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 425px){.delete-length-icon[_ngcontent-%COMP%]{margin-left:20px}.delete-col[_ngcontent-%COMP%]{padding-left:4px}}@media (max-width: 576px){.rules-save-button[_ngcontent-%COMP%]{margin-bottom:15px}.existing-job-type-form[_ngcontent-%COMP%]{max-height:calc(96vh - 233px)}}@media (max-width: 767px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 235px)}.delete-icon[_ngcontent-%COMP%]{cursor:pointer;padding-top:30px;font-size:20px;margin-bottom:20px}.form-check-input[_ngcontent-%COMP%]{position:relative;left:68px}.rules-delete-button[_ngcontent-%COMP%]{margin-bottom:5px}.rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .add-skill-button[_ngcontent-%COMP%]{float:none!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}.eSolveLengthValue[_ngcontent-%COMP%], #timeUnitValue[_ngcontent-%COMP%]{position:relative;left:0;top:0}#eSolveServiceHr[_ngcontent-%COMP%]{top:-13px!important}.comp-line[_ngcontent-%COMP%]{margin-top:4px}.on-call-slots[_ngcontent-%COMP%]{margin-top:6px}.nonEssentialRule[_ngcontent-%COMP%]{text-align:start!important}.nonEssentialCheckbox[_ngcontent-%COMP%]{text-align:start!important;margin-left:-14px!important}.paddingLeft[_ngcontent-%COMP%]{padding-left:15px!important}.checkboxMarginTop[_ngcontent-%COMP%]{margin-top:0!important}.loneWorkerResponseWindow[_ngcontent-%COMP%]{float:left!important}.eSolveHrAttendanceBottomSeparator[_ngcontent-%COMP%]{margin-top:12px!important}.response-field[_ngcontent-%COMP%]{float:left}.small-screen-display-block[_ngcontent-%COMP%]{display:block!important}.eSolvePadding[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.min-width-124[_ngcontent-%COMP%], .min-width-110[_ngcontent-%COMP%]{margin-left:0;width:100%}.small-screen-min-height-180[_ngcontent-%COMP%]{min-height:200px}.ml-15[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.small-screen-display-grid[_ngcontent-%COMP%]{display:grid}}@media (max-width: 991px){.first-input-element[_ngcontent-%COMP%]{width:96%!important}.add-new-values-paddings[_ngcontent-%COMP%]{padding-left:0!important;padding-top:0!important}}"]}),n})();function xF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"img",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog(!1))}),e.qZA()()}}function CF(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",19),e._uU(2),e.qZA(),e.TgZ(3,"td",19),e._uU(4),e.qZA(),e.TgZ(5,"td",19),e._uU(6),e.qZA(),e.TgZ(7,"td",19),e._uU(8),e.ALo(9,"DateTransformPipe"),e.qZA(),e.TgZ(10,"td",19),e._uU(11),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.employeeFirstNameAndLastname),e.xp6(2),e.Oqu(t.overlappingJobs[0].jobSchedule),e.xp6(2),e.Oqu(t.overlappingJobs[0].jobType),e.xp6(2),e.lnq("",e.lcZ(9,7,t.overlappingJobs[0].jobStartDate)," ",t.overlappingJobs[0].jobStartTime,"-",t.overlappingJobs[0].jobEndTime,""),e.xp6(3),e.Oqu(t.overlappingJobs[0].user)}}function TF(n,o){if(1&n&&(e.TgZ(0,"div",15)(1,"p",16),e._uU(2,"Employees that have overlapping assignments:"),e.qZA(),e.TgZ(3,"table",17)(4,"tr",18)(5,"th"),e._uU(6,"Employee"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Job Schedule"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Job Type"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Date & Time"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"User Who has assigned"),e.qZA()(),e.YNc(15,CF,12,9,"tr",10),e.qZA()()),2&n){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.overlappingMessages)}}function wF(n,o){1&n&&(e.TgZ(0,"p",20),e._uU(1," Assignment Rules Broken\xa0 \u2014 \xa0can override: "),e.qZA())}const DF=function(n){return{"margin-top-10px":n}};function SF(n,o){if(1&n&&(e.TgZ(0,"p",24),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(2,DF,i.isInfo)),e.xp6(1),e.Oqu(t.employeeFirstNameAndLastname)}}function kF(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,SF,2,4,"p",22),e.TgZ(2,"p",23),e._uU(3),e.qZA()()),2&n){const t=e.oxw(),i=t.first,r=t.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(2),e.Oqu(r)}}function AF(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,kF,4,2,"div",21),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","The not already assigned rule cannot be overriden. This employee will not be assigned."!=t||"The not already assigned rule cannot be overriden. This employee will not be assigned."==t&&"invalidList"==i.listName)}}function MF(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,AF,2,1,"div",10),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t.messages)}}function OF(n,o){1&n&&(e.TgZ(0,"div",26)(1,"p"),e._uU(2,"Choose "),e.TgZ(3,"strong"),e._uU(4,"Save Changes"),e.qZA(),e._uU(5," to override assignment rules (and assign employee)."),e.qZA()())}function PF(n,o){1&n&&(e.TgZ(0,"div",26)(1,"p"),e._uU(2,"You do not have permission to override the Employee that have overlapping assignment(s)."),e.qZA()())}function EF(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,OF,6,0,"div",25),e.YNc(2,PF,3,0,"div",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.saveChangesIsHidden),e.xp6(1),e.Q6J("ngIf",t.saveChangesIsHidden)}}function IF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.closeDialog(!0))}),e._uU(1,"Save Changes"),e.qZA()}}function NF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",27)(2,"div",28)(3,"button",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog(!1))}),e._uU(4,"Cancel"),e.qZA()(),e.TgZ(5,"div",28),e.YNc(6,IF,2,0,"button",30),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",!t.saveChangesIsHidden)}}let hp=(()=>{class n{constructor(t,i,r){this.data=t,this._overridesAssignmentDialogRef=i,this._userRoleService=r,this.isInfo=!1,this.overlappingMessages=[],this.allowOverlappingAssignments=!1,this.saveChangesIsHidden=!1}handleKeyboardEvent(t){13===t.keyCode&&this.closeDialog(!0)}ngOnInit(){let t=this._userRoleService.getGlobalAccountPermissions();this.allowOverlappingAssignments=t.canUserOverrideOverlappingAssignments,this.brokenRulesMessages=this.data.messages,this.brokenRulesMessages.warningDetails[0].brokenRules[0].employees.forEach(r=>{null!==r.overlappingJobs&&r.overlappingJobs.length&&this.overlappingMessages.push(r)}),this.isInfo=this.data.infoFlag,this.listName=this.data.listName;let i=!0;Object.keys(this.brokenRulesMessages).forEach(r=>{r.includes("count")&&"countOfNotAlreadyAssigned"!=r&&this.brokenRulesMessages[r]>0&&(i=!1)}),!this.allowOverlappingAssignments&&i&&(this.saveChangesIsHidden=!0)}closeDialog(t){n.overridesAssignmentFlag=t,this._overridesAssignmentDialogRef.close()}}return n.overridesAssignmentFlag=!0,n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(qi.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-overrides-assignment-dialog"]],hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(a){return i.handleKeyboardEvent(a)},!1,e.evT)},decls:17,vars:6,consts:[[1,"container-fluid"],[1,"row"],[1,"col-10"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],["class","col-2 d-flex justify-content-end",4,"ngIf"],[1,"blue-line"],[1,"col-12","gray-font"],["class","notAlreadyAssigeContainer",4,"ngIf"],["class","red-font bolderText margin-top-15px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"gray-line","margin-top-10px"],["class","row",4,"ngIf"],[1,"col-2","d-flex","justify-content-end"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"notAlreadyAssigeContainer"],[1,"red-font","bolderText","margin-bottom-none"],[1,"red-font","w-100","text-center","overlapping-table"],[1,"table-head"],[1,"overlapping-table-cell"],[1,"red-font","bolderText","margin-top-15px"],[4,"ngIf"],["class","msgsMargin bolderText black-font",3,"ngClass",4,"ngIf"],[1,"msgsMargin","msgMarginLeft"],[1,"msgsMargin","bolderText","black-font",3,"ngClass"],["class","col-12 gray-font-thiny",4,"ngIf"],[1,"col-12","gray-font-thiny"],[1,"col-12","buttonsContainer","d-flex","justify-content-between"],[1,"centerButton"],["type","button",1,"btn","cancel-button","form-buttons","msgsMargin",3,"click"],["id","submitBtn","class","btn save-button form-buttons","type","button",3,"click",4,"ngIf"],["id","submitBtn","type","button",1,"btn","save-button","form-buttons",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6,"Invalid Assignment - Warning"),e.qZA()()()(),e.YNc(7,xF,2,0,"div",5),e.qZA(),e._UZ(8,"hr",6),e.TgZ(9,"div",1)(10,"div",7),e.YNc(11,TF,16,1,"div",8),e.YNc(12,wF,2,0,"p",9),e.YNc(13,MF,2,1,"div",10),e.qZA()(),e._UZ(14,"hr",11),e.YNc(15,EF,3,2,"div",12),e.YNc(16,NF,7,1,"div",12),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngIf",i.isInfo),e.xp6(4),e.Q6J("ngIf",i.brokenRulesMessages.countOfNotAlreadyAssigned>0),e.xp6(1),e.Q6J("ngIf",(i.brokenRulesMessages.totalJobTypeBrokenRules>0||i.brokenRulesMessages.totalOfConstraintsBrokenRules>0)&&i.brokenRulesMessages.employeesThatCannotBeAssigned.length!=i.brokenRulesMessages.totalJobTypeBrokenRules+i.brokenRulesMessages.totalOfConstraintsBrokenRules),e.xp6(1),e.Q6J("ngForOf",i.brokenRulesMessages.warningDetails[0].brokenRules[0].employees),e.xp6(2),e.Q6J("ngIf",!i.isInfo),e.xp6(1),e.Q6J("ngIf",!i.isInfo))},dependencies:[D.mk,D.sg,D.O5,$n,Do],styles:[".min-width-150[_ngcontent-%COMP%]{min-width:150px}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#c7303d;-ms-flex-line-pack:center;align-content:center;min-width:250px;margin-bottom:10px}.title-right[_ngcontent-%COMP%]{padding-right:0}.dialog-close-x[_ngcontent-%COMP%]{top:3px;height:15px}.blue-line[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-bottom:0;margin-top:0}.gray-line[_ngcontent-%COMP%]{border:1px solid #ced5db}.notAlreadyAssigeContainer[_ngcontent-%COMP%]{border-top:1px dashed #c7303d;max-width:100%;overflow:auto;padding-top:15px;padding-bottom:15px;margin-top:15px}.margin-bottom-none[_ngcontent-%COMP%]{margin-bottom:0}.cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.save-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.gray-font[_ngcontent-%COMP%], .gray-font-thiny[_ngcontent-%COMP%]{color:#565d6f!important;font-size:12px}.titleText[_ngcontent-%COMP%]{margin-bottom:5px;color:#c7303d}.red-font[_ngcontent-%COMP%]{color:#c7303d!important;font-size:12px}.black-font[_ngcontent-%COMP%]{color:#000}.msgsMargin[_ngcontent-%COMP%]{margin-bottom:5px}.msgMarginLeft[_ngcontent-%COMP%]{margin-left:10px}.bolderText[_ngcontent-%COMP%]{font-weight:700}.employeeTitle[_ngcontent-%COMP%]{font-weight:bolder;color:#000}.margin-top-15px[_ngcontent-%COMP%]{margin-top:15px}.margin-top-10px[_ngcontent-%COMP%]{margin-top:10px}.dialog-header[_ngcontent-%COMP%]{max-height:75px}.table-head[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #c7303d}.overlapping-table[_ngcontent-%COMP%]{margin-top:10px}.overlapping-table-cell[_ngcontent-%COMP%]{border-bottom:1px dashed #c7303d;padding:10px 0}@media (max-width: 768px){.cancel-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%]{margin-bottom:5px}.centerButton[_ngcontent-%COMP%]{text-align:center}.buttonsContainer[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-align:center;align-items:center}}@media (max-width: 341px){.cancel-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%], .centerButton[_ngcontent-%COMP%]{width:100%}}"]}),n})();class RF{constructor(o,t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De,Ge,We,gt){this.countOfSkillCodes=o,this.countOfLengthOfService=t,this.countOfComparisonRules=i,this.countOfEMWWAE=r,this.countOfEMNWWAE=a,this.countOfMaxNumberOfHours=s,this.countOfMaxNoOfDaysOfTheWeek=l,this.countOfContraintTime=c,this.countOfMNOJT=u,this.countOfMNOJTC=h,this.countOfMaxAverageHours=x,this.countOfMaxSpecialDates=T,this.countOfSplitShifts=O,this.countOfDaysOff=U,this.countOfMNWFPAJT=re,this.countOfAvailabilities=de,this.countOfAbsences=ve,this.totalJobTypeBrokenRules=Ne,this.totalOfConstraintsBrokenRules=De,this.countOfNotAlreadyAssigned=Ge,this.warningDetails=We,this.employeesThatCannotBeAssigned=gt}}class FF{constructor(o,t,i){this.date=o,this.brokenRules=t,this.cached=i}}class ZF{constructor(o,t,i,r,a,s,l,c,u,h,x,T,O,U,re,de){this.id=o,this.group=t,this.code=i,this.description=r,this.startTime=a,this.endTime=s,this.hours=l,this.numberOfDays=c,this.hours1=u,this.hours2=h,this.hours3=x,this.hours4=T,this.hours5=O,this.hours6=U,this.shiftsGroupId=re,this.shiftsGroup=de}}class pS{constructor(o,t){this.id=o,this.name=t}}let wx=(()=>{class n{constructor(t){this.http=t}getAllShifts(){return new A.y(t=>{this.http.get(S.j.URLshifts,{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getUserShifts(t,i,r){return new A.y(a=>{this.http.get(S.j.URLshifts+"/getAll/"+t+"/"+i+"/"+(r?1:0),{}).subscribe(l=>(a.next(l),a.complete()),l=>a.error(l))})}getShiftById(t){return new A.y(i=>{this.http.get(S.j.URLshifts+"/"+t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteShift(t){return new A.y(i=>{this.http.delete(S.j.URLshifts+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}checkIfShiftCodeIsUnique(t,i){return new A.y(r=>{this.http.get(S.j.URLshifts+"/isShiftCodeUnique",{params:{Id:null!=i?i.toString():"0",Name:t},observe:"response"}).subscribe(a=>(r.next(a.status),r.complete()),a=>r.error(a))})}createShift(t){return t.shiftsGroupId=0,t.shiftsGroup=new pS(0,t.group),new A.y(i=>{this.http.post(S.j.URLshifts,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}updateShift(t,i,r){return t.group==r.shiftsGroup.name?(t.shiftsGroup=r.shiftsGroup,t.shiftsGroupId=r.shiftsGroupId):(t.shiftsGroup=new pS,t.shiftsGroupId=0,t.shiftsGroup.name=t.group,t.shiftsGroup.id=0),new A.y(a=>{this.http.put(S.j.URLshifts+"/"+i,t,{responseType:"text"}).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Y1=J(47428);let rd=(()=>{class n{transform(t){return t?t=new D.uU(ai.gR).transform(t,ai.Pn+" HH:mm"):[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"DateTimeTransformPipe",type:n,pure:!0}),n})(),LF=(()=>{class n{transform(t){return t?t=new D.uU(ai.gR).transform(t,ai.Pn+" HH:mm:ss"):[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"DateTimeWithSecondsTransformPipe",type:n,pure:!0}),n})(),fS=(()=>{class n{transform(t){return t?t=new D.uU(ai.gR).transform(t,"HH:mm"):[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"TimeTransformPipe",type:n,pure:!0}),n})(),UF=(()=>{class n{constructor(t,i){this.data=t,this.dialogRef=i,this.jobOfferDateTime="",this.jobOfferStatus=""}ngOnInit(){this.jobOfferDateTime=this.data.jobOfferDate,this.jobOfferStatus=this.data.jobOfferStatus}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-job-offer-details-dialog"]],decls:24,vars:5,consts:[[1,"row","delete-warning-header"],[1,"col-12"],[1,"warning-title"],[1,"col-12","d-flex","justify-content-center"],[1,"blue_hr"],[1,"row","delete-warning-content"],[1,"dialog-message"],[1,"row","delete-warning-buttons"],[1,"d-flex","justify-content-center"],["id","cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"mat-dialog-close"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Job Offer Status"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"hr",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",1)(8,"strong")(9,"span",6),e._uU(10),e.ALo(11,"DateTimeTransformPipe"),e.qZA()()(),e.TgZ(12,"div",1)(13,"strong")(14,"span",6),e._uU(15),e.qZA()()(),e.TgZ(16,"div",3),e._UZ(17,"hr"),e.qZA()(),e.TgZ(18,"div",7)(19,"div",1)(20,"div",8)(21,"div")(22,"button",9),e._uU(23," Close "),e.qZA()()()()()),2&t&&(e.xp6(10),e.hij(" Job Offered: ",e.lcZ(11,3,i.jobOfferDateTime)," "),e.xp6(5),e.hij(" Status: ",i.jobOfferStatus," "),e.xp6(7),e.Q6J("mat-dialog-close",!1))},dependencies:[z.ZT,rd],styles:[".warning-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.delete-warning-header[_ngcontent-%COMP%]{text-align:center}.dialog-message[_ngcontent-%COMP%]{text-align:center;white-space:pre-line}.dialog-message[_ngcontent-%COMP%]{font-size:12px}.eSolve-button[_ngcontent-%COMP%], .blue_hr[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px;width:200px}@media (max-width: 767px){#continue-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),n})();var Dx=J(85167);let hS=(()=>{class n{constructor(t){this.http=t}create(t,i){let r="";return r=i?S.j.URLtemplateJob+"/copyJob":S.j.URLjob+"/copyJob",new A.y(a=>{this.http.post(r,t).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ts=J(53251),od=function(n,o,t,i){var s,r=arguments.length,a=r<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,t,i);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(a=(r<3?s(a):r>3?s(o,t,a):s(o,t))||a);return r>3&&a&&Object.defineProperty(o,t,a),a},ad=function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,o)},jF=function(n,o){return function(t,i){o(t,i,n)}},YF=function(){function n(o,t,i){this._el=o,this._ngZone=t,this.platformId=i,this.clickOutsideEnabled=!0,this.attachOutsideOnClick=!1,this.delayClickOutsideInit=!1,this.emitOnBlur=!1,this.exclude="",this.excludeBeforeClick=!1,this.clickOutsideEvents="",this.clickOutside=new e.vpe,this._nodesExcluded=[],this._events=["click"],this._initOnClickBody=this._initOnClickBody.bind(this),this._onClickBody=this._onClickBody.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this)}return n.prototype.ngOnInit=function(){!(0,D.NF)(this.platformId)||this._init()},n.prototype.ngOnDestroy=function(){!(0,D.NF)(this.platformId)||(this._removeClickOutsideListener(),this._removeAttachOutsideOnClickListener(),this._removeWindowBlurListener())},n.prototype.ngOnChanges=function(o){!(0,D.NF)(this.platformId)||(o.attachOutsideOnClick||o.exclude||o.emitOnBlur)&&this._init()},n.prototype._init=function(){""!==this.clickOutsideEvents&&(this._events=this.clickOutsideEvents.split(",").map(function(o){return o.trim()})),this._excludeCheck(),this.attachOutsideOnClick?this._initAttachOutsideOnClickListener():this._initOnClickBody(),this.emitOnBlur&&this._initWindowBlurListener()},n.prototype._initOnClickBody=function(){this.delayClickOutsideInit?setTimeout(this._initClickOutsideListener.bind(this)):this._initClickOutsideListener()},n.prototype._excludeCheck=function(){if(this.exclude)try{var o=Array.from(document.querySelectorAll(this.exclude));o&&(this._nodesExcluded=o)}catch(t){console.error("[ng-click-outside] Check your exclude selector syntax.",t)}},n.prototype._onClickBody=function(o){!this.clickOutsideEnabled||(this.excludeBeforeClick&&this._excludeCheck(),!this._el.nativeElement.contains(o.target)&&!this._shouldExclude(o.target)&&(this._emit(o),this.attachOutsideOnClick&&this._removeClickOutsideListener()))},n.prototype._onWindowBlur=function(o){var t=this;setTimeout(function(){document.hidden||t._emit(o)})},n.prototype._emit=function(o){var t=this;!this.clickOutsideEnabled||this._ngZone.run(function(){return t.clickOutside.emit(o)})},n.prototype._shouldExclude=function(o){for(var t=0,i=this._nodesExcluded;t<i.length;t++)if(i[t].contains(o))return!0;return!1},n.prototype._initClickOutsideListener=function(){var o=this;this._ngZone.runOutsideAngular(function(){o._events.forEach(function(t){return document.addEventListener(t,o._onClickBody)})})},n.prototype._removeClickOutsideListener=function(){var o=this;this._ngZone.runOutsideAngular(function(){o._events.forEach(function(t){return document.removeEventListener(t,o._onClickBody)})})},n.prototype._initAttachOutsideOnClickListener=function(){var o=this;this._ngZone.runOutsideAngular(function(){o._events.forEach(function(t){return o._el.nativeElement.addEventListener(t,o._initOnClickBody)})})},n.prototype._removeAttachOutsideOnClickListener=function(){var o=this;this._ngZone.runOutsideAngular(function(){o._events.forEach(function(t){return o._el.nativeElement.removeEventListener(t,o._initOnClickBody)})})},n.prototype._initWindowBlurListener=function(){var o=this;this._ngZone.runOutsideAngular(function(){window.addEventListener("blur",o._onWindowBlur)})},n.prototype._removeWindowBlurListener=function(){var o=this;this._ngZone.runOutsideAngular(function(){window.removeEventListener("blur",o._onWindowBlur)})},od([(0,e.IIB)(),ad("design:type",Boolean)],n.prototype,"clickOutsideEnabled",void 0),od([(0,e.IIB)(),ad("design:type",Boolean)],n.prototype,"attachOutsideOnClick",void 0),od([(0,e.IIB)(),ad("design:type",Boolean)],n.prototype,"delayClickOutsideInit",void 0),od([(0,e.IIB)(),ad("design:type",Boolean)],n.prototype,"emitOnBlur",void 0),od([(0,e.IIB)(),ad("design:type",String)],n.prototype,"exclude",void 0),od([(0,e.IIB)(),ad("design:type",Boolean)],n.prototype,"excludeBeforeClick",void 0),od([(0,e.IIB)(),ad("design:type",String)],n.prototype,"clickOutsideEvents",void 0),od([(0,e.r_U)(),ad("design:type",e.vpe)],n.prototype,"clickOutside",void 0),(n=od([jF(2,(0,e.tBr)(e.Lbi)),ad("design:paramtypes",[e.SBq,e.R0b,Object])],n)).\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi))},n.\u0275dir=e.lG2({type:n,selectors:[["","clickOutside",""]],inputs:{clickOutsideEnabled:"clickOutsideEnabled",attachOutsideOnClick:"attachOutsideOnClick",delayClickOutsideInit:"delayClickOutsideInit",emitOnBlur:"emitOnBlur",exclude:"exclude",excludeBeforeClick:"excludeBeforeClick",clickOutsideEvents:"clickOutsideEvents"},outputs:{clickOutside:"clickOutside"},features:[e.TTD]}),n.\u0275prov=e.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n}(),qF=function(){function n(){}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n}(),q1=J(46469);let Sx=(()=>{class n{constructor(t,i){this.el=t,this.control=i}onEvent(t){setTimeout(()=>{let r,i=this.el.nativeElement.value.toString();4==i.length&&-1!==i.indexOf(":")&&(i=i.replace(/:/g,""),this.control.control.setValue(i)),i.length>=4&&i.length<=this.maxLength&&(-1===i.indexOf(":")?(r=this.insertSymbol(i,i.length-2,":"),this.control.control.setValue(r)):(r=i.replace(/:/g,""),r=this.insertSymbol(r,r.length-2,":"),this.control.control.setValue(r)))})}insertSymbol(t,i,r){let a;return a=t.substr(0,i)+r+t.substr(i),a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(_.a5))},n.\u0275dir=e.lG2({type:n,selectors:[["","hoursMaskInput",""]],hostBindings:function(t,i){1&t&&e.NdJ("input",function(a){return i.onEvent(a)})},inputs:{maxLength:["hoursMaskInput","maxLength"]}}),n})(),mS=(()=>{class n{constructor(t,i){this.el=t,this.control=i}onEvent(t){setTimeout(()=>{let r,a,s,i=this.el.nativeElement.value.toString();if(4==i.length&&-1!==i.indexOf(":")){i=i.replace(/:/g,"");let l=r.split(":");a=Number(l[0]),s=Number(l[1]),a>24||s>59||24==a&&s>0?(this.control.control.setValue(r),this.control.control.setErrors({incorrectHours:!0})):0==a&&0==s?(this.control.control.setValue(r),this.control.control.setErrors({hoursDifferentFromZero:!0})):this.control.control.setValue(r)}if(i.length>=4&&i.length<=this.maxLength)if(-1===i.indexOf(":")){r=this.insertSymbol(i,i.length-2,":");let l=r.split(":");a=Number(l[0]),s=Number(l[1]),a>24||s>59||24==a&&s>0?(this.control.control.setValue(r),this.control.control.setErrors({incorrectHours:!0})):0==a&&0==s?(this.control.control.setValue(r),this.control.control.setErrors({hoursDifferentFromZero:!0})):this.control.control.setValue(r)}else{r=i.replace(/:/g,""),r=this.insertSymbol(r,r.length-2,":");let l=r.split(":");a=Number(l[0]),s=Number(l[1]),a>24||s>59||24==a&&s>0?(this.control.control.setValue(r),this.control.control.setErrors({incorrectHours:!0})):0==a&&0==s?(this.control.control.setValue(r),this.control.control.setErrors({hoursDifferentFromZero:!0})):this.control.control.setValue(r)}})}insertSymbol(t,i,r){let a;return a=t.substr(0,i)+r+t.substr(i),a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(_.a5))},n.\u0275dir=e.lG2({type:n,selectors:[["","timeLengthTracker",""]],hostBindings:function(t,i){1&t&&e.NdJ("input",function(a){return i.onEvent(a)})},inputs:{maxLength:["timeLengthTracker","maxLength"]}}),n})(),JF=(()=>{class n{transform(t,i){return i?t.filter(r=>r.nameAndSurname.toLowerCase().includes(i.toLowerCase().trim())||r.employeeNumber==i.toLowerCase().trim()):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"employeesFilter",type:n,pure:!0}),n})();const HF=["description"],BF=["virtualAssignedScroller"],VF=["virtualInvalidScroller"],GF=["virtualAvailableScroller"],WF=["virtualUnavailableScroller"],QF=["jobNameInput"];function zF(n,o){if(1&n&&(e.TgZ(0,"p",9)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" Job Details : ",t.jobForm.controls.name.value," ")}}function KF(n,o){1&n&&(e.TgZ(0,"p",9)(1,"span"),e._uU(2," Create Job "),e.qZA()())}function $F(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",106),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openJobTypeDialog())}),e.qZA()}}function XF(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Job Type ",t.message.required," ")}}function eZ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,XF,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.jf.jobTypeID.errors?null:t.jf.jobTypeID.errors.required)}}function tZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.limit50," ")}}function nZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Job Name ",t.message.required," ")}}function iZ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,tZ,2,1,"div",39),e.YNc(2,nZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.jf.name||null==t.jf.name.errors?null:t.jf.name.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.jf.name||null==t.jf.name.errors?null:t.jf.name.errors.required)}}function rZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day ",t.message.required," ")}}function oZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day ",t.message.templateJobWarning," ")}}function aZ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,rZ,2,1,"div",39),e.YNc(2,oZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.jf.day.errors?null:t.jf.day.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jf.day.errors?null:t.jf.day.errors.jobOutsideSGDateRange)}}function sZ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"div",108)(3,"label",109),e._uU(4," Day: "),e.qZA()(),e.TgZ(5,"div",22)(6,"ng-select",110),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return r.jobDetailsChanged(),e.KtG(r.compareTimes())}),e.qZA()()(),e.YNc(7,aZ,3,2,"div",25),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("items",t.days)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf",t.jf.day.touched&&(null==t.jf.day?null:t.jf.day.errors))}}function lZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Start Date ",t.message.required," ")}}function cZ(n,o){1&n&&(e.TgZ(0,"div",107),e._uU(1," Start date must be within subgroup date "),e.qZA())}function dZ(n,o){1&n&&(e.TgZ(0,"div",107),e._uU(1," Start date must be within submitted period "),e.qZA())}function uZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function pZ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,lZ,2,1,"div",39),e.YNc(2,cZ,2,0,"div",39),e.YNc(3,dZ,2,0,"div",39),e.YNc(4,uZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.jf.jobStartDateTime.errors?null:t.jf.jobStartDateTime.errors.required)&&!(null!=t.jf.jobStartDateTime.errors&&t.jf.jobStartDateTime.errors.matDatepickerParse)&&!(null!=t.jf.jobStartDateTime.errors&&t.jf.jobStartDateTime.errors.minlength)),e.xp6(1),e.Q6J("ngIf",!t.data.cached&&((null==t.jf.jobStartDateTime.errors?null:t.jf.jobStartDateTime.errors.matDatepickerMin)||(null==t.jf.jobStartDateTime.errors?null:t.jf.jobStartDateTime.errors.matDatepickerMax))&&!(null!=t.jf.jobStartDateTime.errors&&t.jf.jobStartDateTime.errors.required||null!=t.jf.jobStartDateTime.errors&&t.jf.jobStartDateTime.errors.matDatepickerParse)),e.xp6(1),e.Q6J("ngIf",t.data.cached&&((null==t.jf.jobStartDateTime.errors?null:t.jf.jobStartDateTime.errors.matDatepickerMin)||(null==t.jf.jobStartDateTime.errors?null:t.jf.jobStartDateTime.errors.matDatepickerMax))&&!(null!=t.jf.jobStartDateTime.errors&&t.jf.jobStartDateTime.errors.required||null!=t.jf.jobStartDateTime.errors&&t.jf.jobStartDateTime.errors.matDatepickerParse)),e.xp6(1),e.Q6J("ngIf",(null==t.jf.jobStartDateTime.errors?null:t.jf.jobStartDateTime.errors.matDatepickerParse)||(null==t.jf.jobStartDateTime.errors?null:t.jf.jobStartDateTime.errors.minlength))}}function fZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Start Date ",t.message.jobOutOfRangeWarning," ")}}const gS=function(n,o){return{"ng-invalid":n,"ng-touched":o}};function hZ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"div",27)(3,"label",111),e._uU(4," Start Date: "),e.qZA()(),e.TgZ(5,"div",37)(6,"div",112)(7,"div",65)(8,"input",113),e.NdJ("dateChange",function(){e.CHM(t);const r=e.oxw(2);return r.jobDetailsChanged(),r.setDefaultEndDate(),r.compareTimes(),e.KtG(r.hoursChangedDynamically())}),e.qZA(),e._UZ(9,"mat-datepicker",null,114),e.qZA(),e.TgZ(11,"div",115)(12,"img",116),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(10);return e.KtG(r.open())}),e.qZA()()()()(),e.YNc(13,pZ,5,4,"div",25),e.YNc(14,fZ,2,1,"div",39),e.qZA()}if(2&n){const t=e.MAs(10),i=e.oxw(2);e.xp6(8),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("ngClass",e.WLB(8,gS,!i.validJobStartDate||i.invalidDatesOverlap,!i.validJobStartDate||i.invalidDatesOverlap))("min",i.subGroupDateRange.start)("max",i.subGroupDateRange.end)("matDatepicker",t)("dateLengthTracker",i.dateLength),e.xp6(5),e.Q6J("ngIf",(null==i.jf.jobStartDateTime?null:i.jf.jobStartDateTime.touched)&&(null==i.jf.jobStartDateTime?null:i.jf.jobStartDateTime.errors)),e.xp6(1),e.Q6J("ngIf",!i.validJobStartDate)}}function mZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" End Date ",t.message.required," ")}}function gZ(n,o){1&n&&(e.TgZ(0,"div",107),e._uU(1," End Date cannot be before Start Date "),e.qZA())}function _Z(n,o){1&n&&(e.TgZ(0,"div",107),e._uU(1," End Date must be within subgroup date "),e.qZA())}function vZ(n,o){1&n&&(e.TgZ(0,"div",107),e._uU(1," End Date must be within submitted period "),e.qZA())}function bZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function yZ(n,o){1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.hij(" ","The difference between the start date and the end date must not be greater than 1 day."," "))}function xZ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,mZ,2,1,"div",39),e.YNc(2,gZ,2,0,"div",39),e.YNc(3,_Z,2,0,"div",39),e.YNc(4,vZ,2,0,"div",39),e.YNc(5,bZ,2,1,"div",39),e.YNc(6,yZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.jf.jobEndDateTime.errors?null:t.jf.jobEndDateTime.errors.required)&&!(null!=t.jf.jobEndDateTime.errors&&t.jf.jobEndDateTime.errors.matDatepickerParse)&&!(null!=t.jf.jobEndDateTime.errors&&t.jf.jobEndDateTime.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.jf.jobEndDateTime.errors?null:t.jf.jobEndDateTime.errors.negativeDate)&&!(null!=t.jf.jobEndDateTime.errors&&t.jf.jobEndDateTime.errors.matDatepickerParse)&&!(null!=t.jf.jobEndDateTime.errors&&t.jf.jobEndDateTime.errors.minlength)),e.xp6(1),e.Q6J("ngIf",!t.data.cached&&((null==t.jf.jobEndDateTime.errors?null:t.jf.jobEndDateTime.errors.matDatepickerMin)||(null==t.jf.jobEndDateTime.errors?null:t.jf.jobEndDateTime.errors.matDatepickerMax))&&!(null!=t.jf.jobEndDateTime.errors&&t.jf.jobEndDateTime.errors.required||null!=t.jf.jobEndDateTime.errors&&t.jf.jobEndDateTime.errors.matDatepickerParse)),e.xp6(1),e.Q6J("ngIf",t.data.cached&&((null==t.jf.jobEndDateTime.errors?null:t.jf.jobEndDateTime.errors.matDatepickerMin)||(null==t.jf.jobEndDateTime.errors?null:t.jf.jobEndDateTime.errors.matDatepickerMax))&&!(null!=t.jf.jobEndDateTime.errors&&t.jf.jobEndDateTime.errors.required||null!=t.jf.jobEndDateTime.errors&&t.jf.jobEndDateTime.errors.matDatepickerParse)),e.xp6(1),e.Q6J("ngIf",(null==t.jf.jobEndDateTime.errors?null:t.jf.jobEndDateTime.errors.matDatepickerParse)||(null==t.jf.jobEndDateTime.errors?null:t.jf.jobEndDateTime.errors.minlength)),e.xp6(1),e.Q6J("ngIf",null==t.jf.jobEndDateTime.errors?null:t.jf.jobEndDateTime.errors.maxDifference)}}function CZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" End Date ",t.message.jobOutOfRangeWarning," ")}}function TZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.jobRangeOverlapsLockedRange," ")}}function wZ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"div",27)(3,"label",117),e._uU(4," End Date: "),e.qZA()(),e.TgZ(5,"div",37)(6,"div",112)(7,"div",65)(8,"input",118),e.NdJ("dateChange",function(){e.CHM(t);const r=e.oxw(2);return r.jobDetailsChanged(),r.setDefaultStartDate(),r.compareTimes(),e.KtG(r.hoursChangedDynamically())}),e.qZA(),e._UZ(9,"mat-datepicker",null,119),e.qZA(),e.TgZ(11,"div",115)(12,"img",116),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(10),a=e.oxw(2);return e.KtG(a.isEndDateDisabled?null:r.open())}),e.qZA()()()()(),e.YNc(13,xZ,7,6,"div",25),e.YNc(14,CZ,2,1,"div",39),e.YNc(15,TZ,2,1,"div",39),e.qZA()}if(2&n){const t=e.MAs(10),i=e.oxw(2);e.xp6(8),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("ngClass",e.WLB(9,gS,!i.validJobEndDate||i.invalidDatesOverlap,!i.validJobEndDate||i.invalidDatesOverlap))("min",i.subGroupDateRange.start)("max",i.subGroupDateRange.end)("matDatepicker",t)("dateLengthTracker",i.dateLength),e.xp6(5),e.Q6J("ngIf",(null==i.jf.jobEndDateTime?null:i.jf.jobEndDateTime.touched)&&(null==i.jf.jobEndDateTime?null:i.jf.jobEndDateTime.errors)),e.xp6(1),e.Q6J("ngIf",!i.validJobEndDate),e.xp6(1),e.Q6J("ngIf",i.invalidDatesOverlap)}}function DZ(n,o){if(1&n&&(e.TgZ(0,"ng-option",125),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.id),e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.code," - ",t.description," ")}}function SZ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",120)(5,"label",121),e._uU(6," Shift: "),e.qZA()(),e.TgZ(7,"div",122)(8,"ng-select",123),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.shiftChanged(r))}),e.YNc(9,DZ,2,4,"ng-option",124),e.qZA()()()()()()}if(2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("searchable",!0)("clearable",!0),e.xp6(1),e.Q6J("ngForOf",t.shifts)}}function kZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Start Time ",t.message.required," ")}}function AZ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,kZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.jf.startTime||null==t.jf.startTime.errors?null:t.jf.startTime.errors.required)}}function MZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function OZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" End Time ",t.message.required," ")}}function PZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function EZ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,OZ,2,1,"div",39),e.YNc(2,PZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.jf.endTime.errors?null:t.jf.endTime.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jf.endTime.errors?null:t.jf.endTime.errors.minlength)}}function IZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Hours (mins) ",t.message.required," ")}}function NZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function RZ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,IZ,2,1,"div",39),e.YNc(2,NZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.jf.hours.errors?null:t.jf.hours.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jf.hours.errors?null:t.jf.hours.errors.minlength)}}function FZ(n,o){1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.hij(" ","Work Hours can not exceed beyond 24 Hours."," "))}function ZZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function LZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day 1 ",t.message.required," ")}}function UZ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,LZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.jf.hours1||null==t.jf.hours1.errors?null:t.jf.hours1.errors.required)}}function jZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function YZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validTime," ")}}function qZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function JZ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"div",35)(3,"label",126),e._uU(4," Day 1: "),e.qZA()(),e.TgZ(5,"div",37)(6,"input",127),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return r.jobDetailsChanged(),r.changedHoursPartly(1),e.KtG(r.hoursChangedDynamically())})("input",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.checkIsHoursChanged(r))})("keydown",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.filterHoursInput(r))}),e.qZA()()(),e.TgZ(7,"div"),e.YNc(8,UZ,2,1,"div",25),e.YNc(9,jZ,2,1,"div",39),e.YNc(10,YZ,2,1,"div",39),e.YNc(11,qZ,2,1,"div",39),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("timeLengthTracker",5),e.xp6(2),e.Q6J("ngIf",t.jf.hours1.touched&&t.jf.hours1.errors),e.xp6(1),e.Q6J("ngIf",null==t.jf.hours1.errors?null:t.jf.hours1.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.jf.hours1.errors?null:t.jf.hours1.errors.incorrectHours),e.xp6(1),e.Q6J("ngIf",null==t.jf.hours1.errors?null:t.jf.hours1.errors.hoursDifferentFromZero)}}function HZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day 2 ",t.message.required," ")}}function BZ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,HZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.jf.hours2||null==t.jf.hours2.errors?null:t.jf.hours2.errors.required)}}function VZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function GZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validTime," ")}}function WZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function QZ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"div",35)(3,"label",128),e._uU(4," Day 2: "),e.qZA()(),e.TgZ(5,"div",37)(6,"input",129),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return r.jobDetailsChanged(),r.changedHoursPartly(2),e.KtG(r.hoursChangedDynamically())})("input",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.checkIsHoursChanged(r))})("keydown",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.filterHoursInput(r))}),e.qZA()()(),e.TgZ(7,"div"),e.YNc(8,BZ,2,1,"div",25),e.YNc(9,VZ,2,1,"div",39),e.YNc(10,GZ,2,1,"div",39),e.YNc(11,WZ,2,1,"div",39),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("timeLengthTracker",5),e.xp6(2),e.Q6J("ngIf",t.jf.hours2.touched&&t.jf.hours2.errors),e.xp6(1),e.Q6J("ngIf",null==t.jf.hours2.errors?null:t.jf.hours2.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.jf.hours2.errors?null:t.jf.hours2.errors.incorrectHours),e.xp6(1),e.Q6J("ngIf",null==t.jf.hours2.errors?null:t.jf.hours2.errors.hoursDifferentFromZero)}}function zZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Employees Required ",t.message.required," ")}}function KZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.numberRange," 1 and 99. ")}}function $Z(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,zZ,2,1,"div",39),e.YNc(2,KZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.jf.noOfEmployeesRequired.errors?null:t.jf.noOfEmployeesRequired.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jf.noOfEmployeesRequired.errors?null:t.jf.noOfEmployeesRequired.errors.pattern)}}function XZ(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.numberRange," 1 and 99. ")}}function e4(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,XZ,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.jf.sortOrder.errors?null:t.jf.sortOrder.errors.pattern)}}function t4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"div",53)(3,"div",54)(4,"label",130),e._uU(5," Allowed Trade: "),e.qZA()(),e.TgZ(6,"div",37)(7,"mat-checkbox",131),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.allowTradeManualChange())}),e.qZA()()()()()}}function n4(n,o){1&n&&(e.TgZ(0,"div",107),e._uU(1," Enter valid Number of Days. "),e.qZA())}function i4(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,n4,2,0,"div",39),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.jobForm.controls.numberOfDays.errors.pattern)}}function r4(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function o4(n,o){if(1&n&&(e.TgZ(0,"div",107),e.YNc(1,r4,2,1,"div",25),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.jobForm.controls.copyToDate.errors?null:t.jobForm.controls.copyToDate.errors.matDatepickerParse)||(null==t.jobForm.controls.copyToDate.errors?null:t.jobForm.controls.copyToDate.errors.minlength))}}function a4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",62)(2,"div",19)(3,"div",63)(4,"label",132),e._uU(5," To Date: "),e.qZA()(),e.TgZ(6,"div",37)(7,"div",133)(8,"div",65)(9,"input",134),e.NdJ("dateInput",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleCopyOptions())})("dateChange",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleCopyOptions())}),e.qZA(),e._UZ(10,"mat-datepicker",null,135),e.qZA(),e.TgZ(12,"div")(13,"img",116),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(11);return e.KtG(r.open())}),e.qZA()()()()()(),e.YNc(14,o4,2,1,"div",39),e.qZA()}if(2&n){const t=e.MAs(11),i=e.oxw(2);e.xp6(9),e.Q6J("matDatepicker",t)("max",i.subGroupDateRange.end)("min",i.subGroupDateRange.start)("dateLengthTracker",i.dateLength),e.xp6(5),e.Q6J("ngIf",(null==i.jf.copyToDate?null:i.jf.copyToDate.touched)&&(null==i.jf.copyToDate?null:i.jf.copyToDate.errors))}}function s4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",62)(2,"div",19)(3,"div",63)(4,"label",132),e._uU(5," To Day: "),e.qZA()(),e.TgZ(6,"div",37)(7,"div",133)(8,"div",65)(9,"ng-select",136),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleCopyOptions())}),e.qZA()()()()()()()}if(2&n){const t=e.oxw(2);e.xp6(9),e.Q6J("items",t.days)("clearable",!1)("searchable",!1)}}function l4(n,o){1&n&&(e.TgZ(0,"div",18)(1,"div",19)(2,"div",69)(3,"mat-checkbox",137)(4,"strong"),e._uU(5,"Exclude Weekends"),e.qZA()()()()())}function c4(n,o){1&n&&(e.TgZ(0,"div",107),e._uU(1," Enter valid Number of Days. "),e.qZA())}function d4(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,c4,2,0,"div",39),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.jobForm.controls.numberOfDays.errors.pattern)}}function u4(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function p4(n,o){if(1&n&&(e.TgZ(0,"div",107),e.YNc(1,u4,2,1,"div",25),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.jobForm.controls.copyToDate.errors?null:t.jobForm.controls.copyToDate.errors.matDatepickerParse)||(null==t.jobForm.controls.copyToDate.errors?null:t.jobForm.controls.copyToDate.errors.minlength))}}function f4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",62)(2,"div",19)(3,"div",63)(4,"label",132),e._uU(5," To Date: "),e.qZA()(),e.TgZ(6,"div",37)(7,"div",133)(8,"div",65)(9,"input",134),e.NdJ("dateInput",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleCopyOptions())})("dateChange",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleCopyOptions())}),e.qZA(),e._UZ(10,"mat-datepicker",null,135),e.qZA(),e.TgZ(12,"div")(13,"img",138),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(11);return e.KtG(r.open())}),e.qZA()()()()()(),e.YNc(14,p4,2,1,"div",39),e.qZA()}if(2&n){const t=e.MAs(11),i=e.oxw(2);e.xp6(9),e.Q6J("matDatepicker",t)("max",i.subGroupDateRange.end)("min",i.subGroupDateRange.start)("dateLengthTracker",i.dateLength),e.xp6(5),e.Q6J("ngIf",(null==i.jf.copyToDate?null:i.jf.copyToDate.touched)&&(null==i.jf.copyToDate?null:i.jf.copyToDate.errors))}}function h4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",62)(2,"div",19)(3,"div",63)(4,"label",132),e._uU(5," To Day: "),e.qZA()(),e.TgZ(6,"div",37)(7,"div",133)(8,"div",65)(9,"ng-select",136),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleCopyOptions())}),e.qZA()()()()()()()}if(2&n){const t=e.oxw(2);e.xp6(9),e.Q6J("items",t.days)("clearable",!1)("searchable",!1)}}function m4(n,o){1&n&&(e.TgZ(0,"div",62)(1,"div",77)(2,"div")(3,"mat-checkbox",140)(4,"strong"),e._uU(5,"Exclude Weekends"),e.qZA()()()()())}function g4(n,o){if(1&n&&(e.TgZ(0,"div",74)(1,"div",17),e.YNc(2,m4,6,0,"div",139),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!t.jobForm.controls.numberOfDays.disabled&&!t.isTemplate)}}function _4(n,o){if(1&n&&(e.TgZ(0,"div",141)(1,"div",19)(2,"div",142)(3,"label",143),e._uU(4," Status: "),e.qZA()(),e.TgZ(5,"div")(6,"label",144)(7,"span",null,145),e._uU(9),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(9),e.hij(" ",t.jobForm.controls.jobStatus.value.name," ")}}function v4(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Reference Area ",t.message.required," ")}}function b4(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,v4,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.jf.referenceArea.errors?null:t.jf.referenceArea.errors.required)}}function y4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",141)(1,"div",19)(2,"div",142)(3,"label",143),e._uU(4," Reference Area: "),e.qZA()(),e.TgZ(5,"div")(6,"ng-select",146),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.jobDetailsChanged())}),e.qZA()()(),e.YNc(7,b4,2,1,"div",25),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("items",t.referenceAreaLookup)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf",(null==t.jf.referenceArea?null:t.jf.referenceArea.touched)&&(null==t.jf.referenceArea?null:t.jf.referenceArea.errors))}}function x4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",180),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return r.clickedRefresh(),e.KtG(r.saveJob(!0))}),e._UZ(1,"i",181),e._uU(2," Refresh List "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.disabledSaveButton)}}function C4(n,o){if(1&n&&(e.TgZ(0,"p",182),e._uU(1," Available "),e.TgZ(2,"span",183),e._uU(3),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(3),e.hij(" ",t.availableEmployeesNo," ")}}function T4(n,o){if(1&n&&e._UZ(0,"img",196),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("src",i.sanitizeExisting(t.image),e.LSH)}}function w4(n,o){1&n&&e._UZ(0,"img",197)}const $d=function(n){return{schedHrsColor:n}},Xd=function(n){return{"background-color":n}};function D4(n,o){if(1&n&&(e.TgZ(0,"div",3)(1,"div",17),e._UZ(2,"i",198),e.TgZ(3,"span",199),e._uU(4),e.qZA(),e._UZ(5,"br")(6,"i"),e.TgZ(7,"span",199),e._uU(8),e.qZA()()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(3),e.Q6J("ngClass",e.VKq(9,$d,t.scheduledHours.includes("/")))("ngStyle",e.VKq(11,Xd,i.setEmployeeSchedHrsBgColor(t.scheduledHours))),e.xp6(1),e.hij(" ",t.scheduledHours," "),e.xp6(2),e.Gre("fa ",i.scheduledHoursIconClass,""),e.xp6(1),e.Q6J("ngClass",e.VKq(13,$d,t.scheduledHours.includes("/")))("ngStyle",e.VKq(15,Xd,i.setEmployeeSchedHrsBgColor(t.scheduledHours))),e.xp6(1),e.hij(" ",i.scheduledHoursStatus," ")}}function S4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",204),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.openJobOfferDialog(r.jobOfferDate,r.jobOfferStatus))}),e.qZA()}}function k4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",205),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.openJobOfferDialog(r.jobOfferDate,r.jobOfferStatus))}),e.qZA()}}function A4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",206),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.openJobOfferDialog(r.jobOfferDate,r.jobOfferStatus))}),e.qZA()}}function M4(n,o){if(1&n&&(e.TgZ(0,"div",200),e.YNc(1,S4,1,0,"i",201),e.YNc(2,k4,1,0,"i",202),e.YNc(3,A4,1,0,"i",203),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","Awaiting Response"==t.jobOfferStatus),e.xp6(1),e.Q6J("ngIf","Declined"==t.jobOfferStatus),e.xp6(1),e.Q6J("ngIf","Accepted"==t.jobOfferStatus)}}function O4(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",211)(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",211),e._uU(5),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3).$implicit,r=e.oxw(3);e.xp6(3),e.hij("",r.fieldsToDisplay[t],":"),e.xp6(2),e.hij(" ",i.employeeInfo[0][t]," ")}}function P4(n,o){if(1&n&&(e.ynx(0),e.YNc(1,O4,6,2,"tr",25),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",i.employeeInfo[0][t])}}function E4(n,o){if(1&n&&(e.TgZ(0,"table"),e.YNc(1,P4,2,1,"ng-container",210),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",t.availableListForTooltip)}}function I4(n,o){if(1&n&&e._UZ(0,"i",212),2&n){e.oxw();const t=e.MAs(2);e.Q6J("ngbTooltip",t)}}function N4(n,o){1&n&&e._UZ(0,"i",213)}function R4(n,o){if(1&n&&(e.TgZ(0,"div",200),e.YNc(1,E4,2,1,"ng-template",null,207,e.W1O),e.YNc(3,I4,1,1,"i",208),e.YNc(4,N4,1,0,"i",209),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf",t.tooltipIndicator),e.xp6(1),e.Q6J("ngIf",!t.tooltipIndicator)}}function F4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",184),e.NdJ("click",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.selectWithCtrl(r,s,"Available"))})("dblclick",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.selectWithDoubleClick(a,"Available"))}),e.TgZ(1,"div",3)(2,"div",185)(3,"div",186)(4,"div",187),e.ynx(5),e.YNc(6,T4,1,1,"img",188),e.YNc(7,w4,1,0,"ng-template",null,189,e.W1O),e.BQk(),e.qZA(),e.TgZ(9,"div",190)(10,"div",191)(11,"div",17),e._uU(12),e.qZA()(),e.YNc(13,D4,9,17,"div",34),e.qZA()(),e.TgZ(14,"div",192),e.YNc(15,M4,4,3,"div",193),e.YNc(16,R4,5,2,"div",193),e.TgZ(17,"div",194)(18,"input",195),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.selectEmployee(a))}),e.qZA()()()()()()}if(2&n){const t=o.$implicit,i=o.index,r=e.MAs(8),a=e.oxw(3);e.Q6J("cdkDragData",t)("cdkDragDisabled",!t.canBeAssignedOrUnassigned||a.areListsReadOnly),e.xp6(6),e.Q6J("ngIf",t.image)("ngIfElse",r),e.xp6(6),e.hij(" ",t.nameAndSurname," "),e.xp6(1),e.Q6J("ngIf",null!=t.scheduledHours),e.xp6(2),e.Q6J("ngIf",t.jobOfferStatus&&a.canOfferJob),e.xp6(1),e.Q6J("ngIf",t.employeeInfo),e.xp6(2),e.MGl("id","customCheckAvailable",i,""),e.Q6J("disabled",a.areListsReadOnly||!t.canBeAssignedOrUnassigned)("checked",t.isSelected)}}function Z4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",167),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.offerJob())}),e._uU(1," Offer Job "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",0===t.availableEmployeesNo)}}function L4(n,o){if(1&n&&(e.TgZ(0,"p",182),e._uU(1," Unavailable "),e.TgZ(2,"span",214),e._uU(3),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(3),e.hij(" ",t.unavailableEmployeesNo," ")}}function U4(n,o){if(1&n&&e._UZ(0,"img",196),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("src",i.sanitizeExisting(t.image),e.LSH)}}function j4(n,o){1&n&&e._UZ(0,"img",197)}function Y4(n,o){if(1&n&&(e.TgZ(0,"div",3)(1,"div",17),e._UZ(2,"i",198),e.TgZ(3,"span",199),e._uU(4),e.qZA(),e._UZ(5,"br")(6,"i"),e.TgZ(7,"span",199),e._uU(8),e.qZA()()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(3),e.Q6J("ngClass",e.VKq(9,$d,t.scheduledHours.includes("/")))("ngStyle",e.VKq(11,Xd,i.setEmployeeSchedHrsBgColor(t.scheduledHours))),e.xp6(1),e.hij(" ",t.scheduledHours," "),e.xp6(2),e.Gre("fa ",i.scheduledHoursIconClass,""),e.xp6(1),e.Q6J("ngClass",e.VKq(13,$d,t.scheduledHours.includes("/")))("ngStyle",e.VKq(15,Xd,i.setEmployeeSchedHrsBgColor(t.scheduledHours))),e.xp6(1),e.hij(" ",i.scheduledHoursStatus," ")}}function q4(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",211)(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",211),e._uU(5),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3).$implicit,r=e.oxw(3);e.xp6(3),e.hij("",r.fieldsToDisplay[t],":"),e.xp6(2),e.hij(" ",i.employeeInfo[0][t]," ")}}function J4(n,o){if(1&n&&(e.ynx(0),e.YNc(1,q4,6,2,"tr",25),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",i.employeeInfo[0][t])}}function H4(n,o){if(1&n&&(e.TgZ(0,"table"),e.YNc(1,J4,2,1,"ng-container",210),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",t.unavailableListForTooltip)}}function B4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",216),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.showOverrideInfo(r.brokenRules,r.nameAndSurname,"unavailableList"))}),e.qZA()}if(2&n){const t=e.oxw(2).index;e.MGl("id","override_exclamation_icon_",t,"")}}function V4(n,o){if(1&n&&e._UZ(0,"i",212),2&n){e.oxw();const t=e.MAs(2);e.Q6J("ngbTooltip",t)}}function G4(n,o){1&n&&e._UZ(0,"i",213)}function W4(n,o){if(1&n&&(e.TgZ(0,"div",200),e.YNc(1,H4,2,1,"ng-template",null,207,e.W1O),e.YNc(3,B4,1,1,"i",215),e.YNc(4,V4,1,1,"i",208),e.YNc(5,G4,1,0,"i",209),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf",t.brokenRules),e.xp6(1),e.Q6J("ngIf",t.tooltipIndicator&&t.employeeInfo),e.xp6(1),e.Q6J("ngIf",!t.tooltipIndicator&&t.employeeInfo)}}function Q4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",184),e.NdJ("click",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.selectWithCtrl(r,s,"Unavailable"))})("dblclick",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.selectWithDoubleClick(a,"Unavailable"))}),e.TgZ(1,"div",3)(2,"div",185)(3,"div",186)(4,"div",187),e.ynx(5),e.YNc(6,U4,1,1,"img",188),e.YNc(7,j4,1,0,"ng-template",null,189,e.W1O),e.BQk(),e.qZA(),e.TgZ(9,"div",190)(10,"div",191)(11,"div",17),e._uU(12),e.qZA()(),e.YNc(13,Y4,9,17,"div",34),e.qZA()(),e.TgZ(14,"div",192),e.YNc(15,W4,6,3,"div",193),e.TgZ(16,"div",194)(17,"input",195),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.selectEmployee(a))}),e.qZA()()()()()()}if(2&n){const t=o.$implicit,i=o.index,r=e.MAs(8),a=e.oxw(3);e.Q6J("cdkDragData",t)("cdkDragDisabled",!t.canBeAssignedOrUnassigned||!a.canAssignFromUnavailable||a.areListsReadOnly),e.xp6(6),e.Q6J("ngIf",t.image)("ngIfElse",r),e.xp6(6),e.hij(" ",t.nameAndSurname," "),e.xp6(1),e.Q6J("ngIf",null!=t.scheduledHours),e.xp6(2),e.Q6J("ngIf",t.employeeInfo||t.brokenRules),e.xp6(2),e.MGl("id","customCheckUnavailable",i,""),e.Q6J("disabled",a.areListsReadOnly||!t.canBeAssignedOrUnassigned)("checked",t.isSelected)}}function z4(n,o){if(1&n&&(e.TgZ(0,"p",182),e._uU(1," Assigned "),e.TgZ(2,"span",217),e._uU(3),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(3),e.hij(" ",t.assignEmployeeNo," ")}}function K4(n,o){if(1&n&&e._UZ(0,"img",196),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("src",i.sanitizeExisting(t.image),e.LSH)}}function $4(n,o){1&n&&e._UZ(0,"img",197)}function X4(n,o){if(1&n&&(e.TgZ(0,"div",3)(1,"div",17),e._UZ(2,"i",198),e.TgZ(3,"span",199),e._uU(4),e.qZA(),e._UZ(5,"br")(6,"i"),e.TgZ(7,"span",199),e._uU(8),e.qZA()()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(3),e.Q6J("ngClass",e.VKq(9,$d,t.scheduledHours.includes("/")))("ngStyle",e.VKq(11,Xd,i.setEmployeeSchedHrsBgColor(t.scheduledHours))),e.xp6(1),e.hij(" ",t.scheduledHours," "),e.xp6(2),e.Gre("fa ",i.scheduledHoursIconClass,""),e.xp6(1),e.Q6J("ngClass",e.VKq(13,$d,t.scheduledHours.includes("/")))("ngStyle",e.VKq(15,Xd,i.setEmployeeSchedHrsBgColor(t.scheduledHours))),e.xp6(1),e.hij(" ",i.scheduledHoursStatus," ")}}function e5(n,o){if(1&n&&(e.TgZ(0,"div",3)(1,"div",17),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.agencyAssignmentInfo," ")}}function t5(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",211)(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",211),e._uU(5),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3).$implicit,r=e.oxw(3);e.xp6(3),e.hij("",r.fieldsToDisplay[t],":"),e.xp6(2),e.hij(" ",i.employeeInfo[0][t]," ")}}function n5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,t5,6,2,"tr",25),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",i.employeeInfo[0][t])}}function r5(n,o){if(1&n&&(e.TgZ(0,"table"),e.YNc(1,n5,2,1,"ng-container",210),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",t.assignedListForTooltip)}}function o5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",216),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.showOverrideInfo(r.brokenRules,r.nameAndSurname,"assignedList"))}),e.qZA()}if(2&n){const t=e.oxw(2).index;e.MGl("id","override_exclamation_icon_",t,"")}}function a5(n,o){if(1&n&&e._UZ(0,"i",212),2&n){e.oxw();const t=e.MAs(2);e.Q6J("ngbTooltip",t)}}function s5(n,o){1&n&&e._UZ(0,"i",213)}function l5(n,o){if(1&n&&(e.TgZ(0,"div",200),e.YNc(1,r5,2,1,"ng-template",null,207,e.W1O),e.YNc(3,o5,1,1,"i",215),e.YNc(4,a5,1,1,"i",208),e.YNc(5,s5,1,0,"i",209),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf",t.brokenRules),e.xp6(1),e.Q6J("ngIf",t.tooltipIndicator&&t.employeeInfo),e.xp6(1),e.Q6J("ngIf",!t.tooltipIndicator&&t.employeeInfo)}}function c5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",194)(1,"input",195),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.selectEmployee(r))}),e.qZA()()}if(2&n){const t=e.oxw(),i=t.index,r=t.$implicit,a=e.oxw(3);e.xp6(1),e.MGl("id","customCheckAssigned",i,""),e.Q6J("disabled",a.areListsReadOnly||!r.canBeAssignedOrUnassigned)("checked",r.isSelected)}}function d5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",220)(1,"i",221),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.unassignAgencyWorker(r.agencyJobAssignmentID))}),e.qZA()()}}function u5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",184),e.NdJ("click",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.selectWithCtrl(r,s,"Assign"))})("dblclick",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.selectWithDoubleClick(a,"Assign"))}),e.TgZ(1,"div",3)(2,"div",185)(3,"div",186)(4,"div",187),e.ynx(5),e.YNc(6,K4,1,1,"img",188),e.YNc(7,$4,1,0,"ng-template",null,189,e.W1O),e.BQk(),e.qZA(),e.TgZ(9,"div",190)(10,"div",191)(11,"div",17),e._uU(12),e.qZA()(),e.YNc(13,X4,9,17,"div",34),e.YNc(14,e5,3,1,"div",34),e.qZA()(),e.TgZ(15,"div",192),e.YNc(16,l5,6,3,"div",193),e.YNc(17,c5,2,3,"div",218),e.YNc(18,d5,2,0,"div",219),e.qZA()()()()}if(2&n){const t=o.$implicit,i=e.MAs(8),r=e.oxw(3);e.Q6J("cdkDragData",t)("cdkDragDisabled",!t.canBeAssignedOrUnassigned||r.areListsReadOnly||t.agencyJobAssignmentID>0),e.xp6(6),e.Q6J("ngIf",t.image)("ngIfElse",i),e.xp6(6),e.hij(" ",t.nameAndSurname," "),e.xp6(1),e.Q6J("ngIf",!t.isAnonymous&&null!=t.scheduledHours),e.xp6(1),e.Q6J("ngIf",t.agencyJobAssignmentID),e.xp6(2),e.Q6J("ngIf",!t.isAnonymous&&(t.employeeInfo||t.brokenRules)),e.xp6(1),e.Q6J("ngIf",!t.agencyJobAssignmentID),e.xp6(1),e.Q6J("ngIf",t.agencyJobAssignmentID)}}function p5(n,o){if(1&n&&(e.TgZ(0,"p",182),e._uU(1," Invalid "),e.TgZ(2,"span",222),e._uU(3),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(3),e.hij(" ",t.invalidEmployeesNo," ")}}function f5(n,o){if(1&n&&e._UZ(0,"img",196),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("src",i.sanitizeExisting(t.image),e.LSH)}}function h5(n,o){1&n&&e._UZ(0,"img",197)}function m5(n,o){if(1&n&&(e.TgZ(0,"div",3)(1,"div",17),e._UZ(2,"i",198),e.TgZ(3,"span",199),e._uU(4),e.qZA(),e._UZ(5,"br")(6,"i"),e.TgZ(7,"span",199),e._uU(8),e.qZA()()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(3),e.Q6J("ngClass",e.VKq(9,$d,t.scheduledHours.includes("/")))("ngStyle",e.VKq(11,Xd,i.setEmployeeSchedHrsBgColor(t.scheduledHours))),e.xp6(1),e.hij(" ",t.scheduledHours," "),e.xp6(2),e.Gre("fa ",i.scheduledHoursIconClass,""),e.xp6(1),e.Q6J("ngClass",e.VKq(13,$d,t.scheduledHours.includes("/")))("ngStyle",e.VKq(15,Xd,i.setEmployeeSchedHrsBgColor(t.scheduledHours))),e.xp6(1),e.hij(" ",i.scheduledHoursStatus," ")}}function g5(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",211)(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",211),e._uU(5),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3).$implicit,r=e.oxw(3);e.xp6(3),e.hij("",r.fieldsToDisplay[t],":"),e.xp6(2),e.hij(" ",i.employeeInfo[0][t]," ")}}function _5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,g5,6,2,"tr",25),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",i.employeeInfo[0][t])}}function v5(n,o){if(1&n&&(e.TgZ(0,"table"),e.YNc(1,_5,2,1,"ng-container",210),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",t.invalidListForTooltip)}}function b5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",216),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.showOverrideInfo(r.brokenRules,r.nameAndSurname,"invalidList"))}),e.qZA()}if(2&n){const t=e.oxw(2).index;e.MGl("id","override_exclamation_icon_",t,"")}}function y5(n,o){if(1&n&&e._UZ(0,"i",212),2&n){e.oxw();const t=e.MAs(2);e.Q6J("ngbTooltip",t)}}function x5(n,o){1&n&&e._UZ(0,"i",213)}function C5(n,o){if(1&n&&(e.TgZ(0,"div",200),e.YNc(1,v5,2,1,"ng-template",null,207,e.W1O),e.YNc(3,b5,1,1,"i",215),e.YNc(4,y5,1,1,"i",208),e.YNc(5,x5,1,0,"i",209),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf",t.brokenRules),e.xp6(1),e.Q6J("ngIf",t.tooltipIndicator&&t.employeeInfo),e.xp6(1),e.Q6J("ngIf",!t.tooltipIndicator&&t.employeeInfo)}}function T5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",184),e.NdJ("click",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.selectWithCtrl(r,s,"Invalid"))})("dblclick",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.selectWithDoubleClick(a,"Invalid"))}),e.TgZ(1,"div",3)(2,"div",185)(3,"div",186)(4,"div",187),e.ynx(5),e.YNc(6,f5,1,1,"img",188),e.YNc(7,h5,1,0,"ng-template",null,189,e.W1O),e.BQk(),e.qZA(),e.TgZ(9,"div",190)(10,"div",191)(11,"div",17),e._uU(12),e.qZA()(),e.YNc(13,m5,9,17,"div",34),e.qZA()(),e.TgZ(14,"div",192),e.YNc(15,C5,6,3,"div",193),e.TgZ(16,"div",194)(17,"input",195),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.selectEmployee(a))}),e.qZA()()()()()()}if(2&n){const t=o.$implicit,i=o.index,r=e.MAs(8),a=e.oxw(3);e.Q6J("cdkDragData",t)("cdkDragDisabled",!t.canBeAssignedOrUnassigned||a.areListsReadOnly),e.xp6(6),e.Q6J("ngIf",t.image)("ngIfElse",r),e.xp6(6),e.hij(" ",t.nameAndSurname," "),e.xp6(1),e.Q6J("ngIf",!t.isAnonymous&&null!=t.scheduledHours),e.xp6(2),e.Q6J("ngIf",!t.isAnonymous&&(t.employeeInfo||t.brokenRules)),e.xp6(2),e.MGl("id","customCheckInvalid",i,""),e.Q6J("disabled",a.areListsReadOnly||!t.canBeAssignedOrUnassigned)("checked",t.isSelected)}}const _S=function(n){return{listIsFullStyle:n}},vS=function(n){return{dragAndDropBackdrop:n}},bS=function(n){return{disabledDragAndDropBackdrop:n}},J1=function(n){return[n]};function w5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",147),e.YNc(1,x4,3,1,"button",148),e._UZ(2,"div",149)(3,"div",149),e.TgZ(4,"div",150)(5,"div",151)(6,"div",152)(7,"mat-tab-group",153,154),e.NdJ("selectedTabChange",function(r){e.CHM(t);const a=e.oxw(2);return a.secondTabChanged(r),e.KtG(a.availabilityTabChanged(r))}),e.TgZ(9,"mat-tab"),e.YNc(10,C4,4,1,"ng-template",155),e.TgZ(11,"div",156)(12,"div",157),e._UZ(13,"input",158),e.TgZ(14,"div",159)(15,"button",160),e._UZ(16,"i",161),e.qZA()()()(),e._UZ(17,"hr"),e.TgZ(18,"div",162)(19,"cdk-virtual-scroll-viewport",163,164),e.NdJ("scrolledIndexChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.getIndex(r,"available"))})("cdkDropListDropped",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.drop(r))}),e.YNc(22,F4,19,11,"div",165),e.qZA()(),e._UZ(23,"hr"),e.TgZ(24,"div",166)(25,"button",167),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearSelection("Available"))}),e._uU(26," Clear selection "),e.qZA(),e.YNc(27,Z4,2,1,"button",168),e.TgZ(28,"button",167),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.assignSelectedEmployees("Available",!0))}),e._UZ(29,"i",169),e._uU(30," Assign selected "),e.qZA()()(),e.TgZ(31,"mat-tab"),e.YNc(32,L4,4,1,"ng-template",155),e.TgZ(33,"div",156)(34,"div",157),e._UZ(35,"input",170),e.TgZ(36,"div",159)(37,"button",160),e._UZ(38,"i",161),e.qZA()()()(),e._UZ(39,"hr"),e.TgZ(40,"div",162)(41,"cdk-virtual-scroll-viewport",163,171),e.NdJ("scrolledIndexChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.getIndex(r,"unavailable"))})("cdkDropListDropped",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.drop(r))}),e.YNc(44,Q4,18,10,"div",165),e.qZA()(),e._UZ(45,"hr"),e.TgZ(46,"div",166)(47,"button",167),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearSelection("Unavailable"))}),e._uU(48," Clear selection "),e.qZA(),e.TgZ(49,"button",167),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.assignSelectedEmployeeOnButton("Unavailable"))}),e._UZ(50,"i",169),e._uU(51," Assign selected "),e.qZA()()()()()(),e.TgZ(52,"div",172)(53,"div",152)(54,"mat-tab-group",153,173),e.NdJ("selectedTabChange",function(r){e.CHM(t);const a=e.oxw(2);return a.firstTabChanged(r),e.KtG(a.assignmentTabChanged(r))}),e.TgZ(56,"mat-tab"),e.YNc(57,z4,4,1,"ng-template",155),e.TgZ(58,"div",156)(59,"div",157),e._UZ(60,"input",174),e.TgZ(61,"div",159)(62,"button",160),e._UZ(63,"i",161),e.qZA()()()(),e._UZ(64,"hr"),e.TgZ(65,"div",162)(66,"cdk-virtual-scroll-viewport",175,176),e.NdJ("scrolledIndexChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.getIndex(r,"assigned"))})("cdkDropListDropped",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.drop(r))}),e.YNc(69,u5,19,10,"div",165),e.qZA()(),e._UZ(70,"hr"),e.TgZ(71,"div",166)(72,"button",167),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearSelection("Assign"))}),e._uU(73,"Clear selection"),e.qZA(),e.TgZ(74,"button",167),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.unassignSelectedEmployees("Assign"))}),e._UZ(75,"i",177),e._uU(76," Remove selected "),e.qZA()()(),e.TgZ(77,"mat-tab"),e.YNc(78,p5,4,1,"ng-template",155),e.TgZ(79,"div",156)(80,"div",157),e._UZ(81,"input",178),e.TgZ(82,"div",159)(83,"button",160),e._UZ(84,"i",161),e.qZA()()()(),e._UZ(85,"hr"),e.TgZ(86,"div",162)(87,"cdk-virtual-scroll-viewport",163,179),e.NdJ("scrolledIndexChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.getIndex(r,"invalid"))})("cdkDropListDropped",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.drop(r))}),e.YNc(90,T5,18,10,"div",165),e.qZA()(),e._UZ(91,"hr"),e.TgZ(92,"div",166)(93,"button",167),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearSelection("Invalid"))}),e._uU(94,"Clear selection"),e.qZA(),e.TgZ(95,"button",167),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.unassignSelectedEmployees("Invalid"))}),e._UZ(96,"i",177),e._uU(97," Remove selected "),e.qZA()()()()()()()()}if(2&n){const t=e.MAs(20),i=e.MAs(42),r=e.MAs(67),a=e.MAs(88),s=e.oxw(2);e.Q6J("ngClass",e.VKq(45,_S,!s.listIsFull)),e.xp6(1),e.Q6J("ngIf",s.changesInProgress),e.xp6(1),e.Q6J("ngClass",e.VKq(47,vS,!s.listIsFull)),e.xp6(1),e.Q6J("ngClass",e.VKq(49,bS,s.changesInProgress)),e.xp6(10),e.Q6J("formControl",s.searchAvailableList),e.xp6(6),e.Q6J("cdkDropListData",s.employeesAvailable)("itemSize",s.viewportItemSize)("cdkDropListConnectedTo",e.VKq(51,J1,r))("ngClass",s.availableEmployeesNo<4?"list-of-employees":"list-of-employees-sm")("minBufferPx",s.minBufferInPx)("maxBufferPx",s.maxBufferInPx),e.xp6(3),e.Q6J("cdkVirtualForOf",s.avlblEmpls),e.xp6(3),e.Q6J("disabled",0===s.availableEmployeesNo),e.xp6(2),e.Q6J("ngIf",s.canOfferJob),e.xp6(1),e.Q6J("disabled",0===s.availableEmployeesNo),e.xp6(7),e.Q6J("formControl",s.searchUnavailableList),e.xp6(6),e.Q6J("cdkDropListData",s.employeesUnavailable)("itemSize",s.viewportItemSize)("cdkDropListConnectedTo",e.VKq(53,J1,a))("ngClass",s.unavailableEmployeesNo<4?"list-of-employees":"list-of-employees-sm")("minBufferPx",s.minBufferInPx)("maxBufferPx",s.maxBufferInPx),e.xp6(3),e.Q6J("cdkVirtualForOf",s.unavlblEmpls),e.xp6(3),e.Q6J("disabled",0===s.unavailableEmployeesNo),e.xp6(2),e.Q6J("disabled",0===s.unavailableEmployeesNo),e.xp6(11),e.Q6J("formControl",s.searchAssignedList),e.xp6(6),e.Q6J("cdkDropListData",s.employeesAssign)("itemSize",s.viewportItemSize)("cdkDropListConnectedTo",e.VKq(55,J1,t))("ngClass",s.assignEmployeeNo<4?"list-of-employees":"list-of-employees-sm")("minBufferPx",s.minBufferInPx)("maxBufferPx",s.maxBufferInPx),e.xp6(3),e.Q6J("cdkVirtualForOf",s.asgnEmpls),e.xp6(3),e.Q6J("disabled",0===s.assignEmployeeNo),e.xp6(2),e.Q6J("disabled",0===s.assignEmployeeNo),e.xp6(7),e.Q6J("formControl",s.searchInvalidList),e.xp6(6),e.Q6J("cdkDropListData",s.employeesInvalid)("itemSize",s.viewportItemSize)("cdkDropListConnectedTo",e.VKq(57,J1,i))("ngClass",s.invalidEmployeesNo<4?"list-of-employees":"list-of-employees-sm")("minBufferPx",s.minBufferInPx)("maxBufferPx",s.maxBufferInPx),e.xp6(3),e.Q6J("cdkVirtualForOf",s.invEmpls),e.xp6(3),e.Q6J("disabled",0===s.invalidEmployeesNo),e.xp6(2),e.Q6J("disabled",0===s.invalidEmployeesNo)}}const D5=function(n){return{width:n,"background-color":"#C92D3A",height:"33px"}};function S5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",234),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.pickTimeInTimeline(r))}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(3);e.s9C("id",t),e.Q6J("ngStyle",e.VKq(2,D5,i.onePercent+"%"))}}function k5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",180),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return r.clickedRefresh(),e.KtG(r.saveJob(!0))}),e._UZ(1,"i",181),e._uU(2," Refresh List "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.disabledSaveButton)}}function A5(n,o){if(1&n&&(e.TgZ(0,"p",182),e._uU(1," Associated Employees "),e.TgZ(2,"span",235),e._uU(3),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(3),e.hij(" ",t.associatedEmployeesNo," ")}}function M5(n,o){if(1&n&&e._UZ(0,"img",196),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("src",i.sanitizeExisting(t.image),e.LSH)}}function O5(n,o){1&n&&e._UZ(0,"img",197)}function P5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.lnq(" ",t.key.substring(8,10),"/",t.key.substring(5,7),"/",t.key.substring(0,4)," ")}}function E5(n,o){1&n&&e._UZ(0,"br")}function I5(n,o){if(1&n&&(e.TgZ(0,"div",211),e._uU(1),e.YNc(2,P5,2,3,"span",25),e._uU(3),e.YNc(4,E5,1,0,"br",25),e.qZA()),2&n){const t=o.$implicit,i=o.last;e.xp6(1),e.hij(" ",t.key.substring(11,16)," "),e.xp6(1),e.Q6J("ngIf",t.key.substring(0,10)!==t.value.substring(0,10)),e.xp6(1),e.HOy(" -",t.value.substring(11,16)," ",t.value.substring(8,10),"/",t.value.substring(5,7),"/",t.value.substring(0,4)," "),e.xp6(1),e.Q6J("ngIf",!i)}}function N5(n,o){if(1&n&&e.YNc(0,I5,5,7,"div",243),2&n){const t=e.oxw().$implicit;e.Q6J("ngForOf",t.assigments)}}function R5(n,o){if(1&n&&(e.TgZ(0,"div",236)(1,"div",3)(2,"div",185)(3,"div",186)(4,"div",187),e.ynx(5),e.YNc(6,M5,1,1,"img",188),e.YNc(7,O5,1,0,"ng-template",null,189,e.W1O),e.BQk(),e.qZA(),e.TgZ(9,"div",237)(10,"div",238)(11,"div",239),e._uU(12),e.qZA()()()(),e.TgZ(13,"div",192)(14,"div",187)(15,"div",240)(16,"div",239),e.YNc(17,N5,1,1,"ng-template",null,207,e.W1O),e.TgZ(19,"span",241),e._UZ(20,"i",242),e.qZA()()()()()()()()),2&n){const t=o.$implicit,i=e.MAs(8),r=e.MAs(18);e.xp6(6),e.Q6J("ngIf",t.image)("ngIfElse",i),e.xp6(6),e.hij(" ",t.nameAndSurname," "),e.xp6(7),e.Q6J("ngbTooltip",r)}}function F5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",223)(1,"div",3)(2,"div",17)(3,"div",224),e.NdJ("clickOutside",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.refreshAssociatedListFull())}),e.YNc(4,S5,1,4,"div",225),e.qZA()()(),e.YNc(5,k5,3,1,"button",148),e._UZ(6,"div",149)(7,"div",149),e.TgZ(8,"div",226)(9,"div",227)(10,"div",152)(11,"mat-tab-group",228)(12,"mat-tab"),e.YNc(13,A5,4,1,"ng-template",155),e.TgZ(14,"div",156)(15,"div",157),e._UZ(16,"input",229),e.TgZ(17,"div",159)(18,"button",160),e._UZ(19,"i",161),e.qZA()()()(),e.TgZ(20,"div",17)(21,"p",230),e._uU(22),e.qZA()(),e.TgZ(23,"div",231)(24,"div",232),e.YNc(25,R5,21,4,"div",233),e.ALo(26,"employeesFilter"),e.qZA()()()()()()()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(13,_S,!t.listIsFull)),e.xp6(4),e.Q6J("ngForOf",t.createRange(t.numbOfDivs)),e.xp6(1),e.Q6J("ngIf",t.changesInProgress),e.xp6(1),e.Q6J("ngClass",e.VKq(15,vS,!t.listIsFull)),e.xp6(1),e.Q6J("ngClass",e.VKq(17,bS,t.changesInProgress)),e.xp6(9),e.Q6J("formControl",t.searchText),e.xp6(6),e.AsE("",t.startOfGreenPart," - ",t.endOfGreenPart," "),e.xp6(2),e.Q6J("ngClass",t.associatedEmployeesNo<4?"list-of-employees":"list-of-employees-sm"),e.xp6(1),e.Q6J("ngForOf",e.xi3(26,10,t.associatedEmployees,t.searchText.value))}}function Z5(n,o){1&n&&e._UZ(0,"i",244)}function L5(n,o){1&n&&e._UZ(0,"i",245)}function U5(n,o){1&n&&e._UZ(0,"i",244)}function j5(n,o){1&n&&e._UZ(0,"i",245)}function Y5(n,o){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.limit50," ")}}function q5(n,o){1&n&&e._UZ(0,"i",244)}function J5(n,o){1&n&&e._UZ(0,"i",245)}function H5(n,o){if(1&n&&(e.TgZ(0,"div",262),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Recurring Intervals ",t.message.required," ")}}function B5(n,o){if(1&n&&(e.TgZ(0,"div",262),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function V5(n,o){if(1&n&&(e.TgZ(0,"div",262),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.loneWorkerReccuringIntervalsGreaterThanResponseWindow," ")}}function G5(n,o){if(1&n&&(e.TgZ(0,"div",262),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.loneWorkerReccuringIntervalsValidValue," ")}}function W5(n,o){if(1&n&&(e.TgZ(0,"div",260),e.YNc(1,H5,2,1,"div",261),e.YNc(2,B5,2,1,"div",261),e.YNc(3,V5,2,1,"div",261),e.YNc(4,G5,2,1,"div",261),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.jf.loneWorkerRecurringIntervals.errors?null:t.jf.loneWorkerRecurringIntervals.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jf.loneWorkerRecurringIntervals.errors?null:t.jf.loneWorkerRecurringIntervals.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.jf.loneWorkerRecurringIntervals.errors?null:t.jf.loneWorkerRecurringIntervals.errors.loneWorkerReccuringIntervalsThreeTimesGreater),e.xp6(1),e.Q6J("ngIf",null==t.jf.loneWorkerRecurringIntervals.errors?null:t.jf.loneWorkerRecurringIntervals.errors.loneWorkerReccuringIntervalsValidValue)}}function Q5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",254)(2,"div",255)(3,"label",256)(4,"strong"),e._uU(5," Recurring Intervals: "),e.qZA()()(),e.TgZ(6,"div",257)(7,"input",258),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return r.loneWorkerValidation(),e.KtG(r.loneWorkerRecurringIntervalsManualChange())}),e.qZA()()(),e.YNc(8,W5,5,4,"div",259),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==t.jf.loneWorkerRecurringIntervals?null:t.jf.loneWorkerRecurringIntervals.touched)&&(null==t.jf.loneWorkerRecurringIntervals?null:t.jf.loneWorkerRecurringIntervals.errors))}}function z5(n,o){if(1&n&&(e.TgZ(0,"div",262),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Response Window ",t.message.required," ")}}function K5(n,o){if(1&n&&(e.TgZ(0,"div",262),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function $5(n,o){if(1&n&&(e.TgZ(0,"div",262),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.loneWorkerResponseWindowValidValue," ")}}function X5(n,o){if(1&n&&(e.TgZ(0,"div",260),e.YNc(1,z5,2,1,"div",261),e.YNc(2,K5,2,1,"div",261),e.YNc(3,$5,2,1,"div",261),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.jf.loneWorkerResponseWindow.errors?null:t.jf.loneWorkerResponseWindow.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jf.loneWorkerResponseWindow.errors?null:t.jf.loneWorkerResponseWindow.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.jf.loneWorkerResponseWindow.errors?null:t.jf.loneWorkerResponseWindow.errors.loneWorkerResponseWindowValidValue)}}function eL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",254)(2,"div",255)(3,"label",263)(4,"strong"),e._uU(5," Response Window: "),e.qZA()()(),e.TgZ(6,"div",257)(7,"input",264),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return r.loneWorkerValidation(),e.KtG(r.loneWorkerResponseWindowManualChange())}),e.qZA()()(),e.YNc(8,X5,4,3,"div",259),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==t.jf.loneWorkerResponseWindow?null:t.jf.loneWorkerResponseWindow.touched)&&(null==t.jf.loneWorkerResponseWindow?null:t.jf.loneWorkerResponseWindow.errors))}}function tL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",246)(2,"div",85),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.showLoneWorkerJob())}),e.TgZ(3,"div",86)(4,"label",247),e._uU(5," Lone Worker\xa0 "),e.qZA()(),e.TgZ(6,"div",88)(7,"span"),e.YNc(8,q5,1,0,"i",89),e.YNc(9,J5,1,0,"i",90),e.qZA()()(),e.TgZ(10,"div",248)(11,"div",17)(12,"div",249)(13,"div",250)(14,"label",251)(15,"strong"),e._uU(16," Lone Worker Job: "),e.qZA()()(),e.TgZ(17,"div",252)(18,"mat-checkbox",253),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return r.trackCheckboxChanges("loneWorkerJob"),e.KtG(r.loneWorkerJobManualChange())}),e.qZA()()(),e.YNc(19,Q5,9,2,"div",25),e.YNc(20,eL,9,2,"div",25),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",!t.areShownLoneWorker),e.xp6(1),e.Q6J("ngIf",t.areShownLoneWorker),e.xp6(10),e.Q6J("ngIf",t.jf.loneWorkerJob.value),e.xp6(1),e.Q6J("ngIf",t.jf.loneWorkerJob.value)}}function nL(n,o){1&n&&e._UZ(0,"i",244)}function iL(n,o){1&n&&e._UZ(0,"i",245)}function rL(n,o){if(1&n&&(e.TgZ(0,"div",272),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Time Before Job Start ",t.message.required," ")}}function oL(n,o){if(1&n&&(e.TgZ(0,"div",272),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function aL(n,o){if(1&n&&(e.TgZ(0,"div",260),e.YNc(1,rL,2,1,"div",271),e.YNc(2,oL,2,1,"div",271),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.jf.attendanceTimeBeforeStart.errors?null:t.jf.attendanceTimeBeforeStart.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jf.attendanceTimeBeforeStart.errors?null:t.jf.attendanceTimeBeforeStart.errors.minlength)}}function sL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",254)(2,"div",255)(3,"label",269)(4,"strong"),e._uU(5," Time Before Job Start: "),e.qZA()()(),e.TgZ(6,"div",257)(7,"input",270),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.manuallyUpdateAttendance("attendanceTimeBeforeStart"))}),e.qZA()()(),e.YNc(8,aL,3,2,"div",259),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==t.jf.attendanceTimeBeforeStart?null:t.jf.attendanceTimeBeforeStart.touched)&&(null==t.jf.attendanceTimeBeforeStart?null:t.jf.attendanceTimeBeforeStart.errors))}}function lL(n,o){if(1&n&&(e.TgZ(0,"div",272),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Response Window ",t.message.required," ")}}function cL(n,o){if(1&n&&(e.TgZ(0,"div",272),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function dL(n,o){if(1&n&&(e.TgZ(0,"div",260),e.YNc(1,lL,2,1,"div",271),e.YNc(2,cL,2,1,"div",271),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.jf.attendanceResponseWindow.errors?null:t.jf.attendanceResponseWindow.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.jf.attendanceResponseWindow.errors?null:t.jf.attendanceResponseWindow.errors.minlength)}}function uL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",254)(2,"div",255)(3,"label",273)(4,"strong"),e._uU(5," Response Window: "),e.qZA()()(),e.TgZ(6,"div",257)(7,"input",274),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.manuallyUpdateAttendance("attendanceResponseWindow"))}),e.qZA()()(),e.YNc(8,dL,3,2,"div",259),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==t.jf.attendanceResponseWindow?null:t.jf.attendanceResponseWindow.touched)&&(null==t.jf.attendanceResponseWindow?null:t.jf.attendanceResponseWindow.errors))}}function pL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",265)(2,"div",85),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleAttendanceDetails())}),e.TgZ(3,"div",86)(4,"label",87),e._uU(5," Attendance Confirmation\xa0 "),e.qZA()(),e.TgZ(6,"div",88)(7,"span"),e.YNc(8,nL,1,0,"i",89),e.YNc(9,iL,1,0,"i",90),e.qZA()()(),e.TgZ(10,"div",266)(11,"div",17)(12,"div",249)(13,"div",250)(14,"label",267)(15,"strong"),e._uU(16," Attendance Confirmation: "),e.qZA()()(),e.TgZ(17,"div",252)(18,"mat-checkbox",268),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return r.trackCheckboxChanges("attendanceConfirmation"),e.KtG(r.manuallyUpdateAttendance("attendanceConfirmation"))}),e.qZA()()(),e.YNc(19,sL,9,2,"div",25),e.YNc(20,uL,9,2,"div",25),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",!t.attendanceDetailsShown),e.xp6(1),e.Q6J("ngIf",t.attendanceDetailsShown),e.xp6(10),e.Q6J("ngIf",t.jf.attendanceConfirmation.value),e.xp6(1),e.Q6J("ngIf",t.jf.attendanceConfirmation.value)}}function fL(n,o){1&n&&e._UZ(0,"i",244)}function hL(n,o){1&n&&e._UZ(0,"i",245)}function mL(n,o){if(1&n&&(e.TgZ(0,"ng-option",292),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function gL(n,o){if(1&n&&(e.TgZ(0,"div",294),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Agency ",t.message.required," ")}}function _L(n,o){if(1&n&&(e.TgZ(0,"div",260),e.YNc(1,gL,2,1,"div",293),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.af.agencyID.errors?null:t.af.agencyID.errors.required)}}function vL(n,o){if(1&n&&(e.TgZ(0,"ng-option",292),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function bL(n,o){if(1&n&&(e.TgZ(0,"div",294),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Reason for Cover ",t.message.required," ")}}function yL(n,o){if(1&n&&(e.TgZ(0,"div",260),e.YNc(1,bL,2,1,"div",293),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.af.agencyReasonForCoverID.errors?null:t.af.agencyReasonForCoverID.errors.required)}}function xL(n,o){if(1&n&&(e.TgZ(0,"div",294),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Agency Worker ",t.message.required," ")}}function CL(n,o){if(1&n&&(e.TgZ(0,"div",294),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Agency Worker ",t.message.limit200," ")}}function TL(n,o){if(1&n&&(e.TgZ(0,"div",260),e.YNc(1,xL,2,1,"div",293),e.YNc(2,CL,2,1,"div",293),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.af.agencyWorker.errors?null:t.af.agencyWorker.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.af.agencyWorker.errors?null:t.af.agencyWorker.errors.maxlength)}}function wL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",280)(1,"div",249)(2,"div",281)(3,"label",282)(4,"strong"),e._uU(5," Agency: "),e.qZA()()(),e.TgZ(6,"div",283)(7,"ng-select",284),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.updateAgencyValidations())}),e.YNc(8,mL,2,2,"ng-option",285),e.qZA(),e.YNc(9,_L,2,1,"div",259),e.qZA()(),e.TgZ(10,"div")(11,"div",286)(12,"div",281)(13,"label",287)(14,"strong"),e._uU(15," Reason For Cover: "),e.qZA()()(),e.TgZ(16,"div",288)(17,"ng-select",289),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.updateAgencyValidations())}),e.YNc(18,vL,2,2,"ng-option",285),e.qZA(),e.YNc(19,yL,2,1,"div",259),e.qZA()()(),e.TgZ(20,"div")(21,"div",254)(22,"div",281)(23,"label",290)(24,"strong"),e._uU(25," Agency Worker: "),e.qZA()()(),e.TgZ(26,"div",257)(27,"input",291),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.updateAgencyValidations())})("keyup",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.updateAgencyValidations())}),e.qZA(),e.YNc(28,TL,3,2,"div",259),e.qZA()()()()}if(2&n){const t=e.oxw(3);e.Q6J("formGroup",t.agencyForm),e.xp6(7),e.Q6J("virtualScroll",!0)("required",t.af.agencyReasonForCoverID.value||t.af.agencyWorker.value&&""!==t.af.agencyWorker.value),e.xp6(1),e.Q6J("ngForOf",t.agencySelectValues)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",(null==t.af.agencyID?null:t.af.agencyID.touched)&&(null==t.af.agencyID?null:t.af.agencyID.errors)),e.xp6(8),e.Q6J("virtualScroll",!0)("required",t.af.agencyID.value||t.af.agencyWorker.value&&""!==t.af.agencyWorker.value),e.xp6(1),e.Q6J("ngForOf",t.reasonForCoverSelectValues)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",(null==t.af.agencyReasonForCoverID?null:t.af.agencyReasonForCoverID.touched)&&(null==t.af.agencyReasonForCoverID?null:t.af.agencyReasonForCoverID.errors)),e.xp6(8),e.Q6J("required",t.af.agencyID.value||t.af.agencyReasonForCoverID.value),e.xp6(1),e.Q6J("ngIf",(null==t.af.agencyWorker?null:t.af.agencyWorker.touched)&&(null==t.af.agencyWorker?null:t.af.agencyWorker.errors))}}function DL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",275)(2,"div",85),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleAgencyDetails())}),e.TgZ(3,"div",86)(4,"label",87),e._uU(5," Assign Agency\xa0 "),e.qZA()(),e.TgZ(6,"div",88)(7,"span"),e.YNc(8,fL,1,0,"i",89),e.YNc(9,hL,1,0,"i",90),e.qZA()()(),e.TgZ(10,"div",276)(11,"div",17),e.YNc(12,wL,29,13,"form",277),e.qZA(),e.TgZ(13,"div",278)(14,"button",279),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.assignAgency())}),e._uU(15," Assign "),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",!t.agencyDetailsShown),e.xp6(1),e.Q6J("ngIf",t.agencyDetailsShown),e.xp6(3),e.Q6J("ngIf",t.agencyForm),e.xp6(2),e.Q6J("disabled",t.agencyAssignmentInProgress)}}const SL=function(n){return{"input-error":n}},kL=function(n){return{shiftTopMargin:n}};function AL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",2),e.NdJ("ngSumbit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveJob(!0))}),e.TgZ(1,"div",3)(2,"div",4),e.YNc(3,zF,3,1,"p",5),e.YNc(4,KF,3,0,"p",5),e.qZA(),e.TgZ(5,"div",6)(6,"div",7)(7,"div",8)(8,"p",9)(9,"span"),e._uU(10," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Copy Job "),e.qZA()()()()(),e.TgZ(11,"div",10)(12,"img",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e.qZA()()(),e._UZ(13,"hr",12),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",3)(19,"div",17)(20,"div",18)(21,"div",19)(22,"div",20)(23,"label",21),e._uU(24," Job Type: "),e.qZA()(),e.TgZ(25,"div",22)(26,"ng-select",23),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return a.jobDetailsChanged(),e.KtG(a.updateJobName(r))}),e.qZA(),e.YNc(27,$F,1,0,"i",24),e.qZA()(),e.YNc(28,eZ,2,1,"div",25),e.qZA()(),e.TgZ(29,"div",17)(30,"div",18)(31,"div",26)(32,"div",27)(33,"label",28),e._uU(34," Job Name: "),e.qZA()(),e.TgZ(35,"div",29),e._UZ(36,"input",30,31),e.qZA()(),e.YNc(38,iZ,3,2,"div",25),e.qZA()(),e.TgZ(39,"div",17),e.YNc(40,sZ,8,4,"div",32),e.YNc(41,hZ,15,11,"div",32),e.YNc(42,wZ,16,12,"div",32),e.qZA()()(),e.TgZ(43,"div",33),e.YNc(44,SZ,10,3,"div",34),e.TgZ(45,"div",3)(46,"div",17)(47,"div",18)(48,"div",19)(49,"div",35)(50,"label",36),e._uU(51," Start Time: "),e.qZA()(),e.TgZ(52,"div",37)(53,"input",38),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return r.jobDetailsChanged(),e.KtG(r.hoursChangedDynamically())}),e.qZA()()(),e.TgZ(54,"div"),e.YNc(55,AZ,2,1,"div",25),e.YNc(56,MZ,2,1,"div",39),e.qZA()()(),e.TgZ(57,"div",17)(58,"div",18)(59,"div",19)(60,"div",35)(61,"label",40),e._uU(62," End Time: "),e.qZA()(),e.TgZ(63,"div",37)(64,"input",41),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return r.jobDetailsChanged(),e.KtG(r.hoursChangedDynamically())}),e.qZA()()(),e.YNc(65,EZ,3,2,"div",25),e.qZA()(),e.TgZ(66,"div",17)(67,"div",18)(68,"div",19)(69,"div",35)(70,"label",42),e._uU(71," Hours (mins): "),e.qZA()(),e.TgZ(72,"div",37)(73,"input",43),e.NdJ("keydown",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.filterHoursInput(r))})("change",function(){e.CHM(t);const r=e.oxw();return r.jobDetailsChanged(),r.changedHours(),e.KtG(r.setMEHOnTrue())}),e.qZA()()(),e.YNc(74,RZ,3,2,"div",25),e.YNc(75,FZ,2,1,"div",39),e.YNc(76,ZZ,2,1,"div",39),e.qZA()(),e.TgZ(77,"div",17),e.YNc(78,JZ,12,5,"div",32),e.qZA(),e.TgZ(79,"div",17),e.YNc(80,QZ,12,5,"div",32),e.qZA()()()(),e.TgZ(81,"div",44)(82,"div",45)(83,"div",3)(84,"div",17)(85,"div",18)(86,"div",19)(87,"div",46)(88,"label",47),e._uU(89," Employees Required: "),e.qZA()(),e.TgZ(90,"div",37)(91,"input",48),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.jobDetailsChanged())}),e.qZA()()(),e.YNc(92,$Z,3,2,"div",25),e.qZA()(),e.TgZ(93,"div",17)(94,"div",18)(95,"div",19)(96,"div",46)(97,"label",49),e._uU(98," Sort Order: "),e.qZA()(),e.TgZ(99,"div",37),e._UZ(100,"input",50),e.qZA()(),e.YNc(101,e4,2,1,"div",25),e.qZA()()()(),e.TgZ(102,"div",51)(103,"div",3),e.YNc(104,t4,8,0,"div",52),e.TgZ(105,"div",17)(106,"div",18)(107,"div",53)(108,"div",54)(109,"label",55),e._uU(110," Is Concurrent Job: "),e.qZA()(),e.TgZ(111,"div",37)(112,"mat-checkbox",56),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return a.isConcurrentJob(r.source.checked),e.KtG(a.compareTimes())}),e.qZA()()()()(),e.TgZ(113,"div",17)(114,"div",18)(115,"div",53)(116,"div",54)(117,"label",57),e._uU(118," Is Critical Task: "),e.qZA()(),e.TgZ(119,"div",37),e._UZ(120,"mat-checkbox",58),e.qZA()()()()()()(),e.TgZ(121,"div",59)(122,"div",60)(123,"div",3)(124,"div",61)(125,"div",62)(126,"div",19)(127,"div",63)(128,"label",64),e._uU(129," Number Of Days: "),e.qZA()(),e.TgZ(130,"div",65)(131,"input",66),e.NdJ("keyup",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleCopyOptions())}),e.qZA()()()(),e.YNc(132,i4,2,1,"div",25),e.qZA(),e.YNc(133,a4,15,5,"div",67),e.YNc(134,s4,10,3,"div",67),e._UZ(135,"div",17),e.qZA()(),e.TgZ(136,"div",68)(137,"div",3)(138,"div",61),e.YNc(139,l4,6,0,"div",32),e.qZA(),e._UZ(140,"div",17),e.TgZ(141,"div",61)(142,"div",18)(143,"div",19)(144,"div",69)(145,"mat-checkbox",70)(146,"strong"),e._uU(147,"Copy Assigned Employees"),e.qZA()()()()()()()()()()(),e.TgZ(148,"div",71),e._UZ(149,"hr",12),e.TgZ(150,"div",72)(151,"p",9)(152,"span"),e._uU(153," Copy Job "),e.qZA()()(),e._UZ(154,"hr",12),e.qZA(),e.TgZ(155,"div",73)(156,"div")(157,"div",74)(158,"div",17)(159,"div",62)(160,"div",19)(161,"div",63)(162,"label",64),e._uU(163," Number Of Days: "),e.qZA()(),e.TgZ(164,"div",65)(165,"input",66),e.NdJ("keyup",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleCopyOptions())}),e.qZA()()()(),e.YNc(166,d4,2,1,"div",25),e.qZA()(),e.TgZ(167,"div",71),e.YNc(168,f4,15,5,"div",52),e.YNc(169,h4,10,3,"div",52),e.qZA()(),e.TgZ(170,"div",75),e.YNc(171,g4,3,1,"div",76),e.TgZ(172,"div",74)(173,"div",17)(174,"div",62)(175,"div",77)(176,"div")(177,"mat-checkbox",78)(178,"strong"),e._uU(179,"Copy Assigned Employees"),e.qZA()()()()()()()()(),e._UZ(180,"hr",79),e.TgZ(181,"div",13)(182,"div",17),e.YNc(183,_4,10,1,"div",80),e.YNc(184,y4,8,4,"div",80),e.qZA()(),e.TgZ(185,"div",3),e.YNc(186,w5,98,59,"div",81),e.YNc(187,F5,27,19,"div",82),e.TgZ(188,"div",83)(189,"div",3)(190,"div",17)(191,"div",84)(192,"div",85),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.showCustomData())}),e.TgZ(193,"div",86)(194,"label",87),e._uU(195," Custom data\xa0 "),e.qZA()(),e.TgZ(196,"div",88)(197,"span"),e.YNc(198,Z5,1,0,"i",89),e.YNc(199,L5,1,0,"i",90),e.qZA()()(),e.TgZ(200,"div",91)(201,"div",92)(202,"app-custom-data-management",93),e.NdJ("onCustomDataChanged",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateCustomData(r))})("onCustomDataValidationError",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.updateFormValidation(r))}),e.qZA()()()()(),e.TgZ(203,"div",17)(204,"div",94)(205,"div",95),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeNotes())}),e.TgZ(206,"div",96)(207,"label",87),e._uU(208," Add Employee Note\xa0 "),e.qZA()(),e.TgZ(209,"div",97)(210,"span"),e.YNc(211,U5,1,0,"i",89),e.YNc(212,j5,1,0,"i",90),e.qZA()()(),e.TgZ(213,"div",98)(214,"textarea",99),e._uU(215,"                                "),e.qZA(),e.TgZ(216,"div",100),e._UZ(217,"i",101),e._uU(218,"\xa0 "),e.TgZ(219,"span"),e._uU(220,"This will be visible to the employee."),e.qZA()()(),e.YNc(221,Y5,2,1,"div",39),e.qZA()(),e.YNc(222,tL,21,4,"div",52),e.YNc(223,pL,21,4,"div",52),e.YNc(224,DL,16,4,"div",52),e.TgZ(225,"div",102)(226,"div",3)(227,"div",103)(228,"button",104),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(229," Cancel "),e.qZA()(),e.TgZ(230,"div",103)(231,"button",105),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveJob(!0))}),e._uU(232," Save Changes "),e.qZA()()()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.jobForm),e.xp6(3),e.Q6J("ngIf",t.data.jobEdit),e.xp6(1),e.Q6J("ngIf",!t.data.jobEdit),e.xp6(22),e.Q6J("items",t.jobTypes)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf","User"==t.role&&!t.viewOnly),e.xp6(1),e.Q6J("ngIf",t.jf.jobTypeID.touched&&(null==t.jf.jobTypeID?null:t.jf.jobTypeID.errors)),e.xp6(10),e.Q6J("ngIf",t.jf.name.touched&&t.jf.name.errors),e.xp6(2),e.Q6J("ngIf",t.isTemplate),e.xp6(1),e.Q6J("ngIf",!t.isTemplate),e.xp6(1),e.Q6J("ngIf",!t.isTemplate),e.xp6(2),e.Q6J("ngIf",t.canUserAccessShifts||t.shiftDataExist&&t.data.jobEdit),e.xp6(9),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("ngIf",t.jf.startTime.touched&&t.jf.startTime.errors),e.xp6(1),e.Q6J("ngIf",null==t.jf.startTime.errors?null:t.jf.startTime.errors.minlength),e.xp6(8),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==t.jf.endTime?null:t.jf.endTime.touched)&&(null==t.jf.endTime?null:t.jf.endTime.errors)),e.xp6(8),e.Q6J("hoursMaskInput",t.hoursFieldMaxLength)("ngClass",e.VKq(57,SL,!t.validHoursTime||!t.validHoursTime24h))("maxlength",t.hoursFieldMaxLength),e.xp6(1),e.Q6J("ngIf",(null==t.jf.hours?null:t.jf.hours.touched)&&(null==t.jf.hours?null:t.jf.hours.errors)),e.xp6(1),e.Q6J("ngIf",!t.validHoursTime24h),e.xp6(1),e.Q6J("ngIf",!t.validHoursTime),e.xp6(2),e.Q6J("ngIf",t.showHour1),e.xp6(2),e.Q6J("ngIf",t.showHour2),e.xp6(1),e.Q6J("ngClass",e.VKq(59,kL,t.canUserAccessShifts||t.shiftDataExist&&t.data.jobEdit)),e.xp6(11),e.Q6J("ngIf",(null==t.jf.noOfEmployeesRequired?null:t.jf.noOfEmployeesRequired.touched)&&(null==t.jf.noOfEmployeesRequired?null:t.jf.noOfEmployeesRequired.errors)),e.xp6(9),e.Q6J("ngIf",t.jf.sortOrder.touched&&t.jf.sortOrder.errors),e.xp6(3),e.Q6J("ngIf",!t.isConcurrent),e.xp6(27),e.Q6J("pattern",t.patternMin1Max99),e.xp6(1),e.Q6J("ngIf",t.jobForm.controls.numberOfDays.touched&&t.jobForm.controls.numberOfDays.errors),e.xp6(1),e.Q6J("ngIf",!t.isTemplate),e.xp6(1),e.Q6J("ngIf",t.isTemplate),e.xp6(5),e.Q6J("ngIf",!t.jobForm.controls.numberOfDays.disabled&&!t.isTemplate),e.xp6(26),e.Q6J("pattern",t.patternMin1Max99),e.xp6(1),e.Q6J("ngIf",t.jobForm.controls.numberOfDays.touched&&t.jobForm.controls.numberOfDays.errors),e.xp6(2),e.Q6J("ngIf",!t.isTemplate),e.xp6(1),e.Q6J("ngIf",t.isTemplate),e.xp6(2),e.Q6J("ngIf",!t.isTemplate),e.xp6(12),e.Q6J("ngIf",!t.isConcurrent),e.xp6(1),e.Q6J("ngIf",t.isConcurrent),e.xp6(2),e.Q6J("ngIf",!t.isConcurrent),e.xp6(1),e.Q6J("ngIf",t.isConcurrent),e.xp6(11),e.Q6J("ngIf",!t.areShownCustomData),e.xp6(1),e.Q6J("ngIf",t.areShownCustomData),e.xp6(3),e.Q6J("parentComponent",t.componentName)("parentId",t.jobID)("isCustomDataReadonly",t.viewOnly),e.xp6(9),e.Q6J("ngIf",!t.notesInput),e.xp6(1),e.Q6J("ngIf",t.notesInput),e.xp6(9),e.Q6J("ngIf",null==t.jf.comment||null==t.jf.comment.errors?null:t.jf.comment.errors.maxlength),e.xp6(1),e.Q6J("ngIf",t.isValidLW),e.xp6(1),e.Q6J("ngIf",t.isValidAC),e.xp6(1),e.Q6J("ngIf",t.canAssignAgency&&t.jf.id.value>0&&t.shouldShowAgencySegment),e.xp6(4),e.Q6J("disabled",!t.listIsFull),e.xp6(3),e.Q6J("disabled",t.disabledSaveButton||!t.listIsFull)}}let kx=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De,Ge,We,gt){this.dialogRef=t,this._dialogRef=i,this.data=r,this._messageService=a,this.employeeSchedHrsStatusColorService=s,this.subGroupService=l,this.jobTypeService=c,this.shiftService=u,this.dialog=h,this.jobService=x,this.sanitizer=T,this.renderer=O,this._fb=U,this._cdr=re,this._datesService=de,this._userRoleService=ve,this._jobOfferService=Ne,this._profileService=De,this._customDataService=Ge,this._agencyService=We,this._copyJobService=gt,this.keys=[],this.values=[],this.assignedListForTooltip=[],this.invalidListForTooltip=[],this.availableListForTooltip=[],this.unavailableListForTooltip=[],this.isUser=!1,this._ngUnsubscribe=new b.x,this.jobID=0,this.componentName="job",this.shifts=[],this.shiftLoaded=!1,this.shiftDataExist=!1,this.isEndDateDisabled=!1,this.canUserChangeShift=!1,this.listIsFull=!1,this.refreshClicked=!1,this.timeChanged=!1,this.time1Changed=!1,this.time2Changed=!1,this.time3Changed=!1,this.time4Changed=!1,this.time5Changed=!1,this.time6Changed=!1,this.subGroupDateRange={start:new Date,end:new Date},this.changesInProgress=!1,this.disabledSaveButton=!1,this.notesInput=!1,this.attendanceDetailsShown=!1,this.agencyDetailsShown=!1,this.isParentSelectedLookup=!1,this.isParentSelectedNumber=!1,this.isParentSelectedText=!1,this.isCreate=!1,this.removeListEmployees=new Array,this.dateLength=ai.YG.length,this.invalidEmployeesNo=0,this.unavailableEmployeesNo=0,this.assignEmployeeNo=0,this.availableEmployeesNo=0,this.searchText=new _.NI,this.searchAssignedList=new _.NI,this.assignedSearchCleared=!1,this.searchInvalidList=new _.NI,this.invalidSearchCleared=!1,this.searchAvailableList=new _.NI,this.availableSearchCleared=!1,this.searchUnavailableList=new _.NI,this.unavailableSearchCleared=!1,this.initialSearchText=null,this.currentSearchList="available",this.viewportItemSize=46,this.returnLimit=12,this.allListsPage=1,this.assignedPage=1,this.invalidPage=1,this.availablePage=1,this.unavailablePage=1,this.minBufferInPx=552,this.maxBufferInPx=736,this.currentTabIndex=0,this.assignedIndex=0,this.invalidIndex=0,this.availableIndex=0,this.unavailableIndex=0,this.asDistance=0,this.inDistance=0,this.avDistance=0,this.unavDistance=0,this.asgnEmpls=new _i.X([]),this.invEmpls=new _i.X([]),this.avlblEmpls=new _i.X([]),this.onClEmpls=new _i.X([]),this.unavlblEmpls=new _i.X([]),this.customDataHasValidationErrors=!1,this.existingCustomData=new Array,this.areShownCustomData=!1,this.areShownLoneWorker=!1,this.referenceAreaLookup=new Array({id:1,name:"Schedule"},{id:2,name:"Subgroup"},{id:3,name:"Subgroup & Lower Subgroups"}),this.isConcurrent=!1,this.dataConcurrent=[],this.associatedEmployees=new Array,this.associatedEmployeesNo=0,this.numbOfDivs=0,this.onePercent=0,this.startJobTimeMin=0,this.endJobTimeMin=0,this.allAssociatedIdShowed=!1,this.startOfGreenPart="",this.endOfGreenPart="",this.dataLoaded=!1,this.isInvalidListCurrent=!1,this.isUnavailableListCurrent=!1,this.oldSelectedStartOfGreenPart=0,this.oldSelectedEndOfGreenPart=0,this.singleDayJobMaxLength=5,this.multiDayJobMaxLength=5,this.validHoursTime=!0,this.validHoursTime24h=!0,this.showHour1=!1,this.showHour2=!1,this.isAccessAnonymous=!1,this.canAssignFromUnavailable=!1,this.areListsReadOnly=!1,this.areEmployeesAnonymous=!1,this.isJobEditable=!1,this.canAssignAgency=!1,this.viewOnly=void 0!==this.data.viewOnly&&this.data.viewOnly,this.approvedScheduleDateRanges=[],this.validJobStartDate=!0,this.validJobEndDate=!0,this.invalidDatesOverlap=!1,this.newJob=!1,this.newJobCounter=0,this.isTemplate=!1,this.days=[],this.jobHasAttendanceSettings=!1,this.canOfferJob=!1,this.isValidLW=!1,this.isValidAC=!1,this.currencACtimeBeforeStart=null,this.currencACresponseWindow=null,this.hoursIsJustEnabled=!1,this.canUserAccessShifts=!1,this.canMaintainJobTypes=!1,this.templateJobDay7toDay1=!1,this.agencyAssignmentInProgress=!1,this.agencySelectValues=[],this.reasonForCoverSelectValues=[],this.shouldShowAgencySegment=!1,this.isOverrideAssignmentDialogOpen=!1,this.patternMin1Max99="^(0?[1-9]|[1-9][0-9])$",this.isNumberOfDaysDisabled=!1,this.isToDateDisabled=!1;const rt=W(this.data.subgroupStartDate),vt=W(this.data.subgroupEndDate);this.daysList(rt,vt)}toggleCopyOptions(){""!=this.jobForm.controls.numberOfDays.value&&null!=this.jobForm.controls.numberOfDays.value&&(this.jf.copyToDate.setValue(null),this.jf.copyToDate.disable()),(null==this.jobForm.controls.numberOfDays.value||""==this.jobForm.controls.numberOfDays.value)&&this.jf.copyToDate.enable(),""!=this.jobForm.controls.copyToDate.value&&null!=this.jobForm.controls.copyToDate.value&&(this.jf.numberOfDays.setValue(null),this.jf.numberOfDays.disable()),(""==this.jobForm.controls.copyToDate.value||null==this.jobForm.controls.copyToDate.value)&&this.jf.numberOfDays.enable()}prepareFieldsForEmployeeInfo(){this.fieldsToDisplay={EmployeeNumber:"Employee Number",Gender:"Gender",Location:"Location",Department:"Department",CostCode:"Cost Code",Division:"Divison",JobTitle:"Job Title",Team:"Team",Class:"Class",JobType:"Job Type",Manager:"Manager",StartDate:"Start Date",LeaveDate:"Leave Date",Address1:"Address 1",Address2:"Address 2",Address3:"Address 3",Address4:"Address 4",DateOfBirth:"Date Of Birth",TelephoneNumber:"Telephone Number",MobileNumber:"Mobile Number",PayRate:"Pay Rate",MaxHours1:"Max Hours 1",MaxHours2:"Max Hours 2",MaxHours3:"Max Hours 3",MaxHours4:"Max Hours 4",MaxHours5:"Max Hours 5",AllowedTrade:"Allowed Trade",Email:"Email",WeeklyHours:"Weekly Hours"},this.keys=Object.keys(this.fieldsToDisplay),this.values=Object.values(this.fieldsToDisplay)}ngOnInit(){this.data.jobEdit&&(this.jobID=Number(this.data.jobEdit)),this.message=St.yw,this.currentSubGroupId=this.data.subGroupParent,this.viewedDateRange=this.data.viewedDateRange,this.currentStartDate=this.data.currentRangeStart,this.viewedDateRange&&(this.viewedDateRange.start&&10===this.viewedDateRange.start.length&&(this.viewedDateRange.start+="T00:00:00"),this.viewedDateRange.end&&this.viewedDateRange.end&&10===this.viewedDateRange.end.length&&(this.viewedDateRange.end+="T23:59:59")),this.approvedScheduleDateRanges=this.data.approvedScheduleDateRanges,this.addressPermissions(),this.buildJobForm(),this.buildAgencyForm(),this.setSingleDayHoursValidation(),this.getRole(),this.prepareFieldsForEmployeeInfo(),this.getEmployeeSchedHrsStatusColors(),this.closeModalUponLogout()}closeModalUponLogout(){this._userRoleService.closeModal.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{t&&(this.dialogRef.close(),this._dialogRef.close())})}ngAfterViewInit(){this.jobHasAttendanceSettings=!0,this.getJobTypes(),this._cdr.detectChanges(),this.createTimeSubscription(),this.createListsSubscriptions(),this.viewOnly&&setTimeout(()=>{this.jobForm.disable(),this.listIsFull=!1,this.disabledSaveButton=!0},50)}addressPermissions(){this.canAssignFromUnavailable=this.data.canAssignFromUnavailable,this.areListsReadOnly=!!this.viewOnly||this.data.areListsReadOnly,this.areEmployeesAnonymous=this.data.areEmployeesAnonymous,this.isJobEditable=!this.viewOnly&&this.data.isJobEditable}getRole(){this._userRoleService.loggedUserRole.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.role=t,this.isUser="User"===this.role}),setTimeout(()=>{const t=this._userRoleService.getGlobalAccountPermissions();t&&(null!=t.canUserAccessShifts&&null!=t.canUserAccessShifts&&(Jc.canUserAccessShifts=t.canUserAccessShifts,this.canUserAccessShifts=Jc.canUserAccessShifts),this.canAssignAgency=t.canUserAssignAgency,this.canAssignAgency&&this.getAgencyComboValues(),this.canMaintainJobTypes=t.canUserMaintainJobTypes),this.getShifts()},200)}buildJobForm(){this.jobForm=this._fb.group({id:[0],name:["",{validators:[_.kI.required,_.kI.maxLength(50)],updateOn:"change"}],jobStatusID:[null,{validators:[_.kI.required],updateOn:"change"}],jobStartDateTime:[null,{validators:[_.kI.required],updateOn:"change"}],jobEndDateTime:[null,{validators:[_.kI.required],updateOn:"change"}],day:[null,{validators:[_.kI.required],updateOn:"change"}],startTime:["",{validators:[_.kI.required],updateOn:"change"}],endTime:["",{validators:[_.kI.required],updateOn:"change"}],hours:["",{validators:[_.kI.required],updateOn:"change"}],hours1:[null,{validators:[_.kI.required],updateOn:"change"}],hours2:[null,{validators:[_.kI.required],updateOn:"change"}],manualEditedHours:[!1,{validators:[_.kI.required],updateOn:"change"}],manualEditedHours1:[!1,{validators:[_.kI.required],updateOn:"change"}],manualEditedHours2:[!1,{validators:[_.kI.required],updateOn:"change"}],notes:[null,{validators:[_.kI.maxLength(1e3)],updateOn:"change"}],noOfEmployeesRequired:[null,{validators:[_.kI.required],updateOn:"change"}],allowedTrade:[!1,{validators:[_.kI.required],updateOn:"change"}],isConcurrent:[!1,{validators:[_.kI.required],updateOn:"change"}],sortOrder:["",{validators:[],updateOn:"change"}],isCriticalTask:[!1,{validators:[_.kI.required],updateOn:"change"}],approved:[!0,{validators:[_.kI.required],updateOn:"change"}],subGroupID:["",{validators:[_.kI.required],updateOn:"change"}],jobTypeID:[null,{validators:[_.kI.required],updateOn:"change"}],shiftID:[null,{validators:[],updateOn:"change"}],jobStatus:[""],jobType:[""],customData:[null],subGroups:[""],referenceArea:[""],isCached:[!1],comment:[null,{validators:[_.kI.maxLength(50)],updateOn:"change"}],numberOfValidAssigned:[0],numberOfInvalidAssigned:[0],loneWorkerJob:!1,loneWorkerRecurringIntervals:[null,{validators:[_.kI.minLength(5)],updateOn:"change"}],loneWorkerResponseWindow:[null,{validators:[_.kI.minLength(5)],updateOn:"change"}],attendanceConfirmation:!1,attendanceTimeBeforeStart:[null,{validators:[_.kI.minLength(5)],updateOn:"change"}],attendanceResponseWindow:[null,{validators:[_.kI.minLength(5)],updateOn:"change"}],manuallyEditedLoneWorkerJob:!1,manuallyEditedReccuringIntervals:!1,manuallyEditedResponseWindow:!1,manuallyEditedAttendanceConfirmation:!1,manuallyEditedAttendanceTimeBeforeStart:!1,manuallyEditedAttendanceResponseWindow:!1,manualEditedAllowedTrade:[!1],copyToDate:[""],numberOfDays:[""],excludeWeekends:[""],copyAssignedEmployees:[""]},{validators:[(0,hr.il)("loneWorkerJob","loneWorkerRecurringIntervals","loneWorkerResponseWindow"),(0,hr.il)("attendanceConfirmation","attendanceTimeBeforeStart","attendanceResponseWindow")],asyncValidators:[]}),this.isJobEditable?this.jobForm.enable():this.jobForm.disable()}hoursFieldsVisibility(t){this.isConcurrent&&(this.showHour1=!1,this.showHour2=!1),this.showHour1=this.showHour1="00:00"!==t.hours1&&null!==t.hours1,this.showHour2=this.showHour2="00:00"!==t.hours2&&null!==t.hours2,this.initialHours1=t.hours1,this.initialHours2=t.hours2,this.jobForm.controls.manualEditedHours1.setValue(!1),this.jobForm.controls.manualEditedHours2.setValue(!1)}populateForm(){this.data.isTemplate&&(this.view=this.data.view,null!=this.data.day&&this.jobForm.controls.day.setValue(this.data.day));const t={emitEvent:!1};if(this.data.jobEdit)this.currentSubGroupId=this.data.subGroupID,this.isTemplate=this.data.isTemplate,this.isTemplate?this.agencyForm.controls.templateJobID.setValue(this.data.jobEdit):this.agencyForm.controls.jobID.setValue(this.data.jobEdit),this.jobService.getById(this.data.jobEdit,this.data.cached,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.currencACtimeBeforeStart=i.attendanceTimeBeforeStart,this.currencACresponseWindow=i.attendanceResponseWindow;let r=i.hours;const a=document.getElementById("eSolveHours"),s=W(i.jobStartDateTime).set({hour:0,minute:0,second:0,millisecond:0}),c=W(i.jobEndDateTime).set({hour:0,minute:0,second:0,millisecond:0}).diff(s,"days");if(c>0?(this.hoursFieldsVisibility(i),a.readOnly=!0):a.readOnly=!1,r=r.split(":").shift(),5===i.hours.length&&Number(r)<24?this.setSingleDayHoursValidation():this.setMultiDayHoursValidation(c),this.jobForm.patchValue(i,t),this.currentStartDate&&W(this.jobForm.controls.jobStartDateTime.value).isBefore(W(this.currentStartDate))&&(this.jobForm.controls.day.setValue(1),this.templateJobDay7toDay1=!0),this.jf.shiftID.value){let h=[];try{const x=setInterval(()=>{this.shiftLoaded&&(h=this.shifts.filter(T=>T.id==this.jf.shiftID.value),this.enableOrDisableFieldsAfterShiftChanges("disable",h),clearInterval(x))},50)}catch(x){}}this.jobForm.controls.startTime.setValue((0,wt.Ae)((0,wt.gr)(i.jobStartDateTime)),t),this.jobForm.controls.endTime.setValue((0,wt.Ae)((0,wt.gr)(i.jobEndDateTime)),t),this.initialHours=i.hours,this.jf.shiftID.value&&(a.readOnly=!0),this.jobForm.controls.isConcurrent.value?(this.isConcurrent=!0,this.jobForm.controls.referenceArea.patchValue(i.referenceArea),this.isConcurrentJob(!0),this.changesInProgress=!1,this.refreshEmployeesList("associatedEmployees"),this.paintDivs()):this.refreshEmployeesList("allEmployees");const u=this.jobTypes.filter(h=>h.id==i.jobTypeID);this.isValidLW=!(!this.jobForm.controls.manuallyEditedLoneWorkerJob.value&&!u[0].loneWorkerJob),this.isValidAC=!(!this.jobForm.controls.manuallyEditedAttendanceConfirmation.value&&!u[0].attendanceConfirmation),this.jobForm.controls.manuallyEditedAttendanceConfirmation.value||this.jobForm.controls.attendanceConfirmation.setValue(u[0].attendanceConfirmation,t),this.jobForm.controls.manuallyEditedAttendanceTimeBeforeStart.value||this.jobForm.controls.attendanceTimeBeforeStart.setValue(u[0].attendanceTimeBeforeStart,t),this.jobForm.controls.manuallyEditedAttendanceResponseWindow.value||this.jobForm.controls.attendanceResponseWindow.setValue(u[0].attendanceResponseWindow,t),this.emitCustomData(i.customData,!1),this.subGroupService.getById(this.jobForm.controls.subGroupID.value,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(h=>{this.subGroupDateRange.start=h.startDate,this.subGroupDateRange.end=h.endDate}),this.canOfferJob=i.canOfferJob});else{if(this.newJob=!0,this.data.dragSelect){this.currentSubGroupId=this.data.dragSelect.id,this.isTemplate=this.data.isTemplate,this.getSubgroupInfo(this.data.dragSelect.id);const i=W(this.data.subgroupStartDate),r=W(this.data.subgroupEndDate);this.jobForm.controls.jobStatusID.setValue(1),this.jobForm.controls.jobStartDateTime.setValue("string"==typeof this.data.dragSelect.startDate?this.data.dragSelect.startDate:W(this.data.dragSelect.startDate)),this.jobForm.controls.jobEndDateTime.setValue("string"==typeof this.data.dragSelect.endDate?this.data.dragSelect.endDate:W(this.data.dragSelect.endDate));const a=W(W(this.jobForm.controls.jobStartDateTime.value).format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),s=W(W(this.jobForm.controls.jobEndDateTime.value).format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0});if(this.isTemplate&&(a.isBefore(i)||s.isAfter(r)))this._messageService.open(this.message.templateSubgroupWarning);else{const c=s.diff(a);document.getElementById("eSolveHours").readOnly=c>0,this.data.dragSelect.startTime&&this.data.dragSelect.endTime&&(this.jobForm.controls.startTime.setValue((0,wt.E3)(this.data.dragSelect.startTime)),this.jobForm.controls.endTime.setValue((0,wt.E3)(this.data.dragSelect.endTime)))}this.jobForm.controls.jobTypeID.setValue(this.data.dragSelect.jobTypeNameId);const l=this.jobTypes.filter(c=>c.id==this.data.dragSelect.jobTypeNameId);this.isValidLW=!!l[0].loneWorkerJob,this.jobForm.controls.loneWorkerJob.setValue(l[0].loneWorkerJob),this.jobForm.controls.loneWorkerRecurringIntervals.setValue(l[0].loneWorkerRecurringIntervals),this.jobForm.controls.loneWorkerResponseWindow.setValue(l[0].loneWorkerResponseWindow),this.isValidAC=!!l[0].attendanceConfirmation,this.jobForm.controls.attendanceConfirmation.setValue(l[0].attendanceConfirmation),this.jobForm.controls.attendanceTimeBeforeStart.setValue(l[0].attendanceTimeBeforeStart),this.jobForm.controls.attendanceResponseWindow.setValue(l[0].attendanceResponseWindow),this.currencACtimeBeforeStart=l[0].attendanceTimeBeforeStart,this.currencACresponseWindow=l[0].attendanceResponseWindow,this.jobForm.controls.name.setValue(this.data.dragSelect.jobTypeName),this.compareTimes(),this.setInherentJobTypeTradeSettings(this.data.dragSelect.jobTypeNameId)}this.initialHours=null,this.listIsFull=!0,this.jobDetailsChanged(),this.isCreate=!0,this.data.dragSelect||(this.isTemplate=this.data.isTemplate,this.getSubgroupInfo(this.data.subGroupParent),this.subGroupService.getById(this.data.subGroupParent,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.jobForm.controls.subGroupID.setValue(i.id),this.jobForm.controls.jobStatusID.setValue(1),this.subGroupDateRange.end=i.endDate,this.subGroupDateRange.start=i.startDate}))}}getSubgroupInfo(t){this.subGroupService.getById(t,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.jobForm.controls.subGroupID.setValue(i.id),this.subGroupDateRange.end=i.endDate,this.subGroupDateRange.start=i.startDate,this.emitCustomData(i.customData,!0)})}createTimeSubscription(){this.jobForm.controls.startTime.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.compareTimes()}),this.jobForm.controls.endTime.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.compareTimes()})}setMEHOnTrue(){this.jobForm.controls.manualEditedHours.setValue(!0)}compareTimes(){let i,r,a,s,l,c;if(this.getDayOfTheWeekForTemplates(this.jobForm.controls.day.value),this.jobForm.controls.jobStartDateTime.value&&this.jobForm.controls.jobEndDateTime.value){const u=W(this.jobForm.controls.jobStartDateTime.value),h=W(this.jobForm.controls.jobEndDateTime.value);i=W(this.jobForm.controls.jobStartDateTime.value).clone().format("YYYY-MM-DD"),r=W(this.jobForm.controls.jobEndDateTime.value).clone().format("YYYY-MM-DD");const x=h.diff(u),T=document.getElementById("eSolveHours");x>0?(T.readOnly=!0,this.setMultiDayHoursValidation(x)):(T.readOnly=!1,this.setSingleDayHoursValidation())}if(5==this.jobForm.controls.startTime.value.length&&5==this.jobForm.controls.endTime.value.length){let u,h,T,x=[];const O=W(this.jobForm.controls.startTime.value,"HH:mm");a=this.jobForm.controls.startTime.value+":00";const U=W(this.jobForm.controls.endTime.value,"HH:mm");if(s=this.jobForm.controls.endTime.value+":00",this.jobForm.controls.jobStartDateTime.value&&this.jobForm.controls.jobEndDateTime.value||this.jobForm.controls.day.value){let ve,re=W(W(this.jobForm.controls.jobStartDateTime.value).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),de=W(W(this.jobForm.controls.jobEndDateTime.value).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0});if(l=i+"T"+a,c=r+"T"+s,this.approvedScheduleDateRanges.length){ve={start:null,end:null},ve.start=this.viewedDateRange.start,ve.end=this.viewedDateRange.end,this.viewedDateRange&&null!=this.viewedDateRange&&null!=this.viewedDateRange.start&&null!=this.viewedDateRange.end?this.approvedScheduleDateRanges.forEach(Ht=>{Ht.startDate!==this.viewedDateRange.start&&Ht.endDate!==this.viewedDateRange.end&&Ht.subGroupID==(this.currentSubGroupId?this.currentSubGroupId:this.jobForm.controls.subGroupID.value)&&x.push(Ht)}):x=this.approvedScheduleDateRanges,x=this.approvedScheduleDateRanges,this.validJobStartDate=!0,this.validJobEndDate=!0,this.invalidDatesOverlap=!1;let rt=!0,vt=!0,Zt=!0;if(x.length&&!this.viewOnly&&(this.checkDateRanges(ve.start,ve.end,l)&&this.checkDateRanges(ve.start,ve.end,c)?(this.validJobStartDate=!0,this.validJobEndDate=!0,this.invalidDatesOverlap=!1,Zt=!!this.data.cached):(rt=this.checkDateRanges(ve.start,ve.end,l),vt=this.checkDateRanges(ve.start,ve.end,c),rt||(this.validJobStartDate=!1),vt||(this.validJobEndDate=!1),Zt=!1),rt&&vt&&!Zt)){const Ht=this.evaluateUnlockedPeriods(x,this.viewedDateRange.start,this.viewedDateRange.end);x.forEach(Bt=>{Ht.unlockedRangesCount<2?(0,wt.$5)(l,c,Bt.startDate,Bt.endDate)&&Bt.subGroupID==(this.currentSubGroupId?this.currentSubGroupId:this.jobForm.controls.subGroupID.value)&&(this.invalidDatesOverlap=!0):(0,wt.$5)(l,c,Bt.startDate,Bt.endDate)&&Bt.subGroupID==(this.currentSubGroupId?this.currentSubGroupId:this.jobForm.controls.subGroupID.value)&&!Ht.noGaps&&(this.invalidDatesOverlap=!0)})}}if(de.isBefore(re,"day"))return this.setSingleDayHoursValidation(),void this.jobForm.controls.hours.setValue("",{emitEvent:!1});if(this.isTemplate?T=this.jobForm.controls.shiftID.value&&this.jobForm.controls.hours2.value||this.jobForm.controls.hours2.value&&"00:00"!=this.jobForm.controls.hours2.value||U.isSameOrBefore(O)?W(W(W(this.templateStartDate).clone().add(1,"days")).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}):this.templateStartDate:U.isSameOrBefore(O)&&re.isSame(de,"day")&&(this.jobForm.controls.jobEndDateTime.setValue(W(this.jobForm.controls.jobStartDateTime.value).clone().add(1,"days")),de=W(de).clone().add(1,"days"),this.setMultiDayHoursValidation(h)),re=W(W(this.isTemplate?this.templateStartDate:this.jobForm.controls.jobStartDateTime.value).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),de=W(W(this.isTemplate?T:this.jobForm.controls.jobEndDateTime.value).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),h=de.diff(re,"days"),h>0)document.getElementById("eSolveHours").readOnly=!0,this.setMultiDayHoursValidation(h),u=W.duration(U.diff(O)).add(864e5*h,"milliseconds");else{document.getElementById("eSolveHours").readOnly=!!this.jobForm.controls.shiftID.value,this.setSingleDayHoursValidation(),u=W.duration(U.diff(O))}this.hoursInMin=u.asMinutes();let Ne=Math.floor(u.asHours()).toString(),De=(Math.floor(u.asMinutes())-60*Number(Ne)).toString();Ne=Ne.length<2?"0"+Ne:Ne,De=De.length<2?"0"+De:De;const Ge=Ne+":"+De,We=1440,gt=W.duration(this.jobForm.controls.startTime.value).asMinutes();if(this.validHoursTime24h=!(this.hoursInMin>We),h>0){let rt=0;if(this.hoursInMin>=We){rt=We-gt,this.hoursInMin-=rt;let vt=W.utc(W.duration(rt,"minutes").asMilliseconds()).format("HH:mm");"00:00"==vt&&(vt="24:00"),0!=this.jobForm.controls.manualEditedHours1.value||0!=this.time1Changed||this.jobForm.controls.shiftID.value||this.jobForm.controls.hours1.setValue(vt),this.showHour1=this.showHour1="00:00"!==this.jobForm.controls.hours1.value&&null!==this.jobForm.controls.hours1.value}else{rt=We-gt,this.hoursInMin-=rt;const vt=W.utc(W.duration(rt,"minutes").asMilliseconds()).format("HH:mm");0!=this.jobForm.controls.manualEditedHours1.value||0!=this.time1Changed||this.jobForm.controls.shiftID.value||this.jobForm.controls.hours1.setValue(vt),this.showHour1=this.showHour1="00:00"!==this.jobForm.controls.hours1.value&&null!==this.jobForm.controls.hours1.value}}else this.jobForm.controls.hours1.setValue(null),this.jobForm.controls.hours1.setErrors(null),this.jobForm.controls.manualEditedHours1.setValue(!1),this.time1Changed=!1,this.showHour1=this.showHour1="00:00"!==this.jobForm.controls.hours1.value&&null!==this.jobForm.controls.hours1.value;if(h>0){let rt=0;if(this.hoursInMin>=We){this.hoursInMin-=We,rt=We;let vt=W.utc(W.duration(rt,"minutes").asMilliseconds()).format("HH:mm");"00:00"==vt&&(vt="24:00"),0!=this.jobForm.controls.manualEditedHours2.value||0!=this.time2Changed||this.jobForm.controls.shiftID.value||this.jobForm.controls.hours2.setValue(vt),this.showHour2=this.showHour2="00:00"!==this.jobForm.controls.hours2.value&&null!==this.jobForm.controls.hours2.value}else{rt=this.hoursInMin,this.hoursInMin-=rt;const vt=W.utc(W.duration(rt,"minutes").asMilliseconds()).format("HH:mm");0!=this.jobForm.controls.manualEditedHours2.value||0!=this.time2Changed||this.jobForm.controls.shiftID.value||this.jobForm.controls.hours2.setValue(vt),this.showHour2=this.showHour2="00:00"!==this.jobForm.controls.hours2.value&&null!==this.jobForm.controls.hours2.value}}else this.jobForm.controls.hours2.setValue(null),this.jobForm.controls.hours2.setErrors(null),this.jobForm.controls.manualEditedHours2.setValue(!1),this.time2Changed=!1,this.showHour2=this.showHour2="00:00"!==this.jobForm.controls.hours2.value&&null!==this.jobForm.controls.hours2.value;this.isConcurrent&&(this.showHour1=!1,this.showHour2=!1),this.validHoursTime=!0,!this.jobForm.controls.manualEditedHours.value&&!this.jobForm.controls.shiftID.value&&(this.hoursIsJustEnabled||this.jobForm.controls.hours.setValue(Ge))}}}showCustomData(){this.isConcurrent||(this.areShownCustomData?(this.areShownCustomData=!1,document.getElementById("customDataShown").style.display="none"):(this.areShownCustomData=!0,document.getElementById("customDataShown").style.display="block"))}showLoneWorkerJob(){this.isConcurrent||(this.areShownLoneWorker?(this.areShownLoneWorker=!1,document.getElementById("loneWorkerShown").style.display="none"):(this.areShownLoneWorker=!0,document.getElementById("loneWorkerShown").style.display="block"))}updateJobName(t){const i=this.jobTypes.filter(r=>r.id==t.id);this.isValidLW=!(!this.jobForm.controls.manuallyEditedLoneWorkerJob.value&&!i[0].loneWorkerJob),this.jobForm.controls.loneWorkerJob.setValue(i[0].loneWorkerJob),this.jobForm.controls.loneWorkerRecurringIntervals.setValue(i[0].loneWorkerRecurringIntervals),this.jobForm.controls.loneWorkerResponseWindow.setValue(i[0].loneWorkerResponseWindow),this.isValidAC=!(!this.jobForm.controls.manuallyEditedAttendanceConfirmation.value&&!i[0].attendanceConfirmation),this.jobForm.controls.attendanceConfirmation.setValue(i[0].attendanceConfirmation),this.jobForm.controls.attendanceTimeBeforeStart.setValue(i[0].attendanceTimeBeforeStart),this.jobForm.controls.attendanceResponseWindow.setValue(i[0].attendanceResponseWindow),this.currencACtimeBeforeStart=i[0].attendanceTimeBeforeStart,this.currencACresponseWindow=i[0].attendanceResponseWindow,this.setInherentJobTypeTradeSettings(t.id),this.jobForm.controls.name.setValue(i[0].name)}shiftChanged(t){t&&this.jobDetailsChanged();let i=[];try{i=this.shifts.filter(r=>r.id==t)}catch(r){}0==i.length||null==i?this.enableOrDisableFieldsAfterShiftChanges("enable",null):this.enableOrDisableFieldsAfterShiftChanges("disable",i)}enableOrDisableFieldsAfterShiftChanges(t,i){if("disable"===t){this.isEndDateDisabled=!0,this.jobForm.controls.startTime.setValue(i[0].startTime),this.jobForm.controls.endTime.setValue(i[0].endTime);const u=W(this.jobForm.controls.jobStartDateTime.value).clone().add(i[0].numberOfDays-1,"days").format("YYYY-MM-DD hh:mm:ss").split(" ")[0]+"T"+this.jobForm.controls.endTime.value+":00";this.jobForm.controls.jobEndDateTime.setValue(u)}const r=document.getElementById("eSolveJobEndDate"),a=document.getElementById("eSolveJobStartTime"),s=document.getElementById("eSolveJobEndTime"),l=document.getElementById("eSolveHours");if(this.isTemplate||(r.readOnly="disable"===t),a.readOnly="disable"===t,s.readOnly="disable"===t,l.readOnly="disable"===t,"disable"===t){this.clearHoursFields(),this.jobForm.controls.hours.setValue(i[0].hours);document.getElementById("eSolveHours").readOnly=i[0].numberOfDays>0,i[0].numberOfDays>1&&(this.jobForm.controls.hours1.setValue(i[0].hours1),this.showHour1=this.showHour1="00:00"!==this.jobForm.controls.hours1.value&&null!==this.jobForm.controls.hours1.value,this.jobForm.controls.hours2.setValue(i[0].hours2),this.showHour2=this.showHour2="00:00"!==this.jobForm.controls.hours2.value&&null!==this.jobForm.controls.hours2.value,this.jf.hours1.disable(),this.jf.hours2.disable(),this.jobForm.controls.manualEditedHours.setValue(!0),this.jobForm.controls.manualEditedHours1.setValue(!0),this.jobForm.controls.manualEditedHours2.setValue(!0),this.setMEHOnTrue())}else{this.isEndDateDisabled=!1;try{null!=this.jf.hours1.value?(l.readOnly=!0,this.jf.hours1.enable(),this.jf.hours2.enable()):l.readOnly=!1}catch(c){}}this.isConcurrent&&(this.showHour1=!1,this.showHour2=!1),this.validHoursTime24h=!0}clearHoursFields(){this.jobForm.controls.hours1.setValue(null),this.jobForm.controls.hours1.setErrors(null),this.jobForm.controls.manualEditedHours1.setValue(!1),this.time1Changed=!1,this.showHour1=!1,this.jobForm.controls.hours2.setValue(null),this.jobForm.controls.hours2.setErrors(null),this.jobForm.controls.manualEditedHours2.setValue(!1),this.time2Changed=!1,this.showHour2=!1}clearSelection(t){switch(t){case"Assign":this.employeesAssign.forEach(i=>{i.isSelected=!1;const r=this.removeListEmployees.findIndex(a=>a.employeeID==i.id);-1!=r&&this.removeListEmployees.splice(r,1)});break;case"Invalid":this.employeesInvalid.forEach(i=>{i.isSelected=!1;const r=this.removeListEmployees.findIndex(a=>a.employeeID==i.id);-1!=r&&this.removeListEmployees.splice(r,1)});break;case"Available":this.employeesAvailable.forEach(i=>{i.isSelected=!1;const r=this.removeListEmployees.findIndex(a=>a.employeeID==i.id);-1!=r&&this.removeListEmployees.splice(r,1)});break;case"Unavailable":this.employeesUnavailable.forEach(i=>{i.isSelected=!1;const r=this.removeListEmployees.findIndex(a=>a.employeeID==i.id);-1!=r&&this.removeListEmployees.splice(r,1)})}}selectWithCtrl(t,i,r){if(i.agencyJobAssignmentID>0)return;const a=t.ctrlKey;if((a||t.metaKey)&&1!=i.isSelected)switch(r){case"Assign":this.employeesAssign.forEach(s=>{s.id==i.id&&(s.isSelected=!0,this.removeListEmployees.push({employeeID:s.id,canBeAssignedOrUnassigned:i.canBeAssignedOrUnassigned,jobID:this.jobForm.controls.id.value}))});break;case"Invalid":this.employeesInvalid.forEach(s=>{s.id==i.id&&(s.isSelected=!0,this.removeListEmployees.push({employeeID:s.id,canBeAssignedOrUnassigned:s.canBeAssignedOrUnassigned,jobID:this.jobForm.controls.id.value}))});break;case"Available":this.employeesAvailable.forEach(s=>{s.id==i.id&&(s.isSelected=!0,this.removeListEmployees.push({employeeID:s.id,canBeAssignedOrUnassigned:s.canBeAssignedOrUnassigned,jobID:this.jobForm.controls.id.value}))});break;case"Unavailable":this.employeesUnavailable.forEach(s=>{s.id==i.id&&(s.isSelected=!0,this.removeListEmployees.push({employeeID:s.id,canBeAssignedOrUnassigned:s.canBeAssignedOrUnassigned,jobID:this.jobForm.controls.id.value}))})}else if(a&&0!=i.isSelected){i.isSelected=!1;const s=this.removeListEmployees.findIndex(l=>l.employeeID==i.id);this.removeListEmployees.splice(s,1)}}selectWithDoubleClick(t,i){if(!(t.agencyJobAssignmentID>0||this.areListsReadOnly)){if(!this.canAssignFromUnavailable&&"Unavailable"==i)return void this._messageService.open("You cannot assign Employees from Unavailable list.");switch(this.listIsFull=!1,this.removeListEmployees.length=0,i){case"Assign":this.employeesAssign.forEach(r=>{r.id==t.id&&this.removeListEmployees.push({employeeID:r.id,canBeAssignedOrUnassigned:t.canBeAssignedOrUnassigned,jobID:this.jobForm.controls.id.value})});break;case"Invalid":this.employeesInvalid.forEach(r=>{r.id==t.id&&this.removeListEmployees.push({employeeID:r.id,canBeAssignedOrUnassigned:r.canBeAssignedOrUnassigned,jobID:this.jobForm.controls.id.value})});break;case"Available":this.employeesAvailable.forEach(r=>{r.id==t.id&&this.removeListEmployees.push({employeeID:r.id,canBeAssignedOrUnassigned:r.canBeAssignedOrUnassigned,jobID:this.jobForm.controls.id.value})});break;case"Unavailable":this.employeesUnavailable.forEach(r=>{r.id==t.id&&this.removeListEmployees.push({employeeID:r.id,canBeAssignedOrUnassigned:r.canBeAssignedOrUnassigned,jobID:this.jobForm.controls.id.value})})}if(this.removeListEmployees.some(r=>!r.canBeAssignedOrUnassigned))this._messageService.open("You don't have access to manage the selected employee."),this.refreshEmployeesList("allEmployees");else if("Assign"==i||"Invalid"==i)this.unassignSelectedEmployees(i);else if("Available"==i||"Unavailable"==i)if(this.isUnavailableListCurrent){let r;this.isOverrideAssignmentDialogOpen=!0,this.jobService.getRuleBrokenMessage(this.removeListEmployees,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(a=>{r=a,this.dialog.open(hp,{autoFocus:!1,disableClose:!0,data:{messages:r,infoFlag:!1},width:"650px",panelClass:["max-height96"]}).afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(l=>{hp.overridesAssignmentFlag?this.assignSelectedEmployees(i,r):(this.removeListEmployees=new Array,this.listIsFull=!0),this.isOverrideAssignmentDialogOpen=!1})},a=>{this._messageService.open(a),this.refreshEmployeesList("allEmployees")})}else this.assignSelectedEmployees(i,null)}}selectEmployee(t){if(t.isSelected){t.isSelected=!1;const i=this.removeListEmployees.findIndex(r=>r.employeeID==t.id);this.removeListEmployees.splice(i,1)}else t.isSelected=!0,this.removeListEmployees.push({employeeID:t.id,canBeAssignedOrUnassigned:t.canBeAssignedOrUnassigned,jobID:this.jobForm.controls.id.value})}unassignSelectedEmployees(t){const i=new Array;0!=this.removeListEmployees.length&&(this.listIsFull=!1,this.removeListEmployees.forEach(r=>{i.push(new MN(r.employeeID,r.jobID,r.canBeAssignedOrUnassigned,this.data.cached))}),this.jobService.removeListEmployees(this.removeListEmployees,this.isTemplate).subscribe(r=>{this.removeListEmployees=new Array,"Available"==t?this.employeesAvailable.forEach(a=>{a.isSelected=!1}):"Unavailable"==t&&this.employeesUnavailable.forEach(a=>{a.isSelected=!1}),this.refreshEmployeesList("allEmployees")},r=>{this._messageService.open(r),this.refreshEmployeesList("allEmployees")}))}assignSelectedEmployeeOnButton(t){if(0!=this.removeListEmployees.length){if(!this.canAssignFromUnavailable&&"Unavailable"==t)return this.clearSelection(t),void this._messageService.open("You cannot assign Employees from Unavailable list.");if(this.removeListEmployees.some(i=>!i.canBeAssignedOrUnassigned))this._messageService.open("You don't have access to manage the selected employee."),this.refreshEmployeesList("allEmployees");else if(this.isUnavailableListCurrent){let i;this.listIsFull=!1,this.isOverrideAssignmentDialogOpen=!0,this.jobService.getRuleBrokenMessage(this.removeListEmployees,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{i=r,this.dialog.open(hp,{autoFocus:!1,disableClose:!0,data:{messages:i,infoFlag:!1,multiple:!0},width:"685px",panelClass:["max-height96"]}).afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(s=>{hp.overridesAssignmentFlag?this.assignSelectedEmployees(t,i):(this.clearSelection(t),this.removeListEmployees=new Array,this.listIsFull=!0),this.isOverrideAssignmentDialogOpen=!1})},r=>{this._messageService.open(r),this.refreshEmployeesList("allEmployees")})}}}assignSelectedEmployees(t,i){0!=this.removeListEmployees.length&&(this.listIsFull=!1,this.jobService.assignEmployeesToJob(this.removeListEmployees,i,this.data.cached,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{this.removeListEmployees=new Array,"Assign"==t?this.employeesAssign.forEach(a=>{a.isSelected=!1}):"Invalid"==t&&this.employeesInvalid.forEach(a=>{a.isSelected=!1}),this.refreshEmployeesList("allEmployees")},r=>{this.refreshEmployeesList("allEmployees")}))}getAllEmployees(t){this.listIsFull=!1,this.assignedListForTooltip=[],this.invalidListForTooltip=[],this.availableListForTooltip=[],this.unavailableListForTooltip=[];const i=this.newJob&&this.newJobCounter<2;return new A.y(r=>{this.jobService.getAllEmployeesList(this.jobForm.controls.id.value,this.data.startDate,this.data.endDate,t,this.initialSearchText,this.allListsPage,this.returnLimit,this.data.cached,i,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(a=>{this.newJob=!1,this.setBackground(a.status),this.resetListPositions(),this.employeesAssign=[...a.validAssigned],this.asgnEmpls.next(this.employeesAssign),this.assignEmployeeNo=a.totalCountOfValid,this.shouldShowAgencySegment=this.assignEmployeeNo<this.jobForm.controls.noOfEmployeesRequired.value,this.employeesInvalid=[...a.invalidAssigned],this.invEmpls.next(a.invalidAssigned),this.invalidEmployeesNo=a.totalCountOfInvalid,this.employeesAvailable=[...a.available],this.avlblEmpls.next(a.available),this.availableEmployeesNo=a.totalCountOfAvailable,this.employeesUnavailable=[...a.unavailable],this.unavlblEmpls.next(a.unavailable),this.unavailableEmployeesNo=a.totalCountOfUnavailable,this.keys.forEach(s=>{this.employeesAssign.length>0&&this.setValidEmployeeInfo(s,!1),this.employeesInvalid.length>0&&this.setInvalidEmployeeInfo(s,!1),this.employeesAvailable.length>0&&this.setAvailableEmployeeInfo(s,!1),this.employeesUnavailable.length>0&&this.setUnavailableEmployeeInfo(s,!1)}),this.listIsFull=!0})})}sliceFieldValue(t,i){return("StartDate"==i||"LeaveDate"==i||"DateOfBirth"==i)&&null!=t.employeeInfo[0][i]&&(t.employeeInfo[0][i]=W(t.employeeInfo[0][i]).format(ai.YG)),"AllowedTrade"==i&&null!=t.employeeInfo[0][i]&&(t.employeeInfo[0][i]=t.employeeInfo[0][i]?"Yes":"No"),t}checkIfValueIsAnObject(t){return"[object Object]"===Object.prototype.toString.call(t)}refreshAssociatedListFull(){this.isConcurrent&&!this.allAssociatedIdShowed&&(this.oboj(this.oldSelectedStartOfGreenPart,this.oldSelectedEndOfGreenPart,"#7BB648","pointer"),this.oldSelectedStartOfGreenPart=0,this.oldSelectedEndOfGreenPart=0,this.getAssociatedEmployeesForSelectedRange(this.startJobTimeMin,this.endJobTimeMin),this.allAssociatedIdShowed=!0)}getAssociatedEmployees(){return this.listIsFull=!1,new A.y(t=>{this.jobService.getAssociatedEmployeesList(this.jobForm.controls.id.value,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.dataConcurrent=i,this.allAssociatedIdShowed=!1,this.getAssociatedEmployeesForSelectedRange(this.startJobTimeMin,this.endJobTimeMin)})})}convertStringToMinutes(t){const i=this.jobForm.controls.jobStartDateTime.value.split("T")[0].split("-"),r=t.split("T"),a=r[0].split("-"),l=r[1].split(":"),h=i[1]+"/"+i[2]+"/"+i[0]+" 00:00:00",x=Date.parse(a[1]+"/"+a[2]+"/"+a[0]+" "+l[0]+":"+l[1]+":00 UTC")-Date.parse(h+" UTC");return Math.round(x/1e3/60)}changedHours(){if(this.timeChanged=!0,-1!==this.jobForm.controls.hours.value.indexOf(":")){const i=this.jobForm.controls.hours.value.split(":")[1];this.validHoursTime=!(Number(i)>59)}}changedHoursPartly(t){switch(t){case 1:this.time1Changed=!0;break;case 2:this.time2Changed=!0;break;case 3:this.time3Changed=!0;break;case 4:this.time4Changed=!0;break;case 5:this.time5Changed=!0;break;case 6:this.time6Changed=!0}}checkIsHoursChanged(t){if(4==this.jobForm.controls[t.target.name].value.length){let i=this.jobForm.controls[t.target.name].value;i=i[0]+i[1]+":"+i[2]+i[3],this.jobForm.controls[t.target.name].setValue(i),this.hoursChangedDynamically()}}hoursChangedDynamically(){let t;try{t=this.jf.shift.value}catch(i){t=0}if(!t){let i;const r=W(this.jobForm.controls.jobStartDateTime.value),a=W(this.jobForm.controls.jobEndDateTime.value),s=W(this.jobForm.controls.startTime.value,"HH:mm"),l=W(this.jobForm.controls.endTime.value,"HH:mm");let c,u;if(this.isTemplate?(c=W(W(W(this.templateStartDate).clone().add(1,"days")).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),i=W(c).diff(this.templateStartDate)):i=a.diff(r),i>0&&(this.jobForm.controls.hours1.value||this.jobForm.controls.hours2.value)){W.duration(i).asMinutes()>1560?this.jobForm.controls.jobEndDateTime.setErrors({maxDifference:!0}):this.jobForm.controls.jobEndDateTime.setErrors(null);const h=W.duration(this.jobForm.controls.hours1.value).asMinutes(),x=W.duration(this.jobForm.controls.hours2.value).asMinutes(),O=W.duration(h+x,"minutes");let U=Math.floor(O.asHours()).toString(),re=(Math.floor(O.asMinutes())-60*Number(U)).toString();U=U.length<2?"0"+U:U,re=re.length<2?"0"+re:re,u=U+":"+re}else{const h=W.duration(l.diff(s));let x=Math.floor(h.asHours()).toString(),T=(Math.floor(h.asMinutes())-60*Number(x)).toString();x=x.length<2?"0"+x:x,T=T.length<2?"0"+T:T,u=x+":"+T}"NaN:NaN"!==u&&this.jobForm.controls.hours.setValue(u)}}drop(t){if(t.previousContainer.id===t.container.id){if(t.previousIndex!=t.currentIndex)switch((0,oo.bA)(t.container.data,t.previousIndex,t.currentIndex),t.item.data.status){case"Assigned":this.asgnEmpls.next(this.employeesAssign);break;case"Invalid":this.invEmpls.next(this.employeesInvalid);break;case"Available":this.avlblEmpls.next(this.employeesAvailable),this.onClEmpls.next(this.employeesAvailable);break;case"Unavailable":this.unavlblEmpls.next(this.employeesUnavailable)}}else if(this.listIsFull=!1,(0,oo.EA)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),"Assigned"==t.item.data.status||"Invalid"==t.item.data.status)this.jobService.removeAssignment(t.item.data.id,t.item.data.canBeAssignedOrUnassigned,this.jobForm.controls.id.value,this.data.cached,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{t.item.data.isSelected=!1;const i=this.removeListEmployees.findIndex(r=>r.employeeID==t.item.data.id);this.removeListEmployees.splice(i,1),this.refreshEmployeesList("allEmployees")},i=>{this._messageService.open(i),this.refreshEmployeesList("allEmployees")});else if(this.isUnavailableListCurrent){let i;this.isOverrideAssignmentDialogOpen=!0,this.isOverrideAssignmentDialogOpen=!0,this.jobService.getRuleBrokenMessage([{employeeID:t.item.data.id,jobID:this.jobForm.controls.id.value}],this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(a=>{i=a,this.dialog.open(hp,{autoFocus:!1,disableClose:!0,data:{messages:i,infoFlag:!1},width:"650px",panelClass:["max-height96"]}).afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{hp.overridesAssignmentFlag?this.assignEmployee(this.jobForm.controls.id.value,t.item.data,i):(this.removeListEmployees=new Array,this.listIsFull=!0),this.isOverrideAssignmentDialogOpen=!1})},a=>{this._messageService.open(a),this.refreshEmployeesList("allEmployees")})}else this.assignEmployee(this.jobForm.controls.id.value,t.item.data,null)}showOverrideInfo(t,i,r){const a=new FF(null,[t],this.data.cached);(null==a.brokenRules[0].employees[0].employeeFirstNameAndLastname||""==a.brokenRules[0].employees[0].employeeFirstNameAndLastname)&&(a.brokenRules[0].employees[0].employeeFirstNameAndLastname=i);const s=new RF(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,[a],null);this.dialog.open(hp,{autoFocus:!1,disableClose:!0,data:{messages:s,infoFlag:!0,listName:r},width:"auto",panelClass:["max-height96"]})}assignEmployee(t,i,r){this.jobService.assignEmployeeToJob(t,i.id,i.canBeAssignedOrUnassigned,r,this.data.cached,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(a=>{i.isSelected=!1;const s=this.removeListEmployees.findIndex(l=>l.employeeID==i.id);this.removeListEmployees.splice(s,1),this.refreshEmployeesList("allEmployees")},a=>{this._messageService.open(a),this.refreshEmployeesList("allEmployees")})}getJobTypes(){this.jobTypeService.getAll().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.jobTypes=t,this.populateForm()})}getShifts(){const t=this.data.jobEdit?this.data.jobEdit:0;this._userRoleService.loggedUserId.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.loggedUserID=i,this.shiftService.getUserShifts(this.loggedUserID,t,this.isTemplate).subscribe(r=>{this.shifts=r.shifts,this.canUserChangeShift=r.canAccess;for(let a=0;a<this.shifts.length;a++)this.shifts[a].group=r.shifts[a].shiftsGroup.name;this.shifts.length>0&&(this.shiftDataExist=!0,(!this.canUserAccessShifts||!this.canUserChangeShift)&&this.jobForm.controls.shiftID.disable()),this.shiftLoaded=!0})})}sanitizeExisting(t){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+t)}handleKeyboardEvent(t){13===t.keyCode&&0==this.disabledSaveButton&&(this.jobNameInput.nativeElement.focus(),this.saveJob(!0))}getDayOfTheWeekForTemplates(t){switch(t){case 1:this.templateStartDate=W(this.templateJobDay7toDay1?W(this.firstDayOfTheWeek).add(-1,"days"):this.firstDayOfTheWeek);break;case 2:this.templateStartDate=W(W(this.firstDayOfTheWeek).add(1,"days")).clone().format("YYYY-MM-DD");break;case 3:this.templateStartDate=W(W(this.firstDayOfTheWeek).add(2,"days")).clone().format("YYYY-MM-DD");break;case 4:this.templateStartDate=W(W(this.firstDayOfTheWeek).add(3,"days")).clone().format("YYYY-MM-DD");break;case 5:this.templateStartDate=W(W(this.firstDayOfTheWeek).add(4,"days")).clone().format("YYYY-MM-DD");break;case 6:this.templateStartDate=W(W(this.firstDayOfTheWeek).add(5,"days")).clone().format("YYYY-MM-DD");break;case 7:this.templateStartDate=W(W(this.firstDayOfTheWeek).add(6,"days")).clone().format("YYYY-MM-DD")}}saveJob(t){if(this.isOverrideAssignmentDialogOpen)this.isOverrideAssignmentDialogOpen=!1;else if(this.isJobEditable)if(this.jobForm.controls.attendanceConfirmation.value||(this.jobForm.controls.attendanceTimeBeforeStart.setValue(null,{emitEvent:!1}),this.jobForm.controls.attendanceResponseWindow.setValue(null,{emitEvent:!1})),this.isTemplate?(this.jobForm.controls.jobStartDateTime.setErrors(null),this.jobForm.controls.jobEndDateTime.setErrors(null),this.jobForm.controls.day.enable(),this.getDayOfTheWeekForTemplates(this.jobForm.controls.day.value)):(this.jobForm.controls.day.disable(),this.jobForm.controls.day.setErrors(null),this.jobForm.controls.day.markAsUntouched()),this.loneWorkerValidation(),this.dataLoaded=!1,Object.keys(this.jobForm.controls).forEach(i=>{this.jobForm.get(i).markAsTouched({onlySelf:!0})}),this.jobForm.valid&&this.validHoursTime&&this.validHoursTime24h&&!this.customDataHasValidationErrors&&this.validJobStartDate&&this.validJobEndDate&&!this.invalidDatesOverlap){this.jobForm.controls.isCached.setValue(this.data.cached),this.hoursIsJustEnabled=!0,this.jobForm.enable(),this.toggleCopyOptions();const i=[this.jobForm.controls.hours1,this.jobForm.controls.hours2];this.hoursIsJustEnabled=!1,i.forEach(x=>{x.value||x.disable()});const r=W(this.jobForm.controls.startTime.value,"HH:mm"),a=W(this.jobForm.controls.endTime.value,"HH:mm");let s;this.isTemplate&&(s=this.jobForm.controls.shiftID.value&&this.jobForm.controls.hours2.value||this.jobForm.controls.hours2.value&&"00:00"!=this.jobForm.controls.hours2.value?W(W(W(this.templateStartDate).clone().add(1,"days")).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}):a.isBefore(r)||a.isSame(r)?W(W(W(this.templateStartDate).add(1,"days")).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}):this.templateStartDate);const l=W(this.jobForm.controls.jobStartDateTime.value).format("YYYY-MM-DD"),c=W(this.jobForm.controls.jobEndDateTime.value).format("YYYY-MM-DD"),u=W(this.templateStartDate).format("YYYY-MM-DD"),h=W(s).format("YYYY-MM-DD");this.jobForm.controls.jobStartDateTime.setValue((0,wt.wo)(this.isTemplate?u:l,this.jobForm.controls.startTime.value)),this.jobForm.controls.jobEndDateTime.setValue((0,wt.wo)(this.isTemplate?h:c,this.jobForm.controls.endTime.value)),this.isTemplate&&(W(this.templateStartDate).isBefore(this.subGroupDateRange.start)||W(s).isAfter(this.subGroupDateRange.end))?(this._messageService.open(this.message.templateSubgroupWarning),this.jobForm.controls.day.setErrors({jobOutsideSGDateRange:!0})):(t&&(this.disabledSaveButton=!0),this.jf.shiftID.value?(this.jobForm.controls.manualEditedHours.setValue(!0),this.jobForm.controls.manualEditedHours1.setValue(!0),this.jobForm.controls.manualEditedHours2.setValue(!0),this.setMEHOnTrue()):(this.jobForm.controls.hours.value!==this.initialHours&&!0===this.timeChanged&&(this.jobForm.controls.manualEditedHours.setValue(!0),this.setMEHOnTrue()),this.jobForm.controls.hours1.value!==this.initialHours1&&!0===this.time1Changed&&(this.jobForm.controls.manualEditedHours1.setValue(!0),this.setMEHOnTrue()),this.jobForm.controls.hours2.value!==this.initialHours2&&!0===this.time2Changed&&(this.jobForm.controls.manualEditedHours2.setValue(!0),this.setMEHOnTrue())),this.templateJobDay7toDay1&&this.jobForm.controls.day.setValue(7),this.isCreate?this.jobService.create(this.jobForm.value,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(x=>{this.jobForm.controls.id.setValue(x),this.refreshClicked?(this.isCreate=!1,this.data.jobEdit=this.jobForm.controls.id.value,this.getJobTypes(),this.getShifts(),this.disabledSaveButton=!1,this.changesInProgress=!1,this.refreshClicked=!1,this.templateJobDay7toDay1&&this.jobForm.controls.day.setValue(7),this.resetAgencyFormFields()):this.copyJob()},x=>{this._messageService.open(x),this.disabledSaveButton=!1,this.changesInProgress=!1,this.refreshClicked=!1,this.templateJobDay7toDay1=!1}):this.jobService.edit(this.jobForm.value,this.jobForm.controls.id.value,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(x=>{this.refreshClicked?(this.getShifts(),this.getJobTypes(),this.disabledSaveButton=!1,this.changesInProgress=!1,this.refreshClicked=!1,this.templateJobDay7toDay1&&this.jobForm.controls.day.setValue(7),this.resetAgencyFormFields()):this.copyJob()},x=>{this._messageService.open(x),this.disabledSaveButton=!1,this.changesInProgress=!1,this.refreshClicked=!1,this.templateJobDay7toDay1=!1}))}else this._messageService.open(this.message.fillForm);else this.dialogRef.close()}copyJob(){if(""!=this.jobForm.controls.numberOfDays.value&&null!=this.jobForm.controls.numberOfDays.value||""!=this.jobForm.controls.copyToDate.value&&null!=this.jobForm.controls.copyToDate.value){const t={originalJobId:this.jobForm.controls.id.value,excludeWeekends:"true",copyAssignedEmployees:"true"};if(""!=this.jobForm.controls.numberOfDays.value&&null!=this.jobForm.controls.numberOfDays.value)t.numberOfDays=this.jobForm.controls.numberOfDays.value,t.copyToDate=null;else if(""!=this.jobForm.controls.copyToDate.value&&null!=this.jobForm.controls.copyToDate.value){t.numberOfDays=null;const i=this.jobForm.controls.copyToDate.value;this.getCopyDayOfTheWeekForTemplates(i),t.copyToDate=new Date(W(this.isTemplate?this.templateCopyDay:i).clone().format("YYYY-MM-DD"))}(""==this.jobForm.controls.excludeWeekends.value||null==this.jobForm.controls.excludeWeekends.value)&&(t.excludeWeekends="false"),(""==this.jobForm.controls.copyAssignedEmployees.value||null==this.jobForm.controls.copyAssignedEmployees.value)&&(t.copyAssignedEmployees="false"),this._copyJobService.create(t,this.isTemplate).subscribe(i=>{this._messageService.open(i),this.dialogRef.close()},i=>{this._messageService.open(i)})}else this.dialogRef.close()}getCopyDayOfTheWeekForTemplates(t){switch(t){case 1:this.templateCopyDay=W(this.templateJobDay7toDay1?W(this.firstDayOfTheWeek).add(-1,"days"):this.firstDayOfTheWeek);break;case 2:this.templateCopyDay=W(W(this.firstDayOfTheWeek).add(1,"days")).clone().format("YYYY-MM-DD");break;case 3:this.templateCopyDay=W(W(this.firstDayOfTheWeek).add(2,"days")).clone().format("YYYY-MM-DD");break;case 4:this.templateCopyDay=W(W(this.firstDayOfTheWeek).add(3,"days")).clone().format("YYYY-MM-DD");break;case 5:this.templateCopyDay=W(W(this.firstDayOfTheWeek).add(4,"days")).clone().format("YYYY-MM-DD");break;case 6:this.templateCopyDay=W(W(this.firstDayOfTheWeek).add(5,"days")).clone().format("YYYY-MM-DD");break;case 7:this.templateCopyDay=W(W(this.firstDayOfTheWeek).add(6,"days")).clone().format("YYYY-MM-DD")}}refreshEmployeesList(t){this.newJobCounter+=1,this.listIsFull=!1,[this.searchAvailableList,this.searchUnavailableList,this.searchAssignedList,this.searchInvalidList,this.searchText].forEach(r=>{r.value&&r.setValue("",{emitEvent:!1})}),this.resetLists(),"allEmployees"==t?(0,nS.D)(this.getAllEmployees("all")).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.listIsFull=!0}):(this.setTimeOfGreenPartForDisplay(this.jobForm.controls.jobStartDateTime.value,this.jobForm.controls.jobEndDateTime.value),this.startJobTimeMin=this.convertStringToMinutes(this.jobForm.controls.jobStartDateTime.value),this.endJobTimeMin=this.convertStringToMinutes(this.jobForm.controls.jobEndDateTime.value),this.numbOfDivs=this.endJobTimeMin-this.startJobTimeMin,this.onePercent=100/this.numbOfDivs,(0,nS.D)(this.getAssociatedEmployees()).pipe((0,H.R)(this._ngUnsubscribe)).subscribe())}paintDivs(){const t=setInterval(()=>{if(null!=document.getElementById(this.endJobTimeMin+"")&&this.dataLoaded){clearInterval(t);for(let r=this.startJobTimeMin;r<=this.endJobTimeMin;r++){const a=document.getElementById(r+"");this.renderer.setStyle(a,"background-color","#C92D3A"),this.renderer.setStyle(a,"cursor","context-menu")}this.dataConcurrent.forEach(r=>{this.oboj(this.convertStringToMinutes(r.startDate),this.convertStringToMinutes(r.endDate),"#7BB648","pointer")}),this.listIsFull=!0,this.dataLoaded=!1}},20)}oboj(t,i,r,a){for(let s=t;s<=i;s++)try{const l=document.getElementById(s+"");this.renderer.setStyle(l,"background-color",r),this.renderer.setStyle(l,"cursor",a)}catch(l){}}pickTimeInTimeline(t){const i=t.srcElement;if("rgb(123, 182, 72)"===i.style.backgroundColor){let s=0,l=0;const c=Number(i.id);for(let u=c;u<=this.endJobTimeMin;u++){const h=document.getElementById(u+"");if(u!=this.endJobTimeMin||"rgb(123, 182, 72)"!=h.style.backgroundColor){if("rgb(123, 182, 72)"==h.style.backgroundColor)continue;l=u-1;break}l=u}for(let u=c;u>=this.startJobTimeMin;u--){const h=document.getElementById(u+"");if(u!=this.startJobTimeMin||"rgb(123, 182, 72)"!=h.style.backgroundColor){if("rgb(123, 182, 72)"==h.style.backgroundColor)continue;s=u+1;break}s=u}this.allAssociatedIdShowed=!1,this.getAssociatedEmployeesForSelectedRange(s,l),0!=this.oldSelectedStartOfGreenPart&&0!=this.oldSelectedEndOfGreenPart&&this.oboj(this.oldSelectedStartOfGreenPart,this.oldSelectedEndOfGreenPart,"#7BB648","pointer"),this.oboj(s,l,"var(--eSolve-green)","context-menu"),this.oldSelectedStartOfGreenPart=s,this.oldSelectedEndOfGreenPart=l}}getAssociatedEmployeesForSelectedRange(t,i){const r=this.getTimeFromNumber(t),a=this.getTimeFromNumber(i);this.setTimeOfGreenPartForDisplay(r,a),this.jobService.getSelectedAssociatedEmployeeList(this.jobForm.controls.id.value,r,a,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(s=>{this.associatedEmployees=s,null!=this.associatedEmployees&&(this.associatedEmployeesNo=this.associatedEmployees.length),this.dataLoaded=!0})}getTimeFromNumber(t){const i=(t-t%1440)/1440;let a="";if(i>0){t-=1440*i,a=this.jobForm.controls.jobStartDateTime.value.split("T")[0].split("-");const T=new Date(a[1]+"/"+a[2]+"/"+a[0]);T.setDate(T.getDate()+i),a=(0,D.p6)(T,"yyyy-MM-dd","en-US")}else a=this.jobForm.controls.jobStartDateTime.value.split("T")[0];const l=(t/60+"").split("."),c=Number(l[0]),u=t-60*c;let h="";return h=1==c.toString().length?"0"+c+":":c+":",h=1==u.toString().length?h+"0"+u+":00":h+u+":00",a+"T"+h}setTimeOfGreenPartForDisplay(t,i){const r=t.split("T"),a=i.split("T");if(r[0]===a[0])this.startOfGreenPart=r[1].substring(0,5);else{const l=r[0].split("-");this.startOfGreenPart=r[1].substring(0,5)+" "+l[2]+"/"+l[1]+"/"+l[0]}const s=a[0].split("-");this.endOfGreenPart=a[1].substring(0,5)+" "+s[2]+"/"+s[1]+"/"+s[0]}closeDialog(){this.listIsFull&&this.dialogRef.close()}changeNotes(){this.isConcurrent||(this.notesInput=!this.notesInput,document.getElementById("addCommentShown").style.display=this.notesInput?"block":"none")}toggleAttendanceDetails(){this.isConcurrent||(this.attendanceDetailsShown=!this.attendanceDetailsShown,document.getElementById("attendanceDetailsSegment").style.display=this.attendanceDetailsShown?"block":"none")}toggleAgencyDetails(){this.isConcurrent||(this.agencyDetailsShown=!this.agencyDetailsShown,document.getElementById("assignAgencyDetailsSegment").style.display=this.agencyDetailsShown?"block":"none")}isNotesNull(){this.notesInput=!this.jobForm.controls.notes.value}setBackground(t){t&&(this.description&&this.renderer.setStyle(this.description.nativeElement,"background-color",t.primaryColor),this.jobForm.controls.jobStatusID.setValue(t.id),this.jobForm.controls.jobStatus.setValue(t),this.jobStatus=t)}openJobTypeDialog(){this.jobForm.controls.jobTypeID.value>0&&this.isJobEditable?(this._dialogRef=this.dialog.open(uS,{panelClass:"job-type-details-dialog",disableClose:!0,width:"820px",data:{jobTypeId:this.jobForm.controls.jobTypeID.value,jobTypeName:this.jobForm.controls.name.value,permissionToMaintainJobTypes:this.canMaintainJobTypes}}),this._dialogRef.afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{"success"===t.state&&t.changes&&(this.jobForm.controls.allowedTrade.value===t.tradeChanged||this.jobForm.controls.manualEditedAllowedTrade.value||this.jobForm.controls.allowedTrade.setValue(t.tradeChanged,{emitEvent:!1}),this.jobDetailsChanged())})):this._messageService.open("You must select Job Type first")}jobDetailsChanged(){this.changesInProgress=!0}clickedRefresh(){this.refreshClicked=!0}get jf(){return this.jobForm.controls}get af(){return this.agencyForm.controls}isConcurrentJob(t){this.isConcurrent=!0===t,this.isConcurrent?(this.showHour1=!1,this.showHour2=!1,this.allAssociatedIdShowed=!1,this.jobForm.controls.isCriticalTask.setValue(!1),this.jobForm.controls.allowedTrade.setValue(!1),this.jobForm.controls.isCriticalTask.disable(),this.jobForm.controls.allowedTrade.disable(),this.jobForm.controls.referenceArea.setValidators([_.kI.required]),this.jobDetailsChanged()):(this.jobForm.controls.hours1.value&&(this.showHour1=!0),this.jobForm.controls.hours2.value&&(this.showHour2=!0),this.jobForm.controls.isCriticalTask.enable(),this.jobForm.controls.allowedTrade.enable(),this.jobForm.controls.referenceArea.setValue(null),this.jobForm.controls.referenceArea.clearValidators(),this.jobForm.controls.referenceArea.markAsUntouched(),this.jobForm.controls.referenceArea.setErrors(null),this.jobDetailsChanged())}createRange(){const t=[];for(let i=this.startJobTimeMin;i<=this.endJobTimeMin;i++)t.push(i);return t}firstTabChanged(t){this.isInvalidListCurrent=1===t.index}secondTabChanged(t){this.isUnavailableListCurrent=1===t.index}setDefaultStartDate(){const t=W(this.jobForm.controls.jobStartDateTime.value).set({hour:0,minute:0,second:0,millisecond:0});W(this.jobForm.controls.jobEndDateTime.value).set({hour:0,minute:0,second:0,millisecond:0}).isBefore(t)&&this.jobForm.controls.jobStartDateTime.setValue(this.jobForm.controls.jobEndDateTime.value)}setDefaultEndDate(){if(this.jobForm.controls.jobEndDateTime.value||this.jobForm.controls.jobEndDateTime.setValue(this.jobForm.controls.jobStartDateTime.value),this.jobForm.controls.jobStartDateTime.value&&this.jobForm.controls.jobEndDateTime.value){const t=W(this.jobForm.controls.jobStartDateTime.value).set({hour:0,minute:0,second:0,millisecond:0});W(this.jobForm.controls.jobEndDateTime.value).set({hour:0,minute:0,second:0,millisecond:0}).isBefore(t)&&this.jobForm.controls.jobEndDateTime.setValue(this.jobForm.controls.jobStartDateTime.value)}this.jobForm.controls.jobStartDateTime.value&&this.jobForm.controls.jobStartDateTime.valid?this.shiftChanged(this.jf.shiftID.value):this.jobForm.controls.shiftID.disable()}setSingleDayHoursValidation(){this.hoursFieldMaxLength=this.singleDayJobMaxLength}setMultiDayHoursValidation(t){this.hoursFieldMaxLength=t>=42?this.multiDayJobMaxLength+1:this.multiDayJobMaxLength}customDataChanges(t){9!==t.keyCode&&16!==t.keyCode&&17!==t.keyCode&&18!==t.keyCode&&20!==t.keyCode&&this.jobDetailsChanged()}filterHoursInput(t){const i=(0,wt.C$)(t.key);8!==t.keyCode&&9!==t.keyCode&&46!==t.keyCode&&(i||t.preventDefault())}getNextBatch(t,i){let r;switch(this.currentSearchList){case"valid":r=this.searchAssignedList.value;break;case"invalid":r=this.searchInvalidList.value;break;case"available":r=this.searchAvailableList.value;break;case"unavailable":r=this.searchUnavailableList.value}this.jobService.getAllEmployeesList(this.jobForm.controls.id.value,this.data.startDate,this.data.endDate,t,r,i,this.returnLimit,this.data.cached,this.newJob&&this.newJobCounter<2,this.isTemplate).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(s=>{switch(this.newJob=!1,t){case"valid":this.listIsFull=!1,this.assignedListForTooltip=[],this.searchAssignedList.value?(this.assignEmployeeNo=s.totalCountOfValid,this.employeesAssign=[...s.validAssigned]):this.assignedSearchCleared?(this.employeesAssign=[],this.assignEmployeeNo=s.totalCountOfValid,this.assignedSearchCleared=!1,this.getNextBatch("valid",1)):s.validAssigned.forEach(l=>{this.employeesAssign=[...this.employeesAssign,l]}),this.keys.forEach(l=>{this.employeesAssign.length>0&&this.setValidEmployeeInfo(l,!1)}),this.asgnEmpls.next(this.employeesAssign),this.listIsFull=!0;break;case"invalid":this.listIsFull=!1,this.invalidListForTooltip=[],this.searchInvalidList.value?(this.invalidEmployeesNo=s.totalCountOfInvalid,this.employeesInvalid=[...s.invalidAssigned]):this.invalidSearchCleared?(this.employeesInvalid=[],this.invalidEmployeesNo=s.totalCountOfInvalid,this.invalidSearchCleared=!1,this.getNextBatch("invalid",1)):s.invalidAssigned.forEach(l=>{this.employeesInvalid=[...this.employeesInvalid,l]}),this.keys.forEach(l=>{this.employeesInvalid.length>0&&this.setInvalidEmployeeInfo(l,!1)}),this.invEmpls.next(this.employeesInvalid),this.listIsFull=!0;break;case"available":this.listIsFull=!1,this.availableListForTooltip=[],this.searchAvailableList.value?(this.availableEmployeesNo=s.totalCountOfAvailable,this.employeesAvailable=[...s.available]):this.availableSearchCleared?(this.employeesAvailable=[],this.availableEmployeesNo=s.totalCountOfAvailable,this.availableSearchCleared=!1,this.getNextBatch("available",1)):s.available.forEach(l=>{this.employeesAvailable=[...this.employeesAvailable,l]}),this.keys.forEach(l=>{this.employeesAvailable.length>0&&this.setAvailableEmployeeInfo(l,!1)}),this.avlblEmpls.next(this.employeesAvailable),this.listIsFull=!0;break;case"unavailable":this.listIsFull=!1,this.unavailableListForTooltip=[],this.searchUnavailableList.value?(this.unavailableEmployeesNo=s.totalCountOfUnavailable,this.employeesUnavailable=[...s.unavailable]):this.unavailableSearchCleared?(this.employeesUnavailable=[],this.unavailableEmployeesNo=s.totalCountOfUnavailable,this.unavailableSearchCleared=!1,this.getNextBatch("unavailable",1)):s.unavailable.forEach(l=>{this.employeesUnavailable=[...this.employeesUnavailable,l]}),this.keys.forEach(l=>{this.employeesUnavailable.length>0&&this.setUnavailableEmployeeInfo(l,!1)}),this.unavlblEmpls.next(this.employeesUnavailable),this.listIsFull=!0}})}getEmployeeSchedHrsStatusColors(){this.employeeSchedHrsStatusColorService.getAllEmpSchedHrsColors().subscribe(t=>{this.employeeSchedHrsStatus=t},t=>{})}setEmployeeSchedHrsBgColor(t=null){if(null!==t){if(t.includes("/")){const i=t.replace(/\s/g,"").split("/");let r,a;r=i[0].includes("minutes")?i[0].replace("hours",":").replace("minutes","").split(":"):i[0].replace("hours",":0").split(":"),a=i[1].includes("minutes")?i[1].replace("hours",":").replace("minutes","").split(":"):i[1].replace("hours",":0").split(":");const s=60*parseInt(r[0])+parseInt(r[1]),l=60*parseInt(a[0])+parseInt(a[1]);if(isNaN(s)||isNaN(l))return this.employeeSchedHrsStatus[0].primaryColor;if(s===l)return this.scheduledHoursStatus="Rostered hours filled",this.scheduledHoursIconClass="fa-check",this.employeeSchedHrsStatus[2].primaryColor;if(s<l)return this.scheduledHoursStatus=this.getHMDifference(l,s)+" under rostered",this.scheduledHoursIconClass="fa-arrow-down",this.employeeSchedHrsStatus[1].primaryColor;if(s>l)return this.scheduledHoursStatus=this.getHMDifference(s,l)+" over rostered",this.scheduledHoursIconClass="fa-arrow-up",this.employeeSchedHrsStatus[0].primaryColor}return"inherit"}}getHMDifference(t,i){let r=0,a=0;return t<i?(r=Math.floor((i-t)/60),a=(i-t)%60):t>i&&(r=Math.floor((t-i)/60),a=(t-i)%60),(0!==r?r+" hour"+(1!==r?"s ":" "):"")+(0!==a?a+" minutes":"")}setValidEmployeeInfo(t,i){this.employeesAssign.forEach(r=>{if(null!=r.employeeInfo&&r.employeeInfo.length>0){if(r.employeeInfo[0][t]){if(r.tooltipIndicator=!0,"Manager"==t&&this.checkIfValueIsAnObject(r.employeeInfo[0][t])){const s=r.employeeInfo[0][t].firstname.toString(),l=r.employeeInfo[0][t].surname.toString();r.employeeInfo[0][t]=s.concat(" ",l)}else if(this.checkIfValueIsAnObject(r.employeeInfo[0][t]))r.employeeInfo[0][t]=r.employeeInfo[0][t].name;else if("Location"==t&&Array.isArray(r.employeeInfo[0][t])){var a=[];r.employeeInfo[0][t].forEach(s=>{a.push(s.location.name)}),r.employeeInfo[0][t]=a.length>0?a.join(", "):null}i=!0,r=this.sliceFieldValue(r,t)}}else r=this.sliceFieldValue(r,null)}),i&&this.assignedListForTooltip.push(t)}setInvalidEmployeeInfo(t,i){this.employeesInvalid.forEach(r=>{if(null!=r.employeeInfo&&r.employeeInfo.length>0){if(r.employeeInfo[0][t]){if(r.tooltipIndicator=!0,"Manager"==t&&this.checkIfValueIsAnObject(r.employeeInfo[0][t])){const s=r.employeeInfo[0][t].firstname.toString(),l=r.employeeInfo[0][t].surname.toString();r.employeeInfo[0][t]=s.concat(" ",l)}else if(this.checkIfValueIsAnObject(r.employeeInfo[0][t]))r.employeeInfo[0][t]=r.employeeInfo[0][t].name;else if("Location"==t&&Array.isArray(r.employeeInfo[0][t])){var a=[];r.employeeInfo[0][t].forEach(s=>{a.push(s.location.name)}),r.employeeInfo[0][t]=a.length>0?a.join(", "):null}i=!0,r=this.sliceFieldValue(r,t)}}else r=this.sliceFieldValue(r,null)}),i&&this.invalidListForTooltip.push(t)}setAvailableEmployeeInfo(t,i){this.employeesAvailable.forEach(r=>{if(null!=r.employeeInfo){if(r.employeeInfo[0][t]){if(r.tooltipIndicator=!0,"Manager"==t&&this.checkIfValueIsAnObject(r.employeeInfo[0][t])){const s=r.employeeInfo[0][t].firstname.toString(),l=r.employeeInfo[0][t].surname.toString();r.employeeInfo[0][t]=s.concat(" ",l)}else if(this.checkIfValueIsAnObject(r.employeeInfo[0][t]))r.employeeInfo[0][t]=r.employeeInfo[0][t].name;else if("Location"==t&&Array.isArray(r.employeeInfo[0][t])){var a=[];r.employeeInfo[0][t].forEach(s=>{a.push(s.location.name)}),r.employeeInfo[0][t]=a.length>0?a.join(", "):null}i=!0,r=this.sliceFieldValue(r,t)}}else r=this.sliceFieldValue(r,null)}),i&&this.availableListForTooltip.push(t)}setUnavailableEmployeeInfo(t,i){this.employeesUnavailable.forEach(r=>{if(null!=r.employeeInfo&&r.employeeInfo.length>0){if(r.employeeInfo[0][t]){if(r.tooltipIndicator=!0,"Manager"==t&&this.checkIfValueIsAnObject(r.employeeInfo[0][t])){const s=r.employeeInfo[0][t].firstname.toString(),l=r.employeeInfo[0][t].surname.toString();r.employeeInfo[0][t]=s.concat(" ",l)}else if(this.checkIfValueIsAnObject(r.employeeInfo[0][t]))r.employeeInfo[0][t]=r.employeeInfo[0][t].name;else if("Location"==t&&Array.isArray(r.employeeInfo[0][t])){var a=[];r.employeeInfo[0][t].forEach(s=>{a.push(s.location.name)}),r.employeeInfo[0][t]=a.length>0?a.join(", "):null}i=!0,r=this.sliceFieldValue(r,t)}}else r=this.sliceFieldValue(r,null)}),i&&this.unavailableListForTooltip.push(t)}assignmentTabChanged(t){switch(t.index){case 0:this.currentSearchList="valid",this.virtualAssignedScroller&&(this.virtualAssignedScroller.getDataLength()>=this.assignedIndex?this.virtualAssignedScroller.scrollToIndex(this.assignedIndex):this.virtualAssignedScroller.scrollToIndex(0),this.virtualAssignedScroller.checkViewportSize());break;case 1:this.currentSearchList="invalid",this.virtualInvalidScroller&&(this.virtualInvalidScroller.getDataLength()>=this.invalidIndex?this.virtualInvalidScroller.scrollToIndex(this.invalidIndex):this.virtualInvalidScroller.scrollToIndex(0),this.virtualInvalidScroller.checkViewportSize())}}availabilityTabChanged(t){switch(t.index){case 0:this.currentSearchList="available",this.virtualAvailableScroller&&(this.virtualAvailableScroller.getDataLength()>=this.availableIndex?this.virtualAvailableScroller.scrollToIndex(this.availableIndex):this.virtualAvailableScroller.scrollToIndex(0),this.virtualAvailableScroller.checkViewportSize());break;case 1:this.currentSearchList="unavailable",this.virtualUnavailableScroller&&(this.virtualUnavailableScroller.getDataLength()>=this.unavailableIndex?this.virtualUnavailableScroller.scrollToIndex(this.unavailableIndex):this.virtualUnavailableScroller.scrollToIndex(0),this.virtualUnavailableScroller.checkViewportSize())}}createListsSubscriptions(){this.searchAssignedList.valueChanges.pipe((0,X.b)(500),(0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.assignedSearchCleared=""==t,this.currentSearchList="valid",this.getNextBatch("valid",1)}),this.searchInvalidList.valueChanges.pipe((0,X.b)(500),(0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.invalidSearchCleared=""==t,this.currentSearchList="invalid",this.getNextBatch("invalid",1)}),this.searchAvailableList.valueChanges.pipe((0,X.b)(500),(0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.availableSearchCleared=""==t,this.currentSearchList="available",this.getNextBatch("available",1)}),this.searchUnavailableList.valueChanges.pipe((0,X.b)(500),(0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.unavailableSearchCleared=""==t,this.currentSearchList="unavailable",this.getNextBatch("unavailable",1)}),this.virtualAssignedScroller.elementScrolled().pipe((0,L.b)(()=>{this.asDistance=this.virtualAssignedScroller.measureScrollOffset()}),(0,le.h)(()=>this.asDistance+this.assignedPage*this.viewportItemSize>=4.5*this.viewportItemSize+(1==this.assignedPage?0:7*this.viewportItemSize*this.assignedPage)),(0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.assignEmployeeNo>this.returnLimit&&(this.assignedPage+=1,this.getNextBatch("valid",this.assignedPage))}),this.virtualInvalidScroller.elementScrolled().pipe((0,L.b)(()=>{this.inDistance=this.virtualInvalidScroller.measureScrollOffset()}),(0,le.h)(()=>this.inDistance+this.invalidPage*this.viewportItemSize>=4.5*this.viewportItemSize+(1==this.invalidPage?0:7*this.viewportItemSize*this.invalidPage)),(0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.invalidEmployeesNo>this.returnLimit&&(this.invalidPage+=1,this.getNextBatch("invalid",this.invalidPage))}),this.virtualAvailableScroller.elementScrolled().pipe((0,L.b)(()=>{this.avDistance=this.virtualAvailableScroller.measureScrollOffset()}),(0,le.h)(()=>this.avDistance+this.availablePage*this.viewportItemSize>=4.5*this.viewportItemSize+(1==this.availablePage?0:7*this.viewportItemSize*this.availablePage)),(0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.availableEmployeesNo>this.returnLimit&&(this.availablePage+=1,this.getNextBatch("available",this.availablePage))}),this.virtualUnavailableScroller.elementScrolled().pipe((0,L.b)(()=>{this.unavDistance=this.virtualUnavailableScroller.measureScrollOffset()}),(0,le.h)(()=>this.unavDistance+this.unavailablePage*this.viewportItemSize>=4.5*this.viewportItemSize+(1==this.unavailablePage?0:7*this.viewportItemSize*this.unavailablePage)),(0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.unavailableEmployeesNo>this.returnLimit&&(this.unavailablePage+=1,this.getNextBatch("unavailable",this.unavailablePage))})}getIndex(t,i){switch(i){case"assigned":this.assignedIndex=t;break;case"invalid":this.invalidIndex=t;break;case"available":this.availableIndex=t;break;case"unavailable":this.unavailableIndex=t}}resetListPositions(){this.asDistance=0,this.inDistance=0,this.avDistance=0,this.unavDistance=0,this.assignedPage=1,this.invalidPage=1,this.availablePage=1,this.unavailablePage=1,this.assignedIndex=0,this.invalidIndex=0,this.availableIndex=0,this.unavailableIndex=0,this.virtualAssignedScroller.scrollToIndex(0),this.virtualAssignedScroller.checkViewportSize(),this.virtualInvalidScroller.scrollToIndex(0),this.virtualInvalidScroller.checkViewportSize(),this.virtualAvailableScroller.scrollToIndex(0),this.virtualAvailableScroller.checkViewportSize(),this.virtualUnavailableScroller.scrollToIndex(0),this.virtualUnavailableScroller.checkViewportSize()}resetLists(){this.employeesAssign=new Array,this.employeesInvalid=new Array,this.employeesAvailable=new Array,this.employeesUnavailable=new Array,this.asgnEmpls.next([...this.employeesAssign]),this.invEmpls.next([...this.employeesInvalid]),this.avlblEmpls.next([...this.employeesAvailable]),this.unavlblEmpls.next([...this.employeesUnavailable])}checkDateRanges(t,i,r){const a=(0,wt.Fp)(t,i,r);let s=!0;if(a)return a;if(this.approvedScheduleDateRanges.length){for(let l=0;l<this.approvedScheduleDateRanges.length;l++)s=!(0,wt.Fp)(this.approvedScheduleDateRanges[l].startDate,this.approvedScheduleDateRanges[l].endDate,r)||this.approvedScheduleDateRanges[l].startDate.split("T")===t.split("T")||this.approvedScheduleDateRanges[l].endDate.split("T")===i.split("T");return!!s}return!0}evaluateUnlockedPeriods(t,i,r){const a=[];let s=!0;if(t.forEach(l=>{((0,wt.Fp)(l.startDate,l.endDate,i)||(0,wt.Fp)(l.startDate,l.endDate,r))&&a.push(l)}),a.length>1){for(let l=0;l<a.length;l++){const c=W(a[l].endDate).clone().add(1,"days").valueOf();let u;u=l+1<a.length?W(a[l+1].startDate).clone().valueOf():c,u-c!=0&&(s=!1)}return{noGaps:s,unlockedRangesCount:a.length}}return{noGaps:!0,unlockedRangesCount:a.length}}trackCheckboxChanges(t){let i="",r="",a="";switch(t){case"attendanceConfirmation":i="attendanceConfirmation",r="attendanceTimeBeforeStart",a="attendanceResponseWindow";break;case"loneWorkerJob":i="loneWorkerJob",r="loneWorkerRecurringIntervals",a="loneWorkerResponseWindow"}this.jobForm.controls[i].value?"attendanceConfirmation"==i&&(this.currencACtimeBeforeStart&&5==this.currencACtimeBeforeStart.length&&this.jobForm.controls.attendanceTimeBeforeStart.setValue(this.currencACtimeBeforeStart,{emitEvent:!1}),this.currencACresponseWindow&&5==this.currencACresponseWindow.length&&this.jobForm.controls.attendanceResponseWindow.setValue(this.currencACresponseWindow,{emitEvent:!1})):(this.jobForm.controls[r].setValue(null,{emitEvent:!1}),this.jobForm.controls[a].setValue(null,{emitEvent:!1}))}offerJob(){if(0!=this.removeListEmployees.length&&this.availableEmployeesNo){this.listIsFull=!1,this.clearSelection("Unavailable"),this.clearSelection("Assign"),this.clearSelection("Invalid");const t=[];this.removeListEmployees.forEach(i=>{t.includes(i.employeeID)||t.push(i.employeeID)}),this.checkIsJobInThePast()?this._jobOfferService.offerJob(this.jobForm.controls.id.value,t).subscribe(()=>{this.removeListEmployees=new Array,this.employeesAssign.forEach(i=>{i.isSelected=!1}),this._messageService.open("Job is Offered."),this.refreshEmployeesList("allEmployees")},i=>{const r=this._messageService.handleHttpError(i);400==i.status&&"The credentials you have entered for system email are invalid."===r?(this._messageService.open(r),this.refreshEmployeesList("allEmployees")):this._messageService.open(r),this.clearSelection("Available"),this.listIsFull=!0}):(this._messageService.open("The selected Job has already started or ended."),this.clearSelection("Available"),this.listIsFull=!0)}}checkIsJobInThePast(){const t=W(this.jobForm.controls.jobStartDateTime.value),i=W(new Date);return!t.isSameOrBefore(i)}allowTradeManualChange(){this.jobForm.controls.manualEditedAllowedTrade.setValue(!0)}loneWorkerJobManualChange(){this.jobForm.controls.manuallyEditedLoneWorkerJob.setValue(!0)}loneWorkerRecurringIntervalsManualChange(){this.jobForm.controls.manuallyEditedReccuringIntervals.setValue(!0)}loneWorkerResponseWindowManualChange(){this.jobForm.controls.manuallyEditedResponseWindow.setValue(!0)}setInherentJobTypeTradeSettings(t){this.jobTypeService.getJobTypeTradeStatus(t).subscribe(i=>{this.jobForm.controls.manualEditedAllowedTrade.value||this.jobForm.controls.allowedTrade.setValue(i,{emitEvent:!1})})}daysList(t,i){if(this.isTemplate=this.data.isTemplate,this.isTemplate){const r=[];this.firstDayOfTheWeek=this._datesService.getStartDateOfWeek(W(this.data.startDate)).format("YYYY-MM-DD");const a={id:1,date:this.firstDayOfTheWeek,name:"Day 1"},s={id:2,date:W(W(this.firstDayOfTheWeek).add(1,"days")).clone().format("YYYY-MM-DD"),name:"Day 2"},l={id:3,date:W(W(this.firstDayOfTheWeek).add(2,"days")).clone().format("YYYY-MM-DD"),name:"Day 3"},c={id:4,date:W(W(this.firstDayOfTheWeek).add(3,"days")).clone().format("YYYY-MM-DD"),name:"Day 4"},u={id:5,date:W(W(this.firstDayOfTheWeek).add(4,"days")).clone().format("YYYY-MM-DD"),name:"Day 5"},h={id:6,date:W(W(this.firstDayOfTheWeek).add(5,"days")).clone().format("YYYY-MM-DD"),name:"Day 6"},x={id:7,date:W(W(this.firstDayOfTheWeek).add(6,"days")).clone().format("YYYY-MM-DD"),name:"Day 7"};r.push(a,s,l,c,u,h,x),r.forEach(T=>{this.data.isTemplate&&W(T.date).isSameOrAfter(t)&&W(T.date).isSameOrBefore(i)&&this.days.push(T)})}}openJobOfferDialog(t,i){this.dialog.open(UF,{autoFocus:!1,disableClose:!0,data:{jobOfferDate:t,jobOfferStatus:i},width:"390px",panelClass:"confirm-dialog"})}emitCustomData(t,i){let r=[];this.existingCustomData=t,i&&(r=[...t],r.forEach(a=>{a.manuallyUpdated=!1})),setTimeout(()=>{this._customDataService.onReceivedCustomData.next(i?r:this.existingCustomData)},100)}updateCustomData(t){this.jf.customData.setValue(t,{emitEvent:!1})}updateFormValidation(t){this.customDataHasValidationErrors=t}loneWorkerValidation(){const t=W.duration(this.jobForm.controls.loneWorkerRecurringIntervals.value).asMinutes(),i=W.duration(this.jobForm.controls.loneWorkerResponseWindow.value).asMinutes();"00:00"==this.jobForm.controls.loneWorkerRecurringIntervals.value||"00:00"==this.jobForm.controls.loneWorkerResponseWindow.value?"00:00"==this.jobForm.controls.loneWorkerRecurringIntervals.value&&"00:00"==this.jobForm.controls.loneWorkerResponseWindow.value?(this.jobForm.controls.loneWorkerRecurringIntervals.setErrors({loneWorkerReccuringIntervalsValidValue:!0}),this.jobForm.controls.loneWorkerResponseWindow.setErrors({loneWorkerResponseWindowValidValue:!0})):"00:00"==this.jobForm.controls.loneWorkerRecurringIntervals.value?this.jobForm.controls.loneWorkerRecurringIntervals.setErrors({loneWorkerReccuringIntervalsValidValue:!0}):"00:00"==this.jobForm.controls.loneWorkerResponseWindow.value&&this.jobForm.controls.loneWorkerResponseWindow.setErrors({loneWorkerResponseWindowValidValue:!0}):this.jobForm.controls.loneWorkerRecurringIntervals.value&&this.jobForm.controls.loneWorkerResponseWindow.value&&this.jobForm.controls.loneWorkerRecurringIntervals.setErrors(t<=3*i?{loneWorkerReccuringIntervalsThreeTimesGreater:!0}:null)}manuallyUpdateAttendance(t){this.jobForm.controls[{attendanceConfirmation:"manuallyEditedAttendanceConfirmation",attendanceTimeBeforeStart:"manuallyEditedAttendanceTimeBeforeStart",attendanceResponseWindow:"manuallyEditedAttendanceResponseWindow"}[t]].setValue(!0),this.jobForm.controls.attendanceTimeBeforeStart.value&&5==this.jobForm.controls.attendanceTimeBeforeStart.value.length&&(this.currencACtimeBeforeStart=this.jobForm.controls.attendanceTimeBeforeStart.value),this.jobForm.controls.attendanceResponseWindow.value&&5==this.jobForm.controls.attendanceResponseWindow.value.length&&(this.currencACresponseWindow=this.jobForm.controls.attendanceResponseWindow.value)}buildAgencyForm(){this.agencyForm=this._fb.group({jobID:[null],templateJobID:[null],agencyID:[null,{updateOn:"change"}],agencyReasonForCoverID:[null,{updateOn:"change"}],agencyWorker:[null,{validators:[_.kI.maxLength(200)],updateOn:"change"}]},{validators:[],asyncValidators:[]}),this.areListsReadOnly?this.agencyForm.disable():this.agencyForm.enable()}getAgencyComboValues(){this._agencyService.getComboValues().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.agencySelectValues=t.agencies,this.reasonForCoverSelectValues=t.agencyReasonsForCover},t=>{this._messageService.open(t)})}updateAgencyValidations(){const t=this.agencyForm.controls;!t.agencyID.value&&!t.agencyReasonForCoverID.value&&(!t.agencyWorker.value||""===t.agencyWorker.value)&&this.resetAgencyFormFields()}resetAgencyFormFields(){this.agencyForm.controls.agencyID.setValue(null),this.agencyForm.controls.agencyID.markAsUntouched(),this.agencyForm.controls.agencyID.setErrors(null),this.agencyForm.controls.agencyReasonForCoverID.setValue(null),this.agencyForm.controls.agencyReasonForCoverID.markAsUntouched(),this.agencyForm.controls.agencyReasonForCoverID.setErrors(null),this.agencyForm.controls.agencyWorker.setValue(null),this.agencyForm.controls.agencyWorker.markAsUntouched(),this.agencyForm.controls.agencyWorker.setErrors(null)}assignAgency(){if(!this.jobForm.controls.noOfEmployeesRequired.value||this.jobForm.controls.noOfEmployeesRequired.value<0||this.jobForm.controls.noOfEmployeesRequired.value>99)this._messageService.open("You must populate Employees Required field first");else if(this.assignEmployeeNo>=this.jobForm.controls.noOfEmployeesRequired.value)this._messageService.open("Assignment requirements have already been met");else if(Object.keys(this.agencyForm.controls).forEach(t=>{const i=this.agencyForm.get(t);"string"==typeof i.value&&i.setValue(i.value.trim()),i.markAsTouched({onlySelf:!0})}),this.agencyForm.valid){if(null===this.agencyForm.controls.agencyID.value)return this._messageService.open("Nothing to assign"),void this.resetAgencyFormFields();this.agencyAssignmentInProgress=!0,this._agencyService.assignAgency(this.agencyForm.value).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._messageService.open("Agency Assigned"),this.agencyForm.controls.agencyWorker.reset(),this.populateForm(),this.agencyAssignmentInProgress=!1},t=>{this._messageService.open(t),this.agencyAssignmentInProgress=!1})}else this._messageService.open("Please populate all Assign Agency fields")}unassignAgencyWorker(t){this.agencyAssignmentInProgress||(this.agencyAssignmentInProgress=!0,this._agencyService.unassignAgency(this.isTemplate,t).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._messageService.open("Agency Worker unassigned"),this.agencyForm.controls.agencyWorker.reset(),this.populateForm(),this.agencyAssignmentInProgress=!1},i=>{this._messageService.open(i),this.agencyAssignmentInProgress=!1}))}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.so),e.Y36(z.so),e.Y36(z.WI),e.Y36(se.G),e.Y36(iS),e.Y36(Ce.L),e.Y36(Lg.T),e.Y36(wx),e.Y36(z.uw),e.Y36(Z1),e.Y36(we.H7),e.Y36(e.Qsj),e.Y36(_.qu),e.Y36(e.sBO),e.Y36(Dh.X),e.Y36(qi.J),e.Y36(Y1.i),e.Y36(yr.H),e.Y36(Mo.z),e.Y36(Dx.Y),e.Y36(hS))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-job"]],viewQuery:function(t,i){if(1&t&&(e.Gf(HF,5),e.Gf(BF,5),e.Gf(VF,5),e.Gf(GF,5),e.Gf(WF,5),e.Gf(QF,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.description=r.first),e.iGM(r=e.CRH())&&(i.virtualAssignedScroller=r.first),e.iGM(r=e.CRH())&&(i.virtualInvalidScroller=r.first),e.iGM(r=e.CRH())&&(i.virtualAvailableScroller=r.first),e.iGM(r=e.CRH())&&(i.virtualUnavailableScroller=r.first),e.iGM(r=e.CRH())&&(i.jobNameInput=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(a){return i.handleKeyboardEvent(a)},!1,e.evT)},decls:2,vars:1,consts:[["flex","",1,"container-fluid",3,"keydown"],["autocomplete","off",3,"formGroup","ngSumbit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSumbit"],[1,"row"],["id","header_of_modal_title",1,"col-7"],["class","margin-bottom-none",4,"ngIf"],[1,"col-3"],["id","copyjob"],["id","header_of_modal_title"],[1,"margin-bottom-none"],[1,"col-2","justify-content-end","title-right"],["src","assets/icons/x-icon-3pt.png","id","dialog-close-x",1,"float-right",3,"click"],[1,"blue_hr"],[1,"row","font-size-12"],[1,"col-12","d-flex","justify-content-start","wholeTopPart"],[1,"firstAndSecondPart","d-flex","justify-content-start"],["id","jobDetailFirstColumn"],[1,"col-12"],[1,"form-group","row","margin-bottom-3"],[1,"col-12","d-flex","justify-content-start","align-center"],["id","jobTypeLabelDiv",1,"min-width-65px"],["for","eSolveJobType","id","jobTypeLabel",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],[1,"min-width-270px","height-28px","d-flex","justify-content-between"],["name","jobType","id","eSolveJobType","formControlName","jobTypeID","required","","bindLabel","name","bindValue","id",1,"jobTypeDetails","jobTypeSelect",3,"items","clearable","searchable","change"],["id","gearBtn","class","fa fa-cog gear-symbol","aria-hidden","true",3,"click",4,"ngIf"],[4,"ngIf"],["id","jobNameDiv",1,"col-12","d-flex","justify-content-start","align-center"],[1,"min-width-65px"],["for","eSolveJobName",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],[1,"min-width-270px"],["id","eSolveJobName","placeholder","Name","required","","name","jobName","maxlength","50","formControlName","name",1,"form-control","form-control-sm","input_border_bottom"],["jobNameInput",""],["class","form-group row margin-bottom-3",4,"ngIf"],["id","jobDetailSecondColumn"],["class","row",4,"ngIf"],[1,"min-width-85px"],["for","eSolveJobStartTime",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],[1,"full-width"],["required","","type","text","placeholder","HH:MM","id","eSolveJobStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","jobStartTime","formControlName","startTime",1,"form-control","form-control-sm",3,"dropSpecialCharacters","change"],["class","validationError col-12",4,"ngIf"],["for","eSolveJobEndTime",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],["type","text","placeholder","HH:MM","id","eSolveJobEndTime","name","jobEndTime","required","","mask","Hh:m0","formControlName","endTime","maxlength","5","minlength","5",1,"form-control","form-control-sm",3,"dropSpecialCharacters","change"],["for","eSolveHours",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],["id","eSolveHours","name","hours","formControlName","hours","required","","minlength","5","type","text","placeholder","00:00",1,"form-control","form-control-sm",3,"hoursMaskInput","ngClass","maxlength","keydown","change"],[1,"thirdAndFourthPart","d-flex","justify-content-start",3,"ngClass"],["id","jobDetailThirdColumn"],[1,"min-width-130px"],["for","eSolveNoOfEmpl",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],["id","eSolveNoOfEmpl","required","","name","noOfEmployeesRequired","maxlength","2","formControlName","noOfEmployeesRequired",1,"form-control","form-control-sm",3,"change"],["for","eSolveSortOrder",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],["id","eSolveSortOrder","name","sortOrder","maxlength","2","formControlName","sortOrder",1,"form-control","form-control-sm"],["id","jobDetailFourthColumn"],["class","col-12",4,"ngIf"],[1,"col-12","d-flex","justify-content-start"],[1,"min-width-110px"],["for","eSolveConcurrentJob",1,"col-form-label","col-form-label-sm","bold-label"],["id","eSolveConcurrentJob","name","concurentJob","type","checkbox","formControlName","isConcurrent",1,"align-bottom",3,"change"],["for","eSolveCriticalTask",1,"col-form-label","col-form-label-sm","bold-label"],["id","eSolveCriticalTask","name","isCriticalTask","type","checkbox","formControlName","isCriticalTask",1,"align-bottom"],[1,"fifthAndSixthPart","d-flex","justify-content-start"],["id","jobDetailFifthColumn"],["id","copyjob",1,"col-12"],[1,"row","margin-bottom-3"],[1,"min-width-100px"],["for","numberOfDays",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],[1,"min-width-150px"],["id","numberOfDays","formControlName","numberOfDays","type","text",1,"form-control","form-control-sm","font-size-12",3,"pattern","keyup"],["class","col-12","id","copyjob",4,"ngIf"],["id","jobDetailSixthColumn"],[1,"col-3","min-width-sixthColumn"],["name","copyAssignedEmployees","id","copyAssignedEmployees","formControlName","copyAssignedEmployees","checked","copyAssignedEmployeesCheck","labelPosition","after",1,"align-bottom"],["id","copyJobVerticalDisplay",1,"row"],["id","header_of_modal_title",1,"col-12"],["id","copyJobVerticalDisplay",1,"d-flex","justify-content-start"],["id","copyJobVerticalDisplay",1,"row","font-size-12"],["id","copyJobSecondColumn"],["class","row font-size-12","id","copyJobVerticalDisplay",4,"ngIf"],[1,"col-12","d-flex","justify-content-start","align-center","or_label"],["name","copyAssignedEmployees","id","copyAssignedEmployeesvertical","formControlName","copyAssignedEmployees","checked","copyAssignedEmployeesCheck","labelPosition","after",1,"align-bottom"],[1,"grey_hr"],["class","form-group row margin-bottom-3","id","statusDiv",4,"ngIf"],["class","col-xl-9 col-12 card_body silver-bg",3,"ngClass",4,"ngIf"],["class","col-xl-9 col-12 card_body",3,"ngClass",4,"ngIf"],[1,"col-xl-3","col-12","card_body","card_body_right","font-size-12"],["id","customDataHeader",1,"form-row","row","add_data_header"],[1,"d-flex","full-width","align-center","col-12",3,"click"],[1,"justify-content-start","full-width","custom_data_label"],[1,"col-form-label","add_data_header"],[1,"justify-content-end","custom_data_label_span"],["class","fas fa-plus",4,"ngIf"],["class","fas fa-minus",4,"ngIf"],["id","customDataShown",1,"col-12","flex-row","subgroup-customdata","display-none-style"],[1,"form-control","g-thin-black-scroll-bar","cdListHeight"],[3,"parentComponent","parentId","isCustomDataReadonly","onCustomDataChanged","onCustomDataValidationError"],["id","addCommentHeader",1,"form-row","row","add_data_header"],[1,"d-flex","full-width","align-center",3,"click"],[1,"justify-content-start","full-width","add_comment_label"],[1,"justify-content-end","add_comment_label_span"],["id","addCommentShown",1,"col-md-12","flex-row","display-none-style"],["id","comment","formControlName","comment","placeholder","Add a note...",1,"subgroup-addcomment","form-control","g-thin-black-scroll-bar"],[1,"help-text"],["aria-hidden","true",1,"fa","fa-question-circle-o"],[1,"col-12","buttons-separator"],[1,"col-12","text-center","d-flex","justify-content-center"],["type","button",1,"cancel-button","btn","p-2","modal-btn",3,"disabled","click"],["id","submitButton","type","submit",1,"submit-new-button","btn","p-2","modal-btn",3,"disabled","click"],["id","gearBtn","aria-hidden","true",1,"fa","fa-cog","gear-symbol",3,"click"],[1,"validationError","col-12"],["id","dayLabelDiv",1,"min-width-65px"],["for","day","id","dayLabel",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],["name","day","id","eSolveDay","formControlName","day","required","","bindLabel","name","bindValue","id",1,"jobTypeDetails","jobTypeSelect",3,"items","clearable","searchable","change"],["for","eSolveJobStartDate",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],[1,"eSolveDateConstainer","d-flex","justify-content-start"],["type","text","required","","id","eSolveJobStartDate","name","startDate","formControlName","jobStartDateTime",1,"form-control","form-control-sm","full-width",3,"ngClass","min","max","matDatepicker","placeholder","dateLengthTracker","dateChange"],["jobStartDatePicker",""],["id","eSolveDateIconContainer"],["src","assets/icons/calendar-icon.png","id","calendar-icon-img",3,"click"],["for","eSolveJobEndDate",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],["type","text","required","","id","eSolveJobEndDate","name","endDate","formControlName","jobEndDateTime",1,"form-control","form-control-sm","full-width",3,"ngClass","min","max","matDatepicker","placeholder","dateLengthTracker","dateChange"],["jobEndDatePicker",""],["id","jobTypeLabelDiv",1,"min-width-85px","min-width-28px-sm"],["for","eSolveShift","id","jobTypeLabel",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],[1,"min-width-417px","height-28px","d-flex","justify-content-between"],["name","shift","id","eSolveShift","formControlName","shiftID",1,"jobTypeDetails","min-width-417px",3,"searchable","clearable","change"],[3,"id","value",4,"ngFor","ngForOf"],[3,"id","value"],["for","eSolveJobDay1Hours",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],["required","","type","text","placeholder","00:00","id","eSolveJobDay1Hours","maxlength","5","minlength","5","name","hours1","formControlName","hours1",1,"form-control","form-control-sm",3,"timeLengthTracker","change","input","keydown"],["for","eSolveJobDay2Hours",1,"col-form-label","col-form-label-sm","bold-label","font-size-12"],["required","","type","text","placeholder","00:00","id","eSolveJobDay2Hours","maxlength","5","minlength","5","name","hours2","formControlName","hours2",1,"form-control","form-control-sm",3,"timeLengthTracker","change","input","keydown"],["for","eSolveBlockTrades",1,"col-form-label","col-form-label-sm","bold-label"],["id","eSolveBlockTrades","name","blockTrades","type","checkbox","formControlName","allowedTrade",1,"align-bottom",3,"click"],["for","copyToDate","id","toDayLabel",1,"col-form-label","col-form-label-sm","font-size-12","bold-label"],[1,"d-flex","justify-content-start"],["id","copyToDate","formControlName","copyToDate","type","text","maxlength","50",1,"form-control","form-control-sm","font-size-12",3,"matDatepicker","max","min","dateLengthTracker","dateInput","dateChange"],["picker2",""],["name","day","id","copyToDate","formControlName","copyToDate","bindLabel","name","bindValue","id",1,"jobTypeDetails","copyDaySelect","copy-job-select-day",3,"items","clearable","searchable","change"],["name","excludeWeekends","id","excludeWeekends","formControlName","excludeWeekends","checked","excludeWeekendsCheck","labelPosition","after",1,"align-bottom"],["src","assets/icons/calendar-icon.png",1,"calendar-icon-img",3,"click"],["class","row margin-bottom-3",4,"ngIf"],["name","excludeWeekends","id","excludeWeekendsvertical","formControlName","excludeWeekends","checked","excludeWeekendsCheck","labelPosition","after",1,"align-bottom"],["id","statusDiv",1,"form-group","row","margin-bottom-3"],[1,"min-width-100px-status-label"],["for","status",1,"col-form-label","col-form-label-sm","bold-label"],[1,"col-form-label","col-form-label-sm"],["description",""],["name","referenceArea","id","element.id","formControlName","referenceArea","required","","bindLabel","name","bindValue","name",1,"jobTypeDetails","jobTypeSelect","referenceAreaSelect",3,"items","clearable","searchable","change"],[1,"col-xl-9","col-12","card_body","silver-bg",3,"ngClass"],["id","refreshButton","type","button","class","refresh-list-button btn p-2 modal-btn centered",3,"disabled","click",4,"ngIf"],[3,"ngClass"],["cdkDropListGroup","",1,"row","testRow"],[1,"col-md-6","white-bg","dragdrop-leftside"],[1,"example-container"],[3,"selectedTabChange"],["availableAndOnCallAndUnavailableList",""],["mat-tab-label",""],[1,"eSolveFilter","font-size-12px"],[1,"input-group","input-group-sm"],["type","text","aria-describedby","inputGroup-sizing-sm","name","searchAvailable","placeholder","Search",1,"form-control","form-control-sm","font-size-12px",3,"formControl"],[1,"input-group-append"],["type","button",1,"btn","search-btn"],[1,"fa","fa-search","font-size-15"],[1,"cdk-global-scrollblock","g-thin-black-scroll-bar","emplListHeight"],["cdkDropList","",1,"g-thin-black-scroll-bar","emplListHeight",3,"cdkDropListData","itemSize","cdkDropListConnectedTo","ngClass","minBufferPx","maxBufferPx","scrolledIndexChange","cdkDropListDropped"],["AvailableEmployees","cdkDropList","virtualAvailableScroller",""],["class","employees-box","cdkDrag","",3,"cdkDragData","cdkDragDisabled","click","dblclick",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"d-flex","justify-content-between","align-items-end","eSolveEmployeeListButtonsMobile"],["type","button",1,"clear_remove_btn","btn","p-2",3,"disabled","click"],["type","button","class","clear_remove_btn btn p-2",3,"disabled","click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-plus"],["type","text","aria-describedby","inputGroup-sizing-sm","name","searchUnavailable","placeholder","Search",1,"form-control","form-control-sm","font-size-12px",3,"formControl"],["UnavailableEmployees","cdkDropList","virtualUnavailableScroller",""],[1,"col-md-6","white-bg","dragdrop-rightside"],["assignAndInvalidList",""],["type","text","aria-describedby","inputGroup-sizing-sm","name","searchAssigned","placeholder","Search",1,"form-control","form-control-sm","font-size-12px",3,"formControl"],["cdkDropList","","cdkDragRootElement",".testRow",1,"g-thin-black-scroll-bar","emplListHeight",3,"cdkDropListData","itemSize","cdkDropListConnectedTo","ngClass","minBufferPx","maxBufferPx","scrolledIndexChange","cdkDropListDropped"],["AssignEmployees","cdkDropList","virtualAssignedScroller",""],["aria-hidden","true",1,"fa","fa-times"],["type","text","aria-describedby","inputGroup-sizing-sm","name","searchInvalid","placeholder","Search",1,"form-control","form-control-sm","font-size-12px",3,"formControl"],["InvalidEmployees","cdkDropList","virtualInvalidScroller",""],["id","refreshButton","type","button",1,"refresh-list-button","btn","p-2","modal-btn","centered",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"p_assing","font-size-12px"],["id","eSolveAvailable",1,"badge"],["cdkDrag","",1,"employees-box",3,"cdkDragData","cdkDragDisabled","click","dblclick"],[1,"col-12","d-flex","justify-content-between","align-middle","font-size-12px"],[1,"d-flex","justify-content-start","horizontal-alignment"],[1,"align-middle"],["id","table-image",3,"src",4,"ngIf","ngIfElse"],["defaultImage",""],[1,"align-middle","dragdropNameTime"],[1,"row","dragdropName"],[1,"d-flex","justify-content-end"],["class","d-flex align-items-center",4,"ngIf"],[1,"form-control","form-control-sm","border-0","eSolveChekBox"],["type","checkbox",3,"id","disabled","checked","click"],["id","table-image",3,"src"],["id","table-image","src","assets/images/default-avatar-60.jpg"],["aria-hidden","true",1,"fa","fa-clock-o"],[3,"ngClass","ngStyle"],[1,"d-flex","align-items-center"],["class","fa fa-suitcase tooltip-icon-suitcase-style blue-suitcase","aria-hidden","true",3,"click",4,"ngIf"],["class","fa fa-suitcase tooltip-icon-suitcase-style red-suitcase","aria-hidden","true",3,"click",4,"ngIf"],["class","fa fa-suitcase tooltip-icon-suitcase-style green-suitcase","aria-hidden","true",3,"click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-suitcase","tooltip-icon-suitcase-style","blue-suitcase",3,"click"],["aria-hidden","true",1,"fa","fa-suitcase","tooltip-icon-suitcase-style","red-suitcase",3,"click"],["aria-hidden","true",1,"fa","fa-suitcase","tooltip-icon-suitcase-style","green-suitcase",3,"click"],["tipContent",""],["id","empInfoToolTip","placement","right left","class","fa fa-info-circle tooltip-icon-style","aria-hidden","true","container","body",3,"ngbTooltip",4,"ngIf"],["id","empInfoToolTip","class","fa fa-info-circle tooltip-icon-style","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"employee-tooltip-style"],["id","empInfoToolTip","placement","right left","aria-hidden","true","container","body",1,"fa","fa-info-circle","tooltip-icon-style",3,"ngbTooltip"],["id","empInfoToolTip","aria-hidden","true",1,"fa","fa-info-circle","tooltip-icon-style"],["id","eSolveUnavailable",1,"badge"],["class","fa fa-exclamation-circle override-info-icon-style","aria-hidden","true",3,"id","click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-exclamation-circle","override-info-icon-style",3,"id","click"],["id","eSolveAssign",1,"badge"],["class","form-control form-control-sm border-0 eSolveChekBox",4,"ngIf"],["class","d-flex form-control border-0 unassign-agency-button",4,"ngIf"],[1,"d-flex","form-control","border-0","unassign-agency-button"],["aria-hidden","true",1,"fa","fa-times",3,"click"],["id","eSolveInvalid",1,"badge"],[1,"col-xl-9","col-12","card_body",3,"ngClass"],[1,"concurrentBarContainer","d-flex","justify-content-between",3,"clickOutside"],[3,"id","ngStyle","click",4,"ngFor","ngForOf"],["cdkDropListGroup","",1,"row","testRowConcurrent"],[1,"col-lg-6","white-bg","dragdrop-associated"],[1,"job-dialog-tabs"],["type","text","aria-describedby","inputGroup-sizing-sm","name","search1","placeholder","Search",1,"form-control","form-control-sm","font-size-12px",3,"formControl"],[1,"startEndGreenPartTime"],[1,"cdk-global-scrollblock","g-thin-black-scroll-bar","emplListHeight","g-thin-black-scroll-barAssociatedList"],["role","list",3,"ngClass"],["role","listitem","class","employees-box employee-box-associated",4,"ngFor","ngForOf"],[3,"id","ngStyle","click"],["id","eSolveAssociated",1,"badge"],["role","listitem",1,"employees-box","employee-box-associated"],[1,"dragdropNameTime"],[1,"row","h-100","dragdropName"],[1,"col-12","centeredItems"],[1,"row","h-100"],["placement","right left","container","body",3,"ngbTooltip"],[1,"fa","fa-info-circle","blue-info-circle"],["class","employee-tooltip-style",4,"ngFor","ngForOf"],[1,"fas","fa-plus"],[1,"fas","fa-minus"],["id","loneWorkerHeader",1,"form-row","row","add_data_header"],["id","loneWorkerExpandLabel",1,"col-form-label","add_data_header"],["id","loneWorkerShown",1,"col-12","flex-row","subgroup-customdata","padding-bottom-5","display-none-style"],[1,"row","marginTop","d-flex","justify-content-start"],[1,"textPosition","min-label-width"],["for","loneWorkerJob",1,"whiteSpace"],[1,"alignCenter","leftMarginInputField","marginTop"],["formControlName","loneWorkerJob","type","checkbox","id","loneWorkerJob","name","loneWorkerJob",1,"eSolvePadding",3,"change"],[1,"row","d-flex","justify-content-start"],[1,"textPosition","marginTop","min-label-width"],["for","loneWorkerRecurringIntervals",1,"whiteSpace"],[1,"alignCenter","leftMarginInputField"],["formControlName","loneWorkerRecurringIntervals","id","loneWorkerRecurringIntervals","name","loneWorkerRecurringIntervals","type","text","placeholder","00:00","mask","Hh:m0","maxlength","5","minlength","5","required","",1,"form-control","input-element",3,"dropSpecialCharacters","change"],["class","validation-margin-bottom",4,"ngIf"],[1,"validation-margin-bottom"],["class","validationError col-12 validation-position",4,"ngIf"],[1,"validationError","col-12","validation-position"],["for","loneWorkerResponseWindow",1,"whiteSpace"],["formControlName","loneWorkerResponseWindow","id","loneWorkerResponseWindow","name","loneWorkerResponseWindow","type","text","placeholder","00:00","mask","Hh:m0","maxlength","5","minlength","5","required","",1,"form-control","input-element",3,"dropSpecialCharacters","change"],["id","attendanceConfirmationHeader",1,"form-row","row","add_data_header"],["id","attendanceDetailsSegment",1,"col-12","flex-row","subgroup-customdata","padding-bottom-5","display-none-style"],["for","attendanceCheckbox",1,"whiteSpace"],["formControlName","attendanceConfirmation","type","checkbox","id","attendanceCheckbox","name","attendanceCheckboxInput",1,"eSolvePadding",3,"change"],["for","attendanceTimeBeforeStartInput",1,"whiteSpace"],["formControlName","attendanceTimeBeforeStart","id","attendanceTimeBeforeStartInput","name","attendanceTimeBeforeStartInput","type","text","placeholder","00:00","mask","Hh:m0","maxlength","5","minlength","5",1,"form-control","input-element",3,"dropSpecialCharacters","change"],["class","validationError validation-position col-12",4,"ngIf"],[1,"validationError","validation-position","col-12"],["for","attendanceResponseWindowInput",1,"whiteSpace"],["formControlName","attendanceResponseWindow","id","attendanceResponseWindowInput","name","attendanceResponseWindowInput","type","text","placeholder","00:00","mask","Hh:m0","maxlength","5","minlength","5",1,"form-control","input-element",3,"dropSpecialCharacters","change"],["id","assignAgencyHeader",1,"form-row","row","add_data_header"],["id","assignAgencyDetailsSegment",1,"col-12","flex-row","subgroup-customdata","padding-bottom-5","display-none-style"],["autocomplete","off",3,"formGroup",4,"ngIf"],[1,"col-12","assign-agency-button-div"],["type","button",1,"submit-new-button","agency-button",3,"disabled","click"],["autocomplete","off",3,"formGroup"],[1,"textPosition","marginTop","min-agency-label-width"],["for","agency_select",1,"whiteSpace"],[1,"alignCenter","leftMarginInputField","marginTop","w-200"],["formControlName","agencyID","id","agency_select","name","agencySelect","dropdownPosition","top",1,"form-input","agency-select",3,"virtualScroll","required","change"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","d-flex","marginTop","justify-content-start"],["for","reason_for_cover_select",1,"whiteSpace"],[1,"alignCenter","leftMarginInputField","w-200"],["formControlName","agencyReasonForCoverID","id","reason_for_cover_select","name","reasonSelect","dropdownPosition","top",1,"form-input","agency-select",3,"virtualScroll","required","change"],["for","agency_worker_input",1,"whiteSpace"],["formControlName","agencyWorker","id","agency_worker_input","maxlength","150","name","agencyWorkerInput","type","text",1,"form-control","input-element","w-200","agency-worker-input",3,"required","change","keyup"],[3,"value"],["class","validationError agency-validation-position col-12",4,"ngIf"],[1,"validationError","agency-validation-position","col-12"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("keydown",function(a){return i.handleKeyboardEvent(a)}),e.YNc(1,AL,233,61,"form",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.jobForm))},dependencies:[D.mk,D.sg,D.O5,D.PC,Zi.oG,Ts.SP,Ts.uD,Ts.uX,On.Mq,On.hl,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.wO,_.nD,_.c5,_.oH,_.sg,_.u,Sn,tr,oo.Wj,oo.Fd,oo.Zt,Te._L,Cs,YF,q1.xd,q1.x0,q1.N7,$n,Ja,rr,Sx,mS,Ju,JF],styles:[".card_body[_ngcontent-%COMP%]{padding:5px 20px;position:relative}.help-text[_ngcontent-%COMP%]{font-size:10px}.title-right[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:x-large;cursor:pointer}.title-right[_ngcontent-%COMP%]{padding-right:3px}.card_title[_ngcontent-%COMP%]{margin-bottom:.75rem}#header_of_modal_title[_ngcontent-%COMP%]{color:#2c344b;font-size:17px;font-weight:700}.padding15[_ngcontent-%COMP%]{padding:15px}.silver-bg[_ngcontent-%COMP%]{background-color:#ededed}.white-bg[_ngcontent-%COMP%]{background-color:#fff;min-height:100%}.modal-btn[_ngcontent-%COMP%]{height:30px;width:200px}.cancel-button[_ngcontent-%COMP%]{border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:#404f64;box-shadow:0 2px 5px #00000042;margin-bottom:5px}.submit-new-button[_ngcontent-%COMP%]{border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:0 2px 5px #00000042}.refresh-list-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63;border-radius:4px;width:50%!important;font-size:14px!important;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #000000a8}.fas.fa-plus[_ngcontent-%COMP%], .fa.fa-volume-control-phone[_ngcontent-%COMP%], .fas.fa-search[_ngcontent-%COMP%]{font: 14px/1 FontAwesome}.fa.fa-clock-o[_ngcontent-%COMP%], .fa.fa-arrow-up[_ngcontent-%COMP%], .fa.fa-arrow-down[_ngcontent-%COMP%]{width:12px}.blue_hr[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.blue_hr_job_details[_ngcontent-%COMP%]{width:850px}.blue_hr_copy_job[_ngcontent-%COMP%]{width:520px;left:100px}.blue_hr_template_job[_ngcontent-%COMP%]{width:1400px}.grey_hr[_ngcontent-%COMP%]{height:1px;background-color:#ced5db;margin-left:-15px;margin-right:-15px}.margin-bottom-none[_ngcontent-%COMP%]{margin-bottom:0}.margin-bottom-3[_ngcontent-%COMP%]{margin-bottom:3px}.margin-bottom-10[_ngcontent-%COMP%]{margin-bottom:10px}.margin-bottom-13[_ngcontent-%COMP%]{margin-bottom:13px}.font-size-12[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.font-size-12px[_ngcontent-%COMP%]{font-size:12px}.font-size-15[_ngcontent-%COMP%]{font-size:15px}.bold-label[_ngcontent-%COMP%]{font-weight:700}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}#eSolveJobName[_ngcontent-%COMP%]{box-shadow:none;width:200px}#eSolveNoOfEmpl[_ngcontent-%COMP%]{width:50px;box-shadow:none}#eSolveHours[_ngcontent-%COMP%]{width:63px;box-shadow:none}#eSolveSortOrder[_ngcontent-%COMP%]{width:50px;box-shadow:none}#eSolveJobStartTime[_ngcontent-%COMP%], #eSolveJobEndTime[_ngcontent-%COMP%], #eSolveJobDay1Hours[_ngcontent-%COMP%], #eSolveJobDay2Hours[_ngcontent-%COMP%], #eSolveJobDay3Hours[_ngcontent-%COMP%], #eSolveJobDay4Hours[_ngcontent-%COMP%], #eSolveJobDay5Hours[_ngcontent-%COMP%], #eSolveJobDay6Hours[_ngcontent-%COMP%]{width:63px;box-shadow:none}#yellow_status[_ngcontent-%COMP%]{background-color:#fcc438}#orange_status[_ngcontent-%COMP%]{background-color:#ef8d22}#red_status[_ngcontent-%COMP%]{background-color:#c92d39}.card_body_right[_ngcontent-%COMP%]{padding-top:0}.p_assing[_ngcontent-%COMP%]{margin-bottom:0}.align-text-right[_ngcontent-%COMP%]{text-align:right}.example-container[_ngcontent-%COMP%]{width:100%;max-width:100%;display:inline-block;vertical-align:top}.dragdrop-leftside[_ngcontent-%COMP%]{border-radius:15px;border-right:5px solid #ededed}.dragdrop-rightside[_ngcontent-%COMP%]{border-radius:15px;border-left:5px solid #ededed}.dragdrop-associated[_ngcontent-%COMP%]{border:1px solid #ced4da;padding:0}.mat-list-base[_ngcontent-%COMP%]{padding-top:0!important}.search-btn[_ngcontent-%COMP%]{background-color:#f2f2f2;border-color:#e7e7e7;color:#707880;width:28px;height:28px;border-left:none;box-shadow:none}.clear_remove_btn[_ngcontent-%COMP%]{width:135px;height:30px;background-color:#d6dce2;color:#3f4e63;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042;margin-bottom:15px}.eSolveFilter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-right:none}.list-of-employees[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:189px;background:white;border-radius:4px;display:block;margin-left:15px;margin-right:15px}.list-of-employees-sm[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:49px;background:white;border-radius:4px;display:block;margin-left:15px;margin-right:15px}.dragdropName[_ngcontent-%COMP%]{font-weight:700;color:#565d6f}.dragdropNameTime[_ngcontent-%COMP%]{margin-left:15px}.employees-box[_ngcontent-%COMP%]{padding:5px;border-bottom:solid 1px #ccc;color:#000000de;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.list-of-employees.cdk-drop-list-dragging[_ngcontent-%COMP%]   .employees-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}#table-image[_ngcontent-%COMP%]{height:35px;width:35px;border-radius:50%}#eSolveAssign[_ngcontent-%COMP%], #eSolveInvalid[_ngcontent-%COMP%], #eSolveAvailable[_ngcontent-%COMP%], #eSolveUnavailable[_ngcontent-%COMP%], #eSolveAssociated[_ngcontent-%COMP%]{color:#fff;padding:5px 8px}img[_ngcontent-%COMP%]{height:35px;width:35px;border-radius:50%}  .mat-ink-bar{background-color:var(--eSolve-primary)!important}.eSolveChekBox[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:100%}.eSolveFilter[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;padding:0 15px}.eSolveFilter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#9c9c9c;border-color:#e7e7e7;box-shadow:none;outline:none}#statusDiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px 3px;border-radius:4px;margin-right:5px;color:#fff}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:static!important;position:initial!important}.cdk-global-scrollblock[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{position:fixed}.emplListHeight[_ngcontent-%COMP%]{height:189px}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}.centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:125}.full-width[_ngcontent-%COMP%]{width:100%}.min-width-135px[_ngcontent-%COMP%]{min-width:135px}.min-width-120px[_ngcontent-%COMP%]{min-width:120px}.min-width-100px[_ngcontent-%COMP%]{min-width:100px}.min-width-100px-status-label[_ngcontent-%COMP%]{margin-right:10px;min-width:50px}.min-width-65px[_ngcontent-%COMP%]{min-width:70px;margin-right:10px;white-space:nowrap!important}.min-width-85px[_ngcontent-%COMP%]{min-width:85px;margin-right:10px}.min-width-250px[_ngcontent-%COMP%]{min-width:250px}.or_label[_ngcontent-%COMP%]{min-width:85px;margin-right:10px;margin-left:50px}.min-width-fifthColumn[_ngcontent-%COMP%], .min-width-sixthColumn[_ngcontent-%COMP%]{min-width:40px;margin-right:10px}.min-width-110px[_ngcontent-%COMP%]{min-width:113px;margin-right:10px}.min-width-130px[_ngcontent-%COMP%]{min-width:133px;margin-right:10px}.min-width-150px[_ngcontent-%COMP%]{min-width:150px}.min-width-160px[_ngcontent-%COMP%]{min-width:160px}.min-width-270px[_ngcontent-%COMP%]{min-width:225px}.min-width-417px[_ngcontent-%COMP%]{min-width:417px}.width55[_ngcontent-%COMP%]{width:55%}#jobDetailFirstColumn[_ngcontent-%COMP%]{width:320px}#jobDetailSecondColumn[_ngcontent-%COMP%]{width:174px}#jobDetailThirdColumn[_ngcontent-%COMP%]{width:204px}#jobDetailFourthColumn[_ngcontent-%COMP%]{width:155px}#jobDetailFifthColumn[_ngcontent-%COMP%]{width:290px}#jobDetailSixthColumn[_ngcontent-%COMP%]{width:135px}.jobTypeSelect[_ngcontent-%COMP%]{width:200px}.shiftSelect[_ngcontent-%COMP%]{width:417px;padding-left:4px}.height-28px[_ngcontent-%COMP%]{height:28px}#dialog-close-x[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}#eSolveBlockTrades[_ngcontent-%COMP%], #eSolveConcurrentJob[_ngcontent-%COMP%], #eSolveCriticalTask[_ngcontent-%COMP%]{position:relative;top:6px}#eSolveJobType[_ngcontent-%COMP%], #eSolveDay[_ngcontent-%COMP%]{margin-bottom:0!important;height:28px;padding-bottom:5px;cursor:pointer}.listIsFullStyle[_ngcontent-%COMP%]{pointer-events:none;opacity:.7}#calendar-icon-img[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:5px;border-radius:0%;position:relative;left:-30px;top:3px;cursor:pointer}.gear-symbol[_ngcontent-%COMP%]{top:5px;font-size:20px;position:relative;cursor:pointer;margin-left:3px}.align-center[_ngcontent-%COMP%]{-ms-flex-align:center!important;align-items:center!important}.whiteSpace[_ngcontent-%COMP%]{white-space:nowrap}.textPosition[_ngcontent-%COMP%]{padding-left:7px!important}.marginTop[_ngcontent-%COMP%]{margin-top:4px}.input-element[_ngcontent-%COMP%]{width:67px;height:28px}.eSolvePadding[_ngcontent-%COMP%]{padding-left:0}.validation-margin-bottom[_ngcontent-%COMP%]{margin-bottom:10px}.padding-bottom-5[_ngcontent-%COMP%]{padding-bottom:5px}  .mat-tab-label{min-width:100px!important;margin-bottom:-5px;padding:0!important;font-weight:700}  .mat-tab-label span{background-color:gray}  .mat-tab-label-container{margin-left:15px;margin-right:15px}  .mat-tab-label-active p{color:#404f64!important}  .mat-tab-label-active span{background-color:#404f64!important;color:#fff}input[type=time][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=time][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.subgroup-customdata[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.cdListHeight[_ngcontent-%COMP%]{height:236px;overflow-y:auto}.subgroup-addcomment[_ngcontent-%COMP%]{height:70px;overflow-y:auto;font-size:12px;resize:none}.add_data_header[_ngcontent-%COMP%]{color:#a0a5ac;background-color:#f2f3f5;cursor:pointer;padding-left:0!important}.fas.fa-plus[_ngcontent-%COMP%], .fas.fa-minus[_ngcontent-%COMP%]{font: 14px/1 FontAwesome;vertical-align:middle}.tooltip-icon-style[_ngcontent-%COMP%]{margin-right:20px;font-size:20px;color:var(--eSolve-primary);z-index:5}.tooltip-icon-suitcase-style[_ngcontent-%COMP%]{margin-right:20px;font-size:20px;z-index:5;cursor:pointer}.blue-suitcase[_ngcontent-%COMP%]{color:#1a8d94}.red-suitcase[_ngcontent-%COMP%]{color:#c92d39}.blue-suitcase[_ngcontent-%COMP%]{color:var(--eSolve-primary)}.override-info-icon-style[_ngcontent-%COMP%]{margin-right:20px;font-size:20px;color:var(--eSolve-red);z-index:5;cursor:pointer}.tooltip-icon-style[_ngcontent-%COMP%]:hover{cursor:pointer}#customDataHeader[_ngcontent-%COMP%]{vertical-align:middle}#customDataHeader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:2px}#addCommentHeader[_ngcontent-%COMP%]{vertical-align:middle}.add_comment_label[_ngcontent-%COMP%]{padding-left:5px}.input-div[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}#addCommentHeader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:5px;padding-left:2px}.fa-plus[_ngcontent-%COMP%]:before{vertical-align:middle}i.fas.fa-minus[_ngcontent-%COMP%]{vertical-align:middle}#customData[_ngcontent-%COMP%]{margin-bottom:0}.lookup[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;padding-top:0}.disabledDragAndDropBackdrop[_ngcontent-%COMP%]{background-color:#c4c5c7;z-index:120;position:absolute;inset:0}.dragAndDropBackdrop[_ngcontent-%COMP%]{background-color:var(--eSolve-white);opacity:.7;z-index:120;position:absolute;inset:0}.testRowConcurrent[_ngcontent-%COMP%]{margin-left:-10px}.concurrentBarContainer[_ngcontent-%COMP%]{height:33px;margin-left:-10px;margin-bottom:10px}  .tooltip-inner{text-align:center;background-color:#fff;font-size:12px;color:#565d6f;font-family:Nunito Sans;border:1px solid black;max-width:-moz-fit-content;max-width:fit-content;max-width:-moz-available}.employee-tooltip-style[_ngcontent-%COMP%]{text-align:left;white-space:nowrap}.referenceArea[_ngcontent-%COMP%]{height:28px}.startEndGreenPartTime[_ngcontent-%COMP%]{margin-bottom:0;color:var(--eSolve-primary)}.g-thin-black-scroll-barAssociatedList[_ngcontent-%COMP%]{margin-bottom:15px}.employee-box-associated[_ngcontent-%COMP%]{cursor:context-menu!important}.centeredItems[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.blue-info-circle[_ngcontent-%COMP%]{font-size:20px;color:var(--eSolve-primary)}.buttons-separator[_ngcontent-%COMP%]{margin-top:25px}.shiftTopMargin[_ngcontent-%COMP%]{margin-top:31px}.min-label-width[_ngcontent-%COMP%]{min-width:152px;max-width:152px}.min-agency-label-width[_ngcontent-%COMP%]{min-width:110px;max-width:110px}.w-200[_ngcontent-%COMP%]{width:200px}.copy_job[_ngcontent-%COMP%]{left:-50px}.validation-position[_ngcontent-%COMP%]{padding-left:0;margin-left:-7px}.agency-worker-input[_ngcontent-%COMP%]{margin-top:2px}.assign-agency-button-div[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding-right:10px}.agency-button[_ngcontent-%COMP%]{height:28px;width:199px;margin-top:4px}.agency-validation-position[_ngcontent-%COMP%]{padding-left:0}.horizontal-alignment[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center}.unassign-agency-button[_ngcontent-%COMP%]{padding:0 10px 0 0;-ms-flex-align:center;align-items:center;cursor:pointer;z-index:9999}.display-none-style[_ngcontent-%COMP%]{display:none}.schedHrsColor[_ngcontent-%COMP%]{color:#fff;font-size:11.5px;margin-left:5px;padding-right:5px}.checkbox-margin-left[_ngcontent-%COMP%]{margin-left:150px}@media only screen and (max-width: 1600px){#copyjob[_ngcontent-%COMP%]{display:none}#copyJobVerticalDisplay[_ngcontent-%COMP%]{display:block}.copyDaySelect[_ngcontent-%COMP%]{min-width:155px}}@media only screen and (min-width: 1601px){#copyJobVerticalDisplay[_ngcontent-%COMP%]{display:none}.copyDaySelect[_ngcontent-%COMP%]{min-width:160px}}@media (max-width: 1445px){.modal-btn[_ngcontent-%COMP%]{width:100%}.min-width-150px[_ngcontent-%COMP%]{min-width:100px}#jobDetailFirstColumn[_ngcontent-%COMP%]{width:320px}}@media (max-width: 1470px){.min-width-417px[_ngcontent-%COMP%]{min-width:200px}.modal-btn[_ngcontent-%COMP%]{width:200px}.card_body_right[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px}.wholeTopPart[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}#jobDetailThirdColumn[_ngcontent-%COMP%]{width:320px}#jobDetailFifthColumn[_ngcontent-%COMP%]{width:310px}.min-width-fifthColumn[_ngcontent-%COMP%]{min-width:130px;margin-right:10px}.min-width-sixthColumn[_ngcontent-%COMP%]{min-width:85px;margin-right:10px}.shiftTopMargin[_ngcontent-%COMP%]{margin-top:0}}@media (max-width: 1200px){.modal-btn[_ngcontent-%COMP%]{font-size:12px}.silver-bg[_ngcontent-%COMP%]{margin-bottom:5px}.card_body_right[_ngcontent-%COMP%]{margin-top:25px;padding-left:5px;padding-right:5px}.concurrentBarContainer[_ngcontent-%COMP%]{margin-right:-17px}}@media (max-width: 840px){.min-width-417px[_ngcontent-%COMP%]{min-width:140px}}@media (max-width: 767px){.refresh-list-button[_ngcontent-%COMP%]{width:90%!important}.fifthAndSixthPart[_ngcontent-%COMP%], .thirdAndFourthPart[_ngcontent-%COMP%], .firstAndSecondPart[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}.dragdrop-leftside[_ngcontent-%COMP%]{margin-bottom:5px;border-right:none}.dragdrop-rightside[_ngcontent-%COMP%]{border-left:none}.modal-btn[_ngcontent-%COMP%]{width:200px;font-size:12px}.clear_remove_btn[_ngcontent-%COMP%]{width:135px;font-size:12px}.silver-bg[_ngcontent-%COMP%]{margin-bottom:5px}.card_body_right[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.dragdrop-leftside[_ngcontent-%COMP%]{margin-bottom:5px;border-right:none}.dragdrop-rightside[_ngcontent-%COMP%]{border-left:none}.min-width-100px[_ngcontent-%COMP%]{min-width:120px}#jobDetailFirstColumn[_ngcontent-%COMP%], #jobDetailThirdColumn[_ngcontent-%COMP%]{width:100%!important}#jobDetailSixthColumn[_ngcontent-%COMP%], #jobDetailFifthColumn[_ngcontent-%COMP%], #jobDetailSecondColumn[_ngcontent-%COMP%], #jobDetailFourthColumn[_ngcontent-%COMP%]{width:100%}#eSolveJobStartTime[_ngcontent-%COMP%], #eSolveJobEndTime[_ngcontent-%COMP%], #eSolveHours[_ngcontent-%COMP%], #eSolveNoOfEmpl[_ngcontent-%COMP%], #eSolveSortOrder[_ngcontent-%COMP%], #eSolveBlockTrades[_ngcontent-%COMP%], #eSolveConcurrentJob[_ngcontent-%COMP%], #eSolveCriticalTask[_ngcontent-%COMP%], #eSolveJobDay1Hours[_ngcontent-%COMP%], #eSolveJobDay2Hours[_ngcontent-%COMP%], #eSolveJobDay3Hours[_ngcontent-%COMP%], #eSolveJobDay4Hours[_ngcontent-%COMP%], #eSolveJobDay5Hours[_ngcontent-%COMP%], #eSolveJobDay6Hours[_ngcontent-%COMP%], #eSolveJobName[_ngcontent-%COMP%], #eSolveShift[_ngcontent-%COMP%]{float:right}.min-width-270px[_ngcontent-%COMP%], .min-width-417px[_ngcontent-%COMP%]{width:100%}.min-width-28px-sm[_ngcontent-%COMP%]{min-width:28px!important}.height-28px[_ngcontent-%COMP%], .eSolveDateConstainer[_ngcontent-%COMP%]{-ms-flex-pack:end!important;justify-content:flex-end!important}.eSolveDateConstainer[_ngcontent-%COMP%]   .min-width-150px[_ngcontent-%COMP%], #eSolveDateIconContainer[_ngcontent-%COMP%]{position:relative;right:-27px}}@media (max-width: 470px){.min-width-270px[_ngcontent-%COMP%]{min-width:80px;width:100%}.jobTypeSelect[_ngcontent-%COMP%]{width:100%}.referenceAreaSelect[_ngcontent-%COMP%]{width:132px!important}.shiftSelect[_ngcontent-%COMP%], #eSolveJobName[_ngcontent-%COMP%]{width:100%}#gearBtn[_ngcontent-%COMP%]{display:none}.eSolveEmployeeListButtonsMobile[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-align:center!important;align-items:center!important}}@media (max-width: 350px){.min-width-150px[_ngcontent-%COMP%]{min-width:100%}.min-width-fifthColumn[_ngcontent-%COMP%]{min-width:88px;margin-right:10px}}@media (max-width: 333px){.min-width-130px[_ngcontent-%COMP%]{min-width:118px}.min-width-fifthColumn[_ngcontent-%COMP%]{min-width:85px;margin-right:10px}}@media (max-width: 576px){.leftMarginInputField[_ngcontent-%COMP%]{padding-left:7px!important}.textPosition[_ngcontent-%COMP%]{margin-bottom:0!important}}.calendar-icon-img[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:5px;border-radius:0%;position:relative;top:1.5px;left:-28px;color:#989898;font-size:12px;cursor:pointer}.input-width[_ngcontent-%COMP%]{width:200px}.height28px[_ngcontent-%COMP%]{height:28px}.checkbox-margin[_ngcontent-%COMP%]{margin-top:10px}"]}),n})();class Sh{constructor(o,t,i,r,a,s){this.nodes=[],this.reset=!1,this.jobTypes=[],this.employees=[],this.viewOnly=!1,this.nodes=o,this.reset=t,this.jobTypes=i,this.employees=r,this.viewOnly=a,this.currentView=s}}class ML{constructor(o,t,i){this.maxNumberOfEmp=o,this.totalOverlap=t,this.jobTypeCount=i}}let OL=(()=>{class n{constructor(t){this.http=t}getAllJobStatuses(){return this.http.get(S.j.URLgetAllJobStatuses)}setJobStatusBackground(t){return{"background-color":t}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var kh=J(50727),Ax=J(50226),PL=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){return(0,I.Z)(this,i),t.apply(this,arguments)}return(0,M.Z)(i,[{key:"buildStyles",value:function(a,s){var l=s.display,c=_t(a);return Object.assign(Object.assign({},c),{display:"none"===l?l:c.display})}}]),i}(yt);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),EL=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"],IL=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c){var u;return(0,I.Z)(this,i),(u=t.call(this,r,s,a,l))._config=c,u.DIRECTIVE_KEY="layout",u.init(),u}return(0,M.Z)(i,[{key:"updateWithValue",value:function(a){var s,c=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(s=yS.get(c))&&void 0!==s?s:new Map,yS.set(c,this.styleCache),this.currentValue!==a&&(this.addStyles(a,{display:c}),this.currentValue=a)}}]),i}(Oi);return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(kt),e.Y36(PL),e.Y36(Ai),e.Y36(He))},n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n}(),H1=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){var r;return(0,I.Z)(this,i),(r=t.apply(this,arguments)).inputs=EL,r}return(0,M.Z)(i)}(IL);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[e.qOj]}),n}(),yS=new Map,xS={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null},NL=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a){var s;return(0,I.Z)(this,i),(s=t.call(this))._styler=r,s._config=a,s}return(0,M.Z)(i,[{key:"buildStyles",value:function(a,s){return a.endsWith(B1)?function qL(n,o){var t=n.split(" "),i=(0,ee.Z)(t,2),r=i[0],a=i[1],l=function(T){return"-".concat(T)},c="0px",u=l(null!=a?a:r),h="0px";return"rtl"===o?h=l(r):c=l(r),{margin:"0px ".concat(c," ").concat(u," ").concat(h)}}(a=Ec(a=a.slice(0,a.indexOf(B1)),this._config.multiplier),s.directionality):{}}},{key:"sideEffect",value:function(a,s,l){var c=l.items;if(a.endsWith(B1)){var u=function YL(n,o){var t=n.split(" "),i=(0,ee.Z)(t,2),r=i[0],a=i[1],l="0px",c=null!=a?a:r,u="0px";return"rtl"===o?u=r:l=r,{padding:"0px ".concat(l," ").concat(c," ").concat(u)}}(a=Ec(a=a.slice(0,a.indexOf(B1)),this._config.multiplier),l.directionality);this._styler.applyStyleToElements(u,l.items)}else{a=Ec(a,this._config.multiplier),a=this.addFallbackUnit(a);var h=c.pop(),x=function JL(n,o){var t=CS(o.directionality,o.layout),i=Object.assign({},xS);return i[t]=n,i}(a,l);this._styler.applyStyleToElements(x,c),this._styler.applyStyleToElements(xS,[h])}}},{key:"addFallbackUnit",value:function(a){return isNaN(+a)?a:"".concat(a).concat(this._config.defaultUnit)}}]),i}(yt);return n.\u0275fac=function(t){return new(t||n)(e.LFG(kt),e.LFG(He))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),RL=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"],FL=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c,u){var h;(0,I.Z)(this,i),(h=t.call(this,r,c,l,u)).zone=a,h.directionality=s,h.styleUtils=l,h.layout="row",h.DIRECTIVE_KEY="layout-gap",h.observerSubject=new b.x;var x=[h.directionality.change,h.observerSubject.asObservable()];return h.init(x),h.marshal.trackValue(h.nativeElement,"layout").pipe((0,H.R)(h.destroySubject)).subscribe(h.onLayoutChange.bind((0,yi.Z)(h))),h}return(0,M.Z)(i,[{key:"childrenNodes",get:function(){for(var a=this.nativeElement.children,s=[],l=a.length;l--;)s[l]=a[l];return s}},{key:"ngAfterContentInit",value:function(){this.buildChildObservable(),this.triggerUpdate()}},{key:"ngOnDestroy",value:function(){(0,xs.Z)((0,Qa.Z)(i.prototype),"ngOnDestroy",this).call(this),this.observer&&this.observer.disconnect()}},{key:"onLayoutChange",value:function(a){var s=this,c=a.value.split(" ");this.layout=c[0],$e.find(function(u){return u===s.layout})||(this.layout="row"),this.triggerUpdate()}},{key:"updateWithValue",value:function(a){var s=this,l=this.childrenNodes.filter(function(h){return 1===h.nodeType&&s.willDisplay(h)}).sort(function(h,x){var T=+s.styler.lookupStyle(h,"order"),O=+s.styler.lookupStyle(x,"order");return isNaN(T)||isNaN(O)||T===O?0:T>O?1:-1});if(l.length>0){var c=this.directionality.value,u=this.layout;"row"===u&&"rtl"===c?this.styleCache=ZL:"row"===u&&"rtl"!==c?this.styleCache=UL:"column"===u&&"rtl"===c?this.styleCache=LL:"column"===u&&"rtl"!==c&&(this.styleCache=jL),this.addStyles(a,{directionality:c,items:l,layout:u})}}},{key:"clearStyles",value:function(){var a=Object.keys(this.mru).length>0,s=a?"padding":CS(this.directionality.value,this.layout);a&&(0,xs.Z)((0,Qa.Z)(i.prototype),"clearStyles",this).call(this),this.styleUtils.applyStyleToElements((0,B.Z)({},s,""),this.childrenNodes)}},{key:"willDisplay",value:function(a){var s=this.marshal.getValue(a,"show-hide");return!0===s||void 0===s&&"none"!==this.styleUtils.lookupStyle(a,"display")}},{key:"buildChildObservable",value:function(){var a=this;this.zone.runOutsideAngular(function(){"undefined"!=typeof MutationObserver&&(a.observer=new MutationObserver(function(s){s.some(function(u){return u.addedNodes&&u.addedNodes.length>0||u.removedNodes&&u.removedNodes.length>0})&&a.observerSubject.next()}),a.observer.observe(a.nativeElement,{childList:!0}))})}}]),i}(Oi);return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(Ax.Is),e.Y36(kt),e.Y36(NL),e.Y36(Ai))},n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n}(),Mx=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){var r;return(0,I.Z)(this,i),(r=t.apply(this,arguments)).inputs=RL,r}return(0,M.Z)(i)}(FL);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[e.qOj]}),n}(),ZL=new Map,LL=new Map,UL=new Map,jL=new Map,B1=" grid";function CS(n,o){switch(o){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}var HL=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r){var a;return(0,I.Z)(this,i),(a=t.call(this)).layoutConfig=r,a}return(0,M.Z)(i,[{key:"buildStyles",value:function(a,s){var l=a.split(" "),c=(0,Ol.Z)(l),u=c[0],h=c[1],T=c.slice(2).join(" "),O=s.direction.indexOf("column")>-1?"column":"row",U=Vt(O)?"max-width":"max-height",re=Vt(O)?"min-width":"min-height",de=String(T).indexOf("calc")>-1,ve=de||"auto"===T,Ne=String(T).indexOf("%")>-1&&!de,De=String(T).indexOf("px")>-1||String(T).indexOf("rem")>-1||String(T).indexOf("em")>-1||String(T).indexOf("vw")>-1||String(T).indexOf("vh")>-1,Ge=de||De;h="0"==h?0:h;var We=!(u="0"==u?0:u)&&!h,gt={},rt={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(T||""){case"":T="row"===O?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":u=0,T="auto";break;case"grow":T="100%";break;case"noshrink":h=0,T="auto";break;case"auto":break;case"none":u=0,h=0,T="auto";break;default:!Ge&&!Ne&&!isNaN(T)&&(T+="%"),"0%"===T&&(Ge=!0),"0px"===T&&(T="0%"),gt=vi(rt,de?{"flex-grow":u,"flex-shrink":h,"flex-basis":Ge?T:"100%"}:{flex:"".concat(u," ").concat(h," ").concat(Ge?T:"100%")})}return gt.flex||gt["flex-grow"]||(gt=vi(rt,de?{"flex-grow":u,"flex-shrink":h,"flex-basis":T}:{flex:"".concat(u," ").concat(h," ").concat(T)})),"0%"!==T&&"0px"!==T&&"0.000000001px"!==T&&"auto"!==T&&(gt[re]=We||Ge&&u?T:null,gt[U]=We||!ve&&h?T:null),gt[re]||gt[U]?s.hasWrap&&(gt[de?"flex-basis":"flex"]=gt[U]?de?gt[U]:"".concat(u," ").concat(h," ").concat(gt[U]):de?gt[re]:"".concat(u," ").concat(h," ").concat(gt[re])):gt=vi(rt,de?{"flex-grow":u,"flex-shrink":h,"flex-basis":T}:{flex:"".concat(u," ").concat(h," ").concat(T)}),vi(gt,{"box-sizing":"border-box"})}}]),i}(yt);return n.\u0275fac=function(t){return new(t||n)(e.LFG(He))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),BL=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"],VL=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c){var u;return(0,I.Z)(this,i),(u=t.call(this,r,l,a,c)).layoutConfig=s,u.marshal=c,u.DIRECTIVE_KEY="flex",u.direction=void 0,u.wrap=void 0,u.flexGrow="1",u.flexShrink="1",u.init(),u}return(0,M.Z)(i,[{key:"shrink",get:function(){return this.flexShrink},set:function(a){this.flexShrink=a||"1",this.triggerReflow()}},{key:"grow",get:function(){return this.flexGrow},set:function(a){this.flexGrow=a||"1",this.triggerReflow()}},{key:"ngOnInit",value:function(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,H.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,H.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}},{key:"onLayoutChange",value:function(a){var l=a.value.split(" ");this.direction=l[0],this.wrap=void 0!==l[1]&&"wrap"===l[1],this.triggerUpdate()}},{key:"updateWithValue",value:function(a){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));var l=this.direction,c=l.startsWith("row"),u=this.wrap;c&&u?this.styleCache=QL:c&&!u?this.styleCache=GL:!c&&u?this.styleCache=zL:!c&&!u&&(this.styleCache=WL);var x=im(String(a).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(x.join(" "),{direction:l,hasWrap:u})}},{key:"triggerReflow",value:function(){var a=this.activatedValue;if(void 0!==a){var s=im(a+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,s.join(" "))}}}]),i}(Oi);return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(kt),e.Y36(He),e.Y36(HL),e.Y36(Ai))},n.\u0275dir=e.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[e.qOj]}),n}(),TS=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){var r;return(0,I.Z)(this,i),(r=t.apply(this,arguments)).inputs=BL,r}return(0,M.Z)(i)}(VL);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[e.qOj]}),n}(),GL=new Map,WL=new Map,QL=new Map,zL=new Map,bU=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){return(0,I.Z)(this,i),t.apply(this,arguments)}return(0,M.Z)(i,[{key:"buildStyles",value:function(a,s){var l={},c=a.split(" "),u=(0,ee.Z)(c,2),x=u[1];switch(u[0]){case"center":l["justify-content"]="center";break;case"space-around":l["justify-content"]="space-around";break;case"space-between":l["justify-content"]="space-between";break;case"space-evenly":l["justify-content"]="space-evenly";break;case"end":case"flex-end":l["justify-content"]="flex-end";break;default:l["justify-content"]="flex-start"}switch(x){case"start":case"flex-start":l["align-items"]=l["align-content"]="flex-start";break;case"center":l["align-items"]=l["align-content"]="center";break;case"end":case"flex-end":l["align-items"]=l["align-content"]="flex-end";break;case"space-between":l["align-content"]="space-between",l["align-items"]="stretch";break;case"space-around":l["align-content"]="space-around",l["align-items"]="stretch";break;case"baseline":l["align-content"]="stretch",l["align-items"]="baseline";break;default:l["align-items"]=l["align-content"]="stretch"}return vi(l,{display:s.inline?"inline-flex":"flex","flex-direction":s.layout,"box-sizing":"border-box","max-width":"stretch"===x?Vt(s.layout)?null:"100%":null,"max-height":"stretch"===x&&Vt(s.layout)?"100%":null})}}]),i}(yt);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),yU=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"],xU=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l){var c;return(0,I.Z)(this,i),(c=t.call(this,r,s,a,l)).DIRECTIVE_KEY="layout-align",c.layout="row",c.inline=!1,c.init(),c.marshal.trackValue(c.nativeElement,"layout").pipe((0,H.R)(c.destroySubject)).subscribe(c.onLayoutChange.bind((0,yi.Z)(c))),c}return(0,M.Z)(i,[{key:"updateWithValue",value:function(a){var s=this.layout||"row",l=this.inline;"row"===s&&l?this.styleCache=SU:"row"!==s||l?"row-reverse"===s&&l?this.styleCache=AU:"row-reverse"!==s||l?"column"===s&&l?this.styleCache=kU:"column"!==s||l?"column-reverse"===s&&l?this.styleCache=MU:"column-reverse"===s&&!l&&(this.styleCache=DU):this.styleCache=TU:this.styleCache=wU:this.styleCache=CU,this.addStyles(a,{layout:s,inline:l})}},{key:"onLayoutChange",value:function(a){var s=this,l=a.value.split(" ");this.layout=l[0],this.inline=a.value.includes("inline"),$e.find(function(c){return c===s.layout})||(this.layout="row"),this.triggerUpdate()}}]),i}(Oi);return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(kt),e.Y36(bU),e.Y36(Ai))},n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n}(),Ox=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){var r;return(0,I.Z)(this,i),(r=t.apply(this,arguments)).inputs=yU,r}return(0,M.Z)(i)}(xU);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[e.qOj]}),n}(),CU=new Map,TU=new Map,wU=new Map,DU=new Map,SU=new Map,kU=new Map,AU=new Map,MU=new Map,wS=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Nr,Ax.vT]}),n}();function OU(n,o){if(1&n&&(e.TgZ(0,"div",2),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngStyle",i.setBackground(t)),e.xp6(1),e.Oqu(t.name)}}let PU=(()=>{class n{constructor(t){this.jobStatusService=t,this.jobStatusColors=[],this.subscription=new kh.w0}getAllJobStatusObjects(){this.jobStatusService.getAllJobStatuses().subscribe(t=>{this.jobStatusColors=t})}setBackground(t){return this.jobStatusService.setJobStatusBackground(t.primaryColor)}ngAfterViewInit(){this.getAllJobStatusObjects()}ngOnDestroy(){this.subscription.unsubscribe(),this.jobStatusColors=[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(OL))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-legend-dialog"]],decls:2,vars:1,consts:[["fxLayout","column","fxLayoutGap","3%"],["class","esolve-legend-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"esolve-legend-item",3,"ngStyle"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,OU,2,2,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.jobStatusColors))},dependencies:[D.sg,D.PC,H1,Mx,Ja],styles:[".esolve-legend-item[_ngcontent-%COMP%]{font-size:11px;padding-left:5px;border-radius:5px;color:#fff}.esolve-container[_ngcontent-%COMP%]{height:100%!important}"]}),n})();class EU{constructor(o,t,i,r,a){this.payPeriod=o,this.initialView=t,this.startDayOfTheWeek=i,this.payPeriodStartDate=r,this.payPeriodIsMonth=a}}let DS=(()=>{class n{constructor(t){this.http=t}getAllScheduleConstraints(t,i){return new A.y(i||null!=i?r=>{this.http.get(S.j.URLconstraints+"/schedule",{params:{Id:null!=t?t:0,Name:null!=i?i:null}}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))}:r=>{this.http.get(S.j.URLconstraints+"/schedule",{params:{Id:null!=t?t:0}}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}getConstraintRules(){return new A.y(t=>{this.http.get(S.j.URLconstraints+"/constraintrules",{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}delete(t){return new A.y(i=>{this.http.delete(S.j.URLconstraints+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}getConstraintRuleForm(t,i,r){return new A.y(a=>{this.http.get(S.j.URLconstraints+"/ruleform",{params:{ScheduleID:null!=t?t:0,ConstraintRuleID:null!=i?i:0,ConstraintID:null!=r?r:0}}).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}create(t){return new A.y(i=>{this.http.post(S.j.URLconstraints,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}edit(t){return new A.y(i=>{this.http.put(S.j.URLconstraints,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}isActive(t){return new A.y(i=>{this.http.put(S.j.URLconstraints+"/"+t,{}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}checkIfConstraintNameIsUnique(t,i,r){return new A.y(a=>{this.http.get(S.j.URLconstraints+"/name",{params:{ScheduleID:null!=t?t:0,ConstraintID:null!=i?i:0,ConstraintName:null!=r?r:""},observe:"response"}).subscribe(s=>(a.next(s.status),a.complete()),s=>a.error(s))})}constraintIsChanged(t){return this.http.get(S.j.URLconstraints+"/apply/"+t,{})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Constraint Type ",t.message.required," ")}}function NU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Constraint Name ",t.message.required," ")}}function RU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Constraint Name ",t.message.inUse," ")}}function FU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Date Range ",t.message.required," ")}}function ZU(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"ng-select",32),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.changedSelect("DateRange",r,"",a.backendKey))}),e.qZA()(),e.YNc(7,FU,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required",2==i.constraintRuleId||4==i.constraintRuleId||7==i.constraintRuleId||11==i.constraintRuleId||13==i.constraintRuleId)("items",t.choices)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.DateRange?null:i.constraintForm.controls.constraintFields.controls.DateRange.touched)&&(null==i.constraintForm.controls.constraintFields.controls.DateRange.errors?null:i.constraintForm.controls.constraintFields.controls.DateRange.errors.required))}}function LU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Offset ",t.message.required," ")}}function UU(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Offset must be less than Amount. "),e.qZA())}function jU(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Must be a valid number. "),e.qZA())}const eu=function(n){return{"display-none":n}};function YU(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",34),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(4);return a.isOffsetLessThanAmount(),e.KtG(a.preventInput(r))})("keyup",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.preventInput(r))}),e.qZA()(),e.YNc(7,LU,2,1,"div",14),e.YNc(8,UU,2,0,"div",14),e.YNc(9,jU,2,0,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("ngClass",e.VKq(11,eu,"Custom"!=i.selectedDateRange)),e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required","Custom"==i.selectedDateRange),e.uIk("min",0!=t.min&&"Custom"==i.selectedDateRange?t.min:null)("max","Custom"==i.selectedDateRange?t.max:null),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.Offset?null:i.constraintForm.controls.constraintFields.controls.Offset.touched)&&!i.constraintForm.controls.constraintFields.controls.Offset.valid),e.xp6(1),e.Q6J("ngIf",!i.isOffsetLessAmount),e.xp6(1),e.Q6J("ngIf",!i.validOffset&&i.constraintForm.controls.constraintFields.controls.Offset.valid)}}function qU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Amount ",t.message.required," ")}}function JU(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Must be a valid number. "),e.qZA())}function HU(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",34),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(4);return a.isOffsetLessThanAmount(),e.KtG(a.preventInput(r))})("keyup",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.preventInput(r))}),e.qZA()(),e.YNc(7,qU,2,1,"div",14),e.YNc(8,JU,2,0,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("ngClass",e.VKq(10,eu,"Custom"!=i.selectedDateRange)),e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required","Custom"==i.selectedDateRange),e.uIk("min","Custom"==i.selectedDateRange?t.min:null)("max",0!=t.max&&"Custom"==i.selectedDateRange?t.max:null),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.Amount?null:i.constraintForm.controls.constraintFields.controls.Amount.touched)&&!i.constraintForm.controls.constraintFields.controls.Amount.valid),e.xp6(1),e.Q6J("ngIf",!i.validAmount&&i.constraintForm.controls.constraintFields.controls.Amount.valid)}}function BU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Base Date ",t.message.required," ")}}function VU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function GU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Base Date ",t.message.futureDate," ")}}function WU(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",35)(6,"div",36)(7,"input",37),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.dateValidation(r))}),e.qZA()(),e.TgZ(8,"div")(9,"img",38),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(11);return e.KtG(r.open())}),e.qZA(),e._UZ(10,"mat-datepicker",39,40),e.qZA()(),e.YNc(12,BU,2,1,"div",14),e.YNc(13,VU,2,1,"div",14),e.YNc(14,GU,2,1,"div",14),e.qZA()()}if(2&n){const t=e.MAs(11),i=e.oxw().$implicit,r=e.oxw(3);e.Q6J("ngClass",e.VKq(14,eu,"Base Date"!=r.selectedDateRange)),e.xp6(4),e.Oqu(i.labelName),e.xp6(3),e.s9C("placeholder",r.message.datePickerPlaceholder),e.Q6J("name",i.backendKey)("max",r.currentDate)("dateLengthTracker",r.dateLength)("formControlName",i.backendKey)("id",i.backendKey)("matDatepicker",t)("required","Base Date"==r.selectedDateRange),e.xp6(3),e.s9C("touchUi",r.isMobile),e.xp6(2),e.Q6J("ngIf",(null==r.constraintForm.controls.constraintFields.controls.BaseDate?null:r.constraintForm.controls.constraintFields.controls.BaseDate.touched)&&!r.constraintForm.controls.constraintFields.controls.BaseDate.valid&&!r.isFutureDate&&!(null!=r.constraintForm.controls.constraintFields.controls.BaseDate&&null!=r.constraintForm.controls.constraintFields.controls.BaseDate.errors&&r.constraintForm.controls.constraintFields.controls.BaseDate.errors.matDatepickerParse)&&!(null!=r.constraintForm.controls.constraintFields.controls.BaseDate&&null!=r.constraintForm.controls.constraintFields.controls.BaseDate.errors&&r.constraintForm.controls.constraintFields.controls.BaseDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",!r.isFutureDate&&((null==r.constraintForm.controls.constraintFields.controls.BaseDate||null==r.constraintForm.controls.constraintFields.controls.BaseDate.errors?null:r.constraintForm.controls.constraintFields.controls.BaseDate.errors.matDatepickerParse)||(null==r.constraintForm.controls.constraintFields.controls.BaseDate||null==r.constraintForm.controls.constraintFields.controls.BaseDate.errors?null:r.constraintForm.controls.constraintFields.controls.BaseDate.errors.minlength))),e.xp6(1),e.Q6J("ngIf",r.isFutureDate)}}function QU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Base Date Range ",t.message.required," ")}}function zU(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function KU(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",41),e.NdJ("keyup",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.preventInput(r))})("change",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return s.changeSetValueField(a.backendKey),e.KtG(s.preventInput(r))}),e.qZA()(),e.YNc(7,QU,2,1,"div",14),e.YNc(8,zU,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("ngClass",e.VKq(10,eu,"Base Date"!=i.selectedDateRange)),e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required","Base Date"==i.selectedDateRange),e.uIk("min","Base Date"==i.selectedDateRange||"Pay Period"==i.selectedDateRange?t.min:null)("max",0==t.max||"Base Date"!=i.selectedDateRange&&"Pay Period"!=i.selectedDateRange?null:t.max),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.BaseDateRange?null:i.constraintForm.controls.constraintFields.controls.BaseDateRange.touched)&&!i.constraintForm.controls.constraintFields.controls.BaseDateRange.valid),e.xp6(1),e.Q6J("ngIf",!i.validBaseDateRange&&i.constraintForm.controls.constraintFields.controls.BaseDateRange.valid)}}function $U(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ZU,8,8,"div",29),e.YNc(2,YU,10,13,"div",30),e.YNc(3,HU,9,12,"div",30),e.YNc(4,WU,15,16,"div",30),e.YNc(5,KU,9,12,"div",30),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","DateRange"===t.backendKey),e.xp6(1),e.Q6J("ngIf","Offset"===t.backendKey),e.xp6(1),e.Q6J("ngIf","Amount"===t.backendKey),e.xp6(1),e.Q6J("ngIf","BaseDate"===t.backendKey),e.xp6(1),e.Q6J("ngIf","BaseDateRange"===t.backendKey)}}function XU(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr",26),e.TgZ(2,"div",27),e.YNc(3,$U,6,5,"ng-container",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",t.isFormGenerated?"visibility-visible":"visibility-none"),e.xp6(2),e.Q6J("ngForOf",t.passedConstraintJson)}}function ej(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Hours Type ",t.message.required," ")}}function tj(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"ng-select",32),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.changedSelect("HoursType",r,"",a.backendKey))}),e.qZA()(),e.YNc(7,ej,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required",2==i.constraintRuleId)("items",t.choices)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.HoursType?null:i.constraintForm.controls.constraintFields.controls.HoursType.touched)&&!i.constraintForm.controls.constraintFields.controls.HoursType.valid)}}function nj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function ij(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",43),e.NdJ("keyup",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.preventInput(r))})("change",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return s.changeSetValueField(a.backendKey),e.KtG(s.preventInput(r))}),e.qZA()(),e.YNc(7,nj,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("ngClass",e.VKq(9,eu,"Set Value"!=i.selectedHoursType)),e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required","Set Value"==i.selectedHoursType),e.uIk("min","Set Value"==i.selectedDateRange?0:null)("max",0!=t.max&&"Set Value"==i.selectedDateRange?t.max:null),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.SetValue?null:i.constraintForm.controls.constraintFields.controls.SetValue.touched)&&!i.constraintForm.controls.constraintFields.controls.SetValue.valid)}}function rj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Max Hours ",t.message.required," ")}}function oj(n,o){if(1&n&&(e.TgZ(0,"div",33)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2),e._UZ(6,"ng-select",44),e.qZA(),e.YNc(7,rj,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("ngClass",e.VKq(9,eu,"Employee Specific"!=i.selectedHoursType)),e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required","Employee Specific"==i.selectedHoursType)("items",t.choices)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.MaxHoursField?null:i.constraintForm.controls.constraintFields.controls.MaxHoursField.touched)&&!i.constraintForm.controls.constraintFields.controls.MaxHoursField.valid)}}function aj(n,o){if(1&n&&(e.ynx(0),e.YNc(1,tj,8,8,"div",29),e.YNc(2,ij,8,11,"div",30),e.YNc(3,oj,8,11,"div",30),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","HoursType"===t.backendKey),e.xp6(1),e.Q6J("ngIf","SetValue"===t.backendKey),e.xp6(1),e.Q6J("ngIf","MaxHoursField"===t.backendKey)}}function sj(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr",42),e.TgZ(2,"div",27),e.YNc(3,aj,4,3,"ng-container",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",t.isFormGenerated?"visibility-visible":"visibility-none"),e.xp6(2),e.Q6J("ngForOf",t.passedConstraintJson)}}function lj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Day of Week ",t.message.required," ")}}function cj(n,o){if(1&n&&(e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2),e._UZ(6,"ng-select",45),e.qZA(),e.YNc(7,lj,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required",4==i.constraintRuleId)("items",t.choices)("clearable",!1)("searchable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.DatOfWeek?null:i.constraintForm.controls.constraintFields.controls.DatOfWeek.touched)&&!i.constraintForm.controls.constraintFields.controls.DatOfWeek.valid)}}function dj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Job Type ",t.message.required," ")}}function uj(n,o){if(1&n&&(e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2),e._UZ(6,"ng-select",46),e.qZA(),e.YNc(7,dj,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required",7==i.constraintRuleId||8==i.constraintRuleId)("items",t.choices)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.JobType?null:i.constraintForm.controls.constraintFields.controls.JobType.touched)&&!i.constraintForm.controls.constraintFields.controls.JobType.valid)}}function pj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Max Count ",t.message.required," ")}}function fj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function hj(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",43),e.NdJ("keyup",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.preventInput(r))})("change",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return s.changeSetValueField(a.backendKey),e.KtG(s.preventInput(r))}),e.qZA()(),e.YNc(7,pj,2,1,"div",14),e.YNc(8,fj,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required",4==i.constraintRuleId||7==i.constraintRuleId||8==i.constraintRuleId||13==i.constraintRuleId),e.uIk("min",4==i.constraintRuleId?0:t.min)("max",4==i.constraintRuleId?2147483647:t.max),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.MaxCount?null:i.constraintForm.controls.constraintFields.controls.MaxCount.touched)&&!i.constraintForm.controls.constraintFields.controls.MaxCount.valid),e.xp6(1),e.Q6J("ngIf",!i.validMaxCount)}}function mj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Max Count ",t.message.required," ")}}function gj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function _j(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",43),e.NdJ("keyup",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.preventInput(r))})("change",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return s.changeSetValueField(a.backendKey),e.KtG(s.preventInput(r))}),e.qZA()(),e.YNc(7,mj,2,1,"div",14),e.YNc(8,gj,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required",8==i.constraintRuleId),e.uIk("min",t.min)("max",t.max),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.RestDays?null:i.constraintForm.controls.constraintFields.controls.RestDays.touched)&&!i.constraintForm.controls.constraintFields.controls.RestDays.valid),e.xp6(1),e.Q6J("ngIf",!i.validRestDays)}}function vj(n,o){if(1&n&&(e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2),e._UZ(6,"mat-checkbox",47),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("id",t.backendKey)("formControlName",t.backendKey)}}function bj(n,o){if(1&n&&(e.ynx(0),e.YNc(1,cj,8,9,"div",29),e.YNc(2,uj,8,8,"div",29),e.YNc(3,hj,9,9,"div",29),e.YNc(4,_j,9,9,"div",29),e.YNc(5,vj,7,4,"div",29),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","DatOfWeek"===t.backendKey),e.xp6(1),e.Q6J("ngIf","JobType"===t.backendKey),e.xp6(1),e.Q6J("ngIf","MaxCount"===t.backendKey),e.xp6(1),e.Q6J("ngIf","RestDays"===t.backendKey),e.xp6(1),e.Q6J("ngIf","CountOverNights"===t.backendKey)}}function yj(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr",42),e.TgZ(2,"div",27),e.YNc(3,bj,6,5,"ng-container",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",t.isFormGenerated?"visibility-visible":"visibility-none"),e.xp6(2),e.Q6J("ngForOf",t.passedConstraintJson)}}function xj(n,o){if(1&n&&(e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2),e._UZ(6,"ng-select",45),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required",t.required)("items",t.choices)("clearable",!1)("searchable",!1)("dropdownPosition","top")}}function Cj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Number Of Rest Days ",t.message.required," ")}}function Tj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.validNumber," ")}}function wj(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",43),e.NdJ("keyup",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return s.changeSetValueField(a.backendKey),e.KtG(s.preventInput(r))})("change",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return s.changeSetValueField(a.backendKey),s.preventInput(r),e.KtG(s.numberOfRestDaysChanged())}),e.qZA()(),e.YNc(7,Cj,2,1,"div",14),e.YNc(8,Tj,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required",t.required),e.uIk("min",t.min)("max",t.max),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.NumberOfRestDays?null:i.constraintForm.controls.constraintFields.controls.NumberOfRestDays.touched)&&!i.constraintForm.controls.constraintFields.controls.NumberOfRestDays.valid),e.xp6(1),e.Q6J("ngIf",!i.validNumberOfRestDays)}}function Dj(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"mat-checkbox",48),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.mustBeConsecutiveChanged())}),e.qZA()()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("id",t.backendKey)("formControlName",t.backendKey)}}function Sj(n,o){if(1&n&&(e.ynx(0),e.YNc(1,xj,7,8,"div",29),e.YNc(2,wj,9,9,"div",29),e.YNc(3,Dj,7,4,"div",29),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","StartDay"===t.backendKey),e.xp6(1),e.Q6J("ngIf","NumberOfRestDays"===t.backendKey),e.xp6(1),e.Q6J("ngIf","MustBeConsecutive"===t.backendKey)}}function kj(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr",42),e.TgZ(2,"div",27),e.YNc(3,Sj,4,3,"ng-container",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",t.isFormGenerated?"visibility-visible":"visibility-none"),e.xp6(2),e.Q6J("ngForOf",t.passedConstraintJson)}}function Aj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Employee A ",t.message.required," ")}}function Mj(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"ng-select",49),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.validationForEmployeeSelect(r))}),e.qZA()(),e.YNc(7,Aj,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("formControlName",t.backendKey)("items",t.choices)("multiple",!1)("required",5==i.constraintRuleId||6==i.constraintRuleId)("dropdownPosition","top")("clearable",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.EmployeeA?null:i.constraintForm.controls.constraintFields.controls.EmployeeA.touched)&&!i.constraintForm.controls.constraintFields.controls.EmployeeA.valid)}}function Oj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Employee B ",t.message.required," ")}}function Pj(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"ng-select",49),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.validationForEmployeeSelect(r))}),e.qZA()(),e.YNc(7,Oj,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("formControlName",t.backendKey)("items",t.choices)("multiple",!1)("required",5==i.constraintRuleId||6==i.constraintRuleId)("dropdownPosition","top")("clearable",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.EmployeeB?null:i.constraintForm.controls.constraintFields.controls.EmployeeB.touched)&&!i.constraintForm.controls.constraintFields.controls.EmployeeB.valid)}}function Ej(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Mj,8,8,"div",29),e.YNc(2,Pj,8,8,"div",29),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","EmployeeA"===t.backendKey),e.xp6(1),e.Q6J("ngIf","EmployeeB"===t.backendKey)}}function Ij(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Employee A ",t.message.uniqueSelect," Employee B. ")}}function Nj(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr",42),e.TgZ(2,"div",27),e.YNc(3,Ej,3,2,"ng-container",28),e.YNc(4,Ij,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",t.isFormGenerated?"visibility-visible":"visibility-none"),e.xp6(2),e.Q6J("ngForOf",t.passedConstraintJson),e.xp6(1),e.Q6J("ngIf",!t.validEmployeeAB)}}function Rj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Reference ",t.message.required," ")}}function Fj(n,o){if(1&n&&(e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2),e._UZ(6,"ng-select",45),e.qZA(),e.YNc(7,Rj,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required",t.required)("items",t.choices)("clearable",!1)("searchable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.Reference?null:i.constraintForm.controls.constraintFields.controls.Reference.touched)&&!i.constraintForm.controls.constraintFields.controls.Reference.valid)}}function Zj(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Fj,8,9,"div",29),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","Reference"===t.backendKey)}}function Lj(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr",42),e.TgZ(2,"div",27),e.YNc(3,Zj,2,1,"ng-container",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",t.isFormGenerated?"visibility-visible":"visibility-none"),e.xp6(2),e.Q6J("ngForOf",t.passedConstraintJson)}}function Uj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function jj(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Must be a valid number. "),e.qZA())}function Yj(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Maximum Gap must be less or equal than Minimum Rest Period. "),e.qZA())}function qj(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",43),e.NdJ("keyup",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.preventInput(r))})("change",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return s.changeSetValueField(a.backendKey),s.preventInput(r),e.KtG(s.isMaximumGapLessThanOrEqualMinimumRestPeriod())}),e.qZA()(),e.YNc(7,Uj,2,1,"div",14),e.YNc(8,jj,2,0,"div",14),e.YNc(9,Yj,2,0,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required",t.required),e.uIk("min",t.min)("max",t.max),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.MinimumRestPeriod?null:i.constraintForm.controls.constraintFields.controls.MinimumRestPeriod.touched)&&!i.constraintForm.controls.constraintFields.controls.MinimumRestPeriod.valid),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.MinimumRestPeriod?null:i.constraintForm.controls.constraintFields.controls.MinimumRestPeriod.touched)&&i.constraintForm.controls.constraintFields.controls.MinimumRestPeriod.valid&&!i.validMinimumRestPeriod),e.xp6(1),e.Q6J("ngIf",!i.isGapLessThanRestPeriod)}}function Jj(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function Hj(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Must be a valid number. "),e.qZA())}function Bj(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",43),e.NdJ("keyup",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.preventInput(r))})("change",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return s.changeSetValueField(a.backendKey),s.preventInput(r),e.KtG(s.isMaximumGapLessThanOrEqualMinimumRestPeriod())}),e.qZA()(),e.YNc(7,Jj,2,1,"div",14),e.YNc(8,Hj,2,0,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required",t.required),e.uIk("min",t.min)("max",t.max),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.MaximumGap?null:i.constraintForm.controls.constraintFields.controls.MaximumGap.touched)&&!i.constraintForm.controls.constraintFields.controls.MaximumGap.valid),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.MaximumGap?null:i.constraintForm.controls.constraintFields.controls.MaximumGap.touched)&&i.constraintForm.controls.constraintFields.controls.MaximumGap.valid&&!i.validMaximumGap)}}function Vj(n,o){if(1&n&&(e.ynx(0),e.YNc(1,qj,10,10,"div",29),e.YNc(2,Bj,9,9,"div",29),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","MinimumRestPeriod"===t.backendKey),e.xp6(1),e.Q6J("ngIf","MaximumGap"===t.backendKey)}}function Gj(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr",26),e.TgZ(2,"div",27),e.YNc(3,Vj,3,2,"ng-container",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",t.isFormGenerated?"visibility-visible":"visibility-none"),e.xp6(2),e.Q6J("ngForOf",t.passedConstraintJson)}}function Wj(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function Qj(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function zj(n,o){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,Wj,2,1,"div",18),e.YNc(2,Qj,2,1,"div",18),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",(null==t.constraintForm.controls.constraintFields.controls.JobStartFrom||null==t.constraintForm.controls.constraintFields.controls.JobStartFrom.errors?null:t.constraintForm.controls.constraintFields.controls.JobStartFrom.errors.required)&&!(null!=t.constraintForm.controls.constraintFields.controls.JobStartFrom&&null!=t.constraintForm.controls.constraintFields.controls.JobStartFrom.errors&&t.constraintForm.controls.constraintFields.controls.JobStartFrom.errors.minlength)),e.xp6(1),e.Q6J("ngIf",null==t.constraintForm.controls.constraintFields.controls.JobStartFrom||null==t.constraintForm.controls.constraintFields.controls.JobStartFrom.errors?null:t.constraintForm.controls.constraintFields.controls.JobStartFrom.errors.minlength)}}function Kj(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",50),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(4);return r.isJobStartEndTimeRequired(),e.KtG(r.isJobTimeToLessThanTimeFrom("start"))}),e.qZA()(),e.YNc(7,zj,3,2,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required",i.isJobStartTimeRequired)("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.JobStartFrom?null:i.constraintForm.controls.constraintFields.controls.JobStartFrom.touched)&&!(null!=i.constraintForm.controls.constraintFields.controls.JobStartFrom&&i.constraintForm.controls.constraintFields.controls.JobStartFrom.valid))}}function $j(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function Xj(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" Job Start To ",t.message.negativeTime," Job Start From ")}}function eY(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function tY(n,o){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,$j,2,1,"div",18),e.YNc(2,Xj,2,1,"div",18),e.YNc(3,eY,2,1,"div",18),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",null==t.constraintForm.controls.constraintFields.controls.JobStartTo.errors?null:t.constraintForm.controls.constraintFields.controls.JobStartTo.errors.required),e.xp6(1),e.Q6J("ngIf",!(null!=t.constraintForm.controls.constraintFields.controls.JobStartTo.errors&&t.constraintForm.controls.constraintFields.controls.JobStartTo.errors.required)&&!(null!=t.constraintForm.controls.constraintFields.controls.JobStartTo.errors&&t.constraintForm.controls.constraintFields.controls.JobStartTo.errors.minlength)&&((null==t.constraintForm.controls.constraintFields.controls.JobStartTo.errors?null:t.constraintForm.controls.constraintFields.controls.JobStartTo.errors.jobStartToisSameOrBeforeJobStartFrom)||t.isJobStartToisSameOrBeforeJobStartFrom)),e.xp6(1),e.Q6J("ngIf",null==t.constraintForm.controls.constraintFields.controls.JobStartTo.errors?null:t.constraintForm.controls.constraintFields.controls.JobStartTo.errors.minlength)}}function nY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",50),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(4);return r.isJobStartEndTimeRequired(),e.KtG(r.isJobTimeToLessThanTimeFrom("start"))}),e.qZA()(),e.YNc(7,tY,4,3,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required",i.isJobStartTimeRequired)("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",i.constraintForm.controls.constraintFields.controls.JobStartTo.touched&&!i.constraintForm.controls.constraintFields.controls.JobStartTo.valid||i.isJobStartToisSameOrBeforeJobStartFrom)}}function iY(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function rY(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function oY(n,o){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,iY,2,1,"div",18),e.YNc(2,rY,2,1,"div",18),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",(null==t.constraintForm.controls.constraintFields.controls.JobEndFrom.errors?null:t.constraintForm.controls.constraintFields.controls.JobEndFrom.errors.required)&&!(null!=t.constraintForm.controls.constraintFields.controls.JobEndFrom.errors&&t.constraintForm.controls.constraintFields.controls.JobEndFrom.errors.minlength)),e.xp6(1),e.Q6J("ngIf",null==t.constraintForm.controls.constraintFields.controls.JobEndFrom.errors?null:t.constraintForm.controls.constraintFields.controls.JobEndFrom.errors.minlength)}}function aY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",50),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(4);return r.isJobStartEndTimeRequired(),e.KtG(r.isJobTimeToLessThanTimeFrom("end"))}),e.qZA()(),e.YNc(7,oY,3,2,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required",i.isJobEndTimeRequired)("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.JobEndFrom?null:i.constraintForm.controls.constraintFields.controls.JobEndFrom.touched)&&!i.constraintForm.controls.constraintFields.controls.JobEndFrom.valid)}}function sY(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function lY(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" Job End To ",t.message.negativeTime," Job End From ")}}function cY(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function dY(n,o){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,sY,2,1,"div",18),e.YNc(2,lY,2,1,"div",18),e.YNc(3,cY,2,1,"div",18),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",null==t.constraintForm.controls.constraintFields.controls.JobEndTo||null==t.constraintForm.controls.constraintFields.controls.JobEndTo.errors?null:t.constraintForm.controls.constraintFields.controls.JobEndTo.errors.required),e.xp6(1),e.Q6J("ngIf",!(null!=t.constraintForm.controls.constraintFields.controls.JobEndTo&&null!=t.constraintForm.controls.constraintFields.controls.JobEndTo.errors&&t.constraintForm.controls.constraintFields.controls.JobEndTo.errors.required)&&!(null!=t.constraintForm.controls.constraintFields.controls.JobEndTo.errors&&t.constraintForm.controls.constraintFields.controls.JobEndTo.errors.minlength)&&((null==t.constraintForm.controls.constraintFields.controls.JobEndTo||null==t.constraintForm.controls.constraintFields.controls.JobEndTo.errors?null:t.constraintForm.controls.constraintFields.controls.JobEndTo.errors.jobEndToisSameOrBeforeJobEndFrom)||t.isJobEndToisSameOrBeforeJobEndFrom)),e.xp6(1),e.Q6J("ngIf",null==t.constraintForm.controls.constraintFields.controls.JobEndTo.errors?null:t.constraintForm.controls.constraintFields.controls.JobEndTo.errors.minlength)}}function uY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"input",50),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(4);return r.isJobStartEndTimeRequired(),e.KtG(r.isJobTimeToLessThanTimeFrom("end"))}),e.qZA()(),e.YNc(7,dY,4,3,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required",i.isJobEndTimeRequired)("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.JobEndTo?null:i.constraintForm.controls.constraintFields.controls.JobEndTo.touched)&&!(null!=i.constraintForm.controls.constraintFields.controls.JobEndTo&&i.constraintForm.controls.constraintFields.controls.JobEndTo.valid)||i.isJobEndToisSameOrBeforeJobEndFrom)}}function pY(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Kj,8,7,"div",29),e.YNc(2,nY,8,7,"div",29),e.YNc(3,aY,8,7,"div",29),e.YNc(4,uY,8,7,"div",29),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","JobStartFrom"===t.backendKey),e.xp6(1),e.Q6J("ngIf","JobStartTo"===t.backendKey),e.xp6(1),e.Q6J("ngIf","JobEndFrom"===t.backendKey),e.xp6(1),e.Q6J("ngIf","JobEndTo"===t.backendKey)}}function fY(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr",42),e.TgZ(2,"div",27),e.YNc(3,pY,5,4,"ng-container",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",t.isFormGenerated?"visibility-visible":"visibility-none"),e.xp6(2),e.Q6J("ngForOf",t.passedConstraintJson)}}function hY(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Comparison Mode ",t.message.required," ")}}function mY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"ng-select",54),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return s.changedSelect("ComparisonMode",r,"",a.backendKey),s.checkIsComparisonModeRequired(),e.KtG(s.onEmployeeFieldChange())})("clear",function(r){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return s.changedSelect("ComparisonMode",r,"",a.backendKey),e.KtG(s.checkIsComparisonModeRequired())}),e.qZA()(),e.YNc(7,hY,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required",i.isComparisonModeRequired||t.required)("items",t.choices)("clearable",!0)("searchable",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.ComparisonMode?null:i.constraintForm.controls.constraintFields.controls.ComparisonMode.touched)&&!i.constraintForm.controls.constraintFields.controls.ComparisonMode.valid)}}function gY(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Operator ",t.message.required," ")}}function _Y(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Selected operator is not supported for this field. "),e.qZA())}function vY(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Selected operator is not supported for this comparison mode. "),e.qZA())}function bY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",55)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"ng-select",32),e.NdJ("change",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.checkIsComparisonModeRequired(r.backendKey))}),e.qZA()(),e.YNc(7,gY,2,1,"div",14),e.YNc(8,_Y,2,0,"div",14),e.YNc(9,vY,2,0,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("ngClass","Set Value"==i.constraintForm.controls.constraintFields.controls.ComparisonMode.value&&"Location"==(null==i.constraintForm.controls.constraintFields.controls.EmployeeField?null:i.constraintForm.controls.constraintFields.controls.EmployeeField.value)?"col-md-2 col-12":"col-md-3 col-12"),e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required",i.isComparisonModeRequired)("items",t.choices)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.Operator?null:i.constraintForm.controls.constraintFields.controls.Operator.touched)&&!i.constraintForm.controls.constraintFields.controls.Operator.valid),e.xp6(1),e.Q6J("ngIf",!i.isSelectedOperatorSupported()&&"Set Value"==i.constraintForm.controls.constraintFields.controls.ComparisonMode.value),e.xp6(1),e.Q6J("ngIf",!i.isSelectedOperatorSupported()&&"Custom Data"==i.constraintForm.controls.constraintFields.controls.ComparisonMode.value)}}function yY(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Employee Field ",t.message.required," ")}}function xY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2)(6,"ng-select",56),e.NdJ("change",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(3);return a.checkIsComparisonModeRequired(r.backendKey),e.KtG(a.onEmployeeFieldChange())}),e.qZA()(),e.YNc(7,yY,2,1,"div",14),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required",i.isComparisonModeRequired)("items",t.choices)("clearable",!1)("searchable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.EmployeeField?null:i.constraintForm.controls.constraintFields.controls.EmployeeField.touched)&&!i.constraintForm.controls.constraintFields.controls.EmployeeField.valid)}}function CY(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Custom Data ",t.message.required," ")}}function TY(n,o){if(1&n&&(e.TgZ(0,"div",33)(1,"div",1)(2,"div",2)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2),e._UZ(6,"ng-select",57),e.qZA(),e.YNc(7,CY,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("ngClass",e.VKq(10,eu,"Custom Data"!=i.selectedComparisonMode)),e.xp6(4),e.Oqu(t.labelName),e.xp6(2),e.Q6J("id",t.backendKey)("formControlName",t.backendKey)("required","Custom Data"==i.selectedComparisonMode)("items",t.choices)("clearable",!1)("searchable",!1)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.CustomData?null:i.constraintForm.controls.constraintFields.controls.CustomData.touched)&&!i.constraintForm.controls.constraintFields.controls.CustomData.valid)}}function wY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",68),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),a=r.index,s=r.$implicit,l=e.oxw(6);return e.KtG(l.deleteValue(a,s.controls.id.value,s.controls.name.value))}),e.qZA()}}function DY(n,o){if(1&n&&(e.TgZ(0,"div",69),e._uU(1),e.qZA()),2&n){const t=e.oxw(7);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function SY(n,o){1&n&&(e.TgZ(0,"div",70)(1,"strong"),e._uU(2,"OR"),e.qZA()())}const kY=function(n){return{"first-input-element":n}};function AY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",62)(2,"input",63),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(6);return e.KtG(r.uniqueLocationValues())}),e.qZA(),e.YNc(3,wY,1,0,"i",64),e.qZA(),e.TgZ(4,"div",1)(5,"div",65),e.YNc(6,DY,2,1,"div",66),e.qZA(),e.YNc(7,SY,3,0,"div",67),e.qZA()()}if(2&n){const t=o.index,i=o.first,r=o.last,a=e.oxw(6);e.xp6(1),e.Q6J("formGroupName",t)("ngClass",e.VKq(5,kY,i)),e.xp6(2),e.Q6J("ngIf","Location"==(null==a.constraintForm.controls.constraintFields.controls.EmployeeField?null:a.constraintForm.controls.constraintFields.controls.EmployeeField.value)&&0!=t),e.xp6(3),e.Q6J("ngIf",(null==a.constraintForm.get("constraintFields").controls.SetValues.controls[t].controls.name?null:a.constraintForm.get("constraintFields").controls.SetValues.controls[t].controls.name.touched)&&(null==a.constraintForm.get("constraintFields").controls.SetValues.controls[t].controls.name||null==a.constraintForm.get("constraintFields").controls.SetValues.controls[t].controls.name.errors?null:a.constraintForm.get("constraintFields").controls.SetValues.controls[t].controls.name.errors.required)),e.xp6(1),e.Q6J("ngIf",!r)}}function MY(n,o){if(1&n&&(e.TgZ(0,"div",71),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" Values ",t.message.unique," ")}}function OY(n,o){if(1&n&&(e.TgZ(0,"div",59)(1,"div",2)(2,"label"),e._uU(3),e.qZA()(),e.YNc(4,AY,8,7,"div",60),e.YNc(5,MY,2,1,"div",61),e.qZA()),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.xp6(3),e.Oqu(t.labelName),e.xp6(1),e.Q6J("ngForOf",i.constraintForm.get("constraintFields").controls.SetValues.controls),e.xp6(1),e.Q6J("ngIf",!i.isValuesUnique)}}function PY(n,o){if(1&n&&(e.TgZ(0,"div",33),e.YNc(1,OY,6,3,"div",58),e.qZA()),2&n){e.oxw();const t=e.MAs(7),i=e.oxw(3);e.Q6J("ngClass",e.VKq(3,eu,"Set Value"!=i.selectedComparisonMode)),e.xp6(1),e.Q6J("ngIf","Location"==(null==i.constraintForm.controls.constraintFields.controls.EmployeeField?null:i.constraintForm.controls.constraintFields.controls.EmployeeField.value))("ngIfElse",t)}}function EY(n,o){if(1&n&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function IY(n,o){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"label"),e._uU(3),e.qZA()(),e.TgZ(4,"div",2),e._UZ(5,"input",72),e.qZA(),e.YNc(6,EY,2,1,"div",14),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(3),e.Oqu(t.labelName),e.xp6(2),e.Q6J("name",t.backendKey)("formControlName",t.backendKey)("id",t.backendKey)("required","Set Value"==i.selectedComparisonMode),e.uIk("minlength",0!=t.min&&"Set Value"==i.selectedDateRange?t.min:null)("maxlength",0!=t.max&&"Set Value"==i.selectedDateRange?t.max:null),e.xp6(1),e.Q6J("ngIf",(null==i.constraintForm.controls.constraintFields.controls.ComparisonValue?null:i.constraintForm.controls.constraintFields.controls.ComparisonValue.touched)&&!i.constraintForm.controls.constraintFields.controls.ComparisonValue.valid)}}function NY(n,o){if(1&n&&(e.ynx(0),e.YNc(1,mY,8,8,"div",29),e.YNc(2,bY,10,11,"div",52),e.YNc(3,xY,8,9,"div",29),e.YNc(4,TY,8,12,"div",30),e.YNc(5,PY,2,5,"div",30),e.YNc(6,IY,7,8,"ng-template",null,53,e.W1O),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","ComparisonMode"===t.backendKey),e.xp6(1),e.Q6J("ngIf","Operator"===t.backendKey),e.xp6(1),e.Q6J("ngIf","EmployeeField"===t.backendKey),e.xp6(1),e.Q6J("ngIf","CustomData"===t.backendKey),e.xp6(1),e.Q6J("ngIf","ComparisonValue"===t.backendKey)}}function RY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",1)(2,"div",2)(3,"button",74),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.addNewInput())}),e._uU(4," Add "),e.qZA()()()()}}function FY(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr",42),e.TgZ(2,"div",27),e.YNc(3,NY,8,5,"ng-container",28),e.YNc(4,RY,5,0,"div",51),e.qZA(),e._UZ(5,"hr",42),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",t.isFormGenerated?"visibility-visible":"visibility-none"),e.xp6(2),e.Q6J("ngForOf",t.passedConstraintJson),e.xp6(1),e.Q6J("ngIf","Location"==(null==t.constraintForm.controls.constraintFields.controls.EmployeeField?null:t.constraintForm.controls.constraintFields.controls.EmployeeField.value)&&"Set Value"==t.selectedComparisonMode),e.xp6(1),e.Q6J("ngClass",t.isFormGenerated?"visibility-visible":"visibility-none")}}function ZY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"button",75),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.deleteConstraint())}),e._UZ(3,"i",76),e._uU(4," Delete"),e.qZA()()()}}function LY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitConstraint())}),e.TgZ(2,"div",11)(3,"div",1)(4,"div",2)(5,"label"),e._uU(6,"Constraint type"),e.qZA()(),e.TgZ(7,"div",2)(8,"ng-select",12,13),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.buildForm2(r))}),e.qZA()(),e.YNc(10,IU,2,1,"div",14),e.qZA(),e.TgZ(11,"div",1)(12,"div",2),e._UZ(13,"hr",15),e.TgZ(14,"label"),e._uU(15,"Constraint name"),e.qZA()(),e.TgZ(16,"div",2),e._UZ(17,"input",16),e.qZA(),e.YNc(18,NU,2,1,"div",14),e.YNc(19,RU,2,1,"div",14),e.qZA(),e.TgZ(20,"div",17),e.YNc(21,XU,4,2,"div",18),e.YNc(22,sj,4,2,"div",18),e.YNc(23,yj,4,2,"div",18),e.YNc(24,kj,4,2,"div",18),e.YNc(25,Nj,5,3,"div",18),e.YNc(26,Lj,4,2,"div",18),e.YNc(27,Gj,4,2,"div",18),e.YNc(28,fY,4,2,"div",18),e.YNc(29,FY,6,4,"div",18),e.qZA()(),e.TgZ(30,"div",19)(31,"div",20),e.YNc(32,ZY,5,0,"div",21),e.qZA(),e.TgZ(33,"div",20)(34,"div",1)(35,"div",22)(36,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(37,"Cancel"),e.qZA()(),e.TgZ(38,"div",2)(39,"button",24),e._uU(40,"Save Changes"),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.constraintForm),e.xp6(8),e.Q6J("items",t.constraintRules)("required",!0)("clearable",!1)("searchable",!0),e.xp6(2),e.Q6J("ngIf",t.constraintForm.controls.constraintRuleID.touched&&(null==t.constraintForm.controls.constraintRuleID.errors?null:t.constraintForm.controls.constraintRuleID.errors.required)),e.xp6(8),e.Q6J("ngIf",t.constraintForm.controls.constraintName.touched&&(null==t.constraintForm.controls.constraintName.errors?null:t.constraintForm.controls.constraintName.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==t.constraintForm.controls.constraintName.errors?null:t.constraintForm.controls.constraintName.errors.constraintNameInUse)&&!(null!=t.constraintForm.controls.constraintName.errors&&t.constraintForm.controls.constraintName.errors.required)),e.xp6(2),e.Q6J("ngIf",2==t.constraintRuleId||4==t.constraintRuleId||7==t.constraintRuleId||11==t.constraintRuleId||13==t.constraintRuleId),e.xp6(1),e.Q6J("ngIf",2==t.constraintRuleId),e.xp6(1),e.Q6J("ngIf",4==t.constraintRuleId||7==t.constraintRuleId||8==t.constraintRuleId||13==t.constraintRuleId),e.xp6(1),e.Q6J("ngIf",11==t.constraintRuleId),e.xp6(1),e.Q6J("ngIf",5==t.constraintRuleId||6==t.constraintRuleId),e.xp6(1),e.Q6J("ngIf",5==t.constraintRuleId||6==t.constraintRuleId),e.xp6(1),e.Q6J("ngIf",10==t.constraintRuleId),e.xp6(1),e.Q6J("ngIf",13==t.constraintRuleId),e.xp6(1),e.Q6J("ngIf",2==t.constraintRuleId||4==t.constraintRuleId||7==t.constraintRuleId||8==t.constraintRuleId||9==t.constraintRuleId||10==t.constraintRuleId||11==t.constraintRuleId||12==t.constraintRuleId||13==t.constraintRuleId||14==t.constraintRuleId),e.xp6(3),e.Q6J("ngIf","create"!=t.data.name),e.xp6(4),e.Q6J("disabled",t.disabledSaveButton),e.xp6(3),e.Q6J("disabled",t.disabledSaveButton)}}let SS=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this.data=t,this._confirmDetailsDialogRef=i,this.formBuilder=r,this._messageService=a,this.dialogRef=s,this.dialogService=l,this._datePipe=c,this._constraintService=u,this.constraintRules=new Array,this.constraintForm=this.formBuilder.group({constraintID:new _.NI(""),constraintName:new _.NI(""),constraintRuleID:new _.NI(""),constraintFields:new _.cw({}),toDeleteComparisonValues:this.formBuilder.array([])}),this.constraintRuleId=0,this.isFutureDate=!1,this.selectedDateRange="",this.selectedHoursType="",this.selectedComparisonMode="",this.validBaseDateRange=!0,this.validAmount=!0,this.validOffset=!0,this.validMaxCount=!0,this.validEmployeeAB=!0,this.validNumberOfRestDays=!0,this.validRestDays=!0,this.validMaximumGap=!0,this.validMinimumRestPeriod=!0,this.validComparisonOperatorSelected=!0,this.typeOfForm="",this.employeeField="",this.isValuesUnique=!0,this.isMobile=!1,this.isFormGenerated=!1,this.isNameUnique=!0,this.currentDate=new Date,this.isEdit=!1,this.isOffsetLessAmount=!0,this.isGapLessThanRestPeriod=!0,this.disabledSaveButton=!1,this.isComparisonModeRequired=!1,this.isJobStartTimeRequired=!1,this.isJobEndTimeRequired=!1,this.isJobStartToisSameOrBeforeJobStartFrom=!1,this.isJobEndToisSameOrBeforeJobEndFrom=!1,this.CONyes=!1,this.MBCyes=!1,this.IAJTyes=!1,this.dateLength=ai.YG.length,this.firstPartOfBackendKey=""}ngOnInit(){this.message=St.yw,this._constraintService.getConstraintRules().subscribe(t=>{this.constraintRules=t,this.constraintRules.forEach(i=>{i.name==this.data.ruleName&&(this.constraintRuleId=i.id)}),this.buildForm()}),this.trackInputEntry()}_getFormArray(){return this.constraintForm.get("constraintFields").controls.SetValues}_getDeleteFormArray(){return this.constraintForm.controls.toDeleteComparisonValues}buildForm(){0!=this.constraintRuleId&&(this.isEdit=!0,this._constraintService.getConstraintRuleForm(this.data.scheduleId,this.constraintRuleId,this.data.constraintId).subscribe(t=>{if(this.passedConstraintJson=t.constraintFields,this.removeBackendKey(),this.wholwPassedConstraintJson=t,this.constraintForm.controls.constraintName.setValue(this.wholwPassedConstraintJson.constraintName),this.constraintForm.controls.constraintRuleID.setValue(this.wholwPassedConstraintJson.constraintRuleID),this.generateForm(this.passedConstraintJson,this.constraintForm.controls.constraintFields),this.wholwPassedConstraintJson.constraintFields.forEach(i=>{if("SetValues"==i.backendKey&&null!=i.comparsionValue)for(let r of i.comparsionValue)this._getFormArray().push(this.formBuilder.group({id:new _.NI(r.id),name:new _.NI(r.name,[_.kI.required,_.kI.maxLength(300)])}))}),0!=this.data.constraintId){const i=this.wholwPassedConstraintJson.constraintFields.length;let r="";for(let a=0;a<i;a++){r=this.wholwPassedConstraintJson.constraintFields[a].backendKey;const s=this.wholwPassedConstraintJson.constraintFields[a].defaultValue;if(""!=s&&this.changedSelect(this.wholwPassedConstraintJson.constraintFields[a].backendKey,null,this.wholwPassedConstraintJson.constraintFields[a].defaultValue,this.firstPartOfBackendKey),"BaseDate"==r&&""!=s&&("1-1-1"==s?this.constraintForm.get("constraintFields").get(r).setValue(null):this.constraintForm.get("constraintFields").get(r).setValue(new Date(this.formatDate2(s)))),"CountOverNights"==r&&("Yes"==s?(this.CONyes=!0,this.constraintForm.get("constraintFields").get(r).setValue(!0)):(this.CONyes=!1,this.constraintForm.get("constraintFields").get(r).setValue(!1))),"MustBeConsecutive"==r&&("Yes"==s?(this.MBCyes=!0,this.constraintForm.get("constraintFields").get(r).setValue(!0),this.constraintForm.get("constraintFields").get("StartDay").enable()):(this.MBCyes=!1,this.constraintForm.get("constraintFields").get(r).setValue(!1),this.constraintForm.get("constraintFields").get("StartDay").disable())),"EmployeeA"==r||"EmployeeB"==r){const l=JSON.parse(this.wholwPassedConstraintJson.constraintFields[a].defaultValue);this.constraintForm.get("constraintFields").get(r).setValue(l)}if("NumberOfRestDays"==r){const l=this.constraintForm.get("constraintFields").get("NumberOfRestDays").value;0==l||1==l?(this.MBCyes=!1,this.constraintForm.get("constraintFields").get("MustBeConsecutive").disable()):this.constraintForm.get("constraintFields").get("MustBeConsecutive").enable()}"CustomData"==r&&this.constraintForm.get("constraintFields").get(r).setValue(Number(this.wholwPassedConstraintJson.constraintFields[a].defaultValue))}this.typeOfForm=this.firstPartOfBackendKey}}))}buildForm2(t){this.isFormGenerated=!1;const i=Number(t.id);0!=i&&(0!=this.data.constraintId?this._constraintService.getConstraintRuleForm(this.data.scheduleId,i,0).subscribe(r=>{this.passedConstraintJson=r.constraintFields,this.removeBackendKey(),this.wholwPassedConstraintJson=r,this.generateForm(this.passedConstraintJson,this.constraintForm.controls.constraintFields),"DOWAP"==this.firstPartOfBackendKey&&this.constraintForm.get("constraintFields").get("StartDay").disable()}):this._constraintService.getConstraintRuleForm(this.data.scheduleId,i,this.data.constraintId).subscribe(r=>{this.passedConstraintJson=r.constraintFields,this.removeBackendKey(),this.wholwPassedConstraintJson=r,this.generateForm(this.passedConstraintJson,this.constraintForm.controls.constraintFields),"DOWAP"==this.firstPartOfBackendKey&&this.constraintForm.get("constraintFields").get("StartDay").disable()})),this.constraintRuleId=i,this.resetForm(),this.validMaxCount=!0,this.validBaseDateRange=!0,this.validAmount=!0,this.validOffset=!0,this.validEmployeeAB=!0,this.isComparisonModeRequired=!1,this.validNumberOfRestDays=!0,this.validRestDays=!0}generateForm(t,i){t.forEach(r=>{i.addControl(r.backendKey,"SetValues"==r.backendKey?this.formBuilder.array([]):new _.NI(r.defaultValue||"")),"EmployeeField"==r.backendKey&&(this.employeeField=r.defaultValue),"ComparisonMode"==r.backendKey&&""==i.get("ComparisonMode").value&&i.get("ComparisonMode").setValue(null)}),this.isFormGenerated=!0}resetField(t){t.forEach(i=>{this.constraintForm.get("constraintFields").get(i).setValue(null),this.constraintForm.get("constraintFields").get(i).markAsUntouched(),this.constraintForm.get("constraintFields").get(i).setErrors(null)})}touchForValidation(t){Object.values(t.controls).forEach(i=>{i.markAsTouched(),i.controls&&this.touchForValidation(i)}),(2==this.constraintRuleId||4==this.constraintRuleId||7==this.constraintRuleId)&&(this.constraintForm.get("constraintFields").get("DateRange").valid||this.resetField(["Offset","Amount","BaseDate","BaseDateRange"]),this.constraintForm.get("constraintFields").get("ComparisonMode").valid||this.resetField(["ComparisonValue","CustomData"]),2==this.constraintRuleId&&(this.constraintForm.get("constraintFields").get("HoursType").valid||this.resetField(["SetValue","MaxHoursField"])))}changedSelect(t,i,r,a){const s=a.split("_");s.length>1&&(this.typeOfForm=s[0]);let l="";if(""==r)try{l=i.name}catch(c){l=""}else l=r;if("DateRange"===t)switch(this.isOffsetLessAmount=!0,this.validAmount=!0,this.validOffset=!0,l){case"Custom":this.selectedDateRange=l,this.resetField(["BaseDate","BaseDateRange"]);break;case"Base Date":this.selectedDateRange=l,this.resetField(["Offset","Amount"]);break;default:this.selectedDateRange="",this.resetField(["Offset","Amount","BaseDate","BaseDateRange"])}else if("HoursType"===t)"Set Value"==l?(this.selectedHoursType=l,this.resetField(["MaxHoursField"])):"Employee Specific"==l?(this.selectedHoursType=l,this.resetField(["SetValue"])):(this.selectedHoursType="",this.resetField(["MaxHoursField","SetValue"]));else if("ComparisonMode"===t)if("Set Value"==l)this.selectedComparisonMode=l,"EPA"!=this.firstPartOfBackendKey&&"EFV"!=this.firstPartOfBackendKey&&"EA"!=this.firstPartOfBackendKey&&this.resetField(["CustomData"]);else if("Custom Data"==l)this.selectedComparisonMode=l,this.resetField(["ComparisonValue"]),this.constraintForm.get("constraintFields").get("CustomData").setValue(null);else{this.selectedComparisonMode="",this.resetField(["Operator","EmployeeField"]);try{this.resetField(["ComparisonValue","CustomData"])}catch(c){this.resetField(["ComparisonValue"])}}}validationForEmployeeSelect(t){if(null!=t){const i=this.constraintForm.get("constraintFields").get("EmployeeA").value,r=this.constraintForm.get("constraintFields").get("EmployeeB").value;this.validEmployeeAB=i.id!==r.id}else this.validEmployeeAB=!1}resetForm(){this.selectedDateRange="",this.selectedHoursType="",this.selectedComparisonMode="";try{const t=this.wholwPassedConstraintJson.constraintFields.length,i=[];for(let r=0;r<t;r++){const a=this.wholwPassedConstraintJson.constraintFields[r].backendKey.split("_");i.push(a.length>1?a[1]:a[0]),this.wholwPassedConstraintJson.constraintFields[r].defaultValue="",("EFV"==this.firstPartOfBackendKey||"EPA"==this.firstPartOfBackendKey||"EA"==this.firstPartOfBackendKey)&&("EFV_ComparisonMode"==this.wholwPassedConstraintJson.constraintFields[r].backendKey||"ComparisonMode"==this.wholwPassedConstraintJson.constraintFields[r].backendKey||"EPA_ComparisonMode"==this.wholwPassedConstraintJson.constraintFields[r].backendKey||"EA_ComparisonMode"==this.wholwPassedConstraintJson.constraintFields[r].backendKey)&&(this.wholwPassedConstraintJson.constraintFields[r].required=!1),"DOWAP"==this.firstPartOfBackendKey&&("DOWAP_StartDay"==this.wholwPassedConstraintJson.constraintFields[r].backendKey||"StartDay"==this.wholwPassedConstraintJson.constraintFields[r].backendKey)&&this.constraintForm.get("constraintFields").get(this.wholwPassedConstraintJson.constraintFields[r].backendKey).disable()}this.resetField(i)}catch(t){}}isOffsetLessThanAmount(){let t,i;(2==this.constraintRuleId||4==this.constraintRuleId)&&(i=this.constraintForm.get("constraintFields").get("Offset").value,t=this.constraintForm.get("constraintFields").get("Amount").value),(t||0===t)&&(i||0===i)&&(this.isOffsetLessAmount=!(i>=t))}isMaximumGapLessThanOrEqualMinimumRestPeriod(){let t,i;if(10==this.constraintRuleId)try{i=Number(this.constraintForm.get("constraintFields").get("MinimumRestPeriod").value),t=Number(this.constraintForm.get("constraintFields").get("MaximumGap").value)}catch(r){}(t||0===t)&&(i||0===i)&&(this.isGapLessThanRestPeriod=i>=t)}isJobStartEndTimeRequired(){this.constraintForm.get("constraintFields").get("JobStartFrom").value||this.constraintForm.get("constraintFields").get("JobStartTo").value||this.constraintForm.get("constraintFields").get("JobEndFrom").value||this.constraintForm.get("constraintFields").get("JobEndTo").value?(this.isJobStartTimeRequired=!(!this.constraintForm.get("constraintFields").get("JobStartFrom").value&&!this.constraintForm.get("constraintFields").get("JobStartTo").value),this.isJobEndTimeRequired=!(!this.constraintForm.get("constraintFields").get("JobEndFrom").value&&!this.constraintForm.get("constraintFields").get("JobEndTo").value)):(this.isJobStartTimeRequired=!0,this.constraintForm.get("constraintFields").get("JobStartFrom").markAsTouched())}isJobTimeToLessThanTimeFrom(t){if("start"==t&&this.constraintForm.get("constraintFields").get("JobStartFrom").value&&this.constraintForm.get("constraintFields").get("JobStartTo").value&&5==this.constraintForm.get("constraintFields").get("JobStartFrom").value.length&&5==this.constraintForm.get("constraintFields").get("JobStartTo").value.length){const i=W(this.constraintForm.get("constraintFields").get("JobStartFrom").value,"HH:mm");W(this.constraintForm.get("constraintFields").get("JobStartTo").value,"HH:mm").isSameOrBefore(i)?(this.isJobStartToisSameOrBeforeJobStartFrom=!0,this.constraintForm.get("constraintFields").get("JobStartTo").setErrors({jobStartToisSameOrBeforeJobStartFrom:!0})):(this.isJobStartToisSameOrBeforeJobStartFrom=!1,this.constraintForm.get("constraintFields").get("JobStartTo").setErrors(null))}if("end"==t&&this.constraintForm.get("constraintFields").get("JobEndFrom").value&&this.constraintForm.get("constraintFields").get("JobEndTo").value&&5==this.constraintForm.get("constraintFields").get("JobEndFrom").value.length&&5==this.constraintForm.get("constraintFields").get("JobEndTo").value.length){const i=W(this.constraintForm.get("constraintFields").get("JobEndFrom").value,"HH:mm");W(this.constraintForm.get("constraintFields").get("JobEndTo").value,"HH:mm").isSameOrBefore(i)?(this.isJobEndToisSameOrBeforeJobEndFrom=!0,this.constraintForm.get("constraintFields").get("JobEndTo").setErrors({jobEndToisSameOrBeforeJobEndFrom:!0})):(this.isJobEndToisSameOrBeforeJobEndFrom=!1,this.constraintForm.get("constraintFields").get("JobEndTo").setErrors(null))}}trackInputEntry(){this.constraintForm.controls.constraintName.valueChanges.subscribe(t=>{if(t){const i=t.trim();""!=i&&this._constraintService.checkIfConstraintNameIsUnique(this.data.scheduleId,this.data.constraintId,i).subscribe(r=>{let a=!!t.trim();200==r&&a?this.constraintForm.controls.constraintName.setErrors(null):201==r&&this.constraintForm.controls.constraintName.setErrors({constraintNameInUse:!0})})}})}dateValidation(t){const i=String(t.target.value);this.isFutureDate=new Date(i)>new Date}formatDate(t){return this._datePipe.transform(t,"dd-MM-yyyy")}formatDate2(t){const i=t.split("-");let r=i[1]+"-"+i[0]+"-"+i[2];return window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(r=i[1]+"/"+i[0]+"/"+i[2]),r}deleteConstraint(){const t=this.data.constraintId;this.data.isActive?this._messageService.open("Active constraint can not be deleted."):this._constraintService.delete(t).subscribe(i=>{this.dialogRef.close({message:"deleted"}),this._messageService.open("Constraint deleted.")},i=>{this._messageService.handleHttpError(i)})}submitConstraint(){if(this.disabledSaveButton=!0,this.constraintForm.get("constraintName").value&&this.constraintForm.get("constraintRuleID").value)if(this.constraintForm.controls.constraintName.valid&&this.validBaseDateRange&&this.validMaxCount&&this.validOffset&&this.validAmount&&this.validMaximumGap&&this.validMinimumRestPeriod&&this.validNumberOfRestDays&&this.validRestDays&&this.validEmployeeAB&&this.validComparisonOperatorSelected){const t=JSON.parse(JSON.stringify(this.wholwPassedConstraintJson));try{t.constraintName=this.constraintForm.get("constraintName").value.trim();const i=t.constraintFields.length;for(let r=0;r<i;r++){const a=t.constraintFields[r].backendKey,s=this.constraintForm.get("constraintFields").get(a).value;null==s?t.constraintFields[r].defaultValue="":("SetValues"==a?t.constraintFields[r].comparsionValue=s:t.constraintFields[r].defaultValue=s,"BaseDate"==a&&(t.constraintFields[r].defaultValue=this.formatDate(s)),"CountOverNights"==a&&(t.constraintFields[r].defaultValue=1==s||"Yes"==s?"Yes":"No"),"MustBeConsecutive"==a&&(t.constraintFields[r].defaultValue=1==s||"Yes"==s?"Yes":"No"),("EmployeeA"==a||"EmployeeB"==a)&&(t.constraintFields[r].defaultValue=t.constraintFields[r].defaultValue.id),"CustomData"==a&&"0"==t.constraintFields[r].defaultValue&&(t.constraintFields[r].defaultValue=""))}}catch(i){}try{13==this.constraintRuleId&&(this.isJobStartEndTimeRequired(),this.isJobTimeToLessThanTimeFrom("start"),this.isJobTimeToLessThanTimeFrom("end"))}catch(i){}try{const i=String(this.constraintForm.controls.constraintName.value.trim());if(this.constraintForm.controls.constraintName.setValue(i),4==this.constraintRuleId||2==this.constraintRuleId){let r=this.constraintForm.get("constraintFields").get("ComparisonValue").value;null!=r&&null!=r&&(r=String(r).trim(),this.constraintForm.get("constraintFields").get("ComparisonValue").setValue(r))}t.constraintFields=this.returnBackendKeyCode(t.constraintFields)}catch(i){}if(this.constraintForm.valid&&this.isOffsetLessAmount&&this.isGapLessThanRestPeriod)this.data.constraintId?(t.constraintID=this.data.constraintId,this._constraintService.edit(t).subscribe(i=>{this._messageService.open("Constraint updated."),this.dialogRef.close({message:"submited"})},i=>{this._messageService.open(i),this.disabledSaveButton=!1;try{this.removeBackendKey()}catch(r){}})):this._constraintService.create(t).subscribe(i=>{this._messageService.open("Constraint created."),this.dialogRef.close({message:"submited"})},i=>{this._messageService.open(i),this.disabledSaveButton=!1;try{this.removeBackendKey()}catch(r){}});else{this.touchForValidation(this.constraintForm);try{this.removeBackendKey()}catch(i){}this.disabledSaveButton=!1,this._messageService.open(this.message.fillForm)}}else this._messageService.open(this.message.fillForm),this.disabledSaveButton=!1;else this.constraintForm.get("constraintName").markAsTouched(),this.constraintForm.get("constraintRuleID").markAsTouched(),this._messageService.open(this.message.fillForm),this.disabledSaveButton=!1}closeDialog(){this.disabledSaveButton||this._confirmDetailsDialogRef.close()}inerWidth(){this.isMobile=window.innerWidth<425}checkIsComparisonModeRequired(){let t="",i="",r="";("MNOH"==this.firstPartOfBackendKey||"MNODOTW"==this.firstPartOfBackendKey||"EFV"==this.firstPartOfBackendKey||"DOWAP"==this.firstPartOfBackendKey||"EPA"==this.firstPartOfBackendKey||"MNOJTC"==this.firstPartOfBackendKey||"MNOJT"==this.firstPartOfBackendKey||"EA"==this.firstPartOfBackendKey)&&(t=this.constraintForm.get("constraintFields").get("ComparisonMode").value,i=this.constraintForm.get("constraintFields").get("Operator").value,r=this.constraintForm.get("constraintFields").get("EmployeeField").value),this.isComparisonModeRequired=""!=t&&null!=t||""!=i&&null!=i||""!=r&&null!=r}numberOfRestDaysChanged(){const t=this.constraintForm.get("constraintFields").get("NumberOfRestDays").value;0==t||1==t?(this.MBCyes=!1,this.constraintForm.get("constraintFields").get("MustBeConsecutive").setValue(!1),this.constraintForm.get("constraintFields").get("MustBeConsecutive").disable()):this.constraintForm.get("constraintFields").get("MustBeConsecutive").enable(),this.mustBeConsecutiveChanged()}mustBeConsecutiveChanged(){this.constraintForm.get("constraintFields").get("MustBeConsecutive").value?this.constraintForm.get("constraintFields").get("StartDay").enable():(this.constraintForm.get("constraintFields").get("StartDay").setValue(null),this.constraintForm.get("constraintFields").get("StartDay").disable())}preventInput(t){const i=Number(t.target.value);switch(t.currentTarget.id){case"Amount":this.validAmount=this.checkMinAndMaxValue(1,i,0);break;case"BaseDateRange":this.validBaseDateRange=this.checkMinAndMaxValue(1,i,0);break;case"MinimumRestPeriod":this.validMinimumRestPeriod=this.checkMinAndMaxValue(.01,i,0);break;case"MaximumGap":this.validMaximumGap=this.checkMinAndMaxValue(.01,i,0);break;case"Offset":this.validOffset=!(i>0||i<-2147483648);break;case"MaxCount":this.validMaxCount="MNODOTW"==this.firstPartOfBackendKey?this.checkMinAndMaxValue(0,i,0):this.checkMinAndMaxValue(1,i,20);break;case"NumberOfRestDays":this.validNumberOfRestDays=this.checkMinAndMaxValue(0,i,0);break;case"RestDays":this.validRestDays=this.checkMinAndMaxValue(1,i,20)}}checkMinAndMaxValue(t,i,r){return!(i<t||i>(0==r?2147483647:r))}returnBackendKeyCode(t){let i=0;for(let r=0;r<t.length;r++){if(0==i){if(t[r].backendKey.split("_").lenght>2)return t;i++}t[r].backendKey=this.firstPartOfBackendKey+"_"+t[r].backendKey}return t}removeBackendKey(){let t=0;for(let i=0;i<this.passedConstraintJson.length;i++){if(0==t){if(this.passedConstraintJson[i].backendKey.split("_").length<2)return;this.firstPartOfBackendKey=this.passedConstraintJson[i].backendKey.split("_")[0],t++}this.passedConstraintJson[i].backendKey=this.passedConstraintJson[i].backendKey.split("_")[1]}}changeSetValueField(t){if("MNOH"!=this.firstPartOfBackendKey&&"SS"!=this.firstPartOfBackendKey||"BaseDateRange"==t){if(null!=this.constraintForm.controls.constraintFields.controls[t].value){const i=Math.round(Math.abs(this.constraintForm.controls.constraintFields.controls[t].value));this.constraintForm.controls.constraintFields.controls[t].patchValue(i)}}else if(null!=this.constraintForm.controls.constraintFields.controls[t].value){const r=Math.abs(this.constraintForm.controls.constraintFields.controls[t].value).toFixed(2);this.constraintForm.controls.constraintFields.controls[t].patchValue(r)}}addNewInput(){this._getFormArray().push(this.formBuilder.group({id:new _.NI(0),name:new _.NI("")},_.kI.required))}deleteValue(t,i,r){0==i?this._getFormArray().removeAt(t):(this._getDeleteFormArray().push(this.formBuilder.group({id:new _.NI(i),name:new _.NI(r)})),this._getFormArray().removeAt(t),r||this._getFormArray().removeAt(t)),this.uniqueLocationValues()}uniqueLocationValues(){this.trimWholeForm();let t=[];var a;this.constraintForm.get("constraintFields").controls.SetValues.value.forEach(i=>{t.push(i.name.toLowerCase())}),-1==t.indexOf("")&&(this.isValuesUnique=!((a=t,a.filter((s,l)=>a.indexOf(s)!=l)).length>0))}trimWholeForm(){try{let i=this.constraintForm.get("constraintFields").controls.SetValues.controls.length;for(var t=0;t<=i-1;t++){let r=this.constraintForm.get("constraintFields").controls.SetValues[t].name.trim();this.constraintForm.get("constraintFields").controls.SetValues.controls[t].controls.name.setValue(r)}}catch(i){}}removeComparisonValues(){this.constraintForm.get("constraintFields").controls.SetValues.controls=[],this.constraintForm.get("constraintFields").controls.SetValues.setValue([]),this.constraintForm.get("constraintFields").controls.SetValues.markAsUntouched(),this.constraintForm.get("constraintFields").controls.SetValues.setErrors(null),this.isValuesUnique=!0}removeComparisonValue(){this.constraintForm.get("constraintFields").controls.ComparisonValue.setValue(null),this.constraintForm.get("constraintFields").controls.ComparisonValue.markAsUntouched(),this.constraintForm.get("constraintFields").controls.ComparisonValue.setErrors(null)}onEmployeeFieldChange(){"Set Value"==this.constraintForm.get("constraintFields").controls.ComparisonMode.value&&("Location"==this.constraintForm.get("constraintFields").controls.EmployeeField.value?(this.removeComparisonValue(),this.addNewInput()):"Location"!==this.constraintForm.get("constraintFields").controls.EmployeeField.value&&(this.removeComparisonValues(),this.constraintForm.get("constraintFields").controls.ComparisonValue.setValue(null)))}isSelectedOperatorSupported(){return this.validComparisonOperatorSelected=!0,"Set Value"!=this.constraintForm.get("constraintFields").controls.ComparisonMode.value||""==this.constraintForm.get("constraintFields").get("Operator").value||""==this.constraintForm.get("constraintFields").controls.EmployeeField.value||null==this.constraintForm.get("constraintFields").controls.EmployeeField.value||">"!=this.constraintForm.get("constraintFields").get("Operator").value&&"<"!=this.constraintForm.get("constraintFields").get("Operator").value?"Custom Data"==this.constraintForm.get("constraintFields").controls.ComparisonMode.value&&(">"==this.constraintForm.get("constraintFields").get("Operator").value||"<"==this.constraintForm.get("constraintFields").get("Operator").value)&&(this.validComparisonOperatorSelected=!1):this.validComparisonOperatorSelected="Pay Rate"==this.constraintForm.get("constraintFields").controls.EmployeeField.value||"Max Hours 1"==this.constraintForm.get("constraintFields").controls.EmployeeField.value||"Max Hours 2"==this.constraintForm.get("constraintFields").controls.EmployeeField.value||"Max Hours 3"==this.constraintForm.get("constraintFields").controls.EmployeeField.value||"Max Hours 4"==this.constraintForm.get("constraintFields").controls.EmployeeField.value||"Max Hours 5"==this.constraintForm.get("constraintFields").controls.EmployeeField.value,this.validComparisonOperatorSelected}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(se.G),e.Y36(z.so),e.Y36(Ri.x),e.Y36(D.uU),e.Y36(DS))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-constraints-dialog"]],decls:11,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"blue-line","margin-bottom-40"],["autocomplete","off","class","font-size-12",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",1,"font-size-12",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"dinamicForm"],["formControlName","constraintRuleID","id","constraintRules","bindLabel","name","bindValue","id",1,"width100","jobTypeDetails","constraintTypeMaxHeight",3,"items","required","clearable","searchable","change"],["selectedConstraintRule",""],["class","validationError col-12",4,"ngIf"],[1,"grey-line"],["id","name","formControlName","constraintName","type","text","maxlength","50","required","",1,"form-control","form-control-sm"],["formGroupName","constraintFields"],[4,"ngIf"],[1,"form-group","row","align-center-md"],[1,"col-12","col-md-6"],["class","row",4,"ngIf"],[1,"col-12","align-center"],["type","button",1,"btn","cancel-button","form-buttons","float-right","g-margin-bottom-5",3,"disabled","click"],["id","submitBtn","type","submit",1,"btn","save-button","form-buttons","float-right",3,"disabled"],[1,"validationError","col-12"],[1,"grey-line-top",3,"ngClass"],[1,"row","row-constrains"],[4,"ngFor","ngForOf"],["class","col-md-3 col-sm-6 col-12",4,"ngIf"],["class","col-md-3 col-sm-6 col-12",3,"ngClass",4,"ngIf"],[1,"col-md-3","col-sm-6","col-12"],["bindLabel","name","bindValue","name",1,"width100","jobTypeDetails",3,"id","formControlName","required","items","clearable","searchable","change"],[1,"col-md-3","col-sm-6","col-12",3,"ngClass"],["type","number","numbersOnlyMask","",1,"form-control","form-control-sm","width100",3,"name","formControlName","id","required","change","keyup"],[1,"col-12","d-flex","justify-content-start"],[1,"width100"],["type","text",1,"form-control","form-control-sm","width100",3,"name","placeholder","max","dateLengthTracker","formControlName","id","matDatepicker","required","change"],["src","assets/icons/calendar-icon.png",1,"calendar-icon-img",3,"click"],[3,"touchUi"],["picker2",""],["type","number","numbersOnlyMask","",1,"form-control","form-control-sm","width100",3,"name","formControlName","id","required","keyup","change"],[1,"grey-line2",3,"ngClass"],["type","number","numbersOnlyMask","",1,"form-control","form-control-sm",3,"name","formControlName","id","required","keyup","change"],["bindLabel","name","bindValue","name",1,"width115","jobTypeDetails",3,"id","formControlName","required","items","clearable","searchable"],["bindLabel","name","bindValue","name",1,"width100","jobTypeDetails",3,"id","formControlName","required","items","clearable","searchable","dropdownPosition"],["bindLabel","name","bindValue","name",1,"width100","jobTypeDetails",3,"id","formControlName","required","items","clearable","searchable"],["checked","CONyes",1,"align-bottom",3,"name","id","formControlName"],["checked","MBCyes",1,"align-bottom",3,"name","id","formControlName","change"],["bindLabel","name",1,"width100","jobTypeDetails",3,"formControlName","items","multiple","required","dropdownPosition","clearable","change"],["type","text","mask","Hh:m0","maxlength","5","minlength","5",1,"form-control","form-control-sm",3,"name","formControlName","id","required","dropSpecialCharacters","change"],["class","col-md-1 col-12 add-new-values-paddings",4,"ngIf"],["class","col-md-2 col-sm-6 col-12",3,"ngClass",4,"ngIf"],["singleComparisonValue",""],["bindLabel","name","bindValue","name",1,"width100","jobTypeDetails",3,"id","formControlName","required","items","clearable","searchable","change","clear"],[1,"col-md-2","col-sm-6","col-12",3,"ngClass"],["bindLabel","name","bindValue","name",1,"width100","jobTypeDetails",3,"id","formControlName","required","items","clearable","searchable","dropdownPosition","change"],["bindLabel","name","bindValue","id",1,"width100","jobTypeDetails",3,"id","formControlName","required","items","clearable","searchable","dropdownPosition"],["formArrayName","SetValues","class","row",4,"ngIf","ngIfElse"],["formArrayName","SetValues",1,"row"],["class","col-12",4,"ngFor","ngForOf"],["class","validationError margin-left",4,"ngIf"],[1,"d-flex",3,"formGroupName","ngClass"],["name","comparison-values","formControlName","name","maxlength","50","id","employee_field_value_comparison_values","type","text","required","",1,"form-control","form-control-sm",3,"change"],["class","fa fa-trash-o esolve-custom-icon delete-icon",3,"click",4,"ngIf"],[1,"col-md-9"],["class","validationError no-wrap",4,"ngIf"],["class","col-md-3 or-class",4,"ngIf"],[1,"fa","fa-trash-o","esolve-custom-icon","delete-icon",3,"click"],[1,"validationError","no-wrap"],[1,"col-md-3","or-class"],[1,"validationError","margin-left"],["type","text",1,"form-control","form-control-sm",3,"name","formControlName","id","required"],[1,"col-md-1","col-12","add-new-values-paddings"],["type","button",1,"add-button",3,"click"],["type","button",1,"btn","delete-button","form-buttons",3,"click"],[1,"fa","fa-trash-o"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6,"Constraints"),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()()()(),e._UZ(9,"hr",7),e.YNc(10,LY,41,20,"form",8),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngIf",i.constraintForm))},dependencies:[D.mk,D.sg,D.O5,Zi.oG,On.Mq,On.hl,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.wO,_.nD,_.qQ,_.Fd,_.sg,_.u,_.x0,_.CE,Sn,Cs,$n,rr,mo],styles:[".dialog-header[_ngcontent-%COMP%]{max-height:40px}.blue-line[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.grey-line[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}.grey-line2[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);margin-bottom:0;margin-top:0}.grey-line-top[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);margin-bottom:0}.cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.save-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}body.modal-open[_ngcontent-%COMP%]{overflow:hidden}.row-constrains[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.font-size-12[_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.width100[_ngcontent-%COMP%]{width:100%}.width115[_ngcontent-%COMP%]{width:115%}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.delete-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63!important;width:200px}.dinamicForm[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:1px!important}.dinamicForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:28px}#constraintRules[_ngcontent-%COMP%]{height:31px}.selectConstraintRule[_ngcontent-%COMP%]{box-shadow:none}#name[_ngcontent-%COMP%]{width:100%}.align-center-md[_ngcontent-%COMP%]{margin-top:15px}.dialog-close-x[_ngcontent-%COMP%]{top:3px}.title-right[_ngcontent-%COMP%], #baseDate[_ngcontent-%COMP%]{padding-right:0}#calendar[_ngcontent-%COMP%]{padding-left:0}.display-none[_ngcontent-%COMP%]{display:none}.visibility-none[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.calendar-icon-img[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:5px;border-radius:0%;right:20px;position:absolute;top:4px;color:#989898;font-size:12px;cursor:pointer}.margin-bottom-40[_ngcontent-%COMP%]{margin-bottom:40px}.add-new-values-paddings[_ngcontent-%COMP%]{padding-left:0;padding-top:20px}.esolve-custom-icon[_ngcontent-%COMP%]{cursor:pointer}.delete-icon[_ngcontent-%COMP%]{position:relative;top:5px;margin-left:5px;font-size:medium;font-size:initial}.form-margin-bottom[_ngcontent-%COMP%]{margin-bottom:5px}.first-input-element[_ngcontent-%COMP%]{width:86%}.or-class[_ngcontent-%COMP%]{margin-bottom:inherit;text-align:end}.margin-left[_ngcontent-%COMP%]{margin-left:15px}.add-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff}.no-wrap[_ngcontent-%COMP%]{white-space:nowrap}@media (max-width: 767px){.delete-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.save-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{float:none!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}.first-input-element[_ngcontent-%COMP%]{width:96%!important}.add-new-values-paddings[_ngcontent-%COMP%]{padding-left:15px!important;padding-top:20px!important}}@media (max-width: 348px){.save-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{width:100%}.details-dialog-title[_ngcontent-%COMP%]{font-size:15px}#name[_ngcontent-%COMP%]{width:100%}}"]}),n})();function UY(n,o){1&n&&e._UZ(0,"mat-header-cell",35)}function jY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",36)(1,"mat-slide-toggle",37),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.isActiveConstraint(a.id,s.constraintDataCtrl.value))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("checked",t.isActive)}}function YY(n,o){1&n&&(e.TgZ(0,"mat-header-cell",35),e._uU(1,"Constraint Name"),e.qZA())}function qY(n,o){if(1&n&&(e.TgZ(0,"mat-cell",38)(1,"span",39),e._uU(2,"Name: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.constraintName," ")}}function JY(n,o){1&n&&(e.TgZ(0,"mat-header-cell",35),e._uU(1,"Constraint Type"),e.qZA())}function HY(n,o){if(1&n&&(e.TgZ(0,"mat-cell",40)(1,"span",39),e._uU(2,"Type: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.constraintRuleName," ")}}function BY(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._UZ(1,"span",41),e.qZA())}function VY(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",43),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openDetailsDialog(r))}),e.TgZ(2,"p"),e._uU(3,"View Details"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.s9C("id",t.name)}}function GY(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,VY,4,1,"ng-container",42),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","Not Already Assigned"!=t.constraintRuleName)}}function WY(n,o){1&n&&e._UZ(0,"mat-header-row")}function QY(n,o){1&n&&e._UZ(0,"mat-row")}function zY(n,o){1&n&&(e.TgZ(0,"div",44)(1,"div",45),e._uU(2,"Constraint calculation is in progress."),e.qZA(),e.TgZ(3,"div",46),e._UZ(4,"div",47),e.qZA()())}let kS=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this.dataConstraint=t,this._confirmDetailsDialogRef=i,this._formBuilder=r,this._messageService=a,this._constraintService=s,this._cd=l,this.dialog=c,this.calendarService=u,this.displayedColumns=["isActive","constraintName","constraintRuleName","buttons"],this.data=new N.by,this.dataSource=new N.by,this.constraintDataCtrl=new _.NI,this.canDisableConstraintsTemporarily=!1,this.showLoader=!1}ngOnInit(){this.buildForm(),this.populateTableData(null)}buildForm(){this.constraintDataForm=this._formBuilder.group({id:[""],isActive:[""],constraintName:[""],constraintRuleName:[""]})}isActiveConstraint(t,i){this.showLoader=!0,this._constraintService.isActive(t).subscribe(r=>{this.populateTableData(i),this.showLoader=!1},r=>{this._messageService.open(r),this.showLoader=!1})}populateTableData(t){(0,ie.T)().pipe((0,_e.O)({}),(0,j.w)(()=>this._constraintService.getAllScheduleConstraints(this.dataConstraint.scheduleId,t)),(0,Oe.U)(i=>i),(0,Wi.K)(()=>(0,gn.of)([]))).subscribe(i=>{for(let r=0;r<i.length;r++)"Not Already Assigned"==i[r].constraintRuleName&&i.splice(r,1);this.data=i,this._cd.detectChanges()})}openCreate(t){const i=this.dialog.open(SS,{autoFocus:!1,disableClose:!0,data:{scheduleId:this.dataConstraint.scheduleId,constraintId:t,name:"create"},width:"650px",panelClass:["max-height96"]});this.closeDialog(!0),i.afterClosed().subscribe(r=>{localStorage.getItem("isLoggedIn")&&this.dialog.open(n,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleId:this.dataConstraint.scheduleId},panelClass:["max-height96"]})})}openDetailsDialog(t){const i=this.dialog.open(SS,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleId:this.dataConstraint.scheduleId,constraintId:t.id,name:"update",constraintName:t.name,ruleName:t.constraintRuleName,isActive:t.isActive},panelClass:["max-height96"]});this.closeDialog(!0),i.afterClosed().subscribe(r=>{this.dialog.open(n,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleId:this.dataConstraint.scheduleId},panelClass:["max-height96"]})})}closeDialog(t){this._confirmDetailsDialogRef.close(),t||this._constraintService.constraintIsChanged(this.dataConstraint.scheduleId).subscribe(()=>{this.calendarService.shouldRenderCalendar.next(!0)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(se.G),e.Y36(DS),e.Y36(e.sBO),e.Y36(z.uw),e.Y36(Nc))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-constraints-dialog"]],decls:47,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"blue-line"],[1,"eSolveFilter","font-size-12px"],[1,"input-group","input-group-sm"],["id","constraintFilter","type","text","aria-describedby","inputGroup-sizing-sm","name","searchConstraints","placeholder","Filter by Name",1,"form-control","form-control-sm","font-size-12px",3,"formControl","keyup"],[1,"input-group-append"],["type","button",1,"btn","search-btn",3,"click"],[1,"fa","fa-search","font-size-15"],[1,"grey-line"],[1,"g-thin-black-scroll-bar"],["id","constraints_table_container"],["id","constraints_table",3,"dataSource"],["matColumnDef","isActive"],["id","jobType-header",4,"matHeaderCellDef"],["class","job-type-active",4,"matCellDef"],["matColumnDef","constraintName"],["class","job-type-name",4,"matCellDef"],["matColumnDef","constraintRuleName"],["class","job-type-type",4,"matCellDef"],["matColumnDef","buttons"],[4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"col-12","col-sm-6"],[1,"btn","close-button",3,"click"],[1,"btn","add-constraint-button","float-right",3,"click"],[1,"fa","fa-plus","add-job-type-icon","border-none"],["class","centered progressBarContainer",4,"ngIf"],["id","jobType-header"],[1,"job-type-active"],[3,"checked","click"],[1,"job-type-name"],[1,"mobile-label"],[1,"job-type-type"],[1,"actions-title"],[4,"ngIf"],[1,"btn","details-button","pull-right","border-none",3,"id","click"],[1,"centered","progressBarContainer"],[1,"progressBarText"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","progress-bar-blue","esolve-progress-bar"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6,"Constraints"),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog(!1)}),e.qZA()()()()(),e._UZ(9,"hr",7),e.TgZ(10,"div",1)(11,"div",2)(12,"div",8)(13,"div",9)(14,"input",10),e.NdJ("keyup",function(){return i.populateTableData(i.constraintDataCtrl.value)}),e.qZA(),e.TgZ(15,"div",11)(16,"button",12),e.NdJ("click",function(){return i.populateTableData(i.constraintDataCtrl.value)}),e._UZ(17,"i",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",1)(20,"div",2)(21,"div",15)(22,"div",16)(23,"mat-table",17),e.ynx(24,18),e.YNc(25,UY,1,0,"mat-header-cell",19),e.YNc(26,jY,2,1,"mat-cell",20),e.BQk(),e.ynx(27,21),e.YNc(28,YY,2,0,"mat-header-cell",19),e.YNc(29,qY,4,1,"mat-cell",22),e.BQk(),e.ynx(30,23),e.YNc(31,JY,2,0,"mat-header-cell",19),e.YNc(32,HY,4,1,"mat-cell",24),e.BQk(),e.ynx(33,25),e.YNc(34,BY,2,0,"mat-header-cell",26),e.YNc(35,GY,2,1,"mat-cell",27),e.BQk(),e.YNc(36,WY,1,0,"mat-header-row",28),e.YNc(37,QY,1,0,"mat-row",29),e.qZA()()()()(),e.TgZ(38,"div",1)(39,"div",30)(40,"button",31),e.NdJ("click",function(){return i.closeDialog(!1)}),e._uU(41," Close "),e.qZA()(),e.TgZ(42,"div",30)(43,"button",32),e.NdJ("click",function(){return i.openCreate(0)}),e._UZ(44,"i",33),e._uU(45,"\xa0\xa0 Add New Constraint "),e.qZA()()(),e.YNc(46,zY,5,0,"div",34),e.qZA()),2&t&&(e.xp6(14),e.Q6J("formControl",i.constraintDataCtrl),e.xp6(9),e.Q6J("dataSource",i.data),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(9),e.Q6J("ngIf",i.showLoader))},dependencies:[D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,_.Fj,_.JJ,_.oH,Hc],styles:['.dialog-header[_ngcontent-%COMP%]{max-height:40px}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.add-constraint-button[_ngcontent-%COMP%]{height:25px;width:165px;font-size:12px;font-weight:bolder;line-height:10px;outline:none;color:#3f5064;background-color:#d4dbe0;margin-top:10px;box-shadow:none}.blue-line[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.grey-line[_ngcontent-%COMP%]{margin-bottom:0}.font-size-12px[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.eSolveFilter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-right:none}.eSolveFilter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#9c9c9c;border-color:#e7e7e7;box-shadow:none;outline:none}.font-size-15[_ngcontent-%COMP%]{font-size:15px}.search-btn[_ngcontent-%COMP%]{background-color:#f2f2f2;border-color:#e7e7e7;color:#707880;width:28px;height:28px;border-left:none;box-shadow:none}.mat-cell[_ngcontent-%COMP%]{font-size:12px}.details-button[_ngcontent-%COMP%]{height:25px;width:110px;font-size:12px;font-weight:700;line-height:10px;color:#fff;background-color:var(--eSolve-primary);box-shadow:none}.job-type-active[_ngcontent-%COMP%]{font-size:27px}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:5px}mat-cell[_ngcontent-%COMP%]:last-of-type, mat-footer-cell[_ngcontent-%COMP%]:last-of-type, mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:5px}.dialog-close-x[_ngcontent-%COMP%]{top:3px}.mat-column-isActive[_ngcontent-%COMP%]{-ms-flex:0 0 48px;flex:0 0 48px}.mat-column-buttons[_ngcontent-%COMP%]{-ms-flex:0 0 115px;flex:0 0 115px}.mat-column-constraintRuleName[_ngcontent-%COMP%]{-ms-flex:0 0 230px;flex:0 0 230px}mat-header-row[_ngcontent-%COMP%]{min-height:40px}#constraints_table_container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;max-height:34vh}body.modal-open[_ngcontent-%COMP%]{overflow:hidden}.mobile-label[_ngcontent-%COMP%]{display:none}.close-button[_ngcontent-%COMP%]{background-color:#3f5064;width:165px;height:25px;font-size:12px;font-weight:bolder;line-height:10px;color:#fff;box-shadow:none;margin-top:10px}.active-checkbox[_ngcontent-%COMP%]{color:var(--eSolve-green)!important;cursor:pointer}.inactive-checkbox[_ngcontent-%COMP%]{color:var(--eSolve-red)!important;cursor:pointer}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]     .mat-slide-toggle-thumb{width:12px!important;height:12px!important;-ms-transform:translate(25%,40%);transform:translate(25%,40%)}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]     .mat-slide-toggle-bar{border-radius:15px!important;height:16px!important;background-color:var(--eSolve-primary)!important}[_nghost-%COMP%]   .mat-slide-toggle.mat-checked[_ngcontent-%COMP%]     .mat-slide-toggle-bar:after{content:"On";font-size:10px;font-weight:500;color:#fff;position:absolute;left:4px;top:-4px}[_nghost-%COMP%]   .mat-slide-toggle.mat-checked[_ngcontent-%COMP%]     .mat-slide-toggle-thumb{-ms-transform:translate(50%,40%);transform:translate(50%,40%);background-color:#fff}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]:not(.mat-checked)     .mat-slide-toggle-bar:after{content:"Off";font-size:10px;font-weight:500;color:#fff;position:absolute;left:17px;top:-4px}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]:not(.mat-checked)     .mat-slide-toggle-bar{background-color:var(--gray)!important}@media (max-width: 768px){.mobile-label[_ngcontent-%COMP%]{width:40px;display:inline-block;color:#565d6f;font-weight:400}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start;height:135px}.mat-column-buttons[_ngcontent-%COMP%], .mat-column-constraintRuleName[_ngcontent-%COMP%]{-ms-flex:0;flex:0}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:30px}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:1px}.add-constraint-button[_ngcontent-%COMP%]{float:none!important}}']}),n})();class AS{constructor(){this.EmployeeIds=[],this.JobTypeIds=[],this.StartFrom=pt.hx.defaultTime,this.StartTo=pt.hx.defaultTime,this.EndFrom=pt.hx.defaultTime,this.EndTo=pt.hx.defaultTime,this.JobStatuses=[],this.Days=[]}}class KY{constructor(o,t,i,r){this.customViewStart=o,this.customViewDateRange=t,this.customViewCurrentStart=i,this.customViewCurrentEnd=r,this.customViewDateRange=1}}function $Y(n,o){1&n&&(e.TgZ(0,"div",29),e._uU(1," To Date is required. "),e.qZA())}function XY(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"label",22),e._uU(3," To Date "),e.qZA()(),e.TgZ(4,"div",2)(5,"div",23)(6,"div"),e._UZ(7,"input",24),e.qZA(),e.TgZ(8,"div")(9,"img",25),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(11);return e.KtG(r.open())}),e.qZA(),e._UZ(10,"mat-datepicker",26,27),e.qZA()()(),e.YNc(12,$Y,2,0,"div",28),e.qZA()}if(2&n){const t=e.MAs(11),i=e.oxw(3);e.xp6(7),e.Q6J("matDatepicker",t)("max",i.subGroupEndDate)("min",i.subGroupStartDate),e.xp6(3),e.s9C("touchUi",i.isMobile),e.xp6(2),e.Q6J("ngIf",i.copyJobForm.controls.copyToDate.touched&&(null==i.copyJobForm.controls.copyToDate.errors?null:i.copyJobForm.controls.copyToDate.errors.required))}}function eq(n,o){1&n&&(e.TgZ(0,"div",29),e._uU(1," To Day is required. "),e.qZA())}function tq(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,eq,2,0,"div",28),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.copyJobForm.controls.copyToDate.errors?null:t.copyJobForm.controls.copyToDate.errors.required)}}function nq(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"label",22),e._uU(3," To Day "),e.qZA()(),e.TgZ(4,"div",30)(5,"ng-select",31),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.mapDateForTemplateDay())}),e.qZA()(),e.YNc(6,tq,2,1,"div",32),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("items",t.days)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf",t.copyJobForm.controls.copyToDate.touched&&(null==t.copyJobForm.controls.copyToDate?null:t.copyJobForm.controls.copyToDate.errors))}}function iq(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,XY,13,5,"div",14),e.YNc(2,nq,7,4,"div",14),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isTemplate),e.xp6(1),e.Q6J("ngIf",t.isTemplate)}}function rq(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Number of Days is required. "),e.qZA())}function oq(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Enter valid Number of Days. "),e.qZA())}function aq(n,o){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,rq,2,0,"div",32),e.YNc(2,oq,2,0,"div",32),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.copyJobForm.controls.numberOfDays.errors.required),e.xp6(1),e.Q6J("ngIf",t.copyJobForm.controls.numberOfDays.errors.pattern)}}function sq(n,o){if(1&n&&(e.TgZ(0,"div",17)(1,"div",2)(2,"label",33),e._uU(3,"Number Of Days"),e.qZA()(),e.TgZ(4,"div",2),e._UZ(5,"input",34),e.qZA(),e.YNc(6,aq,3,2,"div",28),e.qZA()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("pattern",t.patternMin1Max99),e.xp6(1),e.Q6J("ngIf",t.copyJobForm.controls.numberOfDays.touched&&t.copyJobForm.controls.numberOfDays.errors)}}function lq(n,o){1&n&&(e.TgZ(0,"div",1)(1,"div",15)(2,"mat-checkbox",35)(3,"strong"),e._uU(4,"Exclude Weekends"),e.qZA()()()())}function cq(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",10,11),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitCopyJob())}),e.YNc(2,iq,3,2,"div",12),e.YNc(3,sq,7,2,"div",13),e.YNc(4,lq,5,0,"div",14),e.TgZ(5,"div",1)(6,"div",15)(7,"mat-checkbox",16)(8,"strong"),e._uU(9,"Copy Assigned Employees"),e.qZA()()()(),e._UZ(10,"hr"),e.TgZ(11,"div",17)(12,"div",18)(13,"div",1)(14,"div",2)(15,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(16,"Cancel"),e.qZA()()()(),e.TgZ(17,"div",18)(18,"div",1)(19,"div",2)(20,"button",20),e._uU(21,"Save Changes"),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.copyJobForm),e.xp6(2),e.Q6J("ngIf",1==t.typeOfCopy),e.xp6(1),e.Q6J("ngIf",2==t.typeOfCopy),e.xp6(1),e.Q6J("ngIf",2==t.typeOfCopy&&!t.isTemplate),e.xp6(11),e.Q6J("disabled",t.disabledButtons),e.xp6(5),e.Q6J("disabled",t.disabledButtons)}}let dq=(()=>{class n{constructor(t,i,r,a,s,l){this.dialogRef=t,this.formBuilder=i,this.copyJobService=r,this._datesService=a,this._messageService=s,this.data=l,this.typeOfCopy=0,this.excludeWeekendsCheck=!1,this.copyAssignedEmployeesCheck=!1,this.isMobile=!1,this.patternMin1Max99="^(0?[1-9]|[1-9][0-9])$",this.disabledButtons=!1,this.isTemplate=!1,this.days=[],this.isTemplate=this.data.isTemplate,this.view=this.data.view,this.subGroupStartDate=W(this.data.subgroupStartDate).clone().format("YYYY-MM-DD"),this.subGroupEndDate=W(this.data.subgroupEndDate).clone().format("YYYY-MM-DD"),this.daysList(this.subGroupStartDate,this.subGroupEndDate)}ngOnInit(){this.buildForm()}buildForm(){this.typeOfCopy=this.data.selectedType,this.jobId=this.data.jobId,this.copyJobForm=this.formBuilder.group({originalJobId:[""],copyToDate:[""],numberOfDays:[""],excludeWeekends:[""],copyAssignedEmployees:[""]})}checkIsDateValid(){if(1!=this.typeOfCopy||this.isTemplate)return!0;{let t=W(this.copyJobForm.get("copyToDate").value).clone().format("YYYY-MM-DD"),i=this.subGroupStartDate;if(t<=this.subGroupEndDate&&t>=i)return!0}return!1}submitCopyJob(){if(this.copyJobForm.valid)if(this.checkIsDateValid()){this.disabledButtons=!0;let t=this.copyJobForm.value;if(t.originalJobId=this.jobId[0],1==this.typeOfCopy){t.numberOfDays=null;let i=this.copyJobForm.get("copyToDate").value;t.copyToDate=new Date(W(this.isTemplate?this.templateStartDate:i).clone().format("YYYY-MM-DD"))}else 2==this.typeOfCopy&&(t.copyToDate=null);(null==t.excludeWeekends||""==t.excludeWeekends)&&(t.excludeWeekends="false"),(null==t.copyAssignedEmployees||""==t.copyAssignedEmployees)&&(t.copyAssignedEmployees="false"),t.cached=this.data.cached,this.copyJobService.create(t,this.isTemplate).subscribe(i=>{this._messageService.open(i),this.disabledButtons=!1,this.dialogRef.close(!0)},i=>{this._messageService.open(i),this.disabledButtons=!1})}else this._messageService.open("Enter valid date.");else this.touchForValidation(this.copyJobForm),this.disabledButtons=!1,this._messageService.open("Please fill the form correctly.")}touchForValidation(t){Object.values(t.controls).forEach(i=>{i.markAsTouched(),i.controls&&this.touchForValidation(i)})}closeDialog(){this.disabledButtons||this.dialogRef.close(!1)}inerWidth(){this.isMobile=window.innerWidth<425}daysList(t,i){if(this.isTemplate){const r=[];this.firstDayOfTheWeek=this._datesService.getStartDateOfWeek(W(this.data.startDate)).format("YYYY-MM-DD");const a={id:1,date:this.firstDayOfTheWeek,name:"Day 1"},s={id:2,date:W(W(this.firstDayOfTheWeek).add(1,"days")).clone().format("YYYY-MM-DD"),name:"Day 2"},l={id:3,date:W(W(this.firstDayOfTheWeek).add(2,"days")).clone().format("YYYY-MM-DD"),name:"Day 3"},c={id:4,date:W(W(this.firstDayOfTheWeek).add(3,"days")).clone().format("YYYY-MM-DD"),name:"Day 4"},u={id:5,date:W(W(this.firstDayOfTheWeek).add(4,"days")).clone().format("YYYY-MM-DD"),name:"Day 5"},h={id:6,date:W(W(this.firstDayOfTheWeek).add(5,"days")).clone().format("YYYY-MM-DD"),name:"Day 6"},x={id:7,date:W(W(this.firstDayOfTheWeek).add(6,"days")).clone().format("YYYY-MM-DD"),name:"Day 7"};r.push(a,s,l,c,u,h,x),r.forEach(T=>{W(T.date).isSameOrAfter(t)&&W(T.date).isSameOrBefore(i)&&this.days.push(T)})}}mapDateForTemplateDay(){this.isTemplate&&this.getDayOfTheWeekForTemplates(this.copyJobForm.controls.copyToDate.value)}getDayOfTheWeekForTemplates(t){let i,r;if("resourceTimelineDay"===this.view)if(1===W(this.firstDayOfTheWeek).day())r=W(this.firstDayOfTheWeek);else for(i=W(this.firstDayOfTheWeek).day(),0===i&&(i=7),r=W(this.firstDayOfTheWeek);1!=i;)r=W(W(W(r).subtract(1,"days")).format("YYYY-MM-DD")),i=r.day();switch(t){case 1:this.templateStartDate=W("resourceTimelineDay"===this.view?r:this.firstDayOfTheWeek);break;case 2:this.templateStartDate=W(W("resourceTimelineDay"===this.view?r:this.firstDayOfTheWeek).add(1,"days")).clone().format("YYYY-MM-DD");break;case 3:this.templateStartDate=W(W("resourceTimelineDay"===this.view?r:this.firstDayOfTheWeek).add(2,"days")).clone().format("YYYY-MM-DD");break;case 4:this.templateStartDate=W(W("resourceTimelineDay"===this.view?r:this.firstDayOfTheWeek).add(3,"days")).clone().format("YYYY-MM-DD");break;case 5:this.templateStartDate=W(W("resourceTimelineDay"===this.view?r:this.firstDayOfTheWeek).add(4,"days")).clone().format("YYYY-MM-DD");break;case 6:this.templateStartDate=W(W("resourceTimelineDay"===this.view?r:this.firstDayOfTheWeek).add(5,"days")).clone().format("YYYY-MM-DD");break;case 7:this.templateStartDate=W(W("resourceTimelineDay"===this.view?r:this.firstDayOfTheWeek).add(6,"days")).clone().format("YYYY-MM-DD")}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.so),e.Y36(_.qu),e.Y36(hS),e.Y36(Dh.X),e.Y36(se.G),e.Y36(z.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-copy-job-dialog"]],decls:13,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"blue-line"],[1,"col-12","font-size-12"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],["class","form-group",4,"ngIf"],["class","form-group row",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-12","align-center"],["name","copyAssignedEmployees","id","copyAssignedEmployees","formControlName","copyAssignedEmployees","checked","copyAssignedEmployeesCheck","labelPosition","after",1,"align-bottom"],[1,"form-group","row"],[1,"col-12","col-md-6"],["type","button",1,"btn","rules-cancel-button","form-buttons","g-margin-bottom-5",3,"disabled","click"],["id","submitBtn","type","submit",1,"btn","rules-save-button","form-buttons","float-right",3,"disabled"],[1,"form-group"],["for","copyToDate","id","toDayLabel",1,"col-form-label","col-form-label-sm","font-size-12","bolder-font"],[1,"d-flex","justify-content-start"],["id","copyToDate","formControlName","copyToDate","type","text","maxlength","50","required","",1,"form-control","form-control-sm","input-width","font-size-12","height28px",3,"matDatepicker","max","min"],["src","assets/icons/calendar-icon.png",1,"calendar-icon-img",3,"click"],[3,"touchUi"],["picker2",""],["class","validationError col-12",4,"ngIf"],[1,"validationError","col-12"],[1,"min-width-270px","height-28px","d-flex","justify-content-between","col-12"],["name","day","id","copyToDate","formControlName","copyToDate","required","","bindLabel","name","bindValue","id",1,"jobTypeDetails","input-width","copy-job-select-day",3,"items","clearable","searchable","change"],[4,"ngIf"],["for","numberOfDays",1,"col-form-label","col-form-label-sm","font-size-12","bolder-font"],["id","numberOfDays","formControlName","numberOfDays","type","text","required","",1,"form-control","form-control-sm","font-size-12","height28px",3,"pattern"],["name","excludeWeekends","id","excludeWeekends","formControlName","excludeWeekends","checked","excludeWeekendsCheck","labelPosition","after",1,"align-bottom"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6,"Copy Job"),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()()()(),e._UZ(9,"hr",7),e.TgZ(10,"div",1)(11,"div",8),e.YNc(12,cq,22,6,"form",9),e.qZA()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",i.copyJobForm))},dependencies:[D.O5,Zi.oG,On.Mq,On.hl,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.nD,_.c5,_.sg,_.u,Sn],styles:[".dialog-header[_ngcontent-%COMP%]{max-height:40px}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.dialog-close-x[_ngcontent-%COMP%]{top:3px}.blue-line[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.input-width[_ngcontent-%COMP%]{width:200px}.calendar-icon-img[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:5px;border-radius:0%;right:20px;position:relative;top:4px;left:-29px;color:#989898;font-size:12px;cursor:pointer}.align-center[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center}.labelforcheckbox-font[_ngcontent-%COMP%]{font-weight:bolder;margin-left:5px}.bolder-font[_ngcontent-%COMP%]{font-weight:bolder}#numberOfDays[_ngcontent-%COMP%]{width:70px}.font-size-12[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.height28px[_ngcontent-%COMP%]{height:28px}.rules-cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.rules-save-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}@media only screen and (max-width: 767px){.rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%]{float:none!important}}@media only screen and (max-width: 348px){.rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%]{width:100%}}"]}),n})();function uq(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," [Summary]"),e.qZA())}function pq(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Details"),e.qZA())}function fq(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"p"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("Employees that have overlapping assignments: ",t.brokenRulesMessages.countOfNotAlreadyAssigned,"")}}const hq=function(n){return{"margin-bottom":n}};function mq(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"p",17),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(2,hq,t.showAllDetails?"0px":"15px")),e.xp6(1),e.hij("Assignment Rules Broken: ",t.brokenRulesMessages.totalJobTypeBrokenRules+t.brokenRulesMessages.totalOfConstraintsBrokenRules-t.brokenRulesMessages.countOfNotAlreadyAssigned,"")}}function gq(n,o){if(1&n&&(e.TgZ(0,"p",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Job Type - Rules Broken: ",t.brokenRulesMessages.totalJobTypeBrokenRules,"")}}function _q(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Skill requirements: ",t.brokenRulesMessages.countOfSkillCodes,"")}}function vq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Job type - other requirements: ",t.brokenRulesMessages.countOfLengthOfService+t.brokenRulesMessages.countOfComparisonRules,"")}}function bq(n,o){if(1&n&&(e.TgZ(0,"p",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Constraint - Rules Broken: ",t.brokenRulesMessages.totalOfConstraintsBrokenRules-t.brokenRulesMessages.countOfNotAlreadyAssigned,"")}}function yq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Max number of hours: ",t.brokenRulesMessages.countOfMaxNumberOfHours,"")}}function xq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Max number of day of week (specified): ",t.brokenRulesMessages.countOfMaxNoOfDaysOfTheWeek,"")}}function Cq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Max number of Job type assignments: ",t.brokenRulesMessages.countOfMNOJT,"")}}function Tq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Must work with Employee: ",t.brokenRulesMessages.countOfEMWWAE,"")}}function wq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Must not work with Employee: ",t.brokenRulesMessages.countOfEMNWWAE,"")}}function Dq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Max number of consecutive job type assignments: ",t.brokenRulesMessages.countOfMNOJTC,"")}}function Sq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Max number of assignments between job times: ",t.brokenRulesMessages.countOfContraintTime,"")}}function kq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Max number of special date assignments: ",t.brokenRulesMessages.countOfMaxSpecialDates,"")}}function Aq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Max average hours: ",t.brokenRulesMessages.countOfMaxAverageHours,"")}}function Mq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Max number of required days off: ",t.brokenRulesMessages.countOfDaysOff,"")}}function Oq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Required rest period between jobs: ",t.brokenRulesMessages.countOfDaysOff,"")}}function Pq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Required rest period after a job type: ",t.brokenRulesMessages.countOfMNWFPAJT,"")}}function Eq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Unavailability conflicts: ",t.brokenRulesMessages.countOfAvailabilities,"")}}function Iq(n,o){if(1&n&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Absence conflicts: ",t.brokenRulesMessages.countOfAbsences,"")}}function Nq(n,o){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,gq,2,1,"p",19),e.YNc(2,_q,2,1,"p",20),e.YNc(3,vq,2,1,"p",20),e.YNc(4,bq,2,1,"p",19),e.YNc(5,yq,2,1,"p",20),e.YNc(6,xq,2,1,"p",20),e.YNc(7,Cq,2,1,"p",20),e.YNc(8,Tq,2,1,"p",20),e.YNc(9,wq,2,1,"p",20),e.YNc(10,Dq,2,1,"p",20),e.YNc(11,Sq,2,1,"p",20),e.YNc(12,kq,2,1,"p",20),e.YNc(13,Aq,2,1,"p",20),e.YNc(14,Mq,2,1,"p",20),e.YNc(15,Oq,2,1,"p",20),e.YNc(16,Pq,2,1,"p",20),e.YNc(17,Eq,2,1,"p",20),e.YNc(18,Iq,2,1,"p",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.totalJobTypeBrokenRules>0),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfSkillCodes>0),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfLengthOfService>0||t.brokenRulesMessages.countOfComparisonRules>0),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.totalOfConstraintsBrokenRules-t.brokenRulesMessages.countOfNotAlreadyAssigned>0),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfMaxNumberOfHours),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfMaxNoOfDaysOfTheWeek),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfMNOJT),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfEMWWAE),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfEMNWWAE),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfMNOJTC),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfContraintTime),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfMaxSpecialDates),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfMaxAverageHours),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfDaysOff),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfDaysOff),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfMNWFPAJT),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfAvailabilities),e.xp6(1),e.Q6J("ngIf",t.brokenRulesMessages.countOfAbsences)}}function Rq(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",27),e._uU(2),e.qZA(),e.TgZ(3,"td",27),e._uU(4),e.qZA(),e.TgZ(5,"td",27),e._uU(6),e.qZA(),e.TgZ(7,"td",27),e._uU(8),e.ALo(9,"DateTransformPipe"),e.qZA(),e.TgZ(10,"td",27),e._uU(11),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.employeeFirstNameAndLastname),e.xp6(2),e.Oqu(t.overlappingJobs[0].jobSchedule),e.xp6(2),e.Oqu(t.overlappingJobs[0].jobType),e.xp6(2),e.lnq("",e.lcZ(9,7,t.overlappingJobs[0].jobStartDate)," ",t.overlappingJobs[0].jobStartTime,"-",t.overlappingJobs[0].jobEndTime," "),e.xp6(3),e.Oqu(t.overlappingJobs[0].user)}}function Fq(n,o){if(1&n&&(e.TgZ(0,"div")(1,"p",22),e._uU(2),e.qZA()()),2&n){const t=e.oxw(6);e.xp6(2),e.Oqu(t.overlappingDisplayMessage)}}function Zq(n,o){if(1&n&&(e.TgZ(0,"div")(1,"p",22),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t)}}function Lq(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Fq,3,1,"div",5),e.YNc(2,Zq,3,1,"div",5),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","The not already assigned rule cannot be overriden. This employee will not be assigned."==t),e.xp6(1),e.Q6J("ngIf","The not already assigned rule cannot be overriden. This employee will not be assigned."!=t)}}function Uq(n,o){if(1&n&&(e.TgZ(0,"div",32)(1,"p",21),e._uU(2),e.qZA(),e.YNc(3,Lq,3,2,"div",25),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.employeeFirstNameAndLastname),e.xp6(1),e.Q6J("ngForOf",t.messages)}}function jq(n,o){if(1&n&&(e.TgZ(0,"div")(1,"p",30),e._uU(2),e.qZA(),e.YNc(3,Uq,4,2,"div",31),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.lnq("[",t.jobName,": ",t.jobStartTime," - ",t.jobEndTime,"]"),e.xp6(1),e.Q6J("ngForOf",t.employees)}}function Yq(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"p",29),e._uU(2),e.ALo(3,"date"),e.qZA(),e.YNc(4,jq,4,4,"div",25),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(i.isTemplate?t.day:e.xi3(3,2,t.date,"dd MMMM yyyy")),e.xp6(2),e.Q6J("ngForOf",t.brokenRules)}}function qq(n,o){if(1&n&&(e.TgZ(0,"div",18)(1,"table",23)(2,"tr",24)(3,"th"),e._uU(4,"Employee"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Job Schedule"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Job Type"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Date & Time"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"User Who has assigned"),e.qZA()(),e.YNc(13,Rq,12,9,"tr",25),e.qZA(),e.YNc(14,Yq,5,5,"div",26),e.qZA()),2&n){const t=e.oxw();e.xp6(13),e.Q6J("ngForOf",t.overlappingMessages),e.xp6(1),e.Q6J("ngForOf",t.brokenRulesMessages.warningDetails)}}function Jq(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.viewDetails())}),e._uU(2,"View Details"),e.qZA()()}}let MS=(()=>{class n{constructor(t,i,r,a){this.data=t,this._dialogRef=i,this._copyScheduleDataService=r,this._messageService=a,this.isConfirmed=!1,this.showAllDetails=!1,this.overrideData=[],this.isTemplate=!1,this.overlappingMessages=[],this.overlappingDisplayMessage="The not already assigned rule will be overridden. This employee will be assigned to overlapping jobs."}ngOnInit(){this.isTemplate=this.data.isTemplate,this.message=St.yw,this.innerWidth=window.innerWidth,this.responseSubscription=this._copyScheduleDataService.receiveResponse().subscribe(t=>{this.brokenRulesMessages=t;for(let i=0;i<this.brokenRulesMessages.warningDetails[0].brokenRules.length;i++)this.brokenRulesMessages.warningDetails[0].brokenRules[i].employees.forEach(r=>{r.overlappingJobs.length&&this.overlappingMessages.push(r)})})}onResize(t){this.innerWidth=window.innerWidth}closeDialog(){this._dialogRef.close()}viewDetails(){this.showAllDetails=!0}saveChanges(){this.responseSubscription=this._copyScheduleDataService.receiveResponse().subscribe(t=>{this.isConfirmed=!0,this._copyScheduleDataService.copyDataOverrideAssignments(this.brokenRulesMessages,this.isTemplate).subscribe(()=>{this._messageService.open("Data Copied")},i=>{})}),this._dialogRef.close()}ngOnDestroy(){this.responseSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.Is),e.Y36(z.so),e.Y36(el),e.Y36(se.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-override-copydata-warning-dialog"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},decls:32,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title","invalid-assignment-color"],[4,"ngIf"],[1,"blue-line","margin-top-0"],["class","col-12 red-font",4,"ngIf"],["class","col-12 gray-font",4,"ngIf"],[1,"gray-line"],[1,"col-12","gray-font-thiny"],[1,"col-12","buttonsContainer","d-flex","justify-content-between"],[1,"centerButton"],["type","button",1,"btn","cancel-button","form-buttons","msgsMargin",3,"click"],["class","centerButton",4,"ngIf"],["id","submitBtn","type","button",1,"btn","save-button","form-buttons",3,"click"],[1,"col-12","red-font"],[3,"ngStyle"],[1,"col-12","gray-font"],["class","msgsMargin bolderText black-font",4,"ngIf"],["class","msgsMargin msgMarginLeft",4,"ngIf"],[1,"msgsMargin","bolderText","black-font"],[1,"msgsMargin","msgMarginLeft"],[1,"red-font","w-100","text-center","overlapping-table"],[1,"table-head"],[4,"ngFor","ngForOf"],["class","margin-top-15",4,"ngFor","ngForOf"],[1,"overlapping-table-cell"],[1,"margin-top-15"],[1,"red-font","bolderText","margin-top-15px","msgsMargin"],[1,"black-font","bolderText","msgMarginLeft","msgsMargin"],["class","msgMarginLeft20",4,"ngFor","ngForOf"],[1,"msgMarginLeft20"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6,"Invalid Assignment\xa0 \u2014 \xa0Warning "),e.YNc(7,uq,2,0,"span",5),e.YNc(8,pq,2,0,"span",5),e.qZA()()()()(),e._UZ(9,"hr",6),e.TgZ(10,"div",1),e.YNc(11,fq,3,1,"div",7),e.YNc(12,mq,3,4,"div",7),e.YNc(13,Nq,19,18,"div",8),e.YNc(14,qq,15,2,"div",8),e.qZA(),e._UZ(15,"hr",9),e.TgZ(16,"div",1)(17,"div",10)(18,"p"),e._uU(19,"Choose "),e.TgZ(20,"strong"),e._uU(21,"Save Changes"),e.qZA(),e._uU(22," to continue with copy data."),e.qZA()()(),e.TgZ(23,"div",1)(24,"div",11)(25,"div",12)(26,"button",13),e.NdJ("click",function(){return i.closeDialog()}),e._uU(27,"Cancel"),e.qZA()(),e.YNc(28,Jq,3,0,"div",14),e.TgZ(29,"div",12)(30,"button",15),e.NdJ("click",function(){return i.saveChanges()}),e._uU(31,"Save Changes"),e.qZA()()()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",!i.showAllDetails),e.xp6(1),e.Q6J("ngIf",i.showAllDetails),e.xp6(3),e.Q6J("ngIf",i.brokenRulesMessages.countOfNotAlreadyAssigned>0),e.xp6(1),e.Q6J("ngIf",i.brokenRulesMessages.totalJobTypeBrokenRules>0||i.brokenRulesMessages.totalOfConstraintsBrokenRules>0&&i.brokenRulesMessages.totalOfConstraintsBrokenRules!=i.brokenRulesMessages.countOfNotAlreadyAssigned),e.xp6(1),e.Q6J("ngIf",!i.showAllDetails),e.xp6(1),e.Q6J("ngIf",i.showAllDetails),e.xp6(14),e.Q6J("ngIf",!i.showAllDetails))},dependencies:[D.sg,D.O5,D.PC,Ja,D.uU,Do],styles:[".dialog-header[_ngcontent-%COMP%]{max-height:40px}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.title-right[_ngcontent-%COMP%]{padding-right:0}.dialog-close-x[_ngcontent-%COMP%]{top:3px}.blue-line[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.gray-line[_ngcontent-%COMP%]{border:1px solid #ced5db;margin-top:0}.cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.save-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;width:200px}.gray-font[_ngcontent-%COMP%]{color:#565d6f!important;font-size:12px;font-weight:bolder}.gray-font-thiny[_ngcontent-%COMP%]{color:#565d6f!important;font-size:12px}.red-font[_ngcontent-%COMP%]{color:#c7303d!important;font-size:12px;font-weight:bolder}.invalid-assignment-color[_ngcontent-%COMP%]{color:#c7303d!important}.black-font[_ngcontent-%COMP%]{color:#000}.titleText[_ngcontent-%COMP%]{margin-bottom:5px;margin-top:15px}.msgsMargin[_ngcontent-%COMP%]{margin-bottom:5px}.msgMarginLeft[_ngcontent-%COMP%]{margin-left:10px}.msgMarginLeft20[_ngcontent-%COMP%]{margin-left:20px}.bolderText[_ngcontent-%COMP%]{font-weight:700}.margin-top-0[_ngcontent-%COMP%]{margin-top:0}.margin-top-15[_ngcontent-%COMP%]{margin-top:15px}.table-head[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #c7303d}.overlapping-table[_ngcontent-%COMP%]{margin-top:10px}.overlapping-table-cell[_ngcontent-%COMP%]{border-bottom:1px dashed #c7303d;padding:10px 0}@media (max-width: 851px){.buttonsContainer[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-align:center;align-items:center}.align-center-md[_ngcontent-%COMP%]{text-align:center}.cancel-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%]{margin-bottom:5px}.centerButton[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 515px){.blue-line[_ngcontent-%COMP%]{margin-top:15px!important}}@media (max-width: 348px){.cancel-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%], .centerButton[_ngcontent-%COMP%]{width:100%}}"]}),n})();class OS{constructor(o,t,i,r,a,s){this.id=o,this.startDate=t,this.endDate=i,this.isSubgroup=r,this.isTemplate=a,this.subgroupIDs=s}}function Hq(n,o){if(1&n&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.required," ")}}function Bq(n,o){if(1&n&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.limit50," ")}}function Vq(n,o){if(1&n&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.inUse," ")}}function Gq(n,o){1&n&&(e.TgZ(0,"div",13)(1,"div",14)(2,"label",27),e._uU(3," Include Assignments: "),e.qZA()(),e.TgZ(4,"div",1)(5,"div",28),e._UZ(6,"mat-checkbox",29),e.qZA()()())}function Wq(n,o){1&n&&(e.TgZ(0,"div",30)(1,"div",14)(2,"label",31),e._uU(3," Include Custom Data: "),e.qZA()(),e.TgZ(4,"div",1)(5,"div",28),e._UZ(6,"mat-checkbox",32),e.qZA()()())}function Qq(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" No of Days ",t.message.required," ")}}function zq(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.numberRange," 1 and 730. ")}}function Kq(n,o){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,Qq,2,1,"div",21),e.YNc(2,zq,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.templateForm.controls.noOfDays.errors?null:t.templateForm.controls.noOfDays.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.templateForm.controls.noOfDays.errors?null:t.templateForm.controls.noOfDays.errors.max)||(null==t.templateForm.controls.noOfDays.errors?null:t.templateForm.controls.noOfDays.errors.min)||(null==t.templateForm.controls.noOfDays.errors?null:t.templateForm.controls.noOfDays.errors.pattern))}}function $q(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",13)(2,"div",14)(3,"label",33),e._uU(4," No of Days*: "),e.qZA()(),e.TgZ(5,"div"),e._UZ(6,"input",34),e.qZA()(),e.YNc(7,Kq,3,2,"div",35),e.qZA()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",(null==t.templateForm.controls.noOfDays?null:t.templateForm.controls.noOfDays.touched)&&(null==t.templateForm.controls.noOfDays?null:t.templateForm.controls.noOfDays.errors))}}function Xq(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createTemplate())}),e.TgZ(1,"div",1)(2,"div",12)(3,"div",1)(4,"div",13)(5,"div",14)(6,"label",15),e._uU(7," Template Name*: "),e.qZA()(),e.TgZ(8,"div",16),e._UZ(9,"input",17),e.qZA()(),e.YNc(10,Hq,2,1,"div",18),e.YNc(11,Bq,2,1,"div",18),e.YNc(12,Vq,2,1,"div",18),e.YNc(13,Gq,7,0,"div",19),e.YNc(14,Wq,7,0,"div",20),e.YNc(15,$q,8,1,"div",21),e.qZA()()(),e.TgZ(16,"div",22)(17,"div")(18,"div",23)(19,"button",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialogConfirm())}),e._uU(20," Cancel "),e.qZA()(),e.TgZ(21,"div",23)(22,"button",25),e._uU(23," Save Changes "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.templateForm),e.xp6(10),e.Q6J("ngIf",(null==t.templateForm.controls.name?null:t.templateForm.controls.name.touched)&&(null==t.templateForm.controls.name.errors?null:t.templateForm.controls.name.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.templateForm.controls.name.errors?null:t.templateForm.controls.name.errors.maxlength),e.xp6(1),e.Q6J("ngIf",(null==t.templateForm.controls.name.errors?null:t.templateForm.controls.name.errors.templateNameInUse)&&!(null!=t.templateForm.controls.name.errors&&t.templateForm.controls.name.errors.required)),e.xp6(1),e.Q6J("ngIf",t.flag),e.xp6(1),e.Q6J("ngIf",t.flag),e.xp6(1),e.Q6J("ngIf",!t.flag),e.xp6(7),e.Q6J("disabled",t.disabledSave)}}let Px=(()=>{class n{constructor(t,i,r,a,s,l,c){this.data=t,this._dialogRef=i,this.formBuilder=r,this._templatesService=a,this._messageService=s,this.datePipe=l,this._router=c,this.title="Create Template",this.flag=!1,this.disabledSave=!1,this._ngUnsubscribe=new b.x}ngOnInit(){this.message=St.yw,this.buildTemplateForm(),this.trackInputEntry(),this.flag="create"===this.data.type}closeDialogConfirm(){this._dialogRef.close()}buildTemplateForm(){this.templateForm=this.formBuilder.group({name:["",{validators:[_.kI.required],updateOn:"change"}],includeAssignments:[!1,{validators:[_.kI.required],updateOn:"change"}],includeCustomData:[!1,{validators:[_.kI.required],updateOn:"change"}],noOfDays:["",{validators:[_.kI.required,_.kI.min(1),_.kI.max(730),_.kI.pattern("^[0-9]*$")],updateOn:"change"}]})}trackInputEntry(){this.templateForm.controls.name.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{if(t){let i=0;this._templatesService.checkIfTemplateNameIsUnique(t.trim(),i).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{let a=!!t.trim();200==r&&a?this.templateForm.controls.name.setErrors(null):201==r&&this.templateForm.controls.name.setErrors({templateNameInUse:!0})})}})}createTemplate(){"/scheduler"===this._router.url&&this.templateForm.controls.noOfDays.setErrors(null),this.templateForm.controls.name.setValue(this.templateForm.controls.name.value.trim());let t=this.templateForm.value;t.id=this.data.id,t.name=this.templateForm.controls.name.value,t.startDate=this.data.startDate,t.endDate=this.data.endDate,t.selectedSubgroupList=this.data.selectedSubgroupList,t.isSubgroup=this.data.isSubgroup;let i={id:null};i.name=this.templateForm.controls.name.value,i.numberOfDays=this.templateForm.controls.noOfDays.value,i.startDate=this.datePipe.transform(W().toDate(),"yyyy-MM-dd"),i.endDate=this.datePipe.transform(W().add(i.numberOfDays-1,"days").toDate(),"yyyy-MM-dd").toString(),"create"===this.data.type?this.templateForm.valid?(this.disabledSave=!0,this._templatesService.createTemplate(t).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._messageService.open("Template is created."),this._dialogRef.close({message:"submited"})},r=>{this._messageService.open(r),this.disabledSave=!1})):(Object.keys(this.templateForm.controls).forEach(r=>{this.templateForm.get(r).markAsTouched({onlySelf:!0})}),this._messageService.open(this.message.fillForm)):this.templateForm.valid?(this.disabledSave=!0,this._templatesService.createTemplate(i).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._messageService.open("Template is created."),this._dialogRef.close({message:"submited"})},r=>{this._messageService.open(r),this.disabledSave=!1})):(Object.keys(this.templateForm.controls).forEach(r=>{const a=this.templateForm.get(r);if(a.value){let s=a.value.trim();a.setValue(s)}a.markAsTouched({onlySelf:!0})}),this._messageService.open(this.message.fillForm))}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(_s),e.Y36(se.G),e.Y36(D.uU),e.Y36(q.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-template-dialog"]],decls:12,vars:2,consts:[[1,"container"],[1,"row"],[1,"card_body","col-12"],["id","eSolveTitleRow",1,"form-row","row"],[1,"form-group","col-12"],[1,"col-10","d-flex","card_title"],[1,"title-left"],[1,"col-2","justify-content-end","eSolveCloseButton"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"eSolveMargin"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"container-jcBetween","col-12","d-flex","justify-content-between"],[1,"col-12","d-flex","justify-content-start","g-margin-bottom-5"],[1,"min-width-120px"],["for","name",1,"col-form-label","col-form-label-sm","font-size-12b"],[1,"eSolveNameDiv"],["id","name","placeholder","Name","required","","maxlength","50","formControlName","name",1,"form-control","eSolve-font-size","form-control-sm"],["class","col-12 validationError",4,"ngIf"],["class","col-12 d-flex justify-content-start g-margin-bottom-5",4,"ngIf"],["class","col-12 d-flex justify-content-start",4,"ngIf"],[4,"ngIf"],[1,"row","d-flex","btn-container"],[1,"col-12"],["id","cancelButton","type","button",1,"cancel-button","btn","p-2","modal-btn","eSolve-font-size",3,"click"],["id","submitButton","type","submit",1,"submit-new-button","btn","p-2","modal-btn","eSolve-font-size",3,"disabled"],[1,"col-12","validationError"],["for","includeAssignments",1,"col-form-label","col-form-label-sm","font-size-12b"],[1,"col-12","checkbox-margin-top"],["formControlName","includeAssignments","id","includeAssignments"],[1,"col-12","d-flex","justify-content-start"],["for","includeCustomData",1,"col-form-label","col-form-label-sm","font-size-12b"],["formControlName","includeCustomData","id","includeCustomData"],["for","noOfDays",1,"col-form-label","col-form-label-sm","font-size-12b"],["type","number","name","noOfDays","id","noOfDays","formControlName","noOfDays","numbersOnlyMask","",1,"form-control","font-size-12","form-control-sm"],["class","validationError col-12 ",4,"ngIf"],[1,"validationError","col-12"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.qZA()(),e.TgZ(8,"div",7)(9,"img",8),e.NdJ("click",function(){return i.closeDialogConfirm()}),e.qZA()()()(),e._UZ(10,"hr",9),e.YNc(11,Xq,24,8,"form",10),e.qZA()()()),2&t&&(e.xp6(7),e.hij(" ",i.title," "),e.xp6(4),e.Q6J("ngIf",i.templateForm))},dependencies:[D.O5,Zi.oG,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.nD,_.sg,_.u,mo],styles:["#eSolveTitleRow[_ngcontent-%COMP%]{max-height:40px;position:relative}.card_title[_ngcontent-%COMP%]{font-size:17px;padding-left:0}.title-left[_ngcontent-%COMP%]{font-weight:700}.eSolveCloseButton[_ngcontent-%COMP%]{position:relative;float:right;top:-21px;padding-right:0}#dialog-close-x[_ngcontent-%COMP%]{position:relative;width:15px}.min-width-120px[_ngcontent-%COMP%]{min-width:120px}.font-size-12b[_ngcontent-%COMP%]{font-size:12px;font-weight:bolder;color:#565d6f}.font-size-12[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.eSolveMargin[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-top:0rem}.submit-new-button[_ngcontent-%COMP%]{border-radius:4px;text-align:center;float:right;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:0 2px 5px #00000042;width:200px;height:25px}.cancel-button[_ngcontent-%COMP%]{border-radius:4px;text-align:center;text-decoration:none;float:right;border:none;outline:none;color:#fff;background-color:#404f64;box-shadow:0 2px 5px #00000042;margin-bottom:5px;width:200px;height:25px}.modal-btn[_ngcontent-%COMP%]{height:30px;width:200px}.eSolveNameDiv[_ngcontent-%COMP%]{width:200px}#eSolveName[_ngcontent-%COMP%]{width:100%}.checkbox-margin-top[_ngcontent-%COMP%]{margin-top:6px}.btn-container[_ngcontent-%COMP%]{-ms-flex-pack:end;justify-content:flex-end}#noOfDays[_ngcontent-%COMP%]{max-width:60px}@media (max-width: 767px){.container-jcBetween[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}.btn-container[_ngcontent-%COMP%]{margin-top:5px;-ms-flex-pack:center!important;justify-content:center!important}}@media (max-width: 490px){.eSolveNameDiv[_ngcontent-%COMP%]{width:100%}}@-moz-document url-prefix(){mat-checkbox{margin-left:5px}}"]}),n})();class eJ{constructor(o,t,i,r,a){this.templateID=o,this.scheduleID=t,this.subGroupID=i,this.startDate=r,this.rotations=a}}function tJ(n,o){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function nJ(n,o){if(1&n&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Delete Type ",t.message.required," ")}}function iJ(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Date ",t.message.required," ")}}function rJ(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function oJ(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Sub Group Start Date must be within parent date range "),e.qZA())}function aJ(n,o){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,iJ,2,1,"div",15),e.YNc(2,rJ,2,1,"div",15),e.YNc(3,oJ,2,0,"div",15),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.deleteTemplateForm.controls.date.errors?null:t.deleteTemplateForm.controls.date.errors.required)&&!(null!=t.deleteTemplateForm.controls.date.errors&&t.deleteTemplateForm.controls.date.errors.matDatepickerParse||null!=t.deleteTemplateForm.controls.date.errors&&t.deleteTemplateForm.controls.date.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.deleteTemplateForm.controls.date.errors?null:t.deleteTemplateForm.controls.date.errors.matDatepickerParse)||(null==t.deleteTemplateForm.controls.date.errors?null:t.deleteTemplateForm.controls.date.errors.minlength)),e.xp6(1),e.Q6J("ngIf",((null==t.deleteTemplateForm.controls.date.errors?null:t.deleteTemplateForm.controls.date.errors.matDatepickerMin)||(null==t.deleteTemplateForm.controls.date.errors?null:t.deleteTemplateForm.controls.date.errors.matDatepickerMax))&&!(null!=t.deleteTemplateForm.controls.date.errors&&t.deleteTemplateForm.controls.date.errors.required||null!=t.deleteTemplateForm.controls.date.errors&&t.deleteTemplateForm.controls.date.errors.matDatepickerParse))}}function sJ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",10)(2,"div",11),e._UZ(3,"input",22),e.qZA(),e.TgZ(4,"div")(5,"img",23),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(7);return e.KtG(r.open())}),e.qZA()(),e._UZ(6,"mat-datepicker",null,24),e.qZA(),e.YNc(8,aJ,4,3,"div",25),e.qZA()}if(2&n){const t=e.MAs(7),i=e.oxw(2);e.xp6(3),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("min",i.startDate)("max",i.endDate)("matDatepicker",t)("dateLengthTracker",i.dateLength),e.xp6(5),e.Q6J("ngIf",(null==i.deleteTemplateForm.controls.date?null:i.deleteTemplateForm.controls.date.touched)&&(null==i.deleteTemplateForm.controls.date?null:i.deleteTemplateForm.controls.date.errors))}}function lJ(n,o){if(1&n&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Time ",t.message.required," ")}}function cJ(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,lJ,2,1,"div",14),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.deleteTemplateForm.controls.time||null==t.deleteTemplateForm.controls.time.errors?null:t.deleteTemplateForm.controls.time.errors.required)}}function dJ(n,o){if(1&n&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function uJ(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",10)(2,"div",11),e._UZ(3,"input",27),e.qZA()(),e.TgZ(4,"div"),e.YNc(5,cJ,2,1,"div",15),e.YNc(6,dJ,2,1,"div",14),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("ngIf",t.deleteTemplateForm.controls.time.touched&&t.deleteTemplateForm.controls.time.errors),e.xp6(1),e.Q6J("ngIf",null==t.deleteTemplateForm.controls.time.errors?null:t.deleteTemplateForm.controls.time.errors.minlength)}}function pJ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",8),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteTemplate())}),e.TgZ(1,"div",9)(2,"div",10)(3,"div",11)(4,"select",12),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onDeleteTypeChange())}),e.YNc(5,tJ,2,2,"option",13),e.qZA()()(),e.YNc(6,nJ,2,1,"div",14),e.YNc(7,sJ,9,6,"div",15),e.YNc(8,uJ,7,3,"div",15),e.qZA(),e.TgZ(9,"div",16)(10,"div",17)(11,"button",18),e._uU(12," Continue "),e.qZA()(),e.TgZ(13,"div",17)(14,"button",19),e._uU(15," Cancel "),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.deleteTemplateForm),e.xp6(5),e.Q6J("ngForOf",t.deleteTypes),e.xp6(1),e.Q6J("ngIf",t.deleteTemplateForm.controls.deleteTypeID.touched&&(null==t.deleteTemplateForm.controls.deleteTypeID.errors?null:t.deleteTemplateForm.controls.deleteTypeID.errors.required)),e.xp6(1),e.Q6J("ngIf","2"==t.deleteTemplateForm.controls.deleteTypeID.value),e.xp6(1),e.Q6J("ngIf","2"==t.deleteTemplateForm.controls.deleteTypeID.value),e.xp6(3),e.Q6J("disabled",t.disabledSave),e.xp6(3),e.Q6J("mat-dialog-close",!1)("disabled",t.disabledSave)}}let PS=(()=>{class n{constructor(t,i,r,a,s){this.data=t,this.dialogRef=i,this.formBuilder=r,this._messageService=a,this._templatesService=s,this.dateLength=ai.YG.length,this.isInsertedTemplate=!1,this.disabledSave=!1,this.deleteTypes=[{id:1,name:"Delete Now"},{id:2,name:"Delete From"}]}ngOnInit(){this.isInsertedTemplate=this.data.insertedTemplate,this.isInsertedTemplate&&(this.startDate=this.data.startDateForDelete,this.endDate=this.data.endDateForDelete),this.message=St.yw,this.buildForm()}buildForm(){this.deleteTemplateForm=this.formBuilder.group({deleteTypeID:[1],date:[""],time:["00:00"]})}onDeleteTypeChange(){this.deleteTemplateForm.controls.date.setValue(null),this.deleteTemplateForm.controls.date.markAsUntouched(),this.deleteTemplateForm.controls.date.setErrors(null),this.deleteTemplateForm.controls.time.setValue("00:00"),this.deleteTemplateForm.controls.time.markAsUntouched(),this.deleteTemplateForm.controls.time.setErrors(null)}deleteTemplate(){let t={};if(1==this.deleteTemplateForm.controls.deleteTypeID.value)t.id=this.isInsertedTemplate?this.data.id:this.data.deleteTemplateData.id,t.date=W().clone().utc(!1).set({hour:0,minute:0,second:0,millisecond:0});else if(2==this.deleteTemplateForm.controls.deleteTypeID.value){let i,r,a,s;i=W(this.deleteTemplateForm.controls.date.value).format("YYYY-MM-DD"),r=this.deleteTemplateForm.controls.time.value,a=r.slice(0,3),s=r.slice(3,5),t.id=this.isInsertedTemplate?this.data.id:this.data.deleteTemplateData.id,t.date=i+"T"+a+s+":00.000Z"}if(this.disabledSave=!0,this.deleteTemplateForm.valid){let i=this.deleteTemplateForm;this.deleteTemplateForm.disable(),1==i.controls.deleteTypeID.value?this._templatesService.deleteTemplates(t,this.isInsertedTemplate).subscribe(r=>{let a=JSON.parse(r);this.dialogRef.close({message:"deleted"}),this._messageService.open(a)},r=>{this._messageService.open(r),this.disabledSave=!1,this.deleteTemplateForm.enable()}):2==i.controls.deleteTypeID.value&&this._templatesService.deleteTemplates(t,this.isInsertedTemplate).subscribe(r=>{let a=JSON.parse(r);this.dialogRef.close({message:"deleted"}),this._messageService.open(a)},r=>{this._messageService.open(r),this.disabledSave=!1,this.deleteTemplateForm.enable()})}else Object.keys(this.deleteTemplateForm.controls).forEach(i=>{this.deleteTemplateForm.get(i).markAsTouched({onlySelf:!0})}),this._messageService.open(this.message.fillForm),this.disabledSave=!1,this.deleteTemplateForm.enable()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(se.G),e.Y36(_s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-delete-template-dialog"]],decls:13,vars:2,consts:[[1,"row","delete-warning-header"],[1,"col-12"],[1,"warning-title"],[1,"col-12","d-flex","justify-content-center"],[1,"blue_hr"],[1,"row","delete-warning-content"],[1,"dialog-message"],["autocomplete","off","id","eSolveDeleteTemplate",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off","id","eSolveDeleteTemplate",3,"formGroup","ngSubmit"],[1,"row","col-12","margin-top-10"],[1,"col-12","d-flex","justify-content-start","g-margin-bottom-5"],[1,"eSolveNameDiv"],["id","deleteTypeID","formControlName","deleteTypeID","required","",1,"form-control","form-control-sm","input-width",3,"change"],["class","input-element",3,"value",4,"ngFor","ngForOf"],["class","validationError col-12",4,"ngIf"],[4,"ngIf"],[1,"row","col-12","margin-top-10","pading-right-none"],[1,"col-sm-12","col-md-6","pading-right-none"],["id","continue-button","type","submit",1,"eSolve-button","eSolve-blue-button",3,"disabled"],["id","cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"mat-dialog-close","disabled"],[1,"input-element",3,"value"],[1,"validationError","col-12"],["id","date","name","date","formControlName","date","required","",1,"form-control","form-control-sm","eSolve-font-size",3,"min","max","placeholder","matDatepicker","dateLengthTracker"],["src","assets/icons/calendar-icon.png",1,"calendar-icon-img2",3,"click"],["templateDatePicker",""],["class","col-12 validationError",4,"ngIf"],[1,"col-12","validationError"],["type","text","placeholder","00:00","id","eSolveTime","mask","Hh:m0","maxlength","5","minlength","5","name","time","formControlName","time","required","",1,"form-control","form-control-sm",3,"dropSpecialCharacters"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Delete Warning"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"hr",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div")(8,"div",1)(9,"strong")(10,"span",6),e._uU(11),e.qZA()()(),e.YNc(12,pJ,16,8,"form",7),e.qZA()()),2&t&&(e.xp6(11),e.hij(" ",i.data.message," "),e.xp6(1),e.Q6J("ngIf",i.deleteTemplateForm))},dependencies:[D.sg,D.O5,On.Mq,On.hl,z.ZT,_._Y,_.YN,_.Kr,_.Fj,_.EJ,_.JJ,_.JL,_.Q7,_.wO,_.nD,_.sg,_.u,Cs,rr],styles:[".warning-title[_ngcontent-%COMP%]{color:var(--eSolve-red);font-size:17px;font-weight:700}.dialog-message[_ngcontent-%COMP%]{text-align:center;white-space:pre-line}.dialog-message[_ngcontent-%COMP%]{font-size:12px}.eSolve-button[_ngcontent-%COMP%], .blue_hr[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px}.eSolveNameDiv[_ngcontent-%COMP%]{width:180px}.input-width[_ngcontent-%COMP%]{max-width:200px;font-size:12px}.input-element[_ngcontent-%COMP%]{font-size:12px}.calendar-icon-img2[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:5px;border-radius:0%;position:relative;left:-30px;top:1px;cursor:pointer}#eSolveTime[_ngcontent-%COMP%]{width:63px;box-shadow:none}input[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.pading-right-none[_ngcontent-%COMP%]{padding-right:0}@media (max-width: 767px){#continue-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),n})();function fJ(n,o){if(1&n&&(e.TgZ(0,"ng-option",40),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function hJ(n,o){if(1&n&&(e.TgZ(0,"div",41),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.required," ")}}function mJ(n,o){if(1&n&&(e.TgZ(0,"ng-option",42),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function gJ(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Start Date ",t.message.required," ")}}function _J(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function vJ(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Start Date must be within parent date range "),e.qZA())}function bJ(n,o){if(1&n&&(e.TgZ(0,"div",43),e.YNc(1,gJ,2,1,"div",44),e.YNc(2,_J,2,1,"div",44),e.YNc(3,vJ,2,0,"div",44),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.insertTemplateForm.controls.startDate.errors?null:t.insertTemplateForm.controls.startDate.errors.required)&&!(null!=t.insertTemplateForm.controls.startDate.errors&&t.insertTemplateForm.controls.startDate.errors.matDatepickerParse||null!=t.insertTemplateForm.controls.startDate.errors&&t.insertTemplateForm.controls.startDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.insertTemplateForm.controls.startDate.errors?null:t.insertTemplateForm.controls.startDate.errors.matDatepickerParse)||(null==t.insertTemplateForm.controls.startDate.errors?null:t.insertTemplateForm.controls.startDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",((null==t.insertTemplateForm.controls.startDate.errors?null:t.insertTemplateForm.controls.startDate.errors.matDatepickerMin)||(null==t.insertTemplateForm.controls.startDate.errors?null:t.insertTemplateForm.controls.startDate.errors.matDatepickerMax))&&!(null!=t.insertTemplateForm.controls.startDate.errors&&t.insertTemplateForm.controls.startDate.errors.required||null!=t.insertTemplateForm.controls.startDate.errors&&t.insertTemplateForm.controls.startDate.errors.matDatepickerParse))}}function yJ(n,o){if(1&n&&(e.TgZ(0,"div",41),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" No of Rotations ",t.message.required," ")}}function xJ(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.numberRange," 1 and 100. ")}}function CJ(n,o){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,xJ,2,1,"div",44),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.insertTemplateForm.controls.rotations.errors?null:t.insertTemplateForm.controls.rotations.errors.pattern)}}function TJ(n,o){if(1&n&&(e.TgZ(0,"div",41),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Cannot insert more than ",t.rotationsMax," rotations. ")}}function wJ(n,o){1&n&&(e.TgZ(0,"div",41),e._uU(1," No available data for insert template. "),e.qZA())}function DJ(n,o){1&n&&(e.TgZ(0,"div",41),e._uU(1," Template's data is too big for the location in the selected range. "),e.qZA())}function SJ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"button",45),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openDeleteDialog())}),e._UZ(2,"i",46),e._uU(3," Delete "),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabledSaveButton)}}function kJ(n,o){1&n&&(e.TgZ(0,"div",47)(1,"div",48),e._uU(2,"Inserting template..."),e.qZA(),e.TgZ(3,"div",49),e._UZ(4,"div",50),e.qZA()())}function AJ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitInsertTemplate())}),e.TgZ(1,"div",12)(2,"div",13)(3,"label",14),e._uU(4," Template Name*: "),e.qZA()(),e.TgZ(5,"div",15)(6,"ng-select",16),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkRotations())}),e.YNc(7,fJ,2,2,"ng-option",17),e.qZA()(),e.YNc(8,hJ,2,1,"div",18),e.qZA(),e.TgZ(9,"div",12)(10,"div",13)(11,"label",19),e._uU(12," Schedule Location: "),e.qZA()(),e.TgZ(13,"div",15)(14,"ng-select",20),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return r.getValidDate(),e.KtG(r.checkRotations())}),e.YNc(15,mJ,2,2,"ng-option",21),e.qZA()()(),e.TgZ(16,"div",22)(17,"div",13)(18,"label",23),e._uU(19," Start Date*: "),e.qZA()(),e.TgZ(20,"div",15)(21,"div",24)(22,"input",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.getValidDate())})("dateChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkRotations())}),e.qZA(),e.TgZ(23,"img",26),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(25),a=e.oxw();return r.open(),e.KtG(a.getValidDate())}),e.qZA(),e._UZ(24,"mat-datepicker",27,28),e.qZA()(),e.YNc(26,bJ,4,3,"div",29),e.qZA(),e.TgZ(27,"div",12)(28,"div",13)(29,"label",30),e._uU(30," No of Rotations*: "),e.qZA()(),e.TgZ(31,"div",15)(32,"input",31),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkRotations())}),e.qZA()(),e.YNc(33,yJ,2,1,"div",18),e.YNc(34,CJ,2,1,"div",32),e.YNc(35,TJ,2,1,"div",18),e.YNc(36,wJ,2,0,"div",18),e.YNc(37,DJ,2,0,"div",18),e.qZA(),e.TgZ(38,"div",33)(39,"div",34)(40,"div",1),e.YNc(41,SJ,4,1,"div",35),e.qZA()(),e.TgZ(42,"div",34)(43,"div",1)(44,"div",36)(45,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialogConfirm())}),e._uU(46,"Cancel "),e.qZA()(),e.TgZ(47,"div",36)(48,"button",38),e._uU(49,"Save Changes "),e.qZA()()()()(),e.YNc(50,kJ,5,0,"div",39),e.qZA()}if(2&n){const t=e.MAs(25),i=e.oxw();e.Q6J("formGroup",i.insertTemplateForm),e.xp6(6),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",i.templates),e.xp6(1),e.Q6J("ngIf",i.insertTemplateForm.controls.templateID.touched&&(null==i.insertTemplateForm.controls.templateID.errors?null:i.insertTemplateForm.controls.templateID.errors.required)),e.xp6(6),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",i.scheduleLocation),e.xp6(7),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("min",i.startDate)("max",i.endDate)("matDatepicker",t)("dateLengthTracker",i.dateLength),e.xp6(2),e.s9C("touchUi",i.isMobile),e.xp6(2),e.Q6J("ngIf",(null==i.insertTemplateForm.controls.startDate?null:i.insertTemplateForm.controls.startDate.touched)&&(null==i.insertTemplateForm.controls.startDate?null:i.insertTemplateForm.controls.startDate.errors)),e.xp6(6),e.Q6J("min",1)("max",100),e.xp6(1),e.Q6J("ngIf",i.insertTemplateForm.controls.rotations.touched&&(null==i.insertTemplateForm.controls.rotations.errors?null:i.insertTemplateForm.controls.rotations.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==i.insertTemplateForm.controls.rotations?null:i.insertTemplateForm.controls.rotations.touched)&&(null==i.insertTemplateForm.controls.rotations?null:i.insertTemplateForm.controls.rotations.errors)),e.xp6(1),e.Q6J("ngIf",!i.rotationsValid),e.xp6(1),e.Q6J("ngIf",2==i.insertValid),e.xp6(1),e.Q6J("ngIf",1==i.insertValid),e.xp6(4),e.Q6J("ngIf",i.isEdit),e.xp6(4),e.Q6J("disabled",i.disabledSaveButton),e.xp6(3),e.Q6J("disabled",i.disabledSaveButton),e.xp6(2),e.Q6J("ngIf",i.showTemplateLoader)}}var sd=(()=>{return(n=sd||(sd={}))[n.overZero=0]="overZero",n[n.zero=1]="zero",n[n.lessThanZero=2]="lessThanZero",sd;var n})();let ES=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this.data=t,this._messageService=i,this.dialogRef=r,this.formBuilder=a,this._templateService=s,this._subGroupService=l,this._scheduleService=c,this.dialog=u,this.dateLength=ai.YG.length,this.title="Insert Template",this.insertTemplate=new eJ,this.isEdit=!1,this.disabledSaveButton=!1,this.isMobile=!1,this.rotationsValid=!0,this.insertValid=sd.overZero,this.showTemplateLoader=!1}ngOnInit(){this.scheduleID=this.data.scheduleID,this.message=St.yw,this.deleteMessage=(0,St.$j)(" Template"),this.buildForm(),this.initInsertTemplateForm()}closeDialogConfirm(){this.disabledSaveButton||this.dialogRef.close({isInserted:!1})}buildForm(){this.insertTemplateForm=this.formBuilder.group({templateID:[null,{validators:[_.kI.required],updateOn:"change"}],subGroupID:[null,{updateOn:"change"}],startDate:["",{validators:[_.kI.required],updateOn:"change"}],rotations:[1,{validators:[_.kI.required],updateOn:"change"}]})}inerWidth(){this.isMobile=window.innerWidth<425}getTemplates(){this._templateService.getTemplatesDropdown().subscribe(t=>{this.templates=t})}getSubgroupsForSchedule(){this._subGroupService.getSubgroupsDropdown(this.scheduleID).subscribe(t=>{this.scheduleLocation=t})}checkRotations(){if(this.insertTemplateForm.controls.templateID.value&&this.insertTemplateForm.controls.startDate.value){let t=this.insertTemplateForm.value;t.scheduleID=this.scheduleID,t.templateID=this.isEdit?this.data.insertTemplateEdit.templateID:this.insertTemplateForm.controls.templateID.value,this._templateService.getInsertTemplatesRotations(t).subscribe(i=>{this.rotationsMax=i,null!=this.rotationsMax?(this.rotationsValid=this.insertTemplateForm.controls.rotations.value<=this.rotationsMax||-1==this.rotationsMax||0==this.rotationsMax,this.insertValid=this.rotationsMax<0?sd.lessThanZero:0==this.rotationsMax?sd.zero:sd.overZero):(this.rotationsValid=!0,this.insertValid=sd.overZero)})}}getValidDate(){this.data.insertTemplateEdit?this.data.insertTemplateEdit.scheduleLocationID?this._subGroupService.getById(this.data.insertTemplateEdit.scheduleLocationID,!1).subscribe(i=>{this.startDate=i.startDate,this.endDate=i.endDate},i=>{}):this._scheduleService.getById(this.scheduleID,!1).subscribe(t=>{this.startDate=t.startDate,this.endDate=t.endDate},t=>{}):this.insertTemplateForm.controls.subGroupID.value?this._subGroupService.getById(this.insertTemplateForm.controls.subGroupID.value,!1).subscribe(i=>{this.startDate=i.startDate,this.endDate=i.endDate},i=>{}):this._scheduleService.getById(this.scheduleID,!1).subscribe(t=>{this.startDate=t.startDate,this.endDate=t.endDate},t=>{})}initInsertTemplateForm(){this.getTemplates(),this.getSubgroupsForSchedule(),this.getValidDate();let t=0;try{t=this.data.insertTemplateEdit.id}catch(i){}0!=t&&(this.isEdit=!0,this.title="Edit Template",this.insertTemplateForm.controls.templateID.disable(),this.insertTemplateForm.controls.subGroupID.disable(),this.startDateForDelete=this.data.insertTemplateEdit.startDate,this.endDateForDelete=this.data.insertTemplateEdit.endDate,this.insertTemplate.scheduleID=this.scheduleID,this.insertTemplate.templateID=this.data.insertTemplateEdit.templateID,this.insertTemplate.subGroupID=this.data.insertTemplateEdit.scheduleLocationName,this.insertTemplate.startDate=this.data.insertTemplateEdit.startDate,this.insertTemplate.rotations=this.data.insertTemplateEdit.rotations,this.insertTemplateForm.patchValue(this.insertTemplate))}submitInsertTemplate(){if(this.disabledSaveButton=!0,this.insertTemplateForm.valid&&this.rotationsValid&&this.insertValid==sd.overZero){let t=this.insertTemplateForm.value;t.scheduleID=this.scheduleID,this.insertTemplateForm.disable(),this.isEdit?(t.templateID=this.data.insertTemplateEdit.templateID,t.subGroupID=this.data.insertTemplateEdit.scheduleLocationID,this._templateService.editInsertTemplate(t,this.data.insertTemplateEdit.id).subscribe(i=>{let r=JSON.parse(i);this._messageService.open(r),this.dialogRef.close({message:"submited",isInserted:!0})},i=>{this.disabledSaveButton=!1,this.insertTemplateForm.enable(),this._messageService.open(i)})):(this.showTemplateLoader=!0,this._templateService.createInsertTemplate(t).subscribe(i=>{this._messageService.open(i),this.dialogRef.close({message:"submited",isInserted:!0}),this.showTemplateLoader=!1},i=>{this.disabledSaveButton=!1,this.insertTemplateForm.enable(),this._messageService.open(i),this.showTemplateLoader=!1}))}else Object.keys(this.insertTemplateForm.controls).forEach(t=>{this.insertTemplateForm.get(t).markAsTouched({onlySelf:!0})}),this.disabledSaveButton=!1,this.insertTemplateForm.enable(),this._messageService.open(this.message.fillForm)}openDeleteDialog(){const t=this.dialog.open(PS,{autoFocus:!1,disableClose:!0,width:"390px",data:{id:this.data.insertTemplateEdit.id,message:this.deleteMessage,insertedTemplate:!0,startDateForDelete:this.startDateForDelete,endDateForDelete:this.endDateForDelete},panelClass:["max-height96"]});t.afterClosed().subscribe(i=>{"deleted"===i.message&&(t.close(),this.dialogRef.close({message:"deleted",isInserted:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(se.G),e.Y36(z.so),e.Y36(_.qu),e.Y36(_s),e.Y36(Ce.L),e.Y36(Yl.S),e.Y36(z.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-insert-template-dialog"]],decls:14,vars:2,consts:[[1,"container"],[1,"row"],[1,"card_body","col-12"],["id","eSolveTitleRow",1,"form-row","row"],[1,"form-group","col-12"],[1,"col-10","d-flex","card_title"],[1,"title-left"],[1,"col-2","justify-content-end","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"eSolveMargin"],["autocomplete","off","id","eSolveInsertTemplate",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off","id","eSolveInsertTemplate",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"min-width-110px","col-md-3","col-sm-4","col-12"],["for","templateID",1,"col-form-label","col-form-label-sm","font-size-12b"],[1,"col-sm-8","col-md-9","col-12"],["id","templateID","formControlName","templateID","name","templateID","required","",1,"form-input","jobTypeDetails","eSolveNameDiv",3,"virtualScroll","change"],[3,"value",4,"ngFor","ngForOf"],["class","validationError col-12",4,"ngIf"],["for","subGroupID",1,"col-form-label","col-form-label-sm","font-size-12b"],["id","subGroupID","formControlName","subGroupID","name","subGroupID",1,"form-input","jobTypeDetails","eSolveNameDiv",3,"virtualScroll","change"],["class","input-element",3,"value",4,"ngFor","ngForOf"],[1,"form-group","row","margin-bottom"],["for","startDate",1,"col-form-label","col-form-label-sm","font-size-12b"],[1,"min-width-180px","eSolveNameDiv"],["required","","id","startDate","name","startDate","formControlName","startDate",1,"form-control","form-control-sm","eSolve-font-size",3,"min","max","placeholder","matDatepicker","dateLengthTracker","click","dateChange"],["src","assets/icons/calendar-icon.png",1,"calendar-icon-img2","pull-right",3,"click"],[3,"touchUi"],["insertTemplateDatePicker",""],["class","col-12 validationError",4,"ngIf"],["for","rotations",1,"col-form-label","col-form-label-sm","font-size-12b"],["type","number","name","rotations","maxlength","50","id","rotations","formControlName","rotations","required","","numbersOnlyMask","",1,"form-control","font-size-12","form-control-sm","rotationsWidth",3,"min","max","change"],["class","validationError col-12 ",4,"ngIf"],[1,"form-group","row","align-center-md","margin-top-10px"],[1,"col-12","col-md-6"],["class","col-12",4,"ngIf"],[1,"col-12"],["id","cancelButton","type","button",1,"cancel-button","btn","modal-btn","eSolve-font-size",3,"disabled","click"],["id","submitButton","type","submit",1,"submit-new-button","btn","modal-btn","eSolve-font-size",3,"disabled"],["class","centered progressBarContainer",4,"ngIf"],[3,"value"],[1,"validationError","col-12"],[1,"input-element",3,"value"],[1,"col-12","validationError"],[4,"ngIf"],["type","button",1,"delete-button","btn","modal-btn","eSolve-font-size",3,"disabled","click"],[1,"fa","fa-trash-o"],[1,"centered","progressBarContainer"],[1,"progressBarText"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","progress-bar-blue","esolve-progress-bar"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.qZA()(),e.TgZ(8,"div",7)(9,"img",8),e.NdJ("click",function(){return i.closeDialogConfirm()}),e.qZA()()()(),e._UZ(10,"hr",9),e.TgZ(11,"div",1)(12,"div",2),e.YNc(13,AJ,51,24,"form",10),e.qZA()()()()()),2&t&&(e.xp6(7),e.hij(" ",i.title," "),e.xp6(6),e.Q6J("ngIf",i.insertTemplateForm))},dependencies:[D.sg,D.O5,On.Mq,On.hl,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.nD,_.qQ,_.Fd,_.sg,_.u,Sn,tr,rr,mo],styles:["#eSolveTitleRow[_ngcontent-%COMP%]{max-height:40px;position:relative}.card_title[_ngcontent-%COMP%]{font-size:17px;padding-left:0}.title-left[_ngcontent-%COMP%]{font-weight:700}.eSolveCloseButtom[_ngcontent-%COMP%]{position:relative;float:right;top:-21px;padding-right:0}#dialog-close-x[_ngcontent-%COMP%]{position:relative;width:15px}.calendar-icon-img2[_ngcontent-%COMP%]{width:22px;margin-left:20px;border-radius:0%;position:relative;left:-4px;top:-25px;cursor:pointer}.min-width-110px[_ngcontent-%COMP%]{min-width:110px}.font-size-12b[_ngcontent-%COMP%]{font-size:12px;font-weight:bolder;color:#565d6f}.font-size-12[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.eSolveMargin[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-top:0rem}.submit-new-button[_ngcontent-%COMP%]{border-radius:4px;text-align:center;float:right;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:0 2px 5px #00000042;width:200px;height:25px}.cancel-button[_ngcontent-%COMP%]{border-radius:4px;text-align:center;text-decoration:none;float:right;border:none;outline:none;color:#fff;background-color:#404f64;box-shadow:0 2px 5px #00000042;margin-bottom:5px;width:200px;height:25px}.modal-btn[_ngcontent-%COMP%]{height:30px;width:200px}.eSolveNameDiv[_ngcontent-%COMP%]{width:180px}.input-width[_ngcontent-%COMP%]{max-width:200px;font-size:12px}.delete-button[_ngcontent-%COMP%]{margin-top:34px;background-color:#d6dce2;color:#3f4e63!important}.margin-top-10px[_ngcontent-%COMP%]{margin-top:10px}.min-width-180px[_ngcontent-%COMP%]{min-width:180px}.rotationsWidth[_ngcontent-%COMP%]{width:63px}.margin-bottom[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width: 767px){.container-jcBetween[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}.delete-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.submit-new-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{float:none!important}}@media (max-width: 458px){.eSolveNameDiv[_ngcontent-%COMP%]{width:100%}.min-width-180px[_ngcontent-%COMP%]{min-width:100%}}"]}),n})();var mp=J(20773);const MJ=["templateSelect"];function OJ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"span",41),e._uU(2),e.qZA(),e.TgZ(3,"span",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function PJ(n,o){1&n&&e.YNc(0,OJ,5,1,"div",39),2&n&&e.Q6J("ngForOf",o.items)}function EJ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",25)(1,"div",26)(2,"div",27)(3,"span",28),e._uU(4),e.qZA()(),e.TgZ(5,"div",29)(6,"div",30)(7,"ng-select",31,32),e.ALo(9,"async"),e._UZ(10,"i",33),e.YNc(11,PJ,1,1,"ng-template",34),e.qZA()()(),e.TgZ(12,"div",35)(13,"button",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openNewTemplateDialog())}),e._UZ(14,"i",37),e._uU(15," \xa0\xa0Insert Template "),e.qZA(),e.TgZ(16,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(17," Cancel "),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.templateFilterForm),e.xp6(4),e.hij(" Templates - ",t.templateName," "),e.xp6(3),e.Q6J("items",e.lcZ(9,6,t.templates))("multiple",!0)("hideSelected",!0)("typeahead",t.templateSearchInput)}}function IJ(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Template"),e.qZA()())}function NJ(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.template," ")}}function RJ(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span",45),e._uU(2,"Schedule Location"),e.qZA()())}function FJ(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.scheduleLocationName," ")}}function ZJ(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Start Date"),e.qZA()())}function LJ(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.ALo(2,"DateTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.startDate)," ")}}function UJ(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"End Date"),e.qZA()())}function jJ(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.ALo(2,"DateTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.endDate)," ")}}function YJ(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Rotations"),e.qZA()())}function qJ(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.rotations," ")}}function JJ(n,o){1&n&&(e.TgZ(0,"th",46)(1,"span"),e._uU(2,"Actions"),e.qZA()())}function HJ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",47)(1,"div",20)(2,"div",48)(3,"button",49),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDetailsDialog(a))}),e._uU(4," View Details "),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.s9C("id",t.templateName)}}function BJ(n,o){1&n&&e._UZ(0,"tr",50)}function VJ(n,o){1&n&&e._UZ(0,"tr",51)}function GJ(n,o){1&n&&e._UZ(0,"mat-spinner")}const WJ=function(){return[5,10,25,100]};let IS=(()=>{class n{constructor(t,i,r,a,s,l,c){this._dialogRef=t,this.dialogData=i,this.dialog=r,this._templateService=a,this._router=s,this._messageService=l,this._renderer=c,this.displayedColumns=["template","scheduleLocation","startDate","endDate","rotations","actions"],this.dataSource=new N.by,this.resultsLength=0,this.isOnDetails=!1,this.templateSearchInput=new b.x,this.isLoadingResults=!1,this.isInserted=!1,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}set content(t){this.templateSelect=t}ngOnInit(){this.scheduleId=this.dialogData.id,this.templateName=this.dialogData.name,this.templates=(0,Yr.z)((0,gn.of)([]),this.templateSearchInput.pipe((0,Gi.x)(),(0,j.w)(t=>this._templateService.searchInsertedTemplatesForFilter(t,this.scheduleId).pipe((0,Wi.K)(()=>(0,gn.of)([])))))),this.templateFilterForm=new _.cw({templates:new _.NI([])}),this.subscription=this._templateService.isOnDetails.subscribe(t=>{setTimeout(()=>{this.isOnDetails=t},0),this.isOnDetails&&this.templateFilterForm.controls.templates.setValue([])}),this.subscription.add(this.templateFilterForm.valueChanges.subscribe(t=>{this._templateService.paginationData.next(t)})),this.templates=(0,Yr.z)((0,gn.of)([]),this.templateSearchInput.pipe((0,Gi.x)(),(0,j.w)(t=>this._templateService.searchInsertedTemplatesForFilter(t,this.scheduleId).pipe((0,Wi.K)(()=>(0,gn.of)([]))))))}ngAfterViewInit(){$(this.templateSelect.element.children[0].children[1]).remove(),$(this.templateSelect.element.children[0]).append(this._createIconElement("fa-search","padding-right","6px")),this.populateTableData()}_createIconElement(t,i,r){let a=this._renderer.createElement("i");return this._renderer.addClass(a,"fa"),this._renderer.addClass(a,t),this._renderer.setStyle(a,i,r),this._renderer.setStyle(a,"color","gray"),a}populateTableData(){this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page,this.templateFilterForm.controls.templates.valueChanges).pipe((0,_e.O)({}),(0,j.w)(()=>this._templateService.getAllInsertedTemplates(this.templateFilterForm.controls.templates.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction,this.sort.active,this.scheduleId))).subscribe(t=>{this.resultsLength=t.totalCount,this.dataSource=t.items,0===t.items.length&&this.paginator.previousPage()},t=>{this._messageService.open("Error retrieving data.")})}openNewTemplateDialog(){this.dialog.open(ES,{autoFocus:!1,disableClose:!0,data:{scheduleID:this.scheduleId},width:"650px",panelClass:["max-height96"]}).afterClosed().subscribe(i=>{i.isInserted&&(this.isInserted=i.isInserted),this.populateTableData()})}openDetailsDialog(t){this.dialog.open(ES,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleID:this.scheduleId,insertTemplateEdit:t},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{r.isInserted&&(this.isInserted=r.isInserted),this.populateTableData()})}closeDialog(){this._dialogRef.close({isInserted:this.isInserted})}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.so),e.Y36(z.WI),e.Y36(z.uw),e.Y36(_s),e.Y36(q.F0),e.Y36(se.G),e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manage-templates"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(MJ,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.content=r.first)}},decls:34,vars:10,consts:[[1,"card","table-card"],[1,"card-header","table-card-header"],[3,"formGroup",4,"ngIf"],[1,"blue_hr"],[1,"row","table-row"],[1,"col-12"],[1,"g-thin-black-scroll-bar"],["mat-table","","matSort","",1,"template-table-width",3,"dataSource"],["matColumnDef","template"],["mat-header-cell","","mat-sort-header","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen table-text-font",4,"matCellDef"],["matColumnDef","scheduleLocation"],["matColumnDef","startDate"],["matColumnDef","endDate"],["matColumnDef","rotations"],["matColumnDef","actions"],["mat-header-cell","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"row"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[1,"spinner-container","centered"],[4,"ngIf"],[3,"formGroup"],[1,"row","header-container-row"],[1,"col-md-3","col-12"],[1,"table-name"],[1,"col-md-6","col-12"],[1,"margin-top-10"],["id","templateSearchInput","bindLabel","name","bindValue","id","placeholder","Find Template","formControlName","templates",1,"g-esolve-multi-select","esolve-font-size","g-templates-table-search",3,"items","multiple","hideSelected","typeahead"],["templateSelect",""],["aria-hidden","true",1,"fa","fa-search"],["ng-multi-label-tmp",""],[1,"col-md-3","col-12","justify-content-end","rightSide","header-right","buttons-holder"],["id","insert_template",1,"add-template-button","full-width",3,"click"],[1,"fa","fa-plus","add-template-icon"],["id","cancel-button",1,"cancel-button","full-width",3,"click"],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["mat-header-cell","","mat-sort-header","",1,"visible-on-small-screen"],["mat-cell","",1,"visible-on-small-screen","table-text-font"],[1,"white-space"],["mat-header-cell","",1,"visible-on-small-screen"],["mat-cell",""],[1,"col-md-6"],[1,"btn","details-button",3,"id","click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,EJ,18,8,"form",2),e.qZA(),e._UZ(3,"hr",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"table",7),e.ynx(8,8),e.YNc(9,IJ,3,0,"th",9),e.YNc(10,NJ,2,1,"td",10),e.BQk(),e.ynx(11,11),e.YNc(12,RJ,3,0,"th",9),e.YNc(13,FJ,2,1,"td",10),e.BQk(),e.ynx(14,12),e.YNc(15,ZJ,3,0,"th",9),e.YNc(16,LJ,3,3,"td",10),e.BQk(),e.ynx(17,13),e.YNc(18,UJ,3,0,"th",9),e.YNc(19,jJ,3,3,"td",10),e.BQk(),e.ynx(20,14),e.YNc(21,YJ,3,0,"th",9),e.YNc(22,qJ,2,1,"td",10),e.BQk(),e.ynx(23,15),e.YNc(24,JJ,3,0,"th",16),e.YNc(25,HJ,5,1,"td",17),e.BQk(),e.YNc(26,BJ,1,0,"tr",18),e.YNc(27,VJ,1,0,"tr",19),e.qZA()()()(),e.TgZ(28,"div",20)(29,"div",5),e._UZ(30,"mat-paginator",21,22),e.qZA()()(),e.TgZ(32,"div",23),e.YNc(33,GJ,1,0,"mat-spinner",24),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",i.templateFilterForm),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(3),e.Q6J("length",i.resultsLength)("pageSize",5)("pageSizeOptions",e.DdM(9,WJ)),e.xp6(3),e.Q6J("ngIf",i.isLoadingResults))},dependencies:[D.sg,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,mp.Ou,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,di,D.Ov,Do],styles:[".mat-column-templateName[_ngcontent-%COMP%], .mat-column-scheduleLocation[_ngcontent-%COMP%], .mat-column-startDate[_ngcontent-%COMP%], .mat-column-endDate[_ngcontent-%COMP%], .mat-column-rotations[_ngcontent-%COMP%]{position:relative;width:16%}.mat-column-actions[_ngcontent-%COMP%]{position:relative;width:1%;-ms-flex-pack:end;justify-content:flex-end}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}.table-text-font[_ngcontent-%COMP%]{font-weight:700;color:#595959;font-size:12px}.add-template-button[_ngcontent-%COMP%]{height:30px;width:140px;margin-right:5px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;position:relative;top:12px;-ms-flex-line-pack:center;align-content:center;border:1px solid #ced5db;border-radius:.25rem;cursor:pointer}.details-button[_ngcontent-%COMP%]{height:27px;width:140px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);padding:0 0 1px}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.add-template-icon[_ngcontent-%COMP%]{position:relative;top:1px}.rightSide[_ngcontent-%COMP%]{position:relative;width:20%;padding-left:15px;margin-right:2%}.header-right[_ngcontent-%COMP%]{border-left:1px solid #ced5db;margin:-12px 0;max-width:100%}.cancel-button[_ngcontent-%COMP%]{margin-right:5px;height:30px;width:140px;color:#fff;background-color:#3f5064;top:12px;position:relative;padding:0 12px;border-radius:.25rem;font-size:12px;text-align:center;text-decoration:none;font-family:Nunito Sans!important;border:none;outline:none}.template-table-width[_ngcontent-%COMP%]{width:100%}.table-card[_ngcontent-%COMP%]{padding:0 10px}.table-card-header[_ngcontent-%COMP%]{background-color:#fff!important;padding-left:0!important;margin-top:3px}.table-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f}.card-header.table-card-header[_ngcontent-%COMP%]{border-bottom:none!important}.blue_hr[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:2px;border:1px solid var(--eSolve-primary)}.table-row[_ngcontent-%COMP%]{padding:0 15px}.buttons-holder[_ngcontent-%COMP%]{padding-right:0}.header-container-row[_ngcontent-%COMP%]{padding:0 15px}.white-space[_ngcontent-%COMP%]{white-space:nowrap}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:auto;max-height:-webkit-calc(100vh - 460px);overflow-wrap:break-word}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:24px!important}.card[_ngcontent-%COMP%]{border:0px!important}@media (max-width: 1577px) and (min-width: 766px){.rightSide[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column}.cancel-button[_ngcontent-%COMP%]{margin-bottom:25px}.add-template-button[_ngcontent-%COMP%]{margin-bottom:5px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 360px)!important;overflow-wrap:break-word}}@media (max-width: 767px){.rightSide[_ngcontent-%COMP%]{position:relative;width:98%;padding-left:15px;margin-right:2%}.header-right[_ngcontent-%COMP%]{border-left:0px solid #ced5db;margin:10px 0}.full-width[_ngcontent-%COMP%]{width:100%!important}.add-template-button[_ngcontent-%COMP%]{margin-bottom:5px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 360px)!important;overflow-wrap:break-word}}@media (max-width: 992px){.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-templateName[_ngcontent-%COMP%], .mat-column-scheduleLocation[_ngcontent-%COMP%], .mat-column-startDate[_ngcontent-%COMP%], .mat-column-endDate[_ngcontent-%COMP%], .mat-column-rotations[_ngcontent-%COMP%]{position:relative;width:100%}.mat-column-actions[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:12px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important;border-bottom:none!important}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.card-header[_ngcontent-%COMP%]{padding-right:0}#templateSearchInput[_ngcontent-%COMP%]{margin-bottom:5px}.blue_hr[_ngcontent-%COMP%]{z-index:1;margin-bottom:2px;margin-top:-1px}.table-card[_ngcontent-%COMP%]{padding:0 20px}.buttons-holder[_ngcontent-%COMP%]{padding-right:15px}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}td.mat-cell[_ngcontent-%COMP%]:first-of-type{margin-top:-2px!important}}@media (max-width: 567px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 385px)!important;overflow-wrap:break-word}}@media (max-width: 430px){.table-card[_ngcontent-%COMP%]{padding:0 5px}}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}"]}),n})();var V1=J(19407);function QJ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",23)(2,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.tradeJob())}),e._uU(3," Offer Job Trade "),e.qZA()()()}}let NS=(()=>{class n{constructor(t,i,r,a,s,l,c){this.data=t,this._dialogRef=i,this.jobService=r,this._fb=a,this._tradeService=s,this.dialogService=l,this._messageService=c,this._ngUnsubscribe=new b.x}ngOnInit(){this.createJobForm(),this.populateData()}createJobForm(){this.jobForm=this._fb.group({jobTypeName:[""],employeeName:[""],startDateTime:[""],endDateTime:[""],employeeNote:[""]})}populateData(){this.canTradeJob=this.data.shouldDisplayEmployeeTradeJob,this.jobService.getJobDetails(this.data.jobId,this.data.employeeId).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.jobForm.patchValue(t)})}closeDialog(){this._dialogRef.close()}tradeJob(){this._tradeService.getTradeWarning().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.dialogService.openConfirmDialog("TradeOffer",t).afterClosed().subscribe(i=>{i?this._tradeService.offerJob(Number(this.data.employeeId),this.data.jobId).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.closeDialog()},r=>{let a=this._messageService.handleHttpError(r);this._messageService.open(r),400==r.status&&"The credentials you have entered for system email are invalid."===a&&this.closeDialog()}):this._messageService.open("Trade Canceled")})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(Z1),e.Y36(_.qu),e.Y36(V1.v),e.Y36(Ri.x),e.Y36(se.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-job-dialog"]],decls:55,vars:21,consts:[[1,"container-fluid","jobform-container"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["id","closeDialogBtn","src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["autocomplete","off",1,"existing-job-type-form",3,"formGroup"],[1,"col-12"],["id","jobStartDateLabel",1,"col-form-label","col-form-label-sm","bold-label","font-size-14"],[1,"row"],[1,"col-3"],["formControlName","startDateTime",1,"form-control","form-control-sm","input_border_bottom","font-size-12",3,"value","readonly"],[1,"col-4"],["id","jobEndDateLabel",1,"col-form-label","col-form-label-sm","bold-label","font-size-14"],["formControlName","endDateTime",1,"form-control","form-control-sm","input_border_bottom","font-size-12",3,"value","readonly"],["id","jobTypeLabel",1,"col-form-label","col-form-label-sm","bold-label","font-size-14"],["formControlName","jobTypeName",1,"form-control","form-control-sm","input_border_bottom","font-size-12",3,"readonly"],["id","employeeNameLabel",1,"col-form-label","col-form-label-sm","bold-label","font-size-14"],["formControlName","employeeName",1,"form-control","form-control-sm","input_border_bottom","font-size-12",3,"readonly"],["id","employeeNoteLabel",1,"col-form-label","col-form-label-sm","bold-label","font-size-14"],["id","employeeNoteLabel","formControlName","employeeNote",1,"form-control","form-control-sm","input_border_bottom","font-size-12",3,"readOnly"],[1,"row","d-flex","justify-content-end","buttons-container"],[1,"col-3","button-div","cancel-container"],[1,"d-flex","justify-content-center"],["id","filter_cancel_btn",1,"btn","cancel-button","form-buttons",3,"click"],["class","col-3 button-div",4,"ngIf"],[1,"col-3","button-div"],["id","filter_btn",1,"btn","jobTrade-button","form-buttons",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"strong"),e._uU(4," Job Details "),e.qZA()(),e.TgZ(5,"div",3)(6,"img",4),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(7,"hr",5),e.TgZ(8,"div")(9,"form",6)(10,"div",7)(11,"label",8),e._uU(12," Job starts "),e.qZA()(),e.TgZ(13,"div",7)(14,"div",9)(15,"div",10),e._UZ(16,"input",11),e.ALo(17,"TimeTransformPipe"),e.qZA(),e.TgZ(18,"div",12),e._UZ(19,"input",11),e.ALo(20,"DateTransformPipe"),e.qZA()()(),e.TgZ(21,"div",7)(22,"label",13),e._uU(23," Job ends "),e.qZA()(),e.TgZ(24,"div",7)(25,"div",9)(26,"div",10),e._UZ(27,"input",14),e.ALo(28,"TimeTransformPipe"),e.qZA(),e.TgZ(29,"div",12),e._UZ(30,"input",14),e.ALo(31,"DateTransformPipe"),e.qZA()()(),e.TgZ(32,"div",7)(33,"label",15),e._uU(34," Job type "),e.qZA()(),e.TgZ(35,"div",7),e._UZ(36,"input",16),e.qZA(),e.TgZ(37,"div",7)(38,"label",17),e._uU(39," Employee "),e.qZA()(),e.TgZ(40,"div",7),e._UZ(41,"input",18),e.qZA(),e.TgZ(42,"div",7)(43,"label",19),e._uU(44," Notes "),e.qZA()(),e.TgZ(45,"div",7)(46,"textarea",20),e._uU(47,"        "),e.qZA()(),e.TgZ(48,"div",7)(49,"div",21)(50,"div",22)(51,"div",23)(52,"button",24),e.NdJ("click",function(){return i.closeDialog()}),e._uU(53," Cancel "),e.qZA()()(),e.YNc(54,QJ,4,0,"div",25),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",i.jobForm),e.xp6(7),e.Q6J("value",e.lcZ(17,13,i.jobForm.get("startDateTime").value))("readonly",!0),e.xp6(3),e.Q6J("value",e.lcZ(20,15,i.jobForm.get("startDateTime").value))("readonly",!0),e.xp6(8),e.Q6J("value",e.lcZ(28,17,i.jobForm.get("endDateTime").value))("readonly",!0),e.xp6(3),e.Q6J("value",e.lcZ(31,19,i.jobForm.get("endDateTime").value))("readonly",!0),e.xp6(6),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readOnly",!0),e.xp6(8),e.Q6J("ngIf",i.canTradeJob))},dependencies:[D.O5,_._Y,_.Fj,_.JJ,_.JL,_.sg,_.u,Do,fS],styles:[".jobform-container[_ngcontent-%COMP%]{padding:2px;max-height:190vh}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-bottom:20px}.eSolveHr[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:5px}.existing-job-type-form[_ngcontent-%COMP%]{max-height:calc(96vh - 158px);padding:0 10px 0 2px;margin-top:5px}@media (max-width: 576px){.existing-job-type-form[_ngcontent-%COMP%]{max-height:calc(96vh - 233px)}}.align-center-md[_ngcontent-%COMP%]{text-align:center}.job-form-detail-buttons[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:0}.rules-cancel-button[_ngcontent-%COMP%]{width:100%}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:2px solid grey;outline:black;color:#000}.rules-save-button[_ngcontent-%COMP%]{width:100%}.buttons-container[_ngcontent-%COMP%]{margin-top:14px;margin-bottom:-15px}@media (max-width: 767px){.button-div[_ngcontent-%COMP%]{padding:0!important}}@media (max-width: 570px){.cancel-container[_ngcontent-%COMP%]{margin-right:0}}.font-size-12[_ngcontent-%COMP%]{font-size:12px}.font-size-14[_ngcontent-%COMP%]{font-size:14px}.cancel-button[_ngcontent-%COMP%]{border-radius:4px;position:relative;text-align:center;text-decoration:none;float:right;border:none;outline:none;color:#fff;background-color:#404f64;box-shadow:0 2px 5px #00000042;margin-bottom:5px;height:28px;width:100%;line-height:10px}.jobTrade-button[_ngcontent-%COMP%]{border-radius:4px;position:relative;text-align:center;float:right;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);height:28px;line-height:10px;box-shadow:0 2px 5px #00000042}@media (max-width: 767px){.jobTrade-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{width:100%!important}.jobTrade-button[_ngcontent-%COMP%]{margin:10px 0!important}}"]}),n})(),zJ=(()=>{class n{constructor(){this._selectedSchedule=0}checkSelectedSchedule(t){return 0==this._selectedSchedule?(this._selectedSchedule=t,"new"):this._selectedSchedule==t?"same":(this._selectedSchedule=t,"new")}resetTracker(){this._selectedSchedule=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var jg=J(25245),KJ=J(4834),so=J(81125),$J=["*"],XJ=["rootEl"],Ah=function(o){return{$implicit:o}};function eH(n,o){if(1&n&&(e.TgZ(0,"div",1,2),e.GkF(2,3),e.qZA()),2&n){var t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ah,t.renderProps))}}function tH(n,o){if(1&n&&(e.TgZ(0,"span",1,2),e.GkF(2,3),e.qZA()),2&n){var t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ah,t.renderProps))}}function nH(n,o){if(1&n&&(e.TgZ(0,"a",1,2),e.GkF(2,3),e.qZA()),2&n){var t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ah,t.renderProps))}}function iH(n,o){if(1&n&&(e.TgZ(0,"tr",1,2),e.GkF(2,3),e.qZA()),2&n){var t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ah,t.renderProps))}}function rH(n,o){if(1&n&&(e.TgZ(0,"th",1,2),e.GkF(2,3),e.qZA()),2&n){var t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ah,t.renderProps))}}function oH(n,o){if(1&n&&(e.TgZ(0,"td",1,2),e.GkF(2,3),e.qZA()),2&n){var t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ah,t.renderProps))}}var aH=["dayHeaderContent"],sH=["dayCellContent"],lH=["weekNumberContent"],cH=["nowIndicatorContent"],dH=["eventContent"],uH=["slotLaneContent"],pH=["slotLabelContent"],fH=["allDayContent"],hH=["moreLinkContent"],mH=["noEventsContent"],gH=["resourceAreaHeaderContent"],_H=["resourceGroupLabelContent"],vH=["resourceLabelContent"],bH=["resourceLaneContent"],yH=["resourceGroupLaneContent"];function xH(n,o){if(1&n&&e._UZ(0,"transport-container",1),2&n){var t=o.$implicit,i=e.oxw();e.Q6J("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",i.templateMap[t.generatorName])("renderProps",t.renderProps)}}var RS={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},CH=["events","eventSources","resources"],TH=Object.prototype.hasOwnProperty;function G1(n){return Array.isArray(n)?n.map(G1):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?FS(n,G1):n}function FS(n,o){var t={};for(var i in n)TH.call(n,i)&&(t[i]=o(n[i],i));return t}function Ex(n,o){if(n===o)return!0;if(n&&o&&"object"==typeof n&&"object"==typeof o){if(n.constructor!==o.constructor)return!1;var t,i,r;if(Array.isArray(n)){if((t=n.length)!=o.length)return!1;for(i=t;0!=i--;)if(!Ex(n[i],o[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===o.source&&n.flags===o.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===o.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===o.toString();if((t=(r=Object.keys(n)).length)!==Object.keys(o).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(o,r[i]))return!1;for(i=t;0!=i--;){var a=r[i];if(!Ex(n[a],o[a]))return!1}return!0}return n!=n&&o!=o}var ZS=document.createDocumentFragment(),wH=function(){var n=function(){function o(t){(0,I.Z)(this,o),this.element=t}return(0,M.Z)(o,[{key:"ngAfterViewInit",value:function(){ZS.appendChild(this.element.nativeElement)}},{key:"ngOnDestroy",value:function(){ZS.removeChild(this.element.nativeElement)}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["offscreen-fragment"]],ngContentSelectors:$J,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2}),n}(),W1=document.createDocumentFragment(),DH=function(){var n=function(){function o(){(0,I.Z)(this,o)}return(0,M.Z)(o,[{key:"ngAfterViewInit",value:function(){var i,r=null===(i=this.rootElRef)||void 0===i?void 0:i.nativeElement;LS(r,this.inPlaceOf),Ix(r,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(r)}},{key:"ngOnChanges",value:function(i){var r,a=null===(r=this.rootElRef)||void 0===r?void 0:r.nativeElement;if(a)if(this.inPlaceOf.parentNode!==W1)LS(a,this.inPlaceOf),Ix(a,void 0,this.elAttrs),this.reportEl(a);else{var s=i.elAttrs;s&&Ix(a,s.previousValue,s.currentValue)}}},{key:"ngOnDestroy",value:function(){this.inPlaceOf.parentNode===W1&&W1.removeChild(this.inPlaceOf),this.reportEl(null)}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["transport-container"]],viewQuery:function(t,i){var r;1&t&&e.Gf(XJ,5),2&t&&e.iGM(r=e.CRH())&&(i.rootElRef=r.first)},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[e.TTD],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.YNc(0,eH,3,6,"ng-template",0),e.YNc(1,tH,3,6,"ng-template",0),e.YNc(2,nH,3,6,"ng-template",0),e.YNc(3,iH,3,6,"ng-template",0),e.YNc(4,rH,3,6,"ng-template",0),e.YNc(5,oH,3,6,"ng-template",0)),2&t&&(e.Q6J("ngIf","div"==i.elTag),e.xp6(1),e.Q6J("ngIf","span"==i.elTag),e.xp6(1),e.Q6J("ngIf","a"==i.elTag),e.xp6(1),e.Q6J("ngIf","tr"==i.elTag),e.xp6(1),e.Q6J("ngIf","th"==i.elTag),e.xp6(1),e.Q6J("ngIf","td"==i.elTag))},dependencies:[D.O5,D.mk,D.PC,D.tP],encapsulation:2}),n}();function LS(n,o){var t;null===(t=o.parentNode)||void 0===t||t.insertBefore(n,o.nextSibling),W1.appendChild(o)}function Ix(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var i in o)i in t||(n[i]=null);for(var r in t)n[r]=t[r]}var US=function(){var n=function(){function o(t,i){var r=this;(0,I.Z)(this,o),this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};var a=new _E;a.subscribe(function(s){r.customRenderingMap=s,r.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=a.handle.bind(a),this.templateMap=this}return(0,M.Z)(o,[{key:"ngAfterViewInit",value:function(){var i=this.deepChangeDetection,r=Object.assign(Object.assign({},this.options),this.buildInputOptions());this.optionSnapshot=FS(r,function(a,s){return i&&RS[s]?G1(a):a}),this.calendar=new ox(this.element.nativeElement,Object.assign(Object.assign({},r),this.buildExtraOptions())),this.calendar.render()}},{key:"ngDoCheck",value:function(){if(this.calendar){var i=this.deepChangeDetection,r=this.optionSnapshot,a=Object.assign(Object.assign({},this.options),this.buildInputOptions()),s={},l=[];for(var c in a)if(a.hasOwnProperty(c)){var u=a[c];i&&RS[c]?Ex(r[c],u)||(r[c]=G1(u),l.push(c)):r[c]!==u&&(r[c]=u,l.push(c)),s[c]=u}for(var x=0,T=Object.keys(r);x<T.length;x++){var O=T[x];O in a||(delete r[O],l.push(O))}l.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(Object.assign(Object.assign({},s),this.buildExtraOptions()),l))}}},{key:"ngAfterContentChecked",value:function(){this.calendar&&this.calendar.resumeRendering()}},{key:"ngOnDestroy",value:function(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}},{key:"customRenderings",get:function(){return this.customRenderingArray||(this.customRenderingArray=(0,K.Z)(this.customRenderingMap.values()))}},{key:"getApi",value:function(){return this.calendar}},{key:"buildInputOptions",value:function(){for(var i={},r=0,a=CH;r<a.length;r++){var s=a[r],l=this[s];null!=l&&(i[s]=l)}return i}},{key:"buildExtraOptions",value:function(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplacesEl:!0}}},{key:"trackCustomRendering",value:function(i,r){return r.id}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["full-calendar"]],contentQueries:function(t,i,r){var a;1&t&&(e.Suo(r,aH,7),e.Suo(r,sH,7),e.Suo(r,lH,7),e.Suo(r,cH,7),e.Suo(r,dH,7),e.Suo(r,uH,7),e.Suo(r,pH,7),e.Suo(r,fH,7),e.Suo(r,hH,7),e.Suo(r,mH,7),e.Suo(r,gH,7),e.Suo(r,_H,7),e.Suo(r,vH,7),e.Suo(r,bH,7),e.Suo(r,yH,7)),2&t&&(e.iGM(a=e.CRH())&&(i.dayHeaderContent=a.first),e.iGM(a=e.CRH())&&(i.dayCellContent=a.first),e.iGM(a=e.CRH())&&(i.weekNumberContent=a.first),e.iGM(a=e.CRH())&&(i.nowIndicatorContent=a.first),e.iGM(a=e.CRH())&&(i.eventContent=a.first),e.iGM(a=e.CRH())&&(i.slotLaneContent=a.first),e.iGM(a=e.CRH())&&(i.slotLabelContent=a.first),e.iGM(a=e.CRH())&&(i.allDayContent=a.first),e.iGM(a=e.CRH())&&(i.moreLinkContent=a.first),e.iGM(a=e.CRH())&&(i.noEventsContent=a.first),e.iGM(a=e.CRH())&&(i.resourceAreaHeaderContent=a.first),e.iGM(a=e.CRH())&&(i.resourceGroupLabelContent=a.first),e.iGM(a=e.CRH())&&(i.resourceLabelContent=a.first),e.iGM(a=e.CRH())&&(i.resourceLaneContent=a.first),e.iGM(a=e.CRH())&&(i.resourceGroupLaneContent=a.first))},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,i){1&t&&(e.TgZ(0,"offscreen-fragment"),e.YNc(1,xH,1,8,"transport-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[wH,DH,D.sg],encapsulation:2}),n}(),SH=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[D.ez]]}),n}(),Mh=J(90149),kH=J(28258);let AH=(()=>{class n{constructor(){}validateTimeInterval(t,i){var r=new Date("04 Dec 1995 "+t+":00"),a=new Date("04 Dec 1995 "+i+":00");return!(r.getTime()>a.getTime())}formatTime(t){let i=t.split(":");return i[0]+":"+i[1]}checkTimeLength(t){return 0!=t.length&&new Number(t[0])>2?"0"+t:t}inputTimeColon(t){return 2!=t.length||t.includes(":")?t:t+":"}checkTimeFormat(t){return/^([0-1][0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(t)}validateTime(t){return t=this.checkTimeLength(t),5!==(t=this.inputTimeColon(t)).length||this.checkTimeFormat(t)?t:""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jS=(()=>{class n{constructor(){this.onLongPress=new e.vpe,this.onLongPressing=new e.vpe}get press(){return this.pressing}get longPress(){return this.longPressing}onMouseDown(t){this.pressing=!0,this.longPressing=!1,this.timeout=setTimeout(()=>{this.longPressing=!0,this.onLongPress.emit(t),this.interval=setInterval(()=>{this.onLongPressing.emit(t)},50)},600)}endPress(){clearTimeout(this.timeout),clearInterval(this.interval),this.longPressing=!1,this.pressing=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","long-press",""]],hostVars:4,hostBindings:function(t,i){1&t&&e.NdJ("touchstart",function(a){return i.onMouseDown(a)})("mousedown",function(a){return i.onMouseDown(a)})("touchend",function(){return i.endPress()})("mouseup",function(){return i.endPress()})("mouseleave",function(){return i.endPress()}),2&t&&e.ekj("press",i.press)("longpress",i.longPress)},outputs:{onLongPress:"onLongPress",onLongPressing:"onLongPressing"}}),n})();const MH=["subgroupMenuTrigger"],OH=["matTree"],PH=["selectEmployee"],EH=["selectJobType"];function IH(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",70)(1,"span",71),e._uU(2),e.qZA(),e.TgZ(3,"span",72),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4,"\xd7"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.employeeName)}}function NH(n,o){1&n&&e.YNc(0,IH,5,1,"div",69),2&n&&e.Q6J("ngForOf",o.items)}function RH(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",70)(1,"span",71),e._uU(2),e.qZA(),e.TgZ(3,"span",72),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4,"\xd7"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name)}}function FH(n,o){1&n&&e.YNc(0,RH,5,1,"div",69),2&n&&e.Q6J("ngForOf",o.items)}const YS=function(n){return{"bold-text":n}};function ZH(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"mat-checkbox",73),e.NdJ("change",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.onChecked(a,"JobStatuses"))}),e._uU(3),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(3,YS,i.jobStatusSelection.isSelected(t)))("checked",i.jobStatusSelection.isSelected(t)),e.xp6(1),e.hij(" ",t,"")}}function LH(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",74)(1,"div",75)(2,"div",48)(3,"label",76),e._uU(4),e.qZA()()(),e.TgZ(5,"div",75)(6,"div",48)(7,"mat-checkbox",77),e.NdJ("change",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.onChecked(a,"Days"))}),e.qZA()()()()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(2);e.xp6(3),e.Q6J("ngClass",e.VKq(3,YS,r.daySelection.isSelected(t))),e.xp6(1),e.Oqu(r.daysList[i]),e.xp6(3),e.Q6J("checked",r.daySelection.isSelected(t))}}function UH(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function jH(n,o){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,UH,2,1,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.StartFrom.errors?null:t.f.StartFrom.errors.minlength)||(null==t.f.StartTo.errors?null:t.f.StartTo.errors.minlength))}}function YH(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.startFromStartToValidation," ")}}function qH(n,o){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,YH,2,1,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.StartTo.errors?null:t.f.StartTo.errors.invalidTime)}}function JH(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function HH(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.startEndValidation," ")}}function BH(n,o){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,JH,2,1,"div",79),e.YNc(2,HH,2,1,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.EndFrom.errors?null:t.f.EndFrom.errors.minlength)||(null==t.f.EndTo.errors?null:t.f.EndTo.errors.minlength)),e.xp6(1),e.Q6J("ngIf",null==t.f.EndFrom.errors?null:t.f.EndFrom.errors.invalidTimeRelation)}}function VH(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.endFromEndToValidation," ")}}function GH(n,o){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,VH,2,1,"div",79),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.EndTo.errors?null:t.f.EndTo.errors.invalidTime)}}const qS=function(n,o){return{"fa-angle-double-down":n,"fa-angle-double-up":o}};function WH(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",28),e.NdJ("keydown.enter",function(r){return r.preventDefault()}),e.TgZ(1,"div",29)(2,"div",30)(3,"ng-select",31,32),e.YNc(5,NH,1,1,"ng-template",33),e.qZA()()(),e.TgZ(6,"div",34)(7,"div",30)(8,"ng-select",35,36),e.YNc(10,FH,1,1,"ng-template",33),e.qZA()()(),e.TgZ(11,"div",34)(12,"div",37)(13,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearAllFilters())}),e._uU(14," Clear Custom Filters "),e.qZA()()(),e._UZ(15,"hr",39),e.TgZ(16,"div",16)(17,"label",40),e._uU(18,"Custom Filters"),e.qZA(),e.TgZ(19,"i",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleJobFilters())}),e.qZA()(),e.TgZ(20,"div",41)(21,"div",42)(22,"div",43)(23,"label",40),e._uU(24,"Job Status"),e.qZA()()(),e.TgZ(25,"div",44)(26,"div",45)(27,"button",46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleAllStatuses())}),e._uU(28),e.qZA()(),e.TgZ(29,"div",17),e.YNc(30,ZH,4,5,"div",47),e.qZA()(),e.TgZ(31,"div")(32,"div",42)(33,"div",48)(34,"label",40),e._uU(35,"Job Days"),e.qZA()()(),e.TgZ(36,"div",44)(37,"div",45)(38,"button",49),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleAllDays())}),e._uU(39),e.qZA()()(),e.TgZ(40,"div",50),e.YNc(41,LH,8,5,"div",51),e.qZA()(),e.TgZ(42,"div",42)(43,"div",48)(44,"label",40),e._uU(45,"Job Times"),e.qZA()()(),e.TgZ(46,"div",52)(47,"div",53)(48,"div",45)(49,"button",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.resetAllTimeInputs())}),e._uU(50," Re-set "),e.qZA()()(),e.TgZ(51,"div",21)(52,"div",17)(53,"label",55),e._uU(54,"Start Times"),e.qZA()()(),e.TgZ(55,"div",21)(56,"div",56)(57,"label",57),e._uU(58,"From"),e.qZA()(),e.TgZ(59,"div",58),e._UZ(60,"input",59),e.qZA(),e.TgZ(61,"div",60)(62,"label",61),e._uU(63,"To"),e.qZA()(),e.TgZ(64,"div",58),e._UZ(65,"input",62),e.qZA()(),e.TgZ(66,"div",21),e.YNc(67,jH,2,1,"div",63),e.YNc(68,qH,2,1,"div",63),e.qZA()(),e.TgZ(69,"div")(70,"div",21)(71,"div",17)(72,"label",55),e._uU(73,"Job End Times"),e.qZA()()(),e.TgZ(74,"div",21)(75,"div",56)(76,"label",64),e._uU(77,"From"),e.qZA()(),e.TgZ(78,"div",58),e._UZ(79,"input",65),e.qZA(),e.TgZ(80,"div",60)(81,"label",66),e._uU(82,"To"),e.qZA()(),e.TgZ(83,"div",58),e._UZ(84,"input",67),e.qZA(),e.TgZ(85,"div",17),e.YNc(86,BH,3,2,"div",68),e.YNc(87,GH,2,1,"div",68),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.filterForm),e.xp6(3),e.Q6J("items",t.employees)("virtualScroll",!0)("searchFn",t.employeeSearch)("multiple",!0),e.xp6(5),e.Q6J("items",t.jobTypes)("multiple",!0)("virtualScroll",!0),e.xp6(5),e.Q6J("disabled",!t.checkIfCustomFiltersAreTouched()),e.xp6(6),e.Q6J("ngClass",e.WLB(24,qS,!t.showJobFilters,t.showJobFilters)),e.xp6(1),e.Q6J("hidden",!t.showJobFilters),e.xp6(8),e.hij(" ",t.statusLabel," "),e.xp6(2),e.Q6J("ngForOf",t.jobStatusList),e.xp6(9),e.hij(" ",t.daysLabel," "),e.xp6(2),e.Q6J("ngForOf",t.daysListNumbers),e.xp6(8),e.Q6J("disabled",!t.checkIfTimeInputsAreTouched()),e.xp6(11),e.Q6J("dropSpecialCharacters",!1),e.xp6(5),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("ngIf",(null==t.f.StartFrom?null:t.f.StartFrom.touched)&&t.f.StartFrom.errors||(null==t.f.StartTo?null:t.f.StartTo.touched)&&t.f.StartTo.errors),e.xp6(1),e.Q6J("ngIf",(null==t.f.StartTo?null:t.f.StartTo.touched)&&t.f.StartTo.errors),e.xp6(11),e.Q6J("dropSpecialCharacters",!1),e.xp6(5),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("ngIf",(null==t.f.EndFrom?null:t.f.EndFrom.touched)&&t.f.EndFrom.errors||(null==t.f.EndTo?null:t.f.EndTo.touched)&&t.f.EndTo.errors),e.xp6(1),e.Q6J("ngIf",(null==t.f.EndTo?null:t.f.EndTo.touched)&&t.f.EndTo.errors)}}function QH(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addJob())}),e._uU(1," Add Job "),e.qZA()}}function zH(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",82),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addSubgroup())}),e._uU(1," Add Subgroup "),e.qZA()}}function KH(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",83),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.editSubgroup())}),e._uU(1," Edit Subgroup "),e.qZA()}}function $H(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",84),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createTemplate())}),e._uU(1," Create Template "),e.qZA()}}function XH(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",85),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.unassignEmployees())}),e._uU(1," Unassign Employees "),e.qZA()}}function eB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteAllJobs())}),e._uU(1," Delete All Jobs "),e.qZA()}}function tB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteSubgroup())}),e._uU(1," Delete Subgroup "),e.qZA()}}function nB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.submitForApproval(r))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.canBeSubmitted&&!t.canBeUnlocked||!t.canBeSubmitted&&t.canBeUnlocked),e.xp6(1),e.hij(" ",t.canBeUnlocked?"Submitted":"Submit for Approval"," ")}}function iB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.unlockLockSubgroup("unlock"))}),e._uU(1," Unlock "),e.qZA()}}function rB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",90),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.offerJobs())}),e._uU(1," Offer Jobs "),e.qZA()}}function oB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",90),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.revokeJobOffers())}),e._uU(1," Revoke Job Offers "),e.qZA()}}function aB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",91)(1,"div",45)(2,"button",49),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleAllSubgroups())}),e._uU(3),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.subgroupLabel," ")}}const JS=function(n,o,t){return{"level-one":n,"level-two":o,"level-three":t}};function sB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tree-node",92)(1,"mat-checkbox",93),e.NdJ("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.resourceSelectionToggle(a))}),e.TgZ(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"button",94),e.NdJ("click",function(r){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onRightClick(s,r))})("onLongPress",function(r){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onLongTouch(s,r))}),e._UZ(5,"i",95),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.kEZ(4,JS,0===t.level||t.level%3==0,1===t.level||t.level%3!=0,2===t.level)),e.xp6(1),e.Q6J("checked",i.checklistSelection.isSelected(t))("disabled",!i.checklistSelection.isSelected(t)&&i.editMode&&i.listUnselected.includes(t.id)),e.xp6(2),e.hij(" ",t.title," ")}}function lB(n,o){1&n&&(e.TgZ(0,"mat-tree-node"),e._UZ(1,"button",96),e.qZA())}function cB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tree-node",97)(1,"mat-checkbox",98),e.NdJ("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.resourceSelectionToggle(a))}),e.TgZ(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"mat-icon",99),e._uU(5),e.qZA(),e.TgZ(6,"button",94),e.NdJ("click",function(r){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onRightClick(s,r))})("onLongPress",function(r){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onLongTouch(s,r))}),e._UZ(7,"i",95),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.kEZ(6,JS,0===t.level||t.level%3==0,1===t.level||t.level%3!=0,2===t.level)),e.xp6(1),e.Q6J("checked",i.checklistSelection.isSelected(t))("indeterminate",i.descendantsPartiallySelected(t))("disabled",!i.checklistSelection.isSelected(t)&&i.editMode&&i.listUnselected.includes(t.id)),e.xp6(2),e.hij(" ",t.title," "),e.xp6(2),e.hij(" ",i.treeControl.isExpanded(t)?"arrow_drop_down":"arrow_right"," ")}}let dB=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O,U,re,de){this.calendarService=t,this.jobService=i,this.dialogService=r,this.dialog=a,this.fb=s,this.dateService=l,this.renderer=c,this._userRoleService=u,this._permissionsService=h,this._submitService=x,this._profileService=T,this._jobOfferService=O,this._subGroupService=U,this._messageService=re,this._router=de,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.checklistSelection=new C.Ov(!0),this.jobStatusSelection=new C.Ov(!0),this.daySelection=new C.Ov(!0),this.incompleteCriticalTaskSubgroupsIds=[],this.onSubgroupUpdate=new e.vpe,this.onJobUpdate=new e.vpe,this.onUnassignEmployees=new e.vpe,this.onFilterUpdate=new e.vpe,this.onFilterCollapse=new e.vpe,this.selectedSGId=new e.vpe,this.canBeSubmitted=!0,this.canBeUnlocked=!1,this.editMode=!1,this.showSubgroupLockUnlock=!0,this.jobFilterState=new AS,this.showJobFilters=!1,this.theBoolean=new _i.X(this.showJobFilters),this.showSubgroups=!0,this.showClearButton=!1,this.flatNodes=[],this.isTreeRendered=!1,this.subArray=[],this.isStartEndValid=!0,this.startEndValidation=pt.hx.startEndTimeValidationMessage,this.isStartFromStartToValid=!0,this.startFromStartToValidation=pt.hx.startFromStartToValidationMessage,this.isEndFromEndToValid=!0,this.endFromEndToValidation=pt.hx.endFromEndToValidationMessage,this.autoCompleteStart=!1,this.autoCompleteEnd=!1,this.jobStatusList=[pt.hx.unassigned,pt.hx.invalid,pt.hx.overrides,pt.hx.excess,pt.hx.criticalTask],this.daysList=pt.hx.daysList,this.daysListNumbers=[1,2,3,4,5,6,0],this.statusLabel=pt.hx.setAll,this.daysLabel=pt.hx.setAll,this.toolbarFiltersClicked=!1,this.subgroupLabel=pt.hx.clearAll,this.newScheduleId=0,this.currentView="",this.canOfferJob=!1,this.canChangeScheduleStructure=!1,this.canAssignScheduleEmployees=!1,this.canSeeScheduleEmployeesNames=!1,this.canAccessSubGroup=!1,this.canChangeSubGroupStructure=!1,this.canAssignSubGroup=!1,this.canSeeSubGroupEmployeesNames=!1,this.isFromTemplate=!1,this.canManageTemplates=!1,this.currentScheduleId=0,this.scheduleStartDate="",this.scheduleEndDate="",this.showLock=!0,this.previousValue=null,this.inUnlockMode=!1,this.isTemplate=!1,this.isMasterAccount=!1,this.ngUnsubscribe=new b.x,this.prevChecked=[],this.getLevel=ve=>ve.level,this.isExpandable=ve=>ve.expandable,this.getChildren=ve=>(0,gn.of)(ve.children),this.hasChild=(ve,Ne)=>Ne.expandable,this.hasNoContent=(ve,Ne)=>""===Ne.title,this.transformer=(ve,Ne)=>{let De=this.nestedNodeMap.has(ve)&&this.nestedNodeMap.get(ve).title===ve.title?this.nestedNodeMap.get(ve):new x_;return De.title=ve.title,De.level=Ne,De.expandable=!!ve.children,De.id=ve.id,De.parentId=ve.parentId,De.start=ve.start,De.end=ve.end,De.order=ve.order,De.wasExpandedBeforeNavigation=ve.wasExpandedBeforeNavigation,De.CanAccessSubGroup=ve.CanAccessSubGroup,De.CanChangeSubGroupStructure=ve.CanChangeSubGroupStructure,De.CanAssignSubGroup=ve.CanAssignSubGroup,De.CanSeeSubGroupEmployeesNames=ve.CanSeeSubGroupEmployeesNames,De.IsFromTemplate=ve.IsFromTemplate,De.canBeSubmited=ve.canBeSubmited,De.canBeUnlocked=ve.canBeUnlocked,De.canOfferJob=ve.canOfferJob,De.viewOnly=ve.viewOnly,De.currentView=ve.currentView,this.flatNodeMap.set(De,ve),this.nestedNodeMap.set(ve,De),De},this.contextMenuPosition={x:"0px",y:"0px"},this.treeFlattener=new Mh.JZ(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new kH.C2(this.getLevel,this.isExpandable),this.dataSource=new Mh.kc(this.treeControl,this.treeFlattener),this._router.events.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(ve=>{ve instanceof q.OD&&this.setLocalStorageItems(),ve instanceof q.m2&&this.updateLocalStorageValues()}),this.dataChangeSubscription=t.dataChange.subscribe(ve=>{if(this.checklistSelection.selected.length&&(this.prevChecked=this._traverseTree(this.checklistSelection.selected)),this.jobTypes=ve.jobTypes,this.employees=ve.employees,this._deselectModifiedJobTypes(ve.jobTypes),ve.nodes)if(this.isTreeRendered=ve.nodes.length>0,this.flatNodes=ve.nodes,this.checklistSelection.clear(),this.dataSource.data=[].concat(ve.nodes),"User"==this.role)if(ve.reset)this.prevChecked=[],this._toggleAllNodes(!0,!0);else{let Ne=this._traverseTree(ve.nodes);if(this.prevChecked.length)for(let De of Ne)for(let Ge of this.prevChecked)if(De.id===Ge.id){this.checklistSelection.select(this.nestedNodeMap.get(De));let We=this._getParentNode(this.nestedNodeMap.get(De));for(;We;){let gt=this.prevChecked.find(rt=>rt.id===We.id);(!gt||gt.wasExpandedBeforeNavigation)&&this.treeControl.expand(We),We=this._getParentNode(We)}this.calendarService.checkboxChange.next(this.checklistSelection.selected)}else this.calendarService.checkboxChange.next(this.checklistSelection.selected);else this._toggleAllNodes(!0,!0);this.matTree.renderNodeChanges(ve.nodes),this.matTree.viewChange.next({start:0,end:100})}else this._toggleAllNodes(!0,!0)})}unloadHandler(t){this.setLocalStorageItems()}validateTimeInputs(){(""==this.filterForm.get(pt.hx.calendarRequestParams.startFrom).value||!this.filterForm.get(pt.hx.calendarRequestParams.startFrom).value)&&this.filterForm.get(pt.hx.calendarRequestParams.startTo).setValue("",{emitEvent:!1}),(""==this.filterForm.get(pt.hx.calendarRequestParams.endFrom).value||!this.filterForm.get(pt.hx.calendarRequestParams.endFrom).value)&&this.filterForm.get(pt.hx.calendarRequestParams.endTo).setValue("",{emitEvent:!1})}_setTimeValues(t,i,r,a){this.filterForm.patchValue({StartFrom:this.dateService.validateTime(t)}),this.filterForm.patchValue({EndFrom:this.dateService.validateTime(r)}),this.filterForm.patchValue({StartTo:this.dateService.validateTime(i)}),this.filterForm.patchValue({EndTo:this.dateService.validateTime(a)})}checkIfTimeInputsAreTouched(){return""!==this.filterForm.get(pt.hx.calendarRequestParams.startFrom).value||""!==this.filterForm.get(pt.hx.calendarRequestParams.endFrom).value||""!==this.filterForm.get(pt.hx.calendarRequestParams.startTo).value||""!==this.filterForm.get(pt.hx.calendarRequestParams.endTo).value}checkIfCustomFiltersAreTouched(){return this.checkIfTimeInputsAreTouched()||this.daySelection.selected.length>0||this.jobStatusSelection.selected.length>0}employeeSearch(t,i){return t=t.toLowerCase(),i.employeeName.toLowerCase().indexOf(t)>-1||Number(i.employeeNumber)===Number(t)}clearAllFilters(){this._clearDaysSelection(),this._clearStatusSelection(),this.resetAllTimeInputs(),this.isStartEndValid=!0,this.isStartFromStartToValid=!0,this.isEndFromEndToValid=!0,this.daysLabel=pt.hx.setAll,this.statusLabel=pt.hx.setAll}toggleAllStatuses(){if(this._allSelected(pt.hx.calendarRequestParams.jobStatusList)){for(let t of this.jobStatusList)this.jobStatusSelection.deselect(t);this.statusLabel=pt.hx.setAll}else{for(let t of this.jobStatusList)this.jobStatusSelection.select(t);this.statusLabel=pt.hx.clearAll}this.filterForm.get(pt.hx.calendarRequestParams.jobStatusList).setValue(this.jobStatusSelection.selected)}_allSelected(t){return t===pt.hx.calendarRequestParams.daysList?this.daysListNumbers.every(i=>this.daySelection.isSelected(i)):this.jobStatusList.every(i=>this.jobStatusSelection.isSelected(i))}toggleAllDays(){if(this._allSelected(pt.hx.calendarRequestParams.daysList))for(let t of this.daysListNumbers)this.daySelection.deselect(t),this.daysLabel=pt.hx.setAll;else for(let t of this.daysListNumbers)this.daySelection.select(t),this.daysLabel=pt.hx.clearAll;this.filterForm.get(pt.hx.calendarRequestParams.daysList).setValue(this.daySelection.selected)}resetAllTimeInputs(){this._setTimeValues("","","",""),this.isStartEndValid=!0,this.isStartFromStartToValid=!0,this.isEndFromEndToValid=!0}_createIconElement(t){let i=this.renderer.createElement("i");return this.renderer.addClass(i,"fa"),this.renderer.addClass(i,t),this.renderer.setStyle(i,"padding-left","4px"),this.renderer.setStyle(i,"color","gray"),i}ngAfterViewInit(){fr(this.selectEmployeeRef.element.children[0]).prepend(this._createIconElement("fa-search")),fr(this.selectJobType.element.children[0]).prepend(this._createIconElement("fa-search")),setTimeout(()=>{let t=this._userRoleService.getGlobalAccountPermissions();t&&(this.canManageTemplates=t.canUserManageTemplates)},200)}toggleJobFilters(){this.showJobFilters=!this.showJobFilters,this.onFilterCollapse.emit()}ngOnInit(){this.updateLocalStorageValues(),this.message=St.yw,this.filterForm=this.fb.group({EmployeeIds:new _.NI,JobTypeIds:new _.NI,JobStatuses:new _.NI,StartTo:new _.NI(""),StartFrom:new _.NI(""),EndTo:new _.NI(""),EndFrom:new _.NI(""),Days:new _.NI},{validators:[(0,hr.nQ)("StartFrom","StartTo"),(0,hr.nQ)("EndFrom","EndTo"),(0,hr.zb)("StartFrom","StartTo","EndFrom")]}),this.message=St.yw,this.onFilterUpdate.emit(this.jobFilterState),this.filterForm.valueChanges.pipe((0,X.b)(500),(0,Gi.x)(),(0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.filterForm.valid&&(this.jobFilterState=t,this.autoCompleteStart=!this.filterForm.get(pt.hx.calendarRequestParams.startTo).dirty,this.autoCompleteEnd=!this.filterForm.get(pt.hx.calendarRequestParams.endTo).dirty,(""==this.jobFilterState.StartFrom||!this.jobFilterState.StartFrom)&&(this.jobFilterState.StartTo=""),(""==this.jobFilterState.EndFrom||!this.jobFilterState.EndFrom)&&(this.jobFilterState.EndTo=""),this.validateTimeInputs(),this.onFilterUpdate.emit(this.jobFilterState))}),this.filterSubscription=this.calendarService.requestFiltersChange.subscribe(t=>{this.jobFilterState=t,this.jobFilterState.JobStatuses&&(this._clearStatusSelection(),this.toolbarFiltersClicked=!0,this._toggleStatus(this.jobFilterState.JobStatuses[0]))}),this.incompleteCriticalTaskSubgroupSubscription=this.calendarService.invalidCriticalTaskSubgroupIds.subscribe(t=>{this.incompleteCriticalTaskSubgroupsIds=0===t?[]:t}),this.subArray.push(this.calendarService.getMaxNumberOfSubgroups().subscribe(t=>{this.maxNumberOfSubgroups=t.maxNumberOfSubGroups})),this.responseSubscription=this.calendarService.receiveIsTemplateSignal().subscribe(t=>{this.isTemplate=t}),this.getRole(),this.setSchedulePermissions(),this.selectedScheduleSubscription=this.calendarService.scheduleIdEmitter.subscribe(t=>{this.newScheduleId=0,this.currentScheduleId=t}),this.dateRangesDataSubscription=this.calendarService.dateRangesData.subscribe(t=>{this.approvedScheduleDateRanges=t.approvedScheduleDateRanges,t.viewedDateRange.start&&t.viewedDateRange.end&&(this.viewedDateRange=t.viewedDateRange)}),this.scheduleUnlockedSubscription=this.calendarService.showSubgroupLockUnlock.subscribe(t=>{this.showSubgroupLockUnlock=t}),this.scheduleUnlockedSubscription=this.calendarService.unlockLockSubgroups.subscribe(t=>{switch(t){case 0:this.editMode=!0;break;case 1:this.editMode=!1}}),this.scheduleCreatedSubscription=this._submitService.getEvent().subscribe(t=>{"schedule"===t.type&&"create"===t.action&&(this.newScheduleId=t.payload)}),this.selectedScheduleDateRangeSubscription=this.calendarService.onGetScheduleData.subscribe(t=>{this.scheduleStartDate=t.start,this.scheduleEndDate=t.end})}getRole(){this._userRoleService.loggedUserRole.subscribe(i=>{this.role=i});const t=document.getElementById("hidable");"Employee"==this.role?(this.renderer.removeClass(t,"show-for-non-users"),this.renderer.addClass(t,"hide-for-non-users")):(this.renderer.removeClass(t,"hide-for-non-users"),this.renderer.addClass(t,"show-for-non-users")),this._userRoleService.loggedUserId.subscribe(i=>{this.isMasterAccount=i<0})}setSchedulePermissions(){this._permissionsService.canChangeStructure.subscribe(t=>{this.canChangeScheduleStructure=t}),this._permissionsService.canAssignEmployees.subscribe(t=>{this.canAssignScheduleEmployees=t}),this._permissionsService.canSeeEmployeesNames.subscribe(t=>{this.canSeeScheduleEmployeesNames=t})}onChecked(t,i){this.toolbarFiltersClicked&&(t===this.jobStatusSelection.selected[0]||this._clearStatusSelection(),this.toolbarFiltersClicked=!1),i===pt.hx.calendarRequestParams.jobStatusList?this._toggleStatus(t):this._toggleDay(t)}_toggleDay(t){this.daySelection.toggle(t),this.filterForm.get(pt.hx.calendarRequestParams.daysList).setValue(this.daySelection.selected),this.daysLabel=this._allSelected(pt.hx.calendarRequestParams.daysList)?pt.hx.clearAll:pt.hx.setAll}_toggleStatus(t){this.jobStatusSelection.toggle(t),this.filterForm.get(pt.hx.calendarRequestParams.jobStatusList).setValue(this.jobStatusSelection.selected),this.statusLabel=this._allSelected(pt.hx.calendarRequestParams.jobStatusList)?pt.hx.clearAll:pt.hx.setAll}_clearStatusSelection(){this.jobStatusSelection.clear(),this.filterForm.get(pt.hx.calendarRequestParams.jobStatusList).setValue(this.jobStatusSelection.selected)}_clearDaysSelection(){this.daySelection.clear(),this.filterForm.get(pt.hx.calendarRequestParams.daysList).setValue(this.daysList.selected)}toggleAllSubgroups(){let t=this.flatNodes.every(i=>this.checklistSelection.isSelected(this.nestedNodeMap.get(i)));this._toggleAllNodes(!t,!t),this.subgroupLabel=t?pt.hx.setAll:pt.hx.clearAll}_toggleAllNodes(t,i){let r=this._traverseTree(this.flatNodes);for(let a of r){let s=this._getParentNode(this.nestedNodeMap.get(a));for(t?this.checklistSelection.select(this.nestedNodeMap.get(a)):this.checklistSelection.deselect(this.nestedNodeMap.get(a));s;)i&&this.treeControl.expand(s),s=this._getParentNode(s)}this.calendarService.checkboxChange.next(this.checklistSelection.selected)}_deselectModifiedJobTypes(t){if(this.filterForm){let i=this.selectJobType.selectedItems;for(let r of i)t.find(s=>s.id===r.value.id)||this.selectJobType.unselect(r)}}_getParentNode(t){const i=this.getLevel(t);if(i<1)return null;for(let a=this.treeControl.dataNodes.indexOf(t)-1;a>=0;a--){const s=this.treeControl.dataNodes[a];if(this.getLevel(s)<i)return s}return null}_traverseTree(t){let i=[];for(let r of t)i.push(r),r.wasExpandedBeforeNavigation=this.treeControl.isExpanded(r),r.children&&(i=i.concat(this._traverseTree(r.children)));return i}resourceSelectionToggle(t){this.checklistSelection.toggle(t);const i=this.treeControl.getDescendants(t);this.checklistSelection.isSelected(t)?i.forEach(r=>{this.listUnselected.includes(r.id)||this.checklistSelection.select(r)}):i.forEach(r=>{this.listUnselected.includes(r.id)||this.checklistSelection.deselect(r)}),this.calendarService.checkboxChange.next(this.checklistSelection.selected),this.calendarService.checkboxClickedChange.next(this.checklistSelection.selected)}descendantsAllSelected(t){return this.treeControl.getDescendants(t).every(a=>this.checklistSelection.isSelected(a))}descendantsPartiallySelected(t){return!!this.treeControl.dataNodes&&this.treeControl.getDescendants(t).some(s=>this.checklistSelection.isSelected(s))&&!this.descendantsAllSelected(t)}onRightClick(t,i){let r=t.id;if(this.inUnlockMode?this.showLock=null==this.previousValue||this.previousValue==r:(this.showLock=!1,this.previousValue=r,this.calendarService.subgroupIdToUnlock.next(this.previousValue),this.selectedSGId.emit(this.previousValue)),t.viewOnly||this.listUnselected.includes(t.id)){if(this.subGroupID=t.id,i.preventDefault(),i.stopPropagation(),this.currentSubgroupLevel=t.level,void 0!==window.orientation)return}else{if(i.preventDefault(),i.stopPropagation(),this.currentSubgroupLevel=t.level,this.canBeSubmitted=t.canBeSubmited,this.canBeUnlocked=t.canBeUnlocked,this.currentView=t.currentView,this.canOfferJob=t.canOfferJob,this.editMode=!(!t.canBeSubmited&&t.canBeUnlocked),void 0!==window.orientation)return;this._menuOpener(t.id,i.clientX,i.clientY,t.CanAccessSubGroup,t.CanChangeSubGroupStructure,t.CanAssignSubGroup,t.CanSeeSubGroupEmployeesNames,t.canBeSubmited,t.canBeUnlocked,t.IsFromTemplate,t.canOfferJob)}}onLongTouch(t,i){i.preventDefault(),i.stopPropagation(),void 0!==window.orientation&&setTimeout(()=>{t.viewOnly||this._menuOpener(t.id,i.changedTouches[0].clientX,i.changedTouches[0].clientY,t.CanAccessSubGroup,t.CanChangeSubGroupStructure,t.CanAssignSubGroup,t.CanSeeSubGroupEmployeesNames,t.canBeSubmited,t.canBeUnlocked,t.isFromTemplate,t.canOfferJob)},100)}_menuOpener(t,i,r,a,s,l,c,u,h,x,T){this.subgroupId=t,this.canBeSubmitted=u,this.canBeUnlocked=h,this.canOfferJob=T,this.canAccessSubGroup=a,this._subGroupService.getById(this.subgroupId,this.isTemplate).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(O=>{this.subgroupStartDate=O.startDate,this.subgroupEndDate=O.endDate}),this.canChangeSubGroupStructure=s,this.canAssignSubGroup=l,this.canSeeSubGroupEmployeesNames=c,this.isFromTemplate=x,"User"==this.role&&(this.canChangeSubGroupStructure||this.canAssignSubGroup||this.canSeeSubGroupEmployeesNames)&&this.subgroupMenuTrigger.openMenu(),this.contextMenuPosition.x=i+"px",this.contextMenuPosition.y=r+"px"}addSubgroup(){this.currentSubgroupLevel!==this.maxNumberOfSubgroups-1?this.onSubgroupUpdate.emit({id:this.subgroupId,type:"subgroup",action:"add",isTemplate:this.isTemplate}):this._messageService.open("Maximum Number of Nested Subgroups is reached.")}editSubgroup(){this.onSubgroupUpdate.emit({id:this.subgroupId,type:"subgroup",action:"edit",isTemplate:this.isTemplate,isFromTemplate:this.isFromTemplate})}deleteSubgroup(){this.onSubgroupUpdate.emit({id:this.subgroupId,type:"subgroup",action:"delete"})}addJob(){this.openDialogAddJob(this.subgroupId,this.startDateForRequest,this.endDateForRequest)}openDialogAddJob(t,i,r){var a=window.scrollY,s=window.scrollX;window.scroll(0,0),this.subGroupsPermissions.forEach(l=>{l.id==t&&this.dialog.open(kx,{autoFocus:!1,disableClose:!0,data:{subGroupParent:t,isJobEditable:!0,startDate:i,endDate:r,areListsReadOnly:l.areListsReadOnly,areEmployeesAnonymous:l.areEmployeesAnonymous,canAssignFromUnavailable:this.canAssignFromUnavailable,cached:this.editMode,viewedDateRange:this.viewedDateRange,approvedScheduleDateRanges:this.approvedScheduleDateRanges,isTemplate:this.isTemplate,subGroupID:this.subGroupID,subgroupStartDate:l.subgroupStartDate,subgroupEndDate:l.subgroupEndDate,view:this.defaultView},panelClass:["max-height96","max-width1450px"]}).afterClosed().subscribe(()=>{window.scrollTo(s,a),this.onJobUpdate.emit()})})}deleteAllJobs(){this.jobService.deleteAll(this.subgroupId,this.startDateForRequest,this.endDateForRequest,this.isTemplate).subscribe(()=>{this.onJobUpdate.emit()},t=>{this._messageService.open(t)},()=>{})}createTemplate(){this.openTemplateDialog()}openTemplateDialog(){this.dialog.open(Px,{autoFocus:!1,disableClose:!0,width:"600px",data:{type:"create",startDate:this.startDateForRequest,endDate:this.endDateForRequest,isSubgroup:!0,id:this.subgroupId,selectedSubgroupList:this.selectedCheckboxes},panelClass:["max-height96"]})}unassignEmployees(){this.onUnassignEmployees.emit({isForSchedule:!1,entityId:this.subgroupId,startDateForRequest:this.startDateForRequest,endDateForRequest:this.endDateForRequest})}submitForApproval(){var t=localStorage.getItem("dateFormat");if(t=null!=t||null!=t?t.split(" ")[1]:"DD/MM/YYYY",this.canBeSubmitted||this.canBeUnlocked){let i=(new Y.LE).set("StartDate",this.startDateForRequest).set("EndDate",this.endDateForRequest);i=i.append(pt.hx.calendarRequestParams.subGroupIds,this.subgroupId.toString()),this.calendarService.checkCacheForChanges(i).subscribe(r=>{r?this.dialogService.openConfirmDialog("Confirm",(0,St.Uw)("submit this date range for approval")).afterClosed().subscribe(a=>{a&&this.submitDateRangeForApproval()}):this.dialogService.openConfirmDialog("SubmitUnchangedSchedule","The unlocked period "+W(this.startDateForRequest).format(t)+" - "+W(this.endDateForRequest).format(t)+" has not been updated. Do you wish to Submit the period for approval? ").afterClosed().subscribe(a=>{a&&this.submitDateRangeForApproval()})})}}submitDateRangeForApproval(){if(this.incompleteCriticalTaskSubgroupsIds.includes(this.subgroupId))this.dialogService.openWarningDialog((0,St.re)("this sub group"));else{let t=Number(localStorage.getItem("id")),i=new jd;i.userId=t,i.isSchedule=!1,i.scheduleId=this.newScheduleId>0?this.newScheduleId:this.currentScheduleId,i.subGroupId=this.subgroupId,i.startDateTime=W(this.startDateForRequest).isBefore(W(this.subgroupStartDate))?W(this.subgroupStartDate).format("YYYY-MM-DD"):this.startDateForRequest,i.endDateTime=W(this.endDateForRequest).isAfter(W(this.subgroupEndDate))?W(this.subgroupEndDate).format("YYYY-MM-DD"):this.endDateForRequest,i.currentView=this.currentView,this.calendarService.submitForApproval(i).subscribe(r=>{this._messageService.open("Submitted successfully."),this.calendarService.dateRangeSubmitted.next(!0),this.canBeSubmitted=!1,this.canBeUnlocked=!1},r=>{this._messageService.open(r)})}}unlockLockSubgroup(t){this.dialogService.openConfirmDialog("Confirm","unlock"==t?this.message.subGroupUnlockWarning:this.message.subGroupLockWarning).afterClosed().subscribe(i=>{if(i)switch(this.calendarService.unlockedLockedSubgroup.next({id:this.subgroupId,action:t}),t){case"unlock":this.isInUnlockedSubscription=this.calendarService.receiveIsInUnlocked().subscribe(r=>{this.isInsideUnlock=r}),this.isInsideUnlock?(this.inUnlockMode=!0,this.editMode=!0):(this.inUnlockMode=!1,this.editMode=!1),this.calendarService.subgroupIsUnlocked.next(!0);break;case"lock":this.submitForApproval()}})}offerJobs(){this.dialogService.openConfirmDialog("Confirm",this.message.offerJobs).afterClosed().subscribe(t=>{t&&this._jobOfferService.offerJobs(this.startDateForRequest,this.endDateForRequest,0,this.subgroupId).subscribe(i=>{this._messageService.open(i+" job offers made.")},i=>{this._messageService.open(i)},()=>{})})}revokeJobOffers(){this.dialogService.openConfirmDialog("Confirm",this.message.revokeJobOffers).afterClosed().subscribe(t=>{t&&this._jobOfferService.revokeJobOffers(this.startDateForRequest,this.endDateForRequest,0,this.subgroupId).subscribe(i=>{this._messageService.open("Offers are Revoked.")},i=>{this._messageService.open(i)},()=>{})})}get f(){if(this.filterForm)return this.filterForm.controls}setLocalStorageItems(){localStorage.setItem("canOfferJob",this.canOfferJob?"true":"false"),localStorage.setItem("canManageTemplates",this.canManageTemplates?"true":"false")}updateLocalStorageValues(){const t=localStorage.getItem("canOfferJob"),i=localStorage.getItem("canManageTemplates");t&&(this.canOfferJob=JSON.parse(t),localStorage.removeItem("canOfferJob")),i&&(this.canManageTemplates=JSON.parse(i),localStorage.removeItem("canManageTemplates"))}ngOnDestroy(){for(let t of this.subArray)t.unsubscribe();this.responseSubscription.unsubscribe(),this.filterSubscription.unsubscribe(),this.dataChangeSubscription.unsubscribe(),this.incompleteCriticalTaskSubgroupSubscription.unsubscribe(),this.selectedScheduleSubscription.unsubscribe(),this.scheduleCreatedSubscription.unsubscribe(),this.dateRangesDataSubscription.unsubscribe(),this.scheduleUnlockedSubscription.unsubscribe(),this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Nc),e.Y36(Z1),e.Y36(Ri.x),e.Y36(z.uw),e.Y36(_.qu),e.Y36(AH),e.Y36(e.Qsj),e.Y36(qi.J),e.Y36(Yo),e.Y36(sn),e.Y36(yr.H),e.Y36(Y1.i),e.Y36(Ce.L),e.Y36(se.G),e.Y36(q.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-job-filter"]],viewQuery:function(t,i){if(1&t&&(e.Gf(MH,5),e.Gf(OH,5),e.Gf(PH,5),e.Gf(EH,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.subgroupMenuTrigger=r.first),e.iGM(r=e.CRH())&&(i.matTree=r.first),e.iGM(r=e.CRH())&&(i.selectEmployeeRef=r.first),e.iGM(r=e.CRH())&&(i.selectJobType=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("beforeunload",function(a){return i.unloadHandler(a)},!1,e.Jf7)},inputs:{startDateForRequest:"startDateForRequest",endDateForRequest:"endDateForRequest",selectedCheckboxes:"selectedCheckboxes",subGroupsPermissions:"subGroupsPermissions",canAssignFromUnavailable:"canAssignFromUnavailable",listUnselected:"listUnselected",defaultView:"defaultView"},outputs:{onSubgroupUpdate:"onSubgroupUpdate",onJobUpdate:"onJobUpdate",onUnassignEmployees:"onUnassignEmployees",onFilterUpdate:"onFilterUpdate",onFilterCollapse:"onFilterCollapse",selectedSGId:"selectedSGId"},decls:31,vars:27,consts:[["id","hidable",1,"esolve-filter-container","node-identation"],["autocomplete","off",3,"formGroup","keydown.enter",4,"ngIf"],[1,"mat-menu-trigger-style",3,"matMenuTriggerFor"],["subgroupMenuTrigger","matMenuTrigger"],[1,"checklist"],["subgroupMenu","matMenu"],["id","addJob_job_filter_menu_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","addSubgroup_job_filter_menu_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","editSubgroup_job_filter_menu_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","createTemplate_job_filter_menu_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","unassignEmployees_job_filter_menu_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","deleteAllJobs_job_filter_menu_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","deleteSubgroup_job_filter_menu_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","submit_for_approval_job_filter_menu_btn","mat-menu-item","",3,"disabled","click",4,"ngIf"],["id","unlock_subgroup_job_filter_menu_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","offer_jobs_menu_btn","mat-menu-item","",3,"click",4,"ngIf"],[1,"row","eSolve-calendar-background-light","d-flex","justify-content-center","esolve-label-container"],[1,"col-12"],[1,"bold-text","node-identation","esolve-custom-filter-label"],[1,"align-self-end","fa","filterIcon","cursor-pointer","esolve-label-icon",3,"ngClass","click"],["class","row row  d-flex justify-content-end esolve-filter-layout-gap",4,"ngIf"],[1,"row"],[3,"hidden"],[1,"eSolve-subgroup-tree",3,"dataSource","treeControl"],["matTree",""],["class","node-identation","matTreeNodeToggle","",3,"ngClass",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["class","node-identation",3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["autocomplete","off",3,"formGroup","keydown.enter"],[1,"row","esolve-filter-layout-gap","overflow-visible"],[1,"col-12","height-auto","g-esolve-multi-select"],["bindLabel","employeeName","bindValue","id","placeholder","Search Employees","formControlName","EmployeeIds",1,"input-sm",3,"items","virtualScroll","searchFn","multiple"],["selectEmployee",""],["ng-multi-label-tmp",""],[1,"row","esolve-filter-layout-gap"],["placeholder","Search Job Type","bindLabel","name","bindValue","id","formControlName","JobTypeIds",3,"items","multiple","virtualScroll"],["selectJobType",""],[1,"col-12","d-flex","justify-content-end"],[1,"btn","eSolve-font-size","esolve-custom-filter-button","btn-sm",3,"disabled","click"],[1,"esolve-hr"],[1,"bold-text","esolve-custom-filter-label"],[1,"esolve-filter-layout-gap",3,"hidden"],[1,"row","eSolve-calendar-background-light"],[1,"col-12","d-flex","d-flex","justify-content-center"],[1,"row","d-flex","justify-content-end","esolve-filter-layout-gap"],[1,"col-6"],[1,"btn","eSolve-days-filter","eSolve-font-size","btn-sm","btn-block","esolve-custom-filter-button",3,"click"],[4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-center"],[1,"btn","eSolve-font-size","btn-sm","btn-block","esolve-custom-filter-button",3,"click"],[1,"row","d-flex","justify-content-between","eSolve-daylist-container"],["class","col-1 eSolve-days-filter",4,"ngFor","ngForOf"],[1,"esolve-filter-layout-gap"],[1,"row","d-flex","justify-content-end"],[1,"btn","eSolve-font-size","btn-sm","btn-block","esolve-custom-filter-button",3,"disabled","click"],[1,"bold-text"],[1,"col-2"],["for","job_filter_start_from_input",1,"bold-text","esolve-time-input-labels"],[1,"col-4"],["type","text","mask","Hh:m0","minlength","5","maxlength","5","id","job_filter_start_from_input","name","startFromTime","formControlName","StartFrom",1,"form-control","form-control-sm","esolve-time-input","eSolve-font-size","esolve-from-input","esolve-filter-time",3,"dropSpecialCharacters"],[1,"col-1"],["for","job_filter_start_to_input",1,"bold-text","esolve-time-input-labels"],["type","text","mask","Hh:m0","minlength","5","maxlength","5","id","job_filter_start_to_input","name","startToTime","formControlName","StartTo",1,"form-control","form-control-sm","esolve-time-input","eSolve-font-size","esolve-filter-time",3,"dropSpecialCharacters"],["class","validationError col-12",4,"ngIf"],["for","job_filter_end_from_input",1,"bold-text","esolve-time-input-labels"],["type","text","mask","Hh:m0","minlength","5","maxlength","5","id","job_filter_end_from_input","name","endFromTime","formControlName","EndFrom",1,"form-control","esolve-time-input","esolve-from-input","form-control-sm","eSolve-font-size","esolve-filter-time",3,"dropSpecialCharacters"],["for","job_filter_end_to_input",1,"bold-text","esolve-time-input-labels"],["type","text","mask","Hh:m0","minlength","5","maxlength","5","id","job_filter_end_to_input","name","startTime","formControlName","EndTo",1,"form-control","esolve-time-input","eSolve-font-size","form-control-sm","esolve-filter-time",3,"dropSpecialCharacters"],["class","validationError",4,"ngIf"],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[1,"checklist-leaf-node","subGroup","checklist",3,"ngClass","checked","change"],[1,"col-1","eSolve-days-filter"],[1,"row","esolve-daylist-items"],[3,"ngClass"],[1,"checklist-leaf-node","subGroup","checklist","bold-text",3,"checked","change"],[1,"validationError","col-12"],[4,"ngIf"],[1,"validationError"],["id","addJob_job_filter_menu_btn","mat-menu-item","",3,"click"],["id","addSubgroup_job_filter_menu_btn","mat-menu-item","",3,"click"],["id","editSubgroup_job_filter_menu_btn","mat-menu-item","",3,"click"],["id","createTemplate_job_filter_menu_btn","mat-menu-item","",3,"click"],["id","unassignEmployees_job_filter_menu_btn","mat-menu-item","",3,"click"],["id","deleteAllJobs_job_filter_menu_btn","mat-menu-item","",3,"click"],["id","deleteSubgroup_job_filter_menu_btn","mat-menu-item","",3,"click"],["id","submit_for_approval_job_filter_menu_btn","mat-menu-item","",3,"disabled","click"],["id","unlock_subgroup_job_filter_menu_btn","mat-menu-item","",3,"click"],["id","offer_jobs_menu_btn","mat-menu-item","",3,"click"],[1,"row","row","d-flex","justify-content-end","esolve-filter-layout-gap"],["matTreeNodeToggle","",1,"node-identation",3,"ngClass"],[1,"checklist-leaf-node","subGroup","checklist",3,"checked","disabled","change"],["type","button","long-press","",1,"btn","subgroup-menu-btn",3,"click","onLongPress"],["aria-hidden","true",1,"fa","fa-ellipsis-v"],["mat-icon-button","","disabled",""],[1,"node-identation",3,"ngClass"],[1,"checklist",3,"checked","indeterminate","disabled","change"],["matTreeNodeToggle","",1,"eSolve-nested-node-icon"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,WH,88,27,"form",1),e.qZA(),e._UZ(2,"div",2,3),e.TgZ(4,"mat-menu",4,5),e.YNc(6,QH,2,0,"button",6),e.YNc(7,zH,2,0,"button",7),e.YNc(8,KH,2,0,"button",8),e.YNc(9,$H,2,0,"button",9),e.YNc(10,XH,2,0,"button",10),e.YNc(11,eB,2,0,"button",11),e.YNc(12,tB,2,0,"button",12),e.YNc(13,nB,2,2,"button",13),e.YNc(14,iB,2,0,"button",14),e.YNc(15,rB,2,0,"button",15),e.YNc(16,oB,2,0,"button",15),e.qZA(),e.TgZ(17,"div",16)(18,"div",17)(19,"label",18),e._uU(20," Subgroups (Filter) "),e.qZA(),e.TgZ(21,"i",19),e.NdJ("click",function(){return i.showSubgroups=!i.showSubgroups}),e.qZA()()(),e.YNc(22,aB,4,1,"div",20),e.TgZ(23,"div",21)(24,"div",17)(25,"div",22)(26,"mat-tree",23,24),e.YNc(28,sB,6,8,"mat-tree-node",25),e.YNc(29,lB,2,0,"mat-tree-node",26),e.YNc(30,cB,8,10,"mat-tree-node",27),e.qZA()()()()),2&t){const r=e.MAs(5);e.xp6(1),e.Q6J("ngIf",i.filterForm),e.xp6(1),e.Udp("left",i.contextMenuPosition.x)("top",i.contextMenuPosition.y),e.Q6J("matMenuTriggerFor",r),e.xp6(4),e.Q6J("ngIf",i.canChangeSubGroupStructure&&!i.canBeUnlocked||i.editMode),e.xp6(1),e.Q6J("ngIf",i.canChangeSubGroupStructure&&!i.canBeUnlocked&&!i.isFromTemplate||i.editMode),e.xp6(1),e.Q6J("ngIf",i.canChangeSubGroupStructure&&!i.canBeUnlocked||i.editMode),e.xp6(1),e.Q6J("ngIf",!i.isTemplate&&i.canManageTemplates),e.xp6(1),e.Q6J("ngIf",i.canAssignSubGroup&&!i.canBeUnlocked||i.editMode),e.xp6(1),e.Q6J("ngIf",i.canChangeSubGroupStructure&&!i.canBeUnlocked||i.editMode),e.xp6(1),e.Q6J("ngIf",i.canChangeSubGroupStructure&&(i.isMasterAccount||!i.isMasterAccount&&!i.isFromTemplate)&&!i.canBeUnlocked||i.editMode),e.xp6(1),e.Q6J("ngIf",i.canChangeSubGroupStructure&&!i.isTemplate||i.canChangeSubGroupStructure&&i.canBeUnlocked&&i.editMode&&i.showSubgroupLockUnlock&&i.showLock),e.xp6(1),e.Q6J("ngIf",i.canChangeSubGroupStructure&&i.canBeUnlocked&&!i.editMode&&i.showSubgroupLockUnlock),e.xp6(1),e.Q6J("ngIf",i.canOfferJob&&(i.editMode||i.canBeSubmitted)),e.xp6(1),e.Q6J("ngIf",i.canOfferJob&&(i.editMode||i.canBeSubmitted)),e.xp6(5),e.Q6J("ngClass",e.WLB(24,qS,!i.showSubgroups,i.showSubgroups)),e.xp6(1),e.Q6J("ngIf",i.isTreeRendered),e.xp6(3),e.Q6J("hidden",!i.showSubgroups),e.xp6(1),e.Q6J("dataSource",i.dataSource)("treeControl",i.treeControl),e.xp6(3),e.Q6J("matTreeNodeDefWhen",i.hasNoContent),e.xp6(1),e.Q6J("matTreeNodeDefWhen",i.hasChild)}},dependencies:[D.mk,D.sg,D.O5,Lo.lW,jg.Hw,Zi.oG,Mh.fQ,Mh.eu,Mh.gi,Mh.uo,Lr.VK,Lr.OP,Lr.p6,_._Y,_.Fj,_.JJ,_.JL,_.wO,_.nD,_.sg,_.u,Sn,er,Cs,$n,jS],styles:[".eSolve-subgroup-tree[_ngcontent-%COMP%]{background-color:inherit}.checklist[_ngcontent-%COMP%]{font-family:Nunito Sans;font-size:12px}.hide-for-non-users[_ngcontent-%COMP%]{display:none}.show-for-non-users[_ngcontent-%COMP%]{display:block}  .mat-menu-item{font-family:Nunito Sans!important;font-size:12px!important;height:35px!important;line-height:35px!important}  .mat-checkbox-inner-container{height:13px!important;width:13px!important}  .mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-background[_ngcontent-%COMP%], .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked[_ngcontent-%COMP%], .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate[_ngcontent-%COMP%], .mat-pseudo-checkbox-checked[_ngcontent-%COMP%], .mat-pseudo-checkbox-indeterminate[_ngcontent-%COMP%]{background-color:#757575!important;font-size:12px;white-space:normal!important}  .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background, .mat-checkbox-checked.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#757575!important}  .mat-nested-tree-node, .mat-tree-node[_ngcontent-%COMP%]{font-size:12px}.eSolve-nested-node-icon[_ngcontent-%COMP%]{margin-bottom:6px!important}.checklist[_ngcontent-%COMP%]{white-space:normal!important}.level-one[_ngcontent-%COMP%]{background-color:var(--eSolve-gray)}.level-two[_ngcontent-%COMP%]{background-color:#d7dcdf}.level-three[_ngcontent-%COMP%]{background-color:#e1e4e7;color:#637382}.node-identation[_ngcontent-%COMP%]{padding-left:5px}.bold-text[_ngcontent-%COMP%]{font-weight:700}.eSolve-days-checkbox[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.eSolve-days-filter[_ngcontent-%COMP%]{padding-right:10px}.eSolve-daylist-container[_ngcontent-%COMP%]{width:100%}.esolve-filter-time[_ngcontent-%COMP%]{background-color:inherit;box-shadow:none}.esolve-filter-container[_ngcontent-%COMP%]{background-color:#fff!important;padding-bottom:5px}.height-auto[_ngcontent-%COMP%]{height:auto}.esolve-time-input[_ngcontent-%COMP%]{padding:1px}.esolve-daylist-items[_ngcontent-%COMP%]{padding-left:7px}.esolve-filter-layout-gap[_ngcontent-%COMP%], .esolve-time-input-labels[_ngcontent-%COMP%]{padding-top:5px}.esolve-from-input[_ngcontent-%COMP%]{padding-left:5px}.esolve-custom-filter-button[_ngcontent-%COMP%]{background-color:#e2e5ec;border-radius:5px;height:20px;line-height:10px;border:1px solid gray}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{top:8px!important}.esolve-custom-filter-label[_ngcontent-%COMP%]{padding-top:6px}ng-select[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{width:auto!important;height:10px}.esolve-hr[_ngcontent-%COMP%]{margin:3px}.test[_ngcontent-%COMP%]{right:10px}.esolve-label-container[_ngcontent-%COMP%]{position:relative}.esolve-label-text[_ngcontent-%COMP%]{right:50%}.esolve-label-icon[_ngcontent-%COMP%]{position:absolute;right:40px;top:9px}mat-tree-node[_ngcontent-%COMP%]{min-height:32px!important}.overflow-visible[_ngcontent-%COMP%]{overflow:visible}.subgroup-menu-btn[_ngcontent-%COMP%]{position:absolute;right:15px;padding:2px 12px;background-color:inherit}"]}),n})();const uB=["calendar"],pB=["scheduleMenuTrigger"],fB=["tooltipTrigger"],hB=["jobMenuTrigger"],mB=["employeeJobMenuTrigger"],gB=["selectScheduleDOM"],_B=["showDetailViewButton"],vB=["matToogleGroup"],bB=["matToogleEmployeeGroup"];function yB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-button-toggle",64),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.changeCalendarView(r))}),e._uU(1,"Day "),e.qZA()}}function xB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-button-toggle",65),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.changeCalendarView(r))}),e._uU(1,"Week "),e.qZA()}}function CB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-button-toggle",66),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return a.changeCalendarView(r),e.KtG(a.toggleTimelineView(!1,"html"))}),e._uU(1,"Month "),e.qZA()}}function TB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-button-toggle",67),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.changeCalendarView(r))}),e._uU(1,"Custom "),e.qZA()}}function wB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-button-toggle",68),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.changeCalendarView(r))}),e._uU(1,"Pay Period "),e.qZA()}}function DB(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Back to Approvals Page "),e.qZA())}function SB(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Back to Dashboard "),e.qZA())}function kB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.returnToApprovalsPage())}),e.YNc(1,DB,2,0,"span",23),e.YNc(2,SB,2,0,"span",23),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.approvalDetailsFromDashboard),e.xp6(1),e.Q6J("ngIf",t.approvalDetailsFromDashboard)}}function AB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleViewedRange("unlock"))}),e._uU(1," Unlock "),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.lockFlag)}}function MB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.submitForApproval())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",(!t.canSubmit||!t.selectedSchedule||t.isCompletelySubmitted||!t.subGroupsExist||t.isSubmitForApprovalDisabled)&&!t.isTemplateDetails),e.xp6(1),e.hij(" ",t.allSubmitted&&t.isCompletelySubmitted&&t.subGroupsExist&&!t.unlockedSchedule?"Submitted":"Submit for Approval"," ")}}function OB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",77)(1,"i",78),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.showExistingSubmissions())}),e.qZA()()}}function PB(n,o){if(1&n&&(e.TgZ(0,"div",70)(1,"div",71),e.YNc(2,AB,2,1,"button",72),e.YNc(3,MB,2,2,"button",73),e.YNc(4,OB,2,0,"div",74),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.canUnlock&&t.canChangeApprovedchedules&&!t.unlockedSchedule&&!t.unlockedSubgroupIndicator&&!t.isTemplateDetails),e.xp6(1),e.Q6J("ngIf",!t.navigatedFromApprovalDetailsView&&t.canSubmitForApproval||t.canUnlock&&t.canChangeApprovedchedules&&t.unlockedSchedule&&!t.unlockedSubgroupIndicator&&!t.isTemplateDetails),e.xp6(1),e.Q6J("ngIf",!t.canSubmit&&t.selectedSchedule&&t.subGroupsExist&&!t.isTemplateDetails&&t.canSubmitForApproval)}}function EB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.autoSolve())}),e._UZ(1,"img",81),e._uU(2," Auto Solve "),e.qZA()}}function IB(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,EB,3,0,"button",79),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.navigatedFromApprovalDetailsView)}}function NB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",70)(1,"button",82),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeTemplate())}),e._uU(2," Close "),e.qZA()()}}function RB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleViewedRange("unlock"))}),e._uU(1," Unlock "),e.qZA()}}function FB(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.allSubmitted&&t.isCompletelySubmitted&&t.subGroupsExist?"Submitted":"Submit for Approval"," ")}}function ZB(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.hij(" ","Submit for Approval"," "))}function LB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.submitForApproval())}),e.YNc(1,FB,2,1,"span",23),e.YNc(2,ZB,2,1,"span",23),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",(!t.canSubmit||!t.selectedSchedule||t.isCompletelySubmitted||!t.subGroupsExist||t.isSubmitForApprovalDisabled)&&!t.isTemplateDetails&&!t.unlockedSchedule),e.xp6(1),e.Q6J("ngIf",!t.unlockedSchedule),e.xp6(1),e.Q6J("ngIf",t.unlockedSchedule)}}function UB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",77)(1,"i",78),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.showExistingSubmissions())}),e.qZA()()}}const jB=function(n){return{"buttonGroup-margin-right":n}};function YB(n,o){if(1&n&&(e.TgZ(0,"div",83),e.YNc(1,RB,2,0,"button",84),e.YNc(2,LB,3,3,"button",85),e.YNc(3,UB,2,0,"div",74),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(4,jB,t.windowWidth>1279)),e.xp6(1),e.Q6J("ngIf",t.canUnlock&&t.canChangeApprovedchedules&&!t.unlockedSchedule&&!t.unlockedSubgroupIndicator&&t.allSubmitted&&t.isCompletelySubmitted&&t.subGroupsExist&&!t.submitedButNotApproved),e.xp6(1),e.Q6J("ngIf",!t.navigatedFromApprovalDetailsView&&t.canSubmitForApproval||t.canUnlock&&t.canChangeApprovedchedules&&t.unlockedSchedule&&!t.unlockedSubgroupIndicator&&!t.isTemplateDetails),e.xp6(1),e.Q6J("ngIf",!t.canSubmit&&t.selectedSchedule&&t.subGroupsExist&&!t.isTemplateDetails&&t.canSubmitForApproval)}}function qB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",88),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeTemplate())}),e._uU(2," Close "),e.qZA()()}}function JB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",90),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.autoSolve())}),e._UZ(1,"img",81),e._uU(2," Auto Solve "),e.qZA()}}function HB(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,JB,3,0,"button",89),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.navigatedFromApprovalDetailsView&&t.autoSolvePermission)}}function BB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",92),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openConstraintsDialog())}),e._uU(1," Constraints "),e.qZA()}}function VB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",92),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openRankingsDialog(r.selectedSchedule))}),e._uU(1," Rankings "),e.qZA()}}function GB(n,o){if(1&n&&(e.TgZ(0,"div",20),e.YNc(1,BB,2,0,"button",91),e.YNc(2,VB,2,0,"button",91),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.canConfigureConstraints&&!t.isTemplateDetails),e.xp6(1),e.Q6J("ngIf",t.canConfigureRankings&&!t.isTemplateDetails)}}function WB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",94),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.authoriseDateRange(!0))}),e._uU(1," Approve and sync "),e.qZA()}}function QB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",92),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.authoriseDateRange(!1))}),e._uU(1," Reject "),e.qZA()}}function zB(n,o){if(1&n&&(e.TgZ(0,"div",20),e.YNc(1,WB,2,0,"button",93),e.YNc(2,QB,2,0,"button",91),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.authoriseClicked&&!t.isTemplateDetails),e.xp6(1),e.Q6J("ngIf",!t.authoriseClicked&&!t.isTemplateDetails)}}function KB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",96)(1,"div",97)(2,"mat-accordion")(3,"mat-expansion-panel",98)(4,"mat-expansion-panel-header",99)(5,"mat-panel-title",100),e._uU(6," Calendar "),e.qZA()(),e.TgZ(7,"mat-calendar",101),e.NdJ("selectedChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onDateChange(r))}),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("collapsedHeight","32px")("expandedHeight","32px"),e.xp6(3),e.Q6J("selected",t.currentDate)}}function $B(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"mat-calendar",101),e.NdJ("selectedChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onDateChange(r))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("selected",t.currentDate)}}function XB(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,KB,8,3,"div",95),e.YNc(2,$B,2,1,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.collapsedCalendar),e.xp6(1),e.Q6J("ngIf",!t.collapsedCalendar)}}function e7(n,o){if(1&n&&(e.TgZ(0,"label",104),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.customViewValidation)}}function t7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",102)(1,"mat-calendar",101),e.NdJ("selectedChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a._onSelectedChange(r))}),e.qZA(),e.YNc(2,e7,2,1,"label",103),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("selected",t.selectedDateRange),e.xp6(1),e.Q6J("ngIf",""!==t.customViewValidation)}}function n7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",114),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.editSchedule())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.editSchTempTitle," ")}}function r7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",115),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.addSubgroup())}),e._uU(1," Add Subgroup "),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isCompletelySubmitted&&!t.unlockedSchedule)}}function o7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",116),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createTemplate())}),e._uU(1," Create Template "),e.qZA()}}function a7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.manageTemplates())}),e._uU(1," Manage Templates "),e.qZA()}}function s7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",118),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.unassignEmployees())}),e._uU(1," Unassign Employees "),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.disableUnassignEmployeeLabel)}}function l7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",119),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.deleteSchedule())}),e._uU(1," Delete Schedule "),e.qZA()}}function c7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",120),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.submitForApproval())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",(!t.canSubmit||t.isCompletelySubmitted)&&!t.unlockedSchedule),e.xp6(1),e.hij(" ",t.allSubmitted&&t.isCompletelySubmitted&&!t.isScheduleUnlocked?"Submitted":"Submit for Approval"," ")}}function d7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",121),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleViewedRange("unlock"))}),e._uU(1," Unlock "),e.qZA()}}function u7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",122),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.offerJobs())}),e._uU(1," Offer Jobs "),e.qZA()}}function p7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",122),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.revokeJobOffers())}),e._uU(1," Revoke Job Offers "),e.qZA()}}function f7(n,o){if(1&n&&(e.YNc(0,n7,2,1,"button",105),e.YNc(1,r7,2,1,"button",106),e.YNc(2,o7,2,0,"button",107),e.YNc(3,a7,2,0,"button",108),e.YNc(4,s7,2,1,"button",109),e.YNc(5,l7,2,0,"button",110),e.YNc(6,c7,2,2,"button",111),e.YNc(7,d7,2,0,"button",112),e.YNc(8,u7,2,0,"button",113),e.YNc(9,p7,2,0,"button",113)),2&n){const t=e.oxw();e.Q6J("ngIf",t.canChangeScheduleStructure&&t.selectedSchedule),e.xp6(1),e.Q6J("ngIf",t.canChangeScheduleStructure&&t.selectedSchedule),e.xp6(1),e.Q6J("ngIf",!t.isTemplateDetails&&t.selectedSchedule&&t.canChangeScheduleStructure&&t.canManageTemplates),e.xp6(1),e.Q6J("ngIf",!t.isTemplateDetails&&t.canChangeScheduleStructure&&t.selectedSchedule&&t.canManageTemplates),e.xp6(1),e.Q6J("ngIf",t.canAssignScheduleEmployees&&t.selectedSchedule),e.xp6(1),e.Q6J("ngIf",!t.isTemplateDetails&&t.canDeleteExistingSchedule&&t.selectedSchedule),e.xp6(1),e.Q6J("ngIf",t.selectedSchedule&&!t.isTemplateDetails&&!t.navigatedFromApprovalDetailsView&&t.canSubmitForApproval&&!t.isSubmitForApprovalDisabled),e.xp6(1),e.Q6J("ngIf",t.selectedSchedule&&t.canChangeApprovedchedules&&t.canUnlock&&!t.unlockedSchedule&&!t.unlockedSubgroupIndicator&&!t.isTemplateDetails),e.xp6(1),e.Q6J("ngIf",t.selectedSchedule&&t.canOfferJob&&!t.isTemplateDetails&&!t.unlockedSubgroupIndicator&&(t.unlockedSchedule||t.canSubmit)),e.xp6(1),e.Q6J("ngIf",t.selectedSchedule&&t.canOfferJob&&!t.isTemplateDetails&&!t.unlockedSubgroupIndicator&&(t.unlockedSchedule||t.canSubmit))}}function h7(n,o){1&n&&e._UZ(0,"mat-divider",128),2&n&&e.Q6J("vertical",!0)}const m7=function(n,o){return{"esolve-toolbar-zero-values ":n,"esolve-toolbar-has-values":o}},HS=function(n){return{highlight:n}},g7=function(n,o){return{"esolve-toolbar-zero-values ":n,"esolve-toolbar-invalid":o}};function _7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",124)(2,"div",125)(3,"label",126),e._uU(4),e.qZA(),e.TgZ(5,"label",127),e._uU(6,"job "),e._UZ(7,"br"),e._uU(8," slots"),e.qZA()(),e._UZ(9,"mat-divider",128),e.TgZ(10,"div",129)(11,"label",130),e._uU(12),e.qZA(),e.TgZ(13,"label",131),e._uU(14,"assigned "),e._UZ(15,"br"),e._uU(16," job slots"),e.qZA()(),e._UZ(17,"mat-divider",128),e.TgZ(18,"div",132)(19,"label",126),e._uU(20),e.qZA(),e.TgZ(21,"label",133),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toolbarFilterClicked("Unassigned Jobs"))}),e._uU(22,"unassigned "),e._UZ(23,"br"),e._uU(24," job slots"),e.qZA()(),e._UZ(25,"mat-divider",128),e.TgZ(26,"div",132)(27,"label",130),e._uU(28),e.qZA(),e.TgZ(29,"label",133),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toolbarFilterClicked("Invalid assignments"))}),e._uU(30,"invalid "),e._UZ(31,"br"),e._uU(32," assignments"),e.qZA()(),e.YNc(33,h7,1,1,"mat-divider",134),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.jobSlots),e.xp6(5),e.Q6J("vertical",!0),e.xp6(2),e.Q6J("ngClass",e.WLB(12,m7,"0"===t.assignedJobs,"0"!==t.assignedJobs)),e.xp6(1),e.Oqu(t.assignedJobs),e.xp6(5),e.Q6J("vertical",!0),e.xp6(1),e.Q6J("ngClass",e.VKq(15,HS,"Unassigned Jobs"===t.activeToolbarFilter)),e.xp6(2),e.Oqu(t.unassignedJobs),e.xp6(5),e.Q6J("vertical",!0),e.xp6(1),e.Q6J("ngClass",e.VKq(17,HS,"Invalid assignments"===t.activeToolbarFilter)),e.xp6(1),e.Q6J("ngClass",e.WLB(19,g7,"0"===t.invalidAssignement,"0"!==t.invalidAssignement)),e.xp6(1),e.Oqu(t.invalidAssignement),e.xp6(5),e.Q6J("ngIf",!t.isTemplateDetails)}}function v7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"mat-button-toggle-group",135,136)(3,"mat-button-toggle",137),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.switchViewType(r))}),e._UZ(4,"i",138),e.qZA(),e.TgZ(5,"mat-button-toggle",139),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.switchViewType(r))}),e._UZ(6,"i",140),e.qZA(),e.TgZ(7,"mat-button-toggle",141,142),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.switchViewType(r))}),e._UZ(9,"i",143),e.qZA()()()}}const b7=function(n){return{leftPanelDetail:n}};function y7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",144),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.switchEmployeeViewType())}),e._UZ(2,"i",145),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(1,b7,t.showLeftPanelDetail))}}function x7(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Timeline Off"),e.qZA())}function C7(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Timeline On"),e.qZA())}const T7=function(n){return{"border-color":n}};function w7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",146),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleTimelineView(null))}),e.YNc(2,x7,2,0,"span",23),e.YNc(3,C7,2,0,"span",23),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(4,T7,t.timelineView?"#1078CF":"grey"))("disabled","Employee"==t.role&&0==t.existingSubGroupsCount&&!t.timelineView),e.xp6(1),e.Q6J("ngIf",!t.timelineView),e.xp6(1),e.Q6J("ngIf",t.timelineView)}}function D7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",147)(1,"div")(2,"label",148),e._uU(3,"Legend"),e.qZA(),e.TgZ(4,"span",149),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.openLegendDialog(r))}),e._UZ(5,"img",150),e.qZA()()()}}function S7(n,o){if(1&n&&(e.TgZ(0,"button",151),e._uU(1," Attendance Confirmation "),e.qZA()),2&n){e.oxw();const t=e.MAs(85);e.Q6J("matMenuTriggerFor",t)}}function k7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",152),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.loneWorkerConfirm())}),e._uU(1," Lone Worker Confirm OK "),e.qZA()}}function A7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.tradeJob(r.selectedJobToTrade))}),e._uU(1," Trade Job "),e.qZA()}}function M7(n,o){1&n&&(e.TgZ(0,"button",153),e._uU(1," View Job Trade Offer "),e.qZA())}function O7(n,o){1&n&&(e.TgZ(0,"div",154)(1,"div",155),e._uU(2,"Auto-Solve In Progress."),e.qZA(),e.TgZ(3,"div",156),e._UZ(4,"div",157),e.qZA()())}function P7(n,o){1&n&&(e.TgZ(0,"div",154)(1,"div",155),e._uU(2,"Deleting schedule..."),e.qZA(),e.TgZ(3,"div",156),e._UZ(4,"div",157),e.qZA()())}function E7(n,o){1&n&&(e.TgZ(0,"div",154)(1,"div",155),e._uU(2,"Deleting subgroup..."),e.qZA(),e.TgZ(3,"div",156),e._UZ(4,"div",157),e.qZA()())}function I7(n,o){1&n&&(e.TgZ(0,"div",154)(1,"div",155),e._uU(2,"Unassigning Employees..."),e.qZA(),e.TgZ(3,"div",156),e._UZ(4,"div",157),e.qZA()())}const N7=function(n){return{"opacity-0":n}},R7=function(n,o){return{"fa-angle-double-left":n,"fa-angle-double-right":o}},BS=function(n){return{height:n}},F7=function(n){return{loading:n}};var An=(()=>{return(n=An||(An={}))[n.noAction=0]="noAction",n[n.checkboxChanged=1]="checkboxChanged",n[n.timelineToggled=2]="timelineToggled",n[n.nextClicked=3]="nextClicked",n[n.prevClicked=4]="prevClicked",n[n.viewTypeChanged=5]="viewTypeChanged",n[n.eventDroped=6]="eventDroped",n[n.expandCollapseClicked=7]="expandCollapseClicked",n[n.filtersApplied=8]="filtersApplied",n[n.dateNavigation=9]="dateNavigation",An;var n})(),No=(()=>{return(n=No||(No={}))[n.updateSize=0]="updateSize",n[n.initScreen=1]="initScreen",n[n.adjustDrop=2]="adjustDrop",n[n.adjustResourceAfterFilter=3]="adjustResourceAfterFilter",No;var n})();let VS=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De,Ge,We,gt,rt,vt,Zt,Ht,Bt,ln,Pn,Jn,kn,mi,wi){this.calendarService=t,this.renderer=i,this.jobService=r,this.dialog=a,this.dialogService=s,this.sidebarService=l,this._submitService=c,this.mediaObserver=u,this.subGroupService=h,this.titleService=x,this._scheduleManagmentService=T,this.datePipe=O,this._datesService=U,this.jobTypeService=re,this._scheduleTrackerService=de,this._copyScheduleDataService=ve,this._userRoleService=Ne,this._permissionsService=De,this._router=Ge,this._notificationsService=We,this._syncService=gt,this._loneWorkerService=rt,this._attendanceService=vt,this._jobOfferService=Zt,this._profileService=Ht,this._employeeService=Bt,this._tradeService=ln,this._location=Pn,this._authService=Jn,this._messageService=kn,this._zone=mi,this._ref=wi,this.resources=[],this.events=[],this.schedules=[],this.showFilterArea=!0,this.userPageTitle="Schedules",this.employeePageTitle="My Schedule",this.dynamicDOMPadding="dynamic-event-padding",this.rangeMode=!1,this.renderedEvents=[],this.shouldExpandAllEvents=!1,this.expandAllButtonCounter=0,this.resourceIdsToExpand=[],this.eventEmployeesToExpand=[],this.overlapLimit=4,this.employeeRenderCount=3,this.subGroupName="",this.contextMenuPosition={x:"0px",y:"0px"},this.tooltipMenuPosition={x:"0px",y:"0px"},this.jobIdsToDelete=[],this.overlappingRenderedEventsResourceIds=[],this.resourcesIdsForLastRenderedRow=[],this.employeeExpandClicked=!1,this.subGroupNameTruncationLimit=6,this.isMobile=!1,this.expandAllIds=[],this.renderedEventsDOM=[],this.loading=!1,this.shouldExpandJobTypes=!1,this.invalidClicked=!1,this.unassignedClicked=!1,this.autoSolveLoading=!1,this.autoSolvePermission=!1,this.name=ox.name,this.isSelectable=!1,this.isEditable=!1,this.indicator=!1,this.onSelectableJobUpdate=new e.vpe,this.sysLocale=window.localStorage.getItem("systemLocale"),this.currentViewType="Timeline",this.defaultView="resourceTimelineWeek",this.resourcesInitiallyExpanded=!0,this.labelInterval="3:00",this.maxTime="24:00",this.minTime="00:00:00",this.eventOverlap=!1,this.slotLabelFormat=["ddd D MMM"],this.slotDuration="24:00",this.timelineView=!1,this.resourceAreaWidth="12%",this.resourceOrder="sortOrder",this.slotWidth=0,this.groupId="id",this.manualEditedHours=!1,this.filterResourcesWithEvents=!0,this.resourceLabelText=" ",this.checkboxChanged=!1,this.draggedEventObject=null,this.counter=0,this.customCalendarViews=null,this.eventRenderSubject=new b.x,this.customViewDays=1,this.payPeriodDays=1,this.eventOrder="sortOrder,title",this.calendarPreferences=new EU,this.isCalendarInitialized=!1,this.jobFilterState=new AS,this.customViewState=new KY,this.customViewValidation="",this.datepickerClicked=!1,this.clicked=!1,this.dateCall=!1,this.headerIsSticky=!1,this.nextDayThreshold="00:01:00",this.role="",this.isMasterAccount=!1,this.canChangeScheduleStructure=!1,this.canAssignScheduleEmployees=!1,this.canSeeScheduleEmployeesNames=!1,this.canSubmitDateRangeForApproval=!1,this.canOfferJob=!1,this.canManageTemplates=!1,this.canCreateNewSchedule=!1,this.canChangeApprovedchedules=!1,this.canDeleteExistingSchedule=!1,this.canConfigureConstraints=!1,this.canConfigureRankings=!1,this.canViewBudgets=!1,this.canAssignFromUnavailable=!1,this.areListsReadOnly=!1,this.areEmployeesAnonymous=!1,this.areJobsEditable=!1,this.subGroupsPermissions=new Array,this.dto=new Aa,this.navigatedFromNotification=!1,this.notificationStartDateForRequest=null,this.notificationEndDateForRequest=null,this.existingSubGroupsCount=0,this.isMonthView=!1,this.scheduleSubgroupFlag=!1,this.heightOfCalendar=window.innerHeight,this.heightOfLeftSide="100%",this.canSubmit=!0,this.canUnlock=!1,this.allSubmitted=!1,this.unlockedSchedule=!1,this.clickedUnlock=!1,this.clickedLock=!1,this.unlockedSubgroupIndicator=!1,this.approvedScheduleDateRanges=new Array,this.approvedSubgroupIds=[],this.jobsInLockedRanges=[],this.viewSubgroupDetails=!1,this.viewedDateRange={start:null,end:null},this.allowNavigation=!0,this.hideDayButton=!1,this.hideWeekButton=!1,this.hideMonthButton=!1,this.hideCustomButton=!1,this.hidePayPeriodButton=!1,this.unlockCounterUtility=0,this.totalUnlockCounter=0,this.totalSubmitCounter=0,this.unlockCounter=0,this.submitCounter=0,this.validCriticalTaskSubmissions=!0,this.subGroupIdsForSubmission=new Array,this.navigatedFromApprovalDetailsView=!1,this.navigatedFromDashboard=!1,this.navigatedFromApprovalResponseNotification=!1,this.navigatedFromApprovalResponseNotificationSamePage=!1,this.approvalDetailsFromDashboard=!1,this.requestId=0,this.subgroupIdFromNavigation=0,this.selectedSubgroupForApproval=[],this.infoWidth=320,this.infoTop=100,this.infoRight=40,this.subGroupsExist=!1,this.subGroupIdsOnLock=[],this.authoriseClicked=!1,this.preventNavigation=!1,this.scheduleStartDate=null,this.scheduleEndDate=null,this._ngUnsubscribe=new b.x,this.lockUnlockFromHeader=!1,this.containsSGId=!0,this.insideSubgroupUnlock=!1,this.listAll=[],this.listAllInNumbers=[],this.listUnselected=[],this.nestedIds=[],this.checkForChangesCalled=!1,this.idsOnScheduleUnlock=[],this.selectedCheckboxesOnSubgroupUnlock=[],this.isSubgroupUnlocked=!1,this.allSubgroups=[],this.isTemplateDetails=!1,this.editSchTempTitle="",this.employeeOnSummaryView=!1,this.employeeSwitchedView=!1,this.notificationJobRefferenceId=0,this.onceFetchEvents=!1,this.listSubscriptions=[],this.getSubGroups=!0,this.unLockedRangeID=0,this.employeeSelectedJobId=0,this.jobHasAttendanceConfirmation=!1,this.jobHasLoneWorker=!1,this.selectedJobToTrade={jobId:0},this.subGroupIdArray=[],this.templateUpdated=!1,this.collapsedCalendar=!1,this.isCompletelySubmitted=!1,this.canSubmitForApproval=!1,this.submitedButNotApproved=!1,this.isScheduleUnlocked=!1,this.isSubmitForApprovalDisabled=!0,this.clickedChangeView=!1,this.employeeClickedNext=!1,this.employeeClickedPrev=!1,this.noNextParams=!1,this.noPrevParams=!1,this.getJobsHttpCallInProgress=!1,this.getSubgroupsHttpCallInProgress=!1,this.subgroupsCallFlagFlipTimeout=500,this.initEmployeeCalendarView=0,this.windowWidth=0,this.shouldOpenJobDetails=!0,this.insertedTemplate=!1,this.contextMenuTargetSubgroupId=0,this.templateWeekNumber=1,this.navigationStart=null,this.navigationEnd=null,this.employeeDidNavigate=!0,this._navigationButtonsTimeoutValue=300,this.subgroups=new Array,this.clickedDeleteSubGroup=!1,this.shouldDisplayEmployeeTradeJob=!1,this.IsJobOfferedForTrade=!1,this.showLoader=!1,this.showSubgroupLoader=!1,this.showUnassignLoader=!1,this.showLeftPanelDetail=!1,this.disableUnassignEmployeeLabel=!1,this.resourceColumns=[{width:50,group:!0,field:"subGroupName"},{labelText:null,field:"title"}],this.calendarOptions={plugins:[AN,M1,P1],schedulerLicenseKey:"0632269509-fcs-1676929351",initialView:this.defaultView,resources:this.resources,events:this.events,editable:this.isEditable,slotDuration:this.slotDuration,slotMinWidth:this.slotWidth,slotLabelFormat:this.slotLabelFormat,slotEventOverlap:!1,eventOverlap:!0,weekNumbers:!0,eventOrder:this.eventOrder,firstDay:this.calendarPreferences.startDayOfTheWeek=this._convertDayStringToNumber(localStorage.getItem("startDayOfWeek")),slotMaxTime:this.maxTime,slotMinTime:this.minTime,resourceAreaWidth:this.resourceAreaWidth,resourceLabelContent:this.resourceLabelText,resourceAreaColumns:this.resourceColumns,resourceAreaHeaderContent:{html:"<tr><th></th></tr>"},filterResourcesWithEvents:this.filterResourcesWithEvents,resourcesInitiallyExpanded:this.resourcesInitiallyExpanded,resourceOrder:this.resourceOrder,selectable:this.isSelectable,unselectAuto:!0,longPressDelay:500,views:{payPeriod:{type:"resourceTimeline",duration:{days:this.payPeriodDays}},customView:{type:"resourceTimeline",duration:{days:this.customViewDays},visibleRange:{start:new Date,end:new Date}}},scrollTime:"00:00:00",headerToolbar:!1,displayEventTime:!0,slotLabelClassNames:this.onDayRender.bind(this),eventDidMount:this.onEventRender.bind(this),resourceLabelDidMount:this.onResourceRender.bind(this),viewDidMount:this.onDatesRender.bind(this),eventDragStart:this.eventDragStart.bind(this),select:this.clickAndDragCreateJob.bind(this),eventDrop:this.onEventDrop.bind(this)},this.pickedDate=null,this.eventRevertClicked=!1,Ge.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&mi.run(()=>this._ref.detectChanges())});const Ni=localStorage.getItem("role"),cn=this._router.getCurrentNavigation();if(cn.extras.state){if(this.navigatedFrom=cn.extras.state.source,"notification"===cn.extras.state.source||"template-details"===cn.extras.state.source||"approval-details"===cn.extras.state.source||"dashboard"===cn.extras.state.source){let Rn,Co;cn.extras.state.jobId&&(this.notificationJobRefferenceId=cn.extras.state.jobId);const ea=cn.extras.state.scheduleID;if("template-details"===cn.extras.state.source?(this.calendarService.scheduleDetailsDisplayed.next(2),Rn=this._datesService.getStartDateOfWeek(W(cn.extras.state.startDate)).format("YYYY-MM-DD"),Co=this._datesService.getEndDateOfWeek(W(cn.extras.state.startDate)).format("YYYY-MM-DD"),this.templateFirstDayFirstWeek=Rn,this.templateLastDayLastWeek=this._datesService.getEndDateOfWeek(W(cn.extras.state.endDate)).format("YYYY-MM-DD")):"notification"===cn.extras.state.source||"approval-details"===cn.extras.state.source||"dashboard"===cn.extras.state.source?("approval-details"===cn.extras.state.source&&this.calendarService.scheduleDetailsDisplayed.next(1),Rn=cn.extras.state.startDate,Co=cn.extras.state.endDate,this.navigationStart=Rn,this.navigationEnd=Co,cn.extras.state.currentView&&(this.navigatedFromApprovalResponseNotification=!0,"dashboard"===cn.extras.state.source&&(this.navigatedFromDashboard=!0),setTimeout(()=>{this.defaultView=cn.extras.state.currentView,this.setUpViewAndButtons(cn.extras.state.currentView,!1)},100),"payPeriod"==cn.extras.state.currentView&&(this.payPeriodCurrentDate=W(cn.extras.state.startDate).clone()))):(this.calendarService.scheduleDetailsDisplayed.next(0),Rn=cn.extras.state.startDate,Co=cn.extras.state.endDate),this.notificationStartDateForRequest=Rn,this.notificationEndDateForRequest=Co,this.startDateForRequest=Rn,this.endDateForRequest=Co,"approval-details"===cn.extras.state.source&&(this.viewedDateRange.start=Rn,this.viewedDateRange.end=Co),"User"==Ni?"template-details"!==cn.extras.state.source&&this.calendarService.onNotificationNavigation.next(ea):this._submitService.sendEvent(new Aa("schedule",null,null)),"approval-details"===cn.extras.state.source||"template-details"===cn.extras.state.source){let _l;"approval-details"===cn.extras.state.source?(this.subgroupIdFromNavigation=cn.extras.state.subGroupId,this.isSelectable=!1,this.isEditable=!1,this.calendarService.navigatedFromApprovalTable.next(1),this.requestId=cn.extras.state.requestId,this.navigatedFromApprovalDetailsView=!0,_l=cn.extras.state.currentView,this.approvalDetailsFromDashboard=cn.extras.state.approvalDetailsFromDashboard):"template-details"===cn.extras.state.source&&(this.userPageTitle="Template",this.subgroupIdFromNavigation=cn.extras.state.subGroupId,this.isSelectable=!1,this.isEditable=!1,this.isTemplateDetails=!0,this.hideMonthButton=!0,this.hideCustomButton=!0,this.hidePayPeriodButton=!0,this.hideMonthButton=!0,this.hideCustomButton=!0,this.hidePayPeriodButton=!0,t.navigatedFromManageTemplateTable.next(1)),this.viewSubgroupDetails=!cn.extras.state.isSchedule,this.setUpViewAndButtons(_l,!0),this.defaultView="resourceTimelineWeek"}}}else cn.extras.replaceUrl&&(this._location.replaceState("/scheduler"),this.sidebarService.sendTemplateIdSidebar(-5),this.calendarService.refetchSchedules.next(0));this.calendarService.subgroupIsUnlocked.subscribe(Rn=>{this.isSubgroupUnlocked=Rn})}_setUpCalendarPreferences(){this.listSubscriptions.push(this._datesService.getDate().subscribe(t=>{this.calendarPreferences.payPeriod=t.payPeriodNumberOfDays,t.isMonthlyPayPeriod&&(this.calendarPreferences.payPeriod=W().daysInMonth()),this.customCalendarViews={payPeriod:{type:"resourceTimeline",duration:{days:this.calendarPreferences.payPeriod}},customView:{type:"resourceTimeline",duration:{days:1}}},this.updateCalenderView(this.calendarPreferences.payPeriod,1),this.calendarPreferences.initialView=this._validateInitialViewPeriod(t),this.calendarPreferences.startDayOfTheWeek=this._convertDayStringToNumber(t.startDayOfWeek),this.calendarPreferences.payPeriodIsMonth=t.isMonthlyPayPeriod,this.calendarPreferences.payPeriodStartDate=wt.IM.formatDateForRequest(W(t.payPeriodStartDate).clone(),wt.IM.dateFormatString),this._timeoutHelper(0,No.initScreen)}))}updateCalenderView(t,i){this.calendarOptions.views.customView.duration={days:i},this.calendarOptions.views.payPeriod.duration={days:t},this.fullCalendar.getApi().setOption("visibleRange",{start:this.defaultView==pt.hx.customView?this.customViewState.customViewCurrentStart:new Date,end:this.defaultView==pt.hx.customView?this.customViewState.customViewCurrentEnd:new Date})}_validateInitialViewPeriod(t){let i=this._convertInitRange(t.scheduleInitialDateRange);return i!==pt.hx.payPeriod||t.payPeriodStartDate&&t.payPeriodNumberOfDays||t.isMonthlyPayPeriod?(this.isTemplateDetails&&"payPeriod"==i&&(i="resourceTimelineWeek"),i):pt.hx.weekView}autoSolve(){if(!this._checkIfScheduleIsSelected())return;if(!(this.selectedCheckboxes.length>0))return void(this.autoSolveLoading=!1);this.autoSolveLoading=!0;const t=(0,wt.pq)(W(this.endDateForRequest).clone().format("Z")),i=W(this.endDateForRequest).set({hour:23-t,minute:59,second:0,millisecond:0}).utc(!0).format();this.calendarService.autoSolve(this.selectedSchedule,this.startDateForRequest,i,this.selectedCheckboxes,null).subscribe(r=>{if(r){window.scrollTo(scrollX,scrollY),this._resetRenderData(),this._fetchEvents(),this._getSubgroupsForSchedule(this.selectedSchedule,!1,!0),this.showDetailViewButton.checked=!0,this.matToogleGroup.value="EmployeeExpanded";const a=new fp.Yh(this.showDetailViewButton,"EmployeeExpanded");this.switchViewType(a),this.autoSolveLoading=!1}else this.dialogService.openConfirmDialog("AutoSolve","Auto Solve needs to change the employees assigned on the inherited Template jobs to meet the schedule requirements. Do you wish to change the employees?").afterClosed().subscribe(s=>{s?this.calendarService.autoSolve(this.selectedSchedule,this.startDateForRequest,i,this.selectedCheckboxes,!0).subscribe(l=>{window.scrollTo(scrollX,scrollY),this._resetRenderData(),this._fetchEvents(),this._getSubgroupsForSchedule(this.selectedSchedule,!1,!0),this.showDetailViewButton.checked=!0,this.matToogleGroup.value="EmployeeExpanded";const c=new fp.Yh(this.showDetailViewButton,"EmployeeExpanded");this.switchViewType(c),this.autoSolveLoading=!1}):this.calendarService.autoSolve(this.selectedSchedule,this.startDateForRequest,i,this.selectedCheckboxes,!1).subscribe(l=>{window.scrollTo(scrollX,scrollY),this._resetRenderData(),this._fetchEvents(),this._getSubgroupsForSchedule(this.selectedSchedule,!1,!0),this.showDetailViewButton.checked=!0,this.matToogleGroup.value="EmployeeExpanded";const c=new fp.Yh(this.showDetailViewButton,"EmployeeExpanded");this.switchViewType(c),this.autoSolveLoading=!1})})})}onDayRender(t){if(this.isTemplateDetails&&"resourceTimelineWeek"==this.tmpView){const i=this.calendarPreferences.startDayOfTheWeek;let r=t.date.getDay()-i+1;return r=r<=0?r+7:r,r>=1&&r<=7?t.text=`Day ${r}`:""}if(this.isTemplateDetails&&"resourceTimelineDay"==this.tmpView){const i=W(this.startOfTheWeek).isoWeekday(),r=7===i?1:1-i,a=W(this.startDateForRequest).add(r,"days"),s=W(a).isoWeekday();return t.text=`Day ${s}`}}onResourceColumnRender(t,i){"Absence"==t.extendedProps.subGroupName&&this.renderer.addClass(i.children[0],"absences-column"),this.renderer.setStyle(i.children[0],"z-index","100000000");let r=0;const a=t.getEvents(),s=this.resources.filter(u=>u.subGroupID===t.extendedProps.subGroupID),l=this._determineResourceStats(a,s);r=1===l.jobTypeCount&&1===l.totalOverlap?6:l.jobTypeCount+l.totalOverlap>=4?t.extendedProps.subGroupName.length:2===l.jobTypeCount||2===l.totalOverlap?16:3===l.jobTypeCount||3===l.totalOverlap?20:4===l.jobTypeCount||4===l.totalOverlap?25:t.extendedProps.subGroupName.length,"Timeline"!==this.currentViewType&&l.maxNumberOfEmp>0&&(r+=6,l.maxNumberOfEmp>=3&&(r=t.extendedProps.subGroupName.length)),this.tooltipTrigger.menu.hasBackdrop=!1,i.children[0].onmouseenter=u=>{this.subGroupName=t.extendedProps.subGroupName,this.tooltipMenuPosition.x=u.x+30+"px",this.tooltipMenuPosition.y=u.y-3+"px",this.tooltipTrigger.openMenu()},i.children[0].onmouseleave=u=>{this.tooltipTrigger.closeMenu()};const c=t.extendedProps.subGroupName.substring(0,r);i.children[0].innerText=c}refreshCalendarOptions(){this.fullCalendar.getApi().setOption("slotDuration",this.slotDuration),this.fullCalendar.getApi().setOption("slotMinWidth",this.slotWidth),this.fullCalendar.getApi().setOption("slotLabelFormat",this.slotLabelFormat),this.fullCalendar.getApi().setOption("resourceAreaWidth",this.resourceAreaWidth),this.fullCalendar.getApi().setOption("editable",this.isEditable),this.fullCalendar.getApi().setOption("selectable",this.isSelectable),"Employee"===this.role&&"Summary"===this.currentViewType?(this.fullCalendar.getApi().setOption("resourceAreaColumns",[]),this.fullCalendar.getApi().setOption("resourceAreaHeaderContent","")):this.fullCalendar.getApi().setOption("resourceAreaColumns",this.resourceColumns)}_convertDayStringToNumber(t){switch(t.toLowerCase()){case"monday":return 1;case"tuesday":return 2;case"wednesday":return 3;case"thursday":return 4;case"friday":return 5;case"saturday":return 6;case"sunday":return 0}}_convertInitRange(t){switch(t.toLowerCase()){case"week":return pt.hx.weekView;case"month":return pt.hx.monthView;case"day":return pt.hx.dayView;case"payperiod":return pt.hx.payPeriod}}_determineResourceStats(t,i){let r=0,a=0;for(const l of t){const c=l.extendedProps,u=t.filter(h=>this.timelineView?!(W(h.extendedProps.jobStartTime).isSameOrAfter(W(c.jobEndTime))||W(h.extendedProps.jobEndTime).isSameOrBefore(W(c.jobStartTime))):W(h.start).isSame(l.start));u.length>r&&(r=u.length),"Timeline"!==this.currentViewType&&c.noOfInvalidAssignedEmployees+c.noOfValidAssignedEmployees>a&&(a=c.noOfInvalidAssignedEmployees+c.noOfValidAssignedEmployees)}const s=[];for(const l of i)s.push(l.jobTypeId);return new ML(a,r,new Set(s).size)}onClick(){this.jobIdsToDelete=[],this.renderedEventsDOM.map(t=>{this._setEventBackgroundColor(t),this.renderer.removeClass(t.el,"highlight")})}onResize(t){const i=t.target.innerHeight;this.windowWidth=t.target.innerWidth,this.infoTop=i<571?30:100,this.windowWidth<600?(this.infoRight=10,this.collapsedCalendar=!0):(this.infoRight=40,this.collapsedCalendar=!1)}mouseOver(t){if("fc-resource-timeline-divider fc-cell-shaded"===t.target.className){const i=document.getElementsByClassName("fc-resource-timeline-divider fc-cell-shaded");if("Employee"==this.role&&"Summary"==this.currentViewType)for(let r=0;r<i.length;r++)this.renderer.setStyle(i[r],"pointer-events","none");else for(let r=0;r<i.length;r++)this.renderer.setStyle(i[r],"pointer-events","auto")}}mouseDown(t){"fc-resource-timeline-divider fc-cell-shaded"===t.target.className&&(this.interval=setInterval(()=>{this.fullCalendar.getApi().updateSize()},50))}mouseUp(t){clearInterval(this.interval)}documentClick(t){t.target.classList.contains("cdk-overlay-backdrop")&&(this.jobIdsToDelete=[])}contextMenu(t){t.target.classList.contains("cdk-overlay-backdrop")&&(t.stopPropagation(),t.preventDefault())}onKeydownHandler(t){this.jobIdsToDelete=[],this.renderedEventsDOM.map(i=>{this._setEventBackgroundColor(i),this.renderer.removeClass(i.el,"highlight")})}onBeforeUnload(){y(this._router.url)&&this._router.navigateByUrl("/scheduler")}openContextMenu(t){t.preventDefault(),t.stopPropagation(),void 0===window.orientation&&this._menuOpener(t.clientX,t.clientY)}onLongTouch(t){if(t.preventDefault(),t.stopPropagation(),void 0===window.orientation)return;let i=0,r=0;t.changedTouches&&t.changedTouches.length?(i=t.changedTouches[0].clientX,r=t.changedTouches[0].clientY):(i=t.clientX,r=t.clientY),setTimeout(()=>{this._menuOpener(i,r)},100)}_menuOpener(t,i){if(this.contextMenuPosition.x=t+"px",this.contextMenuPosition.y=i+"px","User"==this.role){let r=!1;if(this.isTemplateDetails&&this.subGroupsPermissions.forEach(a=>{a.areListsReadOnly&&!a.areJobsEditable&&(r=!0)}),this.isTemplateDetails&&r||this.navigatedFromApprovalDetailsView||!this._checkScheduleSelectorItems())return;this.scheduleMenuTrigger.openMenu()}}onSubgroupUpdate(t){switch(t.action){case"add":this.openDialogAddSubGroup(t.id,t.type,"create",0,t.isTemplate);break;case"edit":this.openDialogAddSubGroup(this.isTemplateDetails?this.selectedSchedule.id:this.selectedSchedule,t.type,"update",t.id,t.isTemplate,t.isFromTemplate);break;case"delete":this.deleteSubGroupDialog(t.id)}}createTemplate(){this.openTemplateDialog()}openTemplateDialog(){!this._checkIfScheduleIsSelected()||(this.dialogRef=this.dialog.open(Px,{autoFocus:!1,disableClose:!0,width:"600px",data:{type:"create",startDate:this.startDateForRequest,endDate:this.endDateForRequest,isSubgroup:!1,id:this.selectedSchedule,selectedSubgroupList:this.selectedCheckboxes},panelClass:["max-height96"]}))}createSchedule(){this.openScheduleDialog(this.selectedSchedule,"create")}openScheduleDialog(t,i){this.dialogRef=this.dialog.open(zu,{autoFocus:!1,disableClose:!0,width:"600px",data:{scheduleEdit:t,FunctionType:i,approvedDateRanges:this.approvedScheduleDateRanges,isTemplate:this.isTemplateDetails,viewedRange:{start:this.startDateForRequest,end:this.endDateForRequest}},panelClass:["max-height96"]})}_checkIfScheduleIsSelected(){return!!this.selectedSchedule||(this._messageService.open("Schedule must be selected."),!1)}editSchedule(){!this._checkIfScheduleIsSelected()||this.openScheduleDialog(this.isTemplateDetails?this.selectedSchedule.id:this.selectedSchedule,"update")}addSubgroup(){!this._checkIfScheduleIsSelected()||this.openDialogAddSubGroup(this.isTemplateDetails?this.selectedSchedule.id:this.selectedSchedule,"schedule","create",0,this.isTemplateDetails)}manageTemplates(){let t;!this._checkIfScheduleIsSelected()||this.calendarService.getSchedules().subscribe(i=>{i.forEach(a=>{a.id===Number(this.selectedSchedule)&&(t=a.name)}),this.dialog.open(IS,{autoFocus:!1,disableClose:!0,data:{id:this.selectedSchedule,name:t},panelClass:["max-height96","max-width1450px"]}).afterClosed().subscribe(a=>{this.insertedTemplate=a.isInserted,this.insertedTemplate&&(this.templateUpdated=!0,this._getSubgroupsForSchedule(this.selectedSchedule,!0,!1))})})}deleteSchedule(){!this._checkIfScheduleIsSelected()||this.deleteScheduleDialog(this.selectedSchedule)}openDialogAddSubGroup(t,i,r,a,s,l){this.dialogRef=this.dialog.open(sR,{autoFocus:!1,disableClose:!0,data:{scheduleEdit:t,Name:i,FunctionType:r,subGroupId:a,approvedDateRanges:this.approvedScheduleDateRanges,viewedRange:{start:this.startDateForRequest,end:this.endDateForRequest},isTemplate:s,isFromTemplate:l,scheduleId:"number"==typeof this.selectedSchedule?this.selectedSchedule:this.selectedSchedule.id},width:"650px",panelClass:["max-height96"]})}onJobUpdate(t){this._getSubgroupsForSchedule(this.selectedSchedule,!1,!0),this._resetRenderData(),this._fetchEvents()}_editJob(t,i,r,a,s){this.openDialogEditJob(t,i,r,a,s)}_viewJobForEmployee(t,i,r){this.openDialogViewJob(t,i,r)}openDialogViewJob(t,i,r){const a=this.dialog.open(NS,{width:"500px",height:"370px",data:{jobId:t,employeeId:i,shouldDisplayEmployeeTradeJob:r}});this.listSubscriptions.push(a.afterClosed().subscribe(()=>{this._fetchEvents()}))}openDialogEditJob(t,i,r,a,s){const l=window.scrollY,c=window.scrollX;window.scroll(0,0);const u=this.dialog.open(kx,{autoFocus:!1,disableClose:!0,data:{jobEdit:t,startDate:r,endDate:a,canAssignFromUnavailable:this.canAssignFromUnavailable,areListsReadOnly:i.areListsReadOnly,areEmployeesAnonymous:i.areEmployeesAnonymous,isJobEditable:i.areJobsEditable,viewOnly:i.viewOnly,cached:this.unlockedSchedule,viewedDateRange:null===this.viewedDateRange.start&&null===this.viewedDateRange.end?{start:this.startDateForRequest,end:this.endDateForRequest}:this.viewedDateRange,currentView:{start:this.startDateForRequest,end:this.endDateForRequest},approvedScheduleDateRanges:this.approvedScheduleDateRanges,isTemplate:s,subGroupID:i.subgroupID,subgroupStartDate:i.subgroupStartDate,subgroupEndDate:i.subgroupEndDate,view:this.defaultView,currentRangeStart:this.startDateForRequest},panelClass:["max-height96","max-width1450px"]});this.listSubscriptions.push(u.afterClosed().subscribe(()=>{window.scrollTo(c,l),this._resetRenderData(),this._fetchEvents(),this._getSubgroupsForSchedule(this.selectedSchedule,!1,!0)}))}deleteJobs(){this.jobService.deleteSelectedJobs(this.jobIdsToDelete,this.unlockedSchedule,this.isTemplateDetails).subscribe(()=>{this.jobIdsToDelete=[],this._resetRenderData(),this._fetchEvents(),this._getSubgroupsForSchedule(this.selectedSchedule,!1,!0)},t=>{this.jobIdsToDelete=[],this._messageService.open(t),this._resetRenderData(),this._fetchEvents(),this._getSubgroupsForSchedule(this.selectedSchedule,!1,!0)})}deleteScheduleDialog(t){this.dialogService.getMessageForDeleteScheduleDialog(t).subscribe(i=>{let r=(0,St.$j)(" Schedule");i&&(r=i,this.dialogService.openConfirmDialog("Delete",r).afterClosed().subscribe(a=>{a&&(this.showLoader=!0,this._scheduleManagmentService.delete(t).subscribe(s=>{this.calendarService.refetchSchedules.next(0),this.selectedSchedule=null,this.calendarService.dataChange.next(new Sh([],!0,[],[],!1,null)),this.scheduleStartDate=null,this.scheduleEndDate=null,this.canUnlock=!1,this.allSubmitted=!1,this.showLoader=!1,this._resetRenderData(),this._fetchEvents(),this._messageService.open("Schedule successfully deleted!")},s=>{this._messageService.open(s),this.showLoader=!1}))}))},i=>{this._messageService.open(i)})}deleteSubGroupDialog(t){this.dialogService.openConfirmDialog("Delete",(0,St.$j)(" Sub Group")).afterClosed().subscribe(i=>{if(i){this.showSubgroupLoader=!0;let r=W(this.startDateForRequest);r.subtract(1,"d");const a=this.datePipe.transform(r.toDate(),"yyyy-MM-dd");this.clickedDeleteSubGroup=!0,this.subGroupService.delete(t,a,this.isTemplateDetails).subscribe(s=>{this._resetRenderData(),this._getSubgroupsForSchedule(this.selectedSchedule,!1,!1),this.showSubgroupLoader=!1},s=>{this._getSubgroupsForSchedule(this.selectedSchedule,!1,!1),this.showSubgroupLoader=!1})}})}openConstraintsDialog(){!this._checkIfScheduleIsSelected()||this.dialog.open(kS,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleId:this.selectedSchedule},panelClass:["max-height96"]})}unassignEmployees(){this.prepareUnassignEmployees(!0,this.selectedSchedule,this.startDateForRequest,this.endDateForRequest)}onUnassignEmployees(t){this.prepareUnassignEmployees(t.isForSchedule,t.entityId,t.startDateForRequest,t.endDateForRequest)}prepareUnassignEmployees(t,i,r,a){this.showUnassignLoader=!0,t?this._scheduleManagmentService.unassignScheduleEmployees(this.isTemplateDetails?this.selectedSchedule.id:i,r,a,this.isTemplateDetails).subscribe(()=>{this._resetRenderData(),this._fetchEvents(),this.showUnassignLoader=!1},s=>{this._messageService.open(s),this.showUnassignLoader=!1}):this.jobService.unassignSubGroupEmployees(i,r,a,this.isTemplateDetails).subscribe(s=>{this.onJobUpdate(s),this.showUnassignLoader=!1},s=>{this._messageService.open(s),this.showUnassignLoader=!1})}toggleFilterArea(){this.showFilterArea=!this.showFilterArea,this._timeoutHelper(10,No.updateSize)}_timeoutHelper(t,i){(0,Cx.F)(t).pipe((0,E1.q)(1)).subscribe(()=>{switch(i){case No.adjustDrop:this.loading=!1,this._resetRenderData();break;case No.initScreen:{let a=this.calendarPreferences.initialView;(this.navigatedFromApprovalDetailsView||this.navigatedFromDashboard||this.navigatedFromApprovalResponseNotification)&&(a=this.defaultView),this.changeCalendarView({value:a}),this._resetStats(),this.isCalendarInitialized=!0;break}case No.updateSize:{const a=this.fullCalendar.getApi();a&&a.updateSize();const s=document.getElementsByClassName("fc-scroller");s&&s.item(3)&&(s.item(3).scrollTop=0);break}case No.adjustResourceAfterFilter:this._refreshResources()}})}_getOverlappingJobsCount(t,i,r){let a=0;for(let s=0;s<i.length;s++)if(this._getResourceIdFromEvent(i[s])===this._getResourceIdFromEvent(t)){const l=W(t.start).clone();let c=W(t.end).clone();const u=W(i[s].start).clone();let h=W(i[s].end).clone();const x=W(t.start).clone().set({hour:0,minute:0,second:0,millisecond:0});let T=W(t.end).clone().set({hour:0,minute:0,second:0,millisecond:0});const O=W(i[s].start).clone().set({hour:0,minute:0,second:0,millisecond:0});let U=W(i[s].end).clone().set({hour:0,minute:0,second:0,millisecond:0});T.isValid()||(T=x.clone()),U.isValid()||(U=O.clone()),c.isValid()||(c=l.clone()),h.isValid()||(h=u.clone()),r?O.isSame(x)&&(u.isSameOrAfter(c)||h.isSameOrBefore(l)||a++):O.isSame(x)&&a++}return a}_getResourceIdFromEvent(t){return t.getResources()[0].id}_setEventBackgroundColor(t){const i=t.el,r=t.event.extendedProps;"Employee"==this.role&&r.offeredForTrade||(this.renderer.setStyle(i,"background-color",r.primaryStatusColor),this.renderer.setStyle(i,"color","white"))}onEventRender(t){const i=t.el;this.navigatedFromApprovalDetailsView&&(i.style.cursor="pointer");const r=t.event.extendedProps,a=r.startDay,s=r.endDay,l=r.subGroupId;let c;this.isCompletelySubmitted&&!this.unlockedSchedule&&this.approvedScheduleDateRanges.forEach(rt=>{const vt=W(rt.startDate).clone(),Zt=W(rt.endDate).clone();(0,wt.$5)(a,s,vt,Zt)&&rt.subGroupID===l&&(this.jobsInLockedRanges.includes(r.jobId)||this.jobsInLockedRanges.push(r.jobId))}),this._setEventBackgroundColor(t),(this.draggedEventObject&&this.draggedEventObject.event.extendedProps.jobId)===t.event.extendedProps.jobId&&(c=0),"Employee"!=this.role&&this.renderer.listen(i,"contextmenu",rt=>{rt.stopPropagation(),rt.preventDefault(),this.contextMenuTargetSubgroupId=0,this.contextMenuTargetSubgroupId=r.subGroupId,this.draggedEventObject?this.eventRevertClicked=!0:(this.contextMenuPosition.x=rt.clientX+"px",this.contextMenuPosition.y=rt.clientY+"px","User"==this.role&&!this.navigatedFromApprovalDetailsView&&this.verifyJobUnlockabilityBasedOnApprovedSchedule(a,s,l)?(this.jobIdsToDelete.includes(r.jobId)||this.jobIdsToDelete.push(r.jobId),this.jobMenuTrigger.openMenu()):(this.employeeSelectedJobId=r.jobId,this.jobHasLoneWorker=r.hasLoneWorker,this.jobHasAttendanceConfirmation=r.hasAttendanceConfirmation,this.shouldDisplayEmployeeTradeJob=!r.offeredForTrade&&r.canBeTraded,this.IsJobOfferedForTrade=r.offeredForTrade&&r.canBeTraded,(this.jobHasLoneWorker||this.jobHasAttendanceConfirmation||this.shouldDisplayEmployeeTradeJob||this.IsJobOfferedForTrade)&&(this.selectedJobToTrade.jobId=r.jobId,this.employeeJobMenuTrigger.openMenu())))}),this.renderer.listen(i,"touchstart",rt=>{rt.stopPropagation(),rt.preventDefault(),this.contextMenuTargetSubgroupId=0,this.contextMenuTargetSubgroupId=r.subGroupId,this.mobileDeviceContextMenuTimeout=setTimeout(()=>{this.mobileDeviceContextMenuInterval=setInterval(()=>{this.shouldOpenJobDetails=!1,this.draggedEventObject?this.eventRevertClicked=!0:(this.contextMenuPosition.x=rt.changedTouches[0].clientX+"px",this.contextMenuPosition.y=rt.changedTouches[0].clientY+"px","User"==this.role&&!this.navigatedFromApprovalDetailsView&&this.verifyJobUnlockability(a,s)?(!this.approvedSubgroupIds.includes(l)||this.approvedSubgroupIds.includes(l)&&this.unlockedSchedule)&&(this.jobIdsToDelete.includes(r.jobId)||this.jobIdsToDelete.push(r.jobId),this.jobMenuTrigger.openMenu()):(this.employeeSelectedJobId=r.jobId,this.jobHasLoneWorker=r.hasLoneWorker,this.jobHasAttendanceConfirmation=r.hasAttendanceConfirmation,(this.jobHasLoneWorker||this.jobHasAttendanceConfirmation||!r.offeredForTrade&&r.canBeTraded)&&(this.selectedJobToTrade.jobId=r.jobId,this.employeeJobMenuTrigger.openMenu()))),clearTimeout(this.mobileDeviceContextMenuTimeout),clearInterval(this.mobileDeviceContextMenuInterval)},50)},600)}),this.renderer.listen(i,"touchend",rt=>{if(this.shouldOpenJobDetails&&"User"==this.role)if(rt.ctrlKey||rt.metaKey)i.classList.contains("highlight")?(this.jobIdsToDelete.includes(r.jobId)&&(this.jobIdsToDelete=this.jobIdsToDelete.filter(vt=>vt!==r.jobId)),this.renderer.removeClass(i,"highlight"),this._setEventBackgroundColor(t)):(this.renderer.removeStyle(i,"background-image"),this.renderer.addClass(i,"highlight"),this.renderer.setStyle(i,"background-color","#1078CF"),this.jobIdsToDelete.includes(r.jobId)||this.jobIdsToDelete.push(r.jobId));else{let vt=!1;this.navigatedFromApprovalDetailsView||!this.unlockedSchedule?(this.navigatedFromApprovalDetailsView||!this.navigatedFromApprovalDetailsView&&this.jobsInLockedRanges.includes(r.jobId))&&(vt=!0):vt=!1,this.subGroupsPermissions.forEach(Zt=>{if(Zt.id==r.subGroupId){const Ht=!this.verifyJobUnlockability(a,s);this._editJob(r.jobId,{areListsReadOnly:Zt.areListsReadOnly,areEmployeesAnonymous:Zt.areEmployeesAnonymous,areJobsEditable:Zt.areJobsEditable,viewOnly:vt||Ht,subgroupID:Zt.id,subgroupStartDate:Zt.subgroupStartDate,subgroupEndDate:Zt.subgroupEndDate},this.startDateForRequest,this.endDateForRequest,this.isTemplateDetails)}})}clearTimeout(this.mobileDeviceContextMenuTimeout),clearInterval(this.mobileDeviceContextMenuInterval),this.shouldOpenJobDetails=!0});let u=!0;"User"==this.role?(this.shouldExpandJobTypes||(u=this.resourceIdsToExpand.includes(this._getResourceIdFromEvent(t.event))),this.renderer.setStyle(i,"display","block")):this.renderer.setStyle(i,"display","block");const h=this._getResourceIdFromEvent(t.event);this.resourcesIdsForLastRenderedRow=[],c===this.overlapLimit&&(this.resourcesIdsForLastRenderedRow=[]),"EmployeeExpanded"===this.currentViewType&&!this.employeeExpandClicked&&(this.eventEmployeesToExpand=this.eventEmployeesToExpand.concat(r.jobId));let x="",T="";const O=this.renderer.createElement("div");this.renderer.listen(i,"mousedown",rt=>{this.unlockedSchedule||this.approvedScheduleDateRanges.forEach(vt=>{(0,wt.$5)(a,s,vt.startDate,vt.endDate)&&vt.subGroupID===l&&(rt.stopPropagation(),rt.preventDefault())})}),this.renderer.listen(i,"click",rt=>{if(rt.stopPropagation(),rt.preventDefault(),"User"==this.role)if(rt.ctrlKey||rt.metaKey)i.classList.contains("highlight")?(this.jobIdsToDelete.includes(r.jobId)&&(this.jobIdsToDelete=this.jobIdsToDelete.filter(vt=>vt!==r.jobId)),this.renderer.removeClass(i,"highlight"),this._setEventBackgroundColor(t)):(this.renderer.removeStyle(i,"background-image"),this.renderer.addClass(i,"highlight"),this.renderer.setStyle(i,"background-color","#1078CF"),this.jobIdsToDelete.includes(r.jobId)||this.jobIdsToDelete.push(r.jobId));else{let vt=r.subGroupId,Zt=!1;this.navigatedFromApprovalDetailsView||!this.unlockedSchedule?(this.navigatedFromApprovalDetailsView||this.jobsInLockedRanges.includes(r.jobId))&&(Zt=!0):Zt=!1,this.subGroupsPermissions.forEach(Ht=>{if(Ht.id==vt){let Bt=!this.verifyJobUnlockability(a,s);this._editJob(r.jobId,{areListsReadOnly:Ht.areListsReadOnly,areEmployeesAnonymous:Ht.areEmployeesAnonymous,areJobsEditable:Ht.areJobsEditable,viewOnly:Zt||Bt,subgroupID:Ht.id,subgroupStartDate:Ht.subgroupStartDate,subgroupEndDate:Ht.subgroupEndDate},this.startDateForRequest,this.endDateForRequest,this.isTemplateDetails)}})}else"Employee"==this.role&&(this.shouldDisplayEmployeeTradeJob=!r.offeredForTrade&&r.canBeTraded,this._viewJobForEmployee(r.jobId,this.loggedUserID,this.shouldDisplayEmployeeTradeJob))});let U=r.noOfRequiredEmployees,re=r.noOfValidAssignedEmployees,de=r.employees,ve=r.noOfInvalidAssignedEmployees;i.innerHTML="";let Ne=this.renderer.createElement("div");if(!this.resourcesIdsForLastRenderedRow.includes(h)||u){if(("Employee"===this.currentViewType||"EmployeeExpanded"===this.currentViewType)&&de&&(Ne=this._determineEmployeesStatus(r,de)),"Employee"!=this.role)T=this._addAssignementInfo(re,ve,U);else{let rt=this.renderer.createElement("div"),vt=this.renderer.createElement("span");this.renderer.addClass(rt,this.dynamicDOMPadding),vt.innerHTML=r.name,this.renderer.appendChild(rt,vt),T=rt;let Zt=this.renderer.createElement("a");this.renderer.addClass(Zt,"fa"),this.renderer.addClass(Zt,"fa-ellipsis-v"),this.renderer.setStyle(Zt,"font-size","10px");let Ht=this.renderer.createElement("button");if(this.renderer.appendChild(Ht,Zt),this.renderer.addClass(Ht,"ellipsis-btn"),this.renderer.appendChild(O,Ht),this.renderer.addClass(O,this.dynamicDOMPadding),this.renderer.setStyle(O,"display","block"),this.renderer.setStyle(O,"margin","3px 0 7px 0"),r.offeredForTrade){let Bt=this.renderer.createElement("i");this.renderer.addClass(Bt,"fa"),this.renderer.addClass(Bt,"fa-refresh"),this.renderer.setStyle(Bt,"font-size","9px");let ln=this.renderer.createElement("span");this.renderer.appendChild(ln,Bt),this.renderer.addClass(ln,"refreshIcon-span"),this.renderer.appendChild(O,ln),this.renderer.addClass(O,this.dynamicDOMPadding)}else if(r.hasAttendanceConfirmation){let Bt=this.renderer.createElement("div");this.renderer.setStyle(Bt,"width","50px"),this.renderer.setStyle(Bt,"display","flex");let ln=this.renderer.createElement("i");this.renderer.addClass(ln,"fa"),this.renderer.addClass(ln,"fa-minus-circle"),this.renderer.setStyle(ln,"font-size","20px");let Pn=this.renderer.createElement("span");this.renderer.appendChild(Pn,ln),this.renderer.addClass(Pn,"minusCircleIcon-span"),this.renderer.appendChild(Bt,Pn);let Jn=this.renderer.createElement("i");this.renderer.addClass(Jn,"fa"),this.renderer.addClass(Jn,"fa-exclamation-triangle"),this.renderer.setStyle(Jn,"font-size","16px"),this.renderer.setStyle(Jn,"color","#dc3545");let kn=this.renderer.createElement("span");this.renderer.appendChild(kn,Jn),this.renderer.addClass(kn,"exclamationIcon-span"),this.renderer.appendChild(Bt,kn),this.renderer.appendChild(O,Bt),this.renderer.addClass(O,this.dynamicDOMPadding)}else{let Bt=this.renderer.createElement("i");this.renderer.addClass(Bt,"fa"),this.renderer.addClass(Bt,"fa-check-circle"),this.renderer.setStyle(Bt,"font-size","20px");let ln=this.renderer.createElement("span");this.renderer.appendChild(ln,Bt),this.renderer.addClass(ln,"check-span"),this.renderer.appendChild(O,ln),this.renderer.addClass(O,this.dynamicDOMPadding)}}x=this.renderer.createElement("div"),this.renderer.setStyle(x,"display","flex"),this.renderer.appendChild(x,T)}let De=this.renderer.createElement(null);if(r.isCriticalTask){De=this.renderer.createElement("div"),this.renderer.setStyle(De,"float","right");let rt=this.renderer.createElement("label");this.renderer.addClass(rt,"criticalTask-label");let vt=this.renderer.createText("C");this.renderer.setStyle(i,"display","inline"),this.renderer.addClass(De,this.dynamicDOMPadding),this.renderer.appendChild(rt,vt),this.renderer.appendChild(De,rt)}let Ge=this.renderer.createElement(null);if(r.isConcurrent){let rt=100!=r.coveragePercentageForConcurrentJob;Ge=this.renderer.createElement("div");let vt=this.renderer.createElement("div");this.renderer.setStyle(Ge,"border-radius","3px"),this.renderer.setStyle(Ge,"float","right"),this.renderer.setStyle(Ge,"width","calc(100% - 35px)"),this.renderer.setStyle(Ge,"height","10px"),this.renderer.setStyle(Ge,"display","flex"),this.renderer.setStyle(vt,"background-color",rt?"#df0018":"#1078CF"),this.renderer.setStyle(vt,"width","100%"),this.renderer.setStyle(vt,"height","10px"),this.renderer.setStyle(vt,"border","1px solid black"),this.renderer.setStyle(i,"display","inline"),this.renderer.addClass(Ge,this.dynamicDOMPadding),this.renderer.appendChild(Ge,vt),this.renderer.appendChild(x,Ge)}this.renderer.setStyle(i,"overflow","hidden"),this.renderer.setStyle(i,"border-radius","5px"),this.renderer.setStyle(i,"display","block");let We=this.renderer.createText(r.eventPeriod),gt=this.renderer.createElement("span");this.renderer.appendChild(gt,We),this.renderer.addClass(gt,this.dynamicDOMPadding),"Employee"==this.role&&i.append(O),r.offeredForTrade&&(this.renderer.setStyle(i,"background-color","var(--eSolve-yellow)"),this.renderer.setStyle(i,"border-color","var(--eSolve-yellow)")),i.append(De),i.append(gt),i.append(x),i.append(Ne),this.renderer.setStyle(i,"margin-bottom","5px"),this.renderedEvents.push(t.event),this.renderedEventsDOM.push(t),this.counter++,this.counter===this.events.length&&this.eventRenderSubject.next(this.counter),"Employee"==this.role&&this.renderer.listen(i.querySelector(".ellipsis-btn"),"click",rt=>{rt.stopPropagation(),rt.preventDefault(),this.contextMenuTargetSubgroupId=0,this.contextMenuTargetSubgroupId=r.subGroupId,this.draggedEventObject?this.eventRevertClicked=!0:(this.contextMenuPosition.x=rt.clientX+"px",this.contextMenuPosition.y=rt.clientY+"px","User"==this.role&&!this.navigatedFromApprovalDetailsView&&this.verifyJobUnlockabilityBasedOnApprovedSchedule(a,s,l)?(this.jobIdsToDelete.includes(r.jobId)||this.jobIdsToDelete.push(r.jobId),this.jobMenuTrigger.openMenu()):(this.employeeSelectedJobId=r.jobId,this.jobHasLoneWorker=r.hasLoneWorker,this.jobHasAttendanceConfirmation=r.hasAttendanceConfirmation,this.shouldDisplayEmployeeTradeJob=!r.offeredForTrade&&r.canBeTraded,this.IsJobOfferedForTrade=r.offeredForTrade&&r.canBeTraded,(this.jobHasLoneWorker||this.jobHasAttendanceConfirmation||this.shouldDisplayEmployeeTradeJob||this.IsJobOfferedForTrade)&&(this.selectedJobToTrade.jobId=r.jobId,this.employeeJobMenuTrigger.openMenu())))})}_determineEmployeesStatus(t,i){let r,a=this.renderer.createElement("div"),s=this.renderer.createElement("div");if(i.length>3){let u,l=T=>{T.stopPropagation(),this.eventEmployeesToExpand.push(t.jobId),this._refreshAfterResize()},c=T=>{this.employeeExpandClicked=!0,T.stopPropagation(),this.eventEmployeesToExpand=this.eventEmployeesToExpand.filter(O=>O!=t.jobId),this._refreshAfterResize()},h=this.renderer.createElement("a");this.eventEmployeesToExpand.includes(t.jobId)?(r=this._prepareEmployeeLabel(i,i.length),this.renderer.listen(h,"click",c),u="Show Less"):(r=this._prepareEmployeeLabel(i,this.employeeRenderCount),this.renderer.listen(h,"click",l),u="View All");let x=this.renderer.createText(u);this.renderer.appendChild(h,x),this.renderer.appendChild(s,h),this.renderer.addClass(s,this.dynamicDOMPadding),this.renderer.setStyle(s,"cursor","pointer")}else r=this._prepareEmployeeLabel(i,this.employeeRenderCount);return this.renderer.appendChild(a,r),this.renderer.appendChild(a,s),a}_addAssignementInfo(t,i,r){let a=this.renderer.createElement("i"),s=this.renderer.createText(t+"/"+r),l=this.renderer.createElement("div");this.renderer.addClass(a,"fa"),this.renderer.addClass(a,"fa-user");let c=this.renderer.createElement("span");this.renderer.appendChild(c,a);let u=this.renderer.createElement("span");if(this.renderer.appendChild(u,s),this.renderer.addClass(u,this.dynamicDOMPadding),this.renderer.appendChild(l,c),this.renderer.appendChild(l,u),this.renderer.addClass(l,this.dynamicDOMPadding),i){let h=this.renderer.createElement("span"),x=this.renderer.createText(i),T=this.renderer.createElement("i");this.renderer.addClass(T,"fa"),this.renderer.addClass(T,"fa-exclamation-triangle"),this.renderer.appendChild(h,T),this.renderer.appendChild(h,x),this.renderer.setStyle(h,"background-color","#df0018"),this.renderer.setStyle(h,"border-radius","3px"),this.renderer.setStyle(h,"padding","0 3px"),this.renderer.setStyle(h,"margin-left","4px"),this.renderer.setStyle(T,"margin-right","3px"),this.renderer.addClass(h,this.dynamicDOMPadding),this.renderer.appendChild(l,h)}return l}_prepareEmployeeLabel(t,i){let r=this.renderer.createElement("div");for(let a=0;a<t.length&&a<i;a++){let s;t&&(s=t[a]);let u,h,l=this.renderer.createElement("div"),c=this.renderer.createElement("img");s?(h=this.renderer.createText(s.nameAndSurname),u=s.image?"data:image/jpg;base64,"+s.image:"assets/images/default-avatar-20.jpg"):(h=this.renderer.createText("-"),u="assets/images/default-avatar-20.jpg"),this.renderer.setAttribute(c,"src",u),this.renderer.setStyle(c,"border-radius","50%"),this.renderer.setAttribute(c,"height","20px"),this.renderer.setAttribute(c,"width","20px");let x=this.renderer.createElement("span");this.renderer.appendChild(x,c);let T=this.renderer.createElement("span");this.renderer.appendChild(T,h),this.renderer.addClass(T,this.dynamicDOMPadding),this.renderer.appendChild(l,x),this.renderer.appendChild(l,T),this.renderer.appendChild(r,l)}return r}_refreshEvents(){this.fullCalendar.getApi().render()}_resetRenderData(){this.renderedEvents=[],this.resourcesIdsForLastRenderedRow=[]}_refreshResources(){this.fullCalendar.getApi().render()}_addZeroToNum(t){return t<10&&t>0?"0"+t:t.toString()}onResourceRender(t){let c,i=this.expandAllIds.includes(t.resource.id),u=this.renderer.createElement("div");this.renderer.addClass(u,this.dynamicDOMPadding);let x,h=this.renderer.createElement("div");i?(c=this.resourceIdsToExpand.includes(t.resource.id)||this.shouldExpandJobTypes?this._createResourceCallbackButtonSpan("fa-minus-circle","Collapse",()=>{this.shouldExpandAllEvents=!1,this.resourceIdsToExpand=this.resourceIdsToExpand.filter(re=>re!==t.resource.id),this.shouldExpandJobTypes=!1,this._refreshAfterResize()}):this._createResourceCallbackButtonSpan("fa-plus-circle","Expand",()=>{this.shouldExpandAllEvents=!1,this.resourceIdsToExpand.push(t.resource.id),this._refreshAfterResize()}),"Employee"==this.role&&this.renderer.setStyle(c,"display","none")):c=this.renderer.createElement(null),x=this.shouldExpandAllEvents?this._createResourceCallbackButtonSpan("fa-minus-circle","Show Less",()=>{this.shouldExpandAllEvents=!1,this.expandAllButtonCounter=0,this.resourceIdsToExpand=[],this._refreshAfterResize()}):this._createResourceCallbackButtonSpan("fa-plus-circle","Expand All",()=>{this.shouldExpandAllEvents=!0,this.expandAllButtonCounter=0;for(let re of this.fullCalendar.getApi().getEvents())this.resourceIdsToExpand.push(this._getResourceIdFromEvent(re));this._refreshAfterResize()}),this.expandAllButtonCounter++,"User"===this.role&&(this.renderer.appendChild(h,x),this.renderer.addClass(h,this.dynamicDOMPadding),fr(".fc-direction-ltr .fc-scroller-harness tr > th "),fr(".fc-direction-ltr .fc-scroller-harness tr > th ").first().first().html(u),fr(".fc-direction-ltr .fc-scroller-harness tr > th ").first().append(x),fr(".fc--direction-ltr .fc-scroller-harness tr > th ").first().css("padding-bottom","3px"),fr(".fc-direction-ltr .fc-scroller-harness tr > th ").first().css("cursor","pointer"),this.renderer.addClass(c,this.dynamicDOMPadding),this.renderer.setStyle(c,"position","absolute"),this.renderer.setStyle(c,"bottom","0"),this.renderer.setStyle(c,"cursor","pointer")),t.el.children[0].innerHTML="";let T=this.renderer.createElement("div"),O=this.renderer.createElement("label"),U=this.renderer.createText("Employee"==this.role&&"Summary"==this.currentViewType?"":t.resource.title);this.renderer.appendChild(O,U),this.renderer.appendChild(T,O),this.renderer.setStyle(T,"white-space","normal"),this.renderer.addClass(O,this.dynamicDOMPadding),t.el.children[0].append(T),t.el.children[0].append(c),this.renderer.setStyle(t.el,"position","relative")}_createResourceCallbackButtonSpan(t,i,r){let a=this.renderer.createElement("i");this.renderer.addClass(a,"fa"),this.renderer.addClass(a,t);let s=this.renderer.createElement("span"),l=this.renderer.createElement("a"),c=this.renderer.createText(i);return this.renderer.setStyle(l,"white-space","normal"),this.renderer.appendChild(l,c),this.renderer.listen(a,"click",r),this.renderer.listen(l,"click",r),this.renderer.setStyle(a,"cursor","pointer"),this.renderer.addClass(l,this.dynamicDOMPadding),this.renderer.appendChild(s,a),this.renderer.appendChild(s,l),s}validateCustomViewRange(){const t=W(),i=W();!t.isSame(i,"day")||(this.customViewMaxRange=W().clone().add(6,"weeks"))}_onSelectedChange(t){this.selectedDateRange=this.selectedDateRange&&this.selectedDateRange.start&&t>this.selectedDateRange.start&&!this.selectedDateRange.end?new On.C0(this.selectedDateRange.start,t):new On.C0(t,null),this.selectedDateRange&&this.selectedDateRange.start&&this.selectedDateRange.end&&this.onDateChange(this.selectedDateRange)}onDateChange(t){if(this.datepickerClicked=!0,this.dateCall=!0,this.defaultView===pt.hx.customView){let i=t.start,r=t.end;if(W(r).clone().diff(W(i).clone(),"days")>42&&(r=W(i).clone().add(42,"days"),this._messageService.open("Custom date range can not exceed 6 weeks.")),W(r).clone().diff(W(i).clone(),"days")<1)return void(this.customViewValidation="Min Custom Date Range is 2 Days");this.customViewValidation="",this.customViewState.customViewDateRange=W(r).clone().diff(W(i).clone(),"days")+1,this.customViewState.customViewDateRange>7&&(this.slotWidth=0),this.customViewState.customViewStart=W(i).clone(),this.customViewState.customViewCurrentStart=W(i).clone(),this.customViewState.customViewCurrentEnd=W(r).clone(),this.viewedDateRange.start=null,this.viewedDateRange.end=null,this.customCalendarViews={payPeriod:{type:"resourceTimeline",duration:{days:this.calendarPreferences.payPeriod}},customView:{type:"resourceTimeline",duration:{days:this.customViewState.customViewDateRange}}},this.updateCalenderView(this.calendarPreferences.payPeriod,this.customViewState.customViewDateRange),this.isTemplateDetails||this._setMonthLabel(i,r,!0),this.fullCalendar.getApi().gotoDate(new Date(i))}else this.defaultView===pt.hx.payPeriod?(this.pickedDate=t,this._prepareDataForView(pt.hx.payPeriod),this.currentDate=t,this.fullCalendar.getApi().gotoDate(new Date(t))):(this.currentDate=t,this.fullCalendar.getApi().gotoDate(new Date(t)));this.renderingInfo=An.dateNavigation,(!this.navigatedFromApprovalDetailsView||!this.navigatedFromApprovalResponseNotification||!this.navigatedFromApprovalResponseNotificationSamePage)&&(this.navigatedFromApprovalResponseNotification=!1,this._setView(this.defaultView))}toggleTimelineView(t,i){this.expandAllButtonCounter=0,this.renderingInfo=An.timelineToggled,this._resetRenderData(),null==t&&this.existingSubGroupsCount>0?this.timelineView=0==this.timelineView:(this.existingSubGroupsCount>0||0==this.existingSubGroupsCount&&this.timelineView)&&(this.timelineView=t),this.onceFetchEvents||this._fetchEvents(),this.onceFetchEvents=!1,0==this.existingSubGroupsCount&&this.resetTimelineDisplay(),"User"==this.role&&0==this.existingSubGroupsCount&&!this.timelineView&&!this.scheduleSubgroupFlag&&"html"!==i&&this._messageService.open("Subgroup must exist."),this.scheduleSubgroupFlag=!1}switchViewType(t){let i=this.currentViewType;this.currentViewType=t.value,i!==this.currentViewType&&(this.renderingInfo=An.viewTypeChanged),this.expandAllButtonCounter=0,this.eventEmployeesToExpand=[],this.employeeExpandClicked=!1,this._resetRenderData(),this._fetchEvents()}switchEmployeeViewType(){this.showLeftPanelDetail=!this.showLeftPanelDetail;let t=this.currentViewType;this.currentViewType=this.showLeftPanelDetail?"Details":"Summary",t!==this.currentViewType&&(this.renderingInfo=An.viewTypeChanged,this.employeeSwitchedView=!0,this.resourceAreaWidth="Summary"==this.currentViewType?"0":"12%"),this.expandAllButtonCounter=0,this.eventEmployeesToExpand=[],this.employeeExpandClicked=!1,this._resetRenderData(),this._getSubgroupsForSchedule(this.selectedSchedule,!0,!1)}openLegendDialog(t){this.dialogRef=this.dialog.open(PU,{autoFocus:!1,width:"320px",height:"150px",panelClass:"legend-dialog-container",position:{top:t.y+30+"px",left:(t.x-250<0?0:t.x-250)+"px"}})}changeCalendarView(t){this.fullCalendar.getApi().setOption("initialView",this.defaultView),this.startOfTheWeek=W(this.templateFirstDayFirstWeek).set({hour:0,minute:0,second:0,millisecond:0}),this.clickedChangeView=!0,this.employeeDidNavigate=!1,this.tmpView=t.value,this.shouldExpandAllEvents=!1,this.templateWeekNumber=1,"resourceTimelineDay"!=t.value&&(this.previousViewType=t.value,"Employee"==this.role&&(this.timelineView=!1)),this.events=[],this.customViewValidation="",this.currentDate=null,this.payPeriodCurrentDate=null,this.renderingInfo=An.viewTypeChanged,this.isMonthView=t.value===pt.hx.monthView,this._setView(t.value)}_setView(t){this.defaultView=t,this._resetRenderData(),this._prepareDataForView(t),this.expandAllButtonCounter=0,(this.noPrevParams||this.noNextParams||"Employee"==this.role&&this.clickedChangeView||this.getSubGroups)&&this._getSubgroupsForSchedule(this.selectedSchedule,!1,!1),this.getSubGroups||(this.getSubGroups=!0)}_prepareDataForView(t){let i,r,a=this.timelineView?this.defaultView===pt.hx.dayView?"01:00":"03:00":"24:00";const s=this.fullCalendar.getApi().getDate();switch(i=W(s).clone(),this.slotDuration=a,t.trim()){case pt.hx.dayView:if(this.isSelectable="User"==this.role&&!this.navigatedFromApprovalDetailsView,this.rangeMode=!1,this.renderingInfo===An.viewTypeChanged&&this.startAndEndDate){let l,c,u;this.navigationStart&&this.navigationEnd?(c=W(W(this.navigationStart).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),u=W(W(this.navigationEnd).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0})):(c=W(W(this.startAndEndDate.start).format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),u=W(W(this.startAndEndDate.end).format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}));let h=W().isBetween(c,u,"day","[]");this.previousViewType===pt.hx.weekView?(l=this.isTemplateDetails?W(this.templateFirstDayFirstWeek):this._datesService.getStartDateOfWeek(c),l=W(l._i).clone()):this.previousViewType===pt.hx.monthView?this.navigatedFromApprovalDetailsView?(l=W(this.startAndEndDate.start).clone(),l=W(l._i).clone()):l=W(this.dateMonthView).clone().startOf("month"):this.previousViewType===pt.hx.customView&&(l=this.startAndEndDate.start),i=this.isTemplateDetails?l:h?W():l,this.previousViewType===pt.hx.monthView&&this.navigatedFromApprovalDetailsView&&(i=l)}else i=W(s).clone();this.navigationStart=null,this.navigationEnd=null,r=i;break;case pt.hx.weekView:{this.isSelectable="User"==this.role&&!this.navigatedFromApprovalDetailsView,this.rangeMode=!1,this.dateWeekView=this.viewedDateRange.start?W(this.viewedDateRange.start).clone():W(s).clone(),this.slotWidth=0,this.dateWeekView=W(s).clone();const l=this.renderingInfo===An.viewTypeChanged;i=this.isTemplateDetails?l?W(this.templateFirstDayFirstWeek):this._datesService.getStartDateOfWeek(W(s)):this._datesService.getStartDateOfWeek(this.viewedDateRange.start?W(this.viewedDateRange.start):l?W():W(s)),r=this._datesService.getEndDateOfWeek(W(i));break}case pt.hx.monthView:{this.isSelectable="User"==this.role&&!this.navigatedFromApprovalDetailsView,this.rangeMode=!1,this.dateMonthView=this.viewedDateRange.start?W(this.viewedDateRange.start).clone():W(s).clone();let l=this._getMonthStartAndEnd(this.dateMonthView);i=l.start,r=l.end,this.slotWidth=0;break}case pt.hx.payPeriod:{this.isSelectable="User"==this.role&&!this.navigatedFromApprovalDetailsView,this.rangeMode=!1,this.slotWidth=0;let l=this._getStartAndEndForPayPeriod();i=l.start,r=l.end,this.fullCalendar.getApi().render();break}case pt.hx.customView:this.isSelectable="User"==this.role&&!this.navigatedFromApprovalDetailsView,this.rangeMode=!0,this._setStartAndEndForCustomView(),i=this.customViewState.customViewCurrentStart,r=this.customViewState.customViewCurrentEnd,this.startDateCustomView=W(i).clone(),this.endDateCustomView=W(r).clone(),this.fullCalendar.getApi().render()}this._resetRenderData(),this.renderingInfo===An.viewTypeChanged&&this.fullCalendar.getApi().changeView(t),this.startAndEndDate={start:W(i).clone(),end:W(r).clone()},null!==this.notificationStartDateForRequest&&null!==this.notificationEndDateForRequest?(this.notStart=this.notificationStartDateForRequest,this.notEnd=this.notificationEndDateForRequest,this._setCurrentDateState(W(this.notStart).clone(),W(this.notEnd).clone()),this.startAndEndDate.start=W(this.startDateForRequest).clone(),this.startAndEndDate.end=W(this.notificationEndDateForRequest).clone(),this.notificationStartDateForRequest=null,this.notificationEndDateForRequest=null):this._setCurrentDateState(i,r)}_getMonthStartAndEnd(t){return{start:W(t).clone().startOf("month"),end:W(t).clone().endOf("month")}}_setStartAndEndForCustomView(){this.renderingInfo===An.nextClicked||this.employeeClickedNext?(this.customViewState.customViewCurrentStart=this.customViewState.customViewCurrentEnd.clone().add(1,"days"),this.customViewState.customViewCurrentEnd=this.customViewState.customViewCurrentEnd.add(this.customViewState.customViewDateRange,"days"),this.employeeClickedNext=!1):this.renderingInfo===An.prevClicked||this.employeeClickedPrev?(this.customViewState.customViewCurrentEnd=W(this.customViewState.customViewCurrentStart).clone().subtract(1,"days"),this.customViewState.customViewCurrentStart=this.customViewState.customViewCurrentStart.subtract(this.customViewState.customViewDateRange,"days"),this.employeeClickedPrev=!1):this.viewedDateRange.start?(this.customViewState.customViewCurrentStart=W(this.viewedDateRange.start).clone(),this.customViewState.customViewCurrentEnd=W(this.viewedDateRange.end).clone(),this.fullCalendar.getApi().gotoDate(new Date(this.viewedDateRange.start))):!this.customViewState.customViewCurrentEnd&&!this.customViewState.customViewCurrentStart&&(this.customViewState.customViewCurrentEnd=W(),this.customViewState.customViewCurrentStart=W(),this.fullCalendar.getApi().gotoDate(new Date))}_getStartAndEndForPayPeriod(){let t,i,r;if(this.calendarPreferences.payPeriodIsMonth){let a;a=null==this.payPeriodCurrentDate?this._determinePayPeriodPosition():this.payPeriodCurrentDate.clone(),this.renderingInfo===An.nextClicked?a=this.payPeriodCurrentDate.clone().add(1,"months"):this.renderingInfo===An.prevClicked&&(a=this.payPeriodCurrentDate.clone().subtract(1,"months")),r=a.daysInMonth()}else r=this.calendarPreferences.payPeriod?this.calendarPreferences.payPeriod:W(this.fullCalendar.getApi().getDate()).daysInMonth();if(this.calendarPreferences.payPeriod=r,this.customCalendarViews={payPeriod:{type:"resourceTimeline",duration:{days:r}},customView:{type:"resourceTimeline",duration:{days:1}}},this.updateCalenderView(r,1),this.renderingInfo===An.nextClicked)this.payPeriodCurrentDate=this.calendarPreferences.payPeriodIsMonth?this.payPeriodCurrentDate.add(1,"months"):this.payPeriodCurrentDate.add(this.calendarPreferences.payPeriod,"days"),this.fullCalendar.getApi().gotoDate(new Date(this.payPeriodCurrentDate)),t=W(this.payPeriodCurrentDate).clone(),i=this._getEndDateForMonthlyPayPeriod();else if(this.renderingInfo===An.prevClicked)this.payPeriodCurrentDate=this.calendarPreferences.payPeriodIsMonth?this.payPeriodCurrentDate.subtract(1,"months"):this.payPeriodCurrentDate.subtract(this.calendarPreferences.payPeriod,"days"),this.fullCalendar.getApi().gotoDate(new Date(this.payPeriodCurrentDate)),t=W(this.payPeriodCurrentDate).clone(),i=this._getEndDateForMonthlyPayPeriod();else{t=this.navigatedFromApprovalResponseNotification||this.navigatedFromDashboard?W(this.navigationStart).clone():this.navigatedFromApprovalResponseNotificationSamePage?W(this.notificationStartDateForRequest).clone():this._determinePayPeriodPosition();let a=this.calendarPreferences.payPeriod;i=W(W(t).clone().add(a,"days")),this.payPeriodCurrentDate=W(t).clone(),this.fullCalendar.getApi().gotoDate(new Date(t))}return{start:t,end:i.subtract(1,"days")}}_getEndDateForMonthlyPayPeriod(){return W(this.calendarPreferences.payPeriodIsMonth?W(this.payPeriodCurrentDate).clone().add(1,"months"):W(this.payPeriodCurrentDate).clone().add(this.calendarPreferences.payPeriod,"days"))}_determinePayPeriodPosition(){let r,t=W(this.calendarPreferences.payPeriodStartDate).clone(),i=this.calendarPreferences.payPeriod;if(this.calendarPreferences.payPeriodIsMonth){let a=W().diff(t,"months");r=W(t).clone().add(a,"months")}else{let a;a=this.pickedDate?this.pickedDate.diff(t,"days"):W().diff(t,"days");let s=Math.floor(a/i);r=W(t).clone().add(s*i,"days")}return r}_setCurrentDateState(t,i){let r=this.oldStart,a=this.oldEnd;this.startDateForRequest="approval-details"===this.navigatedFrom?wt.IM.formatDateTimeForRequest(W(t).clone(),wt.IM.dateTimeFormatString):wt.IM.formatDateForRequest(W(t).clone(),wt.IM.dateFormatString),this.endDateForRequest=wt.IM.formatDateForRequest(W(i).clone(),wt.IM.dateFormatString),W(t).isBefore(W(a))&&W(i).isAfter(a),!W(t).isSame(W(r))&&!W(i).isSame(a)&&(this.isTemplateDetails||this._setMonthLabel(t,i,this.defaultView===pt.hx.customView),this.dateCall&&this._fetchEvents()),(this.defaultView===pt.hx.dayView||this.renderingInfo===An.viewTypeChanged)&&this.fullCalendar.getApi().gotoDate(new Date(t)),this.calendarService.dateRangesData.next({approvedScheduleDateRanges:this.approvedScheduleDateRanges,viewedDateRange:{start:this.startDateForRequest,end:this.endDateForRequest}}),this._timeoutHelper(100,No.updateSize)}_setMonthLabel(t,i,r){if(r)this.monthLabels=wt.IM.formatDateForRequest(t,wt.IM.customViewDateFormatString)+"-"+wt.IM.formatDateForRequest(i,wt.IM.customViewDateFormatString);else{let a=t.clone().format("MMMM"),s=i.clone().format("MMMM"),l=t.clone().format("YYYY"),c=i.clone().format("YYYY");a===s?this.monthLabels=a+" "+l:(a=t.clone().format("MMM"),s=i.clone().format("MMM"),this.monthLabels=l===c?a+"\xa0\xa0\u2014\xa0\xa0"+s+" "+l:a+" "+l+"\xa0\xa0\u2014\xa0\xa0"+s+" "+c)}}showPreviousDate(){if(this.noPrevParams=!1,this.setOldDates(),this.updateStartEndDates("prev"),this.allowNavigation){let t=this._prepareRequestParams();if(this.renderingInfo=An.prevClicked,this.isTemplateDetails&&("resourceTimelineDay"==this.tmpView?(this.currentDay=W(this.startDateForRequest).set({hour:0,minute:0,second:0,millisecond:0}),this.currentDay.isBefore(this.startOfTheWeek)&&(this.templateWeekNumber-=1,this.startOfTheWeek=W(W(this.startOfTheWeek).subtract(7,"days")).format("YYYY-MM-DD"))):this.templateWeekNumber-=1),!t){this.noPrevParams=!0;const i=this.fullCalendar.getApi().view.type;return this.fullCalendar.getApi().prev(),this.defaultView!==pt.hx.payPeriod&&(this.renderingInfo=An.noAction),"Employee"==this.role&&this.defaultView==pt.hx.customView&&(this.renderingInfo=An.prevClicked),void this._setView(i)}"Employee"==this.role&&this.updateEmployeeNavigation("prev"),this._updateSubgroupsOnNavigation()}else this.allowNavigation=!0;this.navigationStart=null,this.navigationEnd=null}showNextDate(){if(this.noNextParams=!1,this.setOldDates(),this.updateStartEndDates("next"),this.allowNavigation){let t=this._prepareRequestParams();if(this.renderingInfo=An.nextClicked,this.isTemplateDetails&&("resourceTimelineDay"==this.tmpView?(this.currentDay=W(this.startDateForRequest).set({hour:0,minute:0,second:0,millisecond:0}),this.currentDay.diff(this.startOfTheWeek,"days")>=7&&(this.startOfTheWeek=this.currentDay,this.templateWeekNumber+=1)):this.templateWeekNumber+=1),!t){this.noNextParams=!0;const i=this.fullCalendar.getApi().view.type;return this.fullCalendar.getApi().next(),this.defaultView!==pt.hx.payPeriod&&(this.renderingInfo=An.noAction),"Employee"==this.role&&this.defaultView==pt.hx.customView&&(this.renderingInfo=An.nextClicked),void this._setView(i)}"Employee"==this.role&&this.updateEmployeeNavigation("next"),this._updateSubgroupsOnNavigation()}else this.allowNavigation=!0;this.navigationStart=null,this.navigationEnd=null}ngOnInit(){this.getRole(),"Employee"==this.role&&(this.resourceAreaWidth="0",this.currentViewType="Summary"),this.getLoggedUserProfile(),this.getLoggedUserID(),this.message=St.yw,this.editSchTempTitle=this.isTemplateDetails?"Edit Template":"Edit Schedule",this.getJobTypes(),this._setUpCalendarPreferences(),this.calendarService.refetchSchedules.next(0),this.titleService.sendTitle("User"==this.role?this.userPageTitle:this.employeePageTitle),this.scheduleMenuDeviceContextMenuSubscription(),this.listSubscriptions.push(this._submitService.getEvent().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{switch(this.isTemplateDetails=t.isTemplate,t.type){case"schedule":"create"===t.action?(this.calendarService.refetchSchedules.next(t.payload),this._permissionsService.changeScheduleIDindicator(t.payload),this.subGroupsExist=!1):this.calendarService.refetchSchedules.next(t.payload),this.selectedSchedule=this.isTemplateDetails?t.payload.id:t.payload,"User"==this.role&&this._scheduleManagmentService.getById(this.selectedSchedule,this.isTemplateDetails).subscribe(i=>{this.templateLastDayLastWeek=this._datesService.getEndDateOfWeek(W(i.endDate)).format("YYYY-MM-DD"),this.scheduleStartDate=(0,wt.a0)(i.startDate),this.scheduleEndDate=(0,wt.a0)(i.endDate),this.calendarService.onGetScheduleData.next({start:this.scheduleStartDate,end:this.scheduleEndDate}),this.onScheduleChange(t.payload),this._getSubgroupsForSchedule(t.payload,!0,!1)});break;case"subgroup":this._getSubgroupsForSchedule(this.selectedSchedule,!0,!1)}this._fetchEvents()})),"Employee"==this.role&&this._submitService.sendEvent(new Aa("schedule",null,null)),this.inerWidth(),this.calculateHeightOfCalendar(),this.calendarService.requestFiltersChange.subscribe(t=>{this.jobFilterState=t}),"User"==this.role&&!this.navigatedFromApprovalDetailsView&&(this.isEditable=!0),this.setSchedulePermissions(),this.dateRangeSubmissionSubscription=this.calendarService.dateRangeSubmitted.subscribe(()=>{this._getSubgroupsForSchedule(this.selectedSchedule,!1,!1)}),this.subGroupUnlockSubscription=this.calendarService.unlockedLockedSubgroup.subscribe(t=>{this.selectedSGIdCheckbox=t.id,this.containsSGId=this.selectedCheckboxes.includes(this.subgroupID);let i=t.id;"unlock"===t.action&&(this.lockUnlockFromHeader=!1,this.containsSGId?(this.clickedUnlock=!0,this.insideSubgroupUnlock=!0,this.viewedDateRange.start=this.startDateForRequest,this.viewedDateRange.end=this.endDateForRequest,this.calendarService.dateRangesData.next({approvedScheduleDateRanges:this.approvedScheduleDateRanges,viewedDateRange:this.viewedDateRange}),this.setUpViewAndButtons(this.defaultView,!0),this.subgroupIdFromNavigation=i,this.unlockedSubgroupIndicator=!0,this.viewSubgroupDetails=!0,this.nestedIds=[],this.nestedIds.push(this.subgroupIdFromNavigation),this.listAll.forEach(a=>{a.entity.id===this.subgroupIdFromNavigation&&this._collectNestedIds(a,!1)}),this.selectedCheckboxesOnSubgroupUnlock=this.nestedIds,this._getSubgroupsForSchedule(this.selectedSchedule,!1,!1),this.calendarService.sendIsInUnlocked(!0)):(this.calendarService.sendIsInUnlocked(!1),this._messageService.open("Subgroup checkbox must be selected.")))}),"Employee"==this.role&&this._employeeAttendanceActionFromNotificationSubscription(),this._authService.shouldDisableGuard.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.preventNavigation=!1}),this._userRoleService.refetchPermissions.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.setUpPermissionVariables()})}getRole(){this._userRoleService.loggedUserRole.subscribe(t=>{this.role=t})}getLoggedUserProfile(){this._userRoleService.loggedUserProfile.subscribe(t=>{this.profileId=t}),""!==this.profileId?this._profileService.getAutoSolvePermission().subscribe(t=>{this.autoSolvePermission=t,this.autoSolvePermission?this._profileService.getProfileAutoSolvePermission(Number(this.profileId)).subscribe(i=>{this.autoSolvePermission=i}):this.autoSolvePermission=!0}):this.autoSolvePermission=!0}getLoggedUserID(){this._userRoleService.loggedUserId.subscribe(t=>{this.loggedUserID=t,this.isMasterAccount=this.loggedUserID<0})}setSchedulePermissions(){"User"===this.role?(this._permissionsService.canChangeStructure.subscribe(t=>{this.canChangeScheduleStructure=t}),this._permissionsService.canAssignEmployees.subscribe(t=>{this.canAssignScheduleEmployees=t}),this._permissionsService.canSeeEmployeesNames.subscribe(t=>{this.canSeeScheduleEmployeesNames=t}),this._permissionsService.canSubmitDateRangeForApproval.subscribe(t=>{this.canSubmitDateRangeForApproval=t}),this._permissionsService.canOfferJob.subscribe(t=>{this.canOfferJob=t})):(this.canChangeScheduleStructure=!1,this.canAssignScheduleEmployees=!1,this.canSeeScheduleEmployeesNames=!1,this.canSubmitDateRangeForApproval=!1,this.canOfferJob=!1),setTimeout(()=>{this.setUpPermissionVariables()},200)}onFilterUpdate(t){this.fullCalendar&&(t.JobStatuses&&(t.JobStatuses.length>1||t.JobStatuses[0]!==this.activeToolbarFilter)&&(this.activeToolbarFilter=""),this.jobFilterState=t,this.shouldExpandJobTypes=!!this._checkIfFiltersAreActive(t),this.renderingInfo=An.filtersApplied,this._resetRenderData(),this._fetchEvents())}selectedSGId(t){this.subgroupID=t}_checkIfFiltersAreActive(t){let i=""!==t.StartFrom||""!==t.StartTo||""!==t.EndFrom||""!==t.EndTo;return i||i||t.EmployeeIds&&t.EmployeeIds.length>0||t.JobTypeIds&&t.JobTypeIds.length>0||t.JobStatuses&&t.JobStatuses.length>0||t.Days&&t.Days.length>0}onFilterCollapse(t){this._timeoutHelper(100,No.updateSize)}toolbarFilterClicked(t){this.activeToolbarFilter=t,this.jobFilterState.JobStatuses=[],this.jobFilterState.JobStatuses.push(t),this.calendarService.requestFiltersChange.next(this.jobFilterState),this.renderingInfo=An.filtersApplied,this._resetRenderData(),this._fetchEvents()}inerWidth(){this.windowWidth=window.innerWidth,this.isMobile=window.innerWidth<425}closeTemplate(){this.listSubscriptions.forEach(t=>{t.unsubscribe()}),this._router.navigate(["/user-manage-templates"])}ngAfterViewInit(){this.fullCalendar.getApi().setOption("locale",this.sysLocale),this.fullCalendar.getApi().setOption("nextDayThreshold",this.nextDayThreshold),fr(".fc-widget-content .fc-major").css("background-color","red"),this.listSubscriptions.push(this.calendarService.shouldRenderCalendar.subscribe(t=>{this._resetRenderData(),this._fetchEvents()})),this.listSubscriptions.push(this.sidebarService.statusChange.pipe((0,n3.g)(200)).subscribe(()=>{this._refreshAfterResize()})),this.mediaObserver.asObservable().subscribe(t=>{"xs"===t[0].mqAlias||"sm"===t[0].mqAlias||window.innerWidth<=425?(this.slotWidth=0,this.fullCalendar.getApi()&&this.fullCalendar.getApi().render()):"resourceTimelineWeek"===this.defaultView&&(this.slotWidth=0)}),this.selectedScheduleSubscription=this.calendarService.onSelectedSchedule.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{t.type===pt.hx.selectedSchedule?(!this.isTemplateDetails&&t.payload>0&&this._scheduleManagmentService.getById(t.payload,this.isTemplateDetails).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.scheduleStartDate=(0,wt.a0)(i.startDate),this.scheduleEndDate=(0,wt.a0)(i.endDate),this.calendarService.onGetScheduleData.next({start:this.scheduleStartDate,end:this.scheduleEndDate}),this.onScheduleChange(t.payload)}),this.isTemplateDetails&&this.onScheduleChange(t.payload)):void 0===window.orientation&&(this.enableDisableLabel(),this.openContextMenu(t.payload))}),this.copyScheduleSubscription=this._copyScheduleDataService.receiveSignal().subscribe(()=>{let t=new OS;t.id=Number(this.isTemplateDetails?this.selectedSchedule.id:this.selectedSchedule),t.startDate=this.startDateForRequest,t.endDate=this.endDateForRequest,t.isTemplate=this.isTemplateDetails,t.isSubgroup=!1,t.subgroupIDs=this.selectedCheckboxes,this._copyScheduleDataService.copyDataForward(t,this.isTemplateDetails).subscribe(i=>{i&&(this._copyScheduleDataService.sendResponse(i),i.totalJobTypeBrokenRules>0||i.totalOfConstraintsBrokenRules>0?(this.dialogRef=this.dialog.open(MS,{disableClose:!0,data:{isTemplate:this.isTemplateDetails},autoFocus:!1,width:"685px",panelClass:["max-height96"]}),this.dialogRef.afterClosed().subscribe(r=>{},r=>{this._messageService.open(r)},()=>{this._messageService.open("Data Copied")})):this._messageService.open(i))},i=>{this._messageService.open(i)})}),this.copySubgroupSubscription=this._copyScheduleDataService.receiveSignalSubgroup().subscribe(t=>{let i=new OS;i.id=t,i.startDate=this.startDateForRequest,i.endDate=this.endDateForRequest,i.isTemplate=this.isTemplateDetails,i.isSubgroup=!0,i.subgroupIDs=this.selectedCheckboxes,this._copyScheduleDataService.copyDataForward(i,this.isTemplateDetails).subscribe(r=>{r&&(this._copyScheduleDataService.sendResponse(r),r.totalJobTypeBrokenRules>0||r.totalOfConstraintsBrokenRules>0?(this.dialogRef=this.dialog.open(MS,{disableClose:!0,data:{isTemplate:this.isTemplateDetails},autoFocus:!1,width:"685px",panelClass:["max-height96"]}),this.dialogRef.afterClosed().subscribe(a=>{})):this._messageService.open(r))},r=>{this._messageService.open(r)})}),this.checkboxClickSubscription=this.calendarService.checkboxClickedChange.pipe((0,X.b)(300),(0,Gi.x)()).subscribe(t=>{if(t.length||(this._resetStats(),fr(".fc-direction-ltr .fc-scroller-harness tr > th").first().children("span").css("visibility","hidden"),fr(".fc-direction-ltr .fc-scroller-harness tr > th ").first().css("cursor","auto"),this.expandAllButtonCounter=0),this.selectedCheckboxes=this._getSelectedIDs(t),this.unlockedSubgroupIndicator){let i=[];this.selectedCheckboxes.forEach(r=>{i.push(r)}),this.selectedCheckboxesOnSubgroupUnlock=i}this.resourcesIdsForLastRenderedRow=[],this._fetchEvents()}),this.checkboxSubscription=this.calendarService.checkboxChange.pipe((0,X.b)(300),(0,Gi.x)()).subscribe(t=>{if(t.length||(this._resetStats(),fr(".fc-direction-ltr .fc-scroller-harness tr > th").first().children("span").css("visibility","hidden"),fr(".fc-direction-ltr .fc-scroller-harness tr > th ").first().css("cursor","auto"),this.expandAllButtonCounter=0),this.selectedCheckboxes=this._getSelectedIDs(t),this.unlockedSubgroupIndicator){let i=[];this.selectedCheckboxes.forEach(r=>{this.nestedIds.includes(r)&&i.push(r)}),this.selectedCheckboxesOnSubgroupUnlock=i}this.resourcesIdsForLastRenderedRow=[],this.scheduleTracker=this._scheduleTrackerService.checkSelectedSchedule(this.selectedSchedule),this.selectedCheckboxes&&(0===this.selectedCheckboxes.length&&(this.clicked=!0,this.dateCall=!1),this.insertedTemplate&&(this.clicked=!0,this.insertedTemplate=!1)),("new"===this.scheduleTracker||this.clicked||this.noNextParams||this.noPrevParams)&&(this.noPrevParams=!1,this.noNextParams=!1,("User"==this.role||"Employee"==this.role&&this.initEmployeeCalendarView>0)&&("Employee"==this.role&&0==this.initEmployeeCalendarView&&(this.initEmployeeCalendarView+=1),this._fetchEvents())),this.datepickerClicked&&this._fetchEvents()}),this.eventRenderSubscription=this.eventRenderSubject.subscribe(()=>{this._timeoutHelper(0,No.adjustDrop),this._timeoutHelper(100,No.updateSize)}),this.samePageNavigationByNotificationSubscription=this._notificationsService.notificationOnCurrentPage.subscribe(t=>{this.navigatedFromApprovalResponseNotificationSamePage=!0,this.notificationStartDateForRequest=t.startDate,this.notificationEndDateForRequest=t.endDate,t.jobId&&(this.notificationJobRefferenceId=t.jobId),"User"==this.role?(this.calendarService.onNotificationNavigation.next(t.scheduleID),t.currentView&&(this.defaultView=t.currentView,t.currentView==pt.hx.payPeriod&&(this.payPeriodCurrentDate=t.startDate),this.setUpViewAndButtons(t.currentView,!1),this.changeCalendarView({value:t.currentView}))):(this._submitService.sendEvent(new Aa("schedule",null,null)),this._setView(this.defaultView)),this._updateSubgroupsOnNavigation()}),this.initInfoWindowVariables(),this.calendarService.subgroupIdToUnlock.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.selectedSGId(t)}),setTimeout(()=>{this.fullCalendar.getApi().setOption("firstDay",this.calendarPreferences.startDayOfTheWeek),this.updateCalenderView(this.calendarPreferences.payPeriod,1)},150)}_refreshAfterResize(){this._resetRenderData(),this._refreshEvents(),this._refreshResources()}onScheduleChange(t){t&&this.fullCalendar&&(this.selectedSchedule=t,this._permissionsService.changeScheduleIDindicator(this.selectedSchedule),this.resources=[],this.events=[],this.scheduleSubgroupFlag=!0,this._getSubgroupsForSchedule(this.selectedSchedule,!0,!1),this.fullCalendar.getApi()&&this.fullCalendar.getApi().render())}checkIfNodeSelected(t){this.listAllInNumbers.includes(t.entity.id)||(this.listAllInNumbers.push(t.entity.id),t.childNodes.length>0&&t.childNodes.forEach(i=>{this.checkIfNodeSelected(i)}))}_getSubgroupsForSchedule(t,i,r){let a=null;if(this.renderingInfo==An.prevClicked?a=An.prevClicked:this.renderingInfo==An.nextClicked&&(a=An.nextClicked),this.isTemplateDetails){if(!t)return;this.getSubgroupsHttpCallInProgress=!0,this.calendarService.sendIsTemplateSignal(this.isTemplateDetails),this.listSubscriptions.push(this.calendarService.getSubgroupsByTemplateSchedulerId(t.id,this.startDateForRequest,this.endDateForRequest).subscribe(s=>{if(this.existingSubGroupsCount=s.subGroups.length,this.clickedChangeView&&this.manageTimelineToggling(),0==this.existingSubGroupsCount&&this.scheduleSubgroupFlag&&this.toggleTimelineView(!1),a&&(this.renderingInfo=a),this.subGroupsPermissions=[],this.checkTemplateSubGroupsPermissions(s.subGroups,t),s.subGroups&&s.subGroups.length&&(this.clicked=!1),r)this.calendarService.dataChange.next(new Sh(null,i,s.jobTypeFilter,s.employeeFilter,!1,this.defaultView));else{let l=null;l=this.calendarService.buildResourceTree(s.subGroups,null,!1,this.defaultView),this.employees=s.employeeFilter,this.calendarService.dataChange.next(new Sh(l,i,s.jobTypeFilter,s.employeeFilter,!1,this.defaultView)),this.resourceIdsToExpand=[]}this.clickedChangeView=!1,(!this.getSubGroups||this.isTemplateDetails)&&(this.clickedDeleteSubGroup?setTimeout(()=>{this._fetchEvents()},320):this._fetchEvents(),this.clickedDeleteSubGroup=!1),this.scheduleSubgroupFlag=!1,setTimeout(()=>{this.getSubgroupsHttpCallInProgress=!1},this.subgroupsCallFlagFlipTimeout)},s=>{setTimeout(()=>{this.getSubgroupsHttpCallInProgress=!1},this.subgroupsCallFlagFlipTimeout)}))}else{if("User"==this.role&&!t)return;this.getSubgroupsHttpCallInProgress=!0,this.listSubscriptions.push(this.calendarService.getSubgroupsBySchedulerId("User"==this.role?t:0,this.startDateForRequest,this.endDateForRequest,"User"==this.role?0:this.loggedUserID).subscribe(s=>{if(null!==s.isCompletelySubmitted&&(this.isCompletelySubmitted=s.isCompletelySubmitted,this.isCompletelySubmitted||(this.viewedDateRange.start=null,this.enableAllNavigationButtons())),this.isScheduleUnlocked=s.isScheduleUnlocked,this.canSubmitForApproval=s.canSubmitForApproval,this.submitedButNotApproved=s.submitedButNotApproved,this.isSubmitForApprovalDisabled=s.isSubmitForApprovalDisabled,this.subGroupsPermissions=[],this.subGroupIdArray=[],s.subGroups&&s.subGroups.length&&(this.allSubgroups=s.subGroups,this.extractSubgroupIds(s.subGroups)),"Employee"==this.role&&(this.selectedCheckboxes=this.subGroupIdArray),this.totalUnlockCounter=0,this.totalSubmitCounter=0,this.unlockCounter=0,this.submitCounter=0,this.subGroupsPermissions=[],this.approvedSubgroupIds=[],this.canSubmit=!0,this.approvedScheduleDateRanges=new Array,this.approvedScheduleDateRanges=s.approvedDateTimes,this.calendarService.dateRangesData.next({approvedScheduleDateRanges:this.approvedScheduleDateRanges,viewedDateRange:this.viewedDateRange}),this.existingSubGroupsCount=s.subGroups.length,"User"==this.role&&(this.clickedChangeView&&this.manageTimelineToggling(),0==this.existingSubGroupsCount&&this.scheduleSubgroupFlag&&this.toggleTimelineView(!1)),this.checkSubGroupsPermissions(s.subGroups),this.checkSubgroupsSubmissionState(s.subGroups),s.subGroups&&(s.subGroups.length?(this.subgroups=s.subGroups,this.clicked=!1,this.canUnlock=this.totalUnlockCounter===this.unlockCounter,this.allSubmitted=this.totalSubmitCounter===this.submitCounter,this.subGroupsExist=!0,this.unlockedSchedule=this.isScheduleUnlocked):(this.canSubmit=!1,this.canUnlock=!1,this.subGroupsExist=!1,this.unlockedSchedule=!1)),r)this.calendarService.dataChange.next(new Sh(null,i,s.jobTypeFilter,s.employeeFilter,this.navigatedFromApprovalDetailsView,this.defaultView));else{let l=null;this.selectedSubgroupForApproval=[],this.subgroupIdFromNavigation>0&&this.getViewedSubgroupId(s.subGroups,this.subgroupIdFromNavigation),l=this.calendarService.buildResourceTree(this.subgroupIdFromNavigation>0&&this.viewSubgroupDetails?this.selectedSubgroupForApproval:s.subGroups,null,this.navigatedFromApprovalDetailsView,this.defaultView),this.employees=s.employeeFilter,this.calendarService.dataChange.next(new Sh(l,i,s.jobTypeFilter,s.employeeFilter,this.navigatedFromApprovalDetailsView,this.defaultView)),this.resourceIdsToExpand=[]}this.unlockedSubgroupIndicator&&(this.unlockCounterUtility+=1,this.unlockCounterUtility<2&&this.unlockDateRange(!0)),"Employee"==this.role&&(this.employeeSwitchedView||this.clickedChangeView)&&(this.employeeSwitchedView=!1,this.clickedChangeView=!1),"User"==this.role?(!this.getSubGroups||this.templateUpdated||this.clickedChangeView||this.clickedDeleteSubGroup)&&(this.clickedChangeView=!1,this.templateUpdated=!1,this.clickedDeleteSubGroup?setTimeout(()=>{this._fetchEvents()},320):this._fetchEvents(),this.clickedDeleteSubGroup=!1):(this.defaultView===pt.hx.dayView?(this.isMonthView=!1,this.toggleTimelineView(this.existingSubGroupsCount>0)):this.defaultView===pt.hx.monthView?(this.isMonthView=!0,this.toggleTimelineView(!1)):(this.isMonthView=!1,this.toggleTimelineView(!1)),this.renderedEventsDOM=[],this.timelineView?(this.slotDuration=this.defaultView===pt.hx.dayView?"01:00":"03:00",this.slotLabelFormat=["ddd D MMM","h"]):(this.slotDuration="24:00",this.slotLabelFormat=["ddd D MMM"]),a&&this.renderingInfo!==An.prevClicked&&this.renderingInfo!==An.nextClicked&&(this.renderingInfo=a,a=null)),this.scheduleSubgroupFlag=!1,setTimeout(()=>{this.getSubgroupsHttpCallInProgress=!1},this.subgroupsCallFlagFlipTimeout)},s=>{setTimeout(()=>{this.getSubgroupsHttpCallInProgress=!1},this.subgroupsCallFlagFlipTimeout)}))}}enableDisableLabel(){if(this.isCompletelySubmitted&&!this.isScheduleUnlocked||0===this.events.length)this.disableUnassignEmployeeLabel=!0;else{if(this.isCompletelySubmitted&&this.isScheduleUnlocked||0===this.selectedCheckboxes.length)return this.disableUnassignEmployeeLabel=!1;var t=W(this.startDateForRequest),i=W(this.endDateForRequest);for(let r of this.events)if(!this.jobsInLockedRanges.includes(r.jobId)&&r.startDay.clone().isSameOrAfter(t)&&r.endDay.clone().isSameOrBefore(i))return this.disableUnassignEmployeeLabel=!1;this.disableUnassignEmployeeLabel=!0}}eventDragStart(t){this.counter=0,this.draggedEventObject=t}onEventDrop(t){this.eventRevertClicked?(t.revert(),this._resetRenderData(),this._refreshEvents(),this.eventRevertClicked=!1):this._validateEventInterval(t)}_allowRender(){this.draggedEventObject=null,this._resetRenderData(),this._fetchEvents(),this._refreshResources()}_validateEventInterval(t){this.jobService.getById(t.event.extendedProps.jobId,this.unlockedSchedule,this.isTemplateDetails).subscribe(i=>{this.jobDrag=i;let a,s,l,h,x,r=this._getResourceForEvent(t.event),c=W(t.event.start).clone().format("Z"),u=(0,wt.pq)(c);if(this.timelineView){h=W(t.event.start).clone().utc(!1).add(u,"hours").toISOString(),x=W(t.event.end).clone().utc(!1).add(u,"hours").toISOString();let Ne=(0,wt.E3)(h),De=(0,wt.E3)(x);l=(0,wt.E3)((0,wt.gr)(W(t.event.end).clone().add(u,"hours").clone().toISOString())),a=Ne,s=W(t.event.end).isValid()?De:(0,wt.wo)(W(a),l)}else h=W(t.event.start).format("YYYY-MM-DD"),x="00:00:00"===t.event.extendedProps.jobEndTime?W(t.event.end).format("YYYY-MM-DD"):W(W(t.event.end).subtract(1,"days")).format("YYYY-MM-DD"),a=(0,wt.wo)(h,t.event.extendedProps.jobStartTime),s=W(t.event.end).isValid()?(0,wt.wo)(x,t.event.extendedProps.jobEndTime):(0,wt.wo)(h,t.event.extendedProps.jobEndTime);let T,O,U,re,de=!0;if(t.newResource){T=t.newResource.extendedProps.jobTypeId,O=t.newResource.extendedProps.subGroupID,U=W(t.newResource.extendedProps.startDate).clone();let De=t.newResource.extendedProps.endDate.split(" ")[0]+" 23:59:59.0000000";re=W(De).clone()}else{T=r[0].extendedProps.jobTypeId,O=r[0].extendedProps.subGroupID,U=W(r[0].extendedProps.startDate).clone();let De=r[0].extendedProps.endDate.split(" ")[0]+" 23:59:59.0000000";re=W(De).clone()}this.calculateTemplateDay(a),W(a).clone().isBefore(U)&&(this.eventValidation="Job Start Date Must Be Compatible With SubGroup Start Date",de=!1,this.draggedEventObject=null),W(s).clone().isAfter(re)&&(this.eventValidation="Job End Date Must Be Compatible With SubGroup End Date",de=!1,this.draggedEventObject=null),this.approvedScheduleDateRanges.length&&(this.unlockedSchedule||this.approvedScheduleDateRanges.forEach(Ne=>{(0,wt.$5)(a,s,Ne.startDate,Ne.endDate)&&Ne.subGroupID===O&&(this.eventValidation="Cannot Place Job in Approved Date Range",de=!1,this.draggedEventObject=null)})),this._updateEventAfterDrag(this.eventValidation,{id:t.event.extendedProps.jobId,jobStartDateTime:a,jobEndDateTime:s,day:this.templateDay,hours:this.jobDrag.hours,manualEditedHours:this.jobDrag.manualEditedHours,subGroupID:O,NoOfEmployeesRequired:t.event.extendedProps.noOfRequiredEmployees,SortOrder:t.event.extendedProps.sortOrder,name:t.newResource?t.newResource.extendedProps.jobName:t.event.extendedProps.name,shiftID:this.jobDrag.shiftID,jobStatusID:t.event.extendedProps.jobStatusId,JobTypeID:T,isCriticalTask:t.event.extendedProps.isCriticalTask,isConcurrent:t.event.extendedProps.isConcurrent,coveragePercentageForConcurrentJob:t.event.extendedProps.coveragePercentageForConcurrentJob,referenceArea:t.event.extendedProps.referenceArea,isDragAndDropChanged:!0,hours1:this.jobDrag.hours1,hours2:this.jobDrag.hours2,hours3:this.jobDrag.hours3,hours4:this.jobDrag.hours4,hours5:this.jobDrag.hours5,hours6:this.jobDrag.hours6,manualEditedHours1:this.jobDrag.manualEditedHours1,manualEditedHours2:this.jobDrag.manualEditedHours2,manualEditedHours3:this.jobDrag.manualEditedHours3,manualEditedHours4:this.jobDrag.manualEditedHours4,manualEditedHours5:this.jobDrag.manualEditedHours5,manualEditedHours6:this.jobDrag.manualEditedHours6,isCached:this.unlockedSchedule,numberOfValidAssigned:this.jobDrag.numberOfValidAssigned,numberOfInvalidAssigned:this.jobDrag.numberOfInvalidAssigned,allowedTrade:this.jobDrag.allowedTrade,manualEditedAllowedTrade:this.jobDrag.manualEditedAllowedTrade,loneWorkerJob:this.jobDrag.loneWorkerJob,loneWorkerRecurringIntervals:this.jobDrag.loneWorkerRecurringIntervals,loneWorkerResponseWindow:this.jobDrag.loneWorkerResponseWindow,manuallyEditedLoneWorkerJob:this.jobDrag.manuallyEditedLoneWorkerJob,manuallyEditedReccuringIntervals:this.jobDrag.manuallyEditedReccuringIntervals,manuallyEditedResponseWindow:this.jobDrag.manuallyEditedResponseWindow,comment:t.event.extendedProps.comment},t,de)})}contextMenuOnCalendar(t){t.preventDefault(),this.draggedEventObject&&(this.eventRevertClicked=!0)}_updateEventAfterDrag(t,i,r,a){this.loading=!0,a?this.calendarService.updateEventAfterDrag(i,i.id,this.isTemplateDetails).subscribe(()=>{this.renderingInfo=An.eventDroped,this.draggedEventObject=null,this._fetchEvents(),setTimeout(()=>{this.loading=!1},500)},s=>{this._allowRender(),this.loading=!1,r.revert()}):(a||this._messageService.open(t),this.loading=!1,r.revert())}_getResourceForEvent(t){return t.getResources()}onDatesRender(t){this._resetRenderData(),this.expandAllButtonCounter=0}_prepareRequestParams(){if(!this.selectedCheckboxes||!this.selectedCheckboxes.length)return null;let t=this.clickedUnlock.toString(),i="User"==this.role?0:this.loggedUserID,r=(new Y.LE).set(pt.hx.calendarRequestParams.startDate,this.startDateForRequest).set(pt.hx.calendarRequestParams.endDate,this.endDateForRequest).set(pt.hx.calendarRequestParams.viewType,this.currentViewType).set(pt.hx.calendarRequestParams.startFrom,""!==this.jobFilterState.StartFrom?this.jobFilterState.StartFrom:pt.hx.defaultTime).set(pt.hx.calendarRequestParams.startTo,""!==this.jobFilterState.StartTo?this.jobFilterState.StartTo:""!==this.jobFilterState.StartFrom?this.jobFilterState.StartFrom:pt.hx.defaultTime).set(pt.hx.calendarRequestParams.endTo,""!==this.jobFilterState.EndTo?this.jobFilterState.EndTo:""!==this.jobFilterState.EndFrom?this.jobFilterState.EndFrom:pt.hx.defaultTime).set(pt.hx.calendarRequestParams.endFrom,""!==this.jobFilterState.EndFrom?this.jobFilterState.EndFrom:pt.hx.defaultTime).set("Cached",this.unlockedSchedule.toString()).set("Unlock",t).set("UnlockedRangeID",this.unLockedRangeID?this.unLockedRangeID.toString():"0").set("EmployeeID",i.toString());return this.clickedUnlock=!1,this.insideSubgroupUnlock?this.selectedSubgroupsBeforeUnlock=this.selectedCheckboxes:this.nestedIds.length&&(this.selectedSubgroupsBeforeUnlock=this.nestedIds),this.unlockedSubgroupIndicator?this.checkForChangesCalled||this.selectedCheckboxesOnSubgroupUnlock.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.subGroupIds,a.toString())}):this.navigatedFromApprovalResponseNotificationSamePage?this.subGroupIdArray.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.subGroupIds,a.toString())}):this.subGroupIdsOnLock.length>0?this.checkForChangesCalled?this.lockUnlockFromHeader?this.idsOnScheduleUnlock.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.subGroupIds,a.toString())}):this.selectedSubgroupsBeforeUnlock.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.subGroupIds,a.toString())}):this.lockUnlockFromHeader?this.selectedCheckboxes.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.subGroupIds,a.toString())}):this.listAllInNumbers.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.subGroupIds,a.toString())}):this.selectedCheckboxes.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.subGroupIds,a.toString())}),this.jobFilterState.Days&&this.jobFilterState.Days.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.daysList,a.toString())}),this.jobFilterState.EmployeeIds&&this.jobFilterState.EmployeeIds.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.employees,a.toString())}),this.jobFilterState.JobTypeIds&&this.jobFilterState.JobTypeIds.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.jobTypes,a.toString())}),this.jobFilterState.JobStatuses&&this.jobFilterState.JobStatuses.forEach(a=>{r=r.append(pt.hx.calendarRequestParams.jobStatusList,a.toString())}),this.clickedLock=!1,this.insideSubgroupUnlock=!1,r}_isSameEventData(t){let i=t.filter(r=>this.events.find(a=>a.jobId===r.jobId));return t.length===this.events.length&&i.length===t.length}_fetchEvents(){this.listAll=[],this.allSubgroups&&this.allSubgroups.length&&(this.allSubgroups.forEach(r=>{this.listAll.includes(this.listAll.find(a=>a.entity.id===r.entity.id))||this.listAll.push(r),r.childNodes.length&&this._collectNestedIds(r,!0)}),this.listAll.forEach(r=>{this.checkIfNodeSelected(r)})),this.expandAllIds=[],this.jobIdsToDelete=[],this.counter=0;let t=this._prepareRequestParams(),i=0;if(!t)return this.resources=[],void("Employee"==this.role&&(this.navigateEmployee(this.employeeDidNavigate),this.employeeDidNavigate=!1,this.refreshCalendarOptions()));this.draggedEventObject=null,this.getJobsHttpCallInProgress=!0,this.listSubscriptions.push(this.isTemplateDetails?this.calendarService.getEventsForTemplateSchedulerAjax(t).subscribe(r=>{let a=r.Jobs;a.length&&(this.clicked=!1),this.dateCall=!1;let s=r.JobTypes,l=0,c=0,u=0,h=[];if(this.existingSubGroupsCount>0){let O=[];a.forEach(U=>{let re=new eS(this.timelineView,U.jobTypeID,U.id,U.sortOrder,U.subGroupID,U.subGroupName,U.jobName,U.status,U.jobStartDateTime,U.jobEndDateTime,U.noOfRequiredEmployees,U.noOfValidAssignedEmployees,U.noOfInvalidAssignedEmployees,U.statusColor,U.employees,this.currentViewType,!this.timelineView,U.primaryStatusColor,U.jobStatusID,U.isCriticalTask,U.isConcurrent,U.coveragePercentageForConcurrentJob,U.referenceArea,U.hours1?U.hours1:null,U.hours2?U.hours2:null,U.hours3?U.hours3:null,U.hours4?U.hours4:null,U.hours5?U.hours5:null,U.hours6?U.hours6:null,!!U.manualEditedHours1&&U.manualEditedHours1,!!U.manualEditedHours2&&U.manualEditedHours2,!!U.manualEditedHours3&&U.manualEditedHours3,!!U.manualEditedHours4&&U.manualEditedHours4,!!U.manualEditedHours5&&U.manualEditedHours5,!!U.manualEditedHours6&&U.manualEditedHours6,U.hasLoneWorker,U.hasAttendanceConfirmation,U.offeredForTrade,U.canBeTraded,U.comment);l+=U.noOfInvalidAssignedEmployees,c+=U.noOfValidAssignedEmployees,u+=U.noOfRequiredEmployees,U.noOfValidAssignedEmployees>=U.noOfRequiredEmployees||(i+=U.noOfRequiredEmployees-U.noOfValidAssignedEmployees-U.noOfInvalidAssignedEmployees),h.push(re)}),O=s,a.forEach(U=>{O.forEach(re=>{U.jobName==re.jobName&&U.subGroupID==re.subGroupID&&U.jobTypeId==re.jobTypeId&&(re.sortOrder=U.sortOrder)})}),O.map(U=>{U.title=U.jobName,U.jobTypeId=Number(U.id),U.id=U.subGroupName+U.subGroupID+U.id+U.jobName,U.truncatedSubGroupName=U.subGroupName})}let x=this.fullCalendar.getApi(),T=this._isSameEventData(h);x&&this.fullCalendar.getApi().batchRendering(()=>{switch(this.renderedEvents=[],this.events=h,this.resources=s,this.calendarOptions.events=this.events,this.calendarOptions.resources=this.resources,this.fullCalendar.getApi().render(),this.renderingInfo){case An.viewTypeChanged:this._timeoutHelper(10,No.updateSize);break;case An.eventDroped:this._resetRenderData(),this._refreshResources();break;case An.nextClicked:{this.renderedEventsDOM=[];const O=this.fullCalendar.getApi().view.type;this.fullCalendar.getApi().next(),this._setView(O);break}case An.prevClicked:{this.renderedEventsDOM=[];const O=this.fullCalendar.getApi().view.type;this.fullCalendar.getApi().prev(),this._setView(O);break}case An.timelineToggled:this.renderedEventsDOM=[],this.timelineView?(this.slotDuration=this.defaultView===pt.hx.dayView?"01:00":"03:00",this.slotLabelFormat=["ddd D MMM","h"]):(this.slotDuration="24:00",this.slotLabelFormat=["ddd D MMM"]);break;case An.filtersApplied:T?(this._resetRenderData(),this._refreshEvents()):this._timeoutHelper(0,No.adjustResourceAfterFilter)}this.renderingInfo=An.noAction}),this._resetStats(),this.invalidAssignement=this._addZeroToNum(l),this.assignedJobs=this._addZeroToNum(c),this.jobSlots=this._addZeroToNum(u),this.unassignedJobs=this._addZeroToNum(i),"Employee"==this.role&&(this.clickedChangeView=!1),this.getJobsHttpCallInProgress=!1},r=>{this.getJobsHttpCallInProgress=!1}):this.calendarService.getEventsForSchedulerAjax(t).subscribe(r=>{let a=r.Jobs;this.unLockedRangeID=r.UnLockedRangeID,a.length&&(this.clicked=!1),this.dateCall=!1;let s=[];s=r.JobTypes;let l=0,c=0,u=0,h=[];if(this.existingSubGroupsCount>0){let T=[];if(a.forEach(O=>{let U=new eS(this.timelineView,O.jobTypeID,O.id,O.sortOrder,O.subGroupID,O.subGroupName,O.jobName,O.status,O.jobStartDateTime,O.jobEndDateTime,O.noOfRequiredEmployees,O.noOfValidAssignedEmployees,O.noOfInvalidAssignedEmployees,O.statusColor,O.employees,this.currentViewType,!this.timelineView,O.primaryStatusColor,O.jobStatusID,O.isCriticalTask,O.isConcurrent,O.coveragePercentageForConcurrentJob,O.referenceArea,O.hours1?O.hours1:null,O.hours2?O.hours2:null,O.hours3?O.hours3:null,O.hours4?O.hours4:null,O.hours5?O.hours5:null,O.hours6?O.hours6:null,!!O.manualEditedHours1&&O.manualEditedHours1,!!O.manualEditedHours2&&O.manualEditedHours2,!!O.manualEditedHours3&&O.manualEditedHours3,!!O.manualEditedHours4&&O.manualEditedHours4,!!O.manualEditedHours5&&O.manualEditedHours5,!!O.manualEditedHours6&&O.manualEditedHours6,O.hasLoneWorker,O.hasAttendanceConfirmation,O.offeredForTrade,O.canBeTraded,O.comment);"Employee"==this.role&&"Summary"==this.currentViewType&&(U.resourceId="1"),W(O.jobStartDateTime).isSameOrAfter(W(this.startDateForRequest))&&(l+=O.noOfInvalidAssignedEmployees,c+=O.noOfValidAssignedEmployees,u+=O.noOfRequiredEmployees,O.noOfValidAssignedEmployees>=O.noOfRequiredEmployees||(i+=O.noOfRequiredEmployees-O.noOfValidAssignedEmployees-O.noOfInvalidAssignedEmployees)),h.push(U)}),"User"==this.role){let O=[];this.validCriticalTaskSubmissions=!0;for(let U=0;U<a.length;U++)a[U].isCriticalTask&&a[U].noOfValidAssignedEmployees<a[U].noOfRequiredEmployees&&(this.validCriticalTaskSubmissions=!1,O.includes(a[U].subGroupID)||O.push(a[U].subGroupID));this.calendarService.invalidCriticalTaskSubgroupIds.next(O.length?O:0)}T=s,a.forEach(O=>{T.forEach(U=>{O.jobName==U.jobName&&O.subGroupID==U.subGroupID&&O.jobTypeId==U.jobTypeId&&(U.sortOrder=O.sortOrder)})}),T.map(O=>{O.title=O.jobName,O.jobTypeId=Number(O.id),O.id="Employee"==this.role&&"Summary"==this.currentViewType?"1":O.subGroupName+O.subGroupID+O.id+O.jobName,O.truncatedSubGroupName=O.subGroupName})}const x=this._isSameEventData(h);this.fullCalendar.getApi()&&this.fullCalendar.getApi().batchRendering(()=>{switch(this.renderedEvents=[],this.events=h,this.resources=s,this.calendarOptions.events=this.events,this.calendarOptions.resources=this.resources,this.renderingInfo){case An.viewTypeChanged:this._timeoutHelper(10,No.updateSize);break;case An.eventDroped:this._resetRenderData(),this._refreshResources();break;case An.nextClicked:{this.renderedEventsDOM=[];const T=this.fullCalendar.getApi().view.type;"Employee"==this.role&&this.noNextParams||(this.noNextParams=!1,this.fullCalendar.getApi().next(),this._setView(T));break}case An.prevClicked:{this.renderedEventsDOM=[];const T=this.fullCalendar.getApi().view.type;"Employee"==this.role&&this.noPrevParams||(this.noPrevParams=!1,this.fullCalendar.getApi().prev(),this._setView(T));break}case An.timelineToggled:this.renderedEventsDOM=[],this.timelineView?(this.slotDuration=this.defaultView===pt.hx.dayView?"01:00":"03:00",this.slotLabelFormat=["ddd D MMM","h"]):(this.slotDuration="24:00",this.slotLabelFormat=["ddd D MMM"]);break;case An.filtersApplied:x?(this._resetRenderData(),this._refreshEvents()):this._timeoutHelper(0,No.adjustResourceAfterFilter)}this.renderingInfo=An.noAction,this.refreshCalendarOptions()}),this._resetStats(),this.invalidAssignement=this._addZeroToNum(l),this.assignedJobs=this._addZeroToNum(c),this.jobSlots=this._addZeroToNum(u),this.unassignedJobs=this._addZeroToNum(i),this.getJobsHttpCallInProgress=!1,setTimeout(()=>{this.navigatedFromApprovalResponseNotificationSamePage=!1},2*this._navigationButtonsTimeoutValue)},r=>{this.getJobsHttpCallInProgress=!1}))}_resetStats(){this.invalidAssignement="0",this.assignedJobs="0",this.jobSlots="0",this.unassignedJobs="0",this.targetRulesNotReached="0"}_getSelectedIDs(t){let i=[];for(let r of t)i.push(r.id);return i}ngOnDestroy(){this.calendarService.navigatedFromApprovalTable.next(0),this.listSubscriptions.forEach(t=>{t.unsubscribe()}),this.selectedScheduleSubscription.unsubscribe(),this.checkboxSubscription.unsubscribe(),this.checkboxClickSubscription.unsubscribe(),this.eventRenderSubscription.unsubscribe(),this.copyScheduleSubscription.unsubscribe(),this.copySubgroupSubscription.unsubscribe(),this.samePageNavigationByNotificationSubscription.unsubscribe(),this._scheduleTrackerService.resetTracker(),this.calendarService.dataChange.next(new Sh([],!0,[],[],!1,null)),this.dateRangeSubmissionSubscription.unsubscribe(),this.subGroupUnlockSubscription.unsubscribe(),this.calendarService.navigatedFromApprovalTable.next(3),this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}openRankingsDialog(t){t?(this.dialogRef=this.dialog.open(L0,{disableClose:!0,autoFocus:!1,width:"650px",data:{scheduleId:t},panelClass:["max-height96"]}),this.dialogRef.afterClosed().subscribe(i=>{})):this._messageService.open("Schedule must be selected.")}copyToDate(t){let i={subgroupStartDate:"",subgroupEndDate:""};this.subGroupsPermissions.forEach(r=>{r.id==this.contextMenuTargetSubgroupId&&(i.subgroupStartDate=r.subgroupStartDate,i.subgroupEndDate=r.subgroupEndDate)}),this._zone.run(()=>{const r=this.dialog.open(dq,{autoFocus:!1,disableClose:!0,data:{jobId:this.jobIdsToDelete,selectedType:t,cached:this.unlockedSchedule,isTemplate:this.isTemplateDetails,startDate:this.startDateForRequest,subgroupStartDate:i.subgroupStartDate,subgroupEndDate:i.subgroupEndDate,view:this.defaultView},width:"650px",panelClass:["max-height96"]});this.listSubscriptions.push(r.afterClosed().subscribe(a=>{a&&(this._resetRenderData(),this._fetchEvents(),this._getSubgroupsForSchedule(this.selectedSchedule,!1,!0))}))})}openDialogAddJob(t,i){const r=window.scrollY,a=window.scrollX;window.scroll(0,0),this.dialog.open(kx,{autoFocus:!1,disableClose:!0,data:{dragSelect:t,isJobEditable:!0,startDate:this.startDateForRequest,endDate:this.endDateForRequest,canAssignFromUnavailable:this.canAssignFromUnavailable,areListsReadOnly:i.areListsReadOnly,areEmployeesAnonymous:i.areEmployeesAnonymous,cached:this.unlockedSchedule,viewedDateRange:null===this.viewedDateRange.start&&null===this.viewedDateRange.end?{start:this.startDateForRequest,end:this.endDateForRequest}:this.viewedDateRange,currentView:{start:this.startDateForRequest,end:this.endDateForRequest},approvedScheduleDateRanges:this.approvedScheduleDateRanges,isTemplate:this.isTemplateDetails,subgroupStartDate:i.subgroupStartDate,subgroupEndDate:i.subgroupEndDate,day:i.day,view:this.defaultView},panelClass:["max-height96","max-width1450px"]}).afterClosed().subscribe(()=>{window.scrollTo(a,r),this.onSelectableJobUpdate.emit(),this._resetRenderData(),this._fetchEvents(),this._getSubgroupsForSchedule(this.selectedSchedule,!1,!0)})}addZero(t){return t<10&&(t="0"+t),t}getJobTypes(){this.jobTypeService.getAll().subscribe(t=>{this.jobList=t})}updateJobName(t){return this.jobList.filter(r=>r.id==t)[0].name}calculateTemplateDay(t){const i=W(W(t).format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),r=W(W("resourceTimelineDay"===this.defaultView?this.startOfTheWeek:this.startDateForRequest).format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),a=W(W(W("resourceTimelineDay"===this.defaultView?this.startOfTheWeek:this.startDateForRequest).add(1,"days")).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),s=W(W(W("resourceTimelineDay"===this.defaultView?this.startOfTheWeek:this.startDateForRequest).add(2,"days")).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),l=W(W(W("resourceTimelineDay"===this.defaultView?this.startOfTheWeek:this.startDateForRequest).add(3,"days")).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),c=W(W(W("resourceTimelineDay"===this.defaultView?this.startOfTheWeek:this.startDateForRequest).add(4,"days")).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),u=W(W(W("resourceTimelineDay"===this.defaultView?this.startOfTheWeek:this.startDateForRequest).add(5,"days")).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),h=W(W(W("resourceTimelineDay"===this.defaultView?this.startOfTheWeek:this.startDateForRequest).add(6,"days")).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0});r.isSame(i)?this.templateDay=1:a.isSame(i)?this.templateDay=2:s.isSame(i)?this.templateDay=3:l.isSame(i)?this.templateDay=4:c.isSame(i)?this.templateDay=5:u.isSame(i)?this.templateDay=6:h.isSame(i)&&(this.templateDay=7)}clickAndDragCreateJob(t){if("User"==this.role){let i=!0;if(this.subgroups.forEach(s=>{if(s.entity.id==t.resource.extendedProps.subGroupID&&!s.entity.canChangeSubGroupStructure){i=!1;let l=this.fullCalendar.getApi();l&&l.unselect()}}),!i)return;let r=W(W(t.resource.extendedProps.startDate).set({hour:0,minute:0,second:0,millisecond:0})).format("YYYY-MM-DD");"Invalid date"==r&&(r=t.resource.extendedProps.startDate.split(" "),r=W(r,"DD/MM/YYYY").format("YYYY-MM-DD"));let a=W(W(t.resource.extendedProps.endDate).set({hour:23,minute:59,second:59,millisecond:0})).format("YYYY-MM-DD");if("Invalid date"==a&&(a=t.resource.extendedProps.endDate.split(" "),a=W(a,"DD/MM/YYYY").format("YYYY-MM-DD")),this.calculateTemplateDay(t.startStr),this.timelineView){let s=W(t.start).clone().format("Z"),l=(0,wt.pq)(s),c=(0,wt.gr)(W(t.end).add(l,"hours").toISOString()),u=W(t.start).clone(),h=W(t.end).clone(),x=c.split(":").shift(),T=h.clone();"00"===x&&(h=W(h).add(-1,"days").clone(),c=(0,wt.gr)(W(t.end).add(l,"hours").add(-1,"minutes").toISOString()));let O=W(u).clone().format("YYYY-MM-DD"),U=W(h).clone().format("YYYY-MM-DD"),re=O.split("T"),de=U.split("T"),ve={id:t.resource.extendedProps.subGroupID,startDate:re[0],endDate:de[0],startTime:(0,wt.gr)(W(t.start).add(l,"hours").toISOString()),endTime:c,jobTypeNameId:t.resource.extendedProps.jobTypeId,jobTypeName:this.updateJobName(t.resource.extendedProps.jobTypeId)},Ne=t.resource.extendedProps.subGroupID;if(this.unlockedSchedule)(0,wt.Fp)(this.scheduleStartDate,this.scheduleEndDate,ve.startDate)&&(0,wt.Fp)(this.scheduleStartDate,this.scheduleEndDate,ve.endDate)?this.subGroupsPermissions.forEach(De=>{De.id==Ne&&this.openDialogAddJob(ve,{areListsReadOnly:De.areListsReadOnly,areEmployeesAnonymous:De.areEmployeesAnonymous,areJobsEditable:De.areJobsEditable})}):this._messageService.open(St.yw.jobOutOfScheduleRangeWarning);else if(this.isTemplateDetails)this.jobStartEndDateDifference=W.duration(T.diff(u)).asDays(),this.subGroupsPermissions.forEach(De=>{De.id==Ne&&(this.jobStartEndDateDifference>2&&this.isTemplateDetails?this._messageService.open(this.message.templateJobCreateOnDrag):(u.isBefore(r)||h.isAfter(a))&&this.isTemplateDetails?this._messageService.open(this.message.templateSubgroupWarning):this.openDialogAddJob(ve,{areListsReadOnly:De.areListsReadOnly,areEmployeesAnonymous:De.areEmployeesAnonymous,areJobsEditable:De.areJobsEditable,subGroupID:t.resource.extendedProps.subGroupID,subgroupStartDate:t.resource.extendedProps.startDate,subgroupEndDate:t.resource.extendedProps.endDate,day:this.templateDay}))});else{let De,Ge,We=!1;this.approvedScheduleDateRanges.forEach(gt=>{De=re[0]+"T"+(0,wt.gr)(W(t.start).add(l,"hours").toISOString()),Ge=de[0]+"T"+c,De=W(De.substring(0,De.length-5)),Ge=W(Ge.substring(0,Ge.length-5));let rt=W(gt.startDate),vt=W(gt.endDate).set({hour:23,minute:59,second:59,millisecond:0});(0,wt.$5)(De,Ge,rt,vt)&&gt.subGroupID===Ne&&(We=!0)}),We?this._messageService.open(St.yw.lockedPeriodWarning):(0,wt.Fp)(this.scheduleStartDate,this.scheduleEndDate,ve.startDate)&&(0,wt.Fp)(this.scheduleStartDate,this.scheduleEndDate,ve.endDate)?(0,wt.Fp)(r,a,ve.startDate)&&(0,wt.Fp)(r,a,ve.endDate)?this.subGroupsPermissions.forEach(gt=>{gt.id==Ne&&this.openDialogAddJob(ve,{areListsReadOnly:gt.areListsReadOnly,areEmployeesAnonymous:gt.areEmployeesAnonymous,areJobsEditable:gt.areJobsEditable})}):this._messageService.open(St.yw.templateSubgroupWarning):this._messageService.open(St.yw.jobOutOfScheduleRangeWarning)}}else{let s={id:t.resource.extendedProps.subGroupID,startDate:W(t.start),endDate:W(t.end).subtract(1,"days"),jobTypeNameId:t.resource.extendedProps.jobTypeId,jobTypeName:this.updateJobName(t.resource.extendedProps.jobTypeId)},l=W(s.startDate).set({hour:0,minute:0,second:0,millisecond:0}).format("YYYY-MM-DD"),c=W(s.endDate).set({hour:0,minute:0,second:0,millisecond:0}).format("YYYY-MM-DD"),u=t.resource.extendedProps.subGroupID;if(this.unlockedSchedule)(0,wt.Fp)(this.scheduleStartDate,this.scheduleEndDate,l)&&(0,wt.Fp)(this.scheduleStartDate,this.scheduleEndDate,c)?this.subGroupsPermissions.forEach(h=>{h.id==u&&this.openDialogAddJob(s,{areListsReadOnly:h.areListsReadOnly,areEmployeesAnonymous:h.areEmployeesAnonymous,areJobsEditable:h.areJobsEditable})}):this._messageService.open(St.yw.jobOutOfScheduleRangeWarning);else if(this.isTemplateDetails){let h=W(W(t.start).clone().format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0}),x=W(W(t.end).utc(!1).add(-12,"hours").format("YYYY-MM-DD")).clone().set({hour:0,minute:0,second:0,millisecond:0});this.jobStartEndDateDifference=W.duration(x.diff(h)).asDays(),this.subGroupsPermissions.forEach(T=>{T.id==u&&(this.jobStartEndDateDifference>1&&this.isTemplateDetails?this._messageService.open(this.message.templateJobCreateOnDrag):(h.isBefore(r)||x.isAfter(a))&&this.isTemplateDetails?this._messageService.open(this.message.templateSubgroupWarning):this.openDialogAddJob(s,{areListsReadOnly:T.areListsReadOnly,areEmployeesAnonymous:T.areEmployeesAnonymous,areJobsEditable:T.areJobsEditable,subGroupID:t.resource.extendedProps.subGroupID,subgroupStartDate:t.resource.extendedProps.startDate,subgroupEndDate:t.resource.extendedProps.endDate,day:this.templateDay}))})}else{let h=!1;this.approvedScheduleDateRanges.forEach(x=>{let T=W(t.start).utc(!1).add(12,"hours").format("YYYY-MM-DD"),O=W(t.end).utc(!1).add(-12,"hours").format("YYYY-MM-DD");T+="T00:00:00",O+="T23:59:59";let U=W(x.startDate).clone(),re=W(x.endDate).clone();(0,wt.$5)(T,O,U,re)&&x.subGroupID===u&&(h=!0)}),h?this._messageService.open(St.yw.lockedPeriodWarning):(0,wt.Fp)(this.scheduleStartDate,this.scheduleEndDate,l)&&(0,wt.Fp)(this.scheduleStartDate,this.scheduleEndDate,c)?(0,wt.Fp)(r,a,l)&&(0,wt.Fp)(r,a,c)?this.subGroupsPermissions.forEach(x=>{x.id==u&&this.openDialogAddJob(s,{areListsReadOnly:x.areListsReadOnly,areEmployeesAnonymous:x.areEmployeesAnonymous,areJobsEditable:x.areJobsEditable})}):this._messageService.open(St.yw.templateSubgroupWarning):this._messageService.open(St.yw.jobOutOfScheduleRangeWarning)}}}}updateStartEndDates(t){let i,r,s=W(this.endDateForRequest).clone().diff(W(this.startDateForRequest).clone(),"days")+1,l=W(this.startDateForRequest).clone(),c=W(this.endDateForRequest).clone(),u=W(this.startDateForRequest).clone().toISOString(!0),h=W(this.endDateForRequest).clone().toISOString(!0);this.isMonthView?("next"===t?(i=W(this.startAndEndDate.start).clone().add(1,"months").startOf("month").format("YYYY-MM-DD"),r=W(this.startAndEndDate.end).clone().add(1,"months").endOf("month").format("YYYY-MM-DD")):"prev"===t&&(i=W(this.startAndEndDate.start).clone().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),r=W(this.startAndEndDate.end).clone().subtract(1,"months").endOf("month").format("YYYY-MM-DD")),this.startDateForRequest=i,this.endDateForRequest=r):("next"===t&&(i=l.clone().add(s,"days").toISOString(!0),r=c.clone().add(s,"days").toISOString(!0)),"prev"===t&&(i=l.clone().add(-s,"days").toISOString(!0),r=c.clone().add(-s,"days").toISOString(!0)),this.startDateForRequest=(0,wt.a0)(i),this.endDateForRequest=(0,wt.a0)(r)),this.isTemplateDetails?(0,wt.$5)((0,wt.a0)(i),(0,wt.a0)(r),this.templateFirstDayFirstWeek,this.templateLastDayLastWeek)?(this.startDateForRequest=(0,wt.a0)(i),this.endDateForRequest=(0,wt.a0)(r),this.allowNavigation=!0):(this.startDateForRequest=(0,wt.a0)(u),this.endDateForRequest=(0,wt.a0)(h),this.allowNavigation=!1,this._messageService.open(St.yw.dateRangeNavigationWarning)):(this.navigatedFromApprovalDetailsView||this.unlockedSchedule)&&((0,wt.$5)((0,wt.a0)(i),(0,wt.a0)(r),this.viewedDateRange.start,this.viewedDateRange.end)&&(this.startDateForRequest=(0,wt.a0)(i),this.endDateForRequest=(0,wt.a0)(r)),this.allowNavigation=!0)}setOldDates(){this.oldStart=this.startDateForRequest,this.oldEnd=this.endDateForRequest}calculateHeightOfCalendar(){let t,i=0,r=window.innerWidth,a=window.innerHeight;"Employee"==this.role?r>2e3?i=60:r>1280?i=70:r>959?i=120:r>815?i=85:r>786?i=100:r>600&&(i=120):i=0,r>2e3?(this.heightOfCalendar=a-260+i,this.heightOfLeftSide=a-136+"px"):r>1280?(this.heightOfCalendar=a-230+i,this.heightOfLeftSide=a-126+"px"):r>959?(this.heightOfCalendar=a-265+i,this.heightOfLeftSide=a-161+"px"):r>815?(this.heightOfCalendar=a-230+i,this.heightOfLeftSide=a-126+"px"):r>786?(this.heightOfCalendar=a-248+i,this.heightOfLeftSide=a-126+"px"):r>600?(this.heightOfCalendar=a-266+i,this.heightOfLeftSide=a-126+"px",this.collapsedCalendar=!1):(this.heightOfCalendar=a-30,this.heightOfLeftSide="100%",this.collapsedCalendar=!0),this.fullCalendar&&(t=this.fullCalendar.getApi()),t&&t.updateSize()}submitForApproval(){var t=localStorage.getItem("dateFormat");if(t=null!=t||null!=t?t.split(" ")[1]:"DD/MM/YYYY",this.canSubmit||this.unlockedSchedule){const i=this._prepareRequestParams();this.calendarService.checkCacheForChanges(i).subscribe(r=>{r?this.dialogService.openConfirmDialog("Confirm",(0,St.Uw)("submit this date range for approval")).afterClosed().subscribe(a=>{a&&this.submitDateRangeForApproval()}):this.dialogService.openConfirmDialog("SubmitUnchangedSchedule","The unlocked period "+W(this.startDateForRequest).format(t)+" - "+W(this.endDateForRequest).format(t)+" has not been updated. Do you wish to Submit the period for approval? ").afterClosed().subscribe(a=>{a&&this.submitDateRangeForApproval()})})}}submitDateRangeForApproval(){if(this.validCriticalTaskSubmissions){let t=new jd,i=new Array;this.subGroupsPermissions.forEach(r=>{i.push(r.id)}),t.userId=Number(this.loggedUserID),t.isSchedule=!this.isSubgroupUnlocked,t.scheduleId=Number(this.selectedSchedule),t.subGroupId=this.selectedSubgroupsBeforeUnlock&&this.selectedSubgroupsBeforeUnlock.length?this.selectedSubgroupsBeforeUnlock[0]:i[0],t.startDateTime=W(this.startDateForRequest).isBefore(W(this.scheduleStartDate))?this.scheduleStartDate:this.startDateForRequest,t.endDateTime=W(this.endDateForRequest).isAfter(W(this.scheduleEndDate))?this.scheduleEndDate:this.endDateForRequest,t.currentView=this.defaultView,this.calendarService.submitForApproval(t).subscribe(r=>{this._messageService.open("Submitted successfully."),this._getSubgroupsForSchedule(this.selectedSchedule,!1,!1),this.unlockedSchedule=!1,this.submitedButNotApproved=!0,this.enableAllNavigationButtons(),this.restoreUiOnLock(),this.subGroupIdsOnLock=[],this.preventNavigation=!1,this.isSubgroupUnlocked=!1},r=>{this._messageService.open(r),"In Selected range there is Critical Task which is not populated with required number of employees."==this._messageService.handleHttpError(r)&&(this._getSubgroupsForSchedule(this.selectedSchedule,!1,!0),this._resetRenderData(),this._fetchEvents())},()=>{})}else this.dialogService.openWarningDialog((0,St.re)("schedule"))}showExistingSubmissions(){this.dialog.open(Ud,{autoFocus:!1,data:{id:this.loggedUserID,scheduleId:this.selectedSchedule,startDate:W(this.startDateForRequest).isBefore(W(this.scheduleStartDate))?this.scheduleStartDate:this.startDateForRequest,endDate:W(this.endDateForRequest).isAfter(W(this.scheduleEndDate))?this.scheduleEndDate:this.endDateForRequest},width:this.infoWidth+"px",position:{top:this.infoTop+"px",right:this.infoRight+"px"},panelClass:["max-height96","notifications-dialog-class"]}).afterClosed().subscribe(()=>{})}initInfoWindowVariables(){this.infoTop=window.innerHeight<571?30:100,this.infoRight=window.innerWidth<600?10:40}authoriseDateRange(t){this.dialog.open(xe,{autoFocus:!1,width:"330px",data:{id:this.requestId,answer:t},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{"actioned"===r&&(this.authoriseClicked=!0,this.sync())})}unlockDateRange(t){t?this.applyUnlock():this.dialogService.openConfirmDialog("Confirm",this.message.scheduleUnlockWarning).afterClosed().subscribe(i=>{i&&(this.setUpViewAndButtons(this.defaultView,!0),this.applyUnlock())})}applyUnlock(){this.calendarService.sendIsInUnlocked(!0),this.subGroupIdsOnLock=this.selectedCheckboxes,this.calendarService.navigatedFromApprovalTable.next(2),this.calendarService.unlockLockSubgroups.next(0),this.unlockedSchedule=!0,setTimeout(()=>{this._fetchEvents(),setTimeout(()=>{this._getSubgroupsForSchedule(this.selectedSchedule,!0,!1)},300)},500)}toggleViewedRange(t){let i=!0;"unlock"===t&&(this.selectedCheckboxes&&this.selectedCheckboxes.length>0?(this.idsOnScheduleUnlock=this.selectedCheckboxes,this.jobsInLockedRanges=[],this.lockUnlockFromHeader=!0,this.selectedCheckboxes.length>0?(this.listAllInNumbers.forEach(r=>{this.selectedCheckboxes.includes(r)||this.listUnselected.push(r)}),this.clickedUnlock=!0,this.viewedDateRange.start=this.startDateForRequest,this.viewedDateRange.end=this.endDateForRequest,this.calendarService.dateRangesData.next({approvedScheduleDateRanges:this.approvedScheduleDateRanges,viewedDateRange:this.viewedDateRange}),this.calendarService.showSubgroupLockUnlock.next(!1),this.unlockDateRange(!1)):(this.calendarService.sendIsInUnlocked(!1),this._messageService.open("Subgroup checkbox must be selected."))):this._messageService.open("At least one subgroup must be selected"),!1,this.isScheduleUnlocked=!0)}lockDateRange(t){if(this.validCriticalTaskSubmissions){let i=this._prepareRequestParams();this.calendarService.checkCacheForChanges(i).subscribe(r=>{r&&(t?this.applyLock():this.dialogService.openConfirmDialog("Confirm",this.message.scheduleLockWarning).afterClosed().subscribe(a=>{a&&(this.enableAllNavigationButtons(),this.applyLock())}))})}else this.dialogService.openWarningDialog((0,St.re)("schedule"))}applyLock(){this._resetRenderData(),this._refreshEvents(),this._refreshResources(),this.checkForChangesCalled=!0,this.clickedLock=!0;let t=[];t.push(this.selectedSGIdCheckbox),this.calendarService.submitCachedData({id:this.unLockedRangeID,startDate:W(this.startDateForRequest).isBefore(W(this.scheduleStartDate))?this.scheduleStartDate:this.startDateForRequest,endDate:W(this.endDateForRequest).isAfter(W(this.scheduleEndDate))?this.scheduleEndDate:this.endDateForRequest,selectedCheckboxes:this.lockUnlockFromHeader?this.selectedCheckboxes:t}).subscribe(()=>{this.restoreUiOnLock(),this.subGroupIdsOnLock=[],this.preventNavigation=!1},i=>{400==i.status&&"The credentials you have entered for system email are invalid."===i.error.Message?(this.restoreUiOnLock(),this._messageService.open(i)):this._messageService.open(i)})}restoreUiOnLock(){this.calendarService.navigatedFromApprovalTable.next(3),this.calendarService.unlockLockSubgroups.next(1),this.unlockedSchedule=!1,this.checkForChangesCalled=!1,this._resetRenderData(),this._refreshEvents(),this._refreshResources(),this._fetchEvents()}setUpViewAndButtons(t,i){switch(t){case"resourceTimelineDay":i&&(this.hideDayButton=!1,this.hideWeekButton=!0,this.hideMonthButton=!0,this.hideCustomButton=!0,this.hidePayPeriodButton=!0),setTimeout(()=>{this.defaultView=t},this._navigationButtonsTimeoutValue);break;case"resourceTimelineWeek":i&&(this.hideDayButton=!1,this.hideWeekButton=!1,this.hideMonthButton=!0,this.hideCustomButton=!0,this.hidePayPeriodButton=!0),setTimeout(()=>{this.defaultView=t},this._navigationButtonsTimeoutValue);break;case"resourceTimelineMonth":i&&(this.hideDayButton=!1,this.hideWeekButton=!0,this.hideMonthButton=!1,this.hideCustomButton=!0,this.hidePayPeriodButton=!0),setTimeout(()=>{this.defaultView=t},this._navigationButtonsTimeoutValue);break;case"customView":{i&&(this.hideDayButton=!1,this.hideWeekButton=!0,this.hideMonthButton=!0,this.hideCustomButton=!1,this.hidePayPeriodButton=!0);let r="",a="";r=i?this.viewedDateRange.start:this.navigationStart,a=i?this.viewedDateRange.end:this.navigationEnd,this.notificationStartDateForRequest&&(r=this.notificationStartDateForRequest),this.notificationEndDateForRequest&&(a=this.notificationEndDateForRequest),setTimeout(()=>{this.clickedUnlock||setTimeout(()=>{this.defaultView=t,this.onDateChange({begin:r,end:a})},this._navigationButtonsTimeoutValue)},this._navigationButtonsTimeoutValue);break}case"payPeriod":i&&(this.hideDayButton=!1,this.hideWeekButton=!0,this.hideMonthButton=!0,this.hideCustomButton=!0,this.hidePayPeriodButton=!1),setTimeout(()=>{this.defaultView=t},this._navigationButtonsTimeoutValue)}}checkSubgroupsSubmissionState(t){t.forEach(i=>{this.totalSubmitCounter+=1,this.totalUnlockCounter+=1,!1===i.entity.canBeSubmited&&(this.canSubmit=!1,this.submitCounter+=1),!0===i.entity.canBeUnlocked&&(this.approvedSubgroupIds.push(i.entity.id),this.unlockCounter+=1),i.childNodes.length&&this.checkSubgroupsSubmissionState(i.childNodes)})}getViewedSubgroupId(t,i){t.forEach(r=>{r.entity.id===i?this.selectedSubgroupForApproval.push(r):r.childNodes.length&&this.getViewedSubgroupId(r.childNodes,i)})}checkTemplateSubGroupsPermissions(t,i){t.forEach(r=>{this.subGroupsPermissions.push({id:r.entity.id,subgroupStartDate:r.entity.startDate,subgroupEndDate:r.entity.endDate,areListsReadOnly:!i.canAssignSchedule,areEmployeesAnonymous:!i.canSeeScheduleEmployeesNames,areJobsEditable:i.canChangeScheduleStructure,isFromTemplate:r.entity.isFromTemplate}),r.childNodes.length&&this.checkTemplateSubGroupsPermissions(r.childNodes,i)})}enableAllNavigationButtons(){this.hideDayButton=!1,this.hideWeekButton=!1,this.hideMonthButton=!1,this.hideCustomButton=!1,this.hidePayPeriodButton=!1}returnToApprovalsPage(){this._router.navigateByUrl(this.approvalDetailsFromDashboard?"/dashboard":"/schedule-approval")}checkSubGroupsPermissions(t){t.forEach(i=>{this.subGroupsPermissions.push({id:i.entity.id,subgroupStartDate:i.entity.startDate,subgroupEndDate:i.entity.endDate,areListsReadOnly:!i.entity.canAssignSubGroup,areEmployeesAnonymous:!i.entity.canSeeSubGroupEmployeesNames,areJobsEditable:i.entity.canChangeSubGroupStructure,isFromTemplate:i.entity.isFromTemplate}),i.childNodes.length&&this.checkSubGroupsPermissions(i.childNodes)})}_collectNestedIds(t,i){t.childNodes.length&&t.childNodes.forEach(r=>{i?(this.listAll.includes(this.listAll.find(a=>a.entity.id===r.entity.id))||this.listAll.push(r),r.childNodes.length&&this._collectNestedIds(r,!0)):(this.nestedIds.includes(r.entity.id)||this.selectedCheckboxes.includes(r.entity.id)&&this.nestedIds.push(r.entity.id),r.childNodes.length&&this._collectNestedIds(r,!1))})}offerJobs(){this.dialogService.openConfirmDialog("Confirm",this.message.offerJobs).afterClosed().subscribe(t=>{t&&this._jobOfferService.offerJobs(this.startDateForRequest,this.endDateForRequest,this.selectedSchedule,0).subscribe(i=>{this._messageService.open(i+" job offers made.")},i=>{this._messageService.open(i)},()=>{})})}revokeJobOffers(){this.dialogService.openConfirmDialog("Confirm",this.message.revokeJobOffers).afterClosed().subscribe(t=>{t&&this._jobOfferService.revokeJobOffers(this.startDateForRequest,this.endDateForRequest,this.selectedSchedule,0).subscribe(i=>{this._messageService.open("Offers are Revoked.")},i=>{this._messageService.open(i)},()=>{})})}sync(){this.selectedSchedule?this._syncService.insertSyncData(this.selectedSchedule,this.startDateForRequest,this.endDateForRequest).subscribe(t=>{this._messageService.open(t)},t=>{this._messageService.open(t)}):this._messageService.open("No Schedule Selected.")}_updateSubgroupsOnNavigation(){this.getSubGroups=!1,this._getSubgroupsForSchedule(this.selectedSchedule,!1,!1)}verifyJobUnlockability(t,i){return!this.approvedScheduleDateRanges.length||!(!t.clone().isSameOrAfter(W(this.startDateForRequest).clone())||!i.clone().isSameOrBefore(W(this.endDateForRequest).clone()))}verifyJobUnlockabilityBasedOnApprovedSchedule(t,i,r){if(this.approvedScheduleDateRanges.length){let s=null==i._i?i:i._i,l=W(null==t._i?t:t._i).clone(),c=W(s).clone();return null==this.approvedScheduleDateRanges.find(h=>h.subGroupID==r&&W(h.startDate).clone().isSameOrBefore(l)&&W(h.endDate).add(23,"hours").add(59,"minutes").add(59,"seconds").clone().isSameOrAfter(c))||this.unlockedSchedule}return!0}onEventPositioned(t){}loneWorkerConfirm(){let t=new gf;t.employeeID=Number(this.loggedUserID),t.jobID=this.employeeSelectedJobId,t.dateNotificationCreated=null,this._loneWorkerService.loneWorkerCheckIn(t).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this._messageService.open(i.key+"")},i=>{this._messageService.open(i)})}confirmAttendance(t){this._attendanceService.attendanceAnswer(t,this.employeeSelectedJobId).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this._messageService.open(i),this._updateOnAttendanceConfirmationAction()},i=>{this._messageService.open(i),this._updateOnAttendanceConfirmationAction()})}tradeJob(t){this._tradeService.getTradeWarning().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.dialogService.openConfirmDialog("TradeOffer",i).afterClosed().subscribe(r=>{r?this._tradeService.offerJob(Number(this.loggedUserID),t.jobId).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._fetchEvents()},a=>{let s=this._messageService.handleHttpError(a),l=s.substring(s.indexOf("- ")+2);400==a.status&&"The credentials you have entered for system email are invalid."==l&&this._fetchEvents(),this._messageService.open(a)}):this._messageService.open("Trade Canceled")})})}extractSubgroupIds(t){t.length&&t.forEach(i=>{this.subGroupIdArray.push(i.entity.id),i.childNodes.length&&this.extractSubgroupIds(i.childNodes)})}updateEmployeeNavigation(t){this.employeeDidNavigate=!0,"next"==t?(this.employeeClickedNext=!0,this.employeeClickedPrev=!1):(this.employeeClickedPrev=!0,this.employeeClickedNext=!1)}navigateEmployee(t){let i;this.fullCalendar&&(i=this.fullCalendar.getApi()),this.employeeClickedNext?(i&&t&&i.next(),this.defaultView!==pt.hx.customView&&(this.employeeClickedNext=!1),this._prepareDataForView(this.defaultView)):this.employeeClickedPrev&&(i&&t&&i.prev(),this.defaultView!==pt.hx.customView&&(this.employeeClickedPrev=!1),this._prepareDataForView(this.defaultView))}manageTimelineToggling(){if("User"==this.role&&this.existingSubGroupsCount>0)switch(this.onceFetchEvents=!0,this.tmpView.trim()){case pt.hx.dayView:this.toggleTimelineView(!!this.clickedChangeView||this.timelineView);break;case pt.hx.weekView:case pt.hx.monthView:this.toggleTimelineView(!1);break;case pt.hx.customView:this.viewedDateRange.start?this.toggleTimelineView(!1):this.onceFetchEvents=!1;break;default:this.toggleTimelineView(!1)}}resetTimelineDisplay(){this.timelineView=!1,this.renderedEventsDOM=[],this.slotDuration="24:00",this.slotLabelFormat=["ddd D MMM"],this.noPrevParams=!0,this.noNextParams=!0}scheduleMenuDeviceContextMenuSubscription(){this.listSubscriptions.push(this.calendarService.deviceScheduleSelectLongTouch.subscribe(t=>{this.onLongTouch(t)}))}_employeeAttendanceActionFromNotificationSubscription(){this._attendanceService.refetchJobs.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.events.forEach(i=>{i.id==t&&this._updateOnAttendanceConfirmationAction()})})}_updateOnAttendanceConfirmationAction(){this._resetRenderData(),this._getSubgroupsForSchedule(this.selectedSchedule,!0,!1)}_checkScheduleSelectorItems(){return!!(!this.isTemplateDetails&&this.canCreateNewSchedule&&!this.unlockedSchedule||this.canChangeScheduleStructure&&this.selectedSchedule&&!this.unlockedSchedule||this.canChangeScheduleStructure&&this.selectedSchedule||!this.isTemplateDetails&&this.selectedSchedule&&!this.unlockedSchedule&&this.canChangeScheduleStructure&&this.canManageTemplates||!this.isTemplateDetails&&this.canChangeScheduleStructure&&this.selectedSchedule&&this.canManageTemplates||this.canAssignScheduleEmployees&&this.selectedSchedule||!this.isTemplateDetails&&this.canDeleteExistingSchedule&&this.selectedSchedule&&!this.unlockedSchedule||this.selectedSchedule&&!this.unlockedSchedule&&!this.isTemplateDetails&&!this.navigatedFromApprovalDetailsView&&this.canSubmitForApproval&&!this.isSubmitForApprovalDisabled||this.selectedSchedule&&this.canChangeApprovedchedules&&this.canUnlock&&!this.unlockedSchedule&&!this.unlockedSubgroupIndicator&&!this.isTemplateDetails||this.selectedSchedule&&this.canChangeApprovedchedules&&this.canUnlock&&this.unlockedSchedule&&!this.unlockedSubgroupIndicator&&!this.isTemplateDetails||this.selectedSchedule&&this.canOfferJob&&!this.isTemplateDetails&&!this.unlockedSubgroupIndicator&&(this.unlockedSchedule||this.canSubmit))}setUpPermissionVariables(){const t=this._userRoleService.getGlobalAccountPermissions();null!=t&&(this.canChangeApprovedchedules=t.canUserChangeApprovedSchedules,this.canCreateNewSchedule=t.canUserCreateNewSchedules,this.canDeleteExistingSchedule=t.canUserDeleteExistingSchedules,this.canCreateNewSchedule=this.isTemplateDetails?this.canCreateNewSchedule:t.canUserCreateNewSchedules,this.canDeleteExistingSchedule=this.isTemplateDetails?this.canDeleteExistingSchedule:t.canUserDeleteExistingSchedules,this.canConfigureConstraints=t.canUserConfigureConstraints,this.canConfigureRankings=t.canUserConfigureRankings,this.canViewBudgets=this.isTemplateDetails?this.canViewBudgets:t.canUserViewBudgets,this.canAssignFromUnavailable=t.canUserAssignFromUnavailable,this.canManageTemplates=t.canUserManageTemplates)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Nc),e.Y36(e.Qsj),e.Y36(Z1),e.Y36(z.uw),e.Y36(Ri.x),e.Y36(Sa),e.Y36(sn),e.Y36(Cu),e.Y36(Ce.L),e.Y36(ce.Z),e.Y36(Yl.S),e.Y36(D.uU),e.Y36(Dh.X),e.Y36(Lg.T),e.Y36(zJ),e.Y36(el),e.Y36(qi.J),e.Y36(Yo),e.Y36(q.F0),e.Y36(fe.T),e.Y36(G),e.Y36(Ma),e.Y36(_f),e.Y36(Y1.i),e.Y36(yr.H),e.Y36(Vr.n),e.Y36(V1.v),e.Y36(D.Ye),e.Y36(Ir.e),e.Y36(se.G),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-fullcalendar"]],viewQuery:function(t,i){if(1&t&&(e.Gf(uB,5),e.Gf(pB,5),e.Gf(fB,5),e.Gf(hB,5),e.Gf(mB,5),e.Gf(gB,5),e.Gf(_B,5),e.Gf(vB,5),e.Gf(bB,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.fullCalendar=r.first),e.iGM(r=e.CRH())&&(i.scheduleMenuTrigger=r.first),e.iGM(r=e.CRH())&&(i.tooltipTrigger=r.first),e.iGM(r=e.CRH())&&(i.jobMenuTrigger=r.first),e.iGM(r=e.CRH())&&(i.employeeJobMenuTrigger=r.first),e.iGM(r=e.CRH())&&(i.selectScheduleDOM=r.first),e.iGM(r=e.CRH())&&(i.showDetailViewButton=r.first),e.iGM(r=e.CRH())&&(i.matToogleGroup=r.first),e.iGM(r=e.CRH())&&(i.matToogleEmployeeGroup=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.onClick()})("resize",function(a){return i.onResize(a)},!1,e.Jf7)("mouseover",function(a){return i.mouseOver(a)})("mousedown",function(a){return i.mouseDown(a)})("mouseup",function(a){return i.mouseUp(a)})("click",function(a){return i.documentClick(a)},!1,e.evT)("contextmenu",function(a){return i.contextMenu(a)},!1,e.evT)("keydown.escape",function(a){return i.onKeydownHandler(a)},!1,e.evT)("beforeunload",function(){return i.onBeforeUnload()},!1,e.Jf7)},outputs:{onSelectableJobUpdate:"onSelectableJobUpdate"},features:[e._Bn([{provide:On.q_,useClass:On.LK}])],decls:97,vars:85,consts:[[3,"ngClass"],["long-press","","fxLayout","row","fxLayoutAlign","space-between","ngClass.xl","esolve-view-nav-card","fxLayoutAlign.sm","center center","fxLayoutAlign.xs","center center",1,"eSolve-calendar-background-light","eSolve-datepicker-card",3,"contextmenu","onLongPress"],["fxLayoutAlign","center center","fxLayout","row","fxLayoutGap","2%","fxLayout.sm","column","fxLayout.xs","column"],["fxLayout","row","fxLayoutGap","1%","fxLayoutAlign","center center"],[1,"fa","filterIcon",3,"ngClass","click"],["filterAreaIcon",""],[1,"eSolve-view-navigation",3,"value"],["value","resourceTimelineDay","class","eSolve-view-navigation","id","day_toggler",3,"change",4,"ngIf"],["class","eSolve-view-navigation","value","resourceTimelineWeek","id","week_toggler",3,"change",4,"ngIf"],["class","eSolve-view-navigation","value","resourceTimelineMonth","fxShow.sm","false","fxShow.xs","false","id","month_toggler",3,"change",4,"ngIf"],["class","eSolve-view-navigation","value","customView","id","custom_toggler",3,"change",4,"ngIf"],["class","eSolve-view-navigation","value","payPeriod","id","pay_period_toggler",3,"change",4,"ngIf"],["class","form-control eSolve-ranking-button back-to-approvals-btn",3,"click",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","mat-stroked-button","","id","eSolve_schedule_navigate_left",1,"eSolve-next-prev",3,"disabled","click"],["mat-icon-button","","mat-stroked-button","","id","eSolve_schedule_navigate_right",1,"eSolve-next-prev",3,"disabled","click"],["aria-hidden","false"],[1,"bold-text","esolve-month-label"],["fxLayout","row","fxLayoutAlign","start center","fxShow.xl","false","fxShow.lg","false","fxShow.md","false",4,"ngIf"],["long-press","","fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","1%","fxLayout.md","column","fxLayout.sm","row","fxLayout.xs","row","fxLayoutWrap","","fxShow.sm","false","fxShow.xs","false",3,"contextmenu","onLongPress"],["fxLayout","row","fxLayoutGap","1%"],["class","d-flex justify-content-between",3,"ngClass",4,"ngIf"],["fxLayout","row","fxLayoutGap","1%",4,"ngIf"],[4,"ngIf"],["fxLayout","row","fxLayoutGap","0.5%","fxLayout.xs","column"],["fxLayout","column","fxFlex","16%","fxFlex.sm","25%","fxFlex.xl","13%","fxFlex.md","22%",3,"hidden"],[1,"left-container","g-thin-black-scroll-bar",3,"ngStyle"],["class","custom-datepicker-width",4,"ngIf"],[1,"eSolve-calendar-background-light","eSolve-filter-area",3,"hidden"],[3,"hidden"],[3,"startDateForRequest","endDateForRequest","selectedCheckboxes","subGroupsPermissions","canAssignFromUnavailable","listUnselected","defaultView","onJobUpdate","onUnassignEmployees","onFilterCollapse","onSubgroupUpdate","onFilterUpdate"],["fxLayout","column","fxFlex","100%"],[1,"mat-menu-trigger-style",3,"matMenuTriggerFor"],["scheduleMenuTrigger","matMenuTrigger"],[1,"checklist"],["scheduleMenu","matMenu"],["matMenuContent",""],["tooltipTrigger","matMenuTrigger"],[1,"resourceTooltip"],["tooltip","matMenu"],[1,"tooltipLabel"],["fxLayout","row","fxLayoutGap","1%","fxLayout.xs","column","long-press","",1,"eSolve-select-card",3,"onLongPress"],["fxLayout","row","fxLayoutAlign","space-between","fxFlex","100%","fxLayoutGap","5%","fxLayout.xs","column",4,"ngIf"],["long-press","","fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","1%","fxLayout.xs","column",1,"right-padding",3,"ngClass","onLongPress"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","5%"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5%",4,"ngIf"],["jobMenuTrigger","matMenuTrigger"],["jobMenu","matMenu"],["mat-menu-item","",3,"click"],["id","copyJobBtn","mat-menu-item","",3,"matMenuTriggerFor"],["copyJob","matMenu"],["id","copyToDateBtn","mat-menu-item","",3,"click"],["id","copyToConsecutiveBtn","mat-menu-item","",3,"click"],["employeeJobMenuTrigger","matMenuTrigger"],["employeeJobMenu","matMenu"],["id","attendanceConfirmation","mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],["id","loneWorker","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","routerLink","/trade-board",4,"ngIf"],["attendanceMenu","matMenu"],[3,"ngClass","ngStyle","contextmenu"],["id","calendar","header","parent","height","parent","timeFormat","h:mm",3,"options"],["calendar",""],["class","centered progressBarContainer",4,"ngIf"],["value","resourceTimelineDay","id","day_toggler",1,"eSolve-view-navigation",3,"change"],["value","resourceTimelineWeek","id","week_toggler",1,"eSolve-view-navigation",3,"change"],["value","resourceTimelineMonth","fxShow.sm","false","fxShow.xs","false","id","month_toggler",1,"eSolve-view-navigation",3,"change"],["value","customView","id","custom_toggler",1,"eSolve-view-navigation",3,"change"],["value","payPeriod","id","pay_period_toggler",1,"eSolve-view-navigation",3,"change"],[1,"form-control","eSolve-ranking-button","back-to-approvals-btn",3,"click"],["fxLayout","row","fxLayoutAlign","start center","fxShow.xl","false","fxShow.lg","false","fxShow.md","false"],[1,"d-flex","justify-content","between"],["mat-button","","id","eSolve_schedule_unlock_button_small","class","eSolve-schedule-unlock-button eSolve-card-height form-control",3,"disabled","click",4,"ngIf"],["mat-button","","class","eSolve-schedule-submit-button eSolve-card-height form-control","id","submit_schedule_for_approval_btn_small",3,"disabled","click",4,"ngIf"],["class","submit-info-icon-container",4,"ngIf"],["mat-button","","id","eSolve_schedule_unlock_button_small",1,"eSolve-schedule-unlock-button","eSolve-card-height","form-control",3,"disabled","click"],["mat-button","","id","submit_schedule_for_approval_btn_small",1,"eSolve-schedule-submit-button","eSolve-card-height","form-control",3,"disabled","click"],[1,"submit-info-icon-container"],["aria-hidden","true",1,"fa","fa-exclamation-circle","submit-info-icon",3,"click"],["mat-button","","class","eSolve-autosolve-button eSolve-card-height form-control","id","auto_solve_btn_small",3,"click",4,"ngIf"],["mat-button","","id","auto_solve_btn_small",1,"eSolve-autosolve-button","eSolve-card-height","form-control",3,"click"],["src","assets/advancedLogo-white.png",1,"autosolve-icon"],["mat-button","","id","template_close_small",1,"eSolve-autosolve-button","eSolve-card-height","form-control",3,"click"],[1,"d-flex","justify-content-between",3,"ngClass"],["mat-button","","id","eSolve_schedule_unlock_button_large","class","eSolve-schedule-unlock-button eSolve-card-height form-control",3,"click",4,"ngIf"],["mat-button","","class","eSolve-schedule-submit-button eSolve-card-height form-control","id","submit_schedule_for_approval_btn",3,"disabled","click",4,"ngIf"],["mat-button","","id","eSolve_schedule_unlock_button_large",1,"eSolve-schedule-unlock-button","eSolve-card-height","form-control",3,"click"],["mat-button","","id","submit_schedule_for_approval_btn",1,"eSolve-schedule-submit-button","eSolve-card-height","form-control",3,"disabled","click"],["mat-button","","id","template_close_large",1,"eSolve-autosolve-button","eSolve-card-height","form-control",3,"click"],["id","auto_solve_btn","mat-button","","class","eSolve-autosolve-button eSolve-card-height form-control",3,"click",4,"ngIf"],["id","auto_solve_btn","mat-button","",1,"eSolve-autosolve-button","eSolve-card-height","form-control",3,"click"],["class","form-control eSolve-ranking-button",3,"click",4,"ngIf"],[1,"form-control","eSolve-ranking-button",3,"click"],["class","form-control eSolve-ranking-button eSolve-approve-button",3,"click",4,"ngIf"],[1,"form-control","eSolve-ranking-button","eSolve-approve-button",3,"click"],["class","row esolve-filter-layout-gap",4,"ngIf"],[1,"row","esolve-filter-layout-gap"],[1,"col-12"],[1,"fullcalendar-date-calendar"],[1,"panel-header",3,"collapsedHeight","expandedHeight"],[1,"permissions-font"],[3,"selected","selectedChange"],[1,"custom-datepicker-width"],["class","eSolve-font-size warning-text",4,"ngIf"],[1,"eSolve-font-size","warning-text"],["id","sched_cal_menuEditSchedule_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","sched_cal_menuAddSubGroup_btn","mat-menu-item","",3,"disabled","click",4,"ngIf"],["id","sched_cal_menuCreateTemplate_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","sched_cal_menuManageTemplates_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","sched_cal_menuUnassignScheduleEmployees_btn","mat-menu-item","",3,"disabled","click",4,"ngIf"],["id","sched_cal_menuDeleteSchedule_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","sched_cal_menuSubmitSchedule_btn","mat-menu-item","","id","submit_schedule_for_approval_context_menu_btn",3,"disabled","click",4,"ngIf"],["id","sched_cal_menuUnlockSchedule_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","sched_cal_menuCreateSchedule_btn","mat-menu-item","",3,"click",4,"ngIf"],["id","sched_cal_menuEditSchedule_btn","mat-menu-item","",3,"click"],["id","sched_cal_menuAddSubGroup_btn","mat-menu-item","",3,"disabled","click"],["id","sched_cal_menuCreateTemplate_btn","mat-menu-item","",3,"click"],["id","sched_cal_menuManageTemplates_btn","mat-menu-item","",3,"click"],["id","sched_cal_menuUnassignScheduleEmployees_btn","mat-menu-item","",3,"disabled","click"],["id","sched_cal_menuDeleteSchedule_btn","mat-menu-item","",3,"click"],["id","sched_cal_menuSubmitSchedule_btn","mat-menu-item","","id","submit_schedule_for_approval_context_menu_btn",3,"disabled","click"],["id","sched_cal_menuUnlockSchedule_btn","mat-menu-item","",3,"click"],["id","sched_cal_menuCreateSchedule_btn","mat-menu-item","",3,"click"],["fxLayout","row","fxLayoutAlign","space-between","fxFlex","100%","fxLayoutGap","5%","fxLayout.xs","column"],["fxLayout","row","fxFlex","60%","ngClass.xs","eSolve-xs-identation",1,"eSolve-select-card","esolve-stats-container"],["fxLayout","column","fxLayoutAlign","start start","fxFlex","20%"],[1,"eSolve-stat-value","esolve-toolbar-zero-values"],["id","eSolve-job-slots",1,"eSolve-label-text"],[3,"vertical"],["fxLayout","column","fxLayoutAlign","start start","fxFlex","20%",1,"esolve-navy-bar-cell"],[1,"eSolve-stat-value",3,"ngClass"],[1,"eSolve-label-text"],["fxLayout","column","fxLayoutAlign","start start","fxFlex","20%",1,"esolve-navy-bar-cell",3,"ngClass"],[1,"eSolve-label-text","cursor-pointer",3,"click"],[3,"vertical",4,"ngIf"],["value","Timeline"],["matToogleGroup",""],["value","Timeline",3,"change"],[1,"fa","fa-bars"],["value","Employee",3,"change"],[1,"fa","fa-user"],["value","EmployeeExpanded",3,"change"],["showDetailViewButton",""],[1,"fa","fa-user-plus"],["mat-button","",1,"employeeLeftPanelToggle",3,"ngClass","click"],[1,"fa","fa-bars","margin-bottom-3"],[1,"form-control","eSolve-timeline-button",3,"ngStyle","disabled","click"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5%"],[1,"eSolve-text-rotate","eSolve-font-size","margin-right-5"],[1,"esolve-legend-button",3,"click"],["src","assets/LegendIcon.png"],["id","attendanceConfirmation","mat-menu-item","",3,"matMenuTriggerFor"],["id","loneWorker","mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","/trade-board"],[1,"centered","progressBarContainer"],[1,"progressBarText"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","progress-bar-blue","esolve-progress-bar"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("contextmenu",function(a){return i.openContextMenu(a)})("onLongPress",function(a){return i.onLongTouch(a)}),e.TgZ(2,"div",2)(3,"div",3)(4,"div")(5,"i",4,5),e.NdJ("click",function(){return i.toggleFilterArea()}),e.qZA()(),e.TgZ(7,"mat-button-toggle-group",6),e.YNc(8,yB,2,0,"mat-button-toggle",7),e.YNc(9,xB,2,0,"mat-button-toggle",8),e.YNc(10,CB,2,0,"mat-button-toggle",9),e.YNc(11,TB,2,0,"mat-button-toggle",10),e.YNc(12,wB,2,0,"mat-button-toggle",11),e.qZA(),e.YNc(13,kB,3,2,"button",12),e.qZA(),e.TgZ(14,"div",13)(15,"button",14),e.NdJ("click",function(){return i.showPreviousDate()}),e.TgZ(16,"mat-icon"),e._uU(17,"chevron_left"),e.qZA()(),e.TgZ(18,"button",15),e.NdJ("click",function(){return i.showNextDate()}),e.TgZ(19,"mat-icon",16),e._uU(20,"chevron_right"),e.qZA()()(),e.TgZ(21,"div",13)(22,"label",17),e._uU(23),e.qZA()(),e.YNc(24,PB,5,3,"div",18),e.YNc(25,IB,2,1,"div",18),e.YNc(26,NB,3,0,"div",18),e.qZA(),e.TgZ(27,"div",19),e.NdJ("contextmenu",function(a){return i.openContextMenu(a)})("onLongPress",function(a){return i.onLongTouch(a)}),e.TgZ(28,"div",20),e.YNc(29,YB,4,6,"div",21),e.YNc(30,qB,3,0,"div",22),e.YNc(31,HB,2,1,"div",23),e.qZA(),e.YNc(32,GB,3,2,"div",22),e.YNc(33,zB,3,2,"div",22),e.qZA()(),e.TgZ(34,"div",24)(35,"div",25)(36,"div",26),e.YNc(37,XB,3,2,"div",23),e.YNc(38,t7,3,2,"div",27),e.TgZ(39,"div",28)(40,"div",29)(41,"app-job-filter",30),e.NdJ("onJobUpdate",function(a){return i.onJobUpdate(a)})("onUnassignEmployees",function(a){return i.onUnassignEmployees(a)})("onFilterCollapse",function(a){return i.onFilterCollapse(a)})("onSubgroupUpdate",function(a){return i.onSubgroupUpdate(a)})("onFilterUpdate",function(a){return i.onFilterUpdate(a)}),e.qZA()()()()(),e.TgZ(42,"div",31),e._UZ(43,"div",32,33),e.TgZ(45,"mat-menu",34,35),e.YNc(47,f7,10,10,"ng-template",36),e.qZA(),e._UZ(48,"div",32,37),e.TgZ(50,"mat-menu",38,39)(52,"label",40),e._uU(53),e.qZA()(),e.TgZ(54,"div",41),e.NdJ("onLongPress",function(a){return i.onLongTouch(a)}),e.YNc(55,_7,34,22,"div",42),e.qZA(),e.TgZ(56,"div",43),e.NdJ("onLongPress",function(a){return i.onLongTouch(a)}),e.TgZ(57,"div",44),e.YNc(58,v7,10,0,"div",23),e.YNc(59,y7,3,3,"div",23),e.YNc(60,w7,4,6,"div",23),e.qZA(),e.YNc(61,D7,6,0,"div",45),e.qZA(),e._UZ(62,"div",32,46),e.TgZ(64,"mat-menu",null,47)(66,"button",48),e.NdJ("click",function(){return i.deleteJobs()}),e._uU(67," Delete Job/Jobs "),e.qZA(),e.TgZ(68,"button",49),e._uU(69," Copy Job "),e.qZA()(),e.TgZ(70,"mat-menu",null,50)(72,"button",51),e.NdJ("click",function(){return i.copyToDate(1)}),e._uU(73),e.qZA(),e.TgZ(74,"button",52),e.NdJ("click",function(){return i.copyToDate(2)}),e._uU(75),e.qZA()(),e._UZ(76,"div",32,53),e.TgZ(78,"mat-menu",null,54),e.YNc(80,S7,2,1,"button",55),e.YNc(81,k7,2,0,"button",56),e.YNc(82,A7,2,0,"button",57),e.YNc(83,M7,2,0,"button",58),e.qZA(),e.TgZ(84,"mat-menu",null,59)(86,"button",48),e.NdJ("click",function(){return i.confirmAttendance(!0)}),e._uU(87," Confirm Attendance "),e.qZA(),e.TgZ(88,"button",48),e.NdJ("click",function(){return i.confirmAttendance(!1)}),e._uU(89," Not Attending "),e.qZA()(),e.TgZ(90,"div",60),e.NdJ("contextmenu",function(a){return i.contextMenuOnCalendar(a)}),e._UZ(91,"full-calendar",61,62),e.qZA(),e.YNc(93,O7,5,0,"div",63),e.YNc(94,P7,5,0,"div",63),e.YNc(95,E7,5,0,"div",63),e.YNc(96,I7,5,0,"div",63),e.qZA()()()),2&t){const r=e.MAs(46),a=e.MAs(51),s=e.MAs(65),l=e.MAs(71),c=e.MAs(79);e.Q6J("ngClass",e.VKq(74,N7,!i.isCalendarInitialized)),e.xp6(5),e.Q6J("ngClass",e.WLB(76,R7,i.showFilterArea,!i.showFilterArea)),e.xp6(2),e.Q6J("value",i.defaultView),e.xp6(1),e.Q6J("ngIf",!i.hideDayButton),e.xp6(1),e.Q6J("ngIf",!i.hideWeekButton),e.xp6(1),e.Q6J("ngIf",!i.hideMonthButton),e.xp6(1),e.Q6J("ngIf",!i.hideCustomButton&&"User"==i.role),e.xp6(1),e.Q6J("ngIf",(i.calendarPreferences&&i.calendarPreferences.payPeriod||i.calendarPreferences.payPeriodIsMonth)&&!i.hidePayPeriodButton),e.xp6(1),e.Q6J("ngIf",i.navigatedFromApprovalDetailsView&&!i.isTemplateDetails),e.xp6(2),e.Q6J("disabled",i.getSubgroupsHttpCallInProgress||i.getJobsHttpCallInProgress),e.xp6(3),e.Q6J("disabled",i.getSubgroupsHttpCallInProgress||i.getJobsHttpCallInProgress),e.xp6(5),e.Oqu(i.isTemplateDetails?"Week "+i.templateWeekNumber:i.monthLabels),e.xp6(1),e.Q6J("ngIf","User"==i.role&&!i.isTemplateDetails),e.xp6(1),e.Q6J("ngIf","User"==i.role&&!i.isTemplateDetails),e.xp6(1),e.Q6J("ngIf","User"==i.role&&i.isTemplateDetails),e.xp6(3),e.Q6J("ngIf","User"==i.role&&!i.isTemplateDetails),e.xp6(1),e.Q6J("ngIf","User"==i.role&&i.isTemplateDetails),e.xp6(1),e.Q6J("ngIf","User"==i.role&&!i.isTemplateDetails),e.xp6(1),e.Q6J("ngIf",!i.navigatedFromApprovalDetailsView),e.xp6(1),e.Q6J("ngIf",i.navigatedFromApprovalDetailsView),e.xp6(2),e.Q6J("hidden",!i.showFilterArea),e.xp6(1),e.Q6J("ngStyle",e.VKq(79,BS,i.heightOfLeftSide)),e.xp6(1),e.Q6J("ngIf",!i.rangeMode&&!i.isTemplateDetails&&!i.navigatedFromApprovalDetailsView),e.xp6(1),e.Q6J("ngIf",i.rangeMode&&!i.isTemplateDetails&&!i.navigatedFromApprovalDetailsView),e.xp6(1),e.Q6J("hidden",!i.showFilterArea),e.xp6(1),e.Q6J("hidden","Employee"==i.role&&"Summary"==i.currentViewType),e.xp6(1),e.Q6J("startDateForRequest",i.startDateForRequest)("endDateForRequest",i.endDateForRequest)("selectedCheckboxes",i.selectedCheckboxes)("subGroupsPermissions",i.subGroupsPermissions)("canAssignFromUnavailable",i.canAssignFromUnavailable)("listUnselected",i.listUnselected)("defaultView",i.defaultView),e.xp6(2),e.Udp("left",i.contextMenuPosition.x)("top",i.contextMenuPosition.y),e.Q6J("matMenuTriggerFor",r),e.xp6(5),e.Udp("left",i.tooltipMenuPosition.x)("top",i.tooltipMenuPosition.y),e.Q6J("matMenuTriggerFor",a),e.xp6(5),e.Oqu(i.subGroupName),e.xp6(2),e.Q6J("ngIf","User"==i.role),e.xp6(1),e.Q6J("ngClass","User"==i.role?"eSolve-calendar-menu":"eSolve-employee-calendar-menu"),e.xp6(2),e.Q6J("ngIf","User"==i.role),e.xp6(1),e.Q6J("ngIf","Employee"==i.role),e.xp6(1),e.Q6J("ngIf","User"==i.role||"Employee"==i.role&&"resourceTimelineDay"==i.tmpView),e.xp6(1),e.Q6J("ngIf","User"==i.role),e.xp6(1),e.Udp("left",i.contextMenuPosition.x)("top",i.contextMenuPosition.y),e.Q6J("matMenuTriggerFor",s),e.xp6(6),e.Q6J("matMenuTriggerFor",l),e.xp6(5),e.hij(" ",i.isTemplateDetails?"Copy to Days":"Copy to Date"," "),e.xp6(2),e.hij(" ",i.isTemplateDetails?"Consecutive Days":"Consecutive Dates"," "),e.xp6(1),e.Udp("left",i.contextMenuPosition.x)("top",i.contextMenuPosition.y),e.Q6J("matMenuTriggerFor",c),e.xp6(4),e.Q6J("ngIf",i.jobHasAttendanceConfirmation),e.xp6(1),e.Q6J("ngIf",i.jobHasLoneWorker),e.xp6(1),e.Q6J("ngIf",i.shouldDisplayEmployeeTradeJob),e.xp6(1),e.Q6J("ngIf",i.IsJobOfferedForTrade),e.xp6(7),e.Q6J("ngClass",e.VKq(81,F7,i.loading))("ngStyle",e.VKq(83,BS,i.heightOfCalendar+"px")),e.xp6(1),e.Q6J("options",i.calendarOptions),e.xp6(2),e.Q6J("ngIf",i.autoSolveLoading),e.xp6(1),e.Q6J("ngIf",i.showLoader),e.xp6(1),e.Q6J("ngIf",i.showSubgroupLoader),e.xp6(1),e.Q6J("ngIf",i.showUnassignLoader)}},dependencies:[D.mk,D.O5,D.PC,q.rH,Lo.lW,jg.Hw,KJ.d,On._H,fp.A9,fp.Yi,Lr.VK,Lr.OP,Lr.p6,Lr.KA,so.pp,so.ib,so.yz,so.yK,US,H1,Mx,Ox,TS,Nl,$n,Ja,dB,jS],styles:["#calendar[_ngcontent-%COMP%]{font-size:11px!important;height:100%;overflow-y:scroll}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}.permissions-font[_ngcontent-%COMP%]{font-size:12px;color:#a0a5ac}.loading[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}[_ngcontent-%COMP%]:ng-deep   .fc-timeline[_ngcontent-%COMP%]   .fc-cell-text[_ngcontent-%COMP%]{padding-right:6px!important}.highlight[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)!important}  .fc-body .fc-resource-area .fc-cell-content{display:inline-block;line-height:1.5}  .fc-scrollgrid-section-body td.fc-datagrid-cell.fc-resource{overflow:hidden;text-overflow:ellipsis}  .fc-scroller{overflow-y:auto!important}  .fc .fc-view-harness *, .fc-view-harness[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, .fc-view-harness[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{box-sizing:content-box}  table.fc-datagrid-header.fc-scrollgrid-sync-table{background-color:var(--eSolve-secondary)!important;height:43px}  .fc-theme-standard td, .fc-theme-standard[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fc-timeline-slot[_ngcontent-%COMP%]{border:1px solid #ddd}  .fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{-ms-flex-pack:center;justify-content:center}  .fc .fc-timeline-slot-frame{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;color:gray;background-color:var(--eSolve-secondary);height:35px!important;border-top:1px solid white;border-bottom:1px solid white;-ms-flex-pack:center;justify-content:center;padding-bottom:3px;padding-top:3px}  .fc .fc-timeline-slot-cushion{padding:7px 5px 4px;color:var(--eSolve-gray-dark)!important}  .fc-scrollgrid .fc-scroller-harness .fc-datagrid-cell-cushion{-ms-transform:rotate(-90deg) translate(-100%,0);transform:rotate(-90deg) translate(-100%);-ms-transform-origin:left top;transform-origin:left top;font-weight:700;display:inline-block;white-space:nowrap}  tr.fc-scrollgrid-section>td:nth-child(1){background-color:var(--eSolve-secondary)}  .fc td.fc-timeline-slot.fc-slot-today{background-color:#eff3f7!important}  .fc td.fc-timeline-lane.fc-resource{border:none}  .fc-timeline-lane-frame{z-index:1;border-bottom:1px solid #ddd}  .fc .fc-scrollgrid-section-body table{border-bottom-style:none}.eSolve-filter-area[_ngcontent-%COMP%]{overflow:visible!important}.eSolve-border-bottom[_ngcontent-%COMP%]{border-bottom-style:none!important}.eSolve-budget-value[_ngcontent-%COMP%]{font-size:12px;color:var(--eSolve-primary)}.eSolve-calendar-picker[_ngcontent-%COMP%]{cursor:pointer}.eSolve-picker-input[_ngcontent-%COMP%]{border:none!important;background-color:inherit!important;font-size:12px;height:20px;font-family:Nunito Sans;display:none}.eSolve-resource-label[_ngcontent-%COMP%]{-ms-transform:rotate(-90deg) translate(-100%,0);transform:rotate(-90deg) translate(-100%);-ms-transform-origin:top left;transform-origin:top left;font-weight:700;font-size:12px;padding-top:2px}.eSolve-resource-title[_ngcontent-%COMP%]{position:absolute;top:0}.eSolve-no-wrap[_ngcontent-%COMP%]{white-space:nowrap}option[_ngcontent-%COMP%]{width:100px!important}.eSolve-stat-container-items[_ngcontent-%COMP%]{margin-top:5%;margin-bottom:5%}.eSolveBudgetLabels[_ngcontent-%COMP%]{color:var(--eSolve-white);white-space:nowrap}.esolve-stats-container[_ngcontent-%COMP%]{padding-left:1.6%}.eSolve-progress-div[_ngcontent-%COMP%]{background-color:#555c6e}.eSolve-budget-row[_ngcontent-%COMP%]{padding-right:5%;padding-left:1%}.eSolve-select-card[_ngcontent-%COMP%]{background-color:#40485c}space-between[_ngcontent-%COMP%]{background-color:#40485c}label[_ngcontent-%COMP%]{margin-bottom:0!important}.eSolve-top-filter[_ngcontent-%COMP%]{border-color:var(--eSolve-primary);height:30px;background-color:inherit}  .fc th .fc td{vertical-align:bottom!important}.eSolve-view-navigation[_ngcontent-%COMP%]{background-color:inherit;border-color:var(--eSolve-primary)}.filterIcon[_ngcontent-%COMP%]{cursor:pointer;padding-right:5px;padding-left:5%}.right-padding[_ngcontent-%COMP%]{padding-right:1%}.left-padding[_ngcontent-%COMP%]{padding-left:1%}.eSolve-datepicker-card[_ngcontent-%COMP%]{padding:1% 2%}.mat-form-field-appearance-legacy.mat-form-field-infix[_ngcontent-%COMP%]{padding:0!important}  .mat-select-content.schedule-select{width:2000px;background-color:var(--eSolve-red);font-size:9px}  .mat-menu-item{font-family:Nunito Sans!important;font-size:13px!important}.eSolve-calendar-background-dark[_ngcontent-%COMP%]{background-color:var(--eSolve-gray-dark)}.eSolve-label-text[_ngcontent-%COMP%]{color:var(--eSolve-white);font-size:12px}.eSolve-next-prev[_ngcontent-%COMP%]{height:30px!important;line-height:25px;width:30px;border:none}.eSolve-timelineView[_ngcontent-%COMP%]{padding-top:6px}.eSolve-stat-value[_ngcontent-%COMP%]{padding-top:8px}md-select[_ngcontent-%COMP%]{border:var(--eSolve-primary)}  .mat-form-field-underline{display:none}.dynamic-event-padding[_ngcontent-%COMP%]{padding-left:5px;white-space:nowrap!important}.eSolve-card-area[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}.eSolve-datepicker-area[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.eSolve-datepicker-area-item[_ngcontent-%COMP%]{margin:1%}  .mat-menu-panel{min-height:0px!important;text-align:center!important}.tooltipLabel[_ngcontent-%COMP%]{font-size:12px}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff}.mat-button-toggle[_ngcontent-%COMP%]{height:30px}.eSolve-calendar-menu[_ngcontent-%COMP%]{padding-top:3px;margin-bottom:1.2em}.eSolve-employee-calendar-menu[_ngcontent-%COMP%]{padding-top:10px;margin-bottom:-7px}.eSolve-autosolve-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff;width:115px}.eSolve-card-height[_ngcontent-%COMP%]{height:32px!important;line-height:32px!important;font-size:12px!important}.eSolve-timeline-button[_ngcontent-%COMP%]{height:32px!important;font-size:12px!important;background-color:#eff3f7;width:92px}.eSolve-timeline-button[_ngcontent-%COMP%]:focus{box-shadow:none}.eSolve-timeline-button[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 .2rem #2b344940}.eSolve-timeline-button[_ngcontent-%COMP%]:disabled{box-shadow:none;color:#00000061;border-color:#bfbfbf!important}.eSolve-ranking-button[_ngcontent-%COMP%]{height:32px!important;font-size:12px!important;border-color:var(--eSolve-primary);background-color:#eff3f7;width:88px}.eSolve-approve-button[_ngcontent-%COMP%]{width:125px!important}.eSolve-ranking-button[_ngcontent-%COMP%]:focus{box-shadow:none}.eSolve-ranking-button[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 .2rem #2b344940}.back-to-approvals-btn[_ngcontent-%COMP%]{width:160px!important}.eSolve-autosolve-button[_ngcontent-%COMP%]:focus{box-shadow:none}.eSolve-autosolve-button[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 .2rem #2b344940}.eSolve-calendar-datepicker[_ngcontent-%COMP%]{width:90%}.eSolve-xs-identation[_ngcontent-%COMP%]{padding-left:5px}.mat-select-content[_ngcontent-%COMP%]{width:100px}.calendar-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;width:100%;padding:20px}.ellipsis-btn[_ngcontent-%COMP%]{float:right;background-color:#0000;border-color:#0000;color:#fff}.refreshIcon-span[_ngcontent-%COMP%]{background-color:#676778;border-color:#676778;border-radius:50%;color:#fff;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:15px;width:15px}.minusCircleIcon-span[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%;color:#676778;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:15px;width:15px}.exclamationIcon-span[_ngcontent-%COMP%]{background-color:#fff;display:-ms-flexbox;display:flex;position:absolute;left:30px;top:9px;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:10px;width:4px}.check-span[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%;color:#676778;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:15px;width:15px}.criticalTask-label[_ngcontent-%COMP%]{font-weight:700;color:#fff;padding:0 3px;background-color:#df0018;border-radius:3px;margin-right:2px}@-moz-document url-prefix(){.fc-ltr .fc-resource-area tr>*{background-color:transparent!important}}  .fc-timeline .fc-head .fc-time-area .fc-cell-content{background-color:var(--eSolve-secondary);height:35px}  div.fc-cell-content{background-color:#e0e6e9;height:15px}  div.fc-cell-content{background-color:#0000;position:relative;z-index:1000!important}.eSolve-text-rotate[_ngcontent-%COMP%]{font-size:13px!important}  .fc-scroller .fc-gutter-right{padding-right:0!important}.opacity-0[_ngcontent-%COMP%]{opacity:0}.esolve-toolbar-zero-values[_ngcontent-%COMP%]{color:#fff}.esolve-toolbar-has-values[_ngcontent-%COMP%]{color:var(--eSolve-green)}.esolve-toolbar-invalid[_ngcontent-%COMP%]{color:var(--eSolve-red)}.esolve-month-label[_ngcontent-%COMP%]{white-space:nowrap;font-size:15px}.esolve-view-nav-card[_ngcontent-%COMP%]{padding-left:20px}  .fc-bg .fc-state-highlight{background-color:#009688!important}.esolve-responsive-hide[_ngcontent-%COMP%]{display:none}.esolve-navy-bar-cell[_ngcontent-%COMP%]{padding-left:2%;margin:.1%}.left-container[_ngcontent-%COMP%]{margin-right:.3%!important;display:block!important;padding-right:3px}.eSolve-schedule-submit-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff;width:141px}.eSolve-schedule-submit-button[_ngcontent-%COMP%]:disabled, .eSolve-schedule-submit-button[disabled][_ngcontent-%COMP%]{background-color:#9badcf}.submit-info-icon[_ngcontent-%COMP%]{color:var(--eSolve-primary);font-size:20px;margin:0 3px;cursor:pointer}.eSolve-schedule-unlock-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff;margin-right:5px;width:65px}.submit-info-icon-container[_ngcontent-%COMP%]{padding-top:6px}.lockedDay[_ngcontent-%COMP%]{background-color:#c8c8c8!important}.esolve-legend-button[_ngcontent-%COMP%]{cursor:pointer}.buttonGroup-margin-right[_ngcontent-%COMP%]{margin-right:25px!important}.esolve-filter-layout-gap[_ngcontent-%COMP%]{padding-top:5px;margin-left:-9px}.autosolve-icon[_ngcontent-%COMP%]{width:15px;margin-right:5px;margin-bottom:3px}.margin-bottom-3[_ngcontent-%COMP%]{margin-bottom:3px}.margin-right-5[_ngcontent-%COMP%]{margin-right:5px}.bars-icon[_ngcontent-%COMP%]{position:relative;padding:0;line-height:30px;font-size:15px;border:1px solid #c8c8c8;width:40px!important;min-width:0!important;min-width:initial!important}.leftPanelDetail[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff}.employeeLeftPanelToggle[_ngcontent-%COMP%]{border-color:var(--eSolve-primary);margin-bottom:15px}@media (max-width: 599px){.left-container[_ngcontent-%COMP%]{max-height:100%!important}}@media (min-width: 600px) and (max-width: 699px){.eSolve-autosolve-button[_ngcontent-%COMP%], .eSolve-ranking-button[_ngcontent-%COMP%]{width:auto}}@media (max-width: 992px){.eSolve-datepicker-card[_ngcontent-%COMP%]{padding-top:3%}}"]}),n})();function Z7(n,o){if(1&n&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.required," ")}}function L7(n,o){if(1&n&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.limit50," ")}}function U7(n,o){if(1&n&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Job Type Name ",t.message.inUse," ")}}function j7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addNewJobType())}),e.TgZ(1,"div",12)(2,"div",13)(3,"label",14),e._uU(4," Job Type Name: "),e.qZA()(),e.TgZ(5,"div",15),e._UZ(6,"input",16),e.YNc(7,Z7,2,1,"div",17),e.YNc(8,L7,2,1,"div",17),e.YNc(9,U7,2,1,"div",17),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.newJobTypeForm),e.xp6(7),e.Q6J("ngIf",(null==t.f.name?null:t.f.name.touched)&&(null==t.f.name.errors?null:t.f.name.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.validUrl)}}let Y7=(()=>{class n{constructor(t,i,r,a,s,l){this.data=t,this._confirmDialogRef=i,this._messageService=r,this._fb=a,this._jobTypeService=s,this._customAsyncValidator=l,this._ngUnsubscribe=new b.x,this.createJobTypeForm()}ngOnInit(){this.message=St.yw}createJobTypeForm(){this.newJobTypeForm=this._fb.group({id:[0],name:["",[_.kI.required,_.kI.maxLength(50),hr.bd]]},{validators:[],asyncValidators:[this._customAsyncValidator.ValidateName("name","id")]})}get f(){return this.newJobTypeForm.controls}addNewJobType(){this.newJobType=this.newJobTypeForm.value.name.trim(),this.newJobTypeForm.controls.id.valid&&this.newJobTypeForm.controls.name.valid&&this.newJobType?this._jobTypeService.addNewJobType(this.newJobType).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this._messageService.open("Job Type created.");let i=JSON.parse(t);this._confirmDialogRef.close({message:"submitted",newJobId:i.id,newJobName:i.name})},t=>{this._messageService.open(t)},()=>{}):Object.keys(this.newJobTypeForm.controls).forEach(t=>{const i=this.newJobTypeForm.get(t);if(i.value){let r=i.value.trim();i.setValue(r)}i.markAsTouched({onlySelf:!0})})}closeDialog(){this._confirmDialogRef.close()}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(se.G),e.Y36(_.qu),e.Y36(Lg.T),e.Y36(ql.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-job-type-dialog"]],decls:23,vars:1,consts:[[1,"container-fluid","jt-new-container"],[1,"row"],[1,"col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider"],["class","new-job-type-form","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","button-divider"],["type","button",1,"add-new-jt-button",3,"click"],["autocomplete","off",1,"new-job-type-form",3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-start","small-screen-display-block"],[1,"min-width-100"],["for","name",1,"jt-label"],[1,"full-width"],["id","name","type","text","formControlName","name","maxlength","50",1,"form-control","new-jt-input"],["class","validationError error-message-margin",4,"ngIf"],[1,"validationError","error-message-margin"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),e._uU(7," Add Job Type "),e.qZA(),e.TgZ(8,"div",5)(9,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()()()(),e.TgZ(10,"div",1)(11,"div",2),e._UZ(12,"hr",7),e.qZA()(),e.TgZ(13,"div",1)(14,"div",2),e.YNc(15,j7,10,4,"form",8),e.qZA()(),e.TgZ(16,"div",9)(17,"div",2),e._UZ(18,"hr"),e.qZA()(),e.TgZ(19,"div",1)(20,"div",2)(21,"button",10),e.NdJ("click",function(){return i.addNewJobType()}),e._uU(22," Save Changes "),e.qZA()()()()()()),2&t&&(e.xp6(15),e.Q6J("ngIf",i.newJobTypeForm))},dependencies:[D.O5,_._Y,_.Fj,_.JJ,_.JL,_.nD,_.sg,_.u],styles:[".jt-new-container[_ngcontent-%COMP%]{padding:2px}.close-dialog-text[_ngcontent-%COMP%]{color:#596981;font-size:11px}.close-dialog-text[_ngcontent-%COMP%]{cursor:pointer}.dialog-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-bottom:20px}.button-divider[_ngcontent-%COMP%]{margin-top:13px}.jt-label[_ngcontent-%COMP%]{color:#565d6f;font-size:12px;font-weight:600}[_ngcontent-%COMP%]:focus{outline-color:transparent!important;outline-style:none!important}.new-jt-input[_ngcontent-%COMP%]{height:28px;font-size:12px}.add-new-jt-button[_ngcontent-%COMP%]{float:right;width:135px;height:25px;padding:0 12px;min-width:88px;border-radius:.25rem;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary)}.add-new-jt-button[_ngcontent-%COMP%]:disabled, .add-new-jt-button[disabled][_ngcontent-%COMP%]{background-color:#9badcf}.eSolveCloseButtom[_ngcontent-%COMP%]{padding-right:0}.error-message-margin[_ngcontent-%COMP%]{margin-bottom:-20px}.min-width-100[_ngcontent-%COMP%]{min-width:100px}.full-width[_ngcontent-%COMP%]{width:100%}@media (max-width: 767px){.small-screen-display-block[_ngcontent-%COMP%]{display:block!important}}"]}),n})();const q7=["jobTypeSelect"];function J7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"span",34),e._uU(2),e.qZA(),e.TgZ(3,"span",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function H7(n,o){1&n&&e.YNc(0,J7,5,1,"div",32),2&n&&e.Q6J("ngForOf",o.items)}function B7(n,o){1&n&&(e.TgZ(0,"th",36),e._uU(1," Job Type "),e.qZA())}function V7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",37)(1,"span",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.showDetails(a.id,a.jobTypeName))}),e._uU(2),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.jobTypeName)}}function G7(n,o){1&n&&e._UZ(0,"th",39)}function W7(n,o){1&n&&(e.TgZ(0,"td",40),e._UZ(1,"i",41),e.qZA())}function Q7(n,o){1&n&&(e.TgZ(0,"th",39)(1,"div",42)(2,"span",43),e._uU(3,"Actions"),e.qZA()()())}function z7(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",44)(1,"div",45)(2,"div",46)(3,"button",47),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.showDetails(a.id,a.jobTypeName))}),e._uU(4," View Details "),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.s9C("id",t.jobTypeName)}}function K7(n,o){1&n&&e._UZ(0,"tr",48)}function $7(n,o){1&n&&e._UZ(0,"tr",49)}function X7(n,o){1&n&&e._UZ(0,"mat-spinner")}const e8=function(){return[5,10,15,25,50,100]};let t8=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h){this._messageService=t,this.dialog=i,this._jobTypeService=r,this.titleService=a,this._cd=s,this._renderer=l,this._userRoleService=c,this._zone=u,this._router=h,this.pageTitle="Settings > Job Types",this.displayedColumns=["type","chevron","actions"],this.data=new N.by,this.dataSource=new N.by,this.resultsLength=0,this.jobTypeCtrl=new _.NI,this.isLoadingResults=!0,this.isLoading=!1,this.canCreateSkillCode=!1,this.canMaintainJobTypes=!1,this.jobTypeSearchInput=new b.x,this._ngUnsubscribe=new b.x,this._updateTable=new e.vpe,h.events.subscribe(()=>{this._cd&&!this._cd.destroyed&&u.run(()=>this._cd.detectChanges())})}set content(t){this._jobTypeSelect=t}ngOnInit(){this.titleService.sendTitle(this.pageTitle),this.getPermissions(),this.jobTypes=(0,Yr.z)((0,gn.of)([]),this.jobTypeSearchInput.pipe((0,H.R)(this._ngUnsubscribe),(0,Gi.x)(),(0,j.w)(t=>this._jobTypeService.searchJobTypes(t).pipe((0,Wi.K)(()=>(0,gn.of)([]))))))}ngAfterViewInit(){$(this._jobTypeSelect.element.children[0].children[1]).remove(),$(this._jobTypeSelect.element.children[0]).append(this._createIconElement("fa-search","padding-right","6px")),this.populateTableData(),this.jobTypeCtrl.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{t&&(this.paginator.firstPage(),this.populateTableData()),this._updateTable.next(!0)})}getPermissions(){setTimeout(()=>{let t=this._userRoleService.getGlobalAccountPermissions();null!=t&&null!=t&&(null!=t.canUserMaintainJobTypes&&null!=t.canUserMaintainJobTypes?(this.canCreateSkillCode=t.canUserCreateSkillCodes,this.canMaintainJobTypes=t.canUserMaintainJobTypes):(this.canCreateSkillCode=!1,this.canMaintainJobTypes=!1))},200)}populateTableData(){this.data.paginator=this.paginator,this.dataSource.sort=this.sort,(0,ie.T)(this.sort.sortChange,this.paginator.page,this._updateTable).pipe((0,H.R)(this._ngUnsubscribe),(0,_e.O)({}),(0,j.w)(()=>(this.dataSource.sort=this.sort,this.isLoadingResults=!0,this._jobTypeService.getAllJobTypesForTable(this.jobTypeCtrl.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction))),(0,Oe.U)(t=>(this.isLoadingResults=!1,this.resultsLength=t.totalCount,t.items)),(0,Wi.K)(()=>(this.isLoadingResults=!1,(0,gn.of)([])))).subscribe(t=>{this.data=t,this._cd.detectChanges()})}openNewJobTypeDialog(){this._zone.run(()=>{this.dialog.open(Y7,{disableClose:!0,width:"370px"}).afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{i&&"submitted"===i.message&&(this._updateTable.next(!0),this.showDetails(i.newJobId,i.newJobName))})})}openJobTypeDetailsDialog(t,i){this.dialogRef=this.dialog.open(uS,{disableClose:!0,width:"820px",panelClass:["max-height96","job-type-details-dialog"],data:{jobTypeId:t,jobTypeName:i,permissionToCreateSkillCode:this.canCreateSkillCode,permissionToMaintainJobTypes:this.canMaintainJobTypes}}),this.dialogRef.afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{"deleted"===r.message&&(this.paginator.length%this.paginator.pageSize==1&&this.paginator.firstPage(),this._updateTable.next(!0))})}showDetails(t,i){this.openJobTypeDetailsDialog(t,i)}_createIconElement(t,i,r){let a=this._renderer.createElement("i");return this._renderer.addClass(a,"fa"),this._renderer.addClass(a,t),this._renderer.setStyle(a,i,r),this._renderer.setStyle(a,"color","gray"),a}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se.G),e.Y36(z.uw),e.Y36(Lg.T),e.Y36(ce.Z),e.Y36(e.sBO),e.Y36(e.Qsj),e.Y36(qi.J),e.Y36(e.R0b),e.Y36(q.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-job-type-settings"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(q7,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.content=r.first)}},decls:36,vars:17,consts:[[1,"container-fluid"],[1,"table-container"],[1,"table-header","row"],[1,"leftSide","header-left","d-flex","justify-content-between"],[1,"table-header-title"],[1,"search-input"],["id","JT_search",1,"esolve-jt-search-container"],["id","JT_search_input","bindLabel","name","bindValue","id","placeholder","Find Job Type",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","multiple","hideSelected","typeahead","formControl"],["jobTypeSelect",""],["aria-hidden","true",1,"fa","fa-search"],["ng-multi-label-tmp",""],[1,"rightSide","header-right","d-flex","justify-content-end"],["id","JT_add_job_type_button",1,"add-job-type-button",3,"disabled","click"],[1,"fa","fa-plus","add-job-type-icon","border-none"],[1,"table-divider"],["id","JT_job_types_table_container",1,"job-table-container"],[1,"g-thin-black-scroll-bar"],["mat-table","","id","JT_job_types_table","matSort","",1,"job-types-table",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","","mat-sort-header","","id","jobType-header",4,"matHeaderCellDef"],["mat-cell","","class","job-type-name",4,"matCellDef"],["matColumnDef","chevron"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","eSolvechevron",4,"matCellDef"],["matColumnDef","actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[1,"spinner-container","centered"],[4,"ngIf"],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["mat-header-cell","","mat-sort-header","","id","jobType-header"],["mat-cell","",1,"job-type-name"],[1,"clickableJobTypeName",3,"click"],["mat-header-cell",""],["mat-cell","",1,"eSolvechevron"],[1,"fa","fa-chevron-right","job-chevron-icon"],[1,"action-title-div"],[1,"actions-title"],["mat-cell",""],[1,"row"],[1,"col-md-6"],[1,"btn","details-button","border-none",3,"id","click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5,"Job Types"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"ng-select",7,8),e.ALo(10,"async"),e._UZ(11,"i",9),e.YNc(12,H7,1,1,"ng-template",10),e.qZA()()()(),e.TgZ(13,"div",11)(14,"button",12),e.NdJ("click",function(){return i.openNewJobTypeDialog()}),e._UZ(15,"i",13),e._uU(16," \xa0\xa0Add Job Type "),e.qZA()()(),e._UZ(17,"hr",14),e.TgZ(18,"div",15)(19,"div",16)(20,"table",17),e.ynx(21,18),e.YNc(22,B7,2,0,"th",19),e.YNc(23,V7,3,1,"td",20),e.BQk(),e.ynx(24,21),e.YNc(25,G7,1,0,"th",22),e.YNc(26,W7,2,0,"td",23),e.BQk(),e.ynx(27,24),e.YNc(28,Q7,4,0,"th",22),e.YNc(29,z7,5,1,"td",25),e.BQk(),e.YNc(30,K7,1,0,"tr",26),e.YNc(31,$7,1,0,"tr",27),e.qZA()()(),e._UZ(32,"mat-paginator",28,29),e.qZA()(),e.TgZ(34,"div",30),e.YNc(35,X7,1,0,"mat-spinner",31),e.qZA()),2&t&&(e.xp6(8),e.Q6J("items",e.lcZ(10,14,i.jobTypes))("multiple",!0)("hideSelected",!0)("typeahead",i.jobTypeSearchInput)("formControl",i.jobTypeCtrl),e.xp6(6),e.Q6J("disabled",!i.canMaintainJobTypes),e.xp6(6),e.Q6J("dataSource",i.data),e.xp6(10),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(16,e8)),e.xp6(3),e.Q6J("ngIf",i.isLoadingResults))},dependencies:[D.sg,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,mp.Ou,_.JJ,_.oH,Sn,er,di,D.Ov],styles:[".container-fluid[_ngcontent-%COMP%]{position:relative;background-color:#eff3f7;padding:17px;width:100%}.esolve-jt-search-container[_ngcontent-%COMP%]{min-width:230px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:100px;border:1px solid #e1e6ec;border-radius:5px;padding:27px;background-color:#fff}.table-header[_ngcontent-%COMP%]{margin-bottom:25px;position:relative}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:16px;font-weight:700;padding-top:6px}.eSolvechevron[_ngcontent-%COMP%]{position:relative;width:33%}.job-table-container[_ngcontent-%COMP%]{position:relative;overflow:auto;border-radius:5px 5px 0 0;top:-14px;padding-right:15px}table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]{border-radius:5px 5px 0 0}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}.mat-paginator-container[_ngcontent-%COMP%]{border-radius:0 0 5px 5px}.job-type-loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.mat-column-type[_ngcontent-%COMP%]{position:relative;width:33%}.mat-column-employees[_ngcontent-%COMP%]{position:relative;width:35%}.mat-column-actions[_ngcontent-%COMP%]{position:relative;width:10%;min-width:140px;-ms-flex-pack:end;justify-content:flex-end}.ps--active-x[_ngcontent-%COMP%] > .ps__rail-x[_ngcontent-%COMP%], .ps--active-y[_ngcontent-%COMP%] > .ps__rail-y[_ngcontent-%COMP%]{z-index:5000}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}.job-type-name[_ngcontent-%COMP%], td.mat-column-type[_ngcontent-%COMP%]{font-weight:700;font-size:12.5px;color:#595959}td.mat-column-employees[_ngcontent-%COMP%]{font-weight:700;font-size:11px;color:#596881}.edit-list-button[_ngcontent-%COMP%], .add-job-type-button[_ngcontent-%COMP%]{height:30px;width:130px;min-width:110px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;position:relative;top:12px;-ms-flex-line-pack:center;align-content:center;border:1px solid #ced5db;border-radius:.25rem;cursor:pointer}.add-job-type-button[_ngcontent-%COMP%]:disabled{pointer-events:none;color:#97a5b5}.eSolve-button[_ngcontent-%COMP%]{height:27px!important;margin-bottom:0;margin-left:0;width:-moz-max-content;width:max-content}.rightMargin[_ngcontent-%COMP%]{margin-right:0}.details-button[_ngcontent-%COMP%]{height:27px;width:140px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);padding:0 0 1px}.border-none[_ngcontent-%COMP%]{border:none}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0;text-align:center}.action-title-div[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-line-pack:start;align-content:flex-start;width:140px}.actions-title[_ngcontent-%COMP%]{margin:auto}@media (min-width: 2800px) and (max-width: 3100px){.action-title-div[_ngcontent-%COMP%]{margin-left:10px}}@media (min-width: 3100px){.action-title-div[_ngcontent-%COMP%]{margin-left:16px}}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.edit-icon[_ngcontent-%COMP%], .add-job-type-icon[_ngcontent-%COMP%]{position:relative;top:1px}.leftSide[_ngcontent-%COMP%]{position:relative;width:78%;padding-right:15px;margin-left:15px}.rightSide[_ngcontent-%COMP%]{position:relative;width:18%;padding-left:15px;margin-right:2%}.search-icon[_ngcontent-%COMP%]{right:24px;position:absolute;top:7px;color:#989898;font-size:14px;cursor:pointer}.job-chevron-icon[_ngcontent-%COMP%]{color:#c6c6c6;font-size:11px}.header-right[_ngcontent-%COMP%]{border-left:1px solid #ced5db;margin:-12px 0;max-width:100%}.icon-input[_ngcontent-%COMP%]{padding-right:60px!important;padding-left:10px!important;height:30px;border-radius:6px;font-size:11px;font-weight:300;color:#615f5b;background-color:#f2f2f2;position:relative;width:278px;border:1px solid #999999}.clickableJobTypeName[_ngcontent-%COMP%]{cursor:pointer}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 277px);overflow-wrap:anywhere}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#jobType-header[_ngcontent-%COMP%]{position:relative;width:33%}.mat-sort-header-button[_ngcontent-%COMP%]{text-align:left;background-color:#d2691e}@media (max-width: 319px){.esolve-jt-search-container[_ngcontent-%COMP%]{min-width:0}}@media (max-width: 393px){#jobType-header[_ngcontent-%COMP%], .actions-title[_ngcontent-%COMP%]{font-size:11px}.details-button[_ngcontent-%COMP%]{width:108px}.mat-column-actions[_ngcontent-%COMP%]{min-width:108px}}@media (max-width: 425px){.table-header-title[_ngcontent-%COMP%], .search-input[_ngcontent-%COMP%]{position:relative;width:100%;clear:both}.leftSide[_ngcontent-%COMP%]{position:relative;width:100%;-ms-flex-direction:column;flex-direction:column;margin-left:0}.table-header-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.icon-input[_ngcontent-%COMP%]{width:100%}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding-left:2vw!important}.mat-header-cell[_ngcontent-%COMP%]:last-of-type{text-align:right}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 440px);overflow-wrap:anywhere}.mat-column-actions[_ngcontent-%COMP%]{min-width:126px}}@media (max-width: 463px) and (min-width: 426px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 395px);overflow-wrap:anywhere}}@media (max-width: 605px) and (min-width: 463px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 340px);overflow-wrap:anywhere}}@media (max-width: 767px){.eSolve-button[_ngcontent-%COMP%]{height:27px!important;margin-bottom:10px;margin-top:10px;width:103px}.eSolve-blue-button[_ngcontent-%COMP%]{margin-right:0}.col-md-6[_ngcontent-%COMP%]{padding-right:0}.details-button[_ngcontent-%COMP%]{margin-right:15px}}@media (max-width: 878px) and (min-width: 606px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 326px);overflow-wrap:anywhere}}@media (max-width: 878px){.leftSide[_ngcontent-%COMP%]{position:relative;width:98%;padding-right:0}.rightSide[_ngcontent-%COMP%]{position:relative;width:98%}.header-right[_ngcontent-%COMP%]{border-left:0px solid #ced5db;margin:10px 0}}"]}),n})();class n8{constructor(o,t,i,r,a,s){this.customDataID=o,this.customDataTypeID=t,this.name=i,this.organisationFieldId=r,this.customDataType=a,this.lookUpValues=s}}function i8(n,o){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.required," ")}}function r8(n,o){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.inUse," ")}}function o8(n,o){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Type ",t.message.required," ")}}function a8(n,o){1&n&&e._UZ(0,"hr",11)}function s8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),a=r.index,s=r.$implicit,l=e.oxw(3);return e.KtG(l.deleteCustomValue(a,s.controls.id.value))}),e.qZA()}}function l8(n,o){if(1&n&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Values ",t.message.required," ")}}function c8(n,o){if(1&n&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.customDataLookupInUse," ")}}const GS=function(n){return{freezeType:n}};function d8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"input",38),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.isValueUnique())}),e.qZA(),e.YNc(3,s8,1,0,"i",39),e.qZA(),e.YNc(4,l8,2,1,"div",40),e.YNc(5,c8,2,1,"div",40),e.qZA()}if(2&n){const t=o.index,i=e.oxw(3);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("ngClass",e.VKq(5,GS,i.isEmployeeOrganisationData)),e.xp6(1),e.Q6J("ngIf",!i.isEmployeeOrganisationData),e.xp6(1),e.Q6J("ngIf",i.customDataForm.controls.customDataLookups.controls[t].controls.name.touched&&(null==i.customDataForm.controls.customDataLookups.controls[t].controls.name.errors?null:i.customDataForm.controls.customDataLookups.controls[t].controls.name.errors.required)),e.xp6(1),e.Q6J("ngIf",null==i.customDataForm.controls.customDataLookups.controls[t].errors?null:i.customDataForm.controls.customDataLookups.controls[t].errors.lookupInUse)}}function u8(n,o){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Values ",t.message.unique," ")}}function p8(n,o){if(1&n&&(e.ynx(0),e.YNc(1,u8,2,1,"div",18),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t.isValuesUnique)}}function f8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw(4);return e.KtG(a.addNewInput(r.target.value))}),e._uU(1," Add New Value "),e.qZA()}}function h8(n,o){if(1&n&&(e.TgZ(0,"div",43),e.YNc(1,f8,2,0,"button",44),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.isLookup)}}function m8(n,o){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Values ",t.message.unique," ")}}function g8(n,o){if(1&n&&(e.ynx(0),e.YNc(1,m8,2,1,"div",18),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t.isValuesUnique)}}function _8(n,o){if(1&n&&(e.TgZ(0,"div",12)(1,"div",31)(2,"div",14)(3,"label",32),e._uU(4," Values*: "),e.qZA()(),e.TgZ(5,"div",16),e.YNc(6,d8,6,7,"div",33),e.qZA()(),e.YNc(7,p8,2,1,"ng-container",34),e.YNc(8,h8,2,1,"div",35),e.YNc(9,g8,2,1,"ng-container",34),e.qZA()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.customDataForm.get("customDataLookups").controls),e.xp6(1),e.Q6J("ngIf",t.innerWidth<768),e.xp6(1),e.Q6J("ngIf",!t.isEmployeeOrganisationData),e.xp6(1),e.Q6J("ngIf",t.innerWidth>767)}}function v8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",28)(2,"button",46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.deleteCustomData())}),e._UZ(3,"i",47),e._uU(4," Delete "),e.qZA()()()}}function b8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitCustomData())}),e._UZ(2,"hr",11),e.TgZ(3,"div",12)(4,"div",13)(5,"div",14)(6,"label",15),e._uU(7," Name*: "),e.qZA()(),e.TgZ(8,"div",16)(9,"input",17),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.isNameUnique())}),e.qZA()()(),e.YNc(10,i8,2,1,"div",18),e.YNc(11,r8,2,1,"div",18),e.qZA(),e._UZ(12,"hr",11),e.TgZ(13,"div",12)(14,"div",13)(15,"div",14)(16,"label",19),e._uU(17," Type*: "),e.qZA()(),e.TgZ(18,"div",16)(19,"ng-select",20),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectedType(r))}),e.qZA()()(),e.YNc(20,o8,2,1,"div",18),e.qZA(),e.YNc(21,a8,1,0,"hr",21),e.YNc(22,_8,10,4,"div",22),e._UZ(23,"hr",11),e.TgZ(24,"div",23)(25,"div",24),e.YNc(26,v8,5,0,"div",25),e.qZA(),e.TgZ(27,"div",24)(28,"div",1)(29,"div",26)(30,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(31," Cancel "),e.qZA()(),e.TgZ(32,"div",28)(33,"button",29),e._uU(34," Save Changes "),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.customDataForm),e.xp6(10),e.Q6J("ngIf",t.customDataForm.controls.name.touched&&(null==t.customDataForm.controls.name.errors?null:t.customDataForm.controls.name.errors.required)),e.xp6(1),e.Q6J("ngIf",t.customDataNameInUse),e.xp6(8),e.Q6J("ngClass",e.VKq(13,GS,!t.isDeletable||t.isEmployeeOrganisationData))("items",t.types)("required",!0)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("ngIf",t.customDataForm.controls.customDataTypeID.touched&&(null==t.customDataForm.controls.customDataTypeID.errors?null:t.customDataForm.controls.customDataTypeID.errors.required)),e.xp6(1),e.Q6J("ngIf",t.isLookup),e.xp6(1),e.Q6J("ngIf",t.isLookup),e.xp6(4),e.Q6J("ngIf",t.showHideDeleteButton()),e.xp6(7),e.Q6J("disabled",t.disabledSaveButton)}}let WS=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h){this.data=t,this._confirmDetailsDialogRef=i,this.formBuilder=r,this.customDataService=a,this._messageService=s,this.dialogRef=l,this.dialogService=c,this.newCustomValidator=u,this.cdref=h,this.customDataTitle="Custom Data",this.customData=new n8,this.isEdit=!1,this.isDeletable=!0,this.isValuesUnique=!0,this.customDataNameInUse=!1,this.disabledSaveButton=!1,this.isEmployeeOrganisationData=!1}ngAfterContentChecked(){this.customDataForm.updateValueAndValidity(),this.cdref.detectChanges()}closeDialog(){this._confirmDetailsDialogRef.close()}ngOnInit(){this.message=St.yw,this.getCustomDataTypes(),this.buildForm(),this.initCustomDataForm(),this.innerWidth=window.innerWidth}onResize(t){this.innerWidth=window.innerWidth}onSelectedType(t){this.selectedType=Number(t.id),this.isLookup=3===this.selectedType,this._getFormArray().clear(),this.isLookup&&this.addNewInput("")}addNewInput(t){this.isLookup&&this._getFormArray().push(this.formBuilder.group({id:new _.NI(0),name:new _.NI(t)}))}trackBy(t){return t}buildForm(){this.customDataForm=this.formBuilder.group({id:[""],name:["",{validators:[_.kI.required],updateOn:"change"}],customDataTypeID:["",{validators:[_.kI.required],updateOn:"change"}],customDataLookups:this.formBuilder.array([],{validators:[_.kI.required],updateOn:"change"}),toDeleteCustomDataLookups:this.formBuilder.array([])})}isNameUnique(){if(this.trimWholeForm(),""!=this.customDataForm.value.name){this.customDataNameInUse=!1;let t=0;this.isEdit&&(t=this.data.scheduleEdit.id),this.customDataService.checkIfCustomDataNameIsUnique(this.customDataForm.value.name,t).subscribe(i=>{this.customDataNameInUse=200!=i},i=>{},()=>{})}else this.customDataNameInUse=!1}isValueUnique(){this.trimWholeForm();let t=[];var a;this.customDataForm.controls.customDataLookups.value.forEach(i=>{t.push(i.name)}),-1==t.indexOf("")&&(this.isValuesUnique=!((a=t,a.filter((s,l)=>a.indexOf(s)!=l)).length>0))}getCustomDataTypes(){this.customDataService.getAllCustomDataTypes().subscribe(t=>{this.types=t})}initCustomDataForm(){let t=0;try{t=this.data.scheduleEdit.id}catch(i){}0!=t&&(this.isEdit=!0,this.customDataService.getById(this.data.scheduleEdit.id).subscribe(i=>{this.customData.customDataID=i.customDataIDs,this.customData.name=i.name,this.customData.customDataTypeID=i.customDataTypeID,this.customData.customDataType=i.customDataType,this.isEmployeeOrganisationData=!(0==i.organisationFieldId||null==i.organisationFieldId),3===i.customDataTypeID?(this.isLookup=!0,this.customDataService.getByIdLookup(this.data.scheduleEdit.id).subscribe(r=>{for(let a of r)this._getFormArray().push(this.formBuilder.group({id:new _.NI(a.id),name:new _.NI(a.name),isEmployeeDataValue:new _.NI(a.isEmployeeDataValue)}));this.customDataForm.patchValue(this.customData)})):this.customDataForm.patchValue(this.customData),this.customDataService.isDeletable(t).subscribe(r=>{this.isDeletable=200==r},r=>{},()=>{})}))}deleteCustomValue(t,i){this.isEdit?0==i?(this._getFormArray().removeAt(t),this.isValueUnique(),0==this._getFormArray().length&&this.addNewInput("")):(this._getDeleteFormArray().push(this.formBuilder.group({id:new _.NI(i)})),this._getFormArray().removeAt(t),this.isValueUnique(),0==this._getFormArray().length&&this.addNewInput("")):(this._getFormArray().removeAt(t),this.isValueUnique(),0==this._getFormArray().length&&this.addNewInput(""))}_getFormArray(){return this.customDataForm.controls.customDataLookups}submitCustomData(){this.disabledSaveButton=!0,this.isValueUnique();let t=!1;if(0==this.customDataForm.controls.customDataLookups.valid&&0==this.customDataForm.controls.customDataLookups.controls.length&&(t=!0),this.trimWholeForm(),(this.customDataForm.valid||t&&this.customDataForm.controls.name.valid&&this.customDataForm.controls.customDataTypeID.valid)&&!this.customDataNameInUse&&this.isValuesUnique){try{this.customDataForm.value.customDataLookups.forEach(r=>{r.customDataID=this.data.scheduleEdit.id})}catch(r){}let i=this.customDataForm.value;this.isEdit?(i.customDataID=this.data.scheduleEdit.id,this.customDataForm.controls.toDeleteCustomDataLookups.value.forEach(r=>{this.customDataService.deleteLookup(r.id).subscribe(a=>{},a=>{"CustomDataLookup with passed ID has been referenced in other tables."==this._messageService.handleHttpError(a).trim()?this._messageService.open("The lookup is currently in use so it cannot be deleted."):this._messageService.open("Lookup cannot be deleted")},()=>{})}),this.customDataService.edit(i).subscribe(r=>{this._messageService.open("Custom Data updated."),this.dialogRef.close({message:"submited"})},r=>{this._messageService.open(r),this.disabledSaveButton=!1})):this.customDataService.create(i).subscribe(r=>{this._messageService.open("Custom Data created."),this.dialogRef.close({message:"submited"})},r=>{this._messageService.open(r),this.disabledSaveButton=!1})}else Object.keys(this.customDataForm.controls).forEach(i=>{const r=this.customDataForm.get(i);r instanceof _.Oe?Object.keys(this.customDataForm.controls.customDataLookups.controls).forEach(a=>{Object.keys(this.customDataForm.controls.customDataLookups.controls[a].controls).forEach(s=>{this.customDataForm.controls.customDataLookups.controls[a].get(s).markAsTouched({onlySelf:!0})})}):r.markAsTouched({onlySelf:!0})}),this.isNameUnique(),this.disabledSaveButton=!1,this._messageService.open(this.message.fillForm)}deleteCustomData(){let t=this.data.scheduleEdit.id;this.isDeletable?this.dialogService.openConfirmDialog("Delete",(0,St.$j)(" Custom Data")).afterClosed().subscribe(i=>{i&&this.customDataService.delete(t).subscribe(r=>{this.dialogRef.close({message:"deleted"}),this._messageService.open("Custom Data deleted.")},r=>{},()=>{})}):this._messageService.open("Custom Data cannot be deleted.")}ngAfterViewInit(){}trimWholeForm(){const t=String(this.customDataForm.controls.name.value.trim());this.customDataForm.controls.name.setValue(t);try{let r=this.customDataForm.controls.customDataLookups.controls.length;for(var i=0;i<=r-1;i++){let a=this.customDataForm.value.customDataLookups[i].name.trim();this.customDataForm.controls.customDataLookups.controls[i].controls.name.setValue(a)}}catch(r){}}_getDeleteFormArray(){return this.customDataForm.controls.toDeleteCustomDataLookups}showHideDeleteButton(){return!(this.isEdit&&this.isEmployeeOrganisationData||!this.isEdit&&!this.isEmployeeOrganisationData)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(Mo.z),e.Y36(se.G),e.Y36(z.so),e.Y36(Ri.x),e.Y36(ql.x),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-custom-data-dialog"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},decls:13,vars:2,consts:[[1,"container-fluid","overflow-hidden"],[1,"row"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"eSolveHr"],[1,"form-group","row"],[1,"col-12","d-flex","justify-content-start","align-center"],[1,"min-width-50px"],["for","name",1,"col-form-label","col-form-label-sm"],[1,"full-width"],["id","name","formControlName","name","type","text","maxlength","50","required","",1,"form-control","form-control-sm","input-element","input-width",3,"change"],["class","validationError col-12 margin-left50px",4,"ngIf"],["for","customDataTypeID",1,"col-form-label","col-form-label-sm"],["id","customDataTypeID","formControlName","customDataTypeID","bindLabel","name","bindValue","id",1,"jobTypeDetails","input-width",3,"ngClass","items","required","clearable","searchable","change"],["class","eSolveHr",4,"ngIf"],["class","form-group row",4,"ngIf"],[1,"form-group","row","align-center-md"],[1,"col-12","col-md-6"],["class","row",4,"ngIf"],[1,"col-12","align-center"],["type","button",1,"btn","rules-cancel-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],[1,"col-12"],["id","submitBtn","type","submit",1,"btn","rules-save-button","form-buttons","float-right",3,"disabled"],[1,"validationError","col-12","margin-left50px"],[1,"col-12","col-md-6","d-flex","justify-content-start","align-center"],[1,"col-form-label","col-form-label-sm"],["class","form-margin-bottom","formArrayName","customDataLookups",4,"ngFor","ngForOf"],[4,"ngIf"],["class","col-12 col-md-6 align-center-md",4,"ngIf"],["formArrayName","customDataLookups",1,"form-margin-bottom"],[1,"d-flex","justify-content-start","align-center",3,"formGroupName"],["id","lookupValueInput","formControlName","name","required","",1,"form-control","form-control-sm","input-element","input-width",3,"ngClass","change"],["class","fa fa-trash-o esolve-custom-icon delete-icon",3,"click",4,"ngIf"],["class","validationError col-12 margin-left-15px",4,"ngIf"],[1,"fa","fa-trash-o","esolve-custom-icon","delete-icon",3,"click"],[1,"validationError","col-12","margin-left-15px"],[1,"col-12","col-md-6","align-center-md"],["type","button","class","btn rules-addnew-button form-buttons float-right g-margin-bottom-5",3,"click",4,"ngIf"],["type","button",1,"btn","rules-addnew-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],["type","button",1,"btn","rules-delete-button","form-buttons",3,"click"],[1,"fa","fa-trash-o"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.TgZ(10,"div",1)(11,"div",2),e.YNc(12,b8,35,15,"form",8),e.qZA()()()),2&t&&(e.xp6(6),e.hij(" ",i.customDataTitle," "),e.xp6(6),e.Q6J("ngIf",i.customDataForm))},dependencies:[D.mk,D.sg,D.O5,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.nD,_.sg,_.u,_.x0,_.CE,Sn,$n],styles:[".table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.rules-cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.rules-delete-button[_ngcontent-%COMP%]{margin-top:28px;background-color:#d6dce2;color:#3f4e63!important;width:200px}.add-skill-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.rules-save-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.esolve-custom-icon[_ngcontent-%COMP%]{cursor:pointer}.form-margin-bottom[_ngcontent-%COMP%]{margin-bottom:5px}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.input-width[_ngcontent-%COMP%]{max-width:200px;font-size:12px}.full-width[_ngcontent-%COMP%]{width:100%}.delete-icon[_ngcontent-%COMP%]{position:relative;top:5px;margin-left:5px}.min-width-50px[_ngcontent-%COMP%]{min-width:50px}.min-width-50px[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.freezeType[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.margin-left50px[_ngcontent-%COMP%]{margin-left:50px}.margin-left-15px[_ngcontent-%COMP%]{margin-left:-15px}@media only screen and (max-width: 767px){.rules-delete-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{float:none!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}}@media only screen and (max-width: 348px){.rules-addnew-button[_ngcontent-%COMP%], .rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-delete-button[_ngcontent-%COMP%]{width:100%}}"]}),n})();const y8=["searchInputField"];function x8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",27)(1,"span",28),e._uU(2,"Name: "),e.qZA(),e._uU(3),e.TgZ(4,"button",29),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDetailsDialog(a))}),e.TgZ(5,"p",30),e._uU(6,"View Details"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.name," ")}}function C8(n,o){if(1&n&&(e.TgZ(0,"mat-cell",31)(1,"span",32),e._uU(2,"Type: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.customDataType.name," ")}}function T8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",33)(1,"button",34),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDetailsDialog(a))}),e.TgZ(2,"p",30),e._uU(3,"View Details"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(1),e.s9C("id",t.name)}}function w8(n,o){1&n&&e._UZ(0,"mat-row")}function D8(n,o){1&n&&e._UZ(0,"mat-spinner")}let QS=(()=>{class n{constructor(t,i){this.dialog=t,this._jobCustomDataService=i,this.displayedColumns=["name","type","actions"],this.data=new N.by,this.dataSource=new N.by,this.customDataCtrl=new _.NI,this.resultsLength=0,this.isLoadingResults=!0,this.searchValue="",this.config=""}ngOnInit(){this.populateTableData()}populateTableData(){return this._jobCustomDataService.getAllCustomData().subscribe(t=>{this.data=t,this.isLoadingResults=!1},t=>{})}open(){this.dialog.open(WS,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleEdit:this.customDataId},panelClass:["max-height96"]}).afterClosed().subscribe(i=>{this.populateTableData()})}openDetailsDialog(t){this.dialog.open(WS,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleEdit:t},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{this.populateTableData()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.uw),e.Y36(Mo.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-custom-data"]],viewQuery:function(t,i){if(1&t&&(e.Gf(fn.YE,5),e.Gf(ge.NW,5),e.Gf(y8,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.searchInput=r.first)}},decls:37,vars:3,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],[1,"table-header","row"],[1,"col-sm-6","col-12","d-flex","justify-content-start"],[1,"table-header-title"],[1,"col-sm-6","col-12","d-flex","justify-content-end","add-job-type-button-div"],["id","JT_add_job_type_button",1,"btn","add-job-type-button",3,"click"],[1,"fa","fa-plus","add-job-type-icon","border-none"],[1,"g-table-divider"],[1,"row","g-table-header"],[1,"col-12","d-flex","flex-row"],["id","halfRow"],["id","g-actions-column-width"],[1,"row"],[1,"g-thin-black-scroll-bar"],["id","JT_job_types_table_container"],["id","JT_job_types_table",3,"dataSource"],["matColumnDef","name"],["class","custom-data",4,"matCellDef"],["matColumnDef","type"],["class","custom-data hidden-on-small-screen",4,"matCellDef"],["matColumnDef","actions"],["class","hidden-on-small-screen visible-on-small-screen-370px",4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],[1,"spinner-container","centered"],[4,"ngIf"],[1,"custom-data"],[1,"mobile-label","hidden-on-small-screen"],[1,"btn","details-button","pull-right","border-none","visible-on-small-screen",3,"click"],[1,"CD-btn-text"],[1,"custom-data","hidden-on-small-screen"],[1,"mobile-label"],[1,"hidden-on-small-screen","visible-on-small-screen-370px"],[1,"btn","details-button","pull-right","border-none",3,"id","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Custom Data"),e.qZA()(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return i.open()}),e._UZ(9,"i",8),e._uU(10,"\xa0\xa0Add Custom Data "),e.qZA()()(),e._UZ(11,"hr",9),e.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"p"),e._uU(16,"Name"),e.qZA()(),e.TgZ(17,"div",12)(18,"p"),e._uU(19,"Type"),e.qZA()(),e.TgZ(20,"div",13)(21,"p"),e._uU(22,"Actions"),e.qZA()()()(),e.TgZ(23,"div",14)(24,"div",2)(25,"div",15)(26,"div",16)(27,"mat-table",17),e.ynx(28,18),e.YNc(29,x8,7,1,"mat-cell",19),e.BQk(),e.ynx(30,20),e.YNc(31,C8,4,1,"mat-cell",21),e.BQk(),e.ynx(32,22),e.YNc(33,T8,4,1,"mat-cell",23),e.BQk(),e.YNc(34,w8,1,0,"mat-row",24),e.qZA()()()()()()()(),e.TgZ(35,"div",25),e.YNc(36,D8,1,0,"mat-spinner",26),e.qZA()),2&t&&(e.xp6(27),e.Q6J("dataSource",i.data),e.xp6(7),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("ngIf",i.isLoadingResults))},dependencies:[D.O5,N.BZ,N.w1,N.Dz,N.nj,N.ev,N.Gk,mp.Ou],styles:["#halfRow[_ngcontent-%COMP%]{width:calc((100% - 115px)/2);border-bottom:1px solid rgba(0,0,0,.12)}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-cell[_ngcontent-%COMP%]:last-of-type, mat-footer-cell[_ngcontent-%COMP%]:last-of-type, mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:5px}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0 0 115px;flex:0 0 115px}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;padding-top:6px;margin-left:0}.details-button[_ngcontent-%COMP%]{height:30px;width:110px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:none}.add-job-type-button[_ngcontent-%COMP%]{height:30px;width:150px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;border:1px solid #ced5db;margin-right:5px;box-shadow:none}th[_ngcontent-%COMP%]{font-weight:600;font-size:12px;color:#42536f}.custom-data[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f;width:100%}td.mat-column-type[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}.mat-column-type[_ngcontent-%COMP%]{position:relative;width:33.33%}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}  .mat-tab-body.mat-tab-body-active{overflow:hidden!important}  .mat-tab-body-content{overflow:hidden!important}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 410px);overflow-wrap:break-word}.border-none[_ngcontent-%COMP%]{border:none}.mobile-label[_ngcontent-%COMP%]{display:none}.visible-on-small-screen[_ngcontent-%COMP%]{display:none!important}@media (max-width: 860px){.mobile-label[_ngcontent-%COMP%]{width:40px;display:inline-block;color:#565d6f;font-weight:400}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start;height:100px}.g-table-header[_ngcontent-%COMP%]{display:none}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0;flex:0}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}.visible-on-small-screen[_ngcontent-%COMP%]{display:table-cell!important;margin-left:auto}mat-row[_ngcontent-%COMP%]{height:65px!important}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:0px}}@media (max-width: 576px){.add-job-type-button-div[_ngcontent-%COMP%]{-ms-flex-pack:start!important;justify-content:flex-start!important}.mat-column-type[_ngcontent-%COMP%]{width:100%}}@media (max-width: 370px){.visible-on-small-screen[_ngcontent-%COMP%]{display:none!important}.visible-on-small-screen-370px[_ngcontent-%COMP%]{display:table-cell!important}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:30px}}"]}),n})(),S8=(()=>{class n{constructor(t){this.http=t}getAllJobStatusColors(){return new A.y(t=>{this.http.get(S.j.URLjobStatusColor).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}editJobStatus(t,i){return new A.y(r=>{this.http.put(S.j.URLjobStatusColor+"/"+t,i,{responseType:"text"}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}resetToDefaultColor(t){return new A.y(i=>{this.http.put(S.j.URLjobStatusDefaultColor+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k8=(()=>{class n{constructor(t){this.http=t}getEmpTileFields(){return new A.y(t=>{this.http.get(S.j.URLEmployeeTileFields).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}editEmpTileFields(t){return new A.y(i=>{this.http.put(S.j.URLEmployeeTileFields+"/1",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Yg=J(17489);function A8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"ng-select",28),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.savePicked(r))}),e.qZA(),e.TgZ(3,"i",29),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw(2);return e.KtG(s.deleteLookup(a))}),e.qZA()()()}if(2&n){const t=o.index,i=e.oxw(2);e.xp6(1),e.s9C("formGroupName",t),e.xp6(1),e.s9C("id",t),e.Q6J("items",i.choises)("searchable",!1)("clearable",!1)}}function M8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18,19)(2,"div",20)(3,"label",21),e._uU(4," Values: "),e.qZA(),e.TgZ(5,"div",22),e.YNc(6,A8,4,5,"div",23),e.qZA()(),e.TgZ(7,"div",24)(8,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addEmpTileFields())}),e._uU(9," Add New Value "),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.employeeTileForm),e.xp6(6),e.Q6J("ngForOf",t.employeeTileForm.get("lookups").controls),e.xp6(2),e.Q6J("disabled",t.disableNewValueBtn)}}let O8=(()=>{class n{constructor(t,i,r){this.data=t,this.formBuilder=i,this._confirmDetailsDialogRef=r,this.lookupList=new Array,this.fieldsToShow=new Array,this.choises=new Array,this.selectedFields=new Array}ngOnInit(){this.employeeTileFieldsTitle="Additional Employee Fields",this.disableNewValueBtn=!1,this.buildForm(),this.populateLookupAndExistingFieldsLists()}buildForm(){this.employeeTileForm=this.formBuilder.group({lookups:this.formBuilder.array([],{validators:[],updateOn:"change"})})}addNewInput(t){this._getFormArray().push(this.formBuilder.group({name:new _.NI(t)}))}_getFormArray(){return this.employeeTileForm.controls.lookups}deleteLookup(t){let i=Yg.camelCase(this.employeeTileForm.get("lookups").controls[t].value.name),r=this.selectedFields.indexOf(i);-1!==r&&(this.selectedFields.splice(r,1),this.choises.push(i)),this._getFormArray().removeAt(t),this.disableNewValueBtn=!1}populateLookupAndExistingFieldsLists(){this.keys=Object.keys(this.data.fields);for(let t=0;t<this.keys.length;t++)"id"!=this.keys[t]&&"scheduledHours"!=this.keys[t]&&"additionalInfo"!=this.keys[t]&&(this.data.fields[this.keys[t]]?this.addNewInput(Yg.startCase(this.keys[t])):this.choises.push(Yg.startCase(this.keys[t])));this.savePicked()}checkNewValueBtnDisability(){this.disableNewValueBtn=!1,this.employeeTileForm.get("lookups").controls.forEach(t=>{""==t.value.name&&(this.disableNewValueBtn=!0)})}addEmpTileFields(){this.fieldsToShow.push(""),this.addNewInput(""),this.checkNewValueBtnDisability()}closeDialog(t){null==t?this._confirmDetailsDialogRef.close():this._confirmDetailsDialogRef.close(t)}submitData(){for(let t=0;t<this.keys.length;t++)"id"!=this.keys[t]&&"scheduledHours"!=this.keys[t]&&"additionalInfo"!=this.keys[t]&&(this.data.fields[this.keys[t]]=-1!==this.selectedFields.indexOf(this.keys[t]));this.closeDialog(this.data.fields)}savePicked(t){if(this.selectedFields=new Array,this.employeeTileForm.get("lookups").controls.forEach(i=>{this.selectedFields.push(Yg.camelCase(i.value.name))}),t){let i=this.choises.indexOf(t);this.choises.splice(i,1)}this.checkNewValueBtnDisability()}clearAll(){this.selectedFields.forEach(t=>{this.choises.push(Yg.startCase(t))}),this.selectedFields=new Array,this._getFormArray().clear(),this.disableNewValueBtn=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(_.qu),e.Y36(z.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-tile-fields-dialog"]],decls:29,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["class","form-group row",3,"formGroup",4,"ngIf"],[1,"eSolveHr"],[1,"form-group","row","align-center-md"],[1,"col-12","col-md-6"],[1,"col-12"],["type","button",1,"btn","rules-delete-button","form-buttons",3,"click"],[1,"fa","fa-trash-o"],[1,"col-12","align-center"],["type","button",1,"btn","rules-cancel-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],["id","submitBtn",1,"btn","rules-save-button","form-buttons","float-right",3,"click"],[1,"form-group","row",3,"formGroup"],["f","ngForm"],[1,"col-12","col-md-6","d-flex","justify-content-start","align-center"],[1,"col-form-label","col-form-label-sm","valuesLabel"],[1,"row","valueEntries"],["class","form-margin-bottom","formArrayName","lookups",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","align-center-md"],["type","button","id","employee_fields_add_new_button",1,"btn","rules-addnew-button","form-buttons","float-right","g-margin-bottom-5",3,"disabled","click"],["formArrayName","lookups",1,"form-margin-bottom"],[1,"d-flex","justify-content-start","align-center",3,"formGroupName"],["formControlName","name","bindLabel","name","bindValue","name",1,"employeeTileSelect","jobTypeDetails","constraintTypeMaxHeight",3,"id","items","searchable","clearable","change"],[1,"fa","fa-trash-o","esolve-custom-icon","delete-icon",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.TgZ(10,"div",1)(11,"div",2),e.YNc(12,M8,10,3,"div",8),e._UZ(13,"hr",9),e.TgZ(14,"div",10)(15,"div",11)(16,"div",1)(17,"div",12)(18,"button",13),e.NdJ("click",function(){return i.clearAll()}),e._UZ(19,"i",14),e._uU(20," Delete all values "),e.qZA()()()(),e.TgZ(21,"div",11)(22,"div",1)(23,"div",15)(24,"button",16),e.NdJ("click",function(){return i.closeDialog()}),e._uU(25," Cancel "),e.qZA()(),e.TgZ(26,"div",12)(27,"button",17),e.NdJ("click",function(){return i.submitData()}),e._uU(28," Save Changes "),e.qZA()()()()()()()()),2&t&&(e.xp6(6),e.hij(" ",i.employeeTileFieldsTitle," "),e.xp6(6),e.Q6J("ngIf",i.employeeTileForm))},dependencies:[D.sg,D.O5,_.JJ,_.JL,_.sg,_.u,_.x0,_.CE,Sn],styles:[".table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.rules-cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.rules-delete-button[_ngcontent-%COMP%]{margin-top:28px;background-color:#d6dce2;color:#3f4e63!important;width:200px}.add-skill-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.rules-save-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.esolve-custom-icon[_ngcontent-%COMP%]{cursor:pointer}.form-margin-bottom[_ngcontent-%COMP%]{margin-bottom:5px}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.input-width[_ngcontent-%COMP%]{width:200px;font-size:12px}.full-width[_ngcontent-%COMP%]{width:100%}.delete-icon[_ngcontent-%COMP%]{position:relative;top:5px;margin-left:5px}.min-width-50px[_ngcontent-%COMP%]{min-width:50px}.min-width-50px[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.freezeType[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.capitalize-letters[_ngcontent-%COMP%]{text-transform:capitalize}.valueEntries[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-direction:row;flex-direction:row;padding:0 15px}.valuesLabel[_ngcontent-%COMP%]{margin-right:10px}@media only screen and (max-width: 767px){.rules-delete-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{float:none!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}}@media only screen and (max-width: 348px){.rules-addnew-button[_ngcontent-%COMP%], .rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-delete-button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 346px){.valueEntries[_ngcontent-%COMP%]{padding:0 0 0 16px}}@media (max-width: 767px){.valueEntries[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column}}"]}),n})();class P8{constructor(o,t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De,Ge,We,gt,rt,vt,Zt,Ht,Bt,ln,Pn,Jn,kn,mi,wi,Ni){this.id=o,this.scheduledHours=t,this.additionalInfo=i,this.employeeNumber=r,this.startDate=a,this.leaveDate=s,this.email=l,this.telephoneNumber=c,this.mobileNumber=u,this.dateOfBirth=h,this.gender=x,this.address1=T,this.address2=O,this.address3=U,this.address4=re,this.location=de,this.department=ve,this.jobTitle=Ne,this.costCode=De,this.division=Ge,this.Class=We,this.team=gt,this.payRate=rt,this.defaultJobType=vt,this.targetRuleGroup=Zt,this.workRule=Ht,this.maxHours1=Bt,this.maxHours2=ln,this.maxHours3=Pn,this.maxHours4=Jn,this.maxHours5=kn,this.allowedTrade=mi,this.availability=wi,this.manager=Ni}}var zS=J(36853);function E8(n,o){if(1&n&&(e.TgZ(0,"mat-cell",25),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function I8(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("colorPickerChange",function(r){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.primaryColor=r)})("colorPickerSelect",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.changeJobStatusColor(r))}),e.qZA(),e.TgZ(2,"i",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.resetJobStatusColor(r))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("colorPicker",t.primaryColor)("ngStyle",i.getStatusColor(t.primaryColor))("cpWidth","auto")("cpHeight","auto")("cpPosition","bottom-left")("cpOKButton",!0)("cpCancelButton",!0)("cpOKButtonText","Ok")("cpOKButtonClass","btn btn-outline-dark")("cpCancelButtonClass","btn btn-outline-dark")("cpSaveClickOutside",!1),e.xp6(1),e.s9C("id",t.id)}}function N8(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("colorPickerChange",function(r){e.CHM(t);const a=e.oxw(2).$implicit;return e.KtG(a.primaryColor=r)})("colorPickerSelect",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.changeJobStatusColor(r))}),e.qZA(),e.TgZ(2,"i",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.resetJobStatusColor(r))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("colorPicker",t.primaryColor)("ngStyle",i.getStatusColor(t.primaryColor))("cpWidth","auto")("cpHeight","auto")("cpPosition","bottom-right")("cpOKButton",!0)("cpCancelButton",!0)("cpOKButtonText","Ok")("cpOKButtonClass","btn btn-outline-dark")("cpCancelButtonClass","btn btn-outline-dark")("cpSaveClickOutside",!1)}}function R8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("colorPickerChange",function(r){e.CHM(t);const a=e.oxw(2).$implicit;return e.KtG(a.primaryColor=r)})("colorPickerSelect",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.changeJobStatusColor(r))}),e.qZA(),e.TgZ(1,"i",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.resetJobStatusColor(r))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.Q6J("colorPicker",t.primaryColor)("ngStyle",i.getStatusColor(t.primaryColor))("cpWidth","auto")("cpHeight","auto")("cpPosition","bottom")("cpOKButton",!0)("cpCancelButton",!0)("cpOKButtonText","Ok")("cpOKButtonClass","btn btn-outline-dark")("cpCancelButtonClass","btn btn-outline-dark")("cpSaveClickOutside",!1)}}function F8(n,o){if(1&n&&(e.YNc(0,N8,3,11,"ng-container",26),e.YNc(1,R8,2,11,"ng-template",null,30,e.W1O)),2&n){const t=e.MAs(2),i=e.oxw(2);e.Q6J("ngIf",i.innerWidth>500)("ngIfElse",t)}}function Z8(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,I8,3,12,"ng-container",26),e.YNc(2,F8,3,2,"ng-template",null,27,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.innerWidth>860)("ngIfElse",t)}}function L8(n,o){1&n&&e._UZ(0,"mat-row")}function U8(n,o){if(1&n&&(e.TgZ(0,"mat-cell",25),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function j8(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("colorPickerChange",function(r){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.primaryColor=r)})("colorPickerSelect",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.changeEmpSchedHrsStatusColor(r))}),e.qZA(),e.TgZ(2,"i",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.resetEmpSchedHrsStatusColor(r))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("colorPicker",t.primaryColor)("ngStyle",i.getStatusColor(t.primaryColor))("cpWidth","auto")("cpHeight","auto")("cpPosition","bottom-left")("cpOKButton",!0)("cpCancelButton",!0)("cpOKButtonText","Ok")("cpOKButtonClass","btn btn-outline-dark")("cpCancelButtonClass","btn btn-outline-dark")("cpSaveClickOutside",!1),e.xp6(1),e.s9C("id",t.id)}}function Y8(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("colorPickerChange",function(r){e.CHM(t);const a=e.oxw(2).$implicit;return e.KtG(a.primaryColor=r)})("colorPickerSelect",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(a.changeEmpSchedHrsStatusColor(r))}),e.qZA(),e.TgZ(2,"i",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(a.resetEmpSchedHrsStatusColor(r))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("colorPicker",t.primaryColor)("ngStyle",i.getStatusColor(t.primaryColor))("cpWidth","auto")("cpHeight","auto")("cpPosition","bottom-right")("cpOKButton",!0)("cpCancelButton",!0)("cpOKButtonText","Ok")("cpOKButtonClass","btn btn-outline-dark")("cpCancelButtonClass","btn btn-outline-dark")("cpSaveClickOutside",!1)}}function q8(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("colorPickerChange",function(r){e.CHM(t);const a=e.oxw(2).$implicit;return e.KtG(a.primaryColor=r)})("colorPickerSelect",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(a.changeEmpSchedHrsStatusColor(r))}),e.qZA(),e.TgZ(1,"i",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(a.resetEmpSchedHrsStatusColor(r))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw(2);e.Q6J("colorPicker",t.primaryColor)("ngStyle",i.getStatusColor(t.primaryColor))("cpWidth","auto")("cpHeight","auto")("cpPosition","bottom")("cpOKButton",!0)("cpCancelButton",!0)("cpOKButtonText","Ok")("cpOKButtonClass","btn btn-outline-dark")("cpCancelButtonClass","btn btn-outline-dark")("cpSaveClickOutside",!1)}}function J8(n,o){if(1&n&&(e.YNc(0,Y8,3,11,"ng-container",26),e.YNc(1,q8,2,11,"ng-template",null,30,e.W1O)),2&n){const t=e.MAs(2),i=e.oxw(3);e.Q6J("ngIf",i.innerWidth>500)("ngIfElse",t)}}function H8(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,j8,3,12,"ng-container",26),e.YNc(2,J8,3,2,"ng-template",null,27,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.innerWidth>860)("ngIfElse",t)}}function B8(n,o){1&n&&e._UZ(0,"mat-row")}function V8(n,o){if(1&n&&(e.TgZ(0,"div",32)(1,"div",4)(2,"div",5)(3,"div",6),e._uU(4," Employee Work Hour Status Colours "),e.qZA()()(),e._UZ(5,"hr",7),e.TgZ(6,"div",8)(7,"div",2)(8,"div")(9,"div",33)(10,"mat-table",34),e.ynx(11,12),e.YNc(12,U8,2,1,"mat-cell",13),e.BQk(),e.ynx(13,14),e.YNc(14,H8,4,2,"mat-cell",15),e.BQk(),e.YNc(15,B8,1,0,"mat-row",16),e.qZA()()()()()()),2&n){const t=e.oxw();e.xp6(10),e.Q6J("dataSource",t.employeeSchedHrsStatusData),e.xp6(5),e.Q6J("matRowDefColumns",t.displayedColumns)}}const G8=function(n){return{small:n}};let W8=(()=>{class n{constructor(t,i,r,a,s){this.dialog=t,this.jobStatusColorService=i,this.employeeSchedHrsStatusColorService=r,this.employeeTileFieldsService=a,this.zone=s,this.displayedColumns=["name","color"],this.employeeSchedHrsStatusData=new N.by,this.jobStatusData=new N.by,this.dataSource=new N.by,this.customDataCtrl=new _.NI,this.resultsLength=0,this.isLoadingResults=!0,this.searchValue="",this.config=""}ngOnInit(){this.populateJobStatusData(),this.populateEmployeeSchedHrsStatusData(),this.showEmployeeInfo(),this.innerWidth=window.innerWidth}onResize(t){this.innerWidth=window.innerWidth}populateJobStatusData(){return this.jobStatusColorService.getAllJobStatusColors().subscribe(t=>{this.isLoadingResults=!1,this.jobStatusData=t},t=>{})}populateEmployeeSchedHrsStatusData(){return this.employeeSchedHrsStatusColorService.getAllEmpSchedHrsColors().subscribe(t=>{this.isLoadingResults=!1,this.employeeSchedHrsStatusData=t},t=>{})}changeJobStatusColor(t){t.primaryColor.includes("rgb")&&(t.primaryColor=this.rgbToHex(t.primaryColor)),this.jobStatusColorService.editJobStatus(t.id,t).subscribe()}changeEmpSchedHrsStatusColor(t){t.primaryColor.includes("rgb")&&(t.primaryColor=this.rgbToHex(t.primaryColor)),this.employeeSchedHrsStatusColorService.employeeSchedHrsStatus(t.id,t).subscribe()}getStatusColor(t){return{"background-color":t}}resetJobStatusColor(t){this.jobStatusColorService.resetToDefaultColor(t.id).subscribe(i=>this.populateJobStatusData())}resetEmpSchedHrsStatusColor(t){this.employeeSchedHrsStatusColorService.resetToDefaultColor(t.id).subscribe(i=>this.populateEmployeeSchedHrsStatusData())}openAdditionalFieldsDialog(){this.zone.run(()=>{this.dialog.open(O8,{autoFocus:!1,disableClose:!0,width:"650px",panelClass:["max-height96"],data:{fields:this.employeeTiles}}).afterClosed().subscribe(i=>{void 0!==i&&(this.employeeTiles=i,this.employeeTiles.scheduledHours=this.standardInfo,this.employeeTiles.additionalInfo=this.additionalInfo,this.updateEmployeeTileFields())})})}updateStandardAppearance(t){this.standardInfo=t.checked,this.employeeTiles.scheduledHours=this.standardInfo,this.updateEmployeeTileFields()}updateAdditionalAppearance(t){this.additionalInfo=t.checked,this.employeeTiles.additionalInfo=this.additionalInfo,this.updateEmployeeTileFields()}updateEmployeeTileFields(){this.employeeTiles.id=1,this.employeeTileFieldsService.editEmpTileFields(this.employeeTiles).subscribe(t=>{},t=>{})}showEmployeeInfo(){this.employeeTiles=new P8,this.employeeTileFieldsService.getEmpTileFields().subscribe(t=>{this.isLoadingResults=!1,this.employeeTiles=t,this.standardInfo=this.employeeTiles.scheduledHours,this.additionalInfo=this.employeeTiles.additionalInfo},t=>{})}rgbToHex(t){const i=t.replace(/rgba?\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),r=parseFloat(i[3]||1),a=Math.floor(r*parseInt(i[0])+255*(1-r)),s=Math.floor(r*parseInt(i[1])+255*(1-r)),l=Math.floor(r*parseInt(i[2])+255*(1-r));return"#"+("0"+a.toString(16)).slice(-2)+("0"+s.toString(16)).slice(-2)+("0"+l.toString(16)).slice(-2)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.uw),e.Y36(S8),e.Y36(iS),e.Y36(k8),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-jobs"]],viewQuery:function(t,i){if(1&t&&(e.Gf(fn.YE,5),e.Gf(ge.NW,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.paginator=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},decls:34,vars:8,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container","g-thin-black-scroll-bar"],[1,"col-12"],[1,"job-status-color"],[1,"table-header","row"],[1,"col-12","d-flex","justify-content-start"],[1,"table-header-title"],[1,"g-table-divider"],[1,"row"],[1,"g-thin-black-scroll-bar",3,"ngClass"],["id","JS_job_status_table_container"],["id","JS_job_status_table",3,"dataSource"],["matColumnDef","name"],["class","status-colours-name",4,"matCellDef"],["matColumnDef","color"],[4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],["class","sched-hrs-status-color top-margin-mid",4,"ngIf"],[1,"employee-tile-fields","top-margin"],[1,"table-header"],[1,"table-header-title","goLeft"],[1,"col-12","checkbox-col","emp-info"],["name","show-standard-emp-info",1,"form-label",3,"checked","change"],["name","show-additional-emp-info",1,"form-label",3,"checked","change"],["id","define_additional_employee_fields_button",1,"btn","details-button","border-none",3,"click"],[1,"status-colours-name"],[4,"ngIf","ngIfElse"],["secondSize",""],["type","button","id","row.id",1,"btn","buttonProperty","pull-right","button-margin",3,"colorPicker","ngStyle","cpWidth","cpHeight","cpPosition","cpOKButton","cpCancelButton","cpOKButtonText","cpOKButtonClass","cpCancelButtonClass","cpSaveClickOutside","colorPickerChange","colorPickerSelect"],["aria-hidden","true","data-toggle","tooltip","data-placement","top","title","Reset to default color",1,"fa","fa-refresh","resetColorIcon",3,"id","click"],["thirdSize",""],["aria-hidden","true",1,"fa","fa-refresh","resetColorIcon",3,"click"],[1,"sched-hrs-status-color","top-margin-mid"],["id","ESS_employee_schedHrs_status_table_container"],["id","ESS_employee_schedHrs_status_table",3,"dataSource"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7," Job Status Colours "),e.qZA()()(),e._UZ(8,"hr",7),e.TgZ(9,"div",8)(10,"div",2)(11,"div",9)(12,"div",10)(13,"mat-table",11),e.ynx(14,12),e.YNc(15,E8,2,1,"mat-cell",13),e.BQk(),e.ynx(16,14),e.YNc(17,Z8,4,2,"mat-cell",15),e.BQk(),e.YNc(18,L8,1,0,"mat-row",16),e.qZA()()()()()(),e.YNc(19,V8,16,2,"div",17),e.TgZ(20,"div",18)(21,"div",8)(22,"div",19)(23,"div",5)(24,"div",20),e._uU(25," Employee Tile Fields "),e.qZA()()()(),e._UZ(26,"hr",7),e.TgZ(27,"div",21)(28,"mat-checkbox",22),e.NdJ("change",function(a){return i.updateStandardAppearance(a)}),e._uU(29," Show employee work hour status "),e.qZA(),e.TgZ(30,"mat-checkbox",23),e.NdJ("change",function(a){return i.updateAdditionalAppearance(a)}),e._uU(31," Show additional employee info "),e.qZA(),e.TgZ(32,"button",24),e.NdJ("click",function(){return i.openAdditionalFieldsDialog()}),e._uU(33," Define Additional Fields "),e.qZA()()()()()()),2&t&&(e.xp6(11),e.Q6J("ngClass",e.VKq(6,G8,i.standardInfo)),e.xp6(2),e.Q6J("dataSource",i.jobStatusData),e.xp6(5),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",i.standardInfo),e.xp6(9),e.Q6J("checked",i.standardInfo),e.xp6(2),e.Q6J("checked",i.additionalInfo))},dependencies:[D.mk,D.O5,D.PC,N.BZ,N.w1,N.Dz,N.nj,N.ev,N.Gk,Zi.oG,zS.Kk,$n,Ja],styles:[".top-margin[_ngcontent-%COMP%]{margin-top:22px}.top-margin-mid[_ngcontent-%COMP%]{margin-top:24px}.container-fluid.jobs[_ngcontent-%COMP%]{height:auto;height:initial}.g-table-divider[_ngcontent-%COMP%]{margin-top:0}.form-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:0!important;margin-right:50px}.table-header[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}div.row.bottom-line[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{text-align:center}.textFont[_ngcontent-%COMP%]{font-size:12px}.titleFont[_ngcontent-%COMP%]{font-size:14px}.buttonProperty[_ngcontent-%COMP%]{width:135px;height:30px}.colorRow[_ngcontent-%COMP%]{height:60px;margin-right:0}#width145px[_ngcontent-%COMP%]{width:145px;border-bottom:1px solid rgba(0,0,0,.12)}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-cell[_ngcontent-%COMP%]:last-of-type, mat-footer-cell[_ngcontent-%COMP%]:last-of-type, mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:5px}.mat-column-color[_ngcontent-%COMP%]{-ms-flex:0 0 170px;flex:0 0 170px;-ms-flex-pack:end!important;justify-content:flex-end!important}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;margin-left:0;height:30px}th[_ngcontent-%COMP%]{font-weight:600;font-size:12px;color:#42536f}.status-colours-name[_ngcontent-%COMP%], td.mat-column-type[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}.mat-column-type[_ngcontent-%COMP%]{position:relative;width:33.33%}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}  .mat-tab-body.mat-tab-body-active{overflow:hidden!important}  .mat-tab-body-content{overflow:hidden!important}.sys-pref-tab-container[_ngcontent-%COMP%]{height:319px}@media (max-height: 768px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 439px)}.g-thin-black-scroll-bar.small[_ngcontent-%COMP%]{height:calc(100vh - 478px)}}.mobile-label[_ngcontent-%COMP%]{display:none}@media (max-width: 860px){.mobile-label[_ngcontent-%COMP%]{width:40px;display:inline-block;color:#565d6f;font-weight:400}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start;height:100px}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0;flex:0}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:30px}.mat-column-color[_ngcontent-%COMP%]{-ms-flex:0 0 30px;flex:0 0 30px}}.resetColorIcon[_ngcontent-%COMP%]{margin-left:7px;font-size:20px;cursor:pointer}.emp-info[_ngcontent-%COMP%]{margin-top:15px;padding-left:0}.details-button[_ngcontent-%COMP%]{height:28px;font-size:11px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary)}.border-none[_ngcontent-%COMP%]{border:none}"]}),n})();var Q8=J(5449);function z8(n,o){if(1&n&&(e.TgZ(0,"ng-option",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t),e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function K8(n,o){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Start Day of the Week ",t.message.required," ")}}function $8(n,o){if(1&n&&(e.TgZ(0,"ng-option",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function X8(n,o){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Schedule Initial Date Range ",t.message.required," ")}}function eV(n,o){1&n&&(e.TgZ(0,"label",32),e._uU(1," \xa0\xa0Saving date format change will reload the page "),e.qZA())}function tV(n,o){if(1&n&&(e.TgZ(0,"ng-option",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function nV(n,o){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Locale ",t.message.required," ")}}function iV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function rV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Pay Period Start Date ",t.message.futureDate," ")}}function oV(n,o){if(1&n&&(e.TgZ(0,"div",30),e.YNc(1,iV,2,1,"div",33),e.YNc(2,rV,2,1,"div",33),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.payPeriodStartDate.errors?null:t.f.payPeriodStartDate.errors.matDatepickerParse)||(null==t.f.payPeriodStartDate.errors?null:t.f.payPeriodStartDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",null==t.f.payPeriodStartDate.errors?null:t.f.payPeriodStartDate.errors.matDatepickerMax)}}function aV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.minInput," 1. ")}}function sV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.maxInput," 2147483647. ")}}function lV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Pay Period Number Of Days or Pay Period is Monthly ",t.message.required,". ")}}function cV(n,o){if(1&n&&(e.TgZ(0,"div",30),e.YNc(1,aV,2,1,"div",33),e.YNc(2,sV,2,1,"div",33),e.YNc(3,lV,2,1,"div",33),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.payPeriodNumberOfDays?null:t.f.payPeriodNumberOfDays.touched)&&(null==t.f.payPeriodNumberOfDays.errors?null:t.f.payPeriodNumberOfDays.errors.min)),e.xp6(1),e.Q6J("ngIf",null==t.f.payPeriodNumberOfDays.errors?null:t.f.payPeriodNumberOfDays.errors.max),e.xp6(1),e.Q6J("ngIf",t.f.payPeriodNumberOfDays.touched&&(null==t.f.payPeriodNumberOfDays.errors?null:t.f.payPeriodNumberOfDays.errors.required))}}function dV(n,o){1&n&&(e.TgZ(0,"div",30),e._uU(1," Pay Period Start Date must have a value. "),e.qZA())}const uV=function(n){return{loading:n}},Nx=function(n){return{error:n}};function pV(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveDate())}),e.TgZ(2,"div",7)(3,"div",8)(4,"div",7)(5,"div",2)(6,"label",9),e._uU(7," Start Day of the Week*: "),e.qZA(),e.TgZ(8,"ng-select",10),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkSelectValues())})("blur",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkSelectValues())}),e.YNc(9,z8,2,3,"ng-option",11),e.qZA(),e.YNc(10,K8,2,1,"div",12),e.TgZ(11,"label",13),e._uU(12," Schedule Initial Date Range*: "),e.qZA(),e.TgZ(13,"ng-select",14),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkSelectValues())})("blur",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkSelectValues())}),e.YNc(14,$8,2,2,"ng-option",15),e.qZA(),e.YNc(15,X8,2,1,"div",12),e.TgZ(16,"label",13),e._uU(17," Date Format*: "),e.qZA(),e.YNc(18,eV,2,0,"label",16),e.TgZ(19,"ng-select",17),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return r.checkSelectValues(),e.KtG(r.localeValueChanged())})("blur",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkSelectValues())}),e.YNc(20,tV,2,2,"ng-option",15),e.qZA(),e.YNc(21,nV,2,1,"div",12),e.qZA()()(),e.TgZ(22,"div",8)(23,"label",18),e._uU(24," Pay Period Start Date: "),e.qZA(),e.TgZ(25,"input",19),e.NdJ("dateChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkValue())}),e.qZA(),e.TgZ(26,"img",20),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(28);return e.KtG(r.open())}),e.qZA(),e._UZ(27,"mat-datepicker",null,21),e.YNc(29,oV,3,2,"div",12),e.TgZ(30,"label",22),e._uU(31," Pay Period Number Of Days: "),e.qZA(),e._UZ(32,"input",23),e.YNc(33,cV,4,3,"div",12),e.TgZ(34,"div",24)(35,"mat-checkbox",25),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkIfPeriodIsMonthly())}),e._uU(36," Pay Period is Monthly "),e.qZA(),e.YNc(37,dV,2,0,"div",12),e.qZA()(),e._UZ(38,"div",8)(39,"div",8),e.qZA(),e._UZ(40,"hr"),e.TgZ(41,"div",26)(42,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.getDate())}),e._uU(43," Cancel "),e.qZA(),e.TgZ(44,"button",28),e._uU(45," Save Changes "),e.qZA()()()}if(2&n){const t=e.MAs(28),i=e.oxw();e.Q6J("ngClass",e.VKq(26,uV,i.showLoader))("formGroup",i.datesForm),e.xp6(8),e.Q6J("virtualScroll",!0)("ngClass",e.VKq(28,Nx,null==i.f.startDayOfWeek?null:i.f.startDayOfWeek.errors)),e.xp6(1),e.Q6J("ngForOf",i.weekDays)("ngForTrackBy",i.trackByFn),e.xp6(1),e.Q6J("ngIf",!i.startDateWeekSelected),e.xp6(3),e.Q6J("virtualScroll",!0)("ngClass",e.VKq(30,Nx,null==i.f.scheduleInitialDateRange?null:i.f.scheduleInitialDateRange.errors)),e.xp6(1),e.Q6J("ngForOf",i.dateRange)("ngForTrackBy",i.trackByFn),e.xp6(1),e.Q6J("ngIf",!i.initialDateRangeSelected),e.xp6(3),e.Q6J("ngIf",i.localeChanged),e.xp6(1),e.Q6J("virtualScroll",!0)("ngClass",e.VKq(32,Nx,null==i.f.locale?null:i.f.locale.errors)),e.xp6(1),e.Q6J("ngForOf",i.localesList)("ngForTrackBy",i.trackByFn),e.xp6(1),e.Q6J("ngIf",!i.localeSelected),e.xp6(4),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("matDatepicker",t)("dateLengthTracker",i.dateLength)("max",i.currentDate),e.xp6(4),e.Q6J("ngIf",i.f.payPeriodStartDate.errors),e.xp6(3),e.Q6J("required",i.f.payPeriodStartDate.value&&!i.f.isMonthlyPayPeriod.value),e.xp6(1),e.Q6J("ngIf",i.f.payPeriodNumberOfDays.errors),e.xp6(4),e.Q6J("ngIf",(null==i.f.isMonthlyPayPeriod.errors?null:i.f.isMonthlyPayPeriod.errors.valueNeeded)&&!i.f.payPeriodStartDate.value)}}function fV(n,o){1&n&&(e.TgZ(0,"div",34)(1,"div",35),e._uU(2,"Saving Dates Preferences..."),e.qZA(),e.TgZ(3,"div",36),e._UZ(4,"div",37),e.qZA()())}let hV=(()=>{class n{constructor(t,i,r,a){this._fb=t,this._messageService=i,this._datesService=r,this._localeSetter=a,this.localeChanged=!1,this.currentDate=new Date,this.showLoader=!1,this.dateLength=ai.YG.length,this.weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.dateRange=["Day","Week"]}ngOnInit(){this.message=St.yw,this.getLocales(),this.buildDatesForm(),this.getDate()}buildDatesForm(){this.datesForm=this._fb.group({startDayOfWeek:["",{validators:[_.kI.required]}],scheduleInitialDateRange:["",{validators:[_.kI.required]}],payPeriodStartDate:[""],payPeriodNumberOfDays:[null,{validators:[_.kI.min(1),_.kI.max(2147483647)]}],isMonthlyPayPeriod:[""],localesID:["",{validators:[_.kI.required]}]})}getDate(){this._datesService.getDate().subscribe(t=>{var i=t.locales.name.split(" ")[1];this._datesService.dateFormate.next(i),this.initialLocaleId=t.localesID;const r=t;"payPeriod"===r.scheduleInitialDateRange&&(r.scheduleInitialDateRange="Pay Period"),this.datesForm.patchValue(r),this.checkIfPeriodIsMonthly(),this.checkSelectValues(),this.checkValue()},t=>{this._messageService.open(t)})}getLocales(){this._datesService.getAllLocales().subscribe(t=>{this.localesList=t},t=>{this._messageService.open(t)})}saveDate(){this.datesForm.markAllAsTouched(),this.isMonthlyPPValidation(),this.datesForm.valid?(this.showLoader=!0,this.checkIfPeriodIsMonthly(),this._datesService.updateDate(this.datesForm.value).subscribe(t=>{const i=this.localesList.find(r=>r.id===this.datesForm.controls.localesID.value);window.localStorage.setItem("systemLocale",i.value),window.localStorage.setItem("dateFormat",i.name),window.localStorage.setItem("startDayOfWeek",this.datesForm.controls.startDayOfWeek.value),this.showLoader=!1,this._messageService.open("Date information saved."),this._localeSetter.setCustomFirstDayOfWeek(this.datesForm.controls.startDayOfWeek.value),this.localeChanged&&window.location.reload()},t=>{this._messageService.open(t),this.showLoader=!1})):this._messageService.open(this.message.fillForm)}checkIfPeriodIsMonthly(){!0===this.datesForm.get("isMonthlyPayPeriod").value&&(this.datesForm.get("payPeriodNumberOfDays").setValue(null),this.datesForm.get("payPeriodNumberOfDays").disable()),!1===this.datesForm.get("isMonthlyPayPeriod").value&&(this.datesForm.get("payPeriodNumberOfDays").enable(),this.datesForm.get("payPeriodNumberOfDays").markAsUntouched(),this.datesForm.get("payPeriodNumberOfDays").setErrors(null))}checkSelectValues(){this.startDateWeekSelected=!!this.datesForm.controls.startDayOfWeek.value,this.initialDateRangeSelected=!!this.datesForm.controls.scheduleInitialDateRange.value,this.localeSelected=!!this.datesForm.controls.localesID.value}localeValueChanged(){this.localeChanged=this.datesForm.controls.localesID.value!==this.initialLocaleId}get f(){return this.datesForm.controls}trackByFn(t,i){return i.id}checkValue(){this.datesForm.controls.payPeriodStartDate.value&&this.datesForm.controls.payPeriodStartDate.valid?this.dateRange.includes("Pay Period")||this.dateRange.push("Pay Period"):(this.dateRange=this.dateRange.filter(t=>"Pay Period"!==t),"Pay Period"===this.datesForm.controls.scheduleInitialDateRange.value&&this.datesForm.controls.scheduleInitialDateRange.setValue("Week"),this.datesForm.controls.payPeriodNumberOfDays.setValue(""))}isMonthlyPPValidation(){this.datesForm.controls.isMonthlyPayPeriod.setErrors(this.datesForm.controls.isMonthlyPayPeriod.value&&!this.datesForm.controls.payPeriodStartDate.value?{valueNeeded:!0}:null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.qu),e.Y36(se.G),e.Y36(Dh.X),e.Y36(Q8.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dates"]],decls:5,vars:2,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],["novalidate","","autocomplete","off",3,"ngClass","formGroup","ngSubmit",4,"ngIf"],["class","centered progressBarContainer",4,"ngIf"],["novalidate","","autocomplete","off",3,"ngClass","formGroup","ngSubmit"],["df","ngForm"],[1,"row"],[1,"col-md-3"],["for","StartDayOfTheWeek",1,"form-label"],["formControlName","startDayOfWeek","id","StartDayOfTheWeek","name","start-day-week","required","",1,"form-input","datesSettings",3,"virtualScroll","ngClass","change","blur"],[3,"id","value",4,"ngFor","ngForOf","ngForTrackBy"],["class","validationError",4,"ngIf"],["for","ScheduleInitialDateRange",1,"form-label"],["formControlName","scheduleInitialDateRange","id","ScheduleInitialDateRange","name","schedule-initial-date-range","required","",1,"form-input","datesSettings",3,"virtualScroll","ngClass","change","blur"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","ScheduleInitialDateRange","class","form-label info-message",4,"ngIf"],["formControlName","localesID","id","localeSelect","name","system-locale","required","",1,"form-input","datesSettings",3,"virtualScroll","ngClass","change","blur"],["for","PayPeriodStartDate",1,"form-label","datePicker"],["id","PayPeriodStartDate","name","new-startDate","formControlName","payPeriodStartDate",1,"form-control","form-control-sm","date_input","eSolve-font-size","eSolve_datePicker_input",3,"matDatepicker","dateLengthTracker","placeholder","max","dateChange"],["src","assets/icons/calendar-icon.png",1,"eSolve_datePicker_calendar_icon_img",3,"click"],["payPeriodStartDatePicker",""],["for","PayPeriodNumberOfDays",1,"form-label"],["id","PayPeriodNumberOfDays","type","number","name","start-day-week","formControlName","payPeriodNumberOfDays","numbersOnlyMask","",1,"pay-period-number-of-days","form-control","form-input","form-control-sm",3,"required"],[1,"pay-period-checkbox"],["id","PayPeriodMonthly","name","pay-period-is-monthly","formControlName","isMonthlyPayPeriod",3,"change"],[1,"row","d-flex","justify-content-end","mt-3"],["type","button","id","cancel_button",1,"eSolve-button","eSolve-dark-blue-button","mr-3",3,"click"],["type","submit","id","submit_button",1,"eSolve-button","eSolve-blue-button","mr-3"],[3,"id","value"],[1,"validationError"],[3,"value"],["for","ScheduleInitialDateRange",1,"form-label","info-message"],[4,"ngIf"],[1,"centered","progressBarContainer"],[1,"progressBarText"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","progress-bar-blue","esolve-progress-bar"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,pV,46,34,"form",3),e.YNc(4,fV,5,0,"div",4),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.datesForm),e.xp6(1),e.Q6J("ngIf",i.showLoader))},dependencies:[D.mk,D.sg,D.O5,Zi.oG,On.Mq,On.hl,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.sg,_.u,Sn,tr,$n,rr,mo],styles:[".form-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:0!important}.date_input[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:.25rem!important;padding-left:.8rem!important;height:28px!important}  .mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#757575!important}.pay-period-checkbox[_ngcontent-%COMP%]{font-size:11px;margin-top:5px}.loading[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.info-message[_ngcontent-%COMP%]{color:#404f64}@media (max-width: 491px){#submit_button[_ngcontent-%COMP%]{margin-top:5px}}"]}),n})();function mV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.numberRange," 1 and 99. ")}}function gV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.numberRange," 1 and 99. ")}}function _V(n,o){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,mV,2,1,"div",30),e.YNc(2,gV,2,1,"div",30),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.maxNumberOfSubGroups.errors?null:t.f.maxNumberOfSubGroups.errors.max),e.xp6(1),e.Q6J("ngIf",(null==t.f.maxNumberOfSubGroups.errors?null:t.f.maxNumberOfSubGroups.errors.pattern)&&!(null!=t.f.maxNumberOfSubGroups.errors&&t.f.maxNumberOfSubGroups.errors.max))}}function vV(n,o){1&n&&(e.TgZ(0,"div",11)(1,"mat-checkbox",31)(2,"span",32),e._uU(3," Auto Solve as a User Permission "),e.qZA()()())}function bV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.decimalInputMessage," ")}}function yV(n,o){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,bV,2,1,"div",30),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.tradeDeadlineValue?null:t.f.tradeDeadlineValue.touched)&&(null==t.f.tradeDeadlineValue.errors?null:t.f.tradeDeadlineValue.errors.pattern))}}function xV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.numberRange2," 0 and 99. ")}}function CV(n,o){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,xV,2,1,"div",30),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.acceptedAutoAssignmentsDeadlineForJobOffers.errors?null:t.f.acceptedAutoAssignmentsDeadlineForJobOffers.errors.max)||(null==t.f.acceptedAutoAssignmentsDeadlineForJobOffers.errors?null:t.f.acceptedAutoAssignmentsDeadlineForJobOffers.errors.min)||(null==t.f.acceptedAutoAssignmentsDeadlineForJobOffers.errors?null:t.f.acceptedAutoAssignmentsDeadlineForJobOffers.errors.pattern))}}function TV(n,o){if(1&n&&(e.TgZ(0,"ng-option",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function wV(n,o){if(1&n&&(e.TgZ(0,"ng-option",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function DV(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submit())}),e.TgZ(2,"div",6)(3,"div",7)(4,"div",6)(5,"div",2)(6,"label",8),e._uU(7," Max Nested Subgroups: "),e.qZA(),e._UZ(8,"input",9),e.YNc(9,_V,3,2,"div",10),e.qZA(),e.TgZ(10,"div",11)(11,"mat-checkbox",12)(12,"span",13),e._uU(13,"Job Offer Auto Assignment If Schedule Approved"),e.qZA()()(),e.YNc(14,vV,4,0,"div",14),e.qZA()(),e.TgZ(15,"div",7)(16,"div",6)(17,"div",2)(18,"label",15),e._uU(19," Trade Deadline (Hours): "),e.qZA(),e.TgZ(20,"input",16),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onDeadlineClear())}),e.qZA(),e.YNc(21,yV,2,1,"div",10),e.qZA(),e.TgZ(22,"div",2)(23,"label",17),e._uU(24," Job Offer Accepted Auto Assignments Deadline (Hours): "),e.qZA(),e._UZ(25,"input",18),e.YNc(26,CV,2,1,"div",10),e.qZA(),e.TgZ(27,"div",11)(28,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openConstraintsDialog())}),e._uU(29," Maintain constraints "),e.qZA()()()(),e.TgZ(30,"div",7)(31,"div",6)(32,"div",20)(33,"label",21),e._uU(34," Lone Worker Admin 1: "),e.qZA(),e.TgZ(35,"ng-select",22),e.YNc(36,TV,2,2,"ng-option",23),e.qZA()()(),e.TgZ(37,"div",6)(38,"div",20)(39,"label",24),e._uU(40," Lone Worker Admin 2: "),e.qZA(),e.TgZ(41,"ng-select",25),e.YNc(42,wV,2,2,"ng-option",23),e.qZA()()()()(),e._UZ(43,"hr"),e.TgZ(44,"div",26)(45,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return r.get(),e.KtG(r.getAllLoneWorkerAdmins())}),e._uU(46," Cancel "),e.qZA(),e.TgZ(47,"button",28),e._uU(48," Save Changes "),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.scheduleTabForm),e.xp6(9),e.Q6J("ngIf",(null==t.f.maxNumberOfSubGroups?null:t.f.maxNumberOfSubGroups.touched)&&(null==t.f.maxNumberOfSubGroups?null:t.f.maxNumberOfSubGroups.errors)),e.xp6(5),e.Q6J("ngIf","User"===t.role&&t.isMasterAccount),e.xp6(7),e.Q6J("ngIf",(null==t.f.tradeDeadlineValue?null:t.f.tradeDeadlineValue.touched)&&(null==t.f.tradeDeadlineValue?null:t.f.tradeDeadlineValue.errors)),e.xp6(5),e.Q6J("ngIf",(null==t.f.acceptedAutoAssignmentsDeadlineForJobOffers?null:t.f.acceptedAutoAssignmentsDeadlineForJobOffers.touched)&&(null==t.f.acceptedAutoAssignmentsDeadlineForJobOffers?null:t.f.acceptedAutoAssignmentsDeadlineForJobOffers.errors)),e.xp6(9),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",t.loneWorkerAdmins)("ngForTrackBy",t.trackByFn),e.xp6(5),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",t.loneWorkerAdmins)("ngForTrackBy",t.trackByFn)}}let SV=(()=>{class n{constructor(t,i,r,a,s,l){this._formBuilder=t,this._scheduleManagementService=i,this._messageService=r,this._userService=a,this._userRoleService=s,this.dialog=l,this.initialValues={maxNumberOfSubGroups:null,tradeDeadlineValue:0},this._ngUnsubscribe=new b.x,this.isMasterAccount=!1}ngOnInit(){this.buildForm(),this.message=St.yw,this.get(),this.getAllLoneWorkerAdmins(),this.getRole(),this.getLoggedUserID()}buildForm(){this.scheduleTabForm=this._formBuilder.group({id:[],maxNumberOfSubGroups:["",{validators:[_.kI.max(99),_.kI.pattern("^[0-9]*$")],updateOn:"change"}],loneWorkerAdmin1ID:[null,{validators:[],updateOn:"change"}],loneWorkerAdmin2ID:[null,{validators:[],updateOn:"change"}],autoAssignmentsForJobOffers:[""],autoSolveAsPermission:[""],acceptedAutoAssignmentsDeadlineForJobOffers:["",{validators:[_.kI.min(0),_.kI.max(99),_.kI.pattern(/^[0-9]+([,.][0-9]+)?$/)]}],tradeDeadlineValue:[0,{validators:[_.kI.pattern(/^\d+([.]\d{1,2})?$/)]}]})}submit(){0==this.scheduleTabForm.controls.maxNumberOfSubGroups.value&&this.scheduleTabForm.controls.maxNumberOfSubGroups.setValue(null),this.scheduleTabForm.valid?this._scheduleManagementService.updateSchedulePreference(this.scheduleTabForm.value).subscribe(()=>{this._messageService.open("Changes saved.")},t=>{this._messageService.open(t),this.get()}):this._messageService.open(this.message.fillForm)}getAllLoneWorkerAdmins(){this._userService.getLoneWorkerAdmins().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.loneWorkerAdmins=t},t=>{this._messageService.open("Error retrieving user list.")})}get(){this._scheduleManagementService.getSchedulePreference().subscribe(t=>{this.scheduleTabForm.patchValue(t),this.initialValues.maxNumberOfSubGroups=t.maxNumberOfSubGroups,this.initialValues.tradeDeadlineValue=t.tradeDeadlineValue},t=>{})}get f(){if(this.scheduleTabForm)return this.scheduleTabForm.controls}onDeadlineClear(){this.scheduleTabForm.controls.tradeDeadlineValue.value||this.scheduleTabForm.controls.tradeDeadlineValue.setValue(0)}revertValues(){this.scheduleTabForm.controls.maxNumberOfSubGroups.setValue(this.initialValues.maxNumberOfSubGroups),this.scheduleTabForm.controls.tradeDeadlineValue.setValue(this.initialValues.tradeDeadlineValue)}trackByFn(t,i){return i.id}ngOnDestroy(){this._ngUnsubscribe.next(void 0),this._ngUnsubscribe.complete()}getRole(){this._userRoleService.loggedUserRole.subscribe(t=>{this.role=t})}getLoggedUserID(){this._userRoleService.loggedUserId.subscribe(t=>{this.loggedUserID=t,this.isMasterAccount=this.loggedUserID<0})}openConstraintsDialog(){this.dialog.open(kS,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleId:0},panelClass:["max-height96"]})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.qu),e.Y36(Yl.S),e.Y36(se.G),e.Y36(jn),e.Y36(qi.J),e.Y36(z.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-schedule"]],decls:4,vars:1,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],["spf","ngForm"],[1,"row"],[1,"col-md-4","justify-content-start","align-center"],["for","maxNumberOfSubGroupsInput",1,"form-label"],["formControlName","maxNumberOfSubGroups","id","maxNumberOfSubGroupsInput","type","number","numbersOnlyMask","",1,"form-control","form-control-sm","form-input"],["class","validationError",4,"ngIf"],[1,"col-12","schedule-column-cell"],["id","autoAssignmentsForJobOffers","name","autoAssignmentsForJobOffers","formControlName","autoAssignmentsForJobOffers"],[1,"normal-wrap"],["class","col-12 schedule-column-cell",4,"ngIf"],["for","tradeDeadlineValueInput",1,"form-label"],["formControlName","tradeDeadlineValue","id","tradeDeadlineValueInput","numbersOnlyMask","",1,"form-control","form-control-sm","form-input",3,"change"],["for","acceptedAutoAssignmentsDeadlineForJobOffers",1,"form-label"],["formControlName","acceptedAutoAssignmentsDeadlineForJobOffers","id","acceptedAutoAssignmentsDeadlineForJobOffers","type","number","numbersOnlyMask","",1,"form-control","form-control-sm","form-input"],["title","You can maintain a set of system constraints that Users can apply to a new schedule.","type","button","id","constraint_button",1,"eSolve-button","eSolve-blue-button","mr-3",3,"click"],[1,"col-md-12"],["for","loneWorkerAdmin1ID",1,"form-label"],["formControlName","loneWorkerAdmin1ID","id","loneWorkerAdmin1ID",1,"form-input","loneWorkers",3,"virtualScroll"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","loneWorkerAdmin2ID",1,"form-label"],["formControlName","loneWorkerAdmin2ID","id","loneWorkerAdmin2ID",1,"form-input","loneWorkers",3,"virtualScroll"],[1,"row","d-flex","justify-content-end","mt-3"],["type","button","id","cancel_button",1,"eSolve-button","eSolve-dark-blue-button","mr-3",3,"click"],["type","submit","id","submit_button",1,"eSolve-button","eSolve-blue-button","mr-3"],[1,"validationError"],[4,"ngIf"],["id","autoSolveAsPermission","name","autoSolveAsPermission","formControlName","autoSolveAsPermission"],[1,"permissions-font"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,DV,49,11,"form",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.scheduleTabForm))},dependencies:[D.sg,D.O5,Zi.oG,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.sg,_.u,Sn,tr,mo],styles:[".form-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:0!important}hr[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.schedule-column-cell[_ngcontent-%COMP%]{min-height:52px;display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end;font-size:11px}@media (max-width: 491px){#submit_button[_ngcontent-%COMP%]{margin-top:5px}}@media (max-width: 421px){.normal-wrap[_ngcontent-%COMP%]{white-space:normal}}"]}),n})(),Rx=(()=>{class n{constructor(t){this.http=t}getAllLocation(){return new A.y(t=>{this.http.get(S.j.URLlocation,{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getAllDepartments(){return new A.y(t=>{this.http.get(S.j.URLdepartment,{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getAllDivisions(){return new A.y(t=>{this.http.get(S.j.URLdivisions,{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getAllClasses(){return new A.y(t=>{this.http.get(S.j.URLclasses,{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getAllTeams(){return new A.y(t=>{this.http.get(S.j.URLteams,{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getAllJobTitles(){return new A.y(t=>{this.http.get(S.j.URLjobTitles,{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getAllCostCodes(){return new A.y(t=>{this.http.get(S.j.URLcostCodes,{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}createLocation(t){return new A.y(i=>{this.http.put(S.j.URLlocation+"/Locations",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteLocation(t){return new A.y(i=>{this.http.delete(S.j.URLlocation+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}createDivisions(t){return new A.y(i=>{this.http.put(S.j.URLdivisions+"/divisions",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteDivisions(t){return new A.y(i=>{this.http.delete(S.j.URLdivisions+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}createCostCodes(t){return new A.y(i=>{this.http.put(S.j.URLcostCodes+"/costCodes",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteCostCodes(t){return new A.y(i=>{this.http.delete(S.j.URLcostCodes+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}createJobTitles(t){return new A.y(i=>{this.http.put(S.j.URLjobTitles+"/jobTitles",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteJobTitles(t){return new A.y(i=>{this.http.delete(S.j.URLjobTitles+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}createTeams(t){return new A.y(i=>{this.http.put(S.j.URLteams+"/teams",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteTeams(t){return new A.y(i=>{this.http.delete(S.j.URLteams+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}createClasses(t){return new A.y(i=>{this.http.put(S.j.URLclasses+"/classes",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteClasses(t){return new A.y(i=>{this.http.delete(S.j.URLclasses+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}createDepartments(t){return new A.y(i=>{this.http.put(S.j.URLdepartment+"/departments",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteDepartments(t){return new A.y(i=>{this.http.delete(S.j.URLdepartment+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kV(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",34),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.isValueUnique())}),e.qZA()}}function AV(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function MV(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE(" ",t.message.maxLength,"","Location"==t.customDataTitle?"300":"100"," characters. ")}}function OV(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30),e.YNc(2,kV,1,0,"input",31),e.TgZ(3,"i",32),e.NdJ("click",function(){const r=e.CHM(t),a=r.index,s=r.$implicit,l=e.oxw(2);return e.KtG(l.deleteValue(a,s.controls.id.value,s.controls.name.value))}),e.qZA()(),e.YNc(4,AV,2,1,"div",33),e.YNc(5,MV,2,2,"div",33),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",i),e.xp6(1),e.Q6J("ngIf",r.isLookup),e.xp6(2),e.Q6J("ngIf",r.customDataForm.controls.customDataLookups.controls[i].controls.name.touched&&(null==r.customDataForm.controls.customDataLookups.controls[i].controls.name.errors?null:r.customDataForm.controls.customDataLookups.controls[i].controls.name.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.controls.name.errors?null:t.controls.name.errors.maxlength)}}function PV(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Value ",t.message.unique," ")}}function EV(n,o){if(1&n&&(e.ynx(0),e.YNc(1,PV,2,1,"div",33),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isValuesUnique)}}function IV(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.addNewInput(r))}),e._uU(1," Add New Value "),e.qZA()}}function NV(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Value ",t.message.unique," ")}}function RV(n,o){if(1&n&&(e.ynx(0),e.YNc(1,NV,2,1,"div",33),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isValuesUnique)}}function FV(n,o){1&n&&(e.TgZ(0,"div",1)(1,"div",27)(2,"button",37),e._UZ(3,"i",38),e._uU(4," Delete "),e.qZA()()())}function ZV(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitData())}),e.TgZ(2,"div",11)(3,"div",12)(4,"div",13)(5,"label",14),e._uU(6," Values: "),e.qZA()(),e.TgZ(7,"div",15)(8,"div",16),e.YNc(9,OV,6,4,"div",17),e.qZA()()(),e.YNc(10,EV,2,1,"ng-container",18),e.TgZ(11,"div",19),e.YNc(12,IV,2,0,"button",20),e.qZA(),e.YNc(13,RV,2,1,"ng-container",18),e.qZA(),e._UZ(14,"hr",21),e.TgZ(15,"div",22)(16,"div",23),e.YNc(17,FV,5,0,"div",24),e.qZA(),e.TgZ(18,"div",23)(19,"div",1)(20,"div",25)(21,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(22," Cancel "),e.qZA()(),e.TgZ(23,"div",27)(24,"button",28),e._uU(25," Save Changes "),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.customDataForm),e.xp6(9),e.Q6J("ngForOf",t.customDataForm.get("customDataLookups").controls),e.xp6(1),e.Q6J("ngIf",t.innerWidth<768),e.xp6(2),e.Q6J("ngIf",t.isLookup),e.xp6(1),e.Q6J("ngIf",t.innerWidth>767),e.xp6(4),e.Q6J("ngIf",t.isEdit)}}let LV=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h){this.data=t,this._confirmDetailsDialogRef=i,this.formBuilder=r,this._employeeSystemPreferenceService=a,this._messageService=s,this.dialogRef=l,this.dialogService=c,this.newCustomValidator=u,this.cdref=h,this.isValuesUnique=!0,this.customDataNameInUse=!1,this.list=new Array,this.isLookup=!0,this.isArrayClear=!1,this.isEdit=!1}ngAfterContentChecked(){this.customDataForm.updateValueAndValidity(),this.cdref.detectChanges()}ngOnInit(){this.message=St.yw,this.customDataTitle=this.data.scheduleEdit,this.buildForm(),this.initCustomDataForm(),this.innerWidth=window.innerWidth}onResize(t){this.innerWidth=window.innerWidth}buildForm(){this.customDataForm=this.formBuilder.group({id:[""],customDataLookups:this.formBuilder.array([],{validators:[_.kI.required],updateOn:"change"}),toDeleteCustomDataLookups:this.formBuilder.array([])})}_getFormArray(){return this.customDataForm.controls.customDataLookups}_getDeleteFormArray(){return this.customDataForm.controls.toDeleteCustomDataLookups}initCustomDataForm(){switch(this.data.scheduleEdit){case"Location":this._employeeSystemPreferenceService.getAllLocation().subscribe(i=>{this.list=i;for(let r of this.list)this._getFormArray().push(this.formBuilder.group({id:new _.NI(r.id),name:new _.NI(r.name,[_.kI.required,_.kI.maxLength(300)])}))});break;case"Department":this._employeeSystemPreferenceService.getAllDepartments().subscribe(i=>{this.list=i;for(let r of this.list)this._getFormArray().push(this.formBuilder.group({id:new _.NI(r.id),name:new _.NI(r.name,_.kI.maxLength(100))}))});break;case"Division":this._employeeSystemPreferenceService.getAllDivisions().subscribe(i=>{this.list=i;for(let r of this.list)this._getFormArray().push(this.formBuilder.group({id:new _.NI(r.id),name:new _.NI(r.name,_.kI.maxLength(100))}))});break;case"Class":this._employeeSystemPreferenceService.getAllClasses().subscribe(i=>{this.list=i;for(let r of this.list)this._getFormArray().push(this.formBuilder.group({id:new _.NI(r.id),name:new _.NI(r.name,_.kI.maxLength(100))}))});break;case"Cost Code":this._employeeSystemPreferenceService.getAllCostCodes().subscribe(i=>{this.list=i;for(let r of this.list)this._getFormArray().push(this.formBuilder.group({id:new _.NI(r.id),name:new _.NI(r.name,_.kI.maxLength(100))}))});break;case"Job Title":this._employeeSystemPreferenceService.getAllJobTitles().subscribe(i=>{this.list=i;for(let r of this.list)this._getFormArray().push(this.formBuilder.group({id:new _.NI(r.id),name:new _.NI(r.name,_.kI.maxLength(100))}))});break;case"Team":this._employeeSystemPreferenceService.getAllTeams().subscribe(i=>{this.list=i;for(let r of this.list)this._getFormArray().push(this.formBuilder.group({id:new _.NI(r.id),name:new _.NI(r.name,_.kI.maxLength(100))}))})}}addNewInput(t){this._getFormArray().push(this.formBuilder.group({id:new _.NI(0),name:new _.NI(t.target.value,_.kI.maxLength("Location"==this.customDataTitle?300:100))},_.kI.required))}closeDialog(){this._confirmDetailsDialogRef.close()}trackBy(t){return t}checkValuesToDelete(){let t=this.customDataForm.controls.toDeleteCustomDataLookups.value,i=this.customDataForm.controls.customDataLookups.value;if(t.length>0)for(var r=0;r<t.length;r++)for(var a=0;a<i.length;a++)if(i[a].name==t[r].name){i[a].id=t[r].id,t.splice(r,1);break}}submitData(){if(this.isValueUnique(),this.checkValuesToDelete(),this.customDataForm.controls.toDeleteCustomDataLookups.value.forEach(t=>{this.deleteFromTable(t.id,t.name,this.data.scheduleEdit)}),0!=this._getFormArray().length){if(this.customDataForm.valid&&this.isValuesUnique)switch(this.data.scheduleEdit){case"Location":this._employeeSystemPreferenceService.createLocation(this.customDataForm.controls.customDataLookups.value).subscribe(t=>{this._messageService.open(this.data.scheduleEdit+" updated."),this.closeDialog()});break;case"Department":this._employeeSystemPreferenceService.createDepartments(this.customDataForm.controls.customDataLookups.value).subscribe(t=>{this._messageService.open(this.data.scheduleEdit+" updated."),this.closeDialog()});break;case"Division":this._employeeSystemPreferenceService.createDivisions(this.customDataForm.controls.customDataLookups.value).subscribe(t=>{this._messageService.open(this.data.scheduleEdit+" updated."),this.closeDialog()});break;case"Class":this._employeeSystemPreferenceService.createClasses(this.customDataForm.controls.customDataLookups.value).subscribe(t=>{this._messageService.open(this.data.scheduleEdit+" updated."),this.closeDialog()});break;case"Cost Code":this._employeeSystemPreferenceService.createCostCodes(this.customDataForm.controls.customDataLookups.value).subscribe(t=>{this._messageService.open(this.data.scheduleEdit+" updated."),this.closeDialog()});break;case"Job Title":this._employeeSystemPreferenceService.createJobTitles(this.customDataForm.controls.customDataLookups.value).subscribe(t=>{this._messageService.open(this.data.scheduleEdit+" updated."),this.closeDialog()});break;case"Team":this._employeeSystemPreferenceService.createTeams(this.customDataForm.controls.customDataLookups.value).subscribe(t=>{this._messageService.open(this.data.scheduleEdit+" updated."),this.closeDialog()})}else this._messageService.open(this.message.fillForm);Object.keys(this.customDataForm.controls).forEach(t=>{const i=this.customDataForm.get(t);i instanceof _.Oe?Object.keys(this.customDataForm.controls.customDataLookups.controls).forEach(r=>{Object.keys(this.customDataForm.controls.customDataLookups.controls[r].controls).forEach(a=>{this.customDataForm.controls.customDataLookups.controls[r].get(a).markAsTouched({onlySelf:!0})})}):i.markAsTouched({onlySelf:!0})})}else this.closeDialog()}deleteFromTable(t,i,r){switch(r){case"Location":this._employeeSystemPreferenceService.deleteLocation(t).subscribe(a=>{},a=>{i&&this._messageService.open("The "+this.data.scheduleEdit+" can not be deleted.")},()=>{});break;case"Department":this._employeeSystemPreferenceService.deleteDepartments(t).subscribe(a=>{},a=>{i&&this._messageService.open("The "+this.data.scheduleEdit+" can not be deleted.")},()=>{});break;case"Division":this._employeeSystemPreferenceService.deleteDivisions(t).subscribe(a=>{},a=>{i&&this._messageService.open("The "+this.data.scheduleEdit+" can not be deleted.")},()=>{});break;case"Class":this._employeeSystemPreferenceService.deleteClasses(t).subscribe(a=>{},a=>{i&&this._messageService.open("The "+this.data.scheduleEdit+" can not be deleted.")},()=>{});break;case"Cost Code":this._employeeSystemPreferenceService.deleteCostCodes(t).subscribe(a=>{},a=>{i&&this._messageService.open("The "+this.data.scheduleEdit+" can not be deleted.")},()=>{});break;case"Job Title":this._employeeSystemPreferenceService.deleteJobTitles(t).subscribe(a=>{},a=>{i&&this._messageService.open("The "+this.data.scheduleEdit+" can not be deleted.")},()=>{});break;case"Team":this._employeeSystemPreferenceService.deleteTeams(t).subscribe(a=>{},a=>{i&&this._messageService.open("The "+this.data.scheduleEdit+" can not be deleted.")},()=>{})}}deleteValue(t,i,r){0==i?this._getFormArray().removeAt(t):(this._getFormArray().at(t),this._getDeleteFormArray().push(this.formBuilder.group({id:new _.NI(i),name:new _.NI(r)})),this._getFormArray().removeAt(t),r||this._getFormArray().removeAt(t)),this.isValueUnique()}isValueUnique(){this.trimWholeForm();let t=[];var a;this.customDataForm.controls.customDataLookups.value.forEach(i=>{t.push(i.name.toLowerCase())}),-1==t.indexOf("")&&(this.isValuesUnique=!((a=t,a.filter((s,l)=>a.indexOf(s)!=l)).length>0))}trimWholeForm(){try{let i=this.customDataForm.controls.customDataLookups.controls.length;for(var t=0;t<=i-1;t++){let r=this.customDataForm.value.customDataLookups[t].name.trim();this.customDataForm.controls.customDataLookups.controls[t].controls.name.setValue(r)}}catch(i){}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(Rx),e.Y36(se.G),e.Y36(z.so),e.Y36(Ri.x),e.Y36(ql.x),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employees-dialog"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},decls:13,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"form-group","row"],[1,"col-12","col-md-6","d-flex","justify-content-start","align-center"],[1,"min-width-50px"],[1,"col-form-label","col-form-label-sm"],[1,"full-width"],["formArrayName","customDataLookups"],["class","form-margin-bottom",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-6","align-center-md"],["type","button","class","btn rules-addnew-button form-buttons float-right g-margin-bottom-5",3,"click",4,"ngIf"],[1,"eSolveHr"],[1,"form-group","row","align-center-md"],[1,"col-12","col-md-6"],["class","row",4,"ngIf"],[1,"col-12","align-center"],["type","button",1,"btn","rules-cancel-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],[1,"col-12"],["id","submitBtn","type","submit",1,"btn","rules-save-button","form-buttons","float-right"],[1,"form-margin-bottom"],[1,"d-flex","justify-content-start","align-center",3,"formGroupName"],["id","lookupValueInput","class","form-control form-control-sm input-element input-width","formControlName","name","required","",3,"change",4,"ngIf"],[1,"fa","fa-trash-o","esolve-custom-icon","delete-icon",3,"click"],["class","validationError col-12",4,"ngIf"],["id","lookupValueInput","formControlName","name","required","",1,"form-control","form-control-sm","input-element","input-width",3,"change"],[1,"validationError","col-12"],["type","button",1,"btn","rules-addnew-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],["type","button",1,"btn","rules-delete-button","form-buttons"],[1,"fa","fa-trash-o"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.TgZ(10,"div",1)(11,"div",2),e.YNc(12,ZV,26,6,"form",8),e.qZA()()()),2&t&&(e.xp6(6),e.hij(" ",i.customDataTitle," "),e.xp6(6),e.Q6J("ngIf",i.customDataForm))},dependencies:[D.sg,D.O5,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.sg,_.u,_.x0,_.CE],styles:[".table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.rules-cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.rules-delete-button[_ngcontent-%COMP%]{margin-top:28px;background-color:#d6dce2;color:#3f4e63!important;width:200px}.add-skill-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.rules-save-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.esolve-custom-icon[_ngcontent-%COMP%]{cursor:pointer}.form-margin-bottom[_ngcontent-%COMP%]{margin-bottom:5px}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.input-width[_ngcontent-%COMP%]{max-width:200px;font-size:12px}.full-width[_ngcontent-%COMP%]{width:100%}.delete-icon[_ngcontent-%COMP%]{position:relative;top:5px;margin-left:5px}.min-width-50px[_ngcontent-%COMP%]{min-width:50px}.min-width-50px[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.freezeType[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}@media only screen and (max-width: 767px){.rules-delete-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{float:none!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}}@media only screen and (max-width: 348px){.rules-addnew-button[_ngcontent-%COMP%], .rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-delete-button[_ngcontent-%COMP%]{width:100%}}"]}),n})();function UV(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",20),e._UZ(1,"span",21),e._uU(2),e.TgZ(3,"button",22),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDetailsDialog(a.name))}),e.TgZ(4,"p",23),e._uU(5," View Details "),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(1),e.s9C("id",t.name)}}function jV(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",24)(1,"div",25)(2,"button",26),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDetailsDialog(a.name))}),e.TgZ(3,"p",23),e._uU(4," View Details "),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(2),e.s9C("id",t.name)}}function YV(n,o){1&n&&e._UZ(0,"mat-row")}let qV=(()=>{class n{constructor(t,i){this._employeeSystemPreferenceService=t,this.dialog=i,this.displayedColumns=["name","actions"],this.location=new Array,this.data=[{id:1,name:"Location"},{id:2,name:"Division"},{id:3,name:"Class"},{id:4,name:"Department"},{id:5,name:"Job Title"},{id:6,name:"Cost Code"},{id:7,name:"Team"}]}ngOnInit(){}openDetailsDialog(t){this.dialog.open(LV,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleEdit:t},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Rx),e.Y36(z.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employees"]],decls:26,vars:2,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],[1,"table-header","row"],[1,"col-sm-6","col-12","d-flex","justify-content-start"],[1,"table-header-title"],[1,"g-table-divider"],[1,"row","g-table-header"],[1,"col-12","d-flex","flex-row"],["id","halfRow"],["id","g-actions-column-width"],[1,"row"],[1,"g-thin-black-scroll-bar"],["id","JT_job_types_table_container",1,"job-table-container"],["id","JT_job_types_table",3,"dataSource"],["matColumnDef","name"],["class","job-type-name",4,"matCellDef"],["matColumnDef","actions"],["class","hidden-on-small-screen visible-on-small-screen-370px",4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],[1,"job-type-name"],[1,"mobile-label"],[1,"btn","details-button","pull-right","border-none","visible-on-small-screen",3,"id","click"],[1,"CD-btn-text"],[1,"hidden-on-small-screen","visible-on-small-screen-370px"],[1,"d-flex","justify-content-end"],[1,"btn","details-button","pull-right","border-none",3,"id","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6," Employee Data "),e.qZA()()(),e._UZ(7,"hr",6),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"p"),e._uU(12," Name "),e.qZA()(),e.TgZ(13,"div",10)(14,"p"),e._uU(15," Actions "),e.qZA()()()(),e.TgZ(16,"div",11)(17,"div",2)(18,"div",12)(19,"div",13)(20,"mat-table",14),e.ynx(21,15),e.YNc(22,UV,6,2,"mat-cell",16),e.BQk(),e.ynx(23,17),e.YNc(24,jV,5,1,"mat-cell",18),e.BQk(),e.YNc(25,YV,1,0,"mat-row",19),e.qZA()()()()()()()()),2&t&&(e.xp6(20),e.Q6J("dataSource",i.data),e.xp6(5),e.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[N.BZ,N.w1,N.Dz,N.nj,N.ev,N.Gk],styles:["#halfRow[_ngcontent-%COMP%]{width:calc(100% - 115px);border-bottom:1px solid rgba(0,0,0,.12)}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-cell[_ngcontent-%COMP%]:last-of-type, mat-footer-cell[_ngcontent-%COMP%]:last-of-type, mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:5px}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0 0 115px;flex:0 0 115px}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;padding-top:6px;margin-left:0}.details-button[_ngcontent-%COMP%]{height:30px;width:110px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:none}.add-job-type-button[_ngcontent-%COMP%]{height:30px;width:150px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;border:1px solid #ced5db;margin-right:5px;box-shadow:none}th[_ngcontent-%COMP%]{font-weight:600;font-size:12px;color:#42536f}.job-type-name[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f;width:100%}td.mat-column-type[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}.mat-column-type[_ngcontent-%COMP%]{position:relative;width:33.33%}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}  .mat-tab-body.mat-tab-body-active{overflow:hidden!important}  .mat-tab-body-content{overflow:hidden!important}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 410px);overflow-wrap:break-word}.border-none[_ngcontent-%COMP%]{border:none}.mobile-label[_ngcontent-%COMP%]{display:none}.visible-on-small-screen[_ngcontent-%COMP%]{display:none!important}@media (max-width: 860px){.mobile-label[_ngcontent-%COMP%]{display:inline-block;color:#565d6f;font-weight:400}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start;height:100px}.g-table-header[_ngcontent-%COMP%]{display:none}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0;flex:0}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}.visible-on-small-screen[_ngcontent-%COMP%]{display:table-cell!important;margin-left:auto}.details-button[_ngcontent-%COMP%]{margin-right:2px}mat-row[_ngcontent-%COMP%]{height:65px!important}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:0px}}@media (max-width: 576px){.add-job-type-button-div[_ngcontent-%COMP%]{-ms-flex-pack:start!important;justify-content:flex-start!important}.mat-column-type[_ngcontent-%COMP%]{width:100%}}@media (max-width: 370px){.visible-on-small-screen[_ngcontent-%COMP%]{display:none!important}.visible-on-small-screen-370px[_ngcontent-%COMP%]{display:table-cell!important}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:30px}}"]}),n})(),JV=(()=>{class n{constructor(t){this.http=t}getEmailPreferences(){return new A.y(t=>{this.http.get(S.j.URLemailPrefs).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}updateEmailPreferences(t,i){let r=!1;return[...t.smtpPassword].forEach(s=>{"`"!==s&&(r=!0)}),r&&(t.smtpPassword=window.btoa(t.smtpPassword)),new A.y(s=>{"POST"==i?this.http.post(S.j.URLemailPrefs+"/",t,{responseType:"text"}).subscribe(l=>(s.next(l),s.complete()),l=>s.error(l)):this.http.put(S.j.URLemailPrefs+"/",t,{responseType:"text"}).subscribe(l=>(s.next(l),s.complete()),l=>s.error(l))})}testConnection(t){return new A.y(i=>{this.http.get(S.j.URLemailPrefsTestConnection,{params:{smtpServer:t.smtpServer,smtpPort:t.smtpPort,smtpAddress:t.smtpAddress,smtpPassword:window.btoa(t.smtpPassword)}}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" SMTP Server",t.message.required," ")}}function BV(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,HV,2,1,"div",23),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.smtpServer.errors?null:t.f.smtpServer.errors.required)}}function VV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" SMTP Port",t.message.required," ")}}function GV(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,VV,2,1,"div",23),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.smtpPort.errors?null:t.f.smtpPort.errors.required)}}function WV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" SMTP Address",t.message.required," ")}}function QV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" SMTP Address",t.message.validEmail," ")}}function zV(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,WV,2,1,"div",23),e.YNc(2,QV,2,1,"div",23),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.smtpAddress.errors?null:t.f.smtpAddress.errors.required),e.xp6(1),e.Q6J("ngIf",!(null!=t.f.smtpAddress.errors&&t.f.smtpAddress.errors.required)&&t.f.smtpAddress.invalid)}}function KV(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" SMTP Password",t.message.required," ")}}function $V(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,KV,2,1,"div",23),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.smtpPassword.errors?null:t.f.smtpPassword.errors.required)}}function XV(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",6),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.savePreferences())}),e.TgZ(1,"div",7)(2,"div",8)(3,"div",7)(4,"div",2)(5,"label",9),e._uU(6," SMTP Server*: "),e.qZA(),e._UZ(7,"input",10),e.YNc(8,BV,2,1,"div",11),e.qZA(),e.TgZ(9,"div",2)(10,"label",12),e._uU(11," SMTP Port*: "),e.qZA(),e._UZ(12,"input",13),e.YNc(13,GV,2,1,"div",11),e.qZA(),e.TgZ(14,"div",2)(15,"label",14),e._uU(16," SMTP Address*: "),e.qZA(),e._UZ(17,"input",15),e.YNc(18,zV,3,2,"div",11),e.qZA(),e.TgZ(19,"div",2)(20,"label",14),e._uU(21," SMTP Password*: "),e.qZA(),e._UZ(22,"input",16),e.YNc(23,$V,2,1,"div",11),e.qZA(),e.TgZ(24,"div",17)(25,"button",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.testConnection())}),e._uU(26," Test Connection "),e.qZA()()()(),e._UZ(27,"div",8)(28,"div",8)(29,"div",8),e.qZA(),e._UZ(30,"hr"),e.TgZ(31,"div",19)(32,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.getPreferences())}),e._uU(33," Cancel "),e.qZA(),e.TgZ(34,"button",21),e._uU(35," Save Changes "),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.emailPrefsForm),e.xp6(8),e.Q6J("ngIf",t.f.smtpServer.touched&&t.f.smtpServer.errors),e.xp6(5),e.Q6J("ngIf",t.f.smtpPort.touched&&t.f.smtpPort.errors),e.xp6(5),e.Q6J("ngIf",t.f.smtpAddress.touched&&t.f.smtpAddress.errors),e.xp6(5),e.Q6J("ngIf",t.f.smtpPassword.touched&&t.f.smtpPassword.errors)}}let eG=(()=>{class n{constructor(t,i,r){this._fb=t,this._messageService=i,this._emailPrefService=r,this.populatedForm=!1}ngOnInit(){this.message=St.yw,this.buildEmailForm()}ngAfterViewInit(){this.getPreferences()}buildEmailForm(){this.emailPrefsForm=this._fb.group({id:[0],smtpServer:[null,{validators:[_.kI.required]}],smtpPort:[null,{validators:[_.kI.required]}],smtpAddress:[null,{validators:[_.kI.required,_.kI.email]}],smtpPassword:[null,{validators:[_.kI.required]}]})}getPreferences(){this._emailPrefService.getEmailPreferences().subscribe(t=>{t&&(this.emailPrefsForm.patchValue(t.emailSettings),this.populatedForm=!0)},t=>{})}savePreferences(){if(this.emailPrefsForm.valid){let t;this.checkPassword(),t=this.populatedForm?"PUT":"POST",this._emailPrefService.updateEmailPreferences(this.emailPrefsForm.value,t).subscribe(i=>{this._messageService.open("Changes saved."),this.getPreferences()},i=>{this._messageService.open(i)})}else Object.keys(this.emailPrefsForm.controls).forEach(t=>{this.emailPrefsForm.get(t).markAsTouched({onlySelf:!0})}),this._messageService.open(St.yw.fillForm)}checkPassword(){let t="";t="``````"!==this.emailPrefsForm.controls.smtpPassword.value?this.emailPrefsForm.controls.smtpPassword.value:"",this.emailPrefsForm.controls.smtpPassword.setValue(t)}testConnection(){this.emailPrefsForm.valid?(this.checkPassword(),this._emailPrefService.testConnection(this.emailPrefsForm.value).subscribe(t=>{this._messageService.open(t)},t=>{this._messageService.open(t)})):(Object.keys(this.emailPrefsForm.controls).forEach(t=>{this.emailPrefsForm.get(t).markAsTouched({onlySelf:!0})}),this._messageService.open(St.yw.fillForm))}get f(){return this.emailPrefsForm.controls}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.qu),e.Y36(se.G),e.Y36(JV))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-email-preferences"]],decls:6,vars:1,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],[1,"g-thin-black-scroll-bar"],[1,"email-container"],["autocomplete","off","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off","novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-3","col-12"],["for","SmtpServer",1,"form-label","emailPrefLabel"],["id","SmtpServer","type","text","name","SmtpServerInput","formControlName","smtpServer",1,"form-control","form-input","form-control-sm","emailPrefInput"],["class","validationError",4,"ngIf"],["for","SmtpPort",1,"form-label","emailPrefLabel"],["id","SmtpPort","type","text","name","SmtpPortInput","formControlName","smtpPort","mask","0*",1,"form-control","form-input","form-control-sm","emailPrefInput"],["for","SmtpAddress",1,"form-label","emailPrefLabel"],["id","SmtpAddress","type","email","email","","name","SmtpAddressInput","formControlName","smtpAddress",1,"form-control","form-input","form-control-sm","emailPrefInput"],["autocomplete","new-password","id","SmtpPassword","type","password","name","SmtpPasswordInput","formControlName","smtpPassword",1,"form-control","form-input","form-control-sm","emailPrefInput"],[1,"col-12","marginTop-email-pref"],["type","button","id","testConnection",1,"eSolve-button","eSolve-blue-button","mr-3",3,"click"],[1,"row","d-flex","justify-content-end","mt-3"],["type","button","id","cancel_button",1,"eSolve-button","eSolve-dark-blue-button","mr-3",3,"click"],["type","submit","id","submit_button",1,"eSolve-button","eSolve-blue-button","mr-3"],[1,"validationError"],[4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,XV,36,5,"form",5),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("ngIf",i.emailPrefsForm))},dependencies:[D.O5,_._Y,_.Fj,_.JJ,_.JL,_.on,_.sg,_.u,Cs],styles:[".emailPrefLabel[_ngcontent-%COMP%]{margin-bottom:0;font-size:11px}.emailPrefInput[_ngcontent-%COMP%]{margin-bottom:5px;font-size:12px}.email-container[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.marginTop-email-pref[_ngcontent-%COMP%]{margin-top:10px}@media (max-width: 491px){#submit_button[_ngcontent-%COMP%]{margin-top:5px}}"]}),n})(),Fx=(()=>{class n{constructor(t){this.http=t}getAllSpecialDates(){return new A.y(t=>{this.http.get(S.j.URLspecialDates).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getAllSpecialDatesTypes(){return new A.y(t=>{this.http.get(S.j.URLspecialDateTypes).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getSpecialDateById(t){return new A.y(i=>{this.http.get(S.j.URLspecialDates+"/"+t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}isDeletable(t){return new A.y(i=>{this.http.get(S.j.URLspecialDates+"/deletable/"+t,{observe:"response"}).subscribe(r=>(i.next(r.status),i.complete()),r=>i.error(r))})}checkIfSpecialDateIsUnique(t,i){return new A.y(r=>{this.http.get(S.j.URLspecialDates+"/date",{params:{Id:null!=i?i:0,Content:t},observe:"response"}).subscribe(a=>(r.next(a.status),r.complete()),a=>r.error(a))})}createSpecialDate(t){return new A.y(i=>{this.http.post(S.j.URLspecialDates,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}createSpecialDateType(t){return new A.y(i=>{this.http.put(S.j.URLspecialDateTypes,t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}editSpecialDates(t,i){return new A.y(r=>{this.http.put(S.j.URLspecialDates+"/"+i,t,{responseType:"text"}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}deleteSpecialDates(t){return new A.y(i=>{this.http.delete(S.j.URLspecialDates+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}deleteSpecialDatesType(t){return new A.y(i=>{this.http.delete(S.j.URLspecialDateTypes+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tG{constructor(o,t,i,r){this.id=o,this.date=t,this.specialDateTypeID=i,this.specialDateType=r}}function nG(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Special Date",t.message.required," ")}}function iG(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function rG(n,o){if(1&n&&(e.TgZ(0,"div",30),e.YNc(1,nG,2,1,"div",31),e.YNc(2,iG,2,1,"div",31),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.specialDatesForm.controls.date.errors?null:t.specialDatesForm.controls.date.errors.required)&&!(null!=t.specialDatesForm.controls.date.errors&&t.specialDatesForm.controls.date.errors.matDatepickerParse)&&!(null!=t.specialDatesForm.controls.date.errors&&t.specialDatesForm.controls.date.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.specialDatesForm.controls.date.errors?null:t.specialDatesForm.controls.date.errors.matDatepickerParse)||(null==t.specialDatesForm.controls.date.errors?null:t.specialDatesForm.controls.date.errors.minlength))}}function oG(n,o){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Type ",t.message.required," ")}}function aG(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",28)(2,"button",32),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.deleteSpecialDate())}),e._UZ(3,"i",33),e._uU(4," Delete "),e.qZA()()()}}const sG=function(n){return{freezeType:n}};function lG(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitSpecialDates())}),e._UZ(2,"hr",11),e.TgZ(3,"div",12)(4,"div",13)(5,"div",14)(6,"label",15),e._uU(7," Date*: "),e.qZA()(),e.TgZ(8,"div",16),e._UZ(9,"input",17),e.TgZ(10,"img",18),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(12);return e.KtG(r.open())}),e.qZA(),e._UZ(11,"mat-datepicker",null,19),e.qZA()(),e.YNc(13,rG,3,2,"div",20),e.qZA(),e._UZ(14,"hr",11),e.TgZ(15,"div",12)(16,"div",13)(17,"div",14)(18,"label",21),e._uU(19," Type*: "),e.qZA()(),e.TgZ(20,"div",16),e._UZ(21,"ng-select",22),e.qZA()(),e.YNc(22,oG,2,1,"div",20),e.qZA(),e._UZ(23,"hr",11),e.TgZ(24,"div",23)(25,"div",24),e.YNc(26,aG,5,0,"div",25),e.qZA(),e.TgZ(27,"div",24)(28,"div",1)(29,"div",26)(30,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(31," Cancel "),e.qZA()(),e.TgZ(32,"div",28)(33,"button",29),e._uU(34," Save Changes "),e.qZA()()()()()()}if(2&n){const t=e.MAs(12),i=e.oxw();e.Q6J("formGroup",i.specialDatesForm),e.xp6(9),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("matDatepicker",t)("dateLengthTracker",i.dateLength),e.xp6(4),e.Q6J("ngIf",(null==i.specialDatesForm.controls.date?null:i.specialDatesForm.controls.date.touched)&&i.specialDatesForm.controls.date.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(12,sG,!i.isDeletable))("items",i.types)("searchable",!1)("clearable",!1),e.xp6(1),e.Q6J("ngIf",i.specialDatesForm.controls.specialDateTypeID.touched&&(null==i.specialDatesForm.controls.specialDateTypeID.errors?null:i.specialDatesForm.controls.specialDateTypeID.errors.required)),e.xp6(4),e.Q6J("ngIf",i.isEdit),e.xp6(7),e.Q6J("disabled",i.disabledSaveButton)}}let KS=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this.data=t,this._confirmDetailsDialogRef=i,this.formBuilder=r,this.specialDatesService=a,this._messageService=s,this.dialogRef=l,this.dialogService=c,this.sdref=u,this.dateLength=ai.YG.length,this.specialDateTitle="Special Date",this.specialDates=new tG,this.isEdit=!1,this.isDeletable=!0,this.specialDateInUse=!1,this.disabledSaveButton=!1}ngAfterContentChecked(){this.specialDatesForm.updateValueAndValidity(),this.sdref.detectChanges()}closeDialog(){this._confirmDetailsDialogRef.close()}ngOnInit(){this.message=St.yw,this.getSpecialDateTypes(),this.buildForm(),this.initSpecialDatesForm(),this.innerWidth=window.innerWidth}onResize(t){this.innerWidth=window.innerWidth}buildForm(){this.specialDatesForm=this.formBuilder.group({id:[0],date:["",{validators:[_.kI.required],updateOn:"change"}],specialDateTypeID:["",{validators:[_.kI.required],updateOn:"change"}],specialDateType:["",{validators:[_.kI.required],updateOn:"change"}]})}isDateUnique(){if(""!=this.specialDatesForm.value.date){this.specialDateInUse=!1;let t=0;this.isEdit&&(t=this.data.scheduleEdit.id),this.specialDatesService.checkIfSpecialDateIsUnique(this.specialDatesForm.value.date,t).subscribe(i=>{this.specialDateInUse=200!=i},i=>{},()=>{})}}getSpecialDateTypes(){this.specialDatesService.getAllSpecialDatesTypes().subscribe(t=>{this.types=t})}initSpecialDatesForm(){let t=0;try{t=this.data.scheduleEdit.id}catch(i){}0!=t&&(this.isEdit=!0,this.specialDatesService.getSpecialDateById(this.data.scheduleEdit.id).subscribe(i=>{this.specialDates.id=i.id,this.specialDates.date=i.date,this.specialDates.specialDateTypeID=i.specialDateTypeID,this.specialDates.specialDateType=i.specialDatesType,this.specialDatesForm.patchValue(this.specialDates)}))}submitSpecialDates(){if(this.disabledSaveButton=!0,(this.specialDatesForm.valid||this.specialDatesForm.controls.date.valid&&this.specialDatesForm.controls.specialDateTypeID.valid)&&!this.specialDateInUse){let t=this.specialDatesForm.value;this.isEdit?(t.id=this.data.scheduleEdit.id,this.specialDatesService.editSpecialDates(t,t.id).subscribe(i=>{this._messageService.open("Special Date updated."),this.dialogRef.close({message:"submited"})},i=>{this._messageService.open(i)})):this.specialDatesService.createSpecialDate(t).subscribe(i=>{this._messageService.open("Special Date created."),this.dialogRef.close({message:"submited"})},i=>{this._messageService.open(i)})}else Object.keys(this.specialDatesForm.controls).forEach(t=>{this.specialDatesForm.get(t).markAsTouched({onlySelf:!0})}),this.isDateUnique(),this.disabledSaveButton=!1,this._messageService.open(this.message.fillForm)}deleteSpecialDate(){let t=this.data.scheduleEdit.id;this.isDeletable?this.dialogService.openConfirmDialog("Delete",(0,St.$j)(" Special Date")).afterClosed().subscribe(i=>{i&&this.specialDatesService.deleteSpecialDates(t).subscribe(r=>{this.dialogRef.close({message:"deleted"}),this._messageService.open("Special Date is deleted.")},r=>{},()=>{})}):this._messageService.open("Special Date cannot be deleted.")}ngAfterViewInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(Fx),e.Y36(se.G),e.Y36(z.so),e.Y36(Ri.x),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-special-dates-dialog"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},decls:13,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"eSolveHr"],[1,"form-group","row"],[1,"col-12","d-flex","justify-content-start","align-center"],[1,"min-width-50px"],["for","SpecialDate",1,"col-form-label","col-form-label-sm","datePicker"],[1,"full-width"],["id","SpecialDate","name","date","formControlName","date",1,"form-control","form-control-sm","date_input","eSolve-font-size","eSolve_datePicker_input",3,"matDatepicker","dateLengthTracker","placeholder"],["src","assets/icons/calendar-icon.png",1,"eSolve_datePicker_calendar_icon_img",3,"click"],["specialDateDatePicker",""],["class","validationError col-12",4,"ngIf"],["for","specialDateTypeID",1,"col-form-label","col-form-label-sm"],["id","specialDateTypeID","formControlName","specialDateTypeID","required","","bindLabel","name","bindValue","id",1,"jobTypeDetails","input-width",3,"ngClass","items","searchable","clearable"],[1,"form-group","row","align-center-md"],[1,"col-12","col-md-6"],["class","row",4,"ngIf"],[1,"col-12","align-center"],["type","button",1,"btn","rules-cancel-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],[1,"col-12"],["id","submitBtn","type","submit",1,"btn","rules-save-button","form-buttons","float-right",3,"disabled"],[1,"validationError","col-12"],[4,"ngIf"],["type","button",1,"btn","rules-delete-button","form-buttons",3,"click"],[1,"fa","fa-trash-o"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.TgZ(10,"div",1)(11,"div",2),e.YNc(12,lG,35,14,"form",8),e.qZA()()()),2&t&&(e.xp6(6),e.hij(" ",i.specialDateTitle," "),e.xp6(6),e.Q6J("ngIf",i.specialDatesForm))},dependencies:[D.mk,D.O5,On.Mq,On.hl,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.sg,_.u,Sn,$n,rr],styles:[".table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.rules-cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.rules-delete-button[_ngcontent-%COMP%]{margin-top:28px;background-color:#d6dce2;color:#3f4e63!important;width:200px}.add-skill-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.rules-save-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.esolve-custom-icon[_ngcontent-%COMP%]{cursor:pointer}.form-margin-bottom[_ngcontent-%COMP%]{margin-bottom:5px}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.input-width[_ngcontent-%COMP%]{max-width:200px;font-size:12px}.full-width[_ngcontent-%COMP%]{width:100%}.delete-icon[_ngcontent-%COMP%]{position:relative;top:5px;margin-left:5px}.min-width-50px[_ngcontent-%COMP%]{min-width:50px}.min-width-50px[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.freezeType[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.date_input[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:.25rem!important;padding-left:.8rem!important;height:28px!important;max-width:200px}.eSolve_datePicker_calendar_icon_img[_ngcontent-%COMP%]{top:7px;left:238px}.eSolve_datePicker_input[_ngcontent-%COMP%]{width:100%}@media only screen and (max-width: 767px){.rules-delete-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{float:none!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}.eSolve_datePicker_input[_ngcontent-%COMP%]{width:100%}}@media only screen and (max-width: 348px){.rules-addnew-button[_ngcontent-%COMP%], .rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-delete-button[_ngcontent-%COMP%]{width:100%}}@media only screen and (max-width: 400px){.eSolve_datePicker_calendar_icon_img[_ngcontent-%COMP%]{top:7px;left:auto;left:initial}}"]}),n})();function cG(n,o){if(1&n&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Value ",t.message.required," ")}}function dG(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"input",30),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.isValueUnique())}),e.qZA(),e.TgZ(3,"i",31),e.NdJ("click",function(){const r=e.CHM(t),a=r.index,s=r.$implicit,l=e.oxw(2);return e.KtG(l.deleteValue(a,s.controls.id.value,s.controls.name.value))}),e.qZA()(),e.YNc(4,cG,2,1,"div",32),e.qZA()}if(2&n){const t=o.index,i=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(3),e.Q6J("ngIf",i.specialDateTypeForm.controls.specialDatesTypesLookups.controls[t].controls.name.touched&&(null==i.specialDateTypeForm.controls.specialDatesTypesLookups.controls[t].controls.name.errors?null:i.specialDateTypeForm.controls.specialDatesTypesLookups.controls[t].controls.name.errors.required))}}function uG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Value ",t.message.unique," ")}}function pG(n,o){if(1&n&&(e.ynx(0),e.YNc(1,uG,2,1,"div",34),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isValuesUnique)}}function fG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Value ",t.message.unique," ")}}function hG(n,o){if(1&n&&(e.ynx(0),e.YNc(1,fG,2,1,"div",34),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isValuesUnique)}}function mG(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitData())}),e.TgZ(2,"div",11)(3,"div",12)(4,"div",13)(5,"label",14),e._uU(6," Values: "),e.qZA()(),e.TgZ(7,"div",15)(8,"div",16),e.YNc(9,dG,5,2,"div",17),e.qZA()()(),e.YNc(10,pG,2,1,"ng-container",18),e.TgZ(11,"div",19)(12,"button",20),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.addNewInput(r))}),e._uU(13," Add New Value "),e.qZA()(),e.YNc(14,hG,2,1,"ng-container",18),e.qZA(),e._UZ(15,"hr",21),e.TgZ(16,"div",22),e._UZ(17,"div",23),e.TgZ(18,"div",23)(19,"div",1)(20,"div",24)(21,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(22," Cancel "),e.qZA()(),e.TgZ(23,"div",26)(24,"button",27),e._uU(25," Save Changes "),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.specialDateTypeForm),e.xp6(9),e.Q6J("ngForOf",t.specialDateTypeForm.get("specialDatesTypesLookups").controls),e.xp6(1),e.Q6J("ngIf",t.innerWidth<768),e.xp6(4),e.Q6J("ngIf",t.innerWidth>767)}}let gG=(()=>{class n{constructor(t,i,r,a,s,l){this.data=t,this._confirmDetailsDialogRef=i,this.formBuilder=r,this.specialDatesService=a,this._messageService=s,this.cdref=l,this.isValuesUnique=!0,this.list=new Array,this.isEdit=!1}ngAfterContentChecked(){this.specialDateTypeForm.updateValueAndValidity(),this.cdref.detectChanges()}ngOnInit(){this.message=St.yw,this.buildForm(),this.initSpecialDateTypeForm(),this.innerWidth=window.innerWidth}onResize(t){this.innerWidth=window.innerWidth}buildForm(){this.specialDateTypeForm=this.formBuilder.group({id:[""],specialDatesTypesLookups:this.formBuilder.array([],{validators:[_.kI.required],updateOn:"change"}),toDeleteSpecialDatesTypes:this.formBuilder.array([])})}_getFormArray(){return this.specialDateTypeForm.controls.specialDatesTypesLookups}_getDeleteDateTypes(){return this.specialDateTypeForm.controls.toDeleteSpecialDatesTypes}initSpecialDateTypeForm(){this.specialDatesService.getAllSpecialDatesTypes().subscribe(t=>{this.list=t;for(let i of this.list)this._getFormArray().push(this.formBuilder.group({id:new _.NI(i.id),name:new _.NI(i.name,_.kI.required)}))})}addNewInput(t){this._getFormArray().push(this.formBuilder.group({id:new _.NI(0),name:new _.NI(t.target.value)},_.kI.required))}closeDialog(){this._confirmDetailsDialogRef.close()}trackBy(t){return t}checkValuesToDelete(){let t=this.specialDateTypeForm.controls.toDeleteSpecialDatesTypes.value,i=this.specialDateTypeForm.controls.specialDatesTypesLookups.value;if(t.length>0)for(var r=0;r<t.length;r++)for(var a=0;a<i.length;a++)if(i[a].name==t[r].name){i[a].id=t[r].id,t.splice(r,1);break}}submitData(){this.isValueUnique(),this.checkValuesToDelete(),this.specialDateTypeForm.controls.toDeleteSpecialDatesTypes.value.forEach(t=>{this.deleteDateType(t.id,t.name)}),0!=this._getFormArray().length?this.specialDateTypeForm.valid&&this.isValuesUnique?this.specialDatesService.createSpecialDateType(this.specialDateTypeForm.controls.specialDatesTypesLookups.value).subscribe(t=>{this._messageService.open("Special date type changes are saved."),this.closeDialog()}):(this._messageService.open(this.message.fillForm),Object.keys(this.specialDateTypeForm.controls).forEach(t=>{const i=this.specialDateTypeForm.get(t);i instanceof _.Oe?Object.keys(this.specialDateTypeForm.controls.specialDatesTypesLookups.controls).forEach(r=>{Object.keys(this.specialDateTypeForm.controls.specialDatesTypesLookups.controls[r].controls).forEach(a=>{this.specialDateTypeForm.controls.specialDatesTypesLookups.controls[r].get(a).markAsTouched({onlySelf:!0})})}):i.markAsTouched({onlySelf:!0})})):this.closeDialog()}deleteDateType(t,i){this.specialDatesService.deleteSpecialDatesType(t).subscribe(r=>{},r=>{i&&this._messageService.open((0,St.iT)("Special date type"))},()=>{})}deleteValue(t,i,r){0==i?this._getFormArray().removeAt(t):(this._getDeleteDateTypes().push(this.formBuilder.group({id:new _.NI(i),name:new _.NI(r)})),this._getFormArray().removeAt(t),r||this._getFormArray().removeAt(t)),this.isValueUnique()}isValueUnique(){this.trimWholeForm();let t=[];var a;this.specialDateTypeForm.controls.specialDatesTypesLookups.value.forEach(i=>{t.push(i.name)}),-1==t.indexOf("")&&(this.isValuesUnique=!((a=t,a.filter((s,l)=>a.indexOf(s)!=l)).length>0))}trimWholeForm(){try{let i=this.specialDateTypeForm.controls.specialDatesTypesLookups.controls.length;for(var t=0;t<=i-1;t++){let r=this.specialDateTypeForm.value.specialDatesTypesLookups[t].name.trim();this.specialDateTypeForm.controls.specialDatesTypesLookups.controls[t].controls.name.setValue(r)}}catch(i){}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(Fx),e.Y36(se.G),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-special-dates-types-dialog"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},decls:13,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"form-group","row"],[1,"col-12","col-md-6","d-flex","justify-content-start","align-center"],[1,"min-width-50px"],[1,"col-form-label","col-form-label-sm"],[1,"full-width"],["formArrayName","specialDatesTypesLookups"],["class","form-margin-bottom",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-6","align-center-md"],["type","button",1,"btn","rules-addnew-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],[1,"eSolveHr"],[1,"form-group","row","align-center-md"],[1,"col-12","col-md-6"],[1,"col-12","align-center"],["type","button",1,"btn","rules-cancel-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],[1,"col-12"],["id","submitBtn","type","submit",1,"btn","rules-save-button","form-buttons","float-right"],[1,"form-margin-bottom"],[1,"d-flex","justify-content-start","align-center",3,"formGroupName"],["id","lookupValueInput","formControlName","name","required","",1,"form-control","form-control-sm","input-element","input-width",3,"change"],[1,"fa","fa-trash-o","esolve-custom-icon","delete-icon",3,"click"],["class","validationError",4,"ngIf"],[1,"validationError"],["class","validationError col-12",4,"ngIf"],[1,"validationError","col-12"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6," Add Type "),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.TgZ(10,"div",1)(11,"div",2),e.YNc(12,mG,26,4,"form",8),e.qZA()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",i.specialDateTypeForm))},dependencies:[D.sg,D.O5,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.sg,_.u,_.x0,_.CE],styles:[".table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.rules-cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.rules-delete-button[_ngcontent-%COMP%]{margin-top:28px;background-color:#d6dce2;color:#3f4e63!important;width:200px}.add-skill-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.rules-save-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.esolve-custom-icon[_ngcontent-%COMP%]{cursor:pointer}.form-margin-bottom[_ngcontent-%COMP%]{margin-bottom:5px}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.input-width[_ngcontent-%COMP%]{max-width:200px;font-size:12px}.full-width[_ngcontent-%COMP%]{width:100%}.delete-icon[_ngcontent-%COMP%]{position:relative;top:5px;margin-left:5px}.min-width-50px[_ngcontent-%COMP%]{min-width:50px}.min-width-50px[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.freezeType[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}@media only screen and (max-width: 767px){.rules-delete-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{float:none!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}}@media only screen and (max-width: 348px){.rules-addnew-button[_ngcontent-%COMP%], .rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-delete-button[_ngcontent-%COMP%]{width:100%}}"]}),n})();function _G(n,o){if(1&n&&(e.TgZ(0,"mat-cell",28)(1,"span",29),e._uU(2,"Date: "),e.qZA(),e._uU(3),e.ALo(4,"DateTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.Oqu(e.lcZ(4,1,t.date))}}function vG(n,o){if(1&n&&(e.TgZ(0,"mat-cell",30)(1,"span",29),e._uU(2,"Type: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.specialDateType.name," ")}}function bG(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDetailsDialog(a))}),e.TgZ(2,"p",32),e._uU(3,"View Details"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(1),e.s9C("id",t.name)}}function yG(n,o){1&n&&e._UZ(0,"mat-row")}function xG(n,o){1&n&&e._UZ(0,"mat-spinner")}let CG=(()=>{class n{constructor(t,i,r){this.dialog=t,this._specialDatesService=i,this.zone=r,this.displayedColumns=["date","type","actions"],this.data=new N.by,this.dataSource=new N.by,this.isLoadingResults=!0}ngAfterViewInit(){}ngOnInit(){this.populateTableData()}populateTableData(){return this._specialDatesService.getAllSpecialDates().subscribe(t=>{this.data=t,this.isLoadingResults=!1},t=>{})}openAddSpecialDateDialog(){this.zone.run(()=>{this.dialog.open(KS,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleEdit:this.specialDateId},panelClass:["max-height96"]}).afterClosed().subscribe(i=>{this.populateTableData()})})}openDetailsDialog(t){this.zone.run(()=>{this.dialog.open(KS,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleEdit:t},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{this.populateTableData()})})}openAddNewTypeDialog(){this.zone.run(()=>{this.dialog.open(gG,{autoFocus:!1,disableClose:!0,width:"650px",data:{scheduleEdit:this.specialDateTypeId},panelClass:["max-height96"]}).afterClosed().subscribe(i=>{this.populateTableData()})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.uw),e.Y36(Fx),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-special-dates"]],decls:40,vars:3,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],[1,"table-header","row"],[1,"col-sm-6","col-12","d-flex","justify-content-start"],[1,"table-header-title"],[1,"col-sm-6","col-12","d-flex","justify-content-end","add-spec-date-type-button-div"],["id","SD_add_special_date_button",1,"btn","add-spec-date-type-button",3,"click"],[1,"fa","fa-plus","add-job-type-icon","border-none"],["id","SD_add_special_date_type_button",1,"btn","add-spec-date-type-button",3,"click"],[1,"g-table-divider"],[1,"row","g-table-header"],[1,"col-12","d-flex","flex-row"],["id","halfRow"],["id","g-actions-column-width"],[1,"row"],[1,"g-thin-black-scroll-bar"],["id","SD_special_date_types_table_container"],["id","SD_special_date_types_table",3,"dataSource"],["matColumnDef","date"],["class","special-date-type-date dataFont",4,"matCellDef"],["matColumnDef","type"],["class","special-date-type-name dataFont",4,"matCellDef"],["matColumnDef","actions"],[4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],[1,"spinner-container","centered"],[4,"ngIf"],[1,"special-date-type-date","dataFont"],[1,"mobile-label"],[1,"special-date-type-name","dataFont"],[1,"btn","details-button","pull-right","border-none",3,"id","click"],[1,"CD-btn-text"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Special Dates"),e.qZA()(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return i.openAddSpecialDateDialog()}),e._UZ(9,"i",8),e._uU(10,"\xa0\xa0Add Special Date "),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return i.openAddNewTypeDialog()}),e._UZ(12,"i",8),e._uU(13,"\xa0\xa0Add Type "),e.qZA()()(),e._UZ(14,"hr",10),e.TgZ(15,"div",11)(16,"div",12)(17,"div",13)(18,"p"),e._uU(19,"Date"),e.qZA()(),e.TgZ(20,"div",13)(21,"p"),e._uU(22,"Type"),e.qZA()(),e.TgZ(23,"div",14)(24,"p"),e._uU(25,"Actions"),e.qZA()()()(),e.TgZ(26,"div",15)(27,"div",2)(28,"div",16)(29,"div",17)(30,"mat-table",18),e.ynx(31,19),e.YNc(32,_G,5,3,"mat-cell",20),e.BQk(),e.ynx(33,21),e.YNc(34,vG,4,1,"mat-cell",22),e.BQk(),e.ynx(35,23),e.YNc(36,bG,4,1,"mat-cell",24),e.BQk(),e.YNc(37,yG,1,0,"mat-row",25),e.qZA()()()()()()()(),e.TgZ(38,"div",26),e.YNc(39,xG,1,0,"mat-spinner",27),e.qZA()),2&t&&(e.xp6(30),e.Q6J("dataSource",i.data),e.xp6(7),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("ngIf",i.isLoadingResults))},dependencies:[D.O5,N.BZ,N.w1,N.Dz,N.nj,N.ev,N.Gk,mp.Ou,Do],styles:[".table-container[_ngcontent-%COMP%]{min-height:100px;width:100%;padding:27px;background-color:#fff;color:#565d6f}.special-date-table-container[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;height:calc(100vh - 390px);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.dataFont[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}#halfRow[_ngcontent-%COMP%]{width:calc((100% - 115px)/2);border-bottom:1px solid rgba(0,0,0,.12)}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-cell[_ngcontent-%COMP%]:last-of-type, mat-footer-cell[_ngcontent-%COMP%]:last-of-type, mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:5px}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0 0 115px;flex:0 0 115px}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;padding-top:6px;margin-left:0}.details-button[_ngcontent-%COMP%]{height:30px;width:110px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:none}.add-spec-date-type-button[_ngcontent-%COMP%]{height:30px;width:160px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;border:1px solid #ced5db;margin-right:5px;box-shadow:none}th[_ngcontent-%COMP%]{font-weight:600;font-size:12px;color:#42536f}.special-date-type-name[_ngcontent-%COMP%], td.mat-column-type[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}.mat-column-type[_ngcontent-%COMP%]{position:relative;width:33.33%}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}  .mat-tab-body.mat-tab-body-active{overflow:hidden!important}  .mat-tab-body-content{overflow:hidden!important}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 410px);overflow-wrap:break-word}.border-none[_ngcontent-%COMP%]{border:none}.mobile-label[_ngcontent-%COMP%]{display:none}@media (max-width: 860px){.mobile-label[_ngcontent-%COMP%]{width:40px;display:inline-block;color:#565d6f;font-weight:400}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start;height:100px}.g-table-header[_ngcontent-%COMP%]{display:none}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0;flex:0}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:30px}}@media (max-width: 576px){.add-spec-date-type-button-div[_ngcontent-%COMP%]{-ms-flex-pack:start!important;justify-content:flex-start!important}.mat-column-type[_ngcontent-%COMP%]{width:100%}.d-flex[_ngcontent-%COMP%]{display:inline-block!important}.add-spec-date-type-button[_ngcontent-%COMP%]{margin-top:5px;text-align:center}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 421px);overflow-wrap:break-word}}"]}),n})(),Q1=(()=>{class n{constructor(t){this.http=t}getAllAbsenceCodes(){return new A.y(t=>{this.http.get(S.j.URLabsenceCodes).subscribe({next:i=>t.next(i),error:i=>t.error(i)})})}getAbsenceCodesById(t){return new A.y(i=>{this.http.get(S.j.URLabsenceCodes+"/"+t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}createAbsenceCodes(t){return new A.y(i=>{this.http.post(S.j.URLabsenceCodes,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}editAbsenceCodes(t,i){return new A.y(r=>{this.http.put(S.j.URLabsenceCodes+"/"+i,t,{responseType:"text"}).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}deleteAbsenceCodes(t){return new A.y(i=>{this.http.delete(S.j.URLabsenceCodes+"/"+t,{responseType:"text"}).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}checkIfAbsenceCodesNameIsUnique(t,i){return new A.y(r=>{this.http.get(S.j.URLabsenceCodes+"/name",{params:{Id:null!=i?i:0,Content:t},observe:"response"}).subscribe(a=>(r.next(a.status),r.complete()),a=>r.error(a))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class TG{constructor(o,t,i,r,a,s){this.id=o,this.name=t,this.description=i,this.color=r,this.countsForReconciliation=a,this.countsForRefPeriodAbs=s}}function wG(n,o){if(1&n&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Absence Code ",t.message.required," ")}}function DG(n,o){if(1&n&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Absence Code ",t.message.inUse," ")}}function SG(n,o){if(1&n&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Color ",t.message.required," ")}}function kG(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitAbsenceCodes())}),e._UZ(2,"hr",11),e.TgZ(3,"div",12)(4,"div",13)(5,"label",14),e._uU(6," Absence Code*: "),e.qZA()(),e.TgZ(7,"div",15),e._UZ(8,"input",16),e.qZA(),e.YNc(9,wG,2,1,"div",17),e.YNc(10,DG,2,1,"div",17),e.qZA(),e._UZ(11,"hr",11),e.TgZ(12,"div",12)(13,"div",13)(14,"label",18),e._uU(15," Description*: "),e.qZA()(),e.TgZ(16,"div",19)(17,"textarea",20),e._uU(18,"                    "),e.qZA()()(),e._UZ(19,"hr",11),e.TgZ(20,"div",12)(21,"div",13)(22,"label",21),e._uU(23," Color*: "),e.qZA()(),e.TgZ(24,"div",15)(25,"input",22),e.NdJ("colorPickerChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.defaultColor=r)})("colorPickerSelect",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.changeColor(r))})("colorPickerClose",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cancelColorPicker())})("colorPickerCancel",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cancelColorPicker())}),e.qZA()(),e.YNc(26,SG,2,1,"div",17),e.qZA(),e._UZ(27,"hr",11),e.TgZ(28,"div",23),e._UZ(29,"div",24),e.TgZ(30,"div",25)(31,"div",1)(32,"div",26)(33,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(34," Cancel "),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.absenceCodesForm),e.xp6(9),e.Q6J("ngIf",t.absenceCodesForm.controls.name.touched&&(null==t.absenceCodesForm.controls.name.errors?null:t.absenceCodesForm.controls.name.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.absenceCodesForm.controls.name.errors?null:t.absenceCodesForm.controls.name.errors.nameInUse),e.xp6(15),e.Udp("background",t.defaultColor),e.Q6J("colorPicker",t.defaultColor)("cpOKButton",!0)("cpCancelButton",!0)("cpSaveClickOutside",!1)("cpOKButtonText","Ok")("cpWidth","auto")("cpHeight","auto")("cpPosition","top"),e.xp6(1),e.Q6J("ngIf",t.absenceCodesForm.controls.color.touched&&(null==t.absenceCodesForm.controls.color.errors?null:t.absenceCodesForm.controls.color.errors.required))}}let $S=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this.data=t,this._confirmDetailsDialogRef=i,this.formBuilder=r,this.absenceCodesService=a,this._messageService=s,this.dialogRef=l,this.dialogService=c,this.sdref=u,this.absenceCodesTitle="Absence Code",this.absenceCodes=new TG,this.isEdit=!1,this.disabledSaveButton=!1,this.flag=0,this.defaultColor="#ffffff"}ngAfterContentChecked(){this.absenceCodesForm.updateValueAndValidity(),this.sdref.detectChanges()}closeDialog(){this._confirmDetailsDialogRef.close()}ngOnInit(){this.message=St.yw,this.buildForm(),this.initAbsenceCodesForm()}buildForm(){this.absenceCodesForm=this.formBuilder.group({id:[0],name:["",{validators:[_.kI.required],updateOn:"change"}],description:[""],color:["",{validators:[_.kI.required],updateOn:"change"}]})}initAbsenceCodesForm(){let t=0;try{t=this.data.absenceCodeEdit.id}catch(i){}0!=t&&(this.isEdit=!0,this.absenceCodesService.getAbsenceCodesById(this.data.absenceCodeEdit.id).subscribe(i=>{this.absenceCodes.id=i.id,this.absenceCodes.name=i.name,this.absenceCodes.description=i.description,this.absenceCodes.color=i.color,this.defaultColor=i.color,this.absenceCodesForm.patchValue(this.absenceCodes)}))}submitAbsenceCodes(){if(this.disabledSaveButton=!0,Object.keys(this.absenceCodesForm.controls).forEach(t=>{const i=this.absenceCodesForm.get(t);if(i.value&&"string"==typeof i.value){let r=i.value.trim();i.setValue(r)}i.markAsTouched({onlySelf:!0})}),this.absenceCodesForm.valid){this.absenceCodesForm.value.color.includes("rgb")&&(this.absenceCodesForm.value.color=this.rgbToHex(this.absenceCodesForm.value.color));let t=this.absenceCodesForm.value;t.name=this.absenceCodesForm.controls.name.value.trim(),this.isEdit?(t.id=this.data.absenceCodeEdit.id,this.absenceCodesService.editAbsenceCodes(t,t.id).subscribe(i=>{this._messageService.open("Absence Code updated."),this.dialogRef.close({message:"submited"})},i=>{this._messageService.open(i),this.disabledSaveButton=!1})):this.absenceCodesService.createAbsenceCodes(t).subscribe(i=>{this._messageService.open("Absence Code created."),this.dialogRef.close({message:"submited"})},i=>{this._messageService.open(i),this.disabledSaveButton=!1})}else this.disabledSaveButton=!1,this._messageService.open(this.message.fillForm)}deleteAbsenceCode(){let t=this.data.absenceCodeEdit.id;this.dialogService.openConfirmDialog("Delete",(0,St.$j)(" Absence Code")).afterClosed().subscribe(i=>{i&&this.absenceCodesService.deleteAbsenceCodes(t).subscribe(r=>{this.dialogRef.close({message:"deleted"}),this._messageService.open("Absence Code is deleted.")},r=>{400==r.status&&this._messageService.open("Absence Code cannot be deleted.")})})}changeColor(t){this.absenceCodesForm.controls.color.setValue(t)}cancelColorPicker(){this.flag=0}rgbToHex(t){var i=t.replace(/rgba?\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),r=parseFloat(i[3]||1),a=Math.floor(r*parseInt(i[0])+255*(1-r)),s=Math.floor(r*parseInt(i[1])+255*(1-r)),l=Math.floor(r*parseInt(i[2])+255*(1-r));return"#"+("0"+a.toString(16)).slice(-2)+("0"+s.toString(16)).slice(-2)+("0"+l.toString(16)).slice(-2)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(Q1),e.Y36(se.G),e.Y36(z.so),e.Y36(Ri.x),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-absence-codes-dialog"]],decls:13,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"card_body","col-12"],[1,"absence-code-dialog-header","d-flex","justify-content-between"],[1,"absence-code-dialog-title"],[1,"col-2","justify-content-end","absence-code-dialog-close-button"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"absence-code-dialog-table-divider","eSolveHr"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"eSolveHr"],[1,"form-group","row"],[1,"absence-code-dialog-row-label","col-md-2","col-12"],["for","name",1,"col-form-label","col-form-label-sm","absence-code-dialog-abscode-margin-left"],[1,"col-md-8","col-12"],["id","name","formControlName","name","type","text","maxlength","50","required","","readonly","",1,"form-control","form-control-sm","absence-code-dialog-input-width"],["class","validationError absence-validation col-12",4,"ngIf"],["for","description",1,"col-form-label","col-form-label-sm","absence-code-dialog-description-margin-left"],[1,"col-md-8","col-12","padding_left_70"],["id","description","rows","2","formControlName","description","readonly","",1,"form-control","form-control-sm","absence-code-dialog-description-width"],["for","color",1,"col-form-label","col-form-label-sm","absence-code-dialog-color-margin-left"],["type","button","formControlName","color","id","color1","required","",1,"form-control","form-control-sm","btn","absence-code-dialog-color-button","absence-code-dialog-input-width","disable-color-btn",3,"colorPicker","cpOKButton","cpCancelButton","cpSaveClickOutside","cpOKButtonText","cpWidth","cpHeight","cpPosition","colorPickerChange","colorPickerSelect","colorPickerClose","colorPickerCancel"],[1,"form-group","row","absence-code-dialog-align-center-md"],[1,"col-12","col-md-6"],[1,"col-12","col-md-6","justify-content-end"],[1,"col-12"],["type","button",1,"btn","absence-code-dialog-cancel-button","absence-code-dialog-form-buttons","float-right","g-margin-bottom-5",3,"click"],[1,"validationError","absence-validation","col-12"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.TgZ(10,"div",1)(11,"div",2),e.YNc(12,kG,35,14,"form",8),e.qZA()()()),2&t&&(e.xp6(6),e.hij(" ",i.absenceCodesTitle," "),e.xp6(6),e.Q6J("ngIf",i.absenceCodesForm))},dependencies:[D.O5,zS.Kk,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.nD,_.sg,_.u],styles:[".absence-code-dialog-table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.absence-code-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.absence-code-dialog-close-button[_ngcontent-%COMP%]{padding:0}.absence-code-dialog-cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.absence-code-dialog-delete-button[_ngcontent-%COMP%]{margin-top:28px;background-color:#d6dce2;color:#3f4e63!important;width:200px}.absence-code-dialog-form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.absence-code-dialog-save-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.absence-code-dialog-header[_ngcontent-%COMP%]{max-height:40px}.absence-code-dialog-input-width[_ngcontent-%COMP%]{width:180px;font-size:12px;margin-left:55px}.absence-code-dialog-row-label[_ngcontent-%COMP%]{min-width:50px}.absence-code-dialog-row-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#565d6f;white-space:nowrap}.absence-code-dialog-color-button[_ngcontent-%COMP%]{width:180px;height:30px;border:.5px solid #ced4da;color:transparent}.disable-color-btn[_ngcontent-%COMP%]{pointer-events:none}.absence-code-dialog-description-width[_ngcontent-%COMP%]{font-size:12px;height:75px;width:180px}.padding_left_70[_ngcontent-%COMP%]{padding-left:70px}.absence-code-dialog-align-center-md[_ngcontent-%COMP%]{-ms-flex-pack:end!important;justify-content:end!important}.absence-validation[_ngcontent-%COMP%]{padding-top:2px;margin-left:130px}.absence-code-dialog-abscode-margin-left[_ngcontent-%COMP%]{margin-left:30px}.absence-code-dialog-description-margin-left[_ngcontent-%COMP%]{margin-left:46px}.absence-code-dialog-color-margin-left[_ngcontent-%COMP%]{margin-left:78px}@media only screen and (max-width: 767px){.absence-code-dialog-delete-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.absence-code-dialog-save-button[_ngcontent-%COMP%], .absence-code-dialog-cancel-button[_ngcontent-%COMP%]{float:none!important}.absence-code-dialog-align-center-md[_ngcontent-%COMP%]{text-align:center}.absence-code-dialog-abscode-margin-left[_ngcontent-%COMP%], .absence-code-dialog-description-margin-left[_ngcontent-%COMP%], .absence-code-dialog-color-margin-left[_ngcontent-%COMP%], .absence-code-dialog-input-width[_ngcontent-%COMP%], .absence-code-dialog-description-width[_ngcontent-%COMP%]{margin-left:0}.padding_left_70[_ngcontent-%COMP%]{padding-left:15px}.absence-validation[_ngcontent-%COMP%]{margin-left:0}}@media only screen and (max-width: 400px){.absence-code-dialog-save-button[_ngcontent-%COMP%], .absence-code-dialog-cancel-button[_ngcontent-%COMP%], .absence-code-dialog-delete-button[_ngcontent-%COMP%]{width:100%}.absence-code-dialog-abscode-margin-left[_ngcontent-%COMP%], .absence-code-dialog-description-margin-left[_ngcontent-%COMP%], .absence-code-dialog-color-margin-left[_ngcontent-%COMP%], .absence-code-dialog-color-button[_ngcontent-%COMP%], .absence-code-dialog-input-width[_ngcontent-%COMP%], .absence-code-dialog-description-width[_ngcontent-%COMP%]{margin-left:0}.padding_left_70[_ngcontent-%COMP%]{padding-left:15px}.absence-validation[_ngcontent-%COMP%]{margin-left:0}}"]}),n})();function AG(n,o){if(1&n&&(e.TgZ(0,"mat-cell",23)(1,"span",24),e._uU(2,"Name: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.name)}}function MG(n,o){if(1&n&&(e.TgZ(0,"mat-cell",23)(1,"span",24),e._uU(2,"Description: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.description)}}function OG(n,o){if(1&n&&(e.TgZ(0,"mat-cell",23)(1,"span",24),e._uU(2,"Color: "),e.qZA(),e._UZ(3,"button",25),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.Udp("background",t.color)}}function PG(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",26),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openEditDialog(a))}),e.TgZ(2,"p",27),e._uU(3,"View Details"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(1),e.s9C("id",t.name)}}function EG(n,o){1&n&&e._UZ(0,"mat-row")}function IG(n,o){1&n&&e._UZ(0,"mat-spinner")}let NG=(()=>{class n{constructor(t,i){this._absenceCodesService=t,this.dialog=i,this.displayedColumns=["name","description","color","actions"],this.dataSource=new N.by,this.isLoadingResults=!0}ngOnInit(){this.populateTableData()}populateTableData(){return this._absenceCodesService.getAllAbsenceCodes().subscribe(t=>{this.dataSource=t,this.isLoadingResults=!1},t=>{})}openCreateDialog(){this.dialog.open($S,{autoFocus:!1,disableClose:!0,width:"500px",panelClass:["max-height96"]}).afterClosed().subscribe(i=>{this.populateTableData()})}openEditDialog(t){this.dialog.open($S,{autoFocus:!1,disableClose:!0,width:"500px",data:{absenceCodeEdit:t},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{this.populateTableData()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q1),e.Y36(z.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-absence-codes"]],decls:38,vars:3,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],[1,"row"],[1,"col-sm-6","col-12","d-flex","justify-content-start"],[1,"absence-codes-table-header-title"],[1,"g-table-divider"],[1,"row","g-table-header"],[1,"col-12","d-flex","flex-row"],[1,"absence-codes-half-row"],["id","g-actions-column-width"],[1,"g-thin-black-scroll-bar"],["id","AC_absence_codes_table_container"],["id","AC_absence_codes_table",3,"dataSource"],["matColumnDef","name"],["class","absence-codes-column-title",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","color"],["matColumnDef","actions"],[4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],[1,"absence-codes-centered-spinner"],[4,"ngIf"],[1,"absence-codes-column-title"],[1,"absence-codes-mobile-label-title"],["id","color",1,"btn","absence-codes-color-button"],[1,"btn","absence-codes-details-button","pull-right","absence-codes-border-none",3,"id","click"],[1,"CD-btn-text"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Absence Codes"),e.qZA()()(),e._UZ(7,"hr",6),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"p"),e._uU(12,"Name"),e.qZA()(),e.TgZ(13,"div",9)(14,"p"),e._uU(15,"Description"),e.qZA()(),e.TgZ(16,"div",9)(17,"p"),e._uU(18,"Color"),e.qZA()(),e.TgZ(19,"div",10)(20,"p"),e._uU(21,"Actions"),e.qZA()()()(),e.TgZ(22,"div",3)(23,"div",2)(24,"div",11)(25,"div",12)(26,"mat-table",13),e.ynx(27,14),e.YNc(28,AG,4,1,"mat-cell",15),e.BQk(),e.ynx(29,16),e.YNc(30,MG,4,1,"mat-cell",15),e.BQk(),e.ynx(31,17),e.YNc(32,OG,4,2,"mat-cell",15),e.BQk(),e.ynx(33,18),e.YNc(34,PG,4,1,"mat-cell",19),e.BQk(),e.YNc(35,EG,1,0,"mat-row",20),e.qZA()()()()()()()(),e.TgZ(36,"div",21),e.YNc(37,IG,1,0,"mat-spinner",22),e.qZA()),2&t&&(e.xp6(26),e.Q6J("dataSource",i.dataSource),e.xp6(9),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("ngIf",i.isLoadingResults))},dependencies:[D.O5,N.BZ,N.w1,N.Dz,N.nj,N.ev,N.Gk,mp.Ou],styles:[".absence-codes-half-row[_ngcontent-%COMP%]{width:calc((70% - 115px)/2);border-bottom:1px solid rgba(0,0,0,.12)}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-cell[_ngcontent-%COMP%]:last-of-type, mat-footer-cell[_ngcontent-%COMP%]:last-of-type, mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:5px}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0 0 115px;flex:0 0 115px}.absence-codes-table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;padding-top:6px;margin-left:0}.absence-codes-details-button[_ngcontent-%COMP%]{height:30px;width:110px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:none}.absence-codes-add-button[_ngcontent-%COMP%]{height:30px;width:160px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;border:1px solid #ced5db;box-shadow:none}th[_ngcontent-%COMP%]{font-weight:600;font-size:12px;color:#42536f}.absence-codes-column-title[_ngcontent-%COMP%], td.mat-column-type[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}.mat-column-type[_ngcontent-%COMP%]{position:relative;width:33.33%}.absence-codes-centered-spinner[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.absence-codes-color-button[_ngcontent-%COMP%]{width:135px;height:30px;pointer-events:none}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}  .mat-tab-body.mat-tab-body-active{overflow:hidden!important}  .mat-tab-body-content{overflow:hidden!important}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 410px);overflow-wrap:break-word}.absence-codes-border-none[_ngcontent-%COMP%]{border:none}.absence-codes-mobile-label-title[_ngcontent-%COMP%]{display:none}@media (max-width: 1150px){.absence-codes-mobile-label-title[_ngcontent-%COMP%]{width:40px;display:inline-block;color:#565d6f;font-weight:400;white-space:nowrap}.g-table-header[_ngcontent-%COMP%]{display:none}.absence-codes-details-button[_ngcontent-%COMP%]{width:117px}.absence-codes-color-button[_ngcontent-%COMP%]{width:77px}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start;height:190px}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0;flex:0}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:60px}}@media (max-width: 576px){.absence-codes-add-button-div[_ngcontent-%COMP%]{-ms-flex-pack:start!important;justify-content:flex-start!important}.mat-column-type[_ngcontent-%COMP%]{width:100%}}"]}),n})(),RG=(()=>{class n{constructor(t){this.http=t,this.getTimeUnitsMockedData=[{id:1,name:"Years"},{id:2,name:"Months"},{id:3,name:"Weeks"}]}updateGDPR(t,i,r){return new A.y(a=>{this.http.put(S.j.URLgdpr+"/update/",{id:r,period:t,count:i},{responseType:"json"}).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}getGDPR(){return new A.y(t=>{this.http.get(S.j.URLgdpr).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FG(n,o){if(1&n&&(e.TgZ(0,"ng-option",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function ZG(n,o){if(1&n&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Data delete value ",t.message.required," ")}}function LG(n,o){if(1&n&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.maxInput," 999. ")}}function UG(n,o){if(1&n&&(e.TgZ(0,"div",19),e.YNc(1,ZG,2,1,"div",20),e.YNc(2,LG,2,1,"div",20),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.gdprForm.controls.timeValue?null:t.gdprForm.controls.timeValue.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.gdprForm.controls.timeValue?null:t.gdprForm.controls.timeValue.errors.max)}}function jG(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveGDPR())}),e.TgZ(2,"div",6)(3,"div",7)(4,"label",8),e._uU(5," Data Delete: "),e.qZA()(),e.TgZ(6,"div",9)(7,"ng-select",10),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.clearTimeValueValidation(r))}),e.YNc(8,FG,2,2,"ng-option",11),e.qZA()(),e.TgZ(9,"div",12)(10,"input",13),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.timeValueChanged())}),e.qZA()()(),e.YNc(11,UG,3,2,"div",14),e._UZ(12,"hr"),e.TgZ(13,"div",15)(14,"button",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.populateForm())}),e._uU(15," Cancel "),e.qZA(),e.TgZ(16,"button",17),e._uU(17," Save Changes "),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.gdprForm),e.xp6(7),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",t.timeUnitList),e.xp6(2),e.Q6J("required",""!=t.gdprForm.controls.timeUnit.value&&null!=t.gdprForm.controls.timeUnit.value),e.xp6(1),e.Q6J("ngIf",(null==t.gdprForm.controls.timeValue?null:t.gdprForm.controls.timeValue.touched)&&(null==t.gdprForm.controls.timeValue?null:t.gdprForm.controls.timeValue.errors))}}let YG=(()=>{class n{constructor(t,i,r){this._fb=t,this._messageService=i,this._gdprService=r,this.gdprID=0}ngOnInit(){this.message=St.yw,this.buildGDPRForm(),this.populateForm(),this.getTimeUnits()}buildGDPRForm(){this.gdprForm=this._fb.group({timeUnit:[""],timeValue:["",_.kI.max(999)]})}populateForm(){this._gdprService.getGDPR().subscribe(t=>{this.gdprForm.controls.timeUnit.patchValue(t.period),this.gdprForm.controls.timeValue.patchValue(t.count),this.gdprID=t.id},t=>{})}saveGDPR(){this.gdprForm.controls.timeUnit.markAsTouched(),this.gdprForm.controls.timeValue.markAsTouched(),this.gdprForm.valid?(this._gdprService.updateGDPR(this.gdprForm.controls.timeUnit.value,this.gdprForm.controls.timeValue.value,this.gdprID).subscribe(()=>{this._messageService.open("Changes saved.")},t=>{this._messageService.open(t)}),this.gdprForm.controls.timeUnit.value||(this.gdprForm.controls.timeValue.setErrors(null),this.gdprForm.controls.timeValue.markAsUntouched(),this.gdprForm.controls.timeValue.setValue(""))):this._messageService.open("Please fill in the form correctly.")}getTimeUnits(){this.timeUnitList=this._gdprService.getTimeUnitsMockedData}get f(){return this.gdprForm.controls}clearTimeValueValidation(t){this.gdprForm.controls.timeValue.setErrors(null),this.gdprForm.controls.timeValue.markAsUntouched(),null==t&&this.gdprForm.controls.timeValue.setValue("")}timeValueChanged(){null!=this.gdprForm.controls.timeValue.value&&this.gdprForm.controls.timeValue.setValue(Math.round(Math.abs(this.gdprForm.controls.timeValue.value)))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.qu),e.Y36(se.G),e.Y36(RG))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-gdpr"]],decls:4,vars:1,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],["novalidate","","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","","autocomplete","off",3,"formGroup","ngSubmit"],["gf","ngForm"],[1,"d-flex","justify-content-start","gdprConstainer"],[1,"width80"],["for","timeUnit",1,"form-label","gdpr-label"],[1,"margin-bottom","width200"],["formControlName","timeUnit","id","timeUnit","name","timeUnit",1,"form-input","datesSettings",3,"virtualScroll","change"],[3,"value",4,"ngFor","ngForOf"],[1,"timeUnitValue"],["id","timeValue","name","timeValue","formControlName","timeValue","type","number","numbersOnlyMask","",1,"form-control","form-input","form-control-sm","valueInputWidth","length-value",3,"required","change"],["class","row","class","errorMessage",4,"ngIf"],[1,"row","d-flex","justify-content-end","mt-3"],["type","button","id","cancel_button",1,"eSolve-button","eSolve-dark-blue-button","mr-3",3,"click"],["type","submit","id","submit_button",1,"eSolve-button","eSolve-blue-button","mr-3"],[3,"value"],[1,"errorMessage"],["class","col-12 validationError",4,"ngIf"],[1,"col-12","validationError"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,jG,18,5,"form",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.gdprForm))},dependencies:[D.sg,D.O5,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.sg,_.u,Sn,tr,mo],styles:[".form-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:0!important}.gdpr-label[_ngcontent-%COMP%]{color:#565d6f;font-size:12px;font-weight:bolder}.valueInputWidth[_ngcontent-%COMP%]{width:70px}.width80[_ngcontent-%COMP%]{width:80px}.width200[_ngcontent-%COMP%]{width:200px}.timeUnitValue[_ngcontent-%COMP%]{width:50px;margin-left:15px}.errorMessage[_ngcontent-%COMP%]{margin-left:65px;margin-top:5px}input.length-value[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.length-value[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}@media (max-width: 491px){#submit_button[_ngcontent-%COMP%]{margin-top:5px}.gdprConstainer[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}.timeUnitValue[_ngcontent-%COMP%], .errorMessage[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 767px){.margin-bottom[_ngcontent-%COMP%]{margin-bottom:5px}.valueInputWidth[_ngcontent-%COMP%]{width:100%}}"]}),n})();function qG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Group ",t.message.required," ")}}function JG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Code ",t.message.required," ")}}function HG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Code ",t.message.inUse," ")}}function BG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Description ",t.message.required," ")}}function VG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Start Time ",t.message.required," ")}}function GG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function WG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validTime," ")}}function QG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function zG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" End Time ",t.message.required," ")}}function KG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function $G(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validTime," ")}}function XG(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function e9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Hours ",t.message.required," ")}}function t9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function n9(n,o){1&n&&(e.TgZ(0,"div",35),e._uU(1," Maximum value for minutes is 59. "),e.qZA())}function i9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function r9(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,e9,2,1,"div",17),e.YNc(2,t9,2,1,"div",17),e.YNc(3,n9,2,0,"div",17),e.YNc(4,i9,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.sf.hours.errors?null:t.sf.hours.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.sf.hours.errors?null:t.sf.hours.errors.minlength)&&!(null!=t.sf.hours.errors&&t.sf.hours.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==t.sf.hours.errors?null:t.sf.hours.errors.incorrectHours)&&!(null!=t.sf.hours.errors&&t.sf.hours.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==t.sf.hours.errors?null:t.sf.hours.errors.hoursDifferentFromZero)&&!(null!=t.sf.hours.errors&&t.sf.hours.errors.required))}}function o9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" No Of Days ",t.message.required," ")}}function a9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.numberRange," 1 and 6. ")}}function s9(n,o){1&n&&e._UZ(0,"hr",11)}function l9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day 1 ",t.message.required," ")}}function c9(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,l9,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.hours1||null==t.sf.hours1.errors?null:t.sf.hours1.errors.required)}}function d9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function u9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validTime," ")}}function p9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function f9(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"label",36),e._uU(3," Day 1*: "),e.qZA()(),e.TgZ(4,"div",15)(5,"input",37),e.NdJ("keydown",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.filterHoursInput(r))}),e.qZA()(),e.YNc(6,c9,2,1,"div",28),e.YNc(7,d9,2,1,"div",17),e.YNc(8,u9,2,1,"div",17),e.YNc(9,p9,2,1,"div",17),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("required",t.sf.numberOfDays.value>1)("timeLengthTracker",5),e.xp6(1),e.Q6J("ngIf",t.sf.hours1.touched&&t.sf.hours1.errors),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours1.errors?null:t.sf.hours1.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours1.errors?null:t.sf.hours1.errors.incorrectHours),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours1.errors?null:t.sf.hours1.errors.hoursDifferentFromZero)}}function h9(n,o){1&n&&e._UZ(0,"hr",11)}function m9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day 2 ",t.message.required," ")}}function g9(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,m9,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.hours2||null==t.sf.hours2.errors?null:t.sf.hours2.errors.required)}}function _9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function v9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validTime," ")}}function b9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function y9(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"label",38),e._uU(3," Day 2*: "),e.qZA()(),e.TgZ(4,"div",15)(5,"input",39),e.NdJ("keydown",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.filterHoursInput(r))}),e.qZA()(),e.YNc(6,g9,2,1,"div",28),e.YNc(7,_9,2,1,"div",17),e.YNc(8,v9,2,1,"div",17),e.YNc(9,b9,2,1,"div",17),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("required",t.sf.numberOfDays.value>1)("timeLengthTracker",5),e.xp6(1),e.Q6J("ngIf",t.sf.hours2.touched&&t.sf.hours2.errors),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours2.errors?null:t.sf.hours2.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours2.errors?null:t.sf.hours2.errors.incorrectHours),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours2.errors?null:t.sf.hours2.errors.hoursDifferentFromZero)}}function x9(n,o){1&n&&e._UZ(0,"hr",11)}function C9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day 3 ",t.message.required," ")}}function T9(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,C9,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.hours3||null==t.sf.hours3.errors?null:t.sf.hours3.errors.required)}}function w9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function D9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validTime," ")}}function S9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function k9(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"label",40),e._uU(3," Day 3*: "),e.qZA()(),e.TgZ(4,"div",15)(5,"input",41),e.NdJ("keydown",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.filterHoursInput(r))}),e.qZA()(),e.YNc(6,T9,2,1,"div",28),e.YNc(7,w9,2,1,"div",17),e.YNc(8,D9,2,1,"div",17),e.YNc(9,S9,2,1,"div",17),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("timeLengthTracker",5),e.xp6(1),e.Q6J("ngIf",t.sf.hours3.touched&&t.sf.hours3.errors),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours3.errors?null:t.sf.hours3.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours3.errors?null:t.sf.hours3.errors.incorrectHours),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours3.errors?null:t.sf.hours3.errors.hoursDifferentFromZero)}}function A9(n,o){1&n&&e._UZ(0,"hr",11)}function M9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day 4 ",t.message.required," ")}}function O9(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,M9,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.hours4||null==t.sf.hours4.errors?null:t.sf.hours4.errors.required)}}function P9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function E9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validTime," ")}}function I9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function N9(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"label",42),e._uU(3," Day 4*: "),e.qZA()(),e.TgZ(4,"div",15)(5,"input",43),e.NdJ("keydown",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.filterHoursInput(r))}),e.qZA()(),e.YNc(6,O9,2,1,"div",28),e.YNc(7,P9,2,1,"div",17),e.YNc(8,E9,2,1,"div",17),e.YNc(9,I9,2,1,"div",17),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("timeLengthTracker",5),e.xp6(1),e.Q6J("ngIf",t.sf.hours4.touched&&t.sf.hours4.errors),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours4.errors?null:t.sf.hours4.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours4.errors?null:t.sf.hours4.errors.incorrectHours),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours4.errors?null:t.sf.hours4.errors.hoursDifferentFromZero)}}function R9(n,o){1&n&&e._UZ(0,"hr",11)}function F9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day 5 ",t.message.required," ")}}function Z9(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,F9,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.hours5||null==t.sf.hours5.errors?null:t.sf.hours5.errors.required)}}function L9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function U9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validTime," ")}}function j9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function Y9(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"label",44),e._uU(3," Day 5*: "),e.qZA()(),e.TgZ(4,"div",15)(5,"input",45),e.NdJ("keydown",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.filterHoursInput(r))}),e.qZA()(),e.YNc(6,Z9,2,1,"div",28),e.YNc(7,L9,2,1,"div",17),e.YNc(8,U9,2,1,"div",17),e.YNc(9,j9,2,1,"div",17),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("timeLengthTracker",5),e.xp6(1),e.Q6J("ngIf",t.sf.hours5.touched&&t.sf.hours5.errors),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours5.errors?null:t.sf.hours5.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours5.errors?null:t.sf.hours5.errors.incorrectHours),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours5.errors?null:t.sf.hours5.errors.hoursDifferentFromZero)}}function q9(n,o){1&n&&e._UZ(0,"hr",11)}function J9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Day 6 ",t.message.required," ")}}function H9(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,J9,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.hours6||null==t.sf.hours6.errors?null:t.sf.hours6.errors.required)}}function B9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function V9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validTime," ")}}function G9(n,o){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.notZero," ")}}function W9(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"label",46),e._uU(3," Day 6*: "),e.qZA()(),e.TgZ(4,"div",15)(5,"input",47),e.NdJ("keydown",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.filterHoursInput(r))}),e.qZA()(),e.YNc(6,H9,2,1,"div",28),e.YNc(7,B9,2,1,"div",17),e.YNc(8,V9,2,1,"div",17),e.YNc(9,G9,2,1,"div",17),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("timeLengthTracker",5),e.xp6(1),e.Q6J("ngIf",t.sf.hours6.touched&&t.sf.hours6.errors),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours6.errors?null:t.sf.hours6.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours6.errors?null:t.sf.hours6.errors.incorrectHours),e.xp6(1),e.Q6J("ngIf",null==t.sf.hours6.errors?null:t.sf.hours6.errors.hoursDifferentFromZero)}}function Q9(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkShiftBeforeSubmit())}),e._UZ(2,"hr",11),e.TgZ(3,"div",12)(4,"div",13)(5,"label",14),e._uU(6," Group*: "),e.qZA()(),e.TgZ(7,"div",15),e._UZ(8,"input",16),e.qZA(),e.YNc(9,qG,2,1,"div",17),e.qZA(),e._UZ(10,"hr",11),e.TgZ(11,"div",12)(12,"div",13)(13,"label",18),e._uU(14," Code*: "),e.qZA()(),e.TgZ(15,"div",15)(16,"input",19),e.NdJ("keyup",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.isNameUnique(!1))}),e.qZA()(),e.YNc(17,JG,2,1,"div",17),e.YNc(18,HG,2,1,"div",17),e.qZA(),e._UZ(19,"hr",11),e.TgZ(20,"div",12)(21,"div",13)(22,"label",20),e._uU(23," Description*: "),e.qZA()(),e.TgZ(24,"div",15),e._UZ(25,"input",21),e.qZA(),e.YNc(26,BG,2,1,"div",17),e.qZA(),e._UZ(27,"hr",11),e.TgZ(28,"div",12)(29,"div",13)(30,"label",22),e._uU(31," Start Time*: "),e.qZA()(),e.TgZ(32,"div",15),e._UZ(33,"input",23),e.qZA(),e.YNc(34,VG,2,1,"div",17),e.YNc(35,GG,2,1,"div",17),e.YNc(36,WG,2,1,"div",17),e.YNc(37,QG,2,1,"div",17),e.qZA(),e._UZ(38,"hr",11),e.TgZ(39,"div",12)(40,"div",13)(41,"label",24),e._uU(42," End Time*: "),e.qZA()(),e.TgZ(43,"div",15),e._UZ(44,"input",25),e.qZA(),e.YNc(45,zG,2,1,"div",17),e.YNc(46,KG,2,1,"div",17),e.YNc(47,$G,2,1,"div",17),e.YNc(48,XG,2,1,"div",17),e.qZA(),e._UZ(49,"hr",11),e.TgZ(50,"div",12)(51,"div",13)(52,"label",26),e._uU(53," Hours*: "),e.qZA()(),e.TgZ(54,"div",15)(55,"input",27),e.NdJ("keydown",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.filterHoursInput(r))})("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.hoursManualyChanged())}),e.qZA()(),e.YNc(56,r9,5,4,"div",28),e.qZA(),e._UZ(57,"hr",11),e.TgZ(58,"div",12)(59,"div",13)(60,"label",29),e._uU(61," No Of Days*: "),e.qZA()(),e.TgZ(62,"div",15)(63,"input",30),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.resetHoursFields())}),e.qZA()(),e.YNc(64,o9,2,1,"div",17),e.YNc(65,a9,2,1,"div",17),e.qZA(),e.YNc(66,s9,1,0,"hr",31),e.YNc(67,f9,10,6,"div",32),e.YNc(68,h9,1,0,"hr",31),e.YNc(69,y9,10,6,"div",32),e.YNc(70,x9,1,0,"hr",31),e.YNc(71,k9,10,5,"div",32),e.YNc(72,A9,1,0,"hr",31),e.YNc(73,N9,10,5,"div",32),e.YNc(74,R9,1,0,"hr",31),e.YNc(75,Y9,10,5,"div",32),e.YNc(76,q9,1,0,"hr",31),e.YNc(77,W9,10,5,"div",32),e._UZ(78,"hr",11),e.TgZ(79,"div",12)(80,"div",33)(81,"button",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(82," Close "),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.shiftForm),e.xp6(9),e.Q6J("ngIf",t.shiftForm.controls.group.touched&&(null==t.shiftForm.controls.group.errors?null:t.shiftForm.controls.group.errors.required)),e.xp6(8),e.Q6J("ngIf",t.shiftForm.controls.code.touched&&(null==t.shiftForm.controls.code.errors?null:t.shiftForm.controls.code.errors.required)),e.xp6(1),e.Q6J("ngIf",t.shiftCodeInUse),e.xp6(8),e.Q6J("ngIf",t.shiftForm.controls.description.touched&&(null==t.shiftForm.controls.description.errors?null:t.shiftForm.controls.description.errors.required)),e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",t.shiftForm.controls.startTime.touched&&(null==t.shiftForm.controls.startTime.errors?null:t.shiftForm.controls.startTime.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.sf.startTime.errors?null:t.sf.startTime.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.sf.startTime.errors?null:t.sf.startTime.errors.incorrectHours),e.xp6(1),e.Q6J("ngIf",null==t.sf.startTime.errors?null:t.sf.startTime.errors.hoursDifferentFromZero),e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",t.shiftForm.controls.endTime.touched&&(null==t.shiftForm.controls.endTime.errors?null:t.shiftForm.controls.endTime.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.sf.endTime.errors?null:t.sf.endTime.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.sf.endTime.errors?null:t.sf.endTime.errors.incorrectHours),e.xp6(1),e.Q6J("ngIf",null==t.sf.endTime.errors?null:t.sf.endTime.errors.hoursDifferentFromZero),e.xp6(7),e.Q6J("hoursMaskInput",t.sf.numberOfDays.value>1?6:5)("maxlength",t.sf.numberOfDays.value>1?6:5),e.xp6(1),e.Q6J("ngIf",t.sf.hours.touched&&t.sf.hours.errors),e.xp6(7),e.Q6J("min",1)("max",6),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.touched&&(null==t.sf.numberOfDays.errors?null:t.sf.numberOfDays.errors.required)),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.touched&&((null==t.sf.numberOfDays.errors?null:t.sf.numberOfDays.errors.min)||(null==t.sf.numberOfDays.errors?null:t.sf.numberOfDays.errors.max)||(null==t.sf.numberOfDays.errors?null:t.sf.numberOfDays.errors.pattern))),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>1),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>1),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>1),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>1),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>2),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>2),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>3),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>3),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>4),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>4),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>5),e.xp6(1),e.Q6J("ngIf",t.sf.numberOfDays.value>5)}}let z9=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this.data=t,this._confirmDetailsDialogRef=i,this.formBuilder=r,this._shiftService=a,this._messageService=s,this.dialogRef=l,this.dialogService=c,this.sdref=u,this.shiftTitle="Shift",this.isEdit=!1,this.shiftCodeInUse=!1,this.disabledSaveButton=!1,this.shift=new ZF,this.shiftID=0}ngAfterContentChecked(){this.shiftForm.updateValueAndValidity(),this.sdref.detectChanges()}closeDialog(){this._confirmDetailsDialogRef.close()}ngOnInit(){this.message=St.yw,this.buildForm(),this.initshiftForm()}buildForm(){this.shiftForm=this.formBuilder.group({id:[0],group:["",{validators:[_.kI.required,_.kI.maxLength(50)],updateOn:"change"}],code:["",{validators:[_.kI.required,_.kI.maxLength(50)],updateOn:"change"}],description:["",{validators:[_.kI.required,_.kI.maxLength(40)],updateOn:"change"}],startTime:["",{validators:[_.kI.required],updateOn:"change"}],endTime:["",{validators:[_.kI.required],updateOn:"change"}],hours:["",{validators:[_.kI.required],updateOn:"change"}],numberOfDays:["",{validators:[_.kI.required,_.kI.max(6),_.kI.min(1),_.kI.pattern("^[0-9]*$")],updateOn:"change"}],hours1:["",{validators:[],updateOn:"change"}],hours2:["",{validators:[],updateOn:"change"}],hours3:["",{validators:[],updateOn:"change"}],hours4:["",{validators:[],updateOn:"change"}],hours5:["",{validators:[],updateOn:"change"}],hours6:["",{validators:[],updateOn:"change"}]})}trimWholeForm(){this.shiftForm.controls.code.setValue(String(this.shiftForm.controls.code.value.trim())),this.shiftForm.controls.group.setValue(String(this.shiftForm.controls.group.value.trim())),this.shiftForm.controls.description.setValue(String(this.shiftForm.controls.description.value.trim()))}initshiftForm(){this.shiftID=0==this.data.shiftsEdit?0:this.data.shiftsEdit.id,0!=this.shiftID&&(this.isEdit=!0,this.shiftID&&this._shiftService.getShiftById(this.shiftID).subscribe(t=>{this.shift=t,this.shift.group=t.shiftsGroup.name,this.shiftForm.patchValue(this.shift),this.shiftForm.disable()}))}isNameUnique(t){""!=this.shiftForm.get("code").value?(this.shiftCodeInUse=!1,this._shiftService.checkIfShiftCodeIsUnique(this.shiftForm.get("code").value,this.shiftID?this.shiftID:0).subscribe(i=>{this.shiftCodeInUse=200!=i,t&&this.submitShift()},i=>{this._messageService.handleHttpError(i)})):t&&this.markAllInputsAsTouched()}checkShiftBeforeSubmit(){this.disabledSaveButton=!0,this.trimWholeForm(),this.isNameUnique(!0)}submitShift(){this.checkIsHoursFieldValid(this.shiftForm.controls.hours.value)?this.shiftForm.valid&&!this.shiftCodeInUse?1==this.shiftForm.controls.numberOfDays.value&&this.checkIfEndTimeBeforeStartTime()?this.markAllInputsAsTouched():0!=this.shiftID?this._shiftService.updateShift(this.shiftForm.value,this.shiftID,this.data.shiftsEdit).subscribe(t=>{this.shift=t,this._messageService.open("Shift updated."),this.dialogRef.close({message:"submited"})},t=>{this._messageService.open(t),this.disabledSaveButton=!1}):this._shiftService.createShift(this.shiftForm.value).subscribe(t=>{this.shift=t,this._messageService.open("Shift created."),this.dialogRef.close({message:"submited"})},t=>{this._messageService.open(t),this.disabledSaveButton=!1}):this.markAllInputsAsTouched():(this.markAllInputsAsTouched(),this.disabledSaveButton=!1,this.shiftForm.controls.hours.value&&this.shiftForm.controls.hours.setErrors({incorrectHours:!0}),this._messageService.open(this.message.fillForm))}checkIsHoursFieldValid(t){try{const i=parseInt(t.split(":")[1]);return!isNaN(i)&&i<60&&i>=0}catch(i){return!1}}hoursManualyChanged(){this.checkIsHoursFieldValid(this.shiftForm.controls.hours.value)?this.shiftForm.controls.hours.setErrors(null):(!this.shiftForm.controls.hours.errors||!this.shiftForm.controls.hours.errors.minlength)&&this.shiftForm.controls.hours.setErrors({incorrectHours:!0})}deleteShift(){this.dialogService.openConfirmDialog("Delete",(0,St.$j)(" Shift")).afterClosed().subscribe(t=>{t&&this._shiftService.deleteShift(this.shiftID).subscribe(i=>{this._messageService.open("Shift is deleted."),this.dialogRef.close({message:"deleted"})},i=>{this._messageService.open(i)})})}filterHoursInput(t){const i=(0,wt.C$)(t.key);8!==t.keyCode&&9!==t.keyCode&&46!==t.keyCode&&(i||t.preventDefault())}get sf(){return this.shiftForm.controls}resetHoursFields(){const t=this.sf.numberOfDays.value;if(this.sf.numberOfDays.valid){const i=["hours1","hours2","hours3","hours4","hours5","hours6"];for(let r=i.length;r>t;r--){const a=i[r-1];this.shiftForm.get(a).setValue(null),this.shiftForm.get(a).markAsUntouched(),this.shiftForm.get(a).setErrors(null)}1==t&&(this.shiftForm.get("hours1").setValue(null),this.shiftForm.get("hours1").markAsUntouched(),this.shiftForm.get("hours1").setErrors(null))}}checkIfEndTimeBeforeStartTime(){if(this.sf.startTime.valid&&this.sf.endTime.valid&&this.sf.numberOfDays.valid){const t=W(this.sf.startTime.value,"HH:mm"),i=W(this.sf.endTime.value,"HH:mm");if((i.isBefore(t)||i.isSame(t))&&this.sf.numberOfDays.value<2)return this.shiftForm.get("numberOfDays").setValue(this.sf.numberOfDays.value+1),!0}return!1}markAllInputsAsTouched(){Object.keys(this.shiftForm.controls).forEach(t=>{this.shiftForm.get(t).markAsTouched({onlySelf:!0})}),this.disabledSaveButton=!1,this._messageService.open(this.message.fillForm)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(wx),e.Y36(se.G),e.Y36(z.so),e.Y36(Ri.x),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shifts-dialog"]],decls:13,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"eSolveHr"],[1,"form-group","row"],[1,"min-width-50px","col-md-2","col-12"],["for","group",1,"col-form-label","col-form-label-sm","label-margin-left1"],[1,"col-md-8","col-12"],["id","group","formControlName","group","type","text","maxlength","50","required","",1,"form-control","form-control-sm","input-width"],["class","validationError col-12",4,"ngIf"],["for","code",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","code","formControlName","code","type","text","maxlength","50","required","",1,"form-control","form-control-sm","input-width",3,"keyup"],["for","description",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","description","formControlName","description","type","text","maxlength","40","required","",1,"form-control","form-control-sm","input-width"],["for","startTime",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","startTime","formControlName","startTime","type","text","required","","mask","Hh:m0","placeholder","00:00","maxlength","5","minlength","5",1,"form-control","form-control-sm","input-width-time",3,"dropSpecialCharacters"],["for","endTime",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","endTime","formControlName","endTime","type","text","required","","mask","Hh:m0","placeholder","00:00","maxlength","5","minlength","5",1,"form-control","form-control-sm","input-width-time",3,"dropSpecialCharacters"],["for","hours",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","hours","formControlName","hours","type","text","required","","placeholder","00:00","minlength","5",1,"form-control","form-control-sm","input-width-time",3,"hoursMaskInput","maxlength","keydown","change"],[4,"ngIf"],["for","numberOfDays",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","numberOfDays","formControlName","numberOfDays","type","number","required","","numbersOnlyMask","",1,"form-control","form-control-sm","input-width-time",3,"min","max","change"],["class","eSolveHr",4,"ngIf"],["class","form-group row",4,"ngIf"],[1,"col-12","d-flex","justify-content-end"],["type","button",1,"btn","rules-cancel-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],[1,"validationError","col-12"],["for","hours1",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","hours1","formControlName","hours1","type","text","maxlength","5","minlength","5","placeholder","00:00",1,"form-control","form-control-sm","input-width-time",3,"required","timeLengthTracker","keydown"],["for","hours2",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","hours2","formControlName","hours2","type","text","maxlength","5","minlength","5","placeholder","00:00",1,"form-control","form-control-sm","input-width-time",3,"required","timeLengthTracker","keydown"],["for","hours3",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","hours3","formControlName","hours3","type","text","required","","maxlength","5","minlength","5","placeholder","00:00",1,"form-control","form-control-sm","input-width-time",3,"timeLengthTracker","keydown"],["for","hours4",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","hours4","formControlName","hours4","type","text","required","","maxlength","5","minlength","5","placeholder","00:00",1,"form-control","form-control-sm","input-width-time",3,"timeLengthTracker","keydown"],["for","hours5",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","hours5","formControlName","hours5","type","text","required","","maxlength","5","minlength","5","placeholder","00:00",1,"form-control","form-control-sm","input-width-time",3,"timeLengthTracker","keydown"],["for","hours6",1,"col-form-label","col-form-label-sm","label-margin-left1"],["id","hours6","formControlName","hours6","type","text","required","","maxlength","5","minlength","5","placeholder","00:00",1,"form-control","form-control-sm","input-width-time",3,"timeLengthTracker","keydown"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.TgZ(10,"div",1)(11,"div",2),e.YNc(12,Q9,83,34,"form",8),e.qZA()()()),2&t&&(e.xp6(6),e.hij(" ",i.shiftTitle," "),e.xp6(6),e.Q6J("ngIf",i.shiftForm))},dependencies:[D.O5,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.wO,_.nD,_.qQ,_.Fd,_.sg,_.u,Cs,Sx,mS,mo],styles:[".table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.rules-cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.rules-delete-button[_ngcontent-%COMP%]{margin-top:28px;background-color:#d6dce2;color:#3f4e63!important;width:200px}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.eSolveHr[_ngcontent-%COMP%]{margin-top:0}.rules-save-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.input-width[_ngcontent-%COMP%]{width:135px;font-size:12px;margin-left:55px}.input-width-time[_ngcontent-%COMP%]{width:63px;font-size:12px;margin-left:55px}.min-width-50px[_ngcontent-%COMP%]{min-width:50px}.min-width-50px[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#565d6f;white-space:nowrap}.label-margin-left1[_ngcontent-%COMP%]{margin-left:52px}@media only screen and (max-width: 767px){.rules-delete-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%]{float:none!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}.label-margin-left1[_ngcontent-%COMP%], .input-width[_ngcontent-%COMP%], .input-width-time[_ngcontent-%COMP%]{margin-left:0}}@media only screen and (max-width: 400px){.rules-addnew-button[_ngcontent-%COMP%], .rules-save-button[_ngcontent-%COMP%], .rules-cancel-button[_ngcontent-%COMP%], .rules-delete-button[_ngcontent-%COMP%]{width:100%}.label-margin-left1[_ngcontent-%COMP%], .input-width[_ngcontent-%COMP%], .input-width-time[_ngcontent-%COMP%]{margin-left:0}}"]}),n})();const K9=["searchInputField"];function $9(n,o){if(1&n&&(e.TgZ(0,"mat-cell",26)(1,"span",27),e._uU(2,"Group: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.group," ")}}function X9(n,o){if(1&n&&(e.TgZ(0,"mat-cell",26)(1,"span",27),e._uU(2,"Code: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.code," ")}}function eW(n,o){if(1&n&&(e.TgZ(0,"mat-cell",26)(1,"span",27),e._uU(2,"Description: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.description," ")}}function tW(n,o){if(1&n&&(e.TgZ(0,"mat-cell",26)(1,"span",27),e._uU(2,"Start Time: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.startTime," ")}}function nW(n,o){if(1&n&&(e.TgZ(0,"mat-cell",26)(1,"span",27),e._uU(2,"Hours: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.hours," ")}}function iW(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"div",28)(2,"button",29),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDetailsDialog(a))}),e.TgZ(3,"p",30),e._uU(4,"View Details"),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(2),e.s9C("id",t.code)}}function rW(n,o){1&n&&e._UZ(0,"mat-row")}function oW(n,o){1&n&&e._UZ(0,"mat-spinner")}let aW=(()=>{class n{constructor(t,i){this.dialog=t,this._shiftService=i,this.displayedColumns=["group","code","description","startTime","hours","actions"],this.data=new N.by,this.dataSource=new N.by,this.customDataCtrl=new _.NI,this.resultsLength=0,this.isLoadingResults=!0,this.searchValue="",this.config=""}ngOnInit(){this.populateTableData()}populateTableData(){return this._shiftService.getAllShifts().subscribe(t=>{let i=t;for(let r=0;r<i.length;r++)i[r].group=t[r].shiftsGroup.name;this.data=new N.by(i),this.isLoadingResults=!1},t=>{})}openDetailsDialog(t){this.dialog.open(z9,{autoFocus:!1,disableClose:!0,width:"650px",data:{shiftsEdit:t},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{this.populateTableData()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.uw),e.Y36(wx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shifts"]],viewQuery:function(t,i){if(1&t&&(e.Gf(fn.YE,5),e.Gf(ge.NW,5),e.Gf(K9,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.searchInput=r.first)}},decls:48,vars:3,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],[1,"table-header","row"],[1,"col-sm-6","col-12","d-flex","justify-content-start"],[1,"table-header-title"],[1,"g-table-divider"],[1,"row","g-table-header"],[1,"col-12","d-flex","flex-row"],["id","halfRow"],["id","g-actions-column-width"],[1,"row"],[1,"g-thin-black-scroll-bar"],["id","JT_job_types_table_container"],["id","JT_job_types_table",3,"dataSource"],["matColumnDef","group"],["class","custom-data",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","description"],["matColumnDef","startTime"],["matColumnDef","hours"],["matColumnDef","actions"],[4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],[1,"spinner-container","centered"],[4,"ngIf"],[1,"custom-data"],[1,"mobile-label"],[1,"d-flex","justify-content-end"],[1,"btn","details-button","border-none",3,"id","click"],[1,"CD-btn-text"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Shifts"),e.qZA()()(),e._UZ(7,"hr",6),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"p"),e._uU(12,"Group"),e.qZA()(),e.TgZ(13,"div",9)(14,"p"),e._uU(15,"Code"),e.qZA()(),e.TgZ(16,"div",9)(17,"p"),e._uU(18,"Description"),e.qZA()(),e.TgZ(19,"div",9)(20,"p"),e._uU(21,"Start Time"),e.qZA()(),e.TgZ(22,"div",9)(23,"p"),e._uU(24,"Hours"),e.qZA()(),e.TgZ(25,"div",10)(26,"p"),e._uU(27,"Actions"),e.qZA()()()(),e.TgZ(28,"div",11)(29,"div",2)(30,"div",12)(31,"div",13)(32,"mat-table",14),e.ynx(33,15),e.YNc(34,$9,4,1,"mat-cell",16),e.BQk(),e.ynx(35,17),e.YNc(36,X9,4,1,"mat-cell",16),e.BQk(),e.ynx(37,18),e.YNc(38,eW,4,1,"mat-cell",16),e.BQk(),e.ynx(39,19),e.YNc(40,tW,4,1,"mat-cell",16),e.BQk(),e.ynx(41,20),e.YNc(42,nW,4,1,"mat-cell",16),e.BQk(),e.ynx(43,21),e.YNc(44,iW,5,1,"mat-cell",22),e.BQk(),e.YNc(45,rW,1,0,"mat-row",23),e.qZA()()()()()()()(),e.TgZ(46,"div",24),e.YNc(47,oW,1,0,"mat-spinner",25),e.qZA()),2&t&&(e.xp6(32),e.Q6J("dataSource",i.data),e.xp6(13),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("ngIf",i.isLoadingResults))},dependencies:[D.O5,N.BZ,N.w1,N.Dz,N.nj,N.ev,N.Gk,mp.Ou],styles:["#halfRow[_ngcontent-%COMP%]{width:calc((100% - 115px)/5);border-bottom:1px solid rgba(0,0,0,.12)}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-cell[_ngcontent-%COMP%]:last-of-type, mat-footer-cell[_ngcontent-%COMP%]:last-of-type, mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:5px}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0 0 115px;flex:0 0 115px}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;padding-top:6px;margin-left:0}.details-button[_ngcontent-%COMP%]{height:30px;width:110px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:none}.add-job-type-button[_ngcontent-%COMP%]{height:30px;width:150px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;border:1px solid #ced5db;margin-right:5px;box-shadow:none}th[_ngcontent-%COMP%]{font-weight:600;font-size:12px;color:#42536f}.custom-data[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f;width:100%}td.mat-column-type[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}.mat-column-type[_ngcontent-%COMP%]{position:relative;width:33.33%}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}  .mat-tab-body.mat-tab-body-active{overflow:hidden!important}  .mat-tab-body-content{overflow:hidden!important}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 410px);overflow-wrap:break-word}.border-none[_ngcontent-%COMP%]{border:none}.mobile-label[_ngcontent-%COMP%]{display:none}@media (max-width: 860px){.mobile-label[_ngcontent-%COMP%]{width:80px;display:inline-block;color:#565d6f;font-weight:400}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start;height:190px}.g-table-header[_ngcontent-%COMP%]{display:none}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0;flex:0}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:30px}}@media (max-width: 576px){.add-job-type-button-div[_ngcontent-%COMP%]{-ms-flex-pack:start!important;justify-content:flex-start!important}.mat-column-type[_ngcontent-%COMP%]{width:100%}}"]}),n})();function sW(n,o){if(1&n&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.limit50," ")}}function lW(n,o){if(1&n&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.isAgency?" Agency Name":" Reason for Cover"," ",t.message.inUse," ")}}const cW=function(n){return{"invalid-input":n}};function dW(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.save())}),e.TgZ(1,"div",1)(2,"div",12)(3,"label",13),e._uU(4),e.qZA()(),e.TgZ(5,"div",14),e._UZ(6,"input",15),e.YNc(7,sW,2,1,"div",16),e.YNc(8,lW,2,2,"div",16),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.agencyForm),e.xp6(4),e.hij(" ",t.isAgency?" Agency Name":" Reason for Cover",": "),e.xp6(2),e.Q6J("ngClass",e.VKq(5,cW,t.existingNameWarning)),e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.maxlength),e.xp6(1),e.Q6J("ngIf",t.existingNameWarning)}}let uW=(()=>{class n{constructor(t,i,r,a,s){this.data=t,this._dialogRef=i,this._messageService=r,this._fb=a,this._agencyService=s,this.saveButtonDisabled=!0,this._ngUnsubscribe=new b.x,this.existingNameWarning=!1,this.id=this.data.id,this.isAgency=this.data.isAgency}ngOnInit(){this.message=St.yw,this.createAgencyForm(),this.trackInputEntry()}ngAfterViewInit(){this.loadTableEntry()}createAgencyForm(){this.agencyForm=this._fb.group({id:[0],name:["",[_.kI.maxLength(150),hr.bd]]},{validators:[],asyncValidators:[]})}get f(){return this.agencyForm.controls}save(){this.name=this.agencyForm.value.name,this.agencyForm.valid&&""!==this.name&&!this.saveButtonDisabled?null!=this.id&&(0==this.id?this._agencyService.create(this.isAgency,this.name.trim()).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._messageService.open((this.isAgency?"Agency":"Reason for Cover")+" created."),this._dialogRef.close({message:"submitted"})},t=>{this._messageService.open(t)},()=>{}):this._agencyService.edit(this.isAgency,this.id,this.name.trim()).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._messageService.open((this.isAgency?"Agency":"Reason for Cover")+" updated."),this._dialogRef.close({message:"submitted"})},t=>{this._messageService.open(t)},()=>{})):Object.keys(this.agencyForm.controls).forEach(t=>{this.agencyForm.get(t).markAsTouched({onlySelf:!0})})}loadTableEntry(){this.id>0&&this._agencyService.getOne(this.id,this.isAgency).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.agencyForm.patchValue(t)},t=>{this._messageService.open(t)},()=>{})}trackInputEntry(){this.agencyForm.controls.name.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{t?this._agencyService.checkIfNameIsUnique(this.isAgency,t.trim(),this.id).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{let r=!!t.trim();i&&r?(this.saveButtonDisabled=!1,this.existingNameWarning=!1):0==r?this.saveButtonDisabled=!0:(this.saveButtonDisabled=!0,this.existingNameWarning=!0)}):this.saveButtonDisabled=!0})}closeDialog(){this._dialogRef.close()}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(se.G),e.Y36(_.qu),e.Y36(Dx.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-agency-dialog"]],decls:23,vars:4,consts:[[1,"container-fluid","agency-dialog-container"],[1,"row"],[1,"col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"dialog-title"],[1,"col-2","justify-content-end","title-right","close-button"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider"],["class","agency-form","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","button-divider"],["type","button",1,"save-button",3,"disabled","click"],["autocomplete","off",1,"agency-form",3,"formGroup","ngSubmit"],[1,"col-md-4"],["for","name",1,"agency-label"],[1,"col-md-8"],["id","name","type","text","formControlName","name","maxlength","150",1,"form-control","agency-input",3,"ngClass"],["class","validationError error-message-margin",4,"ngIf"],[1,"validationError","error-message-margin"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),e._uU(7),e.qZA(),e.TgZ(8,"div",5)(9,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()()()(),e.TgZ(10,"div",1)(11,"div",2),e._UZ(12,"hr",7),e.qZA()(),e.TgZ(13,"div",1)(14,"div",2),e.YNc(15,dW,9,7,"form",8),e.qZA()(),e.TgZ(16,"div",9)(17,"div",2),e._UZ(18,"hr"),e.qZA()(),e.TgZ(19,"div",1)(20,"div",2)(21,"button",10),e.NdJ("click",function(){return i.save()}),e._uU(22," Save Changes "),e.qZA()()()()()()),2&t&&(e.xp6(7),e.AsE(" ",i.id>0?"Edit":"Add"," ",i.isAgency?" Agency":" Reason for Cover"," "),e.xp6(8),e.Q6J("ngIf",i.agencyForm),e.xp6(6),e.Q6J("disabled",i.saveButtonDisabled))},dependencies:[D.mk,D.O5,_._Y,_.Fj,_.JJ,_.JL,_.nD,_.sg,_.u,$n],styles:[".agency-dialog-container[_ngcontent-%COMP%]{padding:2px}.close-dialog-text[_ngcontent-%COMP%]{color:#596981;font-size:11px}.close-dialog-text[_ngcontent-%COMP%]{cursor:pointer}.dialog-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-bottom:20px}.button-divider[_ngcontent-%COMP%]{margin-top:13px}.agency-label[_ngcontent-%COMP%]{color:#565d6f;font-size:12px;font-weight:600;width:113px}.invalid-input[_ngcontent-%COMP%]{border-color:var(--eSolve-red);outline:0}[_ngcontent-%COMP%]:focus{outline-color:transparent!important;outline-style:none!important}.agency-input[_ngcontent-%COMP%]{height:28px;font-size:12px}.save-button[_ngcontent-%COMP%]{float:right;width:135px;height:25px;padding:0 12px;min-width:88px;border-radius:.25rem;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary)}.save-button[_ngcontent-%COMP%]:disabled, .save-button[disabled][_ngcontent-%COMP%]{background-color:#9badcf}.close-button[_ngcontent-%COMP%]{padding-right:0}.error-message-margin[_ngcontent-%COMP%]{margin-bottom:-20px}"]}),n})();function pW(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"span",29),e._uU(2),e.qZA(),e.TgZ(3,"span",30),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function fW(n,o){1&n&&e.YNc(0,pW,5,1,"div",27),2&n&&e.Q6J("ngForOf",o.items)}function hW(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",16)(1,"div",17)(2,"label",18),e._uU(3),e.qZA(),e.TgZ(4,"div",19)(5,"ng-select",20,21),e.ALo(7,"async"),e._UZ(8,"i",22),e.YNc(9,fW,1,1,"ng-template",23),e.qZA()(),e.TgZ(10,"div",24)(11,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openAgencyDialog(0))}),e._UZ(12,"i",26),e._uU(13),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.agencyFilterForm),e.xp6(3),e.hij(" ",t.agency?t.agencyTitle:t.reasonForCoverTitle," "),e.xp6(2),e.MGl("id","",t.agency?"agency":"reason","_search_input"),e.s9C("placeholder",t.agency?t.agencyPlaceholder:t.coverPlaceholder),e.Q6J("items",e.lcZ(7,10,t.agencies))("multiple",!0)("hideSelected",!0)("typeahead",t.agencySearchInput),e.xp6(6),e.MGl("id","add_",t.agency?"agency":"reason","_button"),e.xp6(2),e.hij(" \xa0\xa0Add ",t.agency?" Agency":" Reason for Cover"," ")}}function mW(n,o){if(1&n&&(e.TgZ(0,"th",31)(1,"span",32),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.agency?t.agencyName:t.reasonForCoverTitle)}}function gW(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function _W(n,o){1&n&&(e.TgZ(0,"th",31)(1,"span",32),e._uU(2,"Actions"),e.qZA()())}function vW(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",34)(1,"div",35)(2,"button",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openAgencyDialog(a.id))}),e._uU(3," Edit "),e.qZA(),e.TgZ(4,"button",37),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteTableEntry(a.id))}),e._uU(5," Delete "),e.qZA()()()}}function bW(n,o){1&n&&e._UZ(0,"tr",38)}function yW(n,o){1&n&&e._UZ(0,"tr",39)}const xW=function(){return[5,10,25,100]};let CW=(()=>{class n{constructor(t,i,r,a){this.dialog=t,this._agencyService=i,this._messageService=r,this._dialogService=a,this._ngUnsubscribe=new b.x,this._updateTable=new e.vpe,this.agencySearchInput=new b.x,this.agencyTitle="Agency",this.agencyName="Agency Name",this.reasonForCoverTitle="Reason for Cover",this.agencyPlaceholder="Find Agency",this.coverPlaceholder="Find Reason For Cover",this.dataSource=new N.by,this.totalCount=0,this.displayedColumns=["name","actions"],this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnInit(){this.agencyFilterForm=new _.cw({name:new _.NI([])}),this.agencies=(0,Yr.z)((0,gn.of)([]),this.agencySearchInput.pipe((0,Gi.x)(),(0,j.w)(t=>this._agencyService.filterSearch(this.agency,t).pipe((0,Wi.K)(()=>(0,gn.of)([]))))))}ngAfterViewInit(){this.populateTable(),this.agencyFilterForm.controls.name.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.paginator.firstPage()})}populateTable(){(0,ie.T)(this._updateTable,this.sort.sortChange,this.paginator.page,this.agencyFilterForm.controls.name.valueChanges).pipe((0,_e.O)({}),(0,H.R)(this._ngUnsubscribe),(0,j.w)(()=>this._agencyService.getTableData(this.agency,this.agencyFilterForm.controls.name.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active))).subscribe(t=>{this.totalCount=t.totalCount,this.dataSource=t.items,0==t.items.length&&(this.paginator.hasPreviousPage()?(this.paginator.previousPage(),this._updateTable.next(!0)):this.paginator.firstPage())},t=>{this._messageService.open("Error retreiving data.")})}openAgencyDialog(t){this.dialog.open(uW,{disableClose:!0,width:"370px",data:{id:t,isAgency:this.agency}}).afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{r&&"submitted"===r.message&&this._updateTable.next(!0)})}deleteTableEntry(t){this._dialogService.openConfirmDialog("Delete",(0,St.$j)(this.agency?"n Agency":" Reason for Cover")).afterClosed().subscribe(i=>{i&&this._agencyService.delete(t,this.agency).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._messageService.open((this.agency?"Agency":"Reason for Cover")+" deleted."),this._updateTable.next(!0)},r=>{this._messageService.open(r)},()=>{})})}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.uw),e.Y36(Dx.Y),e.Y36(se.G),e.Y36(Ri.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-agency-table"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},inputs:{agency:"agency"},decls:17,vars:9,consts:[[1,"card","agency-table-card"],[1,"card-body"],[3,"formGroup",4,"ngIf"],[1,"blue_hr"],[1,"row","table-container","g-thin-black-scroll-bar"],[1,"col-12"],["mat-table","","matSort","",1,"agency-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen",3,"id",4,"matCellDef"],["matColumnDef","actions"],["mat-cell","","class","visible-on-small-screen",4,"matCellDef"],["mat-header-row","","class","agency-table-row",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["paginatorStyle","","showFirstLastButtons","","color","accent",1,"sm-paginator",3,"length","pageSize","pageSizeOptions"],["paginator",""],[3,"formGroup"],[1,"row","headerRow"],[1,"page-title","page-title-color"],[1,"margin-top-10"],["bindLabel","name","bindValue","id","formControlName","name",1,"g-esolve-multi-select","esolve-font-size","agency-table-search",3,"id","items","multiple","hideSelected","typeahead","placeholder"],["templateSelect",""],["aria-hidden","true",1,"fa","fa-search"],["ng-multi-label-tmp",""],[1,"d-flex","justify-content-end","rightSide","header-right","buttons-holder"],[1,"add-button","top-12",3,"id","click"],[1,"fa","fa-plus","add-template-icon"],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["mat-header-cell","",1,"visible-on-small-screen"],[1,"table-header-name"],["mat-cell","",1,"visible-on-small-screen",3,"id"],["mat-cell","",1,"visible-on-small-screen"],[1,"d-flex","align-buttons-padding","buttons-display"],["id","edit_button","type","button",1,"agency-table-button","btn","p-2","modal-btn","accept-button",3,"click"],["id","delete_button","type","button",1,"agency-table-button","btn","p-2","modal-btn",3,"click"],["mat-header-row","",1,"agency-table-row"],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,hW,14,12,"form",2),e._UZ(3,"hr",3),e.TgZ(4,"div",4)(5,"div",5)(6,"table",6),e.ynx(7,7),e.YNc(8,mW,3,1,"th",8),e.YNc(9,gW,2,2,"td",9),e.BQk(),e.ynx(10,10),e.YNc(11,_W,3,0,"th",8),e.YNc(12,vW,6,0,"td",11),e.BQk(),e.YNc(13,bW,1,0,"tr",12),e.YNc(14,yW,1,0,"tr",13),e.qZA()()(),e._UZ(15,"mat-paginator",14,15),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",i.agencyFilterForm),e.xp6(4),e.Q6J("dataSource",i.dataSource),e.xp6(7),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("length",i.totalCount)("pageSize",5)("pageSizeOptions",e.DdM(8,xW)))},dependencies:[D.sg,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,di,D.Ov],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:-15px}.card-body[_ngcontent-%COMP%]{padding:1.25rem 1.25rem .5rem}form[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center;height:calc(90vh - 358px);overflow:auto}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]:first-child{margin-top:0}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:16.6%;font-size:12px}th.mat-header-cell[_ngcontent-%COMP%]{top:-15px!important}.mat-column-name[_ngcontent-%COMP%]{white-space:nowrap;width:90%}.mat-column-actions[_ngcontent-%COMP%]{width:10%;padding-left:10px}.mat-paginator-container[_ngcontent-%COMP%]{margin-bottom:-2px}.align-buttons-padding[_ngcontent-%COMP%]{padding-right:4px;padding-left:0}.agency-table-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#404f64;border-radius:4px;font-size:12px;font-weight:550;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042}.add-button[_ngcontent-%COMP%]{height:30px;width:180px;margin-bottom:5px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;position:relative;-ms-flex-line-pack:center;align-content:center;border:1px solid #ced5db;border-radius:.25rem;cursor:pointer}.modal-btn[_ngcontent-%COMP%]{height:27px;float:left;width:80px;margin-top:5px;margin-bottom:5px}#delete_button[_ngcontent-%COMP%]{margin-left:15px}.accept-button[_ngcontent-%COMP%]{margin-right:0}.cancel-trade-button[_ngcontent-%COMP%]{width:50%;min-width:90px}.cancel-div[_ngcontent-%COMP%]{min-width:206px}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:17px;margin-left:0}.page-title-color[_ngcontent-%COMP%]{color:gray}.headerRow[_ngcontent-%COMP%]{margin-bottom:-15px;padding-left:1.2rem;padding-right:1.2rem;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.blue_hr[_ngcontent-%COMP%]{margin-left:0}.g-thin-black-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}@media (max-height: 850px){.agency-table-card[_ngcontent-%COMP%]{height:600px}.table-container[_ngcontent-%COMP%]{height:62%}.card-body[_ngcontent-%COMP%]{height:auto}}@media (max-width: 1615px){.headerRow[_ngcontent-%COMP%]{display:block}}@media (max-width: 520px){.mat-column-actions[_ngcontent-%COMP%]{padding-left:10px}}@media (max-width: 321px){#add_reason_button[_ngcontent-%COMP%]{height:40px}}"]}),n})(),TW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-agency"]],decls:6,vars:2,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12","agency-tables"],[1,"agency-table",3,"agency"],[1,"table-separator"],[1,"reason-for-cover-table",3,"agency"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-agency-table",3)(4,"div",4)(5,"app-agency-table",5),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("agency",!0),e.xp6(2),e.Q6J("agency",!1))},dependencies:[CW],styles:[".agency-tables[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}.agency-table[_ngcontent-%COMP%], .reason-for-cover-table[_ngcontent-%COMP%]{width:49.5%}@media (max-width: 850px){.agency-tables[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column}.agency-table[_ngcontent-%COMP%], .reason-for-cover-table[_ngcontent-%COMP%]{width:100%}.reason-for-cover-table[_ngcontent-%COMP%]{margin-top:10px}}@media (max-width: 425px){.agency-tables[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}"]}),n})(),XS=(()=>{class n{constructor(t){this.http=t,this.customerBusinessName=new _i.X("")}getLicense(){return new A.y(t=>{this.http.get(S.j.URLlicense).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}generateLicense(){return new A.y(t=>{this.http.put(S.j.URLnewLicense,{responseType:"text"}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wW(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"label",14),e._uU(2," API key "),e.qZA(),e.TgZ(3,"div",7),e._UZ(4,"input",15),e.TgZ(5,"div",16)(6,"div",10)(7,"button",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.generateApiKey())}),e._uU(8," Generate API key "),e.qZA(),e.TgZ(9,"i",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.copyToClipboardApi())}),e.qZA()()()()()}2&n&&(e.xp6(4),e.Q6J("readonly",!0))}function DW(n,o){1&n&&(e.TgZ(0,"div",5)(1,"label",18),e._uU(2,"Customer Business ID"),e.qZA(),e.TgZ(3,"div",7),e._UZ(4,"input",19),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("readonly",!0))}function SW(n,o){1&n&&(e.TgZ(0,"div",5)(1,"label",20),e._uU(2,"Customer Business Name"),e.qZA(),e.TgZ(3,"div",7),e._UZ(4,"input",21),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("readonly",!0))}function kW(n,o){1&n&&(e.TgZ(0,"div",5)(1,"label",22),e._uU(2,"Rostering Version"),e.qZA(),e.TgZ(3,"div",7),e._UZ(4,"input",23),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("readonly",!0))}function AW(n,o){1&n&&(e.TgZ(0,"div",5)(1,"label",24),e._uU(2,"Start Date"),e.qZA(),e.TgZ(3,"div",7),e._UZ(4,"input",25),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("readonly",!0))}function MW(n,o){1&n&&(e.TgZ(0,"div",5)(1,"label",26),e._uU(2,"Expiry Date"),e.qZA(),e.TgZ(3,"div",7),e._UZ(4,"input",27),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("readonly",!0))}function OW(n,o){1&n&&(e.TgZ(0,"div",5)(1,"label",28),e._uU(2,"Maximum No. of Licenses"),e.qZA(),e.TgZ(3,"div",7),e._UZ(4,"input",29),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("readonly",!0))}function PW(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",2,3)(2,"div",4)(3,"div",5)(4,"label",6),e._uU(5," Installation ID "),e.qZA(),e.TgZ(6,"div",7),e._UZ(7,"input",8),e.TgZ(8,"div",9)(9,"div",10)(10,"button",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.generateLicenseID())}),e._uU(11," Generate installation ID "),e.qZA(),e.TgZ(12,"i",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.copyToClipboard())}),e.qZA()()()()(),e.YNc(13,wW,10,1,"div",13),e.YNc(14,DW,5,1,"div",13),e.YNc(15,SW,5,1,"div",13),e.YNc(16,kW,5,1,"div",13),e.YNc(17,AW,5,1,"div",13),e.YNc(18,MW,5,1,"div",13),e.YNc(19,OW,5,1,"div",13),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.licenseForm),e.xp6(7),e.Q6J("readonly",!0),e.xp6(3),e.Q6J("disabled",!t.canModifyPermissions),e.xp6(3),e.Q6J("ngIf",t.apiKeyVisible),e.xp6(1),e.Q6J("ngIf",t.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",t.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",t.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",t.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",t.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",t.applicationHasLicense)}}let EW=(()=>{class n{constructor(t,i,r,a,s){this._fb=t,this._licenseService=i,this._messageService=r,this._userRoleService=a,this._userService=s,this.canModifyPermissions=!1,this.applicationHasLicense=!0,this.apiKeyVisible=!1,this.ngUnsubscribe=new b.x,this.buildForm()}ngOnInit(){this.isSuperAdmin=localStorage.getItem("isSuperAdmin"),this.IsLicensed=localStorage.getItem("IsLicensed"),this.accessPermissions=this._userRoleService.getGlobalAccountPermissions(),this.canModifyPermissions=this.accessPermissions.canSeeLicenseTab,this.applicationHasLicense=this.accessPermissions.applicationHasLicense,this.apiKeyVisible=this.accessPermissions.apiKeyVisible,this.isSuperAdminUser(this.apiKeyVisible),this.getLisenceKey()}isSuperAdminUser(t){this.apikey=null==this.licenseForm.controls.APIkey.value?"":this.licenseForm.controls.APIkey.value,this.apiKeyVisible=!("true"==this.isSuperAdmin&&"false"==this.IsLicensed&&t&&this.apikey.length<1)}generateLicenseID(){this._licenseService.generateLicense().subscribe(t=>{this.licenseForm.controls.licenseKey.setValue(t)},t=>{this._messageService.open(t)})}copyToClipboard(){const t=this.licenseForm.controls.licenseKey.value,i=document.createElement("textarea");i.style.position="fixed",i.style.left="0",i.style.top="0",i.style.opacity="0",i.value=t,document.body.appendChild(i),i.focus(),i.select(),document.execCommand("copy"),document.body.removeChild(i),t&&this._messageService.open("License copied to clipboard")}buildForm(){this.licenseForm=this._fb.group({licenseKey:[null],APIkey:[null],customerBusinessID:[""],customerBusinessName:[""],rosteringVersion:[""],startDate:[""],expiryDate:[""],maxNumberOfAutoRosteringLicense:[null]})}getLisenceKey(){this._licenseService.getLicense().subscribe(t=>{if(t){this.licenseForm.controls.licenseKey.setValue(t.installationID),this.licenseForm.controls.customerBusinessID.setValue(t.businessID),this.licenseForm.controls.customerBusinessName.setValue(t.businessName),this.licenseForm.controls.rosteringVersion.setValue(t.rosteringVersion);let i=(0,wt.a0)(t.expiryDate),r=(0,wt.a0)(t.startDate);"0001-01-01"==r&&(r=""),"0001-01-01"==i&&(i=""),this.licenseForm.controls.startDate.setValue(r),this.licenseForm.controls.expiryDate.setValue(i),this.licenseForm.controls.maxNumberOfAutoRosteringLicense.setValue(t.maxNumberOfAutoRosteringLicense),this._licenseService.customerBusinessName.next(t.businessName)}},t=>{this._messageService.open(t)})}generateApiKey(){let t=Number(localStorage.getItem("id"));this._userService.regenerateApiKey(t,!0).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(i=>{this.licenseForm.controls.APIkey.setValue(i),this.apikey=null==this.licenseForm.controls.APIkey.value?"":this.licenseForm.controls.APIkey.value},i=>{this._messageService.open("Error generating key")})}copyToClipboardApi(){const t=this.licenseForm.controls.APIkey.value,i=document.createElement("textarea");i.style.position="fixed",i.style.left="0",i.style.top="0",i.style.opacity="0",i.value=t,document.body.appendChild(i),i.focus(),i.select(),document.execCommand("copy"),document.body.removeChild(i),t&&this._messageService.open("API key copied to clipboard")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.qu),e.Y36(XS),e.Y36(se.G),e.Y36(qi.J),e.Y36(jn))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-licensing"]],decls:2,vars:1,consts:[[1,"container-fluid","sys-pref-tab-container"],["novalidate","","autocomplete","off","id","detailsForm","class","mat-tab-group-parent",3,"formGroup",4,"ngIf"],["novalidate","","autocomplete","off","id","detailsForm",1,"mat-tab-group-parent",3,"formGroup"],["ef","ngForm"],[1,"row"],[1,"col-12"],["for","license_id",1,"form-label","key-label","g-font-size-12"],["id","main-container",1,"d-flex","justify-content-start"],["type","text","id","license_id","name","license-id-1-input","formControlName","licenseKey",1,"license-id-input","form-control","form-control-sm","form-input","eSolve-font-size","license-inputs","col-md-8","col-12",3,"readonly"],["id","license_id_buttons",1,"col-md-4","col-12"],[1,"d-flex","justify-content-start"],["id","license_id_regenerate_button","type","button",1,"btn-sm","btn","license-id-button","license-id-blue",3,"disabled","click"],["aria-hidden","true","id","copy-icon","matTooltip","Click to copy the Installation ID","matTooltipPosition","above",1,"fa","fa-clone",3,"click"],["class","col-12",4,"ngIf"],["for","apikey_id",1,"form-label","key-label","g-font-size-12"],["type","text","id","apikey_id","name","license-id-1-input","formControlName","APIkey",1,"license-id-input","form-control","form-control-sm","form-input","eSolve-font-size","license-inputs","col-md-8","col-12",3,"readonly"],["id","apikey_id_buttons",1,"col-md-4","col-12"],["id","apikey_id_regenerate_button","type","button",1,"btn-sm","btn","license-id-button","license-id-blue",3,"click"],["for","customerBusinessID",1,"g-font-size-12"],["type","text","id","customerBusinessID","name","customerBusinessID-input","formControlName","customerBusinessID",1,"license-id-input","license-inputs","form-control","form-control-sm","form-input","eSolve-font-size","col-md-8","col-12",3,"readonly"],["for","customerBusinessName",1,"g-font-size-12"],["type","text","id","customerBusinessName","name","customerBusinessName-input","formControlName","customerBusinessName",1,"license-id-input","license-inputs","form-control","form-control-sm","form-input","eSolve-font-size","col-md-8","col-12",3,"readonly"],["for","rosteringVersion",1,"g-font-size-12"],["type","text","id","rosteringVersion","name","rosteringVersion-input","formControlName","rosteringVersion",1,"license-id-input","license-inputs","form-control","form-control-sm","form-input","eSolve-font-size","col-md-8","col-12",3,"readonly"],["for","startDate",1,"g-font-size-12"],["type","text","id","startDate","name","startDate-input","formControlName","startDate",1,"license-id-input","license-inputs","form-control","form-control-sm","form-input","eSolve-font-size","col-md-8","col-12",3,"readonly"],["for","expiryDate",1,"g-font-size-12"],["type","text","id","expiryDate","name","expiryDate-input","formControlName","expiryDate",1,"license-id-input","license-inputs","form-control","form-control-sm","form-input","eSolve-font-size","col-md-8","col-12",3,"readonly"],["for","maxNumberOfAutoRosteringLicense",1,"g-font-size-12"],["type","text","id","maxNumberOfAutoRosteringLicense","name","maxNumberOfAutoRosteringLicense-input","formControlName","maxNumberOfAutoRosteringLicense",1,"license-id-input","license-inputs","form-control","form-control-sm","form-input","eSolve-font-size","col-md-8","col-12",3,"readonly"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,PW,20,10,"form",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.licenseForm))},dependencies:[D.O5,Gs.gM,_._Y,_.Fj,_.JJ,_.JL,_.sg,_.u],styles:[".license-inputs[_ngcontent-%COMP%]{word-break:break-all;white-space:pre-wrap;resize:none;margin-bottom:10px;max-width:500px;cursor:pointer}#license_id_buttons[_ngcontent-%COMP%], #apikey_id_buttons[_ngcontent-%COMP%]{padding:0}.key-label[_ngcontent-%COMP%]{padding-left:0}.license-id-input[_ngcontent-%COMP%]:hover, .license-id-input[_ngcontent-%COMP%]:active, .license-id-input[_ngcontent-%COMP%]:hover:active   .license-id-input[_ngcontent-%COMP%]:disabled, .license-id-input[_ngcontent-%COMP%]:disabled:focus, .license-id-input[_ngcontent-%COMP%]:disabled:hover, .license-id-input[_ngcontent-%COMP%]:disabled:active, .license-id-input[_ngcontent-%COMP%]:disabled:hover:active{outline:none!important}.license-id-button[_ngcontent-%COMP%]{border-radius:4px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;font-size:12px;height:28px;width:140px;line-height:10px;box-shadow:0 2px 5px #00000042}.license-id-button[_ngcontent-%COMP%]:hover, .license-id-button[_ngcontent-%COMP%]:active, .license-id-button[_ngcontent-%COMP%]:hover:active   .license-id-button[_ngcontent-%COMP%]:disabled, .license-id-button[_ngcontent-%COMP%]:disabled:hover, .license-id-button[_ngcontent-%COMP%]:disabled:active, .license-id-button[_ngcontent-%COMP%]:disabled:hover:active{border:none!important;outline:none!important;color:#fff!important}.license-id-blue[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.license-id-blue[_ngcontent-%COMP%]{background-color:#404f64;margin-left:10px}#copy-icon[_ngcontent-%COMP%]{font-size:27px;margin-left:5px;cursor:pointer}@media (max-width: 768px){#main-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#license_id_regenerate_button[_ngcontent-%COMP%], #apikey_id_regenerate_button[_ngcontent-%COMP%]{margin-left:0!important}}"]}),n})();var Zx=J(9206);function IW(n,o){if(1&n&&(e.TgZ(0,"div",19),e._UZ(1,"i",20),e.TgZ(2,"div",21)(3,"div",22),e._uU(4),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.organizationRefNotFound)}}function NW(n,o){if(1&n&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.remainingTime," ")}}function RW(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",34),e._uU(1),e.TgZ(2,"a",35),e.NdJ("click",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.exportMigrationDetails(r))}),e._uU(3),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.userCreationProgressMessage," "),e.xp6(2),e.Oqu(t.detailsLink)}}function FW(n,o){if(1&n&&(e.TgZ(0,"div",23)(1,"div",24)(2,"div",1)(3,"div",25)(4,"span",26)(5,"b"),e._uU(6,"Enable ASSO login"),e.qZA()(),e._uU(7," \xa0\xa0 "),e.TgZ(8,"span",27),e._uU(9,"Updating User/Employee"),e.qZA()(),e.TgZ(10,"div",28),e._uU(11),e.qZA()(),e.TgZ(12,"div",29),e._UZ(13,"div",30),e.qZA()(),e.YNc(14,NW,2,1,"div",31),e.YNc(15,RW,4,2,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(11),e.hij(" ",t.progressBarPercentage,"% "),e.xp6(2),e.Udp("width",t.width),e.Q6J("aria-valuenow",t.progressBarPercentage),e.xp6(1),e.Q6J("ngIf",t.showEstimatedTime),e.xp6(1),e.Q6J("ngIf",t.showProgressMessage)}}let ZW=(()=>{class n{constructor(t,i,r,a,s,l){this.data=t,this._confirmDetailsDialogRef=i,this._advancedSsoService=r,this._userService=a,this._messageService=s,this.datePipe=l,this.totalUsers=0,this.usersCreatedCount=0,this.showProgressBar=!1,this.toolTipContent=" Sync user records to Advanced SSO",this.width="0%",this.organizationRef="",this.organizationRefNotFound="Enable ASSO Login requires an Organisation Reference to be set.",this.migrationSuccessMessage="ASSO User migration process completed. Please refer the Audit Trail record to see the migration result.",this.detailsLink="",this.showEstimatedTime=!1,this.processedRecords=0,this.numberOfRecordsProcessedInARequest=0,this.showProgressMessage=!1}ngOnInit(){this.organizationRef=this.data.organizationRef,this._advancedSsoService.usersCount.subscribe(t=>{this.totalUsers=t}),this.checkSyncProcessInProgress()}checkSyncProcessInProgress(){localStorage.getItem("syncUsersCount")&&Number(localStorage.getItem("syncUsersCount"))>0&&(this.GetUserActiveCount(),this.showProgressBar=!0,this.totalUsers=+localStorage.getItem("syncUsersCount"),this.interval&&clearInterval(this.interval),this.interval=setInterval(()=>{this.GetProgressReport()},1e3))}syncUsersAndEmployeesToASSO(){this.totalUsers>0&&0!=this.organizationRef.length&&(localStorage.setItem("syncUsersCount",this.totalUsers.toString()),this.showProgressBar=!0,this._userService.migrateUsersAndEmployeesToASSO().subscribe(t=>{},t=>{this._messageService.open("migration failed"),localStorage.removeItem("syncUsersCount"),this.showProgressBar=!1}),this.interval=setInterval(()=>{this.GetProgressReport()},1e3))}GetProgressReport(){var t,i;this.showProgressBar||clearInterval(this.interval),this.totalUsers>0&&this.usersCreatedCount!=this.totalUsers?(this.GetUserActiveCount(),this.estimatedTime>0&&(this.estimatedTime>60?(i=this.estimatedTime/60,t="minutes"):this.estimatedTime<60&&(i=this.estimatedTime,t="seconds"),this.showEstimatedTime=!0,this.remainingTime="Estimated time: "+Math.round(i)+" "+t)):(clearInterval(this.interval),localStorage.removeItem("syncUsersCount"),localStorage.removeItem("usersCreatedCount"),this.showProgressMessage=!0,this.showEstimatedTime=!1,this.userCreationProgressMessage="Migration process completed.",this.detailsLink="Details",this._messageService.open(this.migrationSuccessMessage)),this.progressBarPercentage=100*Math.round(this.usersCreatedCount/this.totalUsers),this.width=this.progressBarPercentage+"%"}GetUserActiveCount(){this.startDateTime=new Date,this._advancedSsoService.getMigrationDetails().subscribe(t=>{this.endDateTime=new Date;var i=(this.endDateTime.getTime()-this.startDateTime.getTime())/1e3;localStorage.getItem("usersCreatedCount")&&Number(localStorage.getItem("usersCreatedCount"))>0&&(this.processedRecords=t-Number(localStorage.getItem("usersCreatedCount")),this.numberOfRecordsProcessedInARequest=this.processedRecords/i,this.estimatedTime=this.numberOfRecordsProcessedInARequest*(this.totalUsers-t)),this.usersCreatedCount=t,localStorage.setItem("usersCreatedCount",t)})}exportMigrationDetails(t){t.preventDefault(),this._advancedSsoService.getMigrationDetailsAsExcel().subscribe(i=>{this.showProgressBar=!1;const r=this.getFileName(),a=document.createElement("a"),s=URL.createObjectURL(i);a.href=s,a.download=r,a.click(),URL.revokeObjectURL(s)},i=>{this._messageService.open(i)})}getFileName(){var t=window.localStorage.getItem("systemLocale");return null==t&&(t="en"),`Migration Details ${this.datePipe.transform(qc()().toDate(),"en"==t?"dd/MM/yyyy":"MM/dd/yyyy")}.xlsx`}closeDialog(){this._confirmDetailsDialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(Zx.N),e.Y36(jn),e.Y36(se.G),e.Y36(D.uU))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sync-users-dialog"]],decls:30,vars:4,consts:[[1,"container-fluid","overflow-hidden"],[1,"row"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["role","alert","class","mcc-alert mcc-alert--danger-solid",4,"ngIf"],[1,"card_body","col-12","message"],[1,"mb-2"],["class","row justify-content-center sync-users-progress-bar",4,"ngIf"],[1,"col-12"],[1,"row","d-flex","justify-content-end","buttons-container"],[1,"col-3","button-div","cancel-container"],[1,"d-flex","justify-content-center"],["id","filter_cancel_btn",1,"btn","cancel-button",3,"click"],[1,"col-3","button-div"],["id","filter_btn",1,"btn","save-button","form-buttons",3,"disabled","click"],["role","alert",1,"mcc-alert","mcc-alert--danger-solid"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[1,"mu-d-flex","mu-flex-column"],[1,"mu-fw-semi-bold"],[1,"row","justify-content-center","sync-users-progress-bar"],[1,"progressBarContainer"],[1,"col-10"],[1,"text-size-12"],[1,"text-size-10"],[1,"col-2",2,"text-align","right"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","progress-bar-blue",3,"aria-valuenow"],["class","col-10 mt-3 custom-data row d-flex justify-content-end",4,"ngIf"],["class","col-10 mt-4 progressBarText",4,"ngIf"],[1,"col-10","mt-3","custom-data","row","d-flex","justify-content-end"],[1,"col-10","mt-4","progressBarText"],["href","#",1,"exportLink",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6," Enable Advanced SSO Login "),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.YNc(10,IW,5,1,"div",8),e.TgZ(11,"div",1)(12,"div",9)(13,"div",10),e._uU(14),e.qZA(),e.TgZ(15,"div"),e._uU(16,"Select the Enable ASSO Login option to provide these Users/Employees with ASSO login."),e.qZA(),e._UZ(17,"br"),e.YNc(18,FW,16,6,"div",11),e._UZ(19,"br"),e.TgZ(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15)(24,"button",16),e.NdJ("click",function(){return i.closeDialog()}),e._uU(25," Cancel "),e.qZA()()(),e.TgZ(26,"div",17)(27,"div",15)(28,"button",18),e.NdJ("click",function(){return i.syncUsersAndEmployeesToASSO()}),e._uU(29," Enable ASSO Login "),e.qZA()()()()()()()()),2&t&&(e.xp6(10),e.Q6J("ngIf",0===i.organizationRef.length),e.xp6(4),e.hij("",i.totalUsers," existing Users/Employees unable to login."),e.xp6(4),e.Q6J("ngIf",i.showProgressBar),e.xp6(10),e.Q6J("disabled",i.showProgressBar||0===i.organizationRef.length||0==i.totalUsers))},dependencies:[D.O5],styles:[".table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.custom-data[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}input[_ngcontent-%COMP%]::-moz-placeholder{color:#565d6f}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#565d6f}input[_ngcontent-%COMP%]::placeholder{color:#565d6f}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.input-width[_ngcontent-%COMP%]{max-width:200px;font-size:12px}.full-width[_ngcontent-%COMP%]{width:100%}.buttons-container[_ngcontent-%COMP%]{margin-top:14px;margin-bottom:-15px}.cancel-button[_ngcontent-%COMP%]{border-radius:4px;position:relative;text-align:center;text-decoration:none;float:right;border:none;outline:none;color:#fff;background-color:#404f64;box-shadow:0 2px 5px #00000042;margin-bottom:30px;height:28px;width:100%;line-height:10px;font-size:12px}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:2px solid grey;outline:black;color:#000;margin-bottom:30px}.save-button[_ngcontent-%COMP%]{border-radius:4px;position:relative;text-align:center;float:right;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);height:28px;line-height:10px;box-shadow:0 2px 5px #00000042}.tooltip-icon-style[_ngcontent-%COMP%]{position:relative;margin-right:20px;margin-left:5px;font-size:20px;z-index:5;width:22px;height:22px;border-radius:0%;left:290px;top:-18px;cursor:pointer}.message[_ngcontent-%COMP%]{font-size:12px;font-weight:bolder}.mcc-alert[_ngcontent-%COMP%]{border-color:transparent;padding-block:calc(.75rem - 2px);padding-inline:calc(1rem - 2px);background-color:transparent;position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;gap:.5rem;-webkit-margin-after:1rem;margin-block-end:1rem;border:2px solid #e0e0e7;border-radius:6px;background-color:#fff}.mcc-alert--danger-solid[_ngcontent-%COMP%]{border-left-color:#dc3545;border-left-width:6px}.progressBarContainer[_ngcontent-%COMP%]{background-color:#fff;height:20px;width:500px}.fa-exclamation-triangle[_ngcontent-%COMP%]{color:red;font-size:1.5em}.mu-flex-column[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}.mu-d-flex[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mu-fw-semi-bold[_ngcontent-%COMP%]{font-weight:600!important}.sync-users-progress-bar[_ngcontent-%COMP%]{padding:10px 0}  .mat-tooltip{font-size:12px}.centered[_ngcontent-%COMP%]{z-index:1000000!important}.exportLink[_ngcontent-%COMP%]{color:var(--eSolve-primary);text-decoration-line:underline}.text-size-12[_ngcontent-%COMP%]{font-size:12px}.text-size-10[_ngcontent-%COMP%]{font-size:10px;font-weight:100}.sync-user-text[_ngcontent-%COMP%]{margin-bottom:10px!important}@media (max-width: 767px){.button-div[_ngcontent-%COMP%]{padding:0!important}}@media (max-width: 570px){.cancel-container[_ngcontent-%COMP%]{margin-right:0}}@media only screen and (max-width: 767px){.align-center-md[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 767px){.cancel-button[_ngcontent-%COMP%]{width:100%!important}.save-button[_ngcontent-%COMP%]{margin:10px 0!important}}"]}),n})();class ek{constructor(o,t,i,r){this.id=o,this.isOverRuleOrganizationHint=t,this.organizationHint=i,this.authenticationDomain=r}}let LW=(()=>{class n{constructor(t,i,r,a,s){this.data=t,this.advancedSSOService=i,this._confirmDetailsDialogRef=r,this._messageService=a,this.formBuilder=s,this.placeHolderValue="Organization reference hint",this.advancedSSO=new ek,this.disabledSaveButton=!1,this.organizationHintError=!1,this.isOverRuleOrganizationHint=!1}ngOnInit(){this.buildForm(),this.advancedSSO=this.data.advancedSso,this.organizationRefForm.patchValue(this.advancedSSO)}buildForm(){this.organizationRefForm=this.formBuilder.group({id:[""],isOverRuleOrganizationHint:[""],organizationHint:[""],authenticationDomain:[""]})}checkIsOverRuleOrganizationHint(){!0===this.organizationRefForm.get("isOverRuleOrganizationHint").value?(this.organizationRefForm.get("organizationHint").setValue(null),this.organizationRefForm.get("organizationHint").disable()):(this.organizationRefForm.get("organizationHint").enable(),this.organizationRefForm.get("organizationHint").markAsUntouched(),this.organizationRefForm.get("organizationHint").setErrors(null))}checkOrganizationHintError(){return!1===this.organizationRefForm.get("isOverRuleOrganizationHint").value&&(null==this.organizationRefForm.get("organizationHint").value||this.organizationRefForm.get("organizationHint").value.length<1)?(this.organizationHintError=!0,this.disabledSaveButton=!1):this.organizationHintError=!1,this.organizationHintError}saveChanges(){let t=this.organizationRefForm.value;this.disabledSaveButton=!0,this.checkOrganizationHintError(),this.organizationHintError||this.advancedSSOService.edit(t).subscribe(i=>{this._messageService.open("Organization reference details updated."),this._confirmDetailsDialogRef.close(!0)},i=>{this._messageService.open(i),this.disabledSaveButton=!1})}closeDialog(){this._confirmDetailsDialogRef.close(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(Zx.N),e.Y36(z.so),e.Y36(se.G),e.Y36(_.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sync-users-dialog"]],decls:38,vars:4,consts:[[1,"row","action-header"],[1,"row","action-body"],[1,"card_body","col-12"],["autocomplete","off",3,"formGroup"],["f","ngForm"],[1,"col-12","action-body-frame"],[1,"row","action-body-label","eSolve-font-size"],[1,"row","dialog-message"],[1,"d-flex","justify-content-between","col-md-6","col-lg-6"],["formControlName","isOverRuleOrganizationHint",1,"mat-column-checkbox","action-body-label-font",3,"checked"],["SystemAccessEmail",""],[1,"check-label"],[1,"action-body-i-icon"],[1,"fa","fa-exclamation-circle"],[1,"action-body-info-text"],[1,"row","dialog-message","profile-select"],[1,"d-flex","justify-content-between","col-md-4","col-lg-4"],[1,"check-label","check-label-text"],["d-flex","","justify-content-between","","col-sm-3","","col-md-3","","col-lg-3",""],["type","text","id","organizationHint","formControlName","organizationHint","required","","size","25","readonly","",1,"custom-data",3,"placeholder"],[1,"row","cancel-position-right"],[1,"d-flex","justify-content-between","col-sm-3","col-md-2","col-lg-2"],["id","action-cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"mat-dialog-close"],[1,"d-flex","justify-content-between","col-sm-3","col-md-3","col-lg-3"],["id","action-saveChanges-button",1,"eSolve-button","eSolve-blue-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"b"),e._uU(2,"Advanced SSO Organisation Reference"),e.qZA()(),e.TgZ(3,"div",1)(4,"div",2)(5,"form",3,4)(7,"div",5),e._UZ(8,"div",6),e.TgZ(9,"div",7)(10,"div",8)(11,"mat-checkbox",9,10)(13,"span",11),e._uU(14,"Overrule organization hint string"),e.qZA()()(),e.TgZ(15,"div",12),e._UZ(16,"i",13),e.qZA(),e.TgZ(17,"div",14),e._uU(18," It will help an ASSO User to go through "),e._UZ(19,"br"),e._uU(20,"Organization Discovery in case they belongs to "),e._UZ(21,"br"),e._uU(22,"more than one Organization. "),e.qZA()(),e._UZ(23,"hr")(24,"div",6),e.TgZ(25,"div",15)(26,"div",16)(27,"span",17),e._uU(28,"Advanced SSO Organisation Reference"),e.qZA()(),e.TgZ(29,"div",18),e._UZ(30,"input",19),e.qZA()()(),e.TgZ(31,"div",20)(32,"div",21)(33,"button",22),e._uU(34," Cancel "),e.qZA()(),e.TgZ(35,"div",23)(36,"button",24),e.NdJ("click",function(){return i.saveChanges()}),e._uU(37," Save changes "),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.organizationRefForm),e.xp6(6),e.Q6J("checked",i.isOverRuleOrganizationHint),e.xp6(19),e.Q6J("placeholder",i.placeHolderValue),e.xp6(3),e.Q6J("mat-dialog-close",!1))},dependencies:[Zi.oG,z.ZT,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.sg,_.u],styles:[".warning-title[_ngcontent-%COMP%]{color:var(--eSolve-red);font-size:17px;font-weight:700}.dialog-message[_ngcontent-%COMP%]{font-size:15px;padding-bottom:10px;padding-left:20px}.custom-data[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}.profile-select[_ngcontent-%COMP%]{padding-bottom:25px}.eSolve-button[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px}.cancel-position-right[_ngcontent-%COMP%]{-ms-flex-pack:right;justify-content:right;padding-top:20px}.action-header[_ngcontent-%COMP%]{text-align:center;padding-bottom:15px;padding-left:22px}.action-body[_ngcontent-%COMP%]{padding-left:7px;padding-right:7px;padding-bottom:5px}.action-body-frame[_ngcontent-%COMP%]{background-color:#f7f7f9;border:3px solid #f0f0f3;border-radius:4px}.form-input-style[_ngcontent-%COMP%]{background-color:#fff;width:200px}.textOption[_ngcontent-%COMP%]:hover{color:var(--eSolve-red);cursor:pointer}.action-body-label[_ngcontent-%COMP%]{padding-left:180px;padding-top:5px}.action-body-label[_ngcontent-%COMP%]:first-child{padding-top:20px}.action-body-label-font[_ngcontent-%COMP%]{font-size:13px}.action-body-info-text[_ngcontent-%COMP%]{font-size:10px!important;padding-left:10px;padding-top:3px}.action-body-i-icon[_ngcontent-%COMP%]{padding-left:10px!important;padding-top:8px!important}.action-body-profile-select[_ngcontent-%COMP%]{width:200px!important}.action-body-input[_ngcontent-%COMP%]{background-color:#fff!important}.check-label[_ngcontent-%COMP%]{display:inline-block;width:135px}.check-label-text[_ngcontent-%COMP%]{font-size:13px}"]}),n})();class tk{constructor(o,t,i,r,a,s,l){this.id=o,this.minimumLength=t,this.minimumUpperCharacters=i,this.minimumSpecialCharacters=r,this.minimumNumericCharacters=a,this.daysBeforePasswordExpires=s,this.timeoutMinutes=l}}function UW(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Maximum value is 90. "),e.qZA())}function jW(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Minimum value is 20. "),e.qZA())}function YW(n,o){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,UW,2,0,"div",19),e.YNc(2,jW,2,0,"div",19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.sf.timeoutMinutes?null:t.sf.timeoutMinutes.errors.max),e.xp6(1),e.Q6J("ngIf",null==t.sf.timeoutMinutes?null:t.sf.timeoutMinutes.errors.min)}}const qW=function(n){return{"error-input":n}};function JW(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",12,13),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateSecurity())}),e.TgZ(2,"div",1)(3,"div",14)(4,"label",15),e._uU(5,"Session timeout (in minutes):"),e.qZA(),e._UZ(6,"input",16),e.YNc(7,YW,3,2,"div",17),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.securityForm),e.xp6(6),e.Q6J("ngClass",e.VKq(3,qW,(null==t.sf.timeoutMinutes?null:t.sf.timeoutMinutes.touched)&&(null==t.sf.timeoutMinutes?null:t.sf.timeoutMinutes.errors))),e.xp6(1),e.Q6J("ngIf",(null==t.sf.timeoutMinutes?null:t.sf.timeoutMinutes.touched)&&(null==t.sf.timeoutMinutes?null:t.sf.timeoutMinutes.errors))}}let HW=(()=>{class n{constructor(t,i,r,a){this.formBuilder=t,this._securityService=i,this._messageService=r,this._detailsDialogRef=a,this.securityObject=new tk}ngOnInit(){this.pageTitle="Session timeout",this.buildForm(),this.initSessionTimeoutForm()}buildForm(){this.securityForm=this.formBuilder.group({id:[""],timeoutMinutes:[""],minimumLength:[""],minimumUpperCharacters:[""],minimumSpecialCharacters:[""],minimumNumericCharacters:[""],daysBeforePasswordExpires:[""]})}initSessionTimeoutForm(){this._securityService.getSecurity(!1).subscribe(t=>{this.securityObject.id=t.id,this.securityObject.timeoutMinutes=t.timeoutMinutes,this.securityObject.minimumLength=t.minimumLength,this.securityObject.minimumUpperCharacters=t.minimumUpperCharacters,this.securityObject.minimumSpecialCharacters=t.minimumSpecialCharacters,this.securityObject.minimumNumericCharacters=t.minimumNumericCharacters,this.securityObject.daysBeforePasswordExpires=t.daysBeforePasswordExpires,this.securityForm.patchValue(this.securityObject)},t=>{})}updateSecurity(){let t=this.securityForm.value;null==t.timeoutMinutes&&(t.timeoutMinutes=30),this.securityForm.valid?this._securityService.update(t).subscribe(i=>{this._messageService.open("Changes saved."),this.closeDialog()},i=>{this._messageService.open(i)}):this._messageService.open("Please fill form correctly.")}closeDialog(){this._detailsDialogRef.close()}get sf(){return this.securityForm.controls}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.qu),e.Y36(hs.I),e.Y36(se.G),e.Y36(z.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-session-timeout-dialog"]],decls:16,vars:2,consts:[[1,"container-fluid","overflow-hidden"],[1,"row"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["novalidate","","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","d-flex","justify-content-end","mt-3"],["type","button","id","cancel_button",1,"eSolve-button","eSolve-dark-blue-button","mr-3",3,"click"],["id","submit_button",1,"eSolve-button","eSolve-blue-button","mr-3",3,"click"],["novalidate","","autocomplete","off",3,"formGroup","ngSubmit"],["df","ngForm"],[1,"col-md-6"],["for","timeoutMinutes",1,"form-label","securityLabel"],["id","timeoutMinutes","type","number","name","timeoutMinutes","formControlName","timeoutMinutes","min","20","max","90","numbersOnlyMask","",1,"securityinput","form-control","form-control-sm","form-input",3,"ngClass"],["class","error-msg",4,"ngIf"],[1,"error-msg"],[4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.YNc(10,JW,8,5,"form",8),e.TgZ(11,"div",9)(12,"button",10),e.NdJ("click",function(){return i.closeDialog()}),e._uU(13,"Cancel"),e.qZA(),e.TgZ(14,"button",11),e.NdJ("click",function(){return i.updateSecurity()}),e._uU(15,"Save Changes"),e.qZA()()()),2&t&&(e.xp6(6),e.hij(" ",i.pageTitle," "),e.xp6(4),e.Q6J("ngIf",i.securityForm))},dependencies:[D.mk,D.O5,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.qQ,_.Fd,_.sg,_.u,$n,mo],styles:[".dialog-header[_ngcontent-%COMP%]{max-height:40px}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.securityLabel[_ngcontent-%COMP%]{margin-bottom:0;font-size:11px}.securityinput[_ngcontent-%COMP%]{width:70px;font-size:12px}.error-msg[_ngcontent-%COMP%]{color:var(--eSolve-red);font-size:12px}"]}),n})();function BW(n,o){if(1&n&&(e.TgZ(0,"mat-cell",22)(1,"span",23),e._uU(2,"Name: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.name," ")}}function VW(n,o){if(1&n&&(e.TgZ(0,"mat-cell",24)(1,"span",25),e._uU(2,"Description: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.description," ")}}function GW(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",26)(1,"button",27),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openSyncUsersDialog(a))}),e.TgZ(2,"p",28),e._uU(3,"View Details"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(1),e.s9C("id",t.name)}}function WW(n,o){1&n&&e._UZ(0,"mat-row")}let QW=(()=>{class n{constructor(t,i,r,a,s){this.dialog=t,this.http=i,this._messageService=r,this._userService=a,this._advancedSSOService=s,this.displayedColumns=["name","type","actions"],this.data=new N.by,this.syncUsersTitle="Enable Advanced SSO Login",this.orgRef="Organisation Reference",this.sessionTimeoutTitle="Session timeout",this.advancedSso=new ek}ngOnInit(){this.getUserEmployeeCount(),this.getAdvancedSso(),this.data=new N.by([{name:this.orgRef,description:"Name of the organisation which all Users and Employees belong to in Advanced SSO."},{name:this.syncUsersTitle,description:"Facility to enable existing Users and Employees to login using Advanced SSO."},{name:this.sessionTimeoutTitle,description:"Set specific timeout duration for when inactive users are logged out."}])}openSyncUsersDialog(t){t.name==this.syncUsersTitle?this.dialog.open(ZW,{autoFocus:!1,disableClose:!0,data:{organizationRef:this.advancedSso.organizationHint?this.advancedSso.organizationHint:""},width:"650px",panelClass:["max-height96"]}).afterClosed().subscribe(r=>{null==localStorage.getItem("syncUsersCount")&&this.getUserEmployeeCount()}):t.name==this.orgRef?this.dialog.open(LW,{autoFocus:!1,disableClose:!0,data:{advancedSso:this.advancedSso},width:"650px",panelClass:["max-height96"]}).afterClosed().subscribe(r=>{r&&this.getAdvancedSso()}):t.name==this.sessionTimeoutTitle&&this.dialog.open(HW,{autoFocus:!1,disableClose:!0,width:"650px",panelClass:["max-height96"]}).afterClosed().subscribe(r=>{})}getUserEmployeeCount(){localStorage.getItem("syncUsersCount")&&Number(localStorage.getItem("syncUsersCount"))>0?this._advancedSSOService.usersCount.next(+localStorage.getItem("syncUsersCount")):this._userService.getUserAndEmployeeCount().subscribe(t=>{this._advancedSSOService.usersCount.next(t)},t=>{this._messageService.open(t)})}getAdvancedSso(){this._advancedSSOService.get().subscribe(t=>{this.advancedSso=t},t=>{this._messageService.open(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.uw),e.Y36(Y.eN),e.Y36(se.G),e.Y36(jn),e.Y36(Zx.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-advanced-sso"]],decls:31,vars:2,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],[1,"table-header","row"],[1,"col-sm-6","col-12","d-flex","justify-content-start"],[1,"table-header-title"],[1,"g-table-divider"],[1,"row","g-table-header"],[1,"col-12","d-flex","flex-row"],["id","halfRow"],["id","g-actions-column-width"],[1,"row"],[1,"g-thin-black-scroll-bar"],["id","asso_table_container"],["id","asso_table",3,"dataSource"],["matColumnDef","name"],["class","custom-data",4,"matCellDef"],["matColumnDef","type"],["class","custom-data hidden-on-small-screen",4,"matCellDef"],["matColumnDef","actions"],["class","hidden-on-small-screen visible-on-small-screen-370px",4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],[1,"custom-data"],[1,"mobile-label","hidden-on-small-screen"],[1,"custom-data","hidden-on-small-screen"],[1,"mobile-label"],[1,"hidden-on-small-screen","visible-on-small-screen-370px"],[1,"btn","details-button","pull-right","border-none",3,"id","click"],[1,"CD-btn-text"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Advanced SSO"),e.qZA()()(),e._UZ(7,"hr",6),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"p"),e._uU(12,"Name"),e.qZA()(),e.TgZ(13,"div",9)(14,"p"),e._uU(15,"Description"),e.qZA()(),e.TgZ(16,"div",10)(17,"p"),e._uU(18,"Actions"),e.qZA()()()(),e.TgZ(19,"div",11)(20,"div",2)(21,"div",12)(22,"div",13)(23,"mat-table",14),e.ynx(24,15),e.YNc(25,BW,4,1,"mat-cell",16),e.BQk(),e.ynx(26,17),e.YNc(27,VW,4,1,"mat-cell",18),e.BQk(),e.ynx(28,19),e.YNc(29,GW,4,1,"mat-cell",20),e.BQk(),e.YNc(30,WW,1,0,"mat-row",21),e.qZA()()()()()()()()),2&t&&(e.xp6(23),e.Q6J("dataSource",i.data),e.xp6(7),e.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[N.BZ,N.w1,N.Dz,N.nj,N.ev,N.Gk],styles:[".table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;padding-top:6px;margin-left:0}#halfRow[_ngcontent-%COMP%]{width:calc((100% - 115px)/2);border-bottom:1px solid rgba(0,0,0,.12)}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 410px);overflow-wrap:break-word}.custom-data[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f;width:100%}.mobile-label[_ngcontent-%COMP%]{display:none}.details-button[_ngcontent-%COMP%]{height:30px;width:110px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:none}.border-none[_ngcontent-%COMP%]{border:none}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0 0 115px;flex:0 0 115px}th[_ngcontent-%COMP%]{font-weight:600;font-size:12px;color:#42536f}td.mat-column-type[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}.mat-column-type[_ngcontent-%COMP%]{position:relative;width:33.33%}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}  .mat-tab-body.mat-tab-body-active{overflow:hidden!important}  .mat-tab-body-content{overflow:hidden!important}.visible-on-small-screen[_ngcontent-%COMP%]{display:none!important}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-cell[_ngcontent-%COMP%]:last-of-type, mat-footer-cell[_ngcontent-%COMP%]:last-of-type, mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:5px}@media (max-width: 860px){.mobile-label[_ngcontent-%COMP%]{width:40px;display:inline-block;color:#565d6f;font-weight:400}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start;height:100px}.g-table-header[_ngcontent-%COMP%]{display:none}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0;flex:0}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}.visible-on-small-screen[_ngcontent-%COMP%]{display:table-cell!important;margin-left:auto}mat-row[_ngcontent-%COMP%]{height:65px!important}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:0px}}@media (max-width: 576px){.add-job-type-button-div[_ngcontent-%COMP%]{-ms-flex-pack:start!important;justify-content:flex-start!important}.mat-column-type[_ngcontent-%COMP%]{width:100%}}@media (max-width: 370px){.visible-on-small-screen[_ngcontent-%COMP%]{display:none!important}.visible-on-small-screen-370px[_ngcontent-%COMP%]{display:table-cell!important}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:30px}}"]}),n})(),nk=(()=>{class n{constructor(t){this._http=t}getMobileConnectionCode(t,i){this.getCustomerUrl();let r=(new Y.LE).set("customerReferenceId",t).set("mobileApiUrl",this.apiUrl+this.mobileApiUrl);return new A.y(a=>{this._http.get(S.j.URLMobileConnection,{params:r}).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}getCustomerUrl(){this._http.get("./assets/config.json").pipe((0,Oe.U)(t=>t)).toPromise().then(t=>{this.apiUrl=t.API_URL,this.mobileApiUrl=t.Mobile_API_URL})}generateMobileConnectionCode(t){this.getCustomerUrl();var i={customerName:t,customerUrl:this.apiUrl+this.mobileApiUrl};return new A.y(r=>{this._http.post(S.j.URLMobileConnection,i).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}deleteMobileConnectionCode(t){return new A.y(i=>{this._http.delete(S.j.URLMobileConnection+"/"+t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zW=(()=>{class n{constructor(t){this.http=t}getConfigSettings(){return new A.y(t=>{this.http.get(S.j.URLConfigSettings,{}).subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}updateConfigSettings(t){return new A.y(i=>{this.http.put(S.j.URLConfigSettings,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ik{constructor(o,t,i){this.id=o,this.key=t,this.value=i}}function KW(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Value must be at least 6. "),e.qZA())}function $W(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Maximum value is 99. "),e.qZA())}function XW(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Must be a valid number. "),e.qZA())}function eQ(n,o){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,KW,2,0,"div",13),e.YNc(2,$W,2,0,"div",13),e.YNc(3,XW,2,0,"div",13),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.minimumLength?null:t.sf.minimumLength.errors.min),e.xp6(1),e.Q6J("ngIf",null==t.sf.minimumLength?null:t.sf.minimumLength.errors.max),e.xp6(1),e.Q6J("ngIf",!(null!=t.sf.minimumLength&&t.sf.minimumLength.errors.min||null!=t.sf.minimumLength&&t.sf.minimumLength.errors.max))}}function tQ(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Minimum value is 1. "),e.qZA())}function nQ(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Maximum value is 99. "),e.qZA())}function iQ(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Must be a valid number. "),e.qZA())}function rQ(n,o){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,tQ,2,0,"div",13),e.YNc(2,nQ,2,0,"div",13),e.YNc(3,iQ,2,0,"div",18),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.minimumUpperCharacters?null:t.sf.minimumUpperCharacters.errors.min),e.xp6(1),e.Q6J("ngIf",null==t.sf.minimumUpperCharacters?null:t.sf.minimumUpperCharacters.errors.max),e.xp6(1),e.Q6J("ngIf",!(null!=t.sf.minimumUpperCharacters&&t.sf.minimumUpperCharacters.errors.max||null!=t.sf.minimumUpperCharacters&&t.sf.minimumUpperCharacters.errors.min))}}function oQ(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Minimum value is 1. "),e.qZA())}function aQ(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Maximum value is 99. "),e.qZA())}function sQ(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Must be a valid number. "),e.qZA())}function lQ(n,o){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,oQ,2,0,"div",13),e.YNc(2,aQ,2,0,"div",13),e.YNc(3,sQ,2,0,"div",18),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.minimumSpecialCharacters?null:t.sf.minimumSpecialCharacters.errors.min),e.xp6(1),e.Q6J("ngIf",null==t.sf.minimumSpecialCharacters?null:t.sf.minimumSpecialCharacters.errors.max),e.xp6(1),e.Q6J("ngIf",!(null!=t.sf.minimumSpecialCharacters&&t.sf.minimumSpecialCharacters.errors.max||null!=t.sf.minimumSpecialCharacters&&t.sf.minimumSpecialCharacters.errors.min))}}function cQ(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Minimum value is 1. "),e.qZA())}function dQ(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Maximum value is 99. "),e.qZA())}function uQ(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Must be a valid number. "),e.qZA())}function pQ(n,o){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,cQ,2,0,"div",13),e.YNc(2,dQ,2,0,"div",13),e.YNc(3,uQ,2,0,"div",18),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.minimumNumericCharacters?null:t.sf.minimumNumericCharacters.errors.min),e.xp6(1),e.Q6J("ngIf",null==t.sf.minimumNumericCharacters?null:t.sf.minimumNumericCharacters.errors.max),e.xp6(1),e.Q6J("ngIf",!(null!=t.sf.minimumNumericCharacters&&t.sf.minimumNumericCharacters.errors.max||null!=t.sf.minimumNumericCharacters&&t.sf.minimumNumericCharacters.errors.min))}}const qg=function(n){return{"error-input":n}};function fQ(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",1)(2,"div",15)(3,"label",16),e._uU(4,"Minimum Password Length*:"),e.qZA(),e._UZ(5,"input",17),e.YNc(6,eQ,4,3,"div",18),e.qZA(),e.TgZ(7,"div",15)(8,"label",19),e._uU(9,"Minimum Password Upper Characters:"),e.qZA(),e._UZ(10,"input",20),e.YNc(11,rQ,4,3,"div",18),e.qZA()(),e.TgZ(12,"div",1)(13,"div",15)(14,"label",21),e._uU(15,"Minimum Password Special Characters:"),e.qZA(),e._UZ(16,"input",22),e.YNc(17,lQ,4,3,"div",18),e.qZA(),e.TgZ(18,"div",15)(19,"label",23),e._uU(20,"Minimum Password Numeric Characters:"),e.qZA(),e._UZ(21,"input",24),e.YNc(22,pQ,4,3,"div",18),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngClass",e.VKq(8,qg,(null==t.sf.minimumLength?null:t.sf.minimumLength.touched)&&(null==t.sf.minimumLength?null:t.sf.minimumLength.errors))),e.xp6(1),e.Q6J("ngIf",(null==t.sf.minimumLength?null:t.sf.minimumLength.touched)&&(null==t.sf.minimumLength?null:t.sf.minimumLength.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(10,qg,(null==t.sf.minimumUpperCharacters?null:t.sf.minimumUpperCharacters.touched)&&(null==t.sf.minimumUpperCharacters?null:t.sf.minimumUpperCharacters.errors))),e.xp6(1),e.Q6J("ngIf",(null==t.sf.minimumUpperCharacters?null:t.sf.minimumUpperCharacters.touched)&&(null==t.sf.minimumUpperCharacters?null:t.sf.minimumUpperCharacters.errors)),e.xp6(5),e.Q6J("ngClass",e.VKq(12,qg,(null==t.sf.minimumSpecialCharacters?null:t.sf.minimumSpecialCharacters.touched)&&(null==t.sf.minimumSpecialCharacters?null:t.sf.minimumSpecialCharacters.errors))),e.xp6(1),e.Q6J("ngIf",(null==t.sf.minimumSpecialCharacters?null:t.sf.minimumSpecialCharacters.touched)&&(null==t.sf.minimumSpecialCharacters?null:t.sf.minimumSpecialCharacters.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(14,qg,(null==t.sf.minimumNumericCharacters?null:t.sf.minimumNumericCharacters.touched)&&(null==t.sf.minimumNumericCharacters?null:t.sf.minimumNumericCharacters.errors))),e.xp6(1),e.Q6J("ngIf",(null==t.sf.minimumNumericCharacters?null:t.sf.minimumNumericCharacters.touched)&&(null==t.sf.minimumNumericCharacters?null:t.sf.minimumNumericCharacters.errors))}}function hQ(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Maximum value is 99. "),e.qZA())}function mQ(n,o){1&n&&(e.TgZ(0,"div",25),e._uU(1," Must be a valid number. "),e.qZA())}function gQ(n,o){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,hQ,2,0,"div",13),e.YNc(2,mQ,2,0,"div",18),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.sf.daysBeforePasswordExpires?null:t.sf.daysBeforePasswordExpires.errors.max),e.xp6(1),e.Q6J("ngIf",!(null!=t.sf.daysBeforePasswordExpires&&t.sf.daysBeforePasswordExpires.errors.max))}}function _Q(n,o){if(1&n&&(e.TgZ(0,"div",1)(1,"div",15)(2,"label",26),e._uU(3,"Days Before Password Expires:"),e.qZA(),e._UZ(4,"input",27),e.YNc(5,gQ,3,2,"div",18),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngClass",e.VKq(2,qg,(null==t.sf.daysBeforePasswordExpires?null:t.sf.daysBeforePasswordExpires.touched)&&(null==t.sf.daysBeforePasswordExpires?null:t.sf.daysBeforePasswordExpires.errors))),e.xp6(1),e.Q6J("ngIf",(null==t.sf.daysBeforePasswordExpires?null:t.sf.daysBeforePasswordExpires.touched)&&(null==t.sf.daysBeforePasswordExpires?null:t.sf.daysBeforePasswordExpires.errors))}}function vQ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",11,12),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateSecurity())}),e.YNc(2,fQ,23,16,"div",13),e.YNc(3,_Q,6,4,"div",14),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.securityForm),e.xp6(2),e.Q6J("ngIf",!t.showPasswordExpire),e.xp6(1),e.Q6J("ngIf",t.showPasswordExpire)}}function bQ(n,o){if(1&n&&(e.TgZ(0,"form",28,29)(2,"div",30)(3,"div",31)(4,"div",32)(5,"label",33),e._uU(6,"Connection Code"),e.qZA(),e._UZ(7,"input",34),e.qZA(),e.TgZ(8,"div",35),e._UZ(9,"i",36),e.TgZ(10,"span"),e._uU(11),e.qZA()()(),e.TgZ(12,"div",37),e._UZ(13,"hr",38),e.qZA(),e.TgZ(14,"div",31)(15,"div",32)(16,"label",39),e._uU(17,"Created on"),e.qZA(),e._UZ(18,"input",40)(19,"img",41),e.qZA(),e.TgZ(20,"div",35),e._UZ(21,"i",36),e.TgZ(22,"span"),e._uU(23,"Date the Connection Code was generated"),e.qZA()()(),e.TgZ(24,"div",37),e._UZ(25,"hr",38),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.mobileAppForm),e.xp6(11),e.hij("This code is sent in the ",t.mobileAppName," Access email")}}function yQ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateSecurity())}),e._uU(1,"Save Changes"),e.qZA()}}function xQ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.generateRegCode())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.showRegenerateBtn?"Regenerate Connection Code":"Generate Connection Code"," ")}}function CQ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"button",43),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(2,"Cancel"),e.qZA(),e.YNc(3,yQ,2,0,"button",44),e.YNc(4,xQ,2,1,"button",45),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.showMobileApp),e.xp6(1),e.Q6J("ngIf",t.showMobileApp)}}function TQ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",28,29)(2,"div",30)(3,"div",31)(4,"div",32)(5,"label",48),e._uU(6,"Server URL"),e.qZA(),e._UZ(7,"input",49),e.qZA(),e.TgZ(8,"div",35),e._UZ(9,"i",36),e.TgZ(10,"span"),e._uU(11,"Enter the FCM Server hosting URL"),e.qZA()()(),e.TgZ(12,"div",37),e._UZ(13,"hr",38),e.qZA(),e.TgZ(14,"div",31)(15,"div",32)(16,"label",50),e._uU(17,"Server Key"),e.qZA(),e._UZ(18,"input",51),e.qZA(),e.TgZ(19,"div",35),e._UZ(20,"i",36),e.TgZ(21,"span"),e._uU(22,"Enter the FCM Server Key of your account"),e.qZA()()(),e.TgZ(23,"div",37),e._UZ(24,"hr",38),e.qZA()(),e.TgZ(25,"div",42)(26,"button",43),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(27,"Cancel"),e.qZA(),e.TgZ(28,"button",52),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updatePushNotificationService())}),e._uU(29,"Enable Push Notification Service"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.pushNotificationForm)}}let wQ=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O){this._messageService=t,this._titleService=i,this.formBuilder=r,this._securityService=a,this._sessionTimerService=s,this.data=l,this._detailsDialogRef=c,this._mobileConnectionService=u,this._licenseService=h,this._dateService=x,this._http=T,this._configSettingsService=O,this.securityObject=new tk,this.configSettings=[],this.showMobileApp=!1,this.showPushNotificationService=!1,this.showRegenerateBtn=!1,this.appCode="",this.customerName="",this.dateFormat="DD/MM/YYYY",this.mobileAppName=""}ngOnInit(){this.showPasswordExpire=this.data.showPasswordExpire,this.pageTitle=this.data.showPasswordExpire?"Forced password update":"Password strength configuration",this._titleService.sendTitle(this.pageTitle),this.pageTitle=this.data.pageTitle,this._dateService.dateFormate.subscribe(t=>this.dateFormat=t),this.showPushNotificationService=this.data.showPushNotificationService,this.getMobileAppName(),this.data.showMobileApp?(this.showMobileApp=!0,this._licenseService.customerBusinessName.subscribe(t=>{this.customerName=t})):this.showPasswordExpire=this.data.showPasswordExpire,this.buildForm(),this.initSecurityForm()}getMobileAppName(){this._http.get("./assets/config.json").pipe((0,Oe.U)(t=>t)).toPromise().then(t=>{this.mobileAppName=t.MobileAppName})}buildForm(){this.showMobileApp?this.mobileAppForm=this.formBuilder.group({mobileAppCode:[""],date:[""]}):this.showPushNotificationService?this.pushNotificationForm=this.formBuilder.group({serverURLId:0,serverKeyId:0,serverURL:[""],serverKey:[""]}):this.securityForm=this.formBuilder.group({id:[""],minimumLength:["",[_.kI.required,_.kI.min(6),_.kI.max(99)]],minimumUpperCharacters:["",[_.kI.required,_.kI.min(1),_.kI.max(99)]],minimumSpecialCharacters:["",[_.kI.required,_.kI.min(1),_.kI.max(99)]],minimumNumericCharacters:["",[_.kI.required,_.kI.min(1),_.kI.max(99)]],daysBeforePasswordExpires:["",[_.kI.min(1),_.kI.max(99)]],timeoutMinutes:["",[_.kI.required,_.kI.min(1),_.kI.max(99)]]})}initSecurityForm(){this.showMobileApp?this._mobileConnectionService.getMobileConnectionCode(this.customerName).subscribe(t=>{t.connectionMappingId&&6==t.connectionMappingId.length&&(this.appCode=t.connectionMappingId,this.mobileAppForm.patchValue({mobileAppCode:t.connectionMappingId,date:W(t.lastUpdated).format(this.dateFormat)}),this.showRegenerateBtn=!0)},t=>{this.showRegenerateBtn=!1,this._messageService.open(t)}):this.showPushNotificationService?this._configSettingsService.getConfigSettings().subscribe(t=>{if(null!=t||null!=t){let i=t.find(a=>"FCM PushNotification Api Address"==a.key),r=t.find(a=>"FCM PushNotification Server Key"==a.key);(null!=i||null!=i)&&(null!=r||null!=r)&&this.pushNotificationForm.patchValue({serverURLId:i.id,serverURL:i.value,serverKeyId:r.id,serverKey:r.value})}},t=>{this.showRegenerateBtn=!1,this._messageService.open(t)}):this._securityService.getSecurity(!1).subscribe(t=>{this.securityObject.id=t.id,this.securityObject.minimumLength=t.minimumLength,this.securityObject.minimumUpperCharacters=t.minimumUpperCharacters,this.securityObject.minimumSpecialCharacters=t.minimumSpecialCharacters,this.securityObject.minimumNumericCharacters=t.minimumNumericCharacters,this.securityObject.daysBeforePasswordExpires=t.daysBeforePasswordExpires,this.securityObject.timeoutMinutes=t.timeoutMinutes,this.securityForm.patchValue(this.securityObject)},t=>{})}updateSecurity(){let t=this.securityForm.value;t=this.ConvertNulltoZero(t),this.securityForm.valid?this._securityService.update(t).subscribe(i=>{this._messageService.open("Changes saved."),this.closeDialog(),this.securityObject.timeoutMinutes!==this.securityForm.controls.timeoutMinutes.value&&this._sessionTimerService.createNewToken(!0)},i=>{this._messageService.open(i)}):this._messageService.open("Please fill form correctly.")}updatePushNotificationService(){(null==this.pushNotificationForm.value.serverURL||this.pushNotificationForm.value.serverURL.length<1||null==this.pushNotificationForm.value.serverKey||this.pushNotificationForm.value.serverKey.length<1)&&this._messageService.open("Server Key and URL can't be blank");let t=new ik(this.pushNotificationForm.value.serverURLId,"FCM PushNotification Api Address",this.pushNotificationForm.value.serverURL);this.configSettings.push(t),t=new ik(this.pushNotificationForm.value.serverKeyId,"FCM PushNotification Server Key",this.pushNotificationForm.value.serverKey),this.configSettings.push(t),this.pushNotificationForm.valid?this._configSettingsService.updateConfigSettings(this.configSettings).subscribe(i=>{this._messageService.open("Changes saved."),this.closeDialog()},i=>{this._messageService.open(i)}):this._messageService.open("Please fill form correctly.")}ConvertNulltoZero(t){return null==t.minimumLength&&(t.minimumLength=0),null==t.minimumUpperCharacters&&(t.minimumUpperCharacters=0),null==t.minimumSpecialCharacters&&(t.minimumSpecialCharacters=0),null==t.minimumNumericCharacters&&(t.minimumNumericCharacters=0),null==t.timeoutMinutes&&(t.timeoutMinutes=0),t}generateRegCode(){this.appCode&&6===this.appCode.length?this._mobileConnectionService.deleteMobileConnectionCode(this.appCode).subscribe(()=>{this._mobileConnectionService.generateMobileConnectionCode(this.customerName).subscribe(t=>{this.appCode=t.connectionMappingId,this.mobileAppForm.patchValue({mobileAppCode:t.connectionMappingId,date:W(t.lastUpdated).format(this.dateFormat)}),this._messageService.open("Connection code regenerated successfully")},t=>{this._messageService.open("Connection code not generated")})},t=>{this._messageService.open("Connection code not generated")}):this._mobileConnectionService.generateMobileConnectionCode(this.customerName).subscribe(t=>{this.appCode=t.connectionMappingId,this.mobileAppForm.patchValue({mobileAppCode:t.connectionMappingId,date:W(t.lastUpdated).format(this.dateFormat)}),this.showRegenerateBtn=!0,this._messageService.open("Connection code generated successfully")},t=>{this._messageService.open("Connection code not generated")})}get sf(){return this.securityForm.controls}closeDialog(){this._detailsDialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se.G),e.Y36(ce.Z),e.Y36(_.qu),e.Y36(hs.I),e.Y36(Rc.Z),e.Y36(z.WI),e.Y36(z.so),e.Y36(nk),e.Y36(XS),e.Y36(Dh.X),e.Y36(Y.eN),e.Y36(zW))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-security"]],decls:14,vars:5,consts:[[1,"container-fluid","overflow-hidden"],[1,"row"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["novalidate","","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","","class","connection-code-form","autocomplete","off",3,"formGroup",4,"ngIf"],["class","row d-flex justify-content-end mt-3",4,"ngIf"],["novalidate","","autocomplete","off",3,"formGroup","ngSubmit"],["df","ngForm"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-6"],["for","minimumLength",1,"form-label","securityLabel"],["id","minimumLength","type","number","name","minimumLength","formControlName","minimumLength","min","6","max","99","required","","numbersOnlyMask","",1,"securityinput","form-control","form-control-sm","form-input",3,"ngClass"],["class","error-msg",4,"ngIf"],["for","minimumUpperCharacters",1,"form-label","securityLabel"],["id","minimumUpperCharacters","type","number","name","minimumUpperCharacters","formControlName","minimumUpperCharacters","min","0","max","99","numbersOnlyMask","",1,"securityinput","form-control","form-control-sm","form-input",3,"ngClass"],["for","minimumSpecialCharacters",1,"form-label","securityLabel"],["id","minimumSpecialCharacters","type","number","name","minimumSpecialCharacters","formControlName","minimumSpecialCharacters","min","0","max","99","numbersOnlyMask","",1,"securityinput","form-control","form-control-sm","form-input",3,"ngClass"],["for","minimumNumericCharacters",1,"form-label","securityLabel"],["id","minimumNumericCharacters","type","number","name","minimumNumericCharacters","formControlName","minimumNumericCharacters","min","0","max","99","numbersOnlyMask","",1,"securityinput","form-control","form-control-sm","form-input",3,"ngClass"],[1,"error-msg"],["for","daysBeforePasswordExpires",1,"form-label","securityLabel"],["id","daysBeforePasswordExpires","type","number","name","daysBeforePasswordExpires","formControlName","daysBeforePasswordExpires","min","1","max","99","numbersOnlyMask","",1,"securityinput","form-control","form-control-sm","form-input",3,"ngClass"],["novalidate","","autocomplete","off",1,"connection-code-form",3,"formGroup"],["mf","ngForm"],[1,"form-group","row"],[1,"col-12","justify-content-start","align-center"],[1,"col-md-6","code-input"],["for","mobileAppCode",1,"form-label","input-label"],["id","mobileAppCode","type","text","name","mobileAppCode","formControlName","mobileAppCode","readonly","",1,"form-control","form-control-sm","form-input","input-text"],[1,"code-help-text"],["aria-hidden","true",1,"fa","fa-question-circle-o"],[1,"col-md-12"],[1,"eSolveHr"],["for","date",1,"form-label","input-label"],["id","date","type","text","name","date","formControlName","date","readonly","",1,"form-control","form-control-sm","form-input","input-text"],["src","assets/icons/calendar-icon.png",1,"eSolve_datePicker_calendar_icon_img"],[1,"row","d-flex","justify-content-end","mt-3"],["type","button","id","cancel_button",1,"eSolve-button","eSolve-dark-blue-button","mr-3",3,"click"],["class","eSolve-button eSolve-blue-button mr-3","id","submit_button",3,"click",4,"ngIf"],["class","eSolve-button eSolve-blue-button mr-3 generateCodeBtn","id","submit_button",3,"click",4,"ngIf"],["id","submit_button",1,"eSolve-button","eSolve-blue-button","mr-3",3,"click"],["id","submit_button",1,"eSolve-button","eSolve-blue-button","mr-3","generateCodeBtn",3,"click"],["for","serverURL",1,"form-label","input-label"],["id","serverURL","type","text","name","serverURL","formControlName","serverURL",1,"form-control","form-control-sm","form-input","input-text"],["for","serverKey",1,"form-label","input-label"],["id","serverKey","type","text","name","serverKey","formControlName","serverKey",1,"form-control","form-control-sm","form-input","input-text"],["id","submit_button",1,"eSolve-button","eSolve-blue-button","mr-3","push-btn-width",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.YNc(10,vQ,4,3,"form",8),e.YNc(11,bQ,26,2,"form",9),e.YNc(12,CQ,5,2,"div",10),e.YNc(13,TQ,30,1,"form",9),e.qZA()),2&t&&(e.xp6(6),e.hij(" ",i.pageTitle," "),e.xp6(4),e.Q6J("ngIf",i.securityForm),e.xp6(1),e.Q6J("ngIf",i.showMobileApp),e.xp6(1),e.Q6J("ngIf",!i.showPushNotificationService),e.xp6(1),e.Q6J("ngIf",i.showPushNotificationService))},dependencies:[D.mk,D.O5,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.qQ,_.Fd,_.sg,_.u,$n,mo],styles:[".table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;padding-top:6px;margin-left:0}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;overflow-wrap:break-word}.g-thin-black-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #0000004d;border-radius:10px;background-color:#f5f5f5}.g-thin-black-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;background-color:#f5f5f5}.g-thin-black-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 6px #0000004d;background-color:#555}.security-container[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.securityinput[_ngcontent-%COMP%]{width:70px;font-size:12px}.securityLabel[_ngcontent-%COMP%]{margin-bottom:0;font-size:11px}.error-msg[_ngcontent-%COMP%]{color:var(--eSolve-red);font-size:12px}.error-input[_ngcontent-%COMP%]{border-color:var(--eSolve-red)}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.mobileCodeInput[_ngcontent-%COMP%]{font-size:12px}.generateCodeBtn[_ngcontent-%COMP%]{width:190px!important}.connection-code-form[_ngcontent-%COMP%]{margin:5px 0 10px}.input-label[_ngcontent-%COMP%]{color:#666679;font-size:12px;font-weight:600;margin-bottom:6px}.code-input[_ngcontent-%COMP%]{font-size:12px;padding-left:0}.input-text[_ngcontent-%COMP%]{font-size:12px}.code-help-text[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:.25rem;margin-block:2px 0;color:#666679;font-size:.75rem}.fa[_ngcontent-%COMP%]{font-size:14px!important}.eSolve_datePicker_calendar_icon_img[_ngcontent-%COMP%]{cursor:default}.push-btn-width[_ngcontent-%COMP%]{width:215px!important}@media (max-width: 491px){#submit_button[_ngcontent-%COMP%]{margin-top:5px}}"]}),n})();function DQ(n,o){if(1&n&&(e.TgZ(0,"mat-cell",22)(1,"span",23),e._uU(2,"Name: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.name," ")}}function SQ(n,o){if(1&n&&(e.TgZ(0,"mat-cell",24)(1,"span",25),e._uU(2,"Description: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij("",t.description," ")}}function kQ(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",26)(1,"button",27),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDetailsDialog(a))}),e.TgZ(2,"p",28),e._uU(3,"View Details"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(1),e.s9C("id",t.name)}}function AQ(n,o){1&n&&e._UZ(0,"mat-row")}let MQ=(()=>{class n{constructor(t,i,r){this.dialog=t,this.http=i,this._messageService=r,this.displayedColumns=["name","type","actions"],this.data=new N.by,this.passwordConfiguration="Password strength configuration",this.passwordUpdate="Forced password update",this.mobileAppRegistration="Generate Connection Code",this.pushNotificationService="Push Notification",this.showMobileApp=!1,this.showPushNotificationService=!1,this.width="650px"}ngOnInit(){this.data=new N.by([{name:this.passwordConfiguration,description:"Facility to decide the password strength criteria for Mobile application login."},{name:this.passwordUpdate,description:"Facility to update the password expiry days.Users will be forced to update the password after provided input days."},{name:this.mobileAppRegistration,description:"Facility to generate a connection code required by Mobile Application users. The connection code ensures employees can login to the app and manage their Schedule."},{name:this.pushNotificationService,description:"Facility to enable the Push Notification service for Mobile App users"}])}openDetailsDialog(t){t.name==this.passwordConfiguration?this.showPasswordExpire=!1:t.name==this.passwordUpdate?this.showPasswordExpire=!0:t.name==this.mobileAppRegistration?(this.showMobileApp=!0,this.width="500px"):t.name==this.pushNotificationService&&(this.showPushNotificationService=!0),this.dialog.open(wQ,{autoFocus:!1,disableClose:!0,data:{showPasswordExpire:this.showPasswordExpire,showMobileApp:this.showMobileApp,showPushNotificationService:this.showPushNotificationService,pageTitle:t.name},width:this.width,panelClass:["max-height96"]}).afterClosed().subscribe(r=>{this.showPasswordExpire=!1,this.showMobileApp=!1,this.showPushNotificationService=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.uw),e.Y36(Y.eN),e.Y36(se.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-mobile-app-access"]],decls:31,vars:2,consts:[[1,"container-fluid"],[1,"row","sys-pref-tab-container"],[1,"col-12"],[1,"table-header","row"],[1,"col-sm-6","col-12","d-flex","justify-content-start"],[1,"table-header-title"],[1,"g-table-divider"],[1,"row","g-table-header"],[1,"col-12","d-flex","flex-row"],["id","halfRow"],["id","g-actions-column-width"],[1,"row"],[1,"g-thin-black-scroll-bar"],["id","asso_table_container"],["id","asso_table",3,"dataSource"],["matColumnDef","name"],["class","custom-data",4,"matCellDef"],["matColumnDef","type"],["class","custom-data hidden-on-small-screen",4,"matCellDef"],["matColumnDef","actions"],["class","hidden-on-small-screen visible-on-small-screen-370px",4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],[1,"custom-data"],[1,"mobile-label","hidden-on-small-screen"],[1,"custom-data","hidden-on-small-screen"],[1,"mobile-label"],[1,"hidden-on-small-screen","visible-on-small-screen-370px"],[1,"btn","details-button","pull-right","border-none",3,"id","click"],[1,"CD-btn-text"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Mobile Application Access"),e.qZA()()(),e._UZ(7,"hr",6),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"p"),e._uU(12,"Name"),e.qZA()(),e.TgZ(13,"div",9)(14,"p"),e._uU(15,"Description"),e.qZA()(),e.TgZ(16,"div",10)(17,"p"),e._uU(18,"Actions"),e.qZA()()()(),e.TgZ(19,"div",11)(20,"div",2)(21,"div",12)(22,"div",13)(23,"mat-table",14),e.ynx(24,15),e.YNc(25,DQ,4,1,"mat-cell",16),e.BQk(),e.ynx(26,17),e.YNc(27,SQ,4,1,"mat-cell",18),e.BQk(),e.ynx(28,19),e.YNc(29,kQ,4,1,"mat-cell",20),e.BQk(),e.YNc(30,AQ,1,0,"mat-row",21),e.qZA()()()()()()()()),2&t&&(e.xp6(23),e.Q6J("dataSource",i.data),e.xp6(7),e.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[N.BZ,N.w1,N.Dz,N.nj,N.ev,N.Gk],styles:[".table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;padding-top:6px;margin-left:0}#halfRow[_ngcontent-%COMP%]{width:calc((100% - 115px)/2);border-bottom:1px solid rgba(0,0,0,.12)}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 410px);overflow-wrap:break-word}.custom-data[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f;width:100%}.mobile-label[_ngcontent-%COMP%]{display:none}.details-button[_ngcontent-%COMP%]{height:30px;width:110px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:none}.border-none[_ngcontent-%COMP%]{border:none}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0 0 115px;flex:0 0 115px}th[_ngcontent-%COMP%]{font-weight:600;font-size:12px;color:#42536f}td.mat-column-type[_ngcontent-%COMP%]{font-weight:700;font-size:12px;color:#565d6f}.mat-column-type[_ngcontent-%COMP%]{position:relative;width:33.33%}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}  .mat-tab-body.mat-tab-body-active{overflow:hidden!important}  .mat-tab-body-content{overflow:hidden!important}.visible-on-small-screen[_ngcontent-%COMP%]{display:none!important}mat-cell[_ngcontent-%COMP%]:first-of-type, mat-footer-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-cell[_ngcontent-%COMP%]:last-of-type, mat-footer-cell[_ngcontent-%COMP%]:last-of-type, mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:5px}@media (max-width: 860px){.mobile-label[_ngcontent-%COMP%]{width:40px;display:inline-block;color:#565d6f;font-weight:400}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start;height:100px}.g-table-header[_ngcontent-%COMP%]{display:none}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex:0;flex:0}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}.visible-on-small-screen[_ngcontent-%COMP%]{display:table-cell!important;margin-left:auto}mat-row[_ngcontent-%COMP%]{height:65px!important}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:0px}}@media (max-width: 576px){.add-job-type-button-div[_ngcontent-%COMP%]{-ms-flex-pack:start!important;justify-content:flex-start!important}.mat-column-type[_ngcontent-%COMP%]{width:100%}}@media (max-width: 370px){.visible-on-small-screen[_ngcontent-%COMP%]{display:none!important}.visible-on-small-screen-370px[_ngcontent-%COMP%]{display:table-cell!important}mat-footer-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%]{min-height:30px}}"]}),n})();function OQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Custom Data "),e.qZA())}function PQ(n,o){1&n&&(e.TgZ(0,"mat-tab",21),e.YNc(1,OQ,2,0,"ng-template",22),e._UZ(2,"app-custom-data"),e.qZA())}function EQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Security "),e.qZA())}function IQ(n,o){1&n&&(e.TgZ(0,"mat-tab",24),e.YNc(1,EQ,2,0,"ng-template",22),e._UZ(2,"app-advanced-sso"),e.qZA())}function NQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Dates "),e.qZA())}function RQ(n,o){1&n&&(e.TgZ(0,"mat-tab",25),e.YNc(1,NQ,2,0,"ng-template",22),e._UZ(2,"app-dates"),e.qZA())}function FQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Jobs "),e.qZA())}function ZQ(n,o){1&n&&(e.TgZ(0,"mat-tab",26),e.YNc(1,FQ,2,0,"ng-template",22),e._UZ(2,"app-jobs"),e.qZA())}function LQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Schedule "),e.qZA())}function UQ(n,o){1&n&&(e.TgZ(0,"mat-tab",27),e.YNc(1,LQ,2,0,"ng-template",22),e._UZ(2,"app-schedule"),e.qZA())}function jQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Employee Data "),e.qZA())}function YQ(n,o){1&n&&(e.TgZ(0,"mat-tab",28),e.YNc(1,jQ,2,0,"ng-template",22),e._UZ(2,"app-employees"),e.qZA())}function qQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Mobile Application "),e.qZA())}function JQ(n,o){1&n&&(e.TgZ(0,"mat-tab",29),e.YNc(1,qQ,2,0,"ng-template",22),e._UZ(2,"app-mobile-app-access"),e.qZA())}function HQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Email "),e.qZA())}function BQ(n,o){1&n&&(e.TgZ(0,"mat-tab",30),e.YNc(1,HQ,2,0,"ng-template",22),e._UZ(2,"app-email-preferences"),e.qZA())}function VQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Special Dates "),e.qZA())}function GQ(n,o){1&n&&(e.TgZ(0,"mat-tab",31),e.YNc(1,VQ,2,0,"ng-template",22),e._UZ(2,"app-special-dates"),e.qZA())}function WQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Absence Codes "),e.qZA())}function QQ(n,o){1&n&&(e.TgZ(0,"mat-tab",32),e.YNc(1,WQ,2,0,"ng-template",22),e._UZ(2,"app-absence-codes"),e.qZA())}function zQ(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," GDPR "),e.qZA())}function KQ(n,o){1&n&&(e.TgZ(0,"mat-tab",33),e.YNc(1,zQ,2,0,"ng-template",22),e._UZ(2,"app-gdpr"),e.qZA())}function $Q(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Shifts "),e.qZA())}function XQ(n,o){1&n&&(e.TgZ(0,"mat-tab",34),e.YNc(1,$Q,2,0,"ng-template",22),e._UZ(2,"app-shifts"),e.qZA())}function ez(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Agency "),e.qZA())}function tz(n,o){1&n&&(e.TgZ(0,"mat-tab",35),e.YNc(1,ez,2,0,"ng-template",22),e._UZ(2,"app-agency"),e.qZA())}function nz(n,o){1&n&&(e.TgZ(0,"p",23),e._uU(1," Licensing "),e.qZA())}function iz(n,o){1&n&&(e.TgZ(0,"mat-tab",36),e.YNc(1,nz,2,0,"ng-template",22),e._UZ(2,"app-licensing"),e.qZA())}let rz=(()=>{class n{constructor(t,i,r,a,s,l,c){this.titleService=t,this._userRoleService=i,this._router=r,this._zone=a,this._ref=s,this._profileService=l,this._userService=c,this.pageTitle="Settings > System Preferences",this.applicationHasLicense=!1,this.canAccessGDPR=!1,this.canAccessShift=!1,this.canAssignAgency=!1,this.canSeeLicenseTab=!1,this.ngUnsubscribe=new b.x,this.canSeeAdvancedSSOTabShow=!1,r.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&a.run(()=>this._ref.detectChanges())})}ngOnInit(){this.isSuperAdmin=localStorage.getItem("isSuperAdmin"),this.titleService.sendTitle(this.pageTitle),this.canSeeAdvancedSSOTabShow="true"==localStorage.getItem("isSsoUserAdmin"),this.getRole(),this.fetchProfilePermissions()}ngOnDestroy(){this.ngUnsubscribe.next(void 0),this.ngUnsubscribe.complete()}getRole(){this._userRoleService.loggedUserRole.subscribe(t=>{this.role=t})}setTabsAccess(){setTimeout(()=>{null!=this.accessPermissions?"User"==this.role&&(this.applicationHasLicense=this.accessPermissions.applicationHasLicense,this.canAccessGDPR=this.accessPermissions.canUserAccessGDPRDataDelete,this.canAccessShift=this.accessPermissions.canUserAccessShifts,this.canAssignAgency=this.accessPermissions.canUserAssignAgency,this.canSeeLicenseTab=this.accessPermissions.canSeeLicenseTab):(this.canAccessGDPR=!1,this.canAccessShift=!1,this.canAssignAgency=!1,this.canSeeLicenseTab=!1)},200)}fetchProfilePermissions(){let t=new b.x;this._profileService.getProfilePermissions().pipe((0,H.R)(t)).subscribe(i=>{this.accessPermissions=i,this.setTabsAccess(),t.next(void 0),t.complete()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(qi.J),e.Y36(q.F0),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(yr.H),e.Y36(jn))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-system-preferences"]],decls:22,vars:14,consts:[[1,"container-fluid","sys-pref"],[1,"table-container","sys-pref"],[1,"table-header","row"],[1,"leftSide","header-left","d-flex","justify-content-between"],[1,"table-header-title"],[1,"table-divider"],[1,"sys-pref-mat-group"],["label","Custom Data",4,"ngIf"],["label","Advanced SSO",4,"ngIf"],["label","Dates",4,"ngIf"],["label","Jobs",4,"ngIf"],["label","Schedule",4,"ngIf"],["label","Employee Data",4,"ngIf"],["label","Security",4,"ngIf"],["label","Email",4,"ngIf"],["label","Special Dates",4,"ngIf"],["label","Absence Codes",4,"ngIf"],["label","GDPR",4,"ngIf"],["label","Shifts",4,"ngIf"],["label","Agency",4,"ngIf"],["label","Licensing",4,"ngIf"],["label","Custom Data"],["mat-tab-label",""],[1,"p_assing","font-size-12px"],["label","Advanced SSO"],["label","Dates"],["label","Jobs"],["label","Schedule"],["label","Employee Data"],["label","Security"],["label","Email"],["label","Special Dates"],["label","Absence Codes"],["label","GDPR"],["label","Shifts"],["label","Agency"],["label","Licensing"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5,"System Preferences"),e.qZA()()(),e._UZ(6,"hr",5),e.TgZ(7,"mat-tab-group",6),e.YNc(8,PQ,3,0,"mat-tab",7),e.YNc(9,IQ,3,0,"mat-tab",8),e.YNc(10,RQ,3,0,"mat-tab",9),e.YNc(11,ZQ,3,0,"mat-tab",10),e.YNc(12,UQ,3,0,"mat-tab",11),e.YNc(13,YQ,3,0,"mat-tab",12),e.YNc(14,JQ,3,0,"mat-tab",13),e.YNc(15,BQ,3,0,"mat-tab",14),e.YNc(16,GQ,3,0,"mat-tab",15),e.YNc(17,QQ,3,0,"mat-tab",16),e.YNc(18,KQ,3,0,"mat-tab",17),e.YNc(19,XQ,3,0,"mat-tab",18),e.YNc(20,tz,3,0,"mat-tab",19),e.YNc(21,iz,3,0,"mat-tab",20),e.qZA()()()),2&t&&(e.xp6(8),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense&&i.canSeeAdvancedSSOTabShow),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense&&"true"==i.isSuperAdmin),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf",i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","User"==i.role&&i.canAccessGDPR&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","User"==i.role&&i.canAccessShift&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","User"==i.role&&i.canAssignAgency&&i.applicationHasLicense),e.xp6(1),e.Q6J("ngIf","User"==i.role&&i.canSeeLicenseTab))},dependencies:[D.O5,Ts.SP,Ts.uD,Ts.uX,QS,W8,hV,SV,qV,eG,CG,NG,YG,aW,TW,EW,QW,MQ],styles:[".table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:16px;font-weight:700;padding-top:6px;position:relative;margin-left:15px;margin-bottom:10px;text-align:center}.leftSide[_ngcontent-%COMP%]{position:relative;width:100%;padding-right:15px}  .mat-tab-label{min-width:100px!important;margin-bottom:-5px;padding:0 10px!important;font-weight:700}  .mat-tab-label span{background-color:gray}  .mat-tab-label-container{margin-left:15px;margin-right:15px}  .mat-ink-bar{background-color:var(--eSolve-primary)!important}.p_assing.font-size-12px[_ngcontent-%COMP%]{color:#42536f}.sys-pref-mat-group[_ngcontent-%COMP%]{height:auto;height:initial}.container-fluid.sys-pref[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%;height:auto;height:initial}.table-container.sys-pref[_ngcontent-%COMP%]{position:relative;min-height:100px;border:1px solid #e1e6ec;border-radius:5px;width:100%;padding:27px;background-color:#fff;height:100%}"]}),n})();class oz{constructor(o,t,i,r,a,s,l,c,u,h,x,T,O,U){this.managers=o,this.genders=t,this.employeeProfiles=i,this.locations=r,this.departments=a,this.costCodes=s,this.divisions=l,this.jobTitles=c,this.teams=u,this.classes=h,this.jobTypes=x,this.targetRuleGroups=T,this.workRules=O,this.notifications=U}}var Ei=J(41777);const az={id:"number",employeeNumber:"string",firstname:"string",surname:"string",profileID:"number",genderID:"number",employeeLocations:"Array<number>",departmentID:"number",costCodeID:"number",divisionID:"number",jobTitleID:"number",teamID:"number",classID:"number",jobTypeID:"number",targetRuleGroupID:"number",WorkRuleID:"number",notificationTypeID:"number",managerID:"number",startDate:"Date",leaveDate:"Date",address1:"string",address2:"string",address3:"string",address4:"string",dateOfBirth:"Date",telephoneNumber:"number",mobileNumber:"number",payRate:"number",maxHours1:"number",maxHours2:"number",maxHours3:"number",maxHours4:"number",maxHours5:"number",allowedTrade:"boolean",availability:"boolean",email:"string",password:"string",confirmPassword:"string",username:"string",image:"string",isAccessEmailSent:"boolean",weeklyHours:"number"};class gp{constructor(o,t,i,r,a){this.id=o,this.employeeId=t,this.dayOfWeek=i,this.startTime=r,this.endTime=a}}var ma=function(){return(n=ma||(ma={}))[n.Up=1]="Up",n[n.Down=3]="Down",n[n.Right=6]="Right",n[n.Left=8]="Left",n[n.UpMirrored=2]="UpMirrored",n[n.DownMirrored=4]="DownMirrored",n[n.LeftMirrored=5]="LeftMirrored",n[n.RightMirrored=7]="RightMirrored",n[n.Default=0]="Default",n[n.NotJpeg=-1]="NotJpeg",n[n.NotDefined=-2]="NotDefined",ma;var n}(),dr=(0,M.Z)(function n(){(0,I.Z)(this,n)});dr.getOrientation=function(n){return new Promise(function(o,t){try{var i=new FileReader;i.onload=function(){var r=new DataView(i.result);if(!r.byteLength||65496!==r.getUint16(0,!1))return o(ma.NotDefined);for(var a=r.byteLength,s=2;s<a;){var l=r.getUint16(s,!1);if(s+=2,65505===l){if(1165519206!==r.getUint32(s+=2,!1))return o(ma.NotJpeg);var c=18761===r.getUint16(s+=6,!1);s+=r.getUint32(s+4,c);var u=r.getUint16(s,c);s+=2;for(var h=0;h<u;h++)if(274===r.getUint16(s+12*h,c))return o(r.getUint16(s+12*h+8,c))}else{if(65280!=(65280&l))break;s+=r.getUint16(s,!1)}}return o(ma.NotJpeg)},i.readAsArrayBuffer(n)}catch(r){return t(ma.Default)}})},dr.uploadFile=function(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(i,r){var a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);Promise.resolve(a).then(function(s){return s?dr.generateUploadInputNative(window.document,o,t):dr.generateUploadInputRenderer(n,o,t)}).then(function(s){var l=s?Array.from(s):[],c=l.map(function(x){return dr.getOrientation(x)}),u=l.map(function(x){return dr.fileToDataURL(x)}),h=[];Promise.all(c).then(function(x){return h=x,Promise.all(u)}).then(function(x){var T=x.map(function(O,U){return{image:O.dataUrl,orientation:h[U],fileName:O.fileName}});i(o?T:T[0])})}).catch(function(s){return r(s)})})},dr.fileToDataURL=function(n){return new Promise(function(o,t){var i=new FileReader;i.onload=function(r){o({dataUrl:r.target.result,fileName:n.name})};try{i.readAsDataURL(n)}catch(r){t("ngx-image-compress - probably no file have been selected: ".concat(r))}})},dr.generateUploadInputRenderer=function(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1;return new Promise(function(r,a){var s=n.createElement("input");n.setStyle(s,"display","none"),n.setProperty(s,"type","file"),n.setProperty(s,"accept","image/*"),o&&n.setProperty(s,"multiple","true"),n.listen(s,"click",function(l){l.target.value=""}),n.listen(s,"change",function(l){i=!0,r(l.target.files)}),t&&window.addEventListener("focus",function(){setTimeout(function(){i||a(new Error("file upload on blur - no file selected"))},300)},{once:!0}),s.click()})},dr.generateUploadInputNative=function(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1;return new Promise(function(r,a){var s=n.createElement("input");s.id="upload-input"+new Date,s.style.display="none",s.setAttribute("type","file"),o&&s.setAttribute("multiple","true"),n.body.appendChild(s),s.addEventListener("change",function(){i=!0,r(s.files),n.body.removeChild(n.getElementById(s.id))},{once:!0}),t&&window.addEventListener("focus",function(){setTimeout(function(){!i&&n.getElementById(s.id)&&(a(new Error("file upload on blur - no file selected")),n.body.removeChild(n.getElementById(s.id)))},300)},{once:!0}),s.click()})},dr.compress=function(n,o,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return new Promise(function(l,c){r/=100,i/=100;var u=new Image;u.onload=function(){var h=t.createElement("canvas"),x=h.getContext("2d");if(!x)return c("No canvas context available");var T=u.naturalWidth,O=u.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(o===ma.Right||o===ma.Left)){var U=T;T=O,O=U}i=Math.min(i,a?a/T:1,s?s/O:1),h.width=T*i,h.height=O*i;var ve=Math.PI/180;CSS.supports("image-orientation","from-image")||o===ma.Up?x.drawImage(u,0,0,h.width,h.height):o===ma.Right?(x.save(),x.rotate(90*ve),x.translate(0,-h.width),x.drawImage(u,0,0,h.height,h.width),x.restore()):o===ma.Left?(x.save(),x.rotate(-90*ve),x.translate(-h.width,0),x.drawImage(u,0,0,h.height,h.width),x.restore()):o===ma.Down?(x.save(),x.rotate(180*ve),x.translate(-h.width,-h.height),x.drawImage(u,0,0,h.width,h.height),x.restore()):x.drawImage(u,0,0,h.width,h.height);var Ne=n.substr(5,n.split(";")[0].length-5),De=h.toDataURL(Ne,r);l(De)},u.onerror=function(h){return c(h)},u.src=n})},dr.byteCount=function(n){return encodeURI(n).split(/%..|./).length-1},dr.getImageMaxSize=function(n,o,t){return(0,Ug.mG)(void 0,void 0,void 0,(0,U1.Z)().mark(function i(){var r,a,s,l,c,u,h;return(0,U1.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return r=10,a=function(U){return(U/1024/1024).toFixed(2)},o&&console.debug("NgxImageCompress - Opening upload window"),T.next=5,dr.uploadFile(t,!1);case 5:s=T.sent,c=0;case 7:if(!(c<r)){T.next=37;break}return u=dr.byteCount(s.image),T.next=11,dr.compress(s.image,s.orientation,t,50,100);case 11:if(h=dr.byteCount(l=T.sent),console.debug("NgxImageCompress -","Compression from",a(u),"MB to",a(h),"MB"),!(h>=u)){T.next=24;break}if(0!==c){T.next=20;break}throw o&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",a(u),"MB large"),s.image;case 20:throw o&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",a(u),"MB large"),s.image;case 22:T.next=32;break;case 24:if(!(h<1024*n*1024)){T.next=29;break}return o&&console.debug("NgxImageCompress -","Here your file",a(h),"MB large"),T.abrupt("return",l);case 29:if(9!==c){T.next=32;break}throw o&&console.debug("NgxImageCompress -","File can't reach the desired size after",r,"tries. Returning file ",a(u),"MB large"),s.image;case 32:o&&console.debug("NgxImageCompress -","Reached",a(h),"MB large. Trying another time after",c+1,"times"),s.image=l;case 34:c++,T.next=7;break;case 37:throw o&&console.debug("NgxImageCompress - Unexpected error"),"";case 39:case"end":return T.stop()}},i)}))};var Lx=function(){var n=function(){function o(t){(0,I.Z)(this,o),this.DOC_ORIENTATION=ma,this.render=t.createRenderer(null,null)}return(0,M.Z)(o,[{key:"byteCount",value:function(i){return dr.byteCount(i)}},{key:"getOrientation",value:function(i){return dr.getOrientation(i)}},{key:"uploadFile",value:function(){return dr.uploadFile(this.render,!1)}},{key:"uploadMultipleFiles",value:function(){return dr.uploadFile(this.render,!0)}},{key:"uploadFileOrReject",value:function(){return dr.uploadFile(this.render,!1,!0)}},{key:"uploadMultipleFilesOrReject",value:function(){return dr.uploadFile(this.render,!0,!0)}},{key:"compressFile",value:function(i,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return dr.compress(i,r,this.render,a,s,l,c)}},{key:"uploadAndGetImageWithMaxSize",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return dr.getImageMaxSize(i,r,this.render)}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.FYo))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}();const lz=["employeeTabs"],cz=["skillsTab"];function dz(n,o){if(1&n&&e._UZ(0,"img",24),2&n){const t=e.oxw();e.Q6J("src",t.sanitizeExistingDetails(),e.LSH)}}function uz(n,o){1&n&&e._UZ(0,"img",25)}function pz(n,o){if(1&n&&(e.TgZ(0,"label",26),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.currentEmployeeObject.firstname," ",t.currentEmployeeObject.surname," ")}}function fz(n,o){if(1&n&&(e.TgZ(0,"label",26),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.displayName," ")}}function hz(n,o){if(1&n&&e.YNc(0,fz,2,1,"label",27),2&n){const t=e.oxw();e.Q6J("ngIf","Employee"===t.role&&!t.canAccessPersonalPanel&&t.selectedEmployeeId>0)}}function mz(n,o){if(1&n&&(e.TgZ(0,"div",33)(1,"div",34)(2,"label",35),e._uU(3),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t," ")}}function gz(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div")(2,"label",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.showAllSkills())}),e._uU(3," See All "),e.qZA()()()}}function _z(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",28)(2,"label",29),e._uU(3," Skills: "),e.qZA()(),e.TgZ(4,"div",30),e.YNc(5,mz,4,1,"div",31),e.ALo(6,"slice"),e.YNc(7,gz,4,0,"div",32),e.qZA()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",e.Dn7(6,2,t.empSkills,0,5)),e.xp6(2),e.Q6J("ngIf",t.empSkills.length>0)}}function vz(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",28)(2,"label",37),e._uU(3," Phone: "),e.qZA()(),e.TgZ(4,"div",38)(5,"label",39),e._uU(6),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.hij(" ",t.currentEmployeeObject.telephoneNumber," ")}}function bz(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",28)(2,"label",37),e._uU(3," Email: "),e.qZA()(),e.TgZ(4,"div",40)(5,"label",41),e._uU(6),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.hij(" ",t.currentEmployeeObject.email," ")}}function yz(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",28)(2,"label",37),e._uU(3," Employee No: "),e.qZA()(),e.TgZ(4,"div",38)(5,"label",42),e._uU(6),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.hij(" ",t.currentEmployeeObject.employeeNumber," ")}}function xz(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",43)(2,"button",44,45),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.sendSystemAccessEmail())}),e._uU(4," Send System Access email "),e.qZA()()()}}function Cz(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,xz,5,0,"div",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showAccessEmailBtn&&"User"==t.role)}}function Tz(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",43)(2,"button",46,45),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.sendSystemAccessEmail())}),e._uU(4," Resend System Access email "),e.qZA()()()}}function wz(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Tz,5,0,"div",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showAccessEmailBtn&&"User"==t.role)}}function Dz(n,o){1&n&&(e.TgZ(0,"i",101),e._uU(1," ! "),e.qZA())}function Sz(n,o){if(1&n&&(e.TgZ(0,"i",99),e._uU(1," Personal\xa0\xa0 "),e.qZA(),e.YNc(2,Dz,2,0,"i",100)),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",((null==t.f.firstname?null:t.f.firstname.touched)&&(null==t.f.firstname?null:t.f.firstname.errors)||(null==t.f.email?null:t.f.email.touched)&&(null==t.f.email?null:t.f.email.errors)||(null==t.f.surname?null:t.f.surname.touched)&&(null==t.f.surname?null:t.f.surname.errors)||(null==t.f.telephoneNumber?null:t.f.telephoneNumber.touched)&&(null==t.f.telephoneNumber?null:t.f.telephoneNumber.errors)||(null==t.f.mobileNumber?null:t.f.mobileNumber.touched)&&(null==t.f.mobileNumber?null:t.f.mobileNumber.errors)||(null==t.f.startDate?null:t.f.startDate.touched)&&(null==t.f.startDate?null:t.f.startDate.errors)||(null==t.f.leaveDate?null:t.f.leaveDate.touched)&&(null==t.f.leaveDate?null:t.f.leaveDate.errors))&&!t.newEmployeeSaving)}}function kz(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Employee Number ",t.message.inUse," ")}}function Az(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Employee Number ",t.message.specialCharacter," ")}}function Mz(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Leave date must be after start date. "),e.qZA())}function Oz(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function Pz(n,o){if(1&n&&(e.TgZ(0,"div",102),e.YNc(1,Mz,2,0,"div",21),e.YNc(2,Oz,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.leaveDate.errors?null:t.f.leaveDate.errors.invalidDate),e.xp6(1),e.Q6J("ngIf",(null==t.f.leaveDate.errors?null:t.f.leaveDate.errors.matDatepickerParse)||(null==t.f.leaveDate.errors?null:t.f.leaveDate.errors.minlength))}}function Ez(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Telephone Number",t.message.telephoneConsists," ")}}function Iz(n,o){if(1&n&&(e.TgZ(0,"div",102),e.YNc(1,Ez,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.telephoneNumber.errors?null:t.f.telephoneNumber.errors.pattern)}}function Nz(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Mobile Number",t.message.telephoneConsists," ")}}function Rz(n,o){if(1&n&&(e.TgZ(0,"div",102),e.YNc(1,Nz,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.mobileNumber.errors?null:t.f.mobileNumber.errors.pattern)}}function Fz(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function Zz(n,o){if(1&n&&(e.TgZ(0,"div",102),e.YNc(1,Fz,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",(null==t.f.dateOfBirth.errors?null:t.f.dateOfBirth.errors.matDatepickerParse)||(null==t.f.dateOfBirth.errors?null:t.f.dateOfBirth.errors.minlength))}}function Lz(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name,"")}}function Uz(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.maxInput," 256. ")}}function jz(n,o){if(1&n&&(e.TgZ(0,"div",102),e.YNc(1,Uz,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.address1.errors?null:t.f.address1.errors.maxlength)}}function Yz(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.maxInput," 256. ")}}function qz(n,o){if(1&n&&(e.TgZ(0,"div",102),e.YNc(1,Yz,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.address2.errors?null:t.f.address2.errors.maxlength)}}function Jz(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.maxInput," 256. ")}}function Hz(n,o){if(1&n&&(e.TgZ(0,"div",102),e.YNc(1,Jz,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.address3.errors?null:t.f.address3.errors.maxlength)}}function Bz(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.maxInput," 256. ")}}function Vz(n,o){if(1&n&&(e.TgZ(0,"div",102),e.YNc(1,Bz,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.address4.errors?null:t.f.address4.errors.maxlength)}}function Gz(n,o){1&n&&e.GkF(0)}function Wz(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tab"),e.YNc(1,Sz,3,1,"ng-template",58),e.TgZ(2,"div",59)(3,"div",60)(4,"label",61),e._uU(5," Employee Number: "),e.qZA(),e.TgZ(6,"input",62),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.checkInput(r.target.value,"employeeNumber"))})("keyup",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.checkInput(r.target.value,"employeeNumber"))}),e.qZA(),e.YNc(7,kz,2,1,"div",63),e.YNc(8,Az,2,1,"div",63),e.TgZ(9,"label",64),e._uU(10,"First Name*:"),e.qZA(),e._UZ(11,"input",65),e.TgZ(12,"label",66),e._uU(13," Last Name*: "),e.qZA(),e._UZ(14,"input",67),e.qZA(),e.TgZ(15,"div",60)(16,"div",4)(17,"div",68)(18,"label",69),e._uU(19," Start Date*: "),e.qZA(),e._UZ(20,"input",70)(21,"img",71)(22,"mat-datepicker",null,72),e.qZA()(),e.TgZ(24,"div",4)(25,"div",68)(26,"label",73),e._uU(27," Leave Date: "),e.qZA(),e._UZ(28,"input",74),e.TgZ(29,"img",75),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(31);return e.KtG(r.open())}),e.qZA(),e._UZ(30,"mat-datepicker",null,76),e.YNc(32,Pz,3,2,"div",63),e.qZA()(),e.TgZ(33,"label",77),e._uU(34," Email*: "),e.qZA(),e._UZ(35,"input",78),e.qZA(),e.TgZ(36,"div",79)(37,"label",80),e._uU(38," Telephone Number: "),e.qZA(),e._UZ(39,"input",81),e.YNc(40,Iz,2,1,"div",63),e.TgZ(41,"label",82),e._uU(42," Mobile Number: "),e.qZA(),e._UZ(43,"input",83),e.YNc(44,Rz,2,1,"div",63),e.TgZ(45,"div",4)(46,"div",68)(47,"label",84),e._uU(48," Date of Birth: "),e.qZA(),e._UZ(49,"input",85),e.TgZ(50,"img",75),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(52);return e.KtG(r.open())}),e.qZA(),e._UZ(51,"mat-datepicker",null,86),e.YNc(53,Zz,2,1,"div",63),e.qZA()(),e.TgZ(54,"label",87),e._uU(55,"Gender:"),e.qZA(),e.TgZ(56,"ng-select",88),e.YNc(57,Lz,2,2,"ng-option",89),e.qZA()(),e.TgZ(58,"div",60)(59,"label",90),e._uU(60," Address 1: "),e.qZA(),e._UZ(61,"input",91),e.YNc(62,jz,2,1,"div",63),e.TgZ(63,"label",92),e._uU(64," Address 2: "),e.qZA(),e._UZ(65,"input",93),e.YNc(66,qz,2,1,"div",63),e.TgZ(67,"label",94),e._uU(68," Address 3: "),e.qZA(),e._UZ(69,"input",95),e.YNc(70,Hz,2,1,"div",63),e.TgZ(71,"label",96),e._uU(72," Address 4: "),e.qZA(),e._UZ(73,"input",97),e.YNc(74,Vz,2,1,"div",63),e.qZA()(),e.YNc(75,Gz,1,0,"ng-container",98),e.qZA()}if(2&n){const t=e.MAs(23),i=e.MAs(31),r=e.MAs(52);e.oxw();const a=e.MAs(13),s=e.oxw(2);e.xp6(6),e.Q6J("readOnly",!0),e.xp6(1),e.Q6J("ngIf",null==s.f.employeeNumber.errors?null:s.f.employeeNumber.errors.invalidValue),e.xp6(1),e.Q6J("ngIf",null==s.f.employeeNumber.errors?null:s.f.employeeNumber.errors.allSpecialCharacters),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Q6J("readonly",!0),e.xp6(6),e.Q6J("dateLengthTracker",s.dateLength)("matDatepicker",t)("readonly",!0),e.xp6(8),e.s9C("placeholder",s.message.datePickerPlaceholder),e.Q6J("dateLengthTracker",s.dateLength)("matDatepicker",i),e.xp6(4),e.Q6J("ngIf",s.f.leaveDate.touched&&s.f.leaveDate.errors),e.xp6(3),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("ngIf",(null==s.f.telephoneNumber?null:s.f.telephoneNumber.touched)&&s.f.telephoneNumber.errors),e.xp6(4),e.Q6J("ngIf",(null==s.f.mobileNumber?null:s.f.mobileNumber.touched)&&s.f.mobileNumber.errors),e.xp6(5),e.s9C("placeholder",s.message.datePickerPlaceholder),e.Q6J("dateLengthTracker",s.dateLength)("matDatepicker",r),e.xp6(4),e.Q6J("ngIf",s.f.dateOfBirth.touched&&s.f.dateOfBirth.errors),e.xp6(3),e.Q6J("searchable","Modify"==s.canModifyPersonalPanel)("clearable","Modify"==s.canModifyPersonalPanel)("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",s.comboValues.genders)("ngForTrackBy",s.trackByFn),e.xp6(5),e.Q6J("ngIf",s.f.address1.errors),e.xp6(4),e.Q6J("ngIf",s.f.address2.errors),e.xp6(4),e.Q6J("ngIf",s.f.address3.errors),e.xp6(4),e.Q6J("ngIf",s.f.address4.errors),e.xp6(1),e.Q6J("ngTemplateOutlet",a)}}function Qz(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function zz(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Kz(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function $z(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Xz(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function eK(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function tK(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function nK(n,o){1&n&&e.GkF(0)}function iK(n,o){if(1&n&&(e.TgZ(0,"mat-tab",104)(1,"div",105)(2,"div",60)(3,"label",106),e._uU(4," Location: "),e.qZA(),e.TgZ(5,"ng-select",107),e.YNc(6,Qz,2,2,"ng-option",89),e.qZA(),e.TgZ(7,"label",108),e._uU(8," Department: "),e.qZA(),e.TgZ(9,"ng-select",109),e.YNc(10,zz,2,2,"ng-option",89),e.qZA()(),e.TgZ(11,"div",60)(12,"label",110),e._uU(13," Job Title: "),e.qZA(),e.TgZ(14,"ng-select",111),e.YNc(15,Kz,2,2,"ng-option",89),e.qZA(),e.TgZ(16,"label",112),e._uU(17," Cost Code: "),e.qZA(),e.TgZ(18,"ng-select",113),e.YNc(19,$z,2,2,"ng-option",89),e.qZA()(),e.TgZ(20,"div",60)(21,"label",114),e._uU(22," Division: "),e.qZA(),e.TgZ(23,"ng-select",115),e.YNc(24,Xz,2,2,"ng-option",89),e.qZA(),e.TgZ(25,"label",116),e._uU(26,"Class:"),e.qZA(),e.TgZ(27,"ng-select",117),e.YNc(28,eK,2,2,"ng-option",89),e.qZA()(),e.TgZ(29,"div",60)(30,"label",118),e._uU(31," Team: "),e.qZA(),e.TgZ(32,"ng-select",119),e.YNc(33,tK,2,2,"ng-option",89),e.qZA()()(),e.YNc(34,nK,1,0,"ng-container",98),e.qZA()),2&n){e.oxw();const t=e.MAs(13),i=e.oxw(2);e.xp6(5),e.Q6J("multiple",!0)("hideSelected",!0)("closeOnSelect",!1)("virtualScroll",!0)("readonly",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.locations)("ngForTrackBy",i.trackByFn),e.xp6(3),e.Q6J("virtualScroll",!0)("readonly",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.departments)("ngForTrackBy",i.trackByFn),e.xp6(4),e.Q6J("virtualScroll",!0)("readonly",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.jobTitles)("ngForTrackBy",i.trackByFn),e.xp6(3),e.Q6J("virtualScroll",!0)("readonly",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.costCodes)("ngForTrackBy",i.trackByFn),e.xp6(4),e.Q6J("virtualScroll",!0)("readonly",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.divisions)("ngForTrackBy",i.trackByFn),e.xp6(3),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.classes)("ngForTrackBy",i.trackByFn),e.xp6(4),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.teams)("ngForTrackBy",i.trackByFn),e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function rK(n,o){1&n&&e.GkF(0)}function oK(n,o){if(1&n&&(e.TgZ(0,"mat-tab",120)(1,"div",105)(2,"div",60)(3,"label",121),e._uU(4," Pay Rate: "),e.qZA(),e._UZ(5,"input",122),e.qZA(),e._UZ(6,"div",60)(7,"div",60),e.qZA(),e.YNc(8,rK,1,0,"ng-container",98),e.qZA()),2&n){e.oxw();const t=e.MAs(13);e.xp6(8),e.Q6J("ngTemplateOutlet",t)}}function aK(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function sK(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function lK(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function cK(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.maxInput," 5 digits. ")}}function dK(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.maxInput," 5 digits. ")}}function uK(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.maxInput," 5 digits. ")}}function pK(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.maxInput," 5 digits. ")}}function fK(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.maxInput," 5 digits. ")}}function hK(n,o){1&n&&e.GkF(0)}function mK(n,o){if(1&n&&(e.TgZ(0,"mat-tab",123)(1,"div",105)(2,"div",124)(3,"label",125),e._uU(4," Default Job Type: "),e.qZA(),e.TgZ(5,"ng-select",126),e.YNc(6,aK,2,2,"ng-option",89),e.qZA(),e.TgZ(7,"label",127),e._uU(8," Work Rules: "),e.qZA(),e.TgZ(9,"ng-select",128),e.YNc(10,sK,2,2,"ng-option",89),e.qZA(),e.TgZ(11,"label",129),e._uU(12," Target Rules: "),e.qZA(),e.TgZ(13,"ng-select",130),e.YNc(14,lK,2,2,"ng-option",89),e.qZA(),e.TgZ(15,"label",131),e._uU(16," Max Hours 1: "),e.qZA(),e._UZ(17,"input",132),e.YNc(18,cK,2,1,"div",63),e.TgZ(19,"label",133),e._uU(20," Max Hours 2: "),e.qZA(),e._UZ(21,"input",134),e.YNc(22,dK,2,1,"div",63),e.qZA(),e.TgZ(23,"div",124)(24,"label",135),e._uU(25," Max Hours 3: "),e.qZA(),e._UZ(26,"input",136),e.YNc(27,uK,2,1,"div",63),e.TgZ(28,"label",137),e._uU(29," Max Hours 4: "),e.qZA(),e._UZ(30,"input",138),e.YNc(31,pK,2,1,"div",63),e.TgZ(32,"label",139),e._uU(33," Max Hours 5: "),e.qZA(),e._UZ(34,"input",140),e.YNc(35,fK,2,1,"div",63),e.qZA(),e.TgZ(36,"div",124)(37,"div",141)(38,"div",142)(39,"mat-checkbox",143),e._uU(40," Allowed Trade: "),e.qZA()()()()(),e.YNc(41,hK,1,0,"ng-container",98),e.qZA()),2&n){e.oxw();const t=e.MAs(13),i=e.oxw(2);e.xp6(5),e.Q6J("virtualScroll",!0)("readonly",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.jobTypes)("ngForTrackBy",i.trackByFn),e.xp6(3),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.workRules)("ngForTrackBy",i.trackByFn),e.xp6(3),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.targetRuleGroups)("ngForTrackBy",i.trackByFn),e.xp6(4),e.Q6J("ngIf",null==i.f.maxHours1.errors?null:i.f.maxHours1.errors.pattern),e.xp6(4),e.Q6J("ngIf",null==i.f.maxHours2.errors?null:i.f.maxHours2.errors.pattern),e.xp6(5),e.Q6J("ngIf",null==i.f.maxHours3.errors?null:i.f.maxHours3.errors.pattern),e.xp6(4),e.Q6J("ngIf",null==i.f.maxHours4.errors?null:i.f.maxHours4.errors.pattern),e.xp6(4),e.Q6J("ngIf",null==i.f.maxHours5.errors?null:i.f.maxHours5.errors.pattern),e.xp6(6),e.Q6J("ngTemplateOutlet",t)}}function gK(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"i",157),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(5);return e.KtG("Modify"==r.canModifySkillsPanel||"Modify"==r.linkedEmployeeRights)}),e.qZA(),e.BQk()}}function _K(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",158),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(5);return e.KtG("Modify"==r.canModifySkillsPanel||"Modify"==r.linkedEmployeeRights)}),e.qZA()}}function vK(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",151)(2,"div",152)(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"div",153),e.YNc(6,gK,2,0,"ng-container",154),e.YNc(7,_K,1,0,"ng-template",null,155,e.W1O),e.qZA()(),e._UZ(9,"hr",156),e.qZA()),2&n){const t=o.$implicit,i=e.MAs(8),r=e.oxw(4);e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngClass","User"==r.role?"active-state-dto":"active-state-no-cursor"),e.xp6(1),e.Q6J("ngIf",t.value)("ngIfElse",i)}}function bK(n,o){if(1&n&&(e.TgZ(0,"mat-tab",144,145)(2,"div",146)(3,"div",147)(4,"div",148)(5,"div",149),e.YNc(6,vK,10,4,"div",150),e.qZA()()()()()),2&n){const t=e.oxw(3);e.xp6(6),e.Q6J("ngForOf",t.allSkills)}}function yK(n,o){1&n&&(e.TgZ(0,"i",196),e._uU(1," Availability\xa0\xa0 "),e.qZA())}function xK(n,o){1&n&&e.GkF(0)}function CK(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tab"),e.YNc(1,yK,2,0,"ng-template",58),e.TgZ(2,"div",159)(3,"label",160)(4,"b"),e._uU(5,"Weekly Hours"),e.qZA()()(),e.TgZ(6,"div",161),e._UZ(7,"input",162),e.qZA(),e._UZ(8,"hr"),e.TgZ(9,"div",163)(10,"label",160)(11,"b"),e._uU(12,"Employee availability"),e.qZA()()(),e.TgZ(13,"div",164)(14,"div",165)(15,"div",166)(16,"mat-checkbox",167,168),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(17),a=e.oxw(3);return e.KtG(a.EnableDisableControls(r._checked,r))}),e._uU(18," Monday "),e.qZA()(),e.TgZ(19,"div",169),e._UZ(20,"input",170),e.qZA(),e.TgZ(21,"div",169),e._UZ(22,"input",171),e.qZA()(),e.TgZ(23,"div",165)(24,"div",166)(25,"mat-checkbox",172,173),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(26),a=e.oxw(3);return e.KtG(a.EnableDisableControls(r._checked,r))}),e._uU(27," Tuesday "),e.qZA()(),e.TgZ(28,"div",169),e._UZ(29,"input",174),e.qZA(),e.TgZ(30,"div",169),e._UZ(31,"input",175),e.qZA()(),e.TgZ(32,"div",165)(33,"div",166)(34,"mat-checkbox",176,177),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(35),a=e.oxw(3);return e.KtG(a.EnableDisableControls(r._checked,r))}),e._uU(36," Wednesday "),e.qZA()(),e.TgZ(37,"div",169),e._UZ(38,"input",178),e.qZA(),e.TgZ(39,"div",169),e._UZ(40,"input",179),e.qZA()(),e.TgZ(41,"div",165)(42,"div",166)(43,"mat-checkbox",180,181),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(44),a=e.oxw(3);return e.KtG(a.EnableDisableControls(r._checked,r))}),e._uU(45," Thursday "),e.qZA()(),e.TgZ(46,"div",169),e._UZ(47,"input",182),e.qZA(),e.TgZ(48,"div",169),e._UZ(49,"input",183),e.qZA()(),e.TgZ(50,"div",165)(51,"div",166)(52,"mat-checkbox",184,185),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(53),a=e.oxw(3);return e.KtG(a.EnableDisableControls(r._checked,r))}),e._uU(54," Friday "),e.qZA()(),e.TgZ(55,"div",169),e._UZ(56,"input",186),e.qZA(),e.TgZ(57,"div",169),e._UZ(58,"input",187),e.qZA()(),e.TgZ(59,"div",165)(60,"div",166)(61,"mat-checkbox",188,189),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(62),a=e.oxw(3);return e.KtG(a.EnableDisableControls(r._checked,r))}),e._uU(63," Saturday "),e.qZA()(),e.TgZ(64,"div",169),e._UZ(65,"input",190),e.qZA(),e.TgZ(66,"div",169),e._UZ(67,"input",191),e.qZA()(),e.TgZ(68,"div",165)(69,"div",166)(70,"mat-checkbox",192,193),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(71),a=e.oxw(3);return e.KtG(a.EnableDisableControls(r._checked,r))}),e._uU(72," Sunday "),e.qZA()(),e.TgZ(73,"div",169),e._UZ(74,"input",194),e.qZA(),e.TgZ(75,"div",169),e._UZ(76,"input",195),e.qZA()()(),e.YNc(77,xK,1,0,"ng-container",98),e.qZA()}if(2&n){e.oxw();const t=e.MAs(13);e.xp6(7),e.Q6J("readonly",!0),e.xp6(13),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(7),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function TK(n,o){1&n&&(e.TgZ(0,"i",101),e._uU(1," ! "),e.qZA())}function wK(n,o){if(1&n&&(e.TgZ(0,"i",196),e._uU(1," System\xa0\xa0 "),e.qZA(),e.YNc(2,TK,2,0,"i",100)),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",((null==t.f.username?null:t.f.username.touched)&&(null==t.f.username?null:t.f.username.errors)||0==t.notificationsSelected)&&!t.newEmployeeSaving)}}function DK(n,o){if(1&n&&(e.TgZ(0,"div",102),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Notification method",t.message.required," ")}}function SK(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function kK(n,o){if(1&n&&(e.TgZ(0,"ng-option",103),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function AK(n,o){1&n&&e.GkF(0)}const MK=function(n){return{error:n}};function OK(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tab"),e.YNc(1,wK,3,1,"ng-template",58),e.TgZ(2,"div",59)(3,"div",60)(4,"label",197),e._uU(5," Username*: "),e.qZA(),e._UZ(6,"input",198),e.TgZ(7,"label",199),e._uU(8," Notification*: "),e.qZA(),e.TgZ(9,"ng-select",200),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.checkNotifications())})("blur",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.checkNotifications())}),e.qZA(),e.YNc(10,DK,2,1,"div",63),e.qZA(),e.TgZ(11,"div",201)(12,"label",202),e._uU(13," Employee Profile: "),e.qZA(),e.TgZ(14,"ng-select",203),e.YNc(15,SK,2,2,"ng-option",89),e.qZA(),e.TgZ(16,"label",204),e._uU(17," Absence Manager: "),e.qZA(),e.TgZ(18,"ng-select",205),e.YNc(19,kK,2,2,"ng-option",89),e.qZA()()(),e.YNc(20,AK,1,0,"ng-container",98),e.qZA()}if(2&n){e.oxw();const t=e.MAs(13),i=e.oxw(2);e.xp6(6),e.Q6J("readonly",!0),e.xp6(3),e.Q6J("items",i.comboValues.notifications)("ngClass",e.VKq(12,MK,0==i.notificationsSelected)),e.xp6(1),e.Q6J("ngIf",0==i.notificationsSelected),e.xp6(4),e.Q6J("virtualScroll",!0)("dropdownPosition","bottom"),e.xp6(1),e.Q6J("ngForOf",i.comboValues.employeeProfiles)("ngForTrackBy",i.trackByFn),e.xp6(3),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",i.comboValues.managers)("ngForTrackBy",i.trackByFn),e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function PK(n,o){1&n&&(e.TgZ(0,"i",101),e._uU(1," ! "),e.qZA())}function EK(n,o){if(1&n&&(e.TgZ(0,"i",209),e._uU(1," Advanced People Access\xa0\xa0 "),e.qZA(),e.YNc(2,PK,2,0,"i",100)),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",(null==t.f.password?null:t.f.password.touched)&&(null==t.f.password?null:t.f.password.errors)&&!t.newEmployeeSaving)}}function IK(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(7);e.xp6(1),e.hij(" Password must be at least ",t.passMinLength," characters long. ")}}function NK(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(7);e.xp6(1),e.hij(" ",t.passPatternValidationMessage," ")}}function RK(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(7);e.xp6(1),e.hij(" ",t.message.maxInput," 50. ")}}function FK(n,o){if(1&n&&(e.TgZ(0,"div",102),e.YNc(1,IK,2,1,"div",21),e.YNc(2,NK,2,1,"div",21),e.YNc(3,RK,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.Q6J("ngIf",null==t.f.password.errors?null:t.f.password.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.f.password.errors?null:t.f.password.errors.passwordContainsMinimumCharacters),e.xp6(1),e.Q6J("ngIf",t.f.password.errors.maxlength)}}function ZK(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Password confirmation is required "),e.qZA())}function LK(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Passwords do not match. "),e.qZA())}function UK(n,o){if(1&n&&(e.TgZ(0,"div",102),e.YNc(1,ZK,2,0,"div",21),e.YNc(2,LK,2,0,"div",21),e.qZA()),2&n){const t=e.oxw(7);e.xp6(1),e.Q6J("ngIf",null==t.f.confirmPassword.errors?null:t.f.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.confirmPassword.errors?null:t.f.confirmPassword.errors.passwordMismatch)}}function jK(n,o){if(1&n&&(e.TgZ(0,"div")(1,"label",212),e._uU(2," Confirm Password: "),e.qZA(),e._UZ(3,"input",213),e.YNc(4,UK,3,2,"div",63),e.qZA()),2&n){const t=e.oxw(6);e.xp6(4),e.Q6J("ngIf",t.f.confirmPassword.touched&&t.f.confirmPassword.errors)}}function YK(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label",210),e._uU(2," Password: "),e.qZA(),e.TgZ(3,"input",211),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(5);return a.trackPasswordValue(r.target.value),e.KtG(a.CheckIfPasswordContainsMinimum())}),e.qZA(),e.YNc(4,FK,4,3,"div",63),e.YNc(5,jK,5,1,"div",21),e.qZA()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngIf",t.f.password.touched&&t.f.password.errors),e.xp6(1),e.Q6J("ngIf",t.passwordEntered)}}function qK(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,YK,6,2,"div",21),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.selectedEmployeeId)}}function JK(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",43)(2,"button",44,45),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.sendAccessEmail(!0))}),e._uU(4),e.qZA()()()}if(2&n){const t=e.oxw(5);e.xp6(4),e.hij(" ",t.accessEmailBtnText," ")}}function HK(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,JK,5,1,"div",19),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.showAccessEmailBtn&&"User"==t.role)}}function BK(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",43)(2,"button",46,45),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.sendAccessEmail(!0))}),e._uU(4),e.qZA()()()}if(2&n){const t=e.oxw(5);e.xp6(4),e.hij(" ",t.accessEmailBtnText," ")}}function VK(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,BK,5,1,"div",19),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.showAccessEmailBtn&&"User"==t.role)}}function GK(n,o){1&n&&(e.TgZ(0,"div",214),e._UZ(1,"i",215),e._uU(2,"\xa0 "),e.TgZ(3,"span"),e._uU(4,"Set a temporary password on the employees mobile account and send details of how they can login."),e.qZA()())}function WK(n,o){1&n&&e.GkF(0)}function QK(n,o){if(1&n&&(e.TgZ(0,"mat-tab"),e.YNc(1,EK,3,1,"ng-template",58),e.TgZ(2,"div",59)(3,"div",60)(4,"label",197),e._uU(5," Username*: "),e.qZA(),e._UZ(6,"input",198),e.YNc(7,qK,2,1,"div",21),e.qZA(),e.TgZ(8,"div",60)(9,"label",206),e._uU(10," Connection Code: "),e.qZA(),e._UZ(11,"input",207),e._uU(12,"\xa0\xa0 "),e.YNc(13,HK,2,1,"div",21),e.YNc(14,VK,2,1,"div",21),e.YNc(15,GK,5,0,"div",208),e.qZA()(),e.YNc(16,WK,1,0,"ng-container",98),e.qZA()),2&n){e.oxw();const t=e.MAs(13),i=e.oxw(2);e.xp6(6),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("ngIf",i.canChangePassword),e.xp6(4),e.Q6J("readonly",!0),e.xp6(2),e.Q6J("ngIf",null==i.isAccessEmailSent),e.xp6(1),e.Q6J("ngIf",1==i.isAccessEmailSent),e.xp6(1),e.Q6J("ngIf","Employee"!=i.role),e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function zK(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",216)(1,"div",217)(2,"div",218)(3,"button",219),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.resetEmployeeForm())}),e._uU(4," Cancel "),e.qZA()(),e.TgZ(5,"div",220)(6,"button",221),e._uU(7," Save Changes "),e.qZA()()()()}if(2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("disabled",t.newEmployeeSaving),e.xp6(3),e.Q6J("disabled",t.newEmployeeSaving||t.isFormReadOnly)}}function KK(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",49,50),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.saveChanges())}),e.TgZ(2,"mat-tab-group",51,52),e.YNc(4,Wz,76,29,"mat-tab",21),e.YNc(5,iK,35,30,"mat-tab",53),e.YNc(6,oK,9,1,"mat-tab",54),e.YNc(7,mK,42,16,"mat-tab",55),e.YNc(8,bK,7,1,"mat-tab",56),e.YNc(9,CK,78,16,"mat-tab",21),e.YNc(10,OK,21,14,"mat-tab",21),e.YNc(11,QK,17,7,"mat-tab",21),e.qZA(),e.YNc(12,zK,8,2,"ng-template",null,57,e.W1O),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("formGroup",t.employeeForm),e.xp6(4),e.Q6J("ngIf",t.canAccessPersonalPanel||"User"==t.role),e.xp6(1),e.Q6J("ngIf",t.canAccessOrganisationalPanel||"User"==t.role),e.xp6(1),e.Q6J("ngIf",t.canAccessPayPanel||"User"==t.role),e.xp6(1),e.Q6J("ngIf",t.canAccessSchedulePanel||"User"==t.role),e.xp6(1),e.Q6J("ngIf",t.canAccessSkillsPanel||"User"==t.role&&t.canAccessSkillsMatrix),e.xp6(1),e.Q6J("ngIf",t.canAccessAvailabilityPanel),e.xp6(1),e.Q6J("ngIf",t.canAccessSystemPanel||"User"==t.role),e.xp6(1),e.Q6J("ngIf",t.canAccessMobileAppPanel||"User"==t.role)}}function $K(n,o){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,KK,14,9,"form",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.employeeForm)}}let XK=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De,Ge){this._fb=t,this._employeeService=i,this.sanitizer=r,this.dialogService=a,this._sessionTimerService=s,this.dialog=l,this._messageService=c,this._router=u,this._imageCompress=h,this.skillsMatrixService=x,this.rd=T,this._userRoleService=O,this._profileService=U,this._accountService=re,this._zone=de,this._ref=ve,this._notificationsService=Ne,this._authService=De,this._mobileConnectionService=Ge,this.comboValues=new oz,this.currentEmployeeObject=new Us,this.originalEmployeeObject=new Us,this.employeeSaved=!0,this.savingInProgress=!1,this.passwordEntered=!1,this.displayName="",this.loaded=!1,this.newEmployeeSaving=!1,this.allSkills=new Array,this.Personal="Personal",this.dateLength=ai.YG.length,this.minUpperChars=0,this.minSpecialChars=0,this.minNumericChars=0,this.accessEmailBtnText="Send access email ",this.loggedInAsEmployee=!1,this.canAccessPersonalPanel=!1,this.canAccessOrganisationalPanel=!1,this.canAccessPayPanel=!1,this.canAccessSchedulePanel=!1,this.canAccessSkillsPanel=!1,this.canAccessSystemPanel=!1,this.canAccessMobileAppPanel=!1,this.canAccessSkillsMatrix=!1,this.canChangePassword=!1,this.isFormReadOnly=!1,this.blockAccessRights=!1,this._ngUnsubscribe=new b.x,this.empSkills=[],this.specials=/[^A-Za-z 0-9]/g,this.canAccessAvailabilityPanel=!1,this.employeeAvailabilityList=[],u.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&de.run(()=>this._ref.detectChanges())});const We=this._router.getCurrentNavigation();window.history.state.passMin&&(this.passMinLength=window.history.state.passMin),window.history.state.minUpperChars&&(this.minUpperChars=window.history.state.minUpperChars),window.history.state.minSpecialChars&&(this.minSpecialChars=window.history.state.minSpecialChars),window.history.state.minNumericChars&&(this.minNumericChars=window.history.state.minNumericChars),window.history.state.passwordValidationMessage&&(this.passPatternValidationMessage=window.history.state.passwordValidationMessage),this.selectedEmployeeId=We.extras.state?We.extras.state.id:0,this.displayName=We.extras.state?We.extras.state.name:"",this._isEditMode()?(this.showAccessEmailBtn=!0,this.selectEmp(this.selectedEmployeeId),this.employeeSaved=!0):(this.showAccessEmailBtn=!1,this.employeeSaved=!1,this.loaded=!0),We.extras.state&&(this.currentTablePage=We.extras.state.tablePage,this.currentTableSize=We.extras.state.tableSize,this.currentPaginationData=We.extras.state.paginationData)}showAllSkills(){this.empTabs&&this.skillsTab&&(this.empTabs.selectedIndex=this.skillsTab.position)}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}_initDetails(){this.buildEmployeeForm(),this.loadComboValues(),this._employeeService.isOnDetails.next(!0)}ngOnInit(){this._initDetails(),null==window.history.state.id?this._router.navigateByUrl("/manage-employees/table"):(this.mobileAppConnectionCode="",this.message=St.yw,this.employeeForm.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.employeeSaved=!1,Object.keys(t).forEach(i=>{this.currentEmployeeObject[i]=t[i]}),this.setUpFormValidations()}),this.getRole(),this.getLoggedUserID(),this.fetchProfilePermissions(),this.getMobileConnectionMappings()),this._userRoleService.refetchPermissions.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.fetchProfilePermissions()})}fetchProfilePermissions(){setTimeout(()=>{const t=this._userRoleService.getGlobalAccountPermissions();this.accessPermissions=t,this.accessPermissions&&(this.panelPermissions=this.accessPermissions.employeePanelPermissions,this.canAccessSkillsMatrix=this.accessPermissions.canUserAccessSkillsMatrix,this.canChangePassword="User"==this.role||this.accessPermissions.canEmployeeChangePassword),this.canAccessOrganisationalPanel=null!=this.panelPermissions.canSeeOrganisationalPanel&&null!=this.panelPermissions.canSeeOrganisationalPanel,this.canAccessPayPanel=null!=this.panelPermissions.canSeePayPanel&&null!=this.panelPermissions.canSeePayPanel,this.canAccessPersonalPanel=null!=this.panelPermissions.canSeePersonalPanel&&null!=this.panelPermissions.canSeePersonalPanel,this.canAccessSchedulePanel=null!=this.panelPermissions.canSeeSchedulePanel&&null!=this.panelPermissions.canSeeSchedulePanel,this.canAccessSkillsPanel=null!=this.panelPermissions.canSeeSkillsPanel&&null!=this.panelPermissions.canSeeSkillsPanel,this.canAccessSystemPanel=null!=this.panelPermissions.canSeeSystemPanel&&null!=this.panelPermissions.canSeeSystemPanel,null==this.panelPermissions.canSeeMobileAppPanel||null==this.panelPermissions.canSeeMobileAppPanel?this.canAccessMobileAppPanel=!1:(this.canAccessMobileAppPanel=!0,this.getMobileConnectionMappings()),this.canAccessAvailabilityPanel=("Employee"!==this.role||null!=this.panelPermissions.canSeeAvailabilityPanel&&null!=this.panelPermissions.canSeeAvailabilityPanel)&&("User"!==this.role||null!=this.accessPermissions.canEmployeeAccessAvailability&&null!=this.accessPermissions.canEmployeeAccessAvailability)&&0!=this.accessPermissions.canEmployeeAccessAvailability,this.canModifyOrganisationalPanel=this.panelPermissions.canSeeOrganisationalPanel,this.canModifyPayPanel=this.panelPermissions.canSeePayPanel,this.canModifyPersonalPanel=this.panelPermissions.canSeePersonalPanel,this.canModifySchedulePanel=this.panelPermissions.canSeeSchedulePanel,this.canModifySkillsPanel=this.panelPermissions.canSeeSkillsPanel,this.canModifySystemPanel=this.panelPermissions.canSeeSystemPanel,this.CanModifyAvailabilityPanel=this.panelPermissions.canSeeAvailabilityPanel,this.canModifyMobileAppPanel=this.panelPermissions.canSeeMobileAppPanel,this.enableOrDisableFieldsBasedOnPermissions(!1),this.setLinkedEmployeeRights(),"Employee"===this.role&&this.setUpFormValidations()},200)}reloadPermissions(){this.loggedUserName!==this.employeeForm.controls.username.value&&(this._userRoleService.setGlobalAccountPermissions(null),this._notificationsService.closeConnection(),this._sessionTimerService.stopTimer(),this._authService.logout(!0));let t=new b.x;this._profileService.getProfilePermissions().pipe((0,H.R)(t)).subscribe(i=>{this.accessPermissions=i,t.next(!0),t.complete();const r=this.employeeForm.controls.firstname.value+" "+this.employeeForm.controls.surname.value;this._userRoleService.updateLoggedInUserName.next(r),localStorage.setItem("loggedUserName",r),this._router.navigateByUrl("/dashboard").then(()=>{window.location.reload()})})}setLinkedEmployeeRights(){0!==this.selectedEmployeeId&&this._accountService.getLinkedAccount().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{null!==t?this.currentEmployeeObject.username==t.username&&"User"==this.role&&(this.blockAccessRights=!1,this._profileService.getLinkedAccountRights().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.blockAccessRights=!0,this.linkedEmployeeRights=i,"Read-only"==this.linkedEmployeeRights?this.enableOrDisableFieldsBasedOnPermissions(!1):"Modify"==this.linkedEmployeeRights?this.enableOrDisableFieldsBasedOnPermissions(!0):null==this.linkedEmployeeRights&&(this.canAccessSkillsMatrix=i,this.canModifyOrganisationalPanel=i,this.canModifyPayPanel=i,this.canModifyPersonalPanel=i,this.canModifySchedulePanel=i,this.canModifySkillsPanel=i,this.canModifySystemPanel=i,this.CanModifyAvailabilityPanel=i,this.canModifyMobileAppPanel=i)})):this.blockAccessRights=!1})}getRole(){this._userRoleService.loggedUserRole.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.role=t,"Employee"===this.role&&(this.loggedInAsEmployee=!0)})}getLoggedUserID(){this._userRoleService.loggedUserId.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.loggedUserID=t})}enableOrDisableFieldsBasedOnPermissions(t){this.blockAccessRights&&(this.canAccessSkillsMatrix=!0,this.canModifyOrganisationalPanel="Modify",this.canModifyPayPanel="Modify",this.canModifyPersonalPanel="Modify",this.canModifySchedulePanel="Modify",this.canModifySkillsPanel="Modify",this.canModifySystemPanel="Modify",this.CanModifyAvailabilityPanel="Modify",this.canModifyMobileAppPanel="Modify","Read-only"==this.linkedEmployeeRights?(Object.keys(this.employeeForm.controls).forEach(i=>{this.f[i].disable()}),this.canModifySkillsPanel="Read-only"):"Modify"==this.linkedEmployeeRights?Object.keys(this.employeeForm.controls).forEach(i=>{this.employeeForm.get(i).disabled&&this.f[i].enable()}):(this.canAccessSkillsMatrix=null,this.canModifyOrganisationalPanel=null,this.canModifyPayPanel=null,this.canModifyPersonalPanel=null,this.canModifySchedulePanel=null,this.canModifySkillsPanel=null,this.canModifySystemPanel=null,this.CanModifyAvailabilityPanel=null,this.canModifyMobileAppPanel=null)),t?Object.keys(this.employeeForm.controls).forEach(i=>{this.employeeForm.get(i).disabled&&this.f[i].enable()}):t||(this.isFormReadOnly=!1,("Read-only"==this.canModifyPersonalPanel||"Read-only"==this.linkedEmployeeRights)&&(this.f.employeeNumber.disable(),this.f.firstname.disable(),this.f.surname.disable(),this.f.startDate.disable(),this.f.leaveDate.disable(),this.f.email.disable(),this.f.telephoneNumber.disable(),this.f.mobileNumber.disable(),this.f.dateOfBirth.disable(),this.f.genderID.disable(),this.f.address1.disable(),this.f.address2.disable(),this.f.address3.disable(),this.f.address4.disable(),0==this.selectedEmployeeId&&(this.isFormReadOnly=!0)),("Read-only"==this.canModifyOrganisationalPanel||"Read-only"==this.linkedEmployeeRights)&&(this.f.employeeLocations.disable(),this.f.departmentID.disable(),this.f.jobTitleID.disable(),this.f.costCodeID.disable(),this.f.divisionID.disable(),this.f.classID.disable(),this.f.teamID.disable()),("Read-only"==this.canModifyPayPanel||"Read-only"==this.linkedEmployeeRights)&&this.f.payRate.disable(),("Read-only"==this.canModifySchedulePanel||"Read-only"==this.linkedEmployeeRights)&&(this.f.jobTypeID.disable(),this.f.targetRuleGroupID.disable(),this.f.workRuleID.disable(),this.f.maxHours1.disable(),this.f.maxHours2.disable(),this.f.maxHours3.disable(),this.f.maxHours4.disable(),this.f.maxHours5.disable(),this.f.allowedTrade.disable(),this.f.availability.disable(),this.f.weeklyHours.disable()),("Read-only"==this.canModifySystemPanel||"Read-only"==this.linkedEmployeeRights)&&(this.f.username.disable(),this.f.notificationTypeID.disable(),this.f.profileID.disable(),this.f.managerID.disable()),("Read-only"==this.canModifyMobileAppPanel||"Read-only"==this.linkedEmployeeRights)&&(this.f.password.disable(),this.f.confirmPassword.disable(),0==this.selectedEmployeeId&&(this.isFormReadOnly=!0))),this.disableAvailabilityBasedOnPermission()}disableAvailabilityBasedOnPermission(){("Modify"==this.CanModifyAvailabilityPanel||"Modify"==this.linkedEmployeeRights||"User"===this.role&&this.canAccessAvailabilityPanel)&&(this.f.formControlMonday.value||(this.f.mondayStartTime.disable(),this.f.mondayEndTime.disable()),this.f.formControlTuesday.value||(this.f.tuesdayStartTime.disable(),this.f.tuesdayEndTime.disable()),this.f.formControlWednesday.value||(this.f.wednesdayStartTime.disable(),this.f.wednesdayEndTime.disable()),this.f.formControlThursday.value||(this.f.thursdayStartTime.disable(),this.f.thursdayEndTime.disable()),this.f.formControlFriday.value||(this.f.fridayStartTime.disable(),this.f.fridayEndTime.disable()),this.f.formControlSaturday.value||(this.f.saturdayStartTime.disable(),this.f.saturdayEndTime.disable()),this.f.formControlSunday.value||(this.f.sundayStartTime.disable(),this.f.sundayEndTime.disable())),("Read-only"==this.CanModifyAvailabilityPanel||"Read-only"==this.linkedEmployeeRights)&&(this.f.formControlMonday.disable(),this.f.mondayStartTime.disable(),this.f.mondayEndTime.disable(),this.f.formControlTuesday.disable(),this.f.tuesdayStartTime.disable(),this.f.tuesdayEndTime.disable(),this.f.formControlWednesday.disable(),this.f.wednesdayStartTime.disable(),this.f.wednesdayEndTime.disable(),this.f.formControlThursday.disable(),this.f.thursdayStartTime.disable(),this.f.thursdayEndTime.disable(),this.f.formControlFriday.disable(),this.f.fridayStartTime.disable(),this.f.fridayEndTime.disable(),this.f.formControlSaturday.disable(),this.f.saturdayStartTime.disable(),this.f.saturdayEndTime.disable(),this.f.formControlSunday.disable(),this.f.sundayStartTime.disable(),this.f.sundayEndTime.disable())}setGlobalAccountPermissions(){setTimeout(()=>{const t=this._userRoleService.getGlobalAccountPermissions();this.accessPermissions=t,this.accessPermissions&&(this.panelPermissions=this.accessPermissions.employeePanelPermissions,this.canAccessSkillsMatrix=this.accessPermissions.canUserAccessSkillsMatrix,this.canChangePassword="User"==this.role||this.accessPermissions.canEmployeeChangePassword),this.canAccessOrganisationalPanel=null!=this.panelPermissions.canSeeOrganisationalPanel&&null!=this.panelPermissions.canSeeOrganisationalPanel,this.canAccessPayPanel=null!=this.panelPermissions.canSeePayPanel&&null!=this.panelPermissions.canSeePayPanel,this.canAccessPersonalPanel=null!=this.panelPermissions.canSeePersonalPanel&&null!=this.panelPermissions.canSeePersonalPanel,this.canAccessSchedulePanel=null!=this.panelPermissions.canSeeSchedulePanel&&null!=this.panelPermissions.canSeeSchedulePanel,this.canAccessSkillsPanel=null!=this.panelPermissions.canSeeSkillsPanel&&null!=this.panelPermissions.canSeeSkillsPanel,this.canAccessSystemPanel=null!=this.panelPermissions.canSeeSystemPanel&&null!=this.panelPermissions.canSeeSystemPanel,this.canAccessAvailabilityPanel=null!=this.panelPermissions.canSeeAvailabilityPanel&&null!=this.panelPermissions.canSeeAvailabilityPanel,null==this.panelPermissions.canSeeMobileAppPanel||null==this.panelPermissions.canSeeMobileAppPanel?this.canAccessMobileAppPanel=!1:(this.canAccessMobileAppPanel=!0,this.getMobileConnectionMappings()),this.canModifyOrganisationalPanel=this.panelPermissions.canSeeOrganisationalPanel,this.canModifyPayPanel=this.panelPermissions.canSeePayPanel,this.canModifyPersonalPanel=this.panelPermissions.canSeePersonalPanel,this.canModifySchedulePanel=this.panelPermissions.canSeeSchedulePanel,this.canModifySkillsPanel=this.panelPermissions.canSeeSkillsPanel,this.canModifySystemPanel=this.panelPermissions.canSeeSystemPanel,this.CanModifyAvailabilityPanel=this.panelPermissions.canSeeAvailabilityPanel,this.canModifyMobileAppPanel=this.panelPermissions.canSeeMobileAppPanel},200)}sendSystemAccessEmail(){this.showAccessEmailBtn&&this._employeeService.sendSystemAccessEmail(this.currentEmployeeObject.username,!1,!0,!1,!1,this.loggedUserID,!1).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this._employeeService.getEmployee(this.currentEmployeeObject.id,"L").pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.isSystemAccessEmailSent=i.employee.isSystemAccessEmailSent,this.isAccessEmailSent=i.employee.isAccessEmailSent,this.setAccessEmailButton(),this._messageService.open("System Access Email successfully sent.")})},t=>{this._messageService.open(t)})}sendAccessEmail(t){this.showAccessEmailBtn&&this._mobileConnectionService.getMobileConnectionCode(localStorage.getItem("customerName")).subscribe(i=>{console.log(i.connectionMappingId),i.connectionMappingId&&6==i.connectionMappingId.length?this._employeeService.sendSystemAccessEmail(this.currentEmployeeObject.username,!1,!0,!1,t,this.loggedUserID,!1).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{this._employeeService.getEmployee(this.currentEmployeeObject.id,"L").pipe((0,H.R)(this._ngUnsubscribe)).subscribe(a=>{this.isSystemAccessEmailSent=a.employee.isSystemAccessEmailSent,this.isAccessEmailSent=a.employee.isAccessEmailSent,this.setAccessEmailButton(),this._messageService.open("Advanced People Access Email successfully sent.")})},r=>{this._messageService.open(r)}):this._messageService.open("Send Advanced People Access Email action failed. Please contact your system administrator to generate the unique Advanced People Connection code.")},i=>{this._messageService.open(i)})}setAccessEmailButton(){if("User"==this.role){const t=document.getElementById("send_email_button");null===this.isAccessEmailSent?this.rd.addClass(t,"access-email-btn-send"):!0===this.isAccessEmailSent&&(this.rd.removeClass(t,"access-email-btn-send"),this.rd.addClass(t,"access-email-btn-resend"))}}checkInput(t,i){let r=t.match(this.specials);switch(i){case"employeeNumber":null!=r?t.length==r.length?this.employeeForm.controls.employeeNumber.setErrors({allSpecialCharacters:!0}):(this.employeeForm.controls.employeeNumber.setErrors(null),t.trim()&&this._employeeService.checkIfEmployeeNumberIsUnique(t.trim(),this.employeeForm.controls.id.value).subscribe(()=>{this.employeeForm.controls.employeeNumber.setErrors(null)},a=>{this.employeeForm.controls.employeeNumber.setErrors({invalidValue:!0})})):t.trim()&&this._employeeService.checkIfEmployeeNumberIsUnique(t.trim(),this.employeeForm.controls.id.value).subscribe(()=>{this.employeeForm.controls.employeeNumber.setErrors(null)},a=>{this.employeeForm.controls.employeeNumber.setErrors({invalidValue:!0})});break;case"firstname":null!=r&&this.employeeForm.controls.firstname.setErrors(t.length==r.length?{allSpecialCharacters:!0}:null);break;case"surname":null!=r&&this.employeeForm.controls.surname.setErrors(t.length==r.length?{allSpecialCharacters:!0}:null);break;case"username":null!=r?t.length==r.length?this.employeeForm.controls.username.setErrors({allSpecialCharacters:!0}):(this.employeeForm.controls.username.setErrors(null),t.trim()&&this._employeeService.checkIfUsernameIsUnique(t.trim(),this.employeeForm.controls.id.value).subscribe(()=>{this.employeeForm.controls.username.setErrors(null)},a=>{this.employeeForm.controls.username.setErrors({invalidValue:!0})})):t.trim()&&this._employeeService.checkIfUsernameIsUnique(t.trim(),this.employeeForm.controls.id.value).subscribe(()=>{this.employeeForm.controls.username.setErrors(null,{emitEvent:!1}),this.employeeForm.controls.username.setValidators([_.kI.maxLength(50),_.kI.required]),this.employeeForm.controls.username.updateValueAndValidity()},a=>{this.employeeForm.controls.username.setErrors({invalidValue:!0})});break;case"email":t&&this.employeeForm.controls.email.valid&&this._employeeService.checkIfEmailIsUnique(t,this.employeeForm.controls.id.value).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.employeeForm.controls.email.setErrors(null)},a=>{this.employeeForm.controls.email.setErrors({invalidEmail:!0})})}}loadComboValues(){this.comboValueSubscription=this._employeeService.getComboValues().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.comboValues.managers=t.managers,this.comboValues.genders=t.genders,this.comboValues.employeeProfiles=t.employeeProfiles,this.comboValues.locations=t.locations,this.comboValues.departments=t.departments,this.comboValues.costCodes=t.costCodes,this.comboValues.divisions=t.divisions,this.comboValues.jobTitles=t.jobTitles,this.comboValues.teams=t.teams,this.comboValues.classes=t.classes,this.comboValues.jobTypes=t.jobTypes,this.comboValues.targetRuleGroups=t.targetRuleGroups,this.comboValues.workRules=t.workRules,this.comboValues.notifications=t.notifications},t=>{this._messageService.open(t)})}buildEmployeeForm(){this.employeeForm=this._fb.group({id:[this.selectedEmployeeId],employeeNumber:[null,{validators:[_.kI.maxLength(50)],updateOn:"change"}],firstname:[null,{validators:[_.kI.maxLength(50)],updateOn:"change"}],surname:[null,{validators:[_.kI.maxLength(50)],updateOn:"change"}],profileID:[null,{validators:[],updateOn:"change"}],genderID:[null,{validators:[],updateOn:"change"}],employeeLocations:[null,{validators:[],updateOn:"change"}],departmentID:[null,{validators:[],updateOn:"change"}],costCodeID:[null,{validators:[],updateOn:"change"}],divisionID:[null,{validators:[],updateOn:"change"}],jobTitleID:[null,{validators:[],updateOn:"change"}],teamID:[null,{validators:[],updateOn:"change"}],classID:[null,{validators:[],updateOn:"change"}],jobTypeID:[null,{validators:[],updateOn:"change"}],targetRuleGroupID:[null,{validators:[],updateOn:"change"}],workRuleID:[null,{validators:[],updateOn:"change"}],notificationTypeID:[null,_.kI.required],managerID:[null,{validators:[],updateOn:"change"}],startDate:[null,{validators:[],updateOn:"change"}],leaveDate:[null,{validators:[],updateOn:"change"}],address2:[null,{validators:[_.kI.maxLength(256)],updateOn:"change"}],address1:[null,{validators:[_.kI.maxLength(256)],updateOn:"change"}],address3:[null,{validators:[_.kI.maxLength(256)],updateOn:"change"}],address4:[null,{validators:[_.kI.maxLength(256)],updateOn:"change"}],dateOfBirth:[null,{validators:[],updateOn:"change"}],telephoneNumber:[null,{validators:[_.kI.pattern("^[0-9 ()+-/]+$")],updateOn:"change"}],mobileNumber:[null,{validators:[_.kI.pattern("^[0-9 ()+-/]+$")],updateOn:"change"}],payRate:[null,{validators:[],updateOn:"change"}],maxHours1:[null,{updateOn:"change"}],maxHours2:[null,{updateOn:"change"}],maxHours3:[null,{updateOn:"change"}],maxHours4:[null,{updateOn:"change"}],maxHours5:[null,{updateOn:"change"}],weeklyHours:[null,{validators:[_.kI.min(0),_.kI.max(158)],updateOn:"change"}],allowedTrade:[!1,{validators:[],updateOn:"change"}],availability:[!1,{validators:[],updateOn:"change"}],email:[null,{validators:[_.kI.email,_.kI.maxLength(128)],updateOn:"change"}],password:[null,{validators:[_.kI.minLength(this.passMinLength),_.kI.maxLength(50)],updateOn:"change"}],confirmPassword:[null,{validators:[],updateOn:"change"}],username:[null,{validators:[_.kI.maxLength(50)],updateOn:"change"}],image:[null,{validators:[],updateOn:"change"}],formControlMonday:[!1,{validators:[],updateOn:"change"}],mondayStartTime:[null,{updateOn:"change",disabled:!0}],mondayEndTime:[null,{updateOn:"change",disabled:!0}],formControlTuesday:[!1,{validators:[],updateOn:"change"}],tuesdayStartTime:[null,{updateOn:"change",disabled:!0}],tuesdayEndTime:[null,{updateOn:"change",disabled:!0}],formControlWednesday:[!1,{validators:[],updateOn:"change"}],wednesdayStartTime:[null,{updateOn:"change",disabled:!0}],wednesdayEndTime:[null,{updateOn:"change",disabled:!1}],formControlThursday:[!1,{validators:[],updateOn:"change"}],thursdayStartTime:[null,{updateOn:"change",disabled:!0}],thursdayEndTime:[null,{updateOn:"change",disabled:!0}],formControlFriday:[!1,{validators:[],updateOn:"change"}],fridayStartTime:[null,{updateOn:"change",disabled:!0}],fridayEndTime:[null,{updateOn:"change",disabled:!0}],formControlSaturday:[!1,{validators:[],updateOn:"change"}],saturdayStartTime:[null,{updateOn:"change",disabled:!0}],saturdayEndTime:[null,{updateOn:"change",disabled:!0}],formControlSunday:[!1,{validators:[],updateOn:"change"}],sundayStartTime:[null,{updateOn:"change",disabled:!0}],sundayEndTime:[null,{updateOn:"change",disabled:!0}],mobileAppCode:[null,{validators:[_.kI.maxLength(6)],updateOn:"change"}]},{validators:[(0,hr.qO)("dateOfBirth","startDate"),(0,hr.qO)("startDate","leaveDate"),(0,hr.Ge)("notificationTypeID"),(0,hr.HV)("password","confirmPassword")]})}get f(){if(this.employeeForm)return this.employeeForm.controls}sanitizeExisting(t){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+t)}sanitizeExistingDetails(){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+this.employeeForm.controls.image.value)}checkNotifications(){this.notificationsSelected=!!this.employeeForm.controls.notificationTypeID.value}resetEmployeeForm(){this.loggedInAsEmployee&&this.selectedEmployeeId==this.loggedUserID?this._router.navigateByUrl("/dashboard"):(this.employeeForm.reset(),this.employeeForm.markAsPristine(),this._router.navigateByUrl("/manage-employees/table",{state:{page:this.currentTablePage,size:this.currentTableSize,paginationData:this.currentPaginationData}}))}_isEditMode(){return this.selectedEmployeeId>0}selectEmp(t){const i={emitEvent:!1};null!=this.comboValues?(this.selectedEmployeeId=t,this.subscription=this._employeeService.getEmployee(t,"L").pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{this.currentEmployeeObject=r.employee,this.originalEmployeeObject=r.employee,this.selectedEmployeeImage=this.currentEmployeeObject.image,this.employeeForm.patchValue(r.employee,i),this.getAllSkills(),this.loaded=!0,this.isSystemAccessEmailSent=r.employee.isSystemAccessEmailSent,this.isAccessEmailSent=r.employee.isAccessEmailSent,this.setLinkedEmployeeRights(),this.loggedUserName=r.employee.username,this.employeeAvailabilityList=r.employeeAvailabilities,this.setEmployeeAvailabilityControls(),setTimeout(()=>{this.empTabs&&window.dispatchEvent(new Event("resize"))},10)})):this._messageService.open("Data not loaded fully from server. Please reload page and try again.")}setEmployeeAvailabilityControls(){this.employeeAvailabilityList.forEach(t=>{"monday"==t.dayOfWeek.toLowerCase()&&(this.employeeForm.controls.formControlMonday.setValue(!0),this.employeeForm.controls.mondayStartTime.setValue(t.startTime),this.employeeForm.controls.mondayEndTime.setValue(t.endTime),this.f.mondayStartTime.enable(),this.f.mondayEndTime.enable()),"tuesday"==t.dayOfWeek.toLowerCase()&&(this.employeeForm.controls.formControlTuesday.setValue(!0),this.employeeForm.controls.tuesdayStartTime.setValue(t.startTime),this.employeeForm.controls.tuesdayEndTime.setValue(t.endTime),this.f.tuesdayStartTime.enable(),this.f.tuesdayEndTime.enable()),"wednesday"==t.dayOfWeek.toLowerCase()&&(this.employeeForm.controls.formControlWednesday.setValue(!0),this.employeeForm.controls.wednesdayStartTime.setValue(t.startTime),this.employeeForm.controls.wednesdayEndTime.setValue(t.endTime),this.f.wednesdayStartTime.enable(),this.f.wednesdayEndTime.enable()),"thursday"==t.dayOfWeek.toLowerCase()&&(this.employeeForm.controls.formControlThursday.setValue(!0),this.employeeForm.controls.thursdayStartTime.setValue(t.startTime),this.employeeForm.controls.thursdayEndTime.setValue(t.endTime),this.f.thursdayStartTime.enable(),this.f.thursdayEndTime.enable()),"friday"==t.dayOfWeek.toLowerCase()&&(this.employeeForm.controls.formControlFriday.setValue(!0),this.employeeForm.controls.fridayStartTime.setValue(t.startTime),this.employeeForm.controls.fridayEndTime.setValue(t.endTime),this.f.fridayStartTime.enable(),this.f.fridayEndTime.enable()),"saturday"==t.dayOfWeek.toLowerCase()&&(this.employeeForm.controls.formControlSaturday.setValue(!0),this.employeeForm.controls.saturdayStartTime.setValue(t.startTime),this.employeeForm.controls.saturdayEndTime.setValue(t.endTime),this.f.saturdayStartTime.enable(),this.f.saturdayEndTime.enable()),"sunday"==t.dayOfWeek.toLowerCase()&&(this.employeeForm.controls.formControlSunday.setValue(!0),this.employeeForm.controls.sundayStartTime.setValue(t.startTime),this.employeeForm.controls.sundayEndTime.setValue(t.endTime),this.f.sundayStartTime.enable(),this.f.sundayEndTime.enable())}),this.disableAvailabilityBasedOnPermission()}saveChanges(){if(this.roundOffWeeklyHours(),this.enableOrDisableFieldsBasedOnPermissions(!0),this.savingInProgress=!0,("Employee"===this.role&&this.canAccessSystemPanel||"User"===this.role)&&this.checkNotifications(),this.employeeForm.valid){Object.keys(this.employeeForm.controls).forEach(i=>(0,Ug.mG)(this,void 0,void 0,function*(){const r=this.employeeForm.get(i);if("string"===az[i]){if(r.value)if("password"==i){const a=r.value.trim();a&&r.setValue(a)}else"username"==i||"firstname"==i||"surname"==i||"employeeNumber"==i||"email"==i?(r.setValue(r.value.trim()),this.checkInput(r.value,i)):r.setValue(r.value.trim());!r.value&&"confirmPassword"==i&&!this.employeeForm.get("password").value&&(this.passwordEntered=!1,this.validateConfirmPassword())}r.markAsTouched({onlySelf:!0})})),this.CheckIfPasswordContainsMinimum();const t=this.selectedEmployeeId.toString();this.employeeForm.valid&&!this.employeeForm.pending&&this.notificationsSelected?(this.selectedEmployeeImage!=this.employeeForm.controls.image.value?this.employeeForm.controls.image.enable():this.employeeForm.controls.image.disable(),0===this.selectedEmployeeId?this._addNewEmployee():(this.newEmployeeSaving=!0,this.populateValuesForEmployeeAvailabilities(),this._employeeService.editEmployee(t,this.employeeForm.value,this.employeeAvailabilityList).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this._messageService.open("Changes saved."),this.employeeForm.markAsPristine(),this.selectedEmployeeImage=this.employeeForm.controls.image.value,this.employeeSaved=!0,this.newEmployeeSaving=!1,"Employee"==this.role&&this.selectedEmployeeId==this.loggedUserID?this.reloadPermissions():this._router.navigateByUrl("/manage-employees/table",{state:{page:this.currentTablePage,size:this.currentTableSize,paginationData:this.currentPaginationData}})},i=>{this.enableOrDisableFieldsBasedOnPermissions(!1),this.newEmployeeSaving=!1,this._messageService.open(i),400===i.status?this._messageService.open("Employee couldn't be updated."):404===i.status&&this._messageService.open("Employee couldn't be found."),this.savingInProgress=!1}))):this._messageService.open(this.message.fillForm)}else this.employeeForm.markAllAsTouched(),this._messageService.open("Employee details couldn't be saved due to validation error(s).")}populateValuesForEmployeeAvailabilities(){if(this.employeeAvailabilityList=[],1==this.employeeForm.controls.formControlMonday.value){let t=new gp;t.dayOfWeek="monday",t.employeeId=this.selectedEmployeeId,t.startTime=this.employeeForm.controls.mondayStartTime.value,t.endTime=this.employeeForm.controls.mondayEndTime.value,this.employeeAvailabilityList.push(t)}if(null!=this.employeeForm.controls.formControlTuesday&&1==this.employeeForm.controls.formControlTuesday.value){let t=new gp;t.dayOfWeek="tuesday",t.employeeId=this.selectedEmployeeId,t.startTime=this.employeeForm.controls.tuesdayStartTime.value,t.endTime=this.employeeForm.controls.tuesdayEndTime.value,this.employeeAvailabilityList.push(t)}if(null!=this.employeeForm.controls.formControlWednesday&&1==this.employeeForm.controls.formControlWednesday.value){let t=new gp;t.dayOfWeek="wednesday",t.employeeId=this.selectedEmployeeId,t.startTime=this.employeeForm.controls.wednesdayStartTime.value,t.endTime=this.employeeForm.controls.wednesdayEndTime.value,this.employeeAvailabilityList.push(t)}if(null!=this.employeeForm.controls.formControlThursday&&1==this.employeeForm.controls.formControlThursday.value){let t=new gp;t.dayOfWeek="thursday",t.employeeId=this.selectedEmployeeId,t.startTime=this.employeeForm.controls.thursdayStartTime.value,t.endTime=this.employeeForm.controls.thursdayEndTime.value,this.employeeAvailabilityList.push(t)}if(null!=this.employeeForm.controls.formControlFriday&&1==this.employeeForm.controls.formControlFriday.value){let t=new gp;t.dayOfWeek="friday",t.employeeId=this.selectedEmployeeId,t.startTime=this.employeeForm.controls.fridayStartTime.value,t.endTime=this.employeeForm.controls.fridayEndTime.value,this.employeeAvailabilityList.push(t)}if(null!=this.employeeForm.controls.formControlSaturday&&1==this.employeeForm.controls.formControlSaturday.value){let t=new gp;t.dayOfWeek="saturday",t.employeeId=this.selectedEmployeeId,t.startTime=this.employeeForm.controls.saturdayStartTime.value,t.endTime=this.employeeForm.controls.saturdayEndTime.value,this.employeeAvailabilityList.push(t)}if(null!=this.employeeForm.controls.formControlSunday&&1==this.employeeForm.controls.formControlSunday.value){let t=new gp;t.dayOfWeek="sunday",t.employeeId=this.selectedEmployeeId,t.startTime=this.employeeForm.controls.sundayStartTime.value,t.endTime=this.employeeForm.controls.sundayEndTime.value,this.employeeAvailabilityList.push(t)}}_addNewEmployee(){this.newEmployeeSaving=!0,this._employeeService.createEmployee(this.employeeForm.value).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.employeeForm.controls.id.setValue(t.id),this._messageService.open("Employee created."),this.newEmployeeSaving=!1,this.employeeSaved=!0,this.employeeForm.markAsPristine(),this._router.navigateByUrl("/manage-employees/table")},t=>{this.newEmployeeSaving=!1,this.savingInProgress=!1,this._messageService.open(t)})}deleteEmployee(){this.dialogService.openConfirmDialog("Delete",(0,St.$j)("n Employee")).afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{t&&this._employeeService.deleteEmployee(this.selectedEmployeeId).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{201==r.status?this._messageService.open(r.body):(this._messageService.open("Employee deleted."),this.currentEmployeeObject=new Us,this._router.navigateByUrl("/manage-employees/table"))},r=>{this._messageService.open(r)})})}compressFileEdit(){this._imageCompress.uploadFile().then(({image:t,orientation:i})=>{this._imageCompress.compressFile(t,i,75,50).then(r=>{this.employeeForm.controls.image.setValue(r.split(",")[1])})})}getAllSkills(){this.skillsMatrixService.getEmployeeSkills(this.selectedEmployeeId).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.allSkills=t,this.empSkills=[],this.allSkills.forEach(i=>{i.value&&this.empSkills.push(i.name)})})}updateValues(t,i){this.skillsMatrixService.updateSkillMatrix(this.selectedEmployeeId,t,i).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.getAllSkills()},r=>{this.getAllSkills(),this._messageService.open(r)})}trackByFn(t,i){return i.id}trackPasswordValue(t){this.passwordEntered=!!t,this.validateConfirmPassword()}validateConfirmPassword(){this.passwordEntered?(this.employeeForm.controls.confirmPassword.setValidators([_.kI.required]),this.employeeForm.controls.confirmPassword.setValue(null),this.employeeForm.controls.confirmPassword.setErrors(null),this.employeeForm.controls.confirmPassword.markAsUntouched(),this.employeeForm.controls.confirmPassword.updateValueAndValidity()):(this.employeeForm.controls.confirmPassword.setValidators([]),this.employeeForm.controls.confirmPassword.setErrors(null),this.employeeForm.controls.confirmPassword.markAsUntouched(),this.employeeForm.controls.confirmPassword.updateValueAndValidity())}CheckIfPasswordContainsMinimum(){this.employeeForm.get("password").value?(0,hr.sU)(this.employeeForm,"password",this.minUpperChars,this.minSpecialChars,this.minNumericChars,this.passMinLength):(this.employeeForm.get("password").setValidators([]),this.employeeForm.get("password").setErrors(null))}setUpFormValidations(){this.canAccessPersonalPanel||(this.employeeForm.controls.firstname.setValidators([]),this.employeeForm.controls.surname.setValidators([]),this.employeeForm.controls.startDate.setValidators([]),this.employeeForm.controls.email.setValidators([])),this.canAccessSystemPanel||(this.employeeForm.controls.username.setValidators([]),this.employeeForm.controls.notificationTypeID.setValidators([]),this.notificationsSelected=!0)}roundOffWeeklyHours(){if(null==this.employeeForm.controls.weeklyHours.errors&&null!=this.employeeForm.controls.weeklyHours.value){let t=parseFloat(this.employeeForm.controls.weeklyHours.value).toFixed(2);this.employeeForm.controls.weeklyHours.setValue(t)}}EnableDisableControls(t,i){if("Read-only"!=this.CanModifyAvailabilityPanel&&"Read-only"!=this.linkedEmployeeRights)if(1==t)switch(i.id){case"chkMonday":this.f.mondayStartTime.enable(),this.f.mondayEndTime.enable();break;case"chkTuesday":this.f.tuesdayStartTime.enable(),this.f.tuesdayEndTime.enable();break;case"chkWednesday":this.f.wednesdayStartTime.enable(),this.f.wednesdayEndTime.enable();break;case"chkThursday":this.f.thursdayStartTime.enable(),this.f.thursdayEndTime.enable();break;case"chkFriday":this.f.fridayStartTime.enable(),this.f.fridayEndTime.enable();break;case"chkSaturday":this.f.saturdayStartTime.enable(),this.f.saturdayEndTime.enable();break;case"chkSunday":this.f.sundayStartTime.enable(),this.f.sundayEndTime.enable()}else switch(i.id){case"chkMonday":document.getElementById("eSolveMondayStartTime").value="",document.getElementById("eSolveMondayEndTime").value="",this.f.mondayStartTime.disable(),this.f.mondayEndTime.disable();break;case"chkTuesday":document.getElementById("eSolveTuesdayStartTime").value="",document.getElementById("eSolveTuesdayEndTime").value="",this.f.tuesdayStartTime.disable(),this.f.tuesdayEndTime.disable();break;case"chkWednesday":document.getElementById("eSolveWednesdayStartTime").value="",document.getElementById("eSolveWednesdayEndTime").value="",this.f.wednesdayStartTime.disable(),this.f.wednesdayEndTime.disable();break;case"chkThursday":document.getElementById("eSolveThursdayStartTime").value="",document.getElementById("eSolveThursdayEndTime").value="",this.f.thursdayStartTime.disable(),this.f.thursdayEndTime.disable();break;case"chkFriday":document.getElementById("eSolveFridayStartTime").value="",document.getElementById("eSolveFridayEndTime").value="",this.f.fridayStartTime.disable(),this.f.fridayEndTime.disable();break;case"chkSaturday":document.getElementById("eSolveSaturdayStartTime").value="",document.getElementById("eSolveSaturdayEndTime").value="",this.f.saturdayStartTime.disable(),this.f.saturdayEndTime.disable();break;case"chkSunday":document.getElementById("eSolveSundayStartTime").value="",document.getElementById("eSolveSundayEndTime").value="",this.f.sundayStartTime.disable(),this.f.sundayEndTime.disable()}}getMobileConnectionMappings(){this.mobileAppConnectionCode="",this.customerName=localStorage.getItem("customerName"),this._mobileConnectionService.getMobileConnectionCode(this.customerName).subscribe(t=>{t.connectionMappingId&&6==t.connectionMappingId.length&&(this.mobileAppConnectionCode=t.connectionMappingId,this.employeeForm.controls.mobileAppCode.setValue(this.mobileAppConnectionCode))},t=>{this.mobileAppConnectionCode="",this._messageService.open(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.qu),e.Y36(Vr.n),e.Y36(we.H7),e.Y36(Ri.x),e.Y36(Rc.Z),e.Y36(z.uw),e.Y36(se.G),e.Y36(q.F0),e.Y36(Lx),e.Y36(Uf),e.Y36(e.Qsj),e.Y36(qi.J),e.Y36(yr.H),e.Y36(jn),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(fe.T),e.Y36(Ir.e),e.Y36(nk))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-details"]],viewQuery:function(t,i){if(1&t&&(e.Gf(lz,5),e.Gf(cz,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.empTabs=r.first),e.iGM(r=e.CRH())&&(i.skillsTab=r.first)}},decls:38,vars:15,consts:[[3,"hidden"],["id","employeeDetailsContainer",1,"g-thin-black-scroll-bar","employee-details-scroll"],[1,"row","tab-row","personal-tab","esolve-emp-details"],[1,"col-md-auto","col-12","image-side"],[1,"row"],[1,"col-12"],[1,"row","d-flex","justify-content-center"],["class","profile-image","id","profileImage",3,"src",4,"ngIf","ngIfElse"],["defaultImage",""],[1,"row","change-photo-button"],[1,"cursor-pointer","esolve-blue","eSolve-font-size","bold-text",3,"click"],[1,"col-md-auto","col-12","info-side"],[1,"row","empl-name-container"],["class","esolve-emp-name ",4,"ngIf","ngIfElse"],[1,"esolve-emp-job"],["noname",""],[3,"ngClass"],[1,"col-md-8","col-xl-9","col-xs-12","col-sm-12"],[1,"col-md-8","col-xl-8","col-xs-10"],["class","row",4,"ngIf"],[1,"col-md-4","col-xl-3","col-xs-12","col-sm-12","esolve-margin-delete"],[4,"ngIf"],[1,"row","lower-section"],["class","col-12","id","employeePanel",4,"ngIf"],["id","profileImage",1,"profile-image",3,"src"],["src","assets/images/default-avatar.jpg",1,"profile-image"],[1,"esolve-emp-name"],["class","esolve-emp-name",4,"ngIf"],[1,"col-md-5","col-lg-4","col-12"],[1,"eSolve-font-size","bold-text","skills-label","summary-info"],[1,"col-md-7","col-lg-8","col-12","d-flex","flex-row"],["class","esolve-skill-tile",4,"ngFor","ngForOf"],["class","esolve-skill-tile",4,"ngIf"],[1,"esolve-skill-tile"],[1,"skill-tags"],[1,"eSolve-font-size","summary-info"],[1,"eSolve-font-size","cursor-pointer","summary-info",3,"click"],[1,"eSolve-font-size","bold-text","summary-info"],[1,"col-md-7","col-lg-8","col-12","eSolve-font-size","bold-text","esolve-gray-text"],[1,"phone-number-label","summary-info"],[1,"col-md-7","col-lg-8","col-12"],[1,"esolve-gray-text","eSolve-font-size","bold-text","summary-info"],[1,"empl-number-display","summary-info"],[1,"col-md-12","justify-content-end","access-email-container"],["id","send_email_button","type","button",1,"delete-emp-button","btn","p-2","modal-btn","employee-details","access-email-btn-text-color","access-email-btn-send",3,"click"],["accessEmailBtn",""],["id","send_email_button","type","button",1,"delete-emp-button","btn","p-2","modal-btn","employee-details","access-email-btn-text-color","access-email-btn-resend",3,"click"],["id","employeePanel",1,"col-12"],["novalidate","","autocomplete","off","id","detailsForm","class","mat-tab-group-parent",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","","autocomplete","off","id","detailsForm",1,"mat-tab-group-parent",3,"formGroup","ngSubmit"],["ef","ngForm"],[1,"esolve-tabs"],["employeeTabs",""],["label","Organisational",4,"ngIf"],["label","Pay",4,"ngIf"],["label","Schedule",4,"ngIf"],["label","Skills",4,"ngIf"],["empFormButtons",""],["mat-tab-label",""],[1,"row","tab-row","personal-tab","esolve-emp-tab"],[1,"col-md-3"],["for","employeeNumber",1,"form-label"],["id","employeeNumber","maxlength","50","name","edit-employeeNumber","formControlName","employeeNumber",1,"form-control","form-control-sm","form-input",3,"readOnly","change","keyup"],["class","validationError",4,"ngIf"],["for","FirstName",1,"form-label"],["id","FirstName","name","edit-firstname","formControlName","firstname",1,"form-control","form-control-sm","form-input",3,"readonly"],["for","LastName",1,"form-label"],["id","LastName","name","edit-surname","formControlName","surname",1,"form-control","form-control-sm","form-input",3,"readonly"],[1,"datepicker_div","col-12"],["for","startDatePicker",1,"form-label","datePicker"],["autocomplete","off","id","startDatePicker","name","startDate","formControlName","startDate",1,"form-control","form-control-sm","date_input","eSolve-font-size","eSolve_datePicker_input",3,"dateLengthTracker","matDatepicker","readonly"],["src","assets/icons/calendar-icon.png",1,"eSolve_datePicker_calendar_icon_img_disabled"],["picker2",""],["for","leaveDatePicker",1,"form-label","datePicker"],["autocomplete","off","id","leaveDatePicker","name","edit-leaveDate","formControlName","leaveDate",1,"form-control","form-control-sm","date_input","eSolve-font-size","eSolve_datePicker_input",3,"dateLengthTracker","matDatepicker","placeholder"],["src","assets/icons/calendar-icon.png",1,"eSolve_datePicker_calendar_icon_img",3,"click"],["picker3",""],["for","email",1,"form-label"],["id","email","name","edit-email","type","email","email","","formControlName","email",1,"form-control","form-control-sm","form-input",3,"readonly"],[1,"col-md-3","padding_bottom"],["for","TelephoneNumber",1,"form-label"],["id","TelephoneNumber","name","edit-telephoneNumber","formControlName","telephoneNumber",1,"form-control","form-control-sm","form-input"],["for","MobileNumber",1,"form-label"],["id","MobileNumber","name","edit-mobileNumber","formControlName","mobileNumber",1,"form-control","form-control-sm","form-input"],["for","birthDate",1,"form-label","datePicker"],["autocomplete","off","id","birthDate","name","birthDate","formControlName","dateOfBirth",1,"form-control","form-control-sm","date_input","eSolve-font-size","eSolve_datePicker_input",3,"dateLengthTracker","matDatepicker","placeholder"],["picker1",""],["for","Gender",1,"form-label"],["formControlName","genderID","id","Gender",1,"form-input","employee-details",3,"searchable","clearable","virtualScroll"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","address1",1,"form-label"],["id","address1","name","edit-address1","formControlName","address1",1,"form-control","form-control-sm","form-input"],["for","address2",1,"form-label"],["id","address2","name","edit-address2","formControlName","address2",1,"form-control","form-control-sm","form-input"],["for","address3",1,"form-label"],["id","address3","name","edit-address3","formControlName","address3",1,"form-control","form-control-sm","form-input"],["for","address4",1,"form-label"],["id","address4","name","edit-address4","formControlName","address4",1,"form-control","form-control-sm","form-input"],[4,"ngTemplateOutlet"],[1,"warning-span"],["class","warning-span","class","tabError",4,"ngIf"],[1,"tabError"],[1,"validationError"],[3,"value"],["label","Organisational"],[1,"row","d-flex","tab-row","justify-content-between","personal-tab","esolve-emp-tab"],["for","Location",1,"form-label"],["formControlName","employeeLocations","id","Location",1,"jobTypeDetails",3,"multiple","hideSelected","closeOnSelect","virtualScroll","readonly"],["for","Department",1,"form-label"],["formControlName","departmentID","id","Department",1,"form-input","employee-details",3,"virtualScroll","readonly"],["for","JobTitle",1,"form-label"],["formControlName","jobTitleID","id","JobTitle",1,"form-input","employee-details",3,"virtualScroll","readonly"],["for","CostCode",1,"form-label"],["formControlName","costCodeID","id","CostCode",1,"form-input","employee-details",3,"virtualScroll","readonly"],["for","Division",1,"form-label"],["formControlName","divisionID","id","Division",1,"form-input","employee-details",3,"virtualScroll","readonly"],["for","Class",1,"form-label"],["formControlName","classID","id","Class",1,"form-input","employee-details",3,"virtualScroll"],["for","Team",1,"form-label"],["formControlName","teamID","id","Team",1,"form-input","employee-details",3,"virtualScroll"],["label","Pay"],["for","PayRate",1,"form-label"],["id","PayRate","type","number","min","0","name","edit-payRate","formControlName","payRate","numbersOnlyMask","",1,"form-control","form-control-sm","form-input"],["label","Schedule"],[1,"col-md-4"],["for","DefaultJobType",1,"form-label"],["formControlName","jobTypeID","id","DefaultJobType",1,"form-input","employee-details",3,"virtualScroll","readonly"],["for","workRule","hidden","",1,"form-label"],["formControlName","workRuleID","id","workRule","hidden","",1,"form-input","employee-details",3,"virtualScroll"],["for","TargetRuleGroup","hidden","",1,"form-label"],["formControlName","targetRuleGroupID","id","TargetRuleGroup","hidden","",1,"form-input","employee-details",3,"virtualScroll"],["for","MaxHours1",1,"form-label"],["id","MaxHours1","type","number","min","0","max","99999","name","edit-maxHours1","formControlName","maxHours1","onKeyPress","if(this.value.length > 4) return false;","numbersOnlyMask","",1,"form-control","form-control-sm","form-input"],["for","MaxHours2",1,"form-label"],["id","MaxHours2","type","number","min","0","max","99999","name","edit-maxHours2","formControlName","maxHours2","onKeyPress","if(this.value.length > 4) return false;","numbersOnlyMask","",1,"form-control","form-control-sm","form-input"],["for","MaxHours3",1,"form-label"],["id","MaxHours3","type","number","min","0","max","99999","name","edit-maxHours3","formControlName","maxHours3","onKeyPress","if(this.value.length > 4) return false;","numbersOnlyMask","",1,"form-control","form-control-sm","form-input"],["for","MaxHours4",1,"form-label"],["id","MaxHours4","type","number","min","0","max","99999","name","edit-maxHours4","formControlName","maxHours4","onKeyPress","if(this.value.length > 4) return false;","numbersOnlyMask","",1,"form-control","form-control-sm","form-input"],["for","MaxHours5",1,"form-label"],["id","MaxHours5","type","number","min","0","max","99999","name","edit-maxHours5","formControlName","maxHours5","onKeyPress","if(this.value.length > 4) return false;","numbersOnlyMask","",1,"form-control","form-control-sm","form-input"],[1,"row","checkbox-row"],[1,"col-12","checkbox-col"],["id","allowedTrade","name","edit-allowedTrade","formControlName","allowedTrade",1,"form-label"],["label","Skills"],["skillsTab",""],[1,"personal-tab","esolve-emp-tab"],[1,"skills_container"],[1,"g-thin-black-scroll-bar","employee-details-scroll","skillsList"],["id","skills_data",1,"list-container"],[4,"ngFor","ngForOf"],[1,"single-skill-row"],[1,"skillName","margin-top-10"],["id","skill-area",3,"ngClass"],[4,"ngIf","ngIfElse"],["inactive",""],[1,"hr_margin"],["aria-hidden","true",1,"fa","fa-check-circle","active-checkbox",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle","inactive-checkbox",3,"click"],[1,"col-12","d-flex","right-padding","left-padding","weekly-hours-label"],["for","WeeklyHours",1,"form-label"],[1,"col-lg-3","d-flex","right-padding","left-padding"],["id","WeeklyHours","type","number","min","0","max","158","name","edit-weeklyHours","formControlName","weeklyHours",1,"form-control","form-control-sm","form-input",3,"readonly"],[1,"col-12","d-flex","right-padding","left-padding"],[1,"row","d-flex","tab-row","justify-content-between","esolve-emp-tab","no-margins-down"],[1,"col-12","d-flex","right-padding","bottom-padding"],[1,"col-1"],["id","chkMonday","name","edit-monday","formControlName","formControlMonday",1,"form-label",3,"change"],["chkMonday",""],[1,"col-sm-2"],["type","text","placeholder","HH:MM","id","eSolveMondayStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","mondayStartTime","formControlName","mondayStartTime",1,"form-control","form-control-sm","availability-weekdays","font-size-11",3,"dropSpecialCharacters"],["type","text","placeholder","HH:MM","id","eSolveMondayEndTime","name","mondayEndTime","mask","Hh:m0","formControlName","mondayEndTime","maxlength","5","minlength","5",1,"form-control","form-control-sm","font-size-11",3,"dropSpecialCharacters"],["id","chkTuesday","name","edit-tuesday","formControlName","formControlTuesday",1,"form-label",3,"change"],["chkTuesday",""],["type","text","placeholder","HH:MM","id","eSolveTuesdayStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","tuesdayStartTime","formControlName","tuesdayStartTime",1,"form-control","form-control-sm","availability-weekdays","font-size-11",3,"dropSpecialCharacters"],["type","text","placeholder","HH:MM","id","eSolveTuesdayEndTime","name","tuesdayEndTime","mask","Hh:m0","formControlName","tuesdayEndTime","maxlength","5","minlength","5",1,"form-control","form-control-sm","font-size-11",3,"dropSpecialCharacters"],["id","chkWednesday","name","edit-wednesday","formControlName","formControlWednesday",1,"form-label",3,"change"],["chkWednesday",""],["type","text","placeholder","HH:MM","id","eSolveWednesdayStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","wednesdayStartTime","formControlName","wednesdayStartTime",1,"form-control","form-control-sm","availability-weekdays","font-size-11",3,"dropSpecialCharacters"],["type","text","placeholder","HH:MM","id","eSolveWednesdayEndTime","name","wednesdayEndTime","mask","Hh:m0","formControlName","wednesdayEndTime","maxlength","5","minlength","5",1,"form-control","form-control-sm","font-size-11",3,"dropSpecialCharacters"],["id","chkThursday","name","edit-thursday","formControlName","formControlThursday",1,"form-label",3,"change"],["chkThursday",""],["type","text","placeholder","HH:MM","id","eSolveThursdayStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","thursdayStartTime","formControlName","thursdayStartTime",1,"form-control","form-control-sm","availability-weekdays","font-size-11",3,"dropSpecialCharacters"],["type","text","placeholder","HH:MM","id","eSolveThursdayEndTime","name","thursdayEndTime","mask","Hh:m0","formControlName","thursdayEndTime","maxlength","5","minlength","5",1,"form-control","form-control-sm","font-size-11",3,"dropSpecialCharacters"],["id","chkFriday","name","edit-friday","formControlName","formControlFriday",1,"form-label",3,"change"],["chkFriday",""],["type","text","placeholder","HH:MM","id","eSolveFridayStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","fridayStartTime","formControlName","fridayStartTime",1,"form-control","form-control-sm","availability-weekdays","font-size-11",3,"dropSpecialCharacters"],["type","text","placeholder","HH:MM","id","eSolveFridayEndTime","name","fridayEndTime","mask","Hh:m0","formControlName","fridayEndTime","maxlength","5","minlength","5",1,"form-control","form-control-sm","font-size-11",3,"dropSpecialCharacters"],["id","chkSaturday","name","edit-saturday","formControlName","formControlSaturday",1,"form-label",3,"change"],["chkSaturday",""],["type","text","placeholder","HH:MM","id","eSolveSaturdayStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","saturdayStartTime","formControlName","saturdayStartTime",1,"form-control","form-control-sm","availability-weekdays","font-size-11",3,"dropSpecialCharacters"],["type","text","placeholder","HH:MM","id","eSolveSaturdayEndTime","name","saturdayEndTime","mask","Hh:m0","formControlName","saturdayEndTime","maxlength","5","minlength","5",1,"form-control","form-control-sm","font-size-11",3,"dropSpecialCharacters"],["id","chkSunday","name","edit-sunday","formControlName","formControlSunday",1,"form-label",3,"change"],["chkSunday",""],["type","text","placeholder","HH:MM","id","eSolveSundayStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","sundayStartTime","formControlName","sundayStartTime",1,"form-control","form-control-sm","availability-weekdays","font-size-11",3,"dropSpecialCharacters"],["type","text","placeholder","HH:MM","id","eSolveSundayEndTime","name","sundayEndTime","mask","Hh:m0","formControlName","sundayEndTime","maxlength","5","minlength","5",1,"form-control","form-control-sm","font-size-11",3,"dropSpecialCharacters"],["id","employee_details_system_tab",1,"warning-span"],["for","Username",1,"form-label"],["id","Username","name","edit-username","formControlName","username",1,"form-control","form-control-sm","form-input","eSolve-font-size",3,"readonly"],["for","Notification",1,"form-label"],["formControlName","notificationTypeID","id","Notification","required","","name","notificationTypeID","bindLabel","name","bindValue","id",1,"form-input","notificationSelect","employee-details",3,"items","ngClass","change","blur"],[1,"col-md-3","system-details-mid-segment"],["for","profileID",1,"form-label"],["formControlName","profileID","id","profileID",1,"form-input","employee-details",3,"virtualScroll","dropdownPosition"],["for","Manager",1,"form-label"],["formControlName","managerID","id","Manager",1,"form-input","employee-details",3,"virtualScroll"],["for","MobileAppConnectionCode",1,"form-label"],["id","MobileAppCode","name","edit-mobileAppCode","formControlName","mobileAppCode",1,"form-control","form-control-sm","form-input","eSolve-font-size",3,"readonly"],["class","mt-1 help-text",4,"ngIf"],["id","employee_details_mobile_app_access_tab",1,"warning-span"],["for","Password",1,"form-label"],["id","Password","type","password","name","edit-password","formControlName","password","autocomplete","new-password",1,"form-control","form-control-sm","form-input","eSolve-font-size",3,"change"],["for","ConfirmPassword",1,"form-label"],["id","ConfirmPassword","type","password","name","confirm-password","formControlName","confirmPassword",1,"form-control","form-control-sm","form-input","eSolve-font-size"],[1,"mt-1","help-text"],["aria-hidden","true",1,"fa","fa-question-circle-o"],[1,"d-flex","flex-row","justify-content-end","esolve-emp-tab","buttons-tab-bottom"],[1,"d-flex","justify-content-between","col-sm-6","col-md-3","col-lg-3"],[1,"esolve-empl-cancel-btn"],["id","cancelButton","type","button",1,"cancel-button","btn-block","btn-sm","p-2","eSolve-font-size",3,"disabled","click"],[1,"esolve-empl-save-btn"],["id","submitButton","type","submit",1,"submit-new-button","hoverWhite","btn-sm","btn-block","btn","p-2","eSolve-font-size",3,"disabled"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.YNc(7,dz,1,1,"img",7),e.YNc(8,uz,1,0,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(10,"div",9)(11,"label",10),e.NdJ("click",function(){return i.compressFileEdit()}),e._uU(12," Change Photo "),e.qZA()()()()(),e.TgZ(13,"div",11)(14,"div",12)(15,"div",5),e.YNc(16,pz,2,2,"label",13),e.qZA(),e.TgZ(17,"div",5)(18,"label",14),e._uU(19),e.qZA()()(),e.YNc(20,hz,1,1,"ng-template",null,15,e.W1O),e._UZ(22,"hr",16),e.TgZ(23,"div",4)(24,"div",17)(25,"div",4)(26,"div",18),e.YNc(27,_z,8,6,"div",19),e.YNc(28,vz,7,1,"div",19),e.YNc(29,bz,7,1,"div",19),e.YNc(30,yz,7,1,"div",19),e.qZA()()(),e.TgZ(31,"div",20),e.YNc(32,Cz,2,1,"div",21),e.YNc(33,wz,2,1,"div",21),e.qZA()(),e._UZ(34,"hr",16),e.qZA(),e._UZ(35,"hr"),e.qZA(),e.TgZ(36,"div",22),e.YNc(37,$K,2,1,"div",23),e.qZA()()()),2&t){const r=e.MAs(9),a=e.MAs(21);e.Q6J("hidden",!i.loaded),e.xp6(7),e.Q6J("ngIf",i.f.image.value)("ngIfElse",r),e.xp6(9),e.Q6J("ngIf",i.currentEmployeeObject.firstname||i.currentEmployeeObject.surname)("ngIfElse",a),e.xp6(3),e.hij(" ",i.currentEmployeeObject.jobTitle?i.currentEmployeeObject.jobTitle.name:""," "),e.xp6(3),e.Q6J("ngClass",i.canAccessPersonalPanel||i.canAccessSkillsPanel||"User"==i.role?"no-margins":"display-none"),e.xp6(5),e.Q6J("ngIf",i.canAccessSkillsPanel||"User"==i.role&&i.canAccessSkillsMatrix),e.xp6(1),e.Q6J("ngIf",i.canAccessPersonalPanel||"User"==i.role),e.xp6(1),e.Q6J("ngIf",i.canAccessPersonalPanel||"User"==i.role),e.xp6(1),e.Q6J("ngIf",i.canAccessPersonalPanel||"User"==i.role),e.xp6(2),e.Q6J("ngIf",null==i.isSystemAccessEmailSent),e.xp6(1),e.Q6J("ngIf",1==i.isSystemAccessEmailSent),e.xp6(1),e.Q6J("ngClass",i.canAccessPersonalPanel||i.canAccessSkillsPanel||"User"==i.role?"no-margins-down":"display-none"),e.xp6(3),e.Q6J("ngIf",i.comboValues)}},dependencies:[D.mk,D.sg,D.O5,D.tP,Zi.oG,Ts.SP,Ts.uD,Ts.uX,On.Mq,On.hl,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.Q7,_.wO,_.nD,_.on,_.qQ,_.Fd,_.sg,_.u,Sn,tr,Cs,$n,rr,mo,D.OU],styles:[".warning-span[_ngcontent-%COMP%]{font-style:normal}.help-text[_ngcontent-%COMP%]{font-size:11px;width:270px}.g-thin-black-scroll-bar.employee-details-scroll[_ngcontent-%COMP%]{height:calc(100vh - 185px)}.tab-row[_ngcontent-%COMP%]{margin:0!important;width:100%}.profile-image[_ngcontent-%COMP%]{width:152px;height:152px;margin-top:14px}.esolve-emp-details[_ngcontent-%COMP%]{margin-top:-10px!important;margin-bottom:-11px!important}.lower-section[_ngcontent-%COMP%]{margin-top:-10px!important}.column-fix[_ngcontent-%COMP%]{width:100%;max-width:100%!important;height:auto!important}.inputfile[_ngcontent-%COMP%]{height:40px;padding:10px;margin:6px 0;width:100%;border-radius:4px;font-size:14px;text-align:center;text-decoration:none;border:none;outline:none;background-color:#eff3f7;color:var(--eSolve-gray-dark);box-shadow:0 2px 5px #00000042;display:inline-block}.inputfile[_ngcontent-%COMP%]:focus{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}.esolve-emp-name[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#2c344b;white-space:nowrap;margin-bottom:-5px}.esolve-emp-job[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--eSolve-primary);margin-bottom:0}.no-margins-down[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px}.esolve-gray[_ngcontent-%COMP%]{color:gray}.backdropBackground[_ngcontent-%COMP%]{background:rgba(0,0,0,.5)!important}.esolve-skill-row[_ngcontent-%COMP%]{padding-left:1%}.form-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:0!important}.search_output[_ngcontent-%COMP%]{font-size:12px}.tab-spacer[_ngcontent-%COMP%]{margin-top:18px}#pageBodyLower[_ngcontent-%COMP%]{margin:0 11px}.card-title[_ngcontent-%COMP%]{margin:0 10px 19px 27px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]{max-height:160px!important}.ng-select.employee-details.notificationSelect[_ngcontent-%COMP%]{color:var(--eSolve-red)}.errorDateStyle[_ngcontent-%COMP%]{color:var(--eSolve-red);top:1vh;position:relative}.details-card[_ngcontent-%COMP%]{margin-top:3vh;position:relative}#detailsForm[_ngcontent-%COMP%]{position:relative;overflow:hidden}#uploadPictureButton[_ngcontent-%COMP%], #saveEmployeeChangesButton[_ngcontent-%COMP%]{color:var(--eSolve-gray-dark);background-color:#eff3f7}#deleteEmployeeButton[_ngcontent-%COMP%]{background-color:var(--eSolve-gray-dark);color:var(--eSolve-white);margin-left:10px!important}mat-checkbox[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-right:10px}.checkbox-row[_ngcontent-%COMP%]{margin-top:22px;padding-left:1px}.checkbox-col[_ngcontent-%COMP%]{margin-bottom:-6px}#employeePanel[_ngcontent-%COMP%]{padding:0 16px;box-sizing:border-box}.submit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%], .toggle-button[_ngcontent-%COMP%]{margin-bottom:10px;min-width:88px;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.info-side[_ngcontent-%COMP%]{margin-top:4px}#addEmployeeButton[_ngcontent-%COMP%]{color:#fff;background-color:var(--eSolve-primary);margin-left:10px!important}.top-details[_ngcontent-%COMP%]{padding:0}#container-div[_ngcontent-%COMP%]{background-color:#eff3f7!important;padding-bottom:5vh}.mat-form-field[_ngcontent-%COMP%]{font-size:14px}#detailsCard[_ngcontent-%COMP%]{top:0!important;margin-top:30px}.address-lines[_ngcontent-%COMP%]{margin-top:22vh}.checkbox-group[_ngcontent-%COMP%]{margin-left:30px}.mat-emp-list--inline[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:inline-block;margin-right:32px;width:25vw!important;margin-left:2vw;vertical-align:middle}.mat-emp-list--inline[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-right:10px}.mat-panel-field--inline[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}.mat-panel-field--inline[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:inline-block;width:30%;vertical-align:left;margin-top:2vh}.mat-panel-field--inline[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:10px}.detailsRow[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.divider[_ngcontent-%COMP%]{margin-top:1vh;width:96%!important}.tabError[_ngcontent-%COMP%]{color:var(--eSolve-red);font-weight:900}.calendar_img_holder[_ngcontent-%COMP%]{position:relative;left:-33px;top:5px}.date_input[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:.25rem!important;padding-left:.8rem!important;height:28px!important}.padding_bottom[_ngcontent-%COMP%]{padding-bottom:20px}.blue_hr[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.tabs[_ngcontent-%COMP%]{background-color:#e0e6e9}.esolve-emp-tab[_ngcontent-%COMP%]{background-color:var(--eSolve-white);padding:1%}.no-margins[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}.flex-column.eSolveButtons[_ngcontent-%COMP%]{position:relative;width:100%}.cancel-button[_ngcontent-%COMP%]{border-radius:4px;position:relative;text-align:center;text-decoration:none;float:right;border:none;outline:none;color:#fff;background-color:#404f64;box-shadow:0 2px 5px #00000042;margin-bottom:5px;height:28px;line-height:10px}.submit-new-button[_ngcontent-%COMP%]{border-radius:4px;position:relative;text-align:center;float:right;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);height:28px;line-height:10px;box-shadow:0 2px 5px #00000042}.tab-color[_ngcontent-%COMP%]{background-color:#e0e6e9;padding-right:2%}.esolve-cancel-div[_ngcontent-%COMP%]{width:8%}.esolve-submit-div[_ngcontent-%COMP%]{width:16%}.esolve-bottom-buttons[_ngcontent-%COMP%]{padding-right:1%!important;padding-left:1%!important}.mat-tab-label[_ngcontent-%COMP%]{background-color:transparent;font-size:14px;font-weight:700}.mat-ink-bar[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)!important}.emplDetailsHeader[_ngcontent-%COMP%]{padding-left:2%;margin-bottom:-20px}.modal-btn.employee-details[_ngcontent-%COMP%]{height:28px;width:100%}.esolve-margin-delete[_ngcontent-%COMP%]{margin:auto}.delete-emp-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042}.access-email-btn-text-color[_ngcontent-%COMP%]{color:#fff}.cancel-button[_ngcontent-%COMP%]:disabled{background-color:#6c7c94}.empl-number-display[_ngcontent-%COMP%]{margin-top:4px}.esolve-empl-cancel-btn[_ngcontent-%COMP%]{width:30%}.esolve-empl-save-btn[_ngcontent-%COMP%]{width:67%}.esolve-skill-tile[_ngcontent-%COMP%]{margin:4px 5px -1px 0;height:23px;padding:0 6px;background:var(--eSolve-tile)}.skill-tags[_ngcontent-%COMP%]{margin-top:-1px}.esolve-gray-text[_ngcontent-%COMP%]{color:gray}.esolve-skill-tile-color[_ngcontent-%COMP%]{background:var(--eSolve-tile)}.mat-tab-group-parent[_ngcontent-%COMP%]{min-height:40vh}.mat-tab-body-content[_ngcontent-%COMP%]{min-height:26vh!important}.skill-row[_ngcontent-%COMP%]{padding-bottom:1%}.esolve-emp-tab.personal-tab[_ngcontent-%COMP%]{min-height:35vh}.phone-number-label[_ngcontent-%COMP%]{padding-top:4px}.skills-label[_ngcontent-%COMP%]{padding-top:6px}.buttons-tab-bottom[_ngcontent-%COMP%]{margin-top:-25px}.skill-label[_ngcontent-%COMP%]{padding-left:0}.summary-info[_ngcontent-%COMP%]{margin-bottom:0}.bottom-padding-14px[_ngcontent-%COMP%]{padding-bottom:14px}.access-email-btn-send[_ngcontent-%COMP%]{background-color:var(--eSolve-red)}.access-email-btn-resend[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}#send_user_email_button[_ngcontent-%COMP%]:hover{color:#fff}.margin-left-5[_ngcontent-%COMP%]{margin-left:5px}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.display-none[_ngcontent-%COMP%]{display:none}.list-container[_ngcontent-%COMP%]{background-color:#fff;padding:0 25px;width:50%}.active-state[_ngcontent-%COMP%]{font-size:27px;cursor:pointer;text-align:right}.active-state-dto[_ngcontent-%COMP%]{font-size:27px;text-align:right}.active-state-no-cursor[_ngcontent-%COMP%]{font-size:27px;cursor:default;text-align:right}.skillName[_ngcontent-%COMP%]{font-size:12px}.hr_margin[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.g-thin-black-scroll-bar.skillsList[_ngcontent-%COMP%]{max-height:30vh}.disable-cursor-pointer[_ngcontent-%COMP%]{cursor:none}.enable-cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.test[_ngcontent-%COMP%]{cursor:default}.active-checkbox[_ngcontent-%COMP%]{color:var(--eSolve-green)!important}.inactive-checkbox[_ngcontent-%COMP%]{color:var(--eSolve-red)!important}.single-skill-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;padding:2px 5px 0}.availability-weekdays[_ngcontent-%COMP%]{margin-left:20px}.left-padding[_ngcontent-%COMP%]{padding-left:40px}.weekly-hours-label[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:5px}.right-padding[_ngcontent-%COMP%]{padding-right:100px}.bottom-padding[_ngcontent-%COMP%]{padding-bottom:10px}@media (min-width: 768px){.esolve-emp-details[_ngcontent-%COMP%]{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.info-side[_ngcontent-%COMP%]{width:75%}}@media (min-width: 1366px){.info-side[_ngcontent-%COMP%]{width:82%}}@media (min-width: 1440px){.info-side[_ngcontent-%COMP%]{width:83%}}@media (min-width: 1880px){.info-side[_ngcontent-%COMP%]{width:87%}}@media (min-width: 2222px){.info-side[_ngcontent-%COMP%]{width:90%}}@media (max-width: 1461px),(min-device-width: 992px) and (max-device-width: 1461px){.cancel-button[_ngcontent-%COMP%]{width:78px}}@media (max-width: 1024px){.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{height:40px;padding:10px 10px 0 18px;margin:6px 0;width:100%;max-width:100%;border-radius:4px;font-size:14px;text-align:center;text-decoration:none;border:none;outline:none;background-color:#eff3f7;color:var(--eSolve-gray-dark);box-shadow:0 2px 5px #00000042;display:inline-block}.modal-btn.employee-details[_ngcontent-%COMP%]{height:28px;width:100%;float:left}}@media (max-width: 992px){.list-container[_ngcontent-%COMP%]{width:75%}}@media (max-width: 767px){#emplTableFilter[_ngcontent-%COMP%]{width:100%}#empSearchInput[_ngcontent-%COMP%]{margin:0 0 7px}.delete-emp-button[_ngcontent-%COMP%]{margin-bottom:10px}.change-photo-button[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important}.lower-section[_ngcontent-%COMP%]{margin-top:9px!important}.buttons-tab-bottom[_ngcontent-%COMP%]{margin-top:10px}.access-email-container[_ngcontent-%COMP%], .padding_bottom[_ngcontent-%COMP%]{padding-bottom:0!important}.system-details-mid-segment[_ngcontent-%COMP%]{margin-top:-38px;margin-bottom:-40px}.esolve-empl-cancel-btn[_ngcontent-%COMP%], .esolve-empl-save-btn[_ngcontent-%COMP%]{width:100%}.cancel-button[_ngcontent-%COMP%], .submit-new-button[_ngcontent-%COMP%]{float:none}.esolve-emp-tab.personal-tab[_ngcontent-%COMP%]{min-height:313px}.list-container[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){.list-container[_ngcontent-%COMP%]{display:block;text-align:center;width:100%}.skillName[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 425px){.esolve-emp-name[_ngcontent-%COMP%]{white-space:break-spaces;text-align:center}.info-header-button[_ngcontent-%COMP%]{width:100%;-ms-flex-pack:center!important;justify-content:center!important}}@media (max-width: 375px){.single-skill-row[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}}@media (max-width: 369px){.g-thin-black-scroll-bar.employee-details-scroll[_ngcontent-%COMP%]{height:calc(100vh - 205px)}}"],data:{animation:[(0,Ei.X$)("inOutAnimation",[(0,Ei.eR)(":enter",[(0,Ei.oB)({height:0,opacity:0}),(0,Ei.jt)("0.2s ease-out",(0,Ei.oB)({height:300,opacity:1}))]),(0,Ei.eR)(":leave",[(0,Ei.oB)({height:300,opacity:1}),(0,Ei.jt)("0.2s ease-in",(0,Ei.oB)({height:0,opacity:0}))])])]}}),n})();const e$=["searchInputField"];function t$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",21,22),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(1),a=e.oxw(2);return e.KtG(a.toggleSelectAllEmployees(r._checked))})("ngModelChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectedAllEmployees=r)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngModel",t.selectedAllEmployees)("hidden",t.loggedInAsEmployee)}}function n$(n,o){if(1&n&&(e.TgZ(0,"th",19),e.YNc(1,t$,2,2,"mat-checkbox",20),e._uU(2),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.resultsLength>0),e.xp6(1),e.hij(" Employees (",t.resultsLength,") ")}}function i$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.selectEmp(r))}),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("src",i.sanitizeExisting(t.image),e.LSH)}}function r$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.selectEmp(r))}),e.qZA()}}function o$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",23)(1,"mat-checkbox",24,25),e.NdJ("change",function(){const a=e.CHM(t).$implicit,s=e.MAs(2),l=e.oxw();return e.KtG(l.unSelectedEmployee(s._checked,a.id))})("ngModelChange",function(r){const s=e.CHM(t).$implicit;return e.KtG(s.isSelected=r)}),e.qZA(),e.YNc(3,i$,1,1,"img",26),e.TgZ(4,"span",27),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectEmp(a))}),e._uU(5),e.qZA(),e.TgZ(6,"span",28),e._UZ(7,"i",29),e.qZA(),e.YNc(8,r$,1,0,"ng-template",null,30,e.W1O),e.TgZ(10,"div",31)(11,"button",32),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectEmp(a))}),e._uU(12," Employee Details "),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.MAs(9),r=e.oxw();e.xp6(1),e.Q6J("ngModel",t.isSelected)("checked",r.isChecked(t.id))("hidden",r.loggedInAsEmployee),e.xp6(2),e.Q6J("ngIf",t.image)("ngIfElse",i),e.xp6(2),e.Oqu(t.nameAndSurname)}}function a$(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1," Start Date "),e.qZA())}function s$(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"DateTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.startDate),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.startDate)," ")}}function l$(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1," Job Title "),e.qZA())}function c$(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.jobTitle),e.xp6(1),e.hij(" ",t.jobTitle," ")}}function d$(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1," Profile "),e.qZA())}function u$(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.profileName),e.xp6(1),e.hij(" ",t.profile," ")}}function p$(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1," Employee Number "),e.qZA())}function f$(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.employeeNumber),e.xp6(1),e.hij(" ",t.employeeNumber," ")}}function h$(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1," Phone "),e.qZA())}function m$(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.employeePhoneNumber),e.xp6(1),e.hij(" ",t.employeePhoneNumber," ")}}function g$(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1," Email "),e.qZA())}function _$(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.employeePhoneNumber),e.xp6(1),e.hij(" ",t.email," ")}}function v$(n,o){1&n&&(e.TgZ(0,"th",19)(1,"span"),e._uU(2,"Actions"),e.qZA()())}const b$=function(n,o){return{"details-button-width-sm":n,"details-button-width-md":o}};function y$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",36)(1,"button",37),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectEmp(a))}),e._uU(2," Employee Details "),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.s9C("id",t.actions),e.xp6(1),e.Q6J("ngClass",e.WLB(2,b$,i.isSm,!i.isSm))}}function x$(n,o){1&n&&e._UZ(0,"tr",38)}function C$(n,o){1&n&&e._UZ(0,"tr",39)}const T$=function(){return[5,10,25,50,100,250]};let w$=(()=>{class n{constructor(t,i,r,a,s,l,c){this._employeeService=t,this._messageService=i,this._router=r,this.sanitizer=a,this.mediaObserver=s,this._securityService=l,this._userRoleService=c,this.displayedColumns=["employee","profile","employeeNumber","startDate","actions"],this.dataSource=new N.by,this.employeeTableCtrl=new _.NI,this.tableSearchTerm="",this.resultsLength=0,this.clicked=!1,this.isSm=!1,this.selectedAllEmployees=!1,this.employeeList=[],this.totalNumberOfSelectedEmployees=0,this.enableEditEmployeeButton=!1,this.isSelectAllChecked=!1,this.selectedEmployeesList=[],this.minUpperChars=0,this.minSpecialChars=0,this.minNumericChars=0,this.passwordValidationMessage="Password must consist of at least ",this.paternValidationMessageList=new Array,this.loggedInAsEmployee=!1,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort;const u=this._router.getCurrentNavigation();u.extras.state&&(this.onNavigateBackPageIndex=u.extras.state.page,this.onNavigateBackPageSize=u.extras.state.size,u.extras.state.paginationData&&(this.onNavigateBackPaginationData=u.extras.state.paginationData)),this._employeeService.assignProfile.subscribe(h=>{1==h&&(this._employeeService.selectedEmployeesId.next([]),this.toggleSelectAllEmployees(!1),this.populateTableData())})}ngAfterViewInit(){this._employeeService.isOnDetails.next(!1),this.populateTableData(),this.mediaObserver.asObservable().subscribe(t=>{switch(t[0].mqAlias){case"xs":case"sm":this.displayedColumns=["employee","profile","employeeNumber","startDate","actions"],this.isSm=!0;break;default:this.displayedColumns=["employee","profile","employeeNumber","startDate","actions"],this.isSm=!1}})}ngOnInit(){this._employeeService.totalEmployees.subscribe(t=>this.totalNumberOfSelectedEmployees=t),this._employeeService.enableEditEmployeeButton.subscribe(t=>this.enableEditEmployeeButton=t),this._employeeService.getNumberOfSelectedEmployees(0),this.onNavigateBackPaginationData&&(this.paginationData=this.onNavigateBackPaginationData),this._employeeService.paginationData.subscribe(t=>{t&&(this.paginationData=t,this.paginator.firstPage())}),this.getPasswordSpecifications(),this.getRole(),this.loggedInAsEmployee&&setTimeout(()=>{this.openEemployeeDetails()},100)}sanitizeExisting(t){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+t)}selectEmp(t){this._router.navigateByUrl("/manage-employees/details",{state:{id:t.id,passMin:this.minimumPasswordLength,minUpperChars:this.minUpperChars,minSpecialChars:this.minSpecialChars,minNumericChars:this.minNumericChars,passwordValidationMessage:this.passwordValidationMessage,tablePage:this.paginator.pageIndex,tableSize:this.paginator.pageSize,paginationData:this.paginationData,name:t.nameAndSurname}})}openEemployeeDetails(){const t=localStorage.getItem("id"),i=localStorage.getItem("loggedUserName");this.selectEmp({id:t,nameAndSurname:i})}populateTableData(){this.loggedInAsEmployee||(this.onNavigateBackPageIndex&&setTimeout(()=>{this.paginator.pageIndex=this.onNavigateBackPageIndex},0),this.onNavigateBackPageSize&&setTimeout(()=>{this.paginator.pageSize=this.onNavigateBackPageSize},0),this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page,this._employeeService.paginationData).pipe((0,_e.O)({}),(0,j.w)(()=>(this.employeeList.forEach(t=>t.isSelected=!1),this.totalNumberOfSelectedEmployees=0,this._employeeService.getNumberOfSelectedEmployees(this.totalNumberOfSelectedEmployees),this._employeeService.getAllEmployees("S",this.paginationData,this.onNavigateBackPageIndex?this.onNavigateBackPageIndex+1:this.paginator.pageIndex+1,this.onNavigateBackPageSize?this.onNavigateBackPageSize:this.paginator.pageSize,this.sort.direction,this.sort.active)))).subscribe(t=>{this.onNavigateBackPageIndex=void 0,this.onNavigateBackPageSize=void 0,this.resultsLength=t.totalCount,this.dataSource=t.items,this.employeeList=t.items,this.selectedAllEmployees?(this.toggleSelectAllEmployees(!0),this.employeeList.forEach(i=>-1===this.selectedEmployeesList.indexOf(i.id)?this.selectedEmployeesList.push(i.id):""),this._employeeService.getNumberOfSelectedEmployees(t.totalCount)):this._employeeService.getNumberOfSelectedEmployees(this.totalNumberOfSelectedEmployees);for(let i=0;i<this.employeeList.length;i++)for(let r=0;r<this.selectedEmployeesList.length;r++)this.employeeList[i].id==this.selectedEmployeesList[r]&&(this.employeeList[i].isSelected=!0)}))}getPasswordSpecifications(){this._securityService.getSecurity(!1).subscribe(t=>{let i;this.minimumPasswordLength=t.minimumLength,this.minUpperChars=t.minimumUpperCharacters,this.minSpecialChars=t.minimumSpecialCharacters,this.minNumericChars=t.minimumNumericCharacters,this.minUpperChars&&this.paternValidationMessageList.push(" "+this.minUpperChars+" uppercase character(s)"),this.minSpecialChars&&this.paternValidationMessageList.push(" "+this.minSpecialChars+" special character(s)"),this.minNumericChars&&this.paternValidationMessageList.push(" "+this.minNumericChars+" number(s)"),1==this.paternValidationMessageList.length&&(this.passwordValidationMessage+=this.paternValidationMessageList[0]),this.paternValidationMessageList.length>1&&(i=this.paternValidationMessageList.join(),this.passwordValidationMessage+=i)},t=>{this._messageService.open("Error retrieving security settings")})}toggleSelectAllEmployees(t){this.isSelectAllChecked=t,this.employeeList.forEach(i=>i.isSelected=t),t?this.totalNumberOfSelectedEmployees=this.resultsLength:t||(this.totalNumberOfSelectedEmployees=0,this.selectedEmployeesList=[]),this._employeeService.getNumberOfSelectedEmployees(this.totalNumberOfSelectedEmployees),this.updateSelectedEmployeeId()}unSelectedEmployee(t,i){t?(this.resultsLength-1==this.totalNumberOfSelectedEmployees&&(this.selectedAllEmployees=!0),this.totalNumberOfSelectedEmployees=this.totalNumberOfSelectedEmployees+1,this.isSelectAllChecked=t,this.selectedEmployeesList.push(i)):(this.selectedAllEmployees=!1,this.totalNumberOfSelectedEmployees=this.totalNumberOfSelectedEmployees-1,this.selectedEmployeesList=this.selectedEmployeesList.filter(r=>r!=i)),this._employeeService.getNumberOfSelectedEmployees(this.totalNumberOfSelectedEmployees),this.updateSelectedEmployeeId()}updateSelectedEmployeeId(){let t=[];this.employeeList.forEach(i=>{i.isSelected&&t.push(i.id)}),this._employeeService.selectedEmployeesId.next(t)}getRole(){this._userRoleService.loggedUserRole.subscribe(t=>{"Employee"==t&&(this.loggedInAsEmployee=!0)})}onKeydownEscape(){this.selectedAllEmployees=!1,this.employeeList.forEach(t=>t.isSelected=!1),this.totalNumberOfSelectedEmployees=0,this._employeeService.getNumberOfSelectedEmployees(this.totalNumberOfSelectedEmployees)}isChecked(t){for(let i=0;i<this.selectedEmployeesList.length;i++)if(t==this.selectedEmployeesList[i])return!0;return!1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Vr.n),e.Y36(se.G),e.Y36(q.F0),e.Y36(we.H7),e.Y36(Cu),e.Y36(hs.I),e.Y36(qi.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-table"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(e$,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.searchInput=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("keydown.escape",function(a){return i.onKeydownEscape(a)},!1,e.evT)},decls:31,vars:8,consts:[[1,"empl-table-container"],[1,"g-thin-black-scroll-bar","employee-table-scroll"],["mat-table","","matSort","",1,"employee-table",3,"dataSource"],["matColumnDef","employee"],["mat-header-cell","","class","hidden-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","lineHeight",4,"matCellDef"],["matColumnDef","startDate"],["mat-header-cell","","mat-sort-header","","class","hidden-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","hidden-on-small-screen",3,"id",4,"matCellDef"],["matColumnDef","jobTitle"],["matColumnDef","profile"],["matColumnDef","employeeNumber"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","actions"],["mat-header-row","","class","emp-table-row",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell","",1,"hidden-on-small-screen"],["class","mat-column-checkbox",3,"ngModel","hidden","change","ngModelChange",4,"ngIf"],[1,"mat-column-checkbox",3,"ngModel","hidden","change","ngModelChange"],["selectAll",""],["mat-cell","",1,"lineHeight"],[1,"mat-column-checkbox",3,"ngModel","checked","hidden","change","ngModelChange"],["selectEmployee",""],["class","table-image-md-lg","id","table-image",3,"src","click",4,"ngIf","ngIfElse"],[1,"emp-name-span",3,"click"],[1,"emp-table-chevron","pull-right"],[1,"fa","fa-chevron-right","empl-chevron-icon"],["defaultImage",""],[1,"visible-on-small-screen","pull-right","sm-size-button"],[1,"btn","details-button","border-none",3,"click"],["id","table-image",1,"table-image-md-lg",3,"src","click"],["id","table-image","src","assets/images/default-avatar.jpg",1,"table-image-md-lg",3,"click"],["mat-header-cell","","mat-sort-header","",1,"hidden-on-small-screen"],["mat-cell","",1,"hidden-on-small-screen",3,"id"],[1,"btn","details-button","border-none","pull-right",3,"ngClass","click"],["mat-header-row","",1,"emp-table-row"],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table",2),e.ynx(3,3),e.YNc(4,n$,3,2,"th",4),e.YNc(5,o$,13,6,"td",5),e.BQk(),e.ynx(6,6),e.YNc(7,a$,2,0,"th",7),e.YNc(8,s$,3,4,"td",8),e.BQk(),e.ynx(9,9),e.YNc(10,l$,2,0,"th",7),e.YNc(11,c$,2,2,"td",8),e.BQk(),e.ynx(12,10),e.YNc(13,d$,2,0,"th",7),e.YNc(14,u$,2,2,"td",8),e.BQk(),e.ynx(15,11),e.YNc(16,p$,2,0,"th",7),e.YNc(17,f$,2,2,"td",8),e.BQk(),e.ynx(18,12),e.YNc(19,h$,2,0,"th",7),e.YNc(20,m$,2,2,"td",8),e.BQk(),e.ynx(21,13),e.YNc(22,g$,2,0,"th",7),e.YNc(23,_$,2,2,"td",8),e.BQk(),e.ynx(24,14),e.YNc(25,v$,3,0,"th",4),e.YNc(26,y$,3,5,"td",8),e.BQk(),e.YNc(27,x$,1,0,"tr",15),e.YNc(28,C$,1,0,"tr",16),e.qZA()(),e._UZ(29,"mat-paginator",17,18),e.qZA()),2&t&&(e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(7,T$)))},dependencies:[D.mk,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,Zi.oG,_.JJ,_.On,$n,di,Do],styles:["table[_ngcontent-%COMP%]{width:98%}.eSolvechevron[_ngcontent-%COMP%]{position:relative;width:11%}.empl-chevron-icon[_ngcontent-%COMP%]{color:#c6c6c6;font-size:11px}.table-image-md-lg[_ngcontent-%COMP%]{height:35px;width:35px;padding:4px;border-radius:50%;cursor:pointer}.emp-name-span[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer}.empl-table-container[_ngcontent-%COMP%]{position:relative;overflow:auto;border-radius:5px 5px 0 0;top:-14px}.myHeader[_ngcontent-%COMP%], .myCell[_ngcontent-%COMP%]{-ms-flex:0 0 100px;flex:0 0 100px;white-space:nowrap}.details-button-width-sm[_ngcontent-%COMP%]{width:110px}.details-button-width-md[_ngcontent-%COMP%]{width:140px}.details-button[_ngcontent-%COMP%]{height:28px;font-size:11px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary)}.g-thin-black-scroll-bar.employee-table-scroll[_ngcontent-%COMP%]{height:calc(100vh - 250px);overflow-wrap:break-word}@media (max-width: 370px){.sm-size-button[_ngcontent-%COMP%]{width:100%}.lineHeight[_ngcontent-%COMP%]{height:75px}}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:21%;font-size:12px}th[_ngcontent-%COMP%]{font-weight:700}@media only screen and (max-width: 760px),(min-device-width: 320px) and (max-device-width: 640px){.esolve-chevron-container[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:12px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{border-bottom:0}.mat-paginator-page-size-select[_ngcontent-%COMP%]{margin:6px 4px 0;width:56px!important}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}}.visible-on-small-screen[_ngcontent-%COMP%]{display:none!important}.emp-table-chevron[_ngcontent-%COMP%]{padding-top:8px}.mat-column-employee[_ngcontent-%COMP%]{padding-left:0!important;padding-right:10%;position:relative;width:35%}.mat-column-chevron[_ngcontent-%COMP%]{position:relative;width:5%}.mat-column-jobTitle[_ngcontent-%COMP%]{position:relative;width:14%}.mat-column-employeeNumber[_ngcontent-%COMP%]{position:relative;width:26%}.mat-column-phone[_ngcontent-%COMP%]{position:relative;width:13%;padding-right:1%}.mat-column-email[_ngcontent-%COMP%]{position:relative;width:16%;padding-right:2%}.mat-column-startDate[_ngcontent-%COMP%]{position:relative;width:26%}.mat-column-actions[_ngcontent-%COMP%]{padding-right:0!important;width:1%}.mat-column-checkbox[_ngcontent-%COMP%]{position:relative;top:5px;margin-right:5px;margin-left:5px}@media (max-width: 760px){.emp-table-chevron[_ngcontent-%COMP%]{display:none}.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-employee[_ngcontent-%COMP%]{width:100%}.mat-column-chevron[_ngcontent-%COMP%]{display:none}.mat-column-jobTitle[_ngcontent-%COMP%], .mat-column-employeeNumber[_ngcontent-%COMP%], .mat-column-phone[_ngcontent-%COMP%], .mat-column-email[_ngcontent-%COMP%], .mat-column-startDate[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{width:100%}}@media (max-width: 448px){.g-thin-black-scroll-bar.employee-table-scroll[_ngcontent-%COMP%]{height:calc(100vh - 424px);overflow-wrap:break-word}}@media (max-width: 605px) and (min-width: 449px){.g-thin-black-scroll-bar.employee-table-scroll[_ngcontent-%COMP%]{height:calc(100vh - 370px);overflow-wrap:break-word}}@media (max-width: 767px) and (min-width: 606px){.g-thin-black-scroll-bar.employee-table-scroll[_ngcontent-%COMP%]{height:calc(100vh - 355px);overflow-wrap:break-word}}"]}),n})();class D${constructor(o,t){this.profile=o,this.panelPermissions=t}}class S${constructor(o,t,i,r,a,s){this.id=o,this.name=t,this.isUserProfile=i,this.schedulePermissions=r,this.absencePermissions=a,this.systemPermissions=s}}class rk{constructor(o,t){this.permissionTypeID=o,this.permissionOptionID=t}}class k${constructor(o,t,i,r){this.id=o,this.viewSchedule=t,this.tradeBoard=i,this.jobOffers=r}}class A${constructor(o,t){this.id=o,this.absenceCalendar=t}}class M${constructor(o,t,i){this.id=o,this.employeeDetails=t,this.changePassword=i}}var ok=J(28746);let z1=(()=>{class n{transform(t,i){return t?i?t.filter(function(r){return-1==i.indexOf(r)}):t:[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"panelPermissionsPipe",type:n,pure:!0}),n})();const O$=["name"],P$=["selectAllCheckbox"],E$=["schedulePanel"],I$=["absencePanel"],N$=["systemPanel"];function R$(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",34),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.currentProfile.profile.name," ")}}function F$(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Name is required "),e.qZA())}function Z$(n,o){if(1&n&&(e.TgZ(0,"div",39),e.YNc(1,F$,2,0,"div",7),e.qZA()),2&n){e.oxw();const t=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function L$(n,o){if(1&n&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.inUse," ")}}const U$=function(n){return{"input-error":n}};function j$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",35)(2,"input",36,37),e.NdJ("keyup",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.resetNameInUse())})("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.currentProfile.profile.name=r)}),e.qZA(),e.YNc(4,Z$,2,1,"div",38),e.YNc(5,L$,2,1,"div",38),e.qZA()()}if(2&n){const t=e.MAs(3),i=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(4,U$,i.nameInUse))("ngModel",i.currentProfile.profile.name),e.xp6(2),e.Q6J("ngIf",t.touched&&t.errors&&0===i.selectedProfileId),e.xp6(1),e.Q6J("ngIf",i.nameInUse)}}function Y$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",40),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"schedulePermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","schedule_",i.schedulePermissionNames[t.key],"")("name","schedule_",i.schedulePermissionNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.schedulePermissionNames[t.key]," ")}}function q$(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Y$,5,4,"div",28),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<i.schedulePart)}}function J$(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,q$,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function H$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",40),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"schedulePermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","schedule_",i.schedulePermissionNames[t.key],"")("name","schedule_",i.schedulePermissionNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.schedulePermissionNames[t.key]," ")}}function B$(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,H$,5,4,"div",28),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t>=i.schedulePart)}}function V$(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,B$,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function G$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",40),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"absencePermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","absence_",i.absencePermissionNames[t.key],"")("name","absence_",i.absencePermissionNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.absencePermissionNames[t.key]," ")}}function W$(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,G$,5,4,"div",28),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<i.absencePart)}}function Q$(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,W$,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function z$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",40),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"systemPermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","system_",i.systemPermissionsNames[t.key],"")("name","system_",i.systemPermissionsNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.systemPermissionsNames[t.key]," ")}}function K$(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,z$,5,4,"div",28),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<i.systemPart)}}function $$(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,K$,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function X$(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",42),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"systemPermissions"))}),e.TgZ(1,"span",11),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.MGl("id","system_",i.systemPermissionsNames[t.key],"")("name","system_",i.systemPermissionsNames[t.key]," checkbox"),e.Q6J("checked",t.value)("disabled",!0),e.xp6(2),e.hij(" ",i.systemPermissionsNames[t.key]," ")}}function eX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",42),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"systemPermissions"))}),e.TgZ(1,"span",11),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.MGl("id","system_",i.systemPermissionsNames[t.key],"")("name","system_",i.systemPermissionsNames[t.key]," checkbox"),e.Q6J("checked",!0)("disabled",!0),e.xp6(2),e.hij(" ",i.systemPermissionsNames[t.key]," ")}}function tX(n,o){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2),e.YNc(2,X$,3,5,"mat-checkbox",41),e.YNc(3,eX,3,5,"mat-checkbox",41),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngIf","employeeDetails"!=t.key),e.xp6(1),e.Q6J("ngIf","employeeDetails"==t.key)}}function nX(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,tX,4,2,"div",28),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t>=i.systemPart)}}function iX(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,nX,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function rX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ng-select",50),e.NdJ("change",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.checkPermission(r))})("ngModelChange",function(r){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.permissionOptionID=r)}),e.qZA()}if(2&n){const t=e.oxw(),i=t.index,r=t.$implicit,a=e.oxw();e.MGl("id","comparisonOptions",i,""),e.Q6J("items",a.panelPermissionsList)("ngModel",r.permissionOptionID)("dropdownPosition","top")}}function oX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ng-select",50),e.NdJ("change",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.checkPermission(r))})("ngModelChange",function(r){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.permissionOptionID=r)}),e.qZA()}if(2&n){const t=e.oxw(),i=t.index,r=t.$implicit,a=e.oxw();e.MGl("id","comparisonOptions",i,""),e.Q6J("items",a.panelPermissionsListSkill)("ngModel",r.permissionOptionID)("dropdownPosition","top")}}function aX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"i",52),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,a=e.oxw();return e.KtG(a.deletePanelPermission(r))}),e.qZA()()}}function sX(n,o){1&n&&e._UZ(0,"hr")}function lX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",43)(2,"div",1)(3,"div",44)(4,"label",45),e._uU(5,"Panel:"),e.qZA(),e.TgZ(6,"ng-select",46),e.NdJ("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.checkPermission(a))})("focus",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateSelectedPanelList())})("ngModelChange",function(r){const s=e.CHM(t).$implicit;return e.KtG(s.permissionTypeID=r)}),e.ALo(7,"panelPermissionsPipe"),e.qZA()(),e.TgZ(8,"div",47)(9,"label",45),e._uU(10,"Permissions:"),e.qZA(),e.YNc(11,rX,1,4,"ng-select",48),e.YNc(12,oX,1,4,"ng-select",48),e.qZA(),e.YNc(13,aX,2,0,"div",49),e.qZA(),e.YNc(14,sX,1,0,"hr",7),e.qZA()()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw();e.xp6(6),e.MGl("id","comparisonOptions",i,""),e.Q6J("items",e.xi3(7,8,r.panelOptionsList,r.selectedUserPanelPermissionsList))("ngModel",t.permissionTypeID)("dropdownPosition","top"),e.xp6(5),e.Q6J("ngIf",t.permissionTypeID!=r.skillId),e.xp6(1),e.Q6J("ngIf",t.permissionTypeID==r.skillId),e.xp6(1),e.Q6J("ngIf",1!=t.permissionTypeID),e.xp6(1),e.Q6J("ngIf",r.userPanelPermissionsList.length>1)}}function cX(n,o){1&n&&e._UZ(0,"hr")}function dX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.YNc(1,cX,1,0,"hr",7),e.TgZ(2,"span",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return r.addNewPanelPermission(),e.KtG(r.updateSelectedPanelList())}),e._uU(3,"+ Add New Value"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===t.userPanelPermissionsList.length)}}function uX(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,dX,4,1,"div",53),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.userPanelPermissionsList.length<8)}}function pX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteProfile())}),e._uU(1," Delete Profile "),e.qZA()}}let fX=(()=>{class n{constructor(t,i,r,a){this._messageService=t,this._dialogService=i,this._profileService=r,this._userRoleService=a,this.schedulePermissionNames={viewSchedule:"View Schedule",tradeBoard:"Trade Board",jobOffers:"Job Offers"},this.absencePermissionNames={absenceCalendar:"Absence Calendar"},this.systemPermissionsNames={employeeDetails:"Employee Details",changePassword:"Change Password"},this.onProfileCreated=new e.vpe,this.showDetails=!1,this.userPanelPermissionsList=new Array,this.selectedUserPanelPermissionsList=new Array,this.panelPermissionsListSkill=[],this.permissionsItemsValid=!0,this.selectedProfileId=0,this.nameInUse=!1,this.completedLoadingProfile=!0,this.isSelectAllChecked=!1,this.ngUnsubscribe=new b.x,this.removeNull=s=>(Object.keys(s).forEach(l=>s[l]&&"object"==typeof s[l]&&this.removeNull(s[l])||null==s[l]&&delete s[l]),s),this.setFalseValueOfPropertyIfNull=s=>{for(let l in s.profile.schedulePermissions)l in this.schedulePermissionNames?null===s.profile.schedulePermissions[l]&&(s.profile.schedulePermissions[l]=!1):"id"!==l&&(s.profile.schedulePermissions[l]=null);for(let l in s.profile.absencePermissions)l in this.absencePermissionNames?null===s.profile.absencePermissions[l]&&(s.profile.absencePermissions[l]=!1):"id"!==l&&(s.profile.absencePermissions[l]=null);for(let l in s.profile.systemPermissions)l in this.systemPermissionsNames?null===s.profile.systemPermissions[l]&&(s.profile.systemPermissions[l]=!1):"id"!==l&&(s.profile.systemPermissions[l]=null);return s},this.onResize()}onResize(t){this.screenHeight=window.innerHeight,this.screenWidth=window.innerWidth}set profile(t){t&&(this.selectedUserPanelPermissionsList=new Array,this.showDetails=!0,t.id>0?this.existingProfileSetUp(t.id):(this.newProfileSetUp(),setTimeout(()=>{this.scroll()},0)))}ngOnInit(){this.message=St.yw,this.detailsElement=document.getElementById("details"),this.profileExists=!1,this.getDropdownData(),this.getDropdownOptions(),this.initializeNewProfileObject()}newProfileSetUp(){this.profileExists=!1,this.selectedProfileId=0,this.initializeNewProfileObject(),this.userPanelPermissionsList=new Array,this.selectedUserPanelPermissionsList=new Array,this.completedLoadingProfile=!0,this.selectAllCheckbox.checked=!1,this.isSelectAllChecked=!1}existingProfileSetUp(t){this.profileExists=!0,this.selectedProfileId=t,this.selectedUserPanelPermissionsList=new Array,this.showDetails=!0,this.getProfileById(this.selectedProfileId)}getDropdownData(){this._profileService.getTabsList("false").pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.panelOptionsList=t;for(let i of t)"Skills"==i.name&&(this.skillId=i.id)},t=>{this._messageService.open(t)})}getDropdownOptions(){this._profileService.getTabsListOptions().pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.panelPermissionsList=t,this.panelPermissionsListSkill.push(t[1])},t=>{this._messageService.open(t)})}resetNameInUse(){this.nameInUse=!1}addNewPanelPermission(){let t=new rk;this.userPanelPermissionsList.push(t),this.permissionsItemsValid=!1}updateSelectedPanelList(){if(this.selectedUserPanelPermissionsList=new Array,this.userPanelPermissionsList.length){let t=new Array;this.userPanelPermissionsList.forEach(i=>{i.permissionOptionID&&i.permissionTypeID&&t.push(i)}),t.forEach(i=>{this.selectedUserPanelPermissionsList.push(this.panelOptionsList.find(r=>r.id===i.permissionTypeID))})}}checkPermission(t){if(t.permissionTypeID&&t.permissionOptionID)this.permissionsItemsValid=!0,!0===this.completedLoadingProfile&&this.updateSelectedPanelList();else{if(!t.permissionTypeID)for(let i=0;i<this.userPanelPermissionsList.length;i++)this.userPanelPermissionsList[i]==t.id&&(this.userPanelPermissionsList[i].permissionOptionID=null);this.permissionsItemsValid=!1}}deletePanelPermission(t){let i=this.userPanelPermissionsList[t].permissionTypeID;this.userPanelPermissionsList.splice(t,1);for(var r=this.selectedUserPanelPermissionsList.length-1;r>=0;--r)this.selectedUserPanelPermissionsList[r].id===i&&this.selectedUserPanelPermissionsList.splice(r,1);this.permissionsItemsValid=!0}initializeNewProfileObject(){this.currentProfile=new D$(new S$(0,null,!1,new k$(0,!1,!1,!1),new A$(0,!1),new M$(0,!1,!1))),this.currentProfile=this.removeNull(this.currentProfile),this.setPermissionPartCount()}setPermissionPartCount(){this.schedulePart=Math.ceil((Object.keys(this.currentProfile.profile.schedulePermissions).length-1)/2),Object.keys(this.currentProfile.profile.schedulePermissions).sort().indexOf("id")<=this.schedulePart&&(this.schedulePart+=1),this.absencePart=Math.ceil((Object.keys(this.currentProfile.profile.absencePermissions).length-1)/2),Object.keys(this.currentProfile.profile.absencePermissions).sort().indexOf("id")<=this.absencePart&&(this.absencePart+=1),this.systemPart=Math.ceil((Object.keys(this.currentProfile.profile.systemPermissions).length-1)/2),Object.keys(this.currentProfile.profile.systemPermissions).sort().indexOf("id")<=this.systemPart&&(this.systemPart+=1)}changePerms(t,i,r){!t.checked&&this.isSelectAllChecked&&(this.selectAllCheckbox.checked=!1,this.isSelectAllChecked=!1),this.currentProfile.profile[r][i]=t.checked,this.checkIsSelectedAll()}scroll(){this.screenWidth<768&&this.detailsElement.scrollIntoView({behavior:"smooth"})}resetProfile(){this.selectedProfileId>0?this.existingProfileSetUp(this.selectedProfileId):(this.name.control.markAsUntouched(),this.newProfileSetUp())}getProfileById(t){this.completedLoadingProfile=!1,this._profileService.getProfile(t).pipe((0,ok.x)(()=>{this.completedLoadingProfile=!0}),(0,H.R)(this.ngUnsubscribe)).subscribe(i=>{this.userPanelPermissionsList=new Array,i=this.setFalseValueOfPropertyIfNull(i),this.currentProfile=this.removeNull(i),this.setPermissionPartCount(),this.userPanelPermissionsList=i.panelPermissions,this.updatePanelPermissionsListStatus(this.userPanelPermissionsList),this.profileExists=!0,this.showDetails=!0,this.scroll(),this.checkIsSelectedAll()},i=>{this._messageService.open(i)})}checkIsSelectedAll(){this.selectAllCheckbox.checked=!0,this.isSelectAllChecked=!0;let t=["schedulePermissions","absencePermissions","systemPermissions"];for(let i=0;i<t.length;i++)Object.keys(this.currentProfile.profile[t[i]]).forEach(r=>{if("id"!==r&&!this.currentProfile.profile[t[i]][r])return this.selectAllCheckbox.checked=!1,void(this.isSelectAllChecked=!1)})}selectAll(t){this.isSelectAllChecked=t.checked,t.checked&&(this.schedulePanel.open(),this.absencePanel.open(),this.systemPanel.open());let i=["schedulePermissions","systemPermissions","absencePermissions"];for(let r=0;r<i.length;r++)Object.keys(this.currentProfile.profile[i[r]]).forEach(a=>{"id"!==a&&(this.currentProfile.profile[i[r]][a]=t.checked)})}saveChanges(){if(0===this.selectedProfileId&&(this.currentProfile.profile.name&&(this.currentProfile.profile.name=String(this.currentProfile.profile.name.trim())),this.name.control.markAsTouched()),this.userPanelPermissionsList.length)for(let t=this.userPanelPermissionsList.length-1;t>=0;t--)if(!this.userPanelPermissionsList[t].permissionTypeID||!this.userPanelPermissionsList[t].permissionOptionID){let i=this.userPanelPermissionsList.indexOf(this.userPanelPermissionsList[t]);this.userPanelPermissionsList.splice(i,1)}this.updatePanelPermissionsListStatus(this.userPanelPermissionsList),this.currentProfile.panelPermissions=this.userPanelPermissionsList,0===this.currentProfile.profile.id?(this.name.invalid||this.createProfile(this.currentProfile),this.name.invalid&&this._messageService.open("Profile name is required")):this.currentProfile.profile.id>0&&this.editProfile(this.currentProfile)}createProfile(t){this._profileService.createProfile(t).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(i=>{this.onProfileCreated.emit(i),this.profileExists=!0,this.selectedProfileId=i,this.selectedUserPanelPermissionsList=new Array,this.showDetails=!0,this.existingProfileSetUp(i),this.updatePanelPermissionsListStatus(this.userPanelPermissionsList),this._messageService.open("Profile created.")},i=>{let r=this._messageService.handleHttpError(i);"Name is already in use."===r&&(this.nameInUse=!0),this._messageService.open(r)})}editProfile(t){this._profileService.editProfile(t).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(i=>{this.updatePanelPermissionsListStatus(this.userPanelPermissionsList),this._messageService.open("Profile saved.")},i=>{this._messageService.open(i)})}deleteProfile(){this._dialogService.openConfirmDialog("Delete",(0,St.$j)(" Profile")).afterClosed().pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{t&&this._profileService.deleteProfile(this.selectedProfileId).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{this.onProfileCreated.emit(0),this._profileService.profileDeleted.next(!0),this._messageService.open("Profile deleted."),this.showDetails=!1,this.newProfileSetUp()},r=>{this._messageService.open(r)})})}updatePanelPermissionsListStatus(t){let i=0;t.forEach(r=>{r.permissionTypeID&&r.permissionOptionID&&i++}),this.permissionsItemsValid=i==t.length}ngOndestroy(){this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se.G),e.Y36(Ri.x),e.Y36(yr.H),e.Y36(qi.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-emp-profiles-details"]],viewQuery:function(t,i){if(1&t&&(e.Gf(O$,5),e.Gf(P$,7,Zi.oG),e.Gf(E$,7,so.ib),e.Gf(I$,7,so.ib),e.Gf(N$,7,so.ib)),2&t){let r;e.iGM(r=e.CRH())&&(i.name=r.first),e.iGM(r=e.CRH())&&(i.selectAllCheckbox=r.first),e.iGM(r=e.CRH())&&(i.schedulePanel=r.first),e.iGM(r=e.CRH())&&(i.absencePanel=r.first),e.iGM(r=e.CRH())&&(i.systemPanel=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},inputs:{profile:"profile"},outputs:{onProfileCreated:"onProfileCreated"},decls:84,vars:27,consts:[[1,"container-fluid",3,"hidden"],[1,"row"],[1,"col-12"],[1,"table-container"],[1,"g-thin-black-scroll-bar"],["id","details",1,"details-container"],[1,"row","d-flex","justify-content-between"],[4,"ngIf"],[1,"margin-r-15"],[3,"change"],["selectAllCheckbox","matCheckbox"],[1,"permissions-font"],[1,"table-divider","details-divider"],[1,"checkbox-container","top-part"],["id","leftSide",1,"col-12"],[1,"row","checkbox-row"],["schedulePanel","matExpansionPanel"],[1,"panel-header",3,"collapsedHeight","expandedHeight"],[1,"col-md-6","col-12"],[4,"ngFor","ngForOf"],["absencePanel","matExpansionPanel"],["systemPanel","matExpansionPanel"],[1,"select-container","bottom-part"],[1,"col-12","panel_permissions_title"],[1,"col-12","panel_permissions_headers"],[1,"col-5","panel-title","profile-details-title"],[1,"panel_hr"],["class","row",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"buttons-container","footer-part"],[1,"row","d-flex","justify-content-end","mt-3"],["class","eSolve-button mb-1 mr-3 profile-button","type","button","id","cancel_button",3,"click",4,"ngIf"],["type","button","id","cancel_button",1,"eSolve-button","eSolve-dark-blue-button","mb-1","mr-3","profile-button",3,"click"],["type","button","id","submit_button",1,"eSolve-button","eSolve-blue-button","mb-1","mr-3","profile-button",3,"click"],[1,"col-12","profile-details-title","d-flex","justify-content-center"],[1,"col-12","profile-details-title"],["id","profile_name","type","text","placeholder","Profile Name","autocomplete","off","required","",1,"form-control","form-control-sm","name-input",3,"ngClass","ngModel","keyup","ngModelChange"],["name","ngModel"],["class","validationError nameErrorMessage",4,"ngIf"],[1,"validationError","nameErrorMessage"],[3,"id","name","checked","change"],[3,"id","name","checked","disabled","change",4,"ngIf"],[3,"id","name","checked","disabled","change"],[1,"col-12","panel_permissions_options"],[1,"col-5","panel_selections"],[1,"small-label"],["bindLabel","name","bindValue","id",1,"comparison-dropdown","jobTypeDetails",3,"id","items","ngModel","dropdownPosition","change","focus","ngModelChange"],[1,"col-5","panel_permissions"],["class","comparison-dropdown jobTypeDetails","bindLabel","name","bindValue","id",3,"id","items","ngModel","dropdownPosition","change","ngModelChange",4,"ngIf"],["class","col-2 panel_permissions d-flex justify-content-center",4,"ngIf"],["bindLabel","name","bindValue","id",1,"comparison-dropdown","jobTypeDetails",3,"id","items","ngModel","dropdownPosition","change","ngModelChange"],[1,"col-2","panel_permissions","d-flex","justify-content-center"],["aria-hidden","true",1,"fa","fa-trash-o","align-self-center","delete-icon",3,"click"],["class","col-12",4,"ngIf"],[1,"add-panel-button",3,"click"],["type","button","id","cancel_button",1,"eSolve-button","mb-1","mr-3","profile-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",2)(6,"div",4)(7,"div",5)(8,"div",6),e.YNc(9,R$,3,1,"div",7),e.YNc(10,j$,6,6,"div",7),e.TgZ(11,"div",8)(12,"mat-checkbox",9,10),e.NdJ("change",function(a){return i.selectAll(a)}),e.TgZ(14,"span",11),e._uU(15," Select All "),e.qZA()()()(),e._UZ(16,"hr",12),e.TgZ(17,"div",13)(18,"div",1)(19,"div",14)(20,"div",15)(21,"div",2)(22,"mat-accordion")(23,"mat-expansion-panel",null,16)(25,"mat-expansion-panel-header",17)(26,"mat-panel-title",11),e._uU(27," Schedule "),e.qZA()(),e.TgZ(28,"div",1)(29,"div",18),e.YNc(30,J$,2,1,"div",19),e.ALo(31,"keyvalue"),e.qZA(),e.TgZ(32,"div",18),e.YNc(33,V$,2,1,"div",19),e.ALo(34,"keyvalue"),e.qZA()()()()()(),e.TgZ(35,"div",15)(36,"div",2)(37,"mat-accordion")(38,"mat-expansion-panel",null,20)(40,"mat-expansion-panel-header",17)(41,"mat-panel-title",11),e._uU(42," Absence "),e.qZA()(),e.TgZ(43,"div",1)(44,"div",18),e.YNc(45,Q$,2,1,"div",19),e.ALo(46,"keyvalue"),e.qZA()()()()()(),e.TgZ(47,"div",15)(48,"div",2)(49,"mat-accordion")(50,"mat-expansion-panel",null,21)(52,"mat-expansion-panel-header",17)(53,"mat-panel-title",11),e._uU(54," System "),e.qZA()(),e.TgZ(55,"div",1)(56,"div",18),e.YNc(57,$$,2,1,"div",19),e.ALo(58,"keyvalue"),e.qZA(),e.TgZ(59,"div",18),e.YNc(60,iX,2,1,"div",19),e.ALo(61,"keyvalue"),e.qZA()()()()()()()()(),e.TgZ(62,"div",22)(63,"div",1)(64,"div",23),e._uU(65," Employee Panel Permissions "),e.qZA()(),e.TgZ(66,"div",1)(67,"div",24)(68,"div",1)(69,"div",25),e._uU(70," Panel "),e.qZA(),e.TgZ(71,"div",25),e._uU(72," Permissions "),e.qZA()(),e._UZ(73,"hr",26),e.qZA()(),e.YNc(74,lX,15,11,"div",27),e.YNc(75,uX,2,1,"div",28),e.qZA()()(),e.TgZ(76,"div",29),e._UZ(77,"hr"),e.TgZ(78,"div",30),e.YNc(79,pX,2,0,"button",31),e.TgZ(80,"button",32),e.NdJ("click",function(){return i.resetProfile()}),e._uU(81," Cancel "),e.qZA(),e.TgZ(82,"button",33),e.NdJ("click",function(){return i.saveChanges()}),e._uU(83," Save Changes "),e.qZA()()()()()()()()()),2&t&&(e.Q6J("hidden",!i.showDetails),e.xp6(9),e.Q6J("ngIf",i.profileExists),e.xp6(1),e.Q6J("ngIf",!i.profileExists),e.xp6(15),e.Q6J("collapsedHeight","32px")("expandedHeight","32px"),e.xp6(5),e.Q6J("ngForOf",e.lcZ(31,17,i.currentProfile.profile.schedulePermissions)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(34,19,i.currentProfile.profile.schedulePermissions)),e.xp6(7),e.Q6J("collapsedHeight","32px")("expandedHeight","32px"),e.xp6(5),e.Q6J("ngForOf",e.lcZ(46,21,i.currentProfile.profile.absencePermissions)),e.xp6(7),e.Q6J("collapsedHeight","32px")("expandedHeight","32px"),e.xp6(5),e.Q6J("ngForOf",e.lcZ(58,23,i.currentProfile.profile.systemPermissions)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(61,25,i.currentProfile.profile.systemPermissions)),e.xp6(14),e.Q6J("ngForOf",i.userPanelPermissionsList),e.xp6(1),e.Q6J("ngIf",i.permissionsItemsValid),e.xp6(4),e.Q6J("ngIf",i.selectedProfileId>0))},dependencies:[D.mk,D.sg,D.O5,Zi.oG,so.pp,so.ib,so.yz,so.yK,_.Fj,_.JJ,_.Q7,_.On,Sn,$n,D.Nd,z1],styles:[".profile-details-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;margin-top:5px;margin-bottom:8px}.profile-name-title[_ngcontent-%COMP%]{color:#42536f;font-size:16px;font-weight:700}.add-panel-button[_ngcontent-%COMP%]{color:#42536f;font-size:12px;font-weight:700;cursor:pointer}.panel_permissions_title[_ngcontent-%COMP%]{color:var(--eSolve-primary);font-size:14px;font-weight:700}.empty[_ngcontent-%COMP%]{display:none}.name-input[_ngcontent-%COMP%]{margin-top:-4px;margin-bottom:-6px}.details-container[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);width:100%}.details-divider[_ngcontent-%COMP%]{margin-top:10px}.permissions-font[_ngcontent-%COMP%]{font-size:12px;color:#a0a5ac}.checkbox-row[_ngcontent-%COMP%]{margin-bottom:5px}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.panel-header[_ngcontent-%COMP%]{color:#a0a5ac;background-color:#f2f3f5}.bottom-part[_ngcontent-%COMP%]{margin-top:20px}.panel_permissions_headers[_ngcontent-%COMP%]{margin-top:10px}.panel_hr[_ngcontent-%COMP%]{margin-top:2px}.nameErrorMessage[_ngcontent-%COMP%]{margin-top:14px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{padding-right:10px;height:calc(100vh - 325px)}.profile-button[_ngcontent-%COMP%]{width:30%}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%], .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]:hover, .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]:focus{background-color:#f2f3f5}  .mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#757575!important}.margin-r-15[_ngcontent-%COMP%]{margin-right:15px}@media (min-width: 466px){.small-label[_ngcontent-%COMP%]{display:none}}@media (max-width: 465px){.panel-title[_ngcontent-%COMP%]{display:none}.panel_selections[_ngcontent-%COMP%], .panel_permissions[_ngcontent-%COMP%]{margin-bottom:5px;-ms-flex:none!important;flex:none!important;max-width:100%!important}.small-label[_ngcontent-%COMP%]{font-size:12px;color:#42536f;margin-bottom:0}}@media (max-width: 412px){.profile-button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 170px)}}@media (max-height: 600px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{padding-right:10px;height:calc(100vh - 199px)}}"]}),n})();function hX(n,o){if(1&n&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.limit50," ")}}function mX(n,o){if(1&n&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Profile Name ",t.message.inUse," ")}}function gX(n,o){if(1&n&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.inUse," ")}}const _X=function(n){return{"input-error":n}};function vX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.duplicateExistingProfile())}),e.TgZ(1,"div",1)(2,"div",12)(3,"label",13),e._uU(4," Profile Name: "),e.qZA()(),e.TgZ(5,"div",14)(6,"input",15),e.NdJ("keyup",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.resetNameInUse())}),e.qZA(),e.YNc(7,hX,2,1,"div",16),e.YNc(8,mX,2,1,"div",16),e.YNc(9,gX,2,1,"div",17),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.newProfileForm),e.xp6(6),e.Q6J("ngClass",e.VKq(5,_X,t.nameInUse)),e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.f.name.errors?null:t.f.name.errors.validUrl),e.xp6(1),e.Q6J("ngIf",t.nameInUse)}}let ak=(()=>{class n{constructor(t,i,r,a,s,l){this._confirmDialogRef=t,this.data=i,this._messageService=r,this._fb=a,this._customAsyncValidator=s,this._profileService=l,this.nameInUse=!1,this.title="",this.createProfileForm()}ngOnInit(){this.message=St.yw,this.title=this.data.isUserProfile?"Duplicate User Profile":"Duplicate Employee Profile"}createProfileForm(){this.newProfileForm=this._fb.group({id:[0],name:["",[_.kI.maxLength(50),hr.bd]]},{validators:[],asyncValidators:[]})}resetNameInUse(){this.nameInUse=!1}get f(){return this.newProfileForm.controls}duplicateExistingProfile(){this.newProfile=this.newProfileForm.value.name,this.newProfileForm.valid&&this.newProfile?this._profileService.duplicateProfile(this.data.id,this.newProfile).subscribe(t=>{this._messageService.open(this.data.isUserProfile?"User Profile duplicated.":"Employee Profile duplicated."),this._confirmDialogRef.close({message:"submitted"})},t=>{"Name is already in use."===this._messageService.handleHttpError(t)&&(this.nameInUse=!0)}):Object.keys(this.newProfileForm.controls).forEach(t=>{this.newProfileForm.get(t).markAsTouched({onlySelf:!0})})}closeDialog(){this._confirmDialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.so),e.Y36(z.WI),e.Y36(se.G),e.Y36(_.qu),e.Y36(ql.x),e.Y36(yr.H))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-duplicate-profile-dialog"]],decls:23,vars:2,consts:[[1,"container-fluid","jt-new-container"],[1,"row"],[1,"col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider"],["class","new-job-type-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","button-divider"],["type","submit",1,"add-new-jt-button",3,"click"],[1,"new-job-type-form",3,"formGroup","ngSubmit"],[1,"col-md-4"],["for","name",1,"jt-label"],[1,"col-md-8"],["id","name","type","text","autocomplete","off","formControlName","name","maxlength","50",1,"form-control","new-jt-input",3,"ngClass","keyup"],["class","validationError error-message-margin",4,"ngIf"],["class","validationError nameErrorMessage",4,"ngIf"],[1,"validationError","error-message-margin"],[1,"validationError","nameErrorMessage"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),e._uU(7),e.qZA(),e.TgZ(8,"div",5)(9,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()()()(),e.TgZ(10,"div",1)(11,"div",2),e._UZ(12,"hr",7),e.qZA()(),e.TgZ(13,"div",1)(14,"div",2),e.YNc(15,vX,10,7,"form",8),e.qZA()(),e.TgZ(16,"div",9)(17,"div",2),e._UZ(18,"hr"),e.qZA()(),e.TgZ(19,"div",1)(20,"div",2)(21,"button",10),e.NdJ("click",function(){return i.duplicateExistingProfile()}),e._uU(22," Save Changes "),e.qZA()()()()()()),2&t&&(e.xp6(7),e.hij(" ",i.title," "),e.xp6(8),e.Q6J("ngIf",i.newProfileForm))},dependencies:[D.mk,D.O5,_._Y,_.Fj,_.JJ,_.JL,_.nD,_.sg,_.u,$n],styles:[".jt-new-container[_ngcontent-%COMP%]{padding:2px}.close-dialog-text[_ngcontent-%COMP%]{color:#596981;font-size:11px}.close-dialog-text[_ngcontent-%COMP%]{cursor:pointer}.dialog-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-bottom:20px}.button-divider[_ngcontent-%COMP%]{margin-top:13px}.jt-label[_ngcontent-%COMP%]{color:#565d6f;font-size:12px;font-weight:600}[_ngcontent-%COMP%]:focus{outline-color:transparent!important;outline-style:none!important}.new-jt-input[_ngcontent-%COMP%]{height:28px;font-size:12px}.add-new-jt-button[_ngcontent-%COMP%]{float:right;width:135px;height:25px;padding:0 12px;min-width:88px;border-radius:.25rem;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary)}.add-new-jt-button[_ngcontent-%COMP%]:disabled, .add-new-jt-button[disabled][_ngcontent-%COMP%]{background-color:#9badcf}.eSolveCloseButtom[_ngcontent-%COMP%]{padding-right:0}.error-message-margin[_ngcontent-%COMP%]{margin-bottom:-20px}"]}),n})();const bX=["searchInputField"];function yX(n,o){1&n&&(e.TgZ(0,"th",24),e._uU(1," Profile Name "),e.qZA())}function xX(n,o){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",o.index),e.xp6(1),e.hij(" ",t.name," ")}}function CX(n,o){1&n&&e._UZ(0,"th",26)}function TX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",27)(1,"div",1)(2,"div",28)(3,"button",29),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectProfile(a))}),e._uU(4," View Details "),e.qZA(),e.TgZ(5,"button",30),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDuplicateProfileDialog(a))}),e._UZ(6,"i",31),e._uU(7," Duplicate "),e.qZA()()()()}2&n&&e.s9C("id",o.index)}function wX(n,o){1&n&&e._UZ(0,"th",26)}function DX(n,o){1&n&&(e.TgZ(0,"td",32),e._UZ(1,"i",33),e.qZA())}function SX(n,o){1&n&&e._UZ(0,"tr",34)}const kX=function(n){return{highlight:n}};function AX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return s.highlight(a.id),e.KtG(s.selectProfile(a))}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(1,kX,i.selectedRowIndex==t.id))}}const MX=function(){return[5,10,25,50,100,250]};let OX=(()=>{class n{constructor(t,i,r){this._cd=t,this._profileService=i,this.dialog=r,this.displayedColumns=["profile","actions","chevron"],this.data=new N.by,this.dataSource=new N.by,this.selectedJobType=new L1,this.resultsLength=0,this.jobTypeCtrl=new _.NI,this.isLoadingResults=!0,this.searchValue="",this.isLoading=!1,this.config="",this.selectedRowIndex=-1,this.ngUnsubscribe=new b.x,this.onProfileSelected=new e.vpe,this.data.sort=this.sort,this.data.paginator=this.paginator}set signal(t){this.highlight(t),void 0!==t&&this.populateTableData()}ngOnInit(){}ngAfterViewInit(){this.populateTableData(),this.trackDeletion(),this.jobTypeCtrl.valueChanges.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{t&&this.paginator.firstPage()})}populateTableData(){this.data.paginator=this.paginator,this.dataSource.sort=this.sort,this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page).pipe((0,_e.O)({}),(0,j.w)(()=>(this.dataSource.sort=this.sort,this.isLoadingResults=!0,this._profileService.getProfiles("employee",this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction))),(0,Oe.U)(t=>(this.isLoadingResults=!1,this.resultsLength=t.totalCount,t.items)),(0,Wi.K)(()=>(this.isLoadingResults=!1,(0,gn.of)([])))).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.data=t,this._cd.detectChanges()})}openDuplicateProfileDialog(t){this.dialog.open(ak,{disableClose:!0,autoFocus:!1,width:"370px",data:{id:t.id,name:t.name,isUserProfile:!1}}).afterClosed().pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{r.message&&"submitted"===r.message&&this.populateTableData()})}selectProfile(t){this.onProfileSelected.emit(t)}addNewProfile(){this.onProfileSelected.emit({id:0}),this.highlight(0)}highlight(t){this.selectedRowIndex=t}trackDeletion(){this._profileService.profileDeleted.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(()=>{this.populateTableData()})}ngOndestroy(){this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete(),this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(yr.H),e.Y36(z.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-emp-profiles-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(bX,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.searchInput=r.first)}},inputs:{signal:"signal"},outputs:{onProfileSelected:"onProfileSelected"},decls:28,vars:8,consts:[[1,"container-fluid","profile-table-container"],[1,"row"],[1,"col-12"],[1,"row","table-row"],[1,"g-thin-black-scroll-bar"],["mat-table","","id","JT_job_types_table","matSort","",1,"job-types-table",3,"dataSource"],["matColumnDef","profile"],["mat-header-cell","","mat-sort-header","","id","jobType-header",4,"matHeaderCellDef"],["mat-cell","","class","profile-name additional-class",3,"id",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"id",4,"matCellDef"],["matColumnDef","chevron"],["mat-cell","","class","eSolveChevron rightSide hidden-on-small-screen-chevron",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[1,"row","add-profile-row"],[1,"col-12","d-flex","justify-content-end"],["id","add_new_profile","type","button",1,"eSolve-button","add-button",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[1,"row","paginator-row"],["id","user_profiles_list_divider"],["paginatorStyle","","showFirstLastButtons","","color","accent",1,"profile-paginator",3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-sort-header","","id","jobType-header"],["mat-cell","",1,"profile-name","additional-class",3,"id"],["mat-header-cell",""],["mat-cell","",3,"id"],[1,"col-lg-12","align-buttons-padding","buttons-display"],["id","view_details_button","type","button",1,"delete-profile-button","btn","p-2","modal-btn","employee-profiles",3,"click"],["id","duplicate_button","type","button",1,"delete-profile-button","btn","p-2","modal-btn","employee-profiles","hidden-on-small-screen",3,"click"],["aria-hidden","true",1,"fa","fa-clone","duplicate-icon"],["mat-cell","",1,"eSolveChevron","rightSide","hidden-on-small-screen-chevron"],[1,"fa","fa-chevron-right","profiles-chevron-icon"],["mat-header-row",""],["mat-row","",3,"ngClass","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"table",5),e.ynx(7,6),e.YNc(8,yX,2,0,"th",7),e.YNc(9,xX,2,2,"td",8),e.BQk(),e.ynx(10,9),e.YNc(11,CX,1,0,"th",10),e.YNc(12,TX,8,1,"td",11),e.BQk(),e.ynx(13,12),e.YNc(14,wX,1,0,"th",10),e.YNc(15,DX,2,0,"td",13),e.BQk(),e.YNc(16,SX,1,0,"tr",14),e.YNc(17,AX,1,3,"tr",15),e.qZA()()()(),e.TgZ(18,"div",16)(19,"div",17)(20,"button",18),e.NdJ("click",function(){return i.addNewProfile()}),e._UZ(21,"i",19),e._uU(22," Add Profile "),e.qZA()()(),e.TgZ(23,"div",20)(24,"div",2),e._UZ(25,"hr",21)(26,"mat-paginator",22,23),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("dataSource",i.data),e.xp6(10),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(9),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(7,MX)))},dependencies:[D.mk,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,$n,di],styles:[".container-fluid[_ngcontent-%COMP%]   .profile-table-container[_ngcontent-%COMP%]{position:relative;background-color:#eff3f7;padding:5vh 1vw 5vh 2vw;width:100%}.table-container[_ngcontent-%COMP%]{position:relative;min-height:100px;border:1px solid #e1e6ec;border-radius:5px;width:97%;padding:27px;background-color:#fff}.table-header[_ngcontent-%COMP%]{margin-bottom:25px;position:relative}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:16px;font-weight:700;padding-top:6px}.table-bottom-border[_ngcontent-%COMP%]{border-bottom:1px solid #42536f}.delete-profile-button[_ngcontent-%COMP%]{background-color:#eff3f7;color:#404f64;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042}.modal-btn.employee-profiles[_ngcontent-%COMP%]{height:27px;float:right;margin-left:15px;width:100px;margin-top:5px;margin-bottom:5px}.align-buttons-padding[_ngcontent-%COMP%]{padding-right:20px;padding-left:0;-ms-flex-pack:end;justify-content:flex-end}.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.modal-btn.employee-profiles[_ngcontent-%COMP%]:focus   tr.mat-row[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.modal-btn.employee-profiles[_ngcontent-%COMP%]:focus   tr.mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-of-type{color:#fff}.modal-btn.employee-profiles[_ngcontent-%COMP%]:focus   tr.mat-row[_ngcontent-%COMP%]   .profiles-chevron-icon[_ngcontent-%COMP%]{color:#fff}table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]{border-radius:5px 5px 0 0}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:6px}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type.additional-class{color:#404f64;padding-left:20px;padding-right:20px;width:40%;word-break:break-word;min-width:120px}.mat-paginator-container[_ngcontent-%COMP%]{border-radius:0 0 5px 5px}.mat-column-actions[_ngcontent-%COMP%]{position:relative}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex-pack:end;justify-content:flex-end}.ps--active-x[_ngcontent-%COMP%] > .ps__rail-x[_ngcontent-%COMP%], .ps--active-y[_ngcontent-%COMP%] > .ps__rail-y[_ngcontent-%COMP%]{z-index:5000}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}.profile-name[_ngcontent-%COMP%]{font-size:12.5px;color:#595959}.eSolve-button[_ngcontent-%COMP%]{height:27px!important;margin-bottom:0;margin-left:0;width:-moz-max-content;width:max-content}.duplicate-icon[_ngcontent-%COMP%]{padding-right:10px}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0;text-align:center}.rightSide[_ngcontent-%COMP%]{position:relative;width:18%;padding-left:25px;margin-right:2%}.profiles-chevron-icon[_ngcontent-%COMP%]{color:var(--eSolve-primary);font-size:15px;padding-top:7px}tr.mat-row[_ngcontent-%COMP%]:hover{background-color:var(--eSolve-primary)}tr.mat-row[_ngcontent-%COMP%]:hover   td.mat-cell[_ngcontent-%COMP%]:first-of-type{color:#fff}tr.mat-row[_ngcontent-%COMP%]:hover   .profiles-chevron-icon[_ngcontent-%COMP%]{color:#fff}.highlight[_ngcontent-%COMP%]{background:var(--eSolve-primary)}.highlight[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-of-type{color:#fff}.highlight[_ngcontent-%COMP%]   .profiles-chevron-icon[_ngcontent-%COMP%]{color:#fff}.add-button[_ngcontent-%COMP%]{width:140px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{margin-top:-12px;padding-right:10px;height:calc(100vh - 354px)}.add-profile-row[_ngcontent-%COMP%]{margin-top:14px}@media (max-width: 1095px){.profiles-chevron-icon[_ngcontent-%COMP%]{display:none}}@media (max-width: 1015px){.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:block}.profiles-chevron-icon[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 992px){.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}}@media (max-width: 890px){.profiles-chevron-icon[_ngcontent-%COMP%]{display:none}}@media (max-width: 820px){.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:block}.profiles-chevron-icon[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}}@media (max-width: 767px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 210px)}.profiles-chevron-icon[_ngcontent-%COMP%]{display:none}.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.hidden-on-small-screen-chevron[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 767px) and (min-width: 490px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 329px)}}@media (max-width: 479px){#user_profiles_list_divider[_ngcontent-%COMP%]{margin-bottom:55px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 368px)}}@media (max-width: 428px){.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:block}}"]}),n})(),PX=(()=>{class n{constructor(t,i,r,a){this.titleService=t,this._router=i,this._zone=r,this._ref=a,this.pageTitle="Settings > User Management",i.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&r.run(()=>this._ref.detectChanges())})}ngOnInit(){this.titleService.sendTitle(this.pageTitle)}ngAfterViewInit(){}passProfile(t){this.selectedProfile=t}updateOnCreate(t){this.creationSignal=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(q.F0),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manage-employee-profiles"]],decls:13,vars:2,consts:[[1,"container-fluid"],[1,"table-container"],[1,"row"],[1,"col-12"],[1,"table-header","row"],[1,"col-12","table-header-title"],[1,"table-divider"],[1,"col-md-6","col-12","list-side"],[3,"signal","onProfileSelected"],[1,"col-md-6","col-12","details-side"],[3,"profile","onProfileCreated"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6," Manage Employee Profiles "),e.qZA()(),e._UZ(7,"hr",6),e.TgZ(8,"div",2)(9,"div",7)(10,"app-emp-profiles-list",8),e.NdJ("onProfileSelected",function(a){return i.passProfile(a)}),e.qZA()(),e.TgZ(11,"div",9)(12,"app-emp-profiles-details",10),e.NdJ("onProfileCreated",function(a){return i.updateOnCreate(a)}),e.qZA()()()()()()()),2&t&&(e.xp6(10),e.Q6J("signal",i.creationSignal),e.xp6(2),e.Q6J("profile",i.selectedProfile))},dependencies:[fX,OX],styles:[".container-fluid[_ngcontent-%COMP%]{position:relative;background-color:#eff3f7;padding:17px;width:100%}.table-container[_ngcontent-%COMP%]{position:relative;min-height:100px;border:1px solid #e1e6ec;border-radius:5px;padding:20px;background-color:#fff;min-height:calc(100vh - 92px)}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:16px;font-weight:700}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-bottom:15px}.profile-names-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;padding-top:5px;padding-bottom:15px}.table-bottom-border[_ngcontent-%COMP%]{border-bottom:1px solid #42536f}.profile-style[_ngcontent-%COMP%]{color:#42536f;font-size:13px;padding-top:10px;padding-bottom:14px;margin-left:auto;margin-top:5px;margin-right:0;padding-left:15px}.delete-profile-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042}.modal-btn.employee-profiles[_ngcontent-%COMP%]{height:28px;width:170px;float:right}.modal-btn.employee-profiles.add-new-profile[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px;margin-right:10px}.chevron-right-style[_ngcontent-%COMP%]{font-size:20px;color:#93d500;cursor:pointer}@media (min-width: 768px){.list-side[_ngcontent-%COMP%]{padding-right:0}.details-side[_ngcontent-%COMP%]{padding-left:0}}"]}),n})();class EX{constructor(o,t){this.profile=o,this.panelPermissions=t}}class IX{constructor(o,t,i,r,a,s,l,c,u,h){this.id=o,this.name=t,this.isUserProfile=i,this.schedulePermissions=r,this.employeePermissions=a,this.systemPermissions=s,this.reportPermissions=l,this.dashboardPermissions=c,this.apiKey1=u,this.apiKey2=h}}class NX{constructor(o,t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne,De){this.id=o,this.accessExistingSchedules=t,this.createNewSchedules=i,this.deleteExistingSchedules=r,this.manageTemplates=a,this.assignAgency=s,this.scheduleConstraintConfiguration=l,this.assignFromUnavailable=c,this.scheduleRankingConfiguration=u,this.scheduleApprovalAndSync=h,this.changeApprovedSchedules=x,this.viewSchedule=T,this.jobOffers=O,this.useShifts=U,this.loneWorkerAlerts=re,this.attendanceConfirmation=de,this.jobTypeMaintenance=ve,this.allowOverlappingAssignments=Ne,this.autoSolve=De}}class RX{constructor(o,t,i){this.id=o,this.employeeDetails=t,this.employeeAvailability=i}}class FX{constructor(o,t,i,r,a,s){this.id=o,this.skillsMatrix=t,this.gdprDataDelete=i,this.userManagement=r,this.systemPreferences=a,this.license=s}}class ZX{constructor(o,t,i,r,a){this.id=o,this.reports=t,this.scheduleReport=i,this.scheduleSummaryReport=r,this.scheduleEmployeeBreakdownReport=a}}class LX{constructor(o,t,i,r,a,s,l){this.id=o,this.scheduleStats=t,this.scheduleHours=i,this.scheduleProblems=r,this.scheduleBudgets=a,this.actionsAbsenceRequests=s,this.actionsSchedulesForApproval=l}}const UX=["name"],jX=["selectAllCheckbox"],YX=["schedulePanel"],qX=["employeePanel"],JX=["reportsPanel"],HX=["systemPanel"];function BX(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",39),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.currentProfile.profile.name," ")}}function VX(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Name is required "),e.qZA())}function GX(n,o){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,VX,2,0,"div",7),e.qZA()),2&n){e.oxw();const t=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function WX(n,o){if(1&n&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.inUse," ")}}const QX=function(n){return{"input-error":n}};function zX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",40)(2,"input",41,42),e.NdJ("keyup",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.resetNameInUse())})("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.currentProfile.profile.name=r)}),e.qZA(),e.YNc(4,GX,2,1,"div",43),e.YNc(5,WX,2,1,"div",43),e.qZA()()}if(2&n){const t=e.MAs(3),i=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(4,QX,i.nameInUse))("ngModel",i.currentProfile.profile.name),e.xp6(2),e.Q6J("ngIf",t.touched&&t.errors&&0===i.selectedProfileId),e.xp6(1),e.Q6J("ngIf",i.nameInUse)}}function KX(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",45),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"schedulePermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","schedule_",i.schedulePermissionNames[t.key],"")("name","schedule_",i.schedulePermissionNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.schedulePermissionNames[t.key]," ")}}function $X(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,KX,5,4,"div",33),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<i.schedulePart)}}function XX(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,$X,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function eee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",45),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"schedulePermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","schedule_",i.schedulePermissionNames[t.key],"")("name","schedule_",i.schedulePermissionNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.schedulePermissionNames[t.key]," ")}}function tee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,eee,5,4,"div",33),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t>=i.schedulePart)}}function nee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,tee,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function iee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",45),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"employeePermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","employee_",i.employeePermissionNames[t.key],"")("name","employee_",i.employeePermissionNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.employeePermissionNames[t.key]," ")}}function ree(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,iee,5,4,"div",33),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<i.employeePart)}}function oee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ree,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function aee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",45),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"employeePermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","employee_",i.employeePermissionNames[t.key],"")("name","employee_",i.employeePermissionNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.employeePermissionNames[t.key]," ")}}function see(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,aee,5,4,"div",33),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t>=i.employeePart)}}function lee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,see,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function cee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",45),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"reportPermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","report_",i.reportPermissionsNames[t.key],"")("name","report_",i.reportPermissionsNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.reportPermissionsNames[t.key]," ")}}function dee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,cee,5,4,"div",33),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<i.reportPart)}}function uee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,dee,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function pee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",45),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"reportPermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","report_",i.reportPermissionsNames[t.key],"")("name","report_",i.reportPermissionsNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.reportPermissionsNames[t.key]," ")}}function fee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,pee,5,4,"div",33),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t>=i.reportPart)}}function hee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,fee,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function mee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",45),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"systemPermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","system_",i.systemPermissionsNames[t.key],"")("name","system_",i.systemPermissionsNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.systemPermissionsNames[t.key]," ")}}function gee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,mee,5,4,"div",33),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<i.systemPart)}}function _ee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,gee,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function vee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"mat-checkbox",45),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.changePerms(r,a.key,"systemPermissions"))}),e.TgZ(3,"span",11),e._uU(4),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.MGl("id","system_",i.systemPermissionsNames[t.key],"")("name","system_",i.systemPermissionsNames[t.key]," checkbox"),e.Q6J("checked",t.value),e.xp6(2),e.hij(" ",i.systemPermissionsNames[t.key]," ")}}function bee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,vee,5,4,"div",33),e.qZA()),2&n){const t=e.oxw().index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t>=i.systemPart)}}function yee(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,bee,2,1,"div",7),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","id"!==t.key&&null!==t.value)}}function xee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"i",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,a=e.oxw();return e.KtG(a.deletePanelPermission(r))}),e.qZA()()}}function Cee(n,o){1&n&&e._UZ(0,"hr")}function Tee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",46)(2,"div",1)(3,"div",47)(4,"label",48),e._uU(5,"Panel:"),e.qZA(),e.TgZ(6,"ng-select",49),e.NdJ("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.checkPermission(a))})("focus",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateSelectedPanelList())})("ngModelChange",function(r){const s=e.CHM(t).$implicit;return e.KtG(s.permissionTypeID=r)}),e.ALo(7,"panelPermissionsPipe"),e.qZA()(),e.TgZ(8,"div",50)(9,"label",48),e._uU(10,"Permissions:"),e.qZA(),e.TgZ(11,"ng-select",51),e.NdJ("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.checkPermission(a))})("ngModelChange",function(r){const s=e.CHM(t).$implicit;return e.KtG(s.permissionOptionID=r)}),e.qZA()(),e.YNc(12,xee,2,0,"div",52),e.qZA(),e.YNc(13,Cee,1,0,"hr",7),e.qZA()()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw();e.xp6(6),e.MGl("id","comparisonOptions",i,""),e.Q6J("items",e.xi3(7,10,r.panelOptionsList,r.selectedUserPanelPermissionsList))("ngModel",t.permissionTypeID)("dropdownPosition","top"),e.xp6(5),e.MGl("id","comparisonOptions",i,""),e.Q6J("items",r.panelPermissionsList)("ngModel",t.permissionOptionID)("dropdownPosition","top"),e.xp6(1),e.Q6J("ngIf",1!=t.permissionTypeID),e.xp6(1),e.Q6J("ngIf",r.userPanelPermissionsList.length>1)}}function wee(n,o){1&n&&e._UZ(0,"hr")}function Dee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.YNc(1,wee,1,0,"hr",7),e.TgZ(2,"span",56),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return r.addNewPanelPermission(),e.KtG(r.updateSelectedPanelList())}),e._uU(3,"+ Add New Value"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===t.userPanelPermissionsList.length)}}function See(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,Dee,4,1,"div",55),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.userPanelPermissionsList.length<6)}}function kee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteProfile())}),e._uU(1," Delete Profile "),e.qZA()}}let Aee=(()=>{class n{constructor(t,i,r,a,s){this._messageService=t,this._dialogService=i,this._profileService=r,this._userRoleService=a,this._router=s,this.schedulePermissionNames={accessExistingSchedules:"Access Existing Schedules",createNewSchedules:"Create New Schedules",deleteExistingSchedules:"Delete Existing Schedules",manageTemplates:"Manage Templates",assignAgency:"Assign Agency",scheduleConstraintConfiguration:"Schedule Constraint Configuration",assignFromUnavailable:"Assign From Unavailable",scheduleRankingConfiguration:"Schedule Ranking Configuration",scheduleApprovalAndSync:"Schedule approval and sync",changeApprovedSchedules:"Change Approved Schedules",viewSchedule:"View Schedule",jobOffers:"Offer Jobs",useShifts:"Use Shifts",loneWorkerAlerts:"Lone Worker Alerts",attendanceConfirmation:"Attendance Confirmation",jobTypeMaintenance:"Job Type Maintenance",allowOverlappingAssignments:"Allow Overlapping Assignments",autoSolve:"Auto Solve"},this.employeePermissionNames={employeeDetails:"Employee Details",employeeAvailability:"Employee Availability"},this.systemPermissionsNames={skillsMatrix:"View Skills Matrix",userManagement:"User Management",systemPreferences:"System Preferences",gdprDataDelete:"GDPR data delete",license:"License"},this.reportPermissionsNames={reports:"Reports",scheduleReport:"Schedule Detail Report",scheduleSummaryReport:"Schedule Summary Report",scheduleEmployeeBreakdownReport:"Schedule Employee Breakdown Report"},this.dashboardPermissionsNames={scheduleStats:"Schedule Stats",scheduleHours:"Schedule Hours",scheduleProblems:"Schedule Problems",scheduleBudgets:"Schedule Budgets",actionsAbsenceRequests:"Actions - Absence Requests",actionsSchedulesForApproval:"Actions - Schedules For Approval"},this.onProfileCreated=new e.vpe,this.showDetails=!1,this.userPanelPermissionsList=new Array,this.selectedUserPanelPermissionsList=new Array,this.permissionsItemsValid=!0,this.selectedProfileId=0,this.nameInUse=!1,this.completedLoadingProfile=!0,this.isSelectAllChecked=!1,this.autoSolvePermission=!1,this._ngUnsubscribe=new b.x,this.removeNull=l=>(Object.keys(l).forEach(c=>l[c]&&"object"==typeof l[c]&&this.removeNull(l[c])||null==l[c]&&delete l[c]),l),this.setFalseValueOfPropertyIfNull=l=>{for(let c in l.profile.employeePermissions)c in this.employeePermissionNames?null===l.profile.employeePermissions[c]&&(l.profile.employeePermissions[c]=!1):"id"!==c&&(l.profile.employeePermissions[c]=null);for(let c in l.profile.reportPermissions)c in this.reportPermissionsNames?null===l.profile.reportPermissions[c]&&(l.profile.reportPermissions[c]=!1):"id"!==c&&(l.profile.reportPermissions[c]=null);for(let c in l.profile.schedulePermissions)c in this.schedulePermissionNames?"autoSolve"===c&&null===l.profile.schedulePermissions[c]?(this.getAppAutoSolvePermission(),this.autoSolvePermission&&(l.profile.schedulePermissions[c]=!1)):null===l.profile.schedulePermissions[c]&&"autoSolve"!==c&&(l.profile.schedulePermissions[c]=!1):"id"!==c&&(l.profile.schedulePermissions[c]=null);for(let c in l.profile.systemPermissions)c in this.systemPermissionsNames?null===l.profile.systemPermissions[c]&&(l.profile.systemPermissions[c]=!1):"id"!==c&&(l.profile.systemPermissions[c]=null);return l},this.onResize()}onResize(t){this.screenHeight=window.innerHeight,this.screenWidth=window.innerWidth}set profile(t){t&&(this.selectedUserPanelPermissionsList=new Array,this.showDetails=!0,t.id>0?this.existingProfileSetUp(t.id):(this.newProfileSetUp(),setTimeout(()=>{this.scroll()},0)))}ngOnInit(){this.message=St.yw,this.detailsElement=document.getElementById("details"),this.profileExists=!1,this.getDropdownData(),this.getDropdownOptions(),this.initializeNewProfileObject()}newProfileSetUp(){this.profileExists=!1,this.selectedProfileId=0,this.initializeNewProfileObject(),this.userPanelPermissionsList=new Array,this.selectedUserPanelPermissionsList=new Array,this.completedLoadingProfile=!0,this.selectAllCheckbox.checked=!1,this.isSelectAllChecked=!1}existingProfileSetUp(t){this.profileExists=!0,this.selectedProfileId=t,this.selectedUserPanelPermissionsList=new Array,this.showDetails=!0,this.getProfileById(this.selectedProfileId)}getDropdownData(){this._profileService.getTabsList("true").pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.panelOptionsList=t},t=>{this._messageService.open(t)})}getDropdownOptions(){this._profileService.getTabsListOptions().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.panelPermissionsList=t},t=>{this._messageService.open(t)})}resetNameInUse(){this.nameInUse=!1}addNewPanelPermission(){let t=new rk;this.userPanelPermissionsList.push(t),this.permissionsItemsValid=!1}updateSelectedPanelList(){if(this.selectedUserPanelPermissionsList=new Array,this.userPanelPermissionsList.length){let t=new Array;this.userPanelPermissionsList.forEach(i=>{i.permissionOptionID&&i.permissionTypeID&&t.push(i)}),t.forEach(i=>{this.selectedUserPanelPermissionsList.push(this.panelOptionsList.find(r=>r.id===i.permissionTypeID))})}}checkPermission(t){if(t.permissionTypeID&&t.permissionOptionID)this.permissionsItemsValid=!0,!0===this.completedLoadingProfile&&this.updateSelectedPanelList();else{if(!t.permissionTypeID)for(let i=0;i<this.userPanelPermissionsList.length;i++)this.userPanelPermissionsList[i]==t.id&&(this.userPanelPermissionsList[i].permissionOptionID=null);this.permissionsItemsValid=!1}}deletePanelPermission(t){let i=this.userPanelPermissionsList[t].permissionTypeID;this.userPanelPermissionsList.splice(t,1);for(var r=this.selectedUserPanelPermissionsList.length-1;r>=0;--r)this.selectedUserPanelPermissionsList[r].id===i&&this.selectedUserPanelPermissionsList.splice(r,1);this.permissionsItemsValid=!0}getAppAutoSolvePermission(){this._profileService.getAutoSolvePermission().subscribe(t=>{this.autoSolvePermission=t})}initializeNewProfileObject(){this.getAppAutoSolvePermission(),this.currentProfile=new EX(new IX(0,null,!0,new NX(0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!this.autoSolvePermission&&null),new RX(0,!1,!1),new FX(0,!1,!1,!1,!1,!1),new ZX(0,!1,!1,!1,!1),new LX(0,!1,!1,!1,!1,!1,!1))),this.currentProfile=this.removeNull(this.currentProfile),this.setPermissionPartCount()}setPermissionPartCount(){this.employeePart=Math.ceil((Object.keys(this.currentProfile.profile.employeePermissions).length-1)/2),Object.keys(this.currentProfile.profile.employeePermissions).sort().indexOf("id")<=this.employeePart&&(this.employeePart+=1),this.reportPart=Math.ceil((Object.keys(this.currentProfile.profile.reportPermissions).length-1)/2),Object.keys(this.currentProfile.profile.reportPermissions).sort().indexOf("id")<=this.reportPart&&(this.reportPart+=1),this.schedulePart=Math.ceil((Object.keys(this.currentProfile.profile.schedulePermissions).length-1)/2),Object.keys(this.currentProfile.profile.schedulePermissions).sort().indexOf("id")<=this.schedulePart&&(this.schedulePart+=1),this.systemPart=Math.ceil((Object.keys(this.currentProfile.profile.systemPermissions).length-1)/2),Object.keys(this.currentProfile.profile.systemPermissions).sort().indexOf("id")<=this.systemPart&&(this.systemPart+=1)}changePerms(t,i,r){!t.checked&&this.isSelectAllChecked&&(this.selectAllCheckbox.checked=!1,this.isSelectAllChecked=!1),this.currentProfile.profile[r][i]=t.checked,this.checkIsSelectedAll()}scroll(){this.screenWidth<768&&this.detailsElement.scrollIntoView({behavior:"smooth"})}resetProfile(){this.selectedProfileId>0?this.existingProfileSetUp(this.selectedProfileId):(this.name.control.markAsUntouched(),this.newProfileSetUp())}getProfileById(t){this.completedLoadingProfile=!1,this._profileService.getProfile(t).pipe((0,ok.x)(()=>{this.completedLoadingProfile=!0}),(0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.userPanelPermissionsList=new Array,i=this.setFalseValueOfPropertyIfNull(i),this.currentProfile=this.removeNull(i),this.setPermissionPartCount(),this.userPanelPermissionsList=i.panelPermissions,this.updatePanelPermissionsListStatus(this.userPanelPermissionsList),this.profileExists=!0,this.showDetails=!0,this.scroll(),this.checkIsSelectedAll()},i=>{this._messageService.open(i)})}checkIsSelectedAll(){this.selectAllCheckbox.checked=!0,this.isSelectAllChecked=!0;let t=["schedulePermissions","employeePermissions","systemPermissions","reportPermissions"];for(let i=0;i<t.length;i++)Object.keys(this.currentProfile.profile[t[i]]).forEach(r=>{if("id"!==r&&!this.currentProfile.profile[t[i]][r])return this.selectAllCheckbox.checked=!1,void(this.isSelectAllChecked=!1)})}saveChanges(){if(0===this.selectedProfileId&&(this.currentProfile.profile.name&&(this.currentProfile.profile.name=String(this.currentProfile.profile.name.trim())),this.name.control.markAsTouched()),this.userPanelPermissionsList.length)for(let t=this.userPanelPermissionsList.length-1;t>=0;t--)if(!this.userPanelPermissionsList[t].permissionTypeID||!this.userPanelPermissionsList[t].permissionOptionID){let i=this.userPanelPermissionsList.indexOf(this.userPanelPermissionsList[t]);this.userPanelPermissionsList.splice(i,1)}this.updatePanelPermissionsListStatus(this.userPanelPermissionsList),this.currentProfile.panelPermissions=this.userPanelPermissionsList,0===this.currentProfile.profile.id?(this.name.invalid||this.createProfile(this.currentProfile),this.name.invalid&&this._messageService.open("Profile name is required")):this.currentProfile.profile.id>0&&this.editProfile(this.currentProfile)}createProfile(t){this._profileService.createProfile(t).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.onProfileCreated.emit(i),this.profileExists=!0,this.selectedProfileId=i,this.selectedUserPanelPermissionsList=new Array,this.showDetails=!0,this.existingProfileSetUp(i),this.updatePanelPermissionsListStatus(this.userPanelPermissionsList),this._messageService.open("Profile created.")},i=>{let r=this._messageService.handleHttpError(i);"Name is already in use."===r&&(this.nameInUse=!0),this._messageService.open(r)})}editProfile(t){this._profileService.editProfile(t).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.refetchPermissions(),this._userRoleService.updatePermissions.next(!0),this._messageService.open("Profile saved.")},i=>{this._messageService.open(i)})}deleteProfile(){this._dialogService.openConfirmDialog("Delete",(0,St.$j)(" Profile")).afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{t&&this._profileService.deleteProfile(this.selectedProfileId).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{this.onProfileCreated.emit(0),this._profileService.profileDeleted.next(!0),this._messageService.open("Profile deleted."),this.showDetails=!1,this.newProfileSetUp()},r=>{this._messageService.open(r)})})}selectAll(t){this.isSelectAllChecked=t.checked,t.checked&&(this.schedulePanel.open(),this.employeePanel.open(),this.reportsPanel.open(),this.systemPanel.open());let i=["schedulePermissions","employeePermissions","systemPermissions","reportPermissions"];for(let r=0;r<i.length;r++)Object.keys(this.currentProfile.profile[i[r]]).forEach(a=>{"id"!==a&&(this.currentProfile.profile[i[r]][a]=t.checked)})}updatePanelPermissionsListStatus(t){let i=0;t.forEach(r=>{r.permissionTypeID&&r.permissionOptionID&&i++}),this.permissionsItemsValid=i==t.length}refetchPermissions(){let t=new e.vpe;this._userRoleService.refetchPermissions.pipe((0,H.R)(t)).subscribe(()=>{setTimeout(()=>{let i=this._userRoleService.getGlobalAccountPermissions();this.permissions=i,this.updatePanelPermissionsListStatus(this.userPanelPermissionsList),this.permissions&&!this.permissions.canUserAccessUserManagement&&this._router.navigateByUrl("/dashboard"),t.next(!0),t.complete()},200)})}ngOndestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se.G),e.Y36(Ri.x),e.Y36(yr.H),e.Y36(qi.J),e.Y36(q.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-profiles-details"]],viewQuery:function(t,i){if(1&t&&(e.Gf(UX,5),e.Gf(jX,7,Zi.oG),e.Gf(YX,7,so.ib),e.Gf(qX,7,so.ib),e.Gf(JX,7,so.ib),e.Gf(HX,7,so.ib)),2&t){let r;e.iGM(r=e.CRH())&&(i.name=r.first),e.iGM(r=e.CRH())&&(i.selectAllCheckbox=r.first),e.iGM(r=e.CRH())&&(i.schedulePanel=r.first),e.iGM(r=e.CRH())&&(i.employeePanel=r.first),e.iGM(r=e.CRH())&&(i.reportsPanel=r.first),e.iGM(r=e.CRH())&&(i.systemPanel=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},inputs:{profile:"profile"},outputs:{onProfileCreated:"onProfileCreated"},decls:102,vars:38,consts:[[1,"container-fluid",3,"hidden"],[1,"row"],[1,"col-12"],[1,"table-container"],[1,"g-thin-black-scroll-bar"],["id","details",1,"details-container"],[1,"row","d-flex","justify-content-between"],[4,"ngIf"],[1,"margin-r-15"],[3,"change"],["selectAllCheckbox","matCheckbox"],[1,"permissions-font"],[1,"table-divider","details-divider"],[1,"checkbox-container","top-part"],["id","leftSide",1,"col-12"],[1,"row","checkbox-row"],["schedulePanel","matExpansionPanel"],[1,"panel-header",3,"collapsedHeight","expandedHeight"],["id","mat-panel-title-schedule",1,"permissions-font"],[1,"col-md-6","col-12"],[4,"ngFor","ngForOf"],["employeePanel","matExpansionPanel"],["id","mat-panel-title-employee",1,"permissions-font"],["reportsPanel","matExpansionPanel"],["id","mat-panel-title-reports",1,"permissions-font"],["systemPanel","matExpansionPanel"],["id","mat-panel-title-system",1,"permissions-font"],[1,"select-container","bottom-part"],[1,"col-12","panel_permissions_title"],[1,"col-12","panel_permissions_headers"],[1,"col-5","panel-title","profile-details-title"],[1,"panel_hr"],["class","row",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"buttons-container","footer-part"],[1,"row","d-flex","justify-content-end","mt-3"],["class","eSolve-button mb-1 mr-3 profile-button","type","button","id","cancel_button",3,"click",4,"ngIf"],["type","button","id","cancel_button",1,"eSolve-button","eSolve-dark-blue-button","mb-1","mr-3","profile-button",3,"click"],["type","button","id","submit_button",1,"eSolve-button","eSolve-blue-button","mb-1","mr-3","profile-button",3,"click"],[1,"col-12","profile-details-title","d-flex","justify-content-center"],[1,"col-12","profile-details-title"],["id","profile_name","type","text","placeholder","Profile Name","autocomplete","off","required","",1,"form-control","form-control-sm","name-input",3,"ngClass","ngModel","keyup","ngModelChange"],["name","ngModel"],["class","validationError nameErrorMessage",4,"ngIf"],[1,"validationError","nameErrorMessage"],[1,"user-perm-checkbox",3,"id","name","checked","change"],[1,"col-12","panel_permissions_options"],[1,"col-5","panel_selections"],[1,"small-label"],["bindLabel","name","bindValue","id",1,"comparison-dropdown","jobTypeDetails",3,"id","items","ngModel","dropdownPosition","change","focus","ngModelChange"],[1,"col-5","panel_permissions"],["bindLabel","name","bindValue","id",1,"comparison-dropdown","jobTypeDetails",3,"id","items","ngModel","dropdownPosition","change","ngModelChange"],["class","col-2 panel_permissions d-flex justify-content-center",4,"ngIf"],[1,"col-2","panel_permissions","d-flex","justify-content-center"],["aria-hidden","true",1,"fa","fa-trash-o","align-self-center","delete-icon",3,"click"],["class","col-12",4,"ngIf"],[1,"add-panel-button",3,"click"],["type","button","id","cancel_button",1,"eSolve-button","mb-1","mr-3","profile-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",2)(6,"div",4)(7,"div",5)(8,"div",6),e.YNc(9,BX,3,1,"div",7),e.YNc(10,zX,6,6,"div",7),e.TgZ(11,"div",8)(12,"mat-checkbox",9,10),e.NdJ("change",function(a){return i.selectAll(a)}),e.TgZ(14,"span",11),e._uU(15," Select All "),e.qZA()()()(),e._UZ(16,"hr",12),e.TgZ(17,"div",13)(18,"div",1)(19,"div",14)(20,"div",15)(21,"div",2)(22,"mat-accordion")(23,"mat-expansion-panel",null,16)(25,"mat-expansion-panel-header",17)(26,"mat-panel-title",18),e._uU(27," Schedule "),e.qZA()(),e.TgZ(28,"div",1)(29,"div",19),e.YNc(30,XX,2,1,"div",20),e.ALo(31,"keyvalue"),e.qZA(),e.TgZ(32,"div",19),e.YNc(33,nee,2,1,"div",20),e.ALo(34,"keyvalue"),e.qZA()()()()()(),e.TgZ(35,"div",15)(36,"div",2)(37,"mat-accordion")(38,"mat-expansion-panel",null,21)(40,"mat-expansion-panel-header",17)(41,"mat-panel-title",22),e._uU(42," Employee "),e.qZA()(),e.TgZ(43,"div",1)(44,"div",19),e.YNc(45,oee,2,1,"div",20),e.ALo(46,"keyvalue"),e.qZA(),e.TgZ(47,"div",19),e.YNc(48,lee,2,1,"div",20),e.ALo(49,"keyvalue"),e.qZA()()()()()(),e.TgZ(50,"div",15)(51,"div",2)(52,"mat-accordion")(53,"mat-expansion-panel",null,23)(55,"mat-expansion-panel-header",17)(56,"mat-panel-title",24),e._uU(57," Reports "),e.qZA()(),e.TgZ(58,"div",1)(59,"div",19),e.YNc(60,uee,2,1,"div",20),e.ALo(61,"keyvalue"),e.qZA(),e.TgZ(62,"div",19),e.YNc(63,hee,2,1,"div",20),e.ALo(64,"keyvalue"),e.qZA()()()()()(),e.TgZ(65,"div",15)(66,"div",2)(67,"mat-accordion")(68,"mat-expansion-panel",null,25)(70,"mat-expansion-panel-header",17)(71,"mat-panel-title",26),e._uU(72," System "),e.qZA()(),e.TgZ(73,"div",1)(74,"div",19),e.YNc(75,_ee,2,1,"div",20),e.ALo(76,"keyvalue"),e.qZA(),e.TgZ(77,"div",19),e.YNc(78,yee,2,1,"div",20),e.ALo(79,"keyvalue"),e.qZA()()()()()()()()(),e.TgZ(80,"div",27)(81,"div",1)(82,"div",28),e._uU(83," User Panel Permissions "),e.qZA()(),e.TgZ(84,"div",1)(85,"div",29)(86,"div",1)(87,"div",30),e._uU(88," Panel "),e.qZA(),e.TgZ(89,"div",30),e._uU(90," Permissions "),e.qZA()(),e._UZ(91,"hr",31),e.qZA()(),e.YNc(92,Tee,14,13,"div",32),e.YNc(93,See,2,1,"div",33),e.qZA()()(),e.TgZ(94,"div",34),e._UZ(95,"hr"),e.TgZ(96,"div",35),e.YNc(97,kee,2,0,"button",36),e.TgZ(98,"button",37),e.NdJ("click",function(){return i.resetProfile()}),e._uU(99," Cancel "),e.qZA(),e.TgZ(100,"button",38),e.NdJ("click",function(){return i.saveChanges()}),e._uU(101," Save Changes "),e.qZA()()()()()()()()()),2&t&&(e.Q6J("hidden",!i.showDetails),e.xp6(9),e.Q6J("ngIf",i.profileExists),e.xp6(1),e.Q6J("ngIf",!i.profileExists),e.xp6(15),e.Q6J("collapsedHeight","32px")("expandedHeight","32px"),e.xp6(5),e.Q6J("ngForOf",e.lcZ(31,22,i.currentProfile.profile.schedulePermissions)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(34,24,i.currentProfile.profile.schedulePermissions)),e.xp6(7),e.Q6J("collapsedHeight","32px")("expandedHeight","32px"),e.xp6(5),e.Q6J("ngForOf",e.lcZ(46,26,i.currentProfile.profile.employeePermissions)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(49,28,i.currentProfile.profile.employeePermissions)),e.xp6(7),e.Q6J("collapsedHeight","32px")("expandedHeight","32px"),e.xp6(5),e.Q6J("ngForOf",e.lcZ(61,30,i.currentProfile.profile.reportPermissions)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(64,32,i.currentProfile.profile.reportPermissions)),e.xp6(7),e.Q6J("collapsedHeight","32px")("expandedHeight","32px"),e.xp6(5),e.Q6J("ngForOf",e.lcZ(76,34,i.currentProfile.profile.systemPermissions)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(79,36,i.currentProfile.profile.systemPermissions)),e.xp6(14),e.Q6J("ngForOf",i.userPanelPermissionsList),e.xp6(1),e.Q6J("ngIf",i.permissionsItemsValid),e.xp6(4),e.Q6J("ngIf",i.selectedProfileId>0))},dependencies:[D.mk,D.sg,D.O5,Zi.oG,so.pp,so.ib,so.yz,so.yK,_.Fj,_.JJ,_.Q7,_.On,Sn,$n,D.Nd,z1],styles:[".profile-details-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;margin-top:3px;margin-bottom:7px}.profile-name-title[_ngcontent-%COMP%]{color:#42536f;font-size:16px;font-weight:700}.add-panel-button[_ngcontent-%COMP%]{color:#42536f;font-size:12px;font-weight:700;cursor:pointer}.panel_permissions_title[_ngcontent-%COMP%]{color:var(--eSolve-primary);font-size:14px;font-weight:700}.empty[_ngcontent-%COMP%]{display:none}.name-input[_ngcontent-%COMP%]{margin-top:-3px;margin-bottom:-4px}.details-container[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);width:100%}.details-divider[_ngcontent-%COMP%]{margin-top:10px}.permissions-font[_ngcontent-%COMP%]{font-size:12px;color:#a0a5ac;white-space:normal}.checkbox-row[_ngcontent-%COMP%]{margin-bottom:5px}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.panel-header[_ngcontent-%COMP%]{color:#a0a5ac;background-color:#f2f3f5}.bottom-part[_ngcontent-%COMP%]{margin-top:20px}.panel_permissions_headers[_ngcontent-%COMP%]{margin-top:10px}.panel_hr[_ngcontent-%COMP%]{margin-top:2px}.nameErrorMessage[_ngcontent-%COMP%]{margin-top:14px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{padding-right:10px;height:calc(100vh - 325px)}.profile-button[_ngcontent-%COMP%]{width:30%}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%], .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]:hover, .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]:focus{background-color:#f2f3f5}  .mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#757575!important}.margin-r-15[_ngcontent-%COMP%]{margin-right:15px}@media (min-width: 466px){.small-label[_ngcontent-%COMP%]{display:none}}@media (max-width: 465px){.panel-title[_ngcontent-%COMP%]{display:none}.panel_selections[_ngcontent-%COMP%], .panel_permissions[_ngcontent-%COMP%]{margin-bottom:5px;-ms-flex:none!important;flex:none!important;max-width:100%!important}.small-label[_ngcontent-%COMP%]{font-size:12px;color:#42536f;margin-bottom:0}}@media (max-width: 412px){.profile-button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 170px)}}@media (max-height: 600px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{padding-right:10px;height:calc(100vh - 199px)}}"]}),n})();const Mee=["searchInputField"];function Oee(n,o){1&n&&(e.TgZ(0,"th",21),e._uU(1," Profile Name "),e.qZA())}function Pee(n,o){if(1&n&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",o.index),e.xp6(1),e.hij(" ",t.name," ")}}function Eee(n,o){1&n&&e._UZ(0,"th",23)}function Iee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openDuplicateProfileDialog(r))}),e._UZ(1,"i",29),e._uU(2," Duplicate "),e.qZA()}}function Nee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",24)(1,"div",1)(2,"div",25)(3,"button",26),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectProfile(a))}),e._uU(4," View Details "),e.qZA(),e.YNc(5,Iee,3,0,"button",27),e.qZA()()()}if(2&n){const t=o.index,i=e.oxw();e.s9C("id",t),e.xp6(5),e.Q6J("ngIf",i.isSuperAdminUser())}}function Ree(n,o){1&n&&e._UZ(0,"th",23)}function Fee(n,o){1&n&&(e.TgZ(0,"td",30),e._UZ(1,"i",31),e.qZA())}function Zee(n,o){1&n&&e._UZ(0,"tr",32)}const Lee=function(n){return{highlight:n}};function Uee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",33),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return s.highlight(a.id),e.KtG(s.selectProfile(a))}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(1,Lee,i.selectedRowIndex==t.id))}}function jee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"button",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addNewProfile())}),e._UZ(3,"i",37),e._uU(4," Add Profile "),e.qZA()()()}}const Yee=function(){return[5,10,25,50,100,250]};let qee=(()=>{class n{constructor(t,i,r){this._cd=t,this._profileService=i,this.dialog=r,this.displayedColumns=["profile","actions","chevron"],this.data=new N.by,this.dataSource=new N.by,this.selectedJobType=new L1,this.resultsLength=0,this.jobTypeCtrl=new _.NI,this.isLoadingResults=!0,this.searchValue="",this.isLoading=!1,this.config="",this.selectedRowIndex=-1,this.ngUnsubscribe=new b.x,this.onProfileSelected=new e.vpe,this.data.sort=this.sort,this.data.paginator=this.paginator}set signal(t){this.highlight(t),t&&this.populateTableData()}ngOnInit(){this.isSuperAdmin=localStorage.getItem("isSuperAdmin"),this.IsLicensed=localStorage.getItem("IsLicensed")}isSuperAdminUser(){return!("true"==this.isSuperAdmin&&"false"==this.IsLicensed&&this.resultsLength>=1)}ngAfterViewInit(){this.populateTableData(),this.trackDeletion(),this.jobTypeCtrl.valueChanges.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{t&&this.paginator.firstPage()})}populateTableData(){this.data.paginator=this.paginator,this.dataSource.sort=this.sort,this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page).pipe((0,_e.O)({}),(0,j.w)(()=>(this.dataSource.sort=this.sort,this.isLoadingResults=!0,this._profileService.getProfiles("user",this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction))),(0,Oe.U)(t=>(this.isLoadingResults=!1,this.resultsLength=t.totalCount,t.items)),(0,Wi.K)(()=>(this.isLoadingResults=!1,(0,gn.of)([])))).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.data=t,this._cd.detectChanges()})}openDuplicateProfileDialog(t){this.dialog.open(ak,{disableClose:!0,autoFocus:!1,width:"370px",data:{id:t.id,name:t.name,isUserProfile:!0}}).afterClosed().pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{r.message&&"submitted"===r.message&&this.populateTableData()})}selectProfile(t){this.onProfileSelected.emit(t)}addNewProfile(){this.onProfileSelected.emit({id:0}),this.highlight(0)}highlight(t){this.selectedRowIndex=t}trackDeletion(){this._profileService.profileDeleted.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(()=>{this.populateTableData()})}ngOndestroy(){this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete(),this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(yr.H),e.Y36(z.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-profiles-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(Mee,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.searchInput=r.first)}},inputs:{signal:"signal"},outputs:{onProfileSelected:"onProfileSelected"},decls:24,vars:9,consts:[[1,"container-fluid","profile-table-container"],[1,"row"],[1,"col-12"],[1,"row","table-row"],[1,"g-thin-black-scroll-bar"],["mat-table","","id","JT_job_types_table","matSort","",1,"job-types-table",3,"dataSource"],["matColumnDef","profile"],["mat-header-cell","","mat-sort-header","","id","jobType-header",4,"matHeaderCellDef"],["mat-cell","","class","profile-name additional-class",3,"id",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"id",4,"matCellDef"],["matColumnDef","chevron"],["mat-cell","","class","eSolveChevron rightSide hidden-on-small-screen-chevron",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["class","row add-profile-row",4,"ngIf"],[1,"row","paginator-row"],["id","user_profiles_list_divider"],["paginatorStyle","","showFirstLastButtons","","color","accent",1,"profile-paginator",3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-sort-header","","id","jobType-header"],["mat-cell","",1,"profile-name","additional-class",3,"id"],["mat-header-cell",""],["mat-cell","",3,"id"],[1,"col-lg-12","align-buttons-padding","buttons-display"],["id","view_details_button","type","button",1,"delete-profile-button","btn","p-2","modal-btn","employee-profiles",3,"click"],["id","duplicate_button","type","button","class","delete-profile-button btn p-2 modal-btn employee-profiles hidden-on-small-screen",3,"click",4,"ngIf"],["id","duplicate_button","type","button",1,"delete-profile-button","btn","p-2","modal-btn","employee-profiles","hidden-on-small-screen",3,"click"],["aria-hidden","true",1,"fa","fa-clone","duplicate-icon"],["mat-cell","",1,"eSolveChevron","rightSide","hidden-on-small-screen-chevron"],[1,"fa","fa-chevron-right","profiles-chevron-icon"],["mat-header-row",""],["mat-row","",3,"ngClass","click"],[1,"row","add-profile-row"],[1,"col-12","d-flex","justify-content-end"],["id","add_new_profile","type","button",1,"eSolve-button","add-button",3,"click"],["aria-hidden","true",1,"fa","fa-plus"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"table",5),e.ynx(7,6),e.YNc(8,Oee,2,0,"th",7),e.YNc(9,Pee,2,2,"td",8),e.BQk(),e.ynx(10,9),e.YNc(11,Eee,1,0,"th",10),e.YNc(12,Nee,6,2,"td",11),e.BQk(),e.ynx(13,12),e.YNc(14,Ree,1,0,"th",10),e.YNc(15,Fee,2,0,"td",13),e.BQk(),e.YNc(16,Zee,1,0,"tr",14),e.YNc(17,Uee,1,3,"tr",15),e.qZA()()()(),e.YNc(18,jee,5,0,"div",16),e.TgZ(19,"div",17)(20,"div",2),e._UZ(21,"hr",18)(22,"mat-paginator",19,20),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("dataSource",i.data),e.xp6(10),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",i.isSuperAdminUser()),e.xp6(4),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(8,Yee)))},dependencies:[D.mk,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,$n,di],styles:[".container-fluid[_ngcontent-%COMP%]   .profile-table-container[_ngcontent-%COMP%]{position:relative;background-color:#eff3f7;padding:5vh 1vw 5vh 2vw;width:100%}.table-container[_ngcontent-%COMP%]{position:relative;min-height:100px;border:1px solid #e1e6ec;border-radius:5px;width:97%;padding:27px;background-color:#fff}.table-header[_ngcontent-%COMP%]{margin-bottom:25px;position:relative}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:16px;font-weight:700;padding-top:6px}.table-bottom-border[_ngcontent-%COMP%]{border-bottom:1px solid #42536f}.delete-profile-button[_ngcontent-%COMP%]{background-color:#eff3f7;color:#404f64;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042}.modal-btn.employee-profiles[_ngcontent-%COMP%]{height:27px;float:right;margin-left:15px;width:100px;margin-top:5px;margin-bottom:5px}.align-buttons-padding[_ngcontent-%COMP%]{padding-right:20px;padding-left:0;-ms-flex-pack:end;justify-content:flex-end}.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.modal-btn.employee-profiles[_ngcontent-%COMP%]:focus   tr.mat-row[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.modal-btn.employee-profiles[_ngcontent-%COMP%]:focus   tr.mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-of-type{color:#fff}.modal-btn.employee-profiles[_ngcontent-%COMP%]:focus   tr.mat-row[_ngcontent-%COMP%]   .profiles-chevron-icon[_ngcontent-%COMP%]{color:#fff}table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]{border-radius:5px 5px 0 0}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:6px}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type.additional-class{color:#404f64;padding-left:20px;padding-right:20px;width:40%;word-break:break-word;min-width:120px}.mat-paginator-container[_ngcontent-%COMP%]{border-radius:0 0 5px 5px}.mat-column-actions[_ngcontent-%COMP%]{position:relative}.mat-column-actions[_ngcontent-%COMP%]{-ms-flex-pack:end;justify-content:flex-end}.ps--active-x[_ngcontent-%COMP%] > .ps__rail-x[_ngcontent-%COMP%], .ps--active-y[_ngcontent-%COMP%] > .ps__rail-y[_ngcontent-%COMP%]{z-index:5000}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}.profile-name[_ngcontent-%COMP%]{font-size:12.5px;color:#595959}.eSolve-button[_ngcontent-%COMP%]{height:27px!important;margin-bottom:0;margin-left:0;width:-moz-max-content;width:max-content}.duplicate-icon[_ngcontent-%COMP%]{padding-right:10px}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0;text-align:center}.rightSide[_ngcontent-%COMP%]{position:relative;width:18%;padding-left:25px;margin-right:2%}.profiles-chevron-icon[_ngcontent-%COMP%]{color:var(--eSolve-primary);font-size:15px;padding-top:7px}tr.mat-row[_ngcontent-%COMP%]:hover{background-color:var(--eSolve-primary)}tr.mat-row[_ngcontent-%COMP%]:hover   td.mat-cell[_ngcontent-%COMP%]:first-of-type{color:#fff}tr.mat-row[_ngcontent-%COMP%]:hover   .profiles-chevron-icon[_ngcontent-%COMP%]{color:#fff}.highlight[_ngcontent-%COMP%]{background:var(--eSolve-primary)}.highlight[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-of-type{color:#fff}.highlight[_ngcontent-%COMP%]   .profiles-chevron-icon[_ngcontent-%COMP%]{color:#fff}.add-button[_ngcontent-%COMP%]{width:140px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{margin-top:-12px;padding-right:10px;height:calc(100vh - 354px)}.add-profile-row[_ngcontent-%COMP%]{margin-top:14px}@media (max-width: 428px){.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:block}}@media (max-width: 479px){#user_profiles_list_divider[_ngcontent-%COMP%]{margin-bottom:55px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 368px)}}@media (max-width: 767px) and (min-width: 490px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 329px)}}@media (max-width: 767px){.profiles-chevron-icon[_ngcontent-%COMP%]{display:none}.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.hidden-on-small-screen-chevron[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 820px){.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:block}.profiles-chevron-icon[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}}@media (max-width: 890px){.profiles-chevron-icon[_ngcontent-%COMP%]{display:none}}@media (max-width: 992px){.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}}@media (max-width: 1015px){.align-buttons-padding.buttons-display[_ngcontent-%COMP%]{display:block}.profiles-chevron-icon[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 1095px){.profiles-chevron-icon[_ngcontent-%COMP%]{display:none}}"]}),n})(),Jee=(()=>{class n{constructor(t,i,r,a){this.titleService=t,this._router=i,this._zone=r,this._ref=a,this.pageTitle="Settings > User Management",i.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&r.run(()=>this._ref.detectChanges())})}ngOnInit(){this.titleService.sendTitle(this.pageTitle)}passProfile(t){this.selectedProfile=t}updateOnCreate(t){this.creationSignal=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(q.F0),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manage-user-profiles"]],decls:13,vars:2,consts:[[1,"container-fluid"],[1,"table-container"],[1,"row"],[1,"col-12"],[1,"table-header","row"],[1,"col-12","table-header-title"],[1,"table-divider"],[1,"col-md-6","col-12","list-side"],[3,"signal","onProfileSelected"],[1,"col-md-6","col-12","details-side"],[3,"profile","onProfileCreated"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6," Manage User Profiles "),e.qZA()(),e._UZ(7,"hr",6),e.TgZ(8,"div",2)(9,"div",7)(10,"app-user-profiles-list",8),e.NdJ("onProfileSelected",function(a){return i.passProfile(a)}),e.qZA()(),e.TgZ(11,"div",9)(12,"app-user-profiles-details",10),e.NdJ("onProfileCreated",function(a){return i.updateOnCreate(a)}),e.qZA()()()()()()()),2&t&&(e.xp6(10),e.Q6J("signal",i.creationSignal),e.xp6(2),e.Q6J("profile",i.selectedProfile))},dependencies:[Aee,qee],styles:[".container-fluid[_ngcontent-%COMP%]{position:relative;background-color:#eff3f7;padding:17px;width:100%}.table-container[_ngcontent-%COMP%]{position:relative;min-height:100px;border:1px solid #e1e6ec;border-radius:5px;padding:20px;background-color:#fff;min-height:calc(100vh - 92px)}.table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:16px;font-weight:700}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-bottom:15px}.profile-names-title[_ngcontent-%COMP%]{color:#42536f;font-size:14px;font-weight:700;padding-top:5px;padding-bottom:15px}.table-bottom-border[_ngcontent-%COMP%]{border-bottom:1px solid #42536f}.profile-style[_ngcontent-%COMP%]{color:#42536f;font-size:13px;padding-top:10px;padding-bottom:14px;margin-left:auto;margin-top:5px;margin-right:0;padding-left:15px}.delete-profile-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042}.modal-btn.employee-profiles[_ngcontent-%COMP%]{height:28px;width:170px;float:right}.modal-btn.employee-profiles.add-new-profile[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px;margin-right:10px}.chevron-right-style[_ngcontent-%COMP%]{font-size:20px;color:#93d500;cursor:pointer}@media (min-width: 768px){.list-side[_ngcontent-%COMP%]{padding-right:0}.details-side[_ngcontent-%COMP%]{padding-left:0}}"]}),n})();var Hee=J(80469);let Bee=(()=>{class n{constructor(t,i,r,a){this.router=t,this._titleService=i,this._previousRouteService=r,this._userRoleService=a,this.pageTitle="Account",this.previousRoute=""}ngOnInit(){this.isSuperAdmin=localStorage.getItem("isSuperAdmin"),this.previousRoute=this._previousRouteService.getPreviousUrl(),this._titleService.sendTitle(this.pageTitle),this.getRole()}getRole(){this._userRoleService.loggedUserRole.subscribe(t=>{this.role=t})}navigateBack(){this.router.navigate([this.previousRoute])}isSuperAdminUser(){return"true"==this.isSuperAdmin}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.F0),e.Y36(ce.Z),e.Y36(Hee._),e.Y36(qi.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-account"]],decls:7,vars:0,consts:[[1,"container-fluid","acc-pref"],[1,"table-container","acc-pref"],[1,"table-header","row"],[1,"leftSide","header-left","d-flex","justify-content-between"],[1,"table-header-title"],[1,"table-divider"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5," Account "),e.qZA()()(),e._UZ(6,"hr",5),e.qZA()())},styles:[".table-header-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px;padding-top:6px;position:relative;margin-left:15px}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.table-container.acc-pref[_ngcontent-%COMP%]{position:relative;min-height:100px;border:1px solid #e1e6ec;border-radius:5px;width:100%;padding:27px;background-color:#fff;height:100%}.container-fluid.acc-pref[_ngcontent-%COMP%]{background-color:#eff3f7;padding:15px;width:100%;height:calc(100vh - 56px)}mat-panel-title[_ngcontent-%COMP%], .table-header-title[_ngcontent-%COMP%]{color:#42536f;font-size:16px;font-weight:700}.accLabel[_ngcontent-%COMP%]{margin-bottom:0;font-size:11px}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.incorrectPassword[_ngcontent-%COMP%]{border-color:var(--eSolve-red);outline:0}@media (max-width: 461px){#cancel_button[_ngcontent-%COMP%]{margin-bottom:5px}}"]}),n})();const Vee=["userSelect"],Gee=["filterUsers"];function Wee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Qee(n,o){1&n&&e.YNc(0,Wee,5,1,"div",21),2&n&&e.Q6J("ngForOf",o.items)}function zee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Kee(n,o){1&n&&e.YNc(0,zee,5,1,"div",21),2&n&&e.Q6J("ngForOf",o.items)}function $ee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.addNewUser())}),e._UZ(2,"i",25),e._uU(3," \xa0\xa0Add User "),e.qZA()()}}function Xee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function ete(n,o){if(1&n&&(e.TgZ(0,"span",28),e._uU(1,"User Profiles:"),e.qZA(),e.YNc(2,Xee,5,1,"div",21)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function tte(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"ng-select",26,27),e.YNc(3,ete,3,1,"ng-template",10),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.profiles)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function nte(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function ite(n,o){if(1&n&&(e.TgZ(0,"span",28),e._uU(1,"User Name:"),e.qZA(),e.YNc(2,nte,5,1,"div",21)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function rte(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"ng-select",29,30),e.YNc(3,ite,3,1,"ng-template",10),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.userNames)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function ote(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function ate(n,o){if(1&n&&(e.TgZ(0,"span",28),e._uU(1,"First Name:"),e.qZA(),e.YNc(2,ote,5,1,"div",21)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function ste(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"ng-select",31,32),e.YNc(3,ate,3,1,"ng-template",10),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.firstNames)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function lte(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function cte(n,o){if(1&n&&(e.TgZ(0,"span",28),e._uU(1,"Last Name:"),e.qZA(),e.YNc(2,lte,5,1,"div",21)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function dte(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"ng-select",33,34),e.YNc(3,cte,3,1,"ng-template",10),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.lastNames)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function ute(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function pte(n,o){if(1&n&&(e.TgZ(0,"span",28),e._uU(1,"Email:"),e.qZA(),e.YNc(2,ute,5,1,"div",21)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function fte(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"ng-select",35,36),e.YNc(3,pte,3,1,"ng-template",10),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.emailIds)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function hte(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"span",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.value," ")}}function mte(n,o){if(1&n&&(e.TgZ(0,"span",28),e._uU(1,"Mobile Number:"),e.qZA(),e.YNc(2,hte,5,1,"div",21)),2&n){const t=o.items;e.xp6(2),e.Q6J("ngForOf",t)}}function gte(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"ng-select",37,38),e.YNc(3,mte,3,1,"ng-template",10),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("items",t.mobileNumbers)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)}}function _te(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",3)(1,"div",4)(2,"div",5)(3,"label",6),e._uU(4," Manage Users "),e.qZA()(),e.TgZ(5,"div",7)(6,"ng-select",8,9),e.NdJ("remove",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.refershUserSearchList())}),e.ALo(8,"async"),e.YNc(9,Qee,1,1,"ng-template",10),e.qZA()(),e.TgZ(10,"div",7)(11,"ng-select",11,12),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onFilterSelected(r))}),e.YNc(13,Kee,1,1,"ng-template",10),e.qZA()(),e.TgZ(14,"div",13)(15,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openActionsDialog())}),e._UZ(16,"i",15),e.TgZ(17,"span",16),e._uU(18),e.qZA()()(),e.YNc(19,$ee,4,0,"div",17),e.YNc(20,tte,4,6,"div",18),e.YNc(21,rte,4,6,"div",18),e.YNc(22,ste,4,6,"div",18),e.YNc(23,dte,4,6,"div",18),e.YNc(24,fte,4,6,"div",18),e.YNc(25,gte,4,6,"div",18),e.qZA(),e.TgZ(26,"div",19),e._UZ(27,"hr",20),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.userFilterForm),e.xp6(1),e.Q6J("hidden",t.isOnDetails),e.xp6(5),e.Q6J("items",e.lcZ(8,22,t.users))("multiple",!0)("hideSelected",!0)("typeahead",t.userSearchInput),e.xp6(5),e.Q6J("items",t.filters)("virtualScroll",!0)("hideSelected",!1)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0),e.xp6(4),e.Q6J("disabled",!t.enableEditUserButton),e.xp6(3),e.hij(" \xa0\xa0Edit ",t.totalNumberOfSelectedUsers," Users "),e.xp6(1),e.Q6J("ngIf",t.ssoUserAdminRight),e.xp6(1),e.Q6J("ngIf",t.filterUserProfiles.is),e.xp6(1),e.Q6J("ngIf",t.filterUsername.is),e.xp6(1),e.Q6J("ngIf",t.filterFirstName.is),e.xp6(1),e.Q6J("ngIf",t.filterLastName.is),e.xp6(1),e.Q6J("ngIf",t.filterEmail.is),e.xp6(1),e.Q6J("ngIf",t.filterMobileNumber.is),e.xp6(1),e.Q6J("hidden",t.isOnDetails)}}let vte=(()=>{class n{constructor(t,i,r,a,s,l,c){this._titleService=t,this._router=i,this._userService=r,this.renderer=a,this._zone=s,this._ref=l,this.dialog=c,this.pageTitle="Manage Users",this.pageSubtitle="User Details",this.isOnDetails=!1,this.userSearchInput=new b.x,this.filterUserProfiles={is:!1,was:!1},this.filterUsername={is:!1,was:!1},this.filterFirstName={is:!1,was:!1},this.filterLastName={is:!1,was:!1},this.filterEmail={is:!1,was:!1},this.filterMobileNumber={is:!1,was:!1},this.profiles=new N.by,this.userNames=new N.by,this.firstNames=new N.by,this.lastNames=new N.by,this.emailIds=new N.by,this.mobileNumbers=new N.by,this.totalNumberOfSelectedUsers=0,this.enableEditUserButton=!1,this.privousUserSearch="",this.ssoUserAdminRight=!1,i.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&s.run(()=>this._ref.detectChanges())})}set content(t){this.userSelect=t}set content2(t){this.filterUsers=t}_createIconElement(t,i,r){const a=this.renderer.createElement("i");return this.renderer.addClass(a,"fa"),this.renderer.addClass(a,t),this.renderer.setStyle(a,i,r),this.renderer.setStyle(a,"color","gray"),a}ngAfterViewInit(){$(this.userSelect.element.children[0].children[1]).remove(),$(this.userSelect.element.children[0]).append(this._createIconElement("fa-search","padding-right","6px")),$(this.filterUsers.element.children[0]).prepend(this._createIconElement("fa-filter","padding-left","6px"))}ngOnInit(){this._titleService.sendTitle(this.pageTitle),this._userService.totalUsers.subscribe(t=>this.totalNumberOfSelectedUsers=t),this._userService.enableEditUserButton.subscribe(t=>this.enableEditUserButton=t),this.ssoUserAdminRight="true"==localStorage.getItem("isSsoUserAdmin"),this.userFilterForm=new _.cw({filters:new _.NI([]),profiles:new _.NI([]),userNames:new _.NI([]),firstNames:new _.NI([]),lastNames:new _.NI([]),emailIds:new _.NI([]),mobileNumbers:new _.NI([]),users:new _.NI([])}),this._router.navigateByUrl("/manage-users/table",{state:{myProfile:"true"}}),this.getFilterList(),this.subscription=this._userService.isOnDetails.subscribe(t=>{setTimeout(()=>{this.isOnDetails=t},0),this.isOnDetails&&(this.userFilterForm.controls.filters.setValue([]),this.userFilterForm.controls.profiles.setValue([]),this.userFilterForm.controls.userNames.setValue([]),this.userFilterForm.controls.firstNames.setValue([]),this.userFilterForm.controls.lastNames.setValue([]),this.userFilterForm.controls.emailIds.setValue([]),this.userFilterForm.controls.mobileNumbers.setValue([]),this.userFilterForm.controls.users.setValue([]),this.resetFilterStatus())}),this.subscription.add(this.userFilterForm.valueChanges.subscribe(t=>{this.resetFilterSelectors(t),this._userService.paginationData.next(t)})),this.users=(0,Yr.z)((0,gn.of)([]),this.userSearchInput.pipe((0,j.w)(t=>(this.privousUserSearch=t,t&&t.length>1?this._userService.searchUsersAndProfilesForFilter(t,"true").pipe((0,Wi.K)(()=>(0,gn.of)([]))):(0,gn.of)([])))))}refershUserSearchList(){this.userSearchInput.next(this.privousUserSearch)}resetFilterCurrentStatus(){this.filterUserProfiles.is=!1,this.filterUsername.is=!1,this.filterFirstName.is=!1,this.filterLastName.is=!1,this.filterEmail.is=!1,this.filterMobileNumber.is=!1}resetFilterStatus(){this.resetFilterCurrentStatus(),this.filterUserProfiles.was=!1,this.filterUsername.was=!1,this.filterFirstName.was=!1,this.filterLastName.was=!1,this.filterEmail.was=!1,this.filterMobileNumber.was=!1}syncFilterStatus(){this.filterUserProfiles.was=this.filterUserProfiles.is,this.filterUsername.was=this.filterUsername.is,this.filterFirstName.was=this.filterFirstName.is,this.filterLastName.was=this.filterLastName.is,this.filterEmail.was=this.filterEmail.is,this.filterMobileNumber.was=this.filterMobileNumber.is}resetFilterSelectors(t){t.filters.includes(7)&&t.filters.includes(8)&&(t.filters.splice(t.filters.indexOf(7),1),t.filters.splice(t.filters.indexOf(8),1)),0==t.users.length&&(t.users=[]),0===t.filters.filter(i=>7!==i&&8!==i).length?(t.profiles.length=0,t.userNames.length=0,t.firstNames.length=0,t.lastNames.length=0,t.emailIds.length=0,t.mobileNumbers.length=0,this.resetFilterStatus()):(t.filters.includes(1)||(t.profiles.length=0),t.filters.includes(2)||(t.userNames.length=0),t.filters.includes(3)||(t.firstNames.length=0),t.filters.includes(4)||(t.lastNames.length=0),t.filters.includes(5)||(t.emailIds.length=0),t.filters.includes(6)||(t.mobileNumbers.length=0))}getFilterList(){this.filters=[{id:1,name:"User Profiles"},{id:2,name:"Username"},{id:3,name:"First Name"},{id:4,name:"Last Name"},{id:5,name:"Email"},{id:6,name:"Mobile Number"},{id:7,name:"Users with Linked Employee"},{id:8,name:"Users without Linked Employee"}]}onFilterSelected(t){this.resetFilterCurrentStatus();for(let i=0;i<t.length;i++)switch(t[i].id){case 1:this.filterUserProfiles.is=!0,!1===this.filterUserProfiles.was&&this._userService.getAllUserProfiles().subscribe(r=>{this.profiles=r.items});break;case 2:this.filterUsername.is=!0,!1===this.filterUsername.was&&this._userService.getUserFilters("userNames").subscribe(r=>{this.userNames=r.items});break;case 3:this.filterFirstName.is=!0,!1===this.filterFirstName.was&&this._userService.getUserFilters("firstNames").subscribe(r=>{this.firstNames=r.items});break;case 4:this.filterLastName.is=!0,!1===this.filterLastName.was&&this._userService.getUserFilters("lastNames").subscribe(r=>{this.lastNames=r.items});break;case 5:this.filterEmail.is=!0,!1===this.filterEmail.was&&this._userService.getUserFilters("emailIds").subscribe(r=>{this.emailIds=r.items});break;case 6:this.filterMobileNumber.is=!0,!1===this.filterMobileNumber.was&&this._userService.getUserFilters("mobileNumbers").subscribe(r=>{this.mobileNumbers=r.items})}this.syncFilterStatus()}addNewUser(){this._zone.run(()=>{this._router.navigateByUrl("/manage-users/details",{state:{id:0}})})}openActionsDialog(){this.dialogRef=this.dialog.open(cs,{data:"User",autoFocus:!1,disableClose:!0,width:"650px",panelClass:["max-height96"]}),this.dialogRef.afterClosed().subscribe(t=>{this._userService.getNumberOfSelectedUser(this.totalNumberOfSelectedUsers),t&&"saved"===t&&this._userService.assignProfile.next(!0)})}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(q.F0),e.Y36(jn),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(z.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manage-users"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Vee,5),e.Gf(Gee,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.content=r.first),e.iGM(r=e.CRH())&&(i.content2=r.first)}},decls:4,vars:1,consts:[[1,"card"],[1,"card-body"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"row","searchBarRow",3,"hidden"],[1,"col-xl-2","col-md-3","col-12"],[1,"page-title","page-title-color"],[1,"col-md-3","col-12"],["id","userSearchInput","bindLabel","name","bindValue","id","placeholder","Find User","formControlName","users","typeToSearchText","Enter at least two characters",1,"g-esolve-multi-select","esolve-font-size","users-table-search",3,"items","multiple","hideSelected","typeahead","remove"],["userSelect",""],["ng-multi-label-tmp",""],["bindLabel","name","bindValue","id","placeholder","Filter Users","formControlName","filters",1,"g-esolve-multi-select","esolve-font-size","users-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd","change"],["filterUsers",""],[1,"col-xl-2","col-md-3","col-12","d-flex","justify-content-end"],[1,"esolve-manage-user-button",3,"disabled","click"],[1,"fa","fa-edit"],[1,"ng-value-label"],["class","col-xl-2 col-md-3 col-12 d-flex justify-content-end",4,"ngIf"],["class","col-md-3 col-12",4,"ngIf"],[3,"hidden"],[1,"blue_hr"],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[1,"esolve-manage-user-button",3,"click"],[1,"fa","fa-plus"],["bindLabel","name","bindValue","id","placeholder","User Profiles","formControlName","profiles",1,"g-esolve-multi-select","esolve-font-size","users-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["filterProfiles",""],[1,"filterTitle"],["bindLabel","value","bindValue","value","placeholder","User Name","formControlName","userNames",1,"g-esolve-multi-select","esolve-font-size","users-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["filterUserNames",""],["bindLabel","value","bindValue","value","placeholder","First Name","formControlName","firstNames",1,"g-esolve-multi-select","esolve-font-size","users-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["filterFirstNames",""],["bindLabel","value","bindValue","value","placeholder","Last Name","formControlName","lastNames",1,"g-esolve-multi-select","esolve-font-size","users-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["filterLastNames",""],["bindLabel","value","bindValue","value","placeholder","Email","formControlName","emailIds",1,"g-esolve-multi-select","esolve-font-size","users-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["filterEmailIds",""],["bindLabel","value","bindValue","value","placeholder","Mobile Number","formControlName","mobileNumbers",1,"g-esolve-multi-select","esolve-font-size","users-table-search",3,"items","virtualScroll","hideSelected","multiple","closeOnSelect","clearSearchOnAdd"],["filterMobileNumbers",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,_te,28,24,"form",2),e._UZ(3,"router-outlet"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",i.userFilterForm))},dependencies:[D.sg,D.O5,q.lC,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,D.Ov],styles:[".backdropBackground[_ngcontent-%COMP%]{background:rgba(0,0,0,.5)!important}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:17px;margin-left:0}.page-title-color[_ngcontent-%COMP%]{color:gray}#pageBodyLower[_ngcontent-%COMP%]{margin:0 11px}.card-title[_ngcontent-%COMP%]{margin:0 10px 19px 27px}#userPanel[_ngcontent-%COMP%]{padding:16px;min-height:100%;height:100%;box-sizing:border-box;overflow:auto}.submit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%], .toggle-button[_ngcontent-%COMP%]{margin-bottom:10px;min-width:88px;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.column-fix[_ngcontent-%COMP%]{width:100%;max-width:100%!important;height:auto!important}#addUserButton[_ngcontent-%COMP%]{color:#fff;background-color:var(--eSolve-primary);margin-left:10px!important}.mat-raised-button[_ngcontent-%COMP%]{line-height:12px!important}.card[_ngcontent-%COMP%]{border:1px solid #e1e6ec!important}@media (max-width: 1024px){.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{height:40px;padding:10px 10px 0 18px;margin:6px 0;width:100%;max-width:100%;border-radius:4px;font-size:14px;text-align:center;text-decoration:none;border:none;outline:none;background-color:#eff3f7;color:var(--eSolve-gray-dark);box-shadow:0 2px 5px #00000042;display:inline-block}}@media (max-width: 767px){#userTableFilter[_ngcontent-%COMP%]{width:100%}.searchBarRow[_ngcontent-%COMP%]{padding-left:0;padding-right:0!important}.blue_hr[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}mat-divider[_ngcontent-%COMP%]{padding-left:0;padding-right:0;display:none}.esolve-manage-user-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;width:100%!important}}.searchBarRow[_ngcontent-%COMP%]{margin-bottom:-15px;padding-right:2.5%}.page[_ngcontent-%COMP%]{margin:0}.divider[_ngcontent-%COMP%]{margin-top:1vh;width:96%!important}.padding_bottom[_ngcontent-%COMP%]{padding-bottom:20px}.filterTitle[_ngcontent-%COMP%]{font-size:12px;color:gray;margin-left:3px;margin-right:5px}.esolve-user-details-title[_ngcontent-%COMP%]{padding-top:5px;padding-left:10px;padding-right:10px}.blue_hr[_ngcontent-%COMP%]{margin-left:0;margin-right:2%}.col-spacing[_ngcontent-%COMP%]{padding-bottom:0%;margin-right:10px;margin-left:8px}@media only screen and (max-width: 1000px),(min-device-width: 600px) and (max-device-width: 1000px){.esolve-manage-user-button[_ngcontent-%COMP%]{width:100%}.col-spacing[_ngcontent-%COMP%]{padding-bottom:3%;width:100%;margin-left:5px;margin-right:10px}}@media only screen and (max-width: 600px),(min-device-width: 320px) and (max-device-width: 600px){.esolve-manage-user-button[_ngcontent-%COMP%]{width:100%}.col-spacing[_ngcontent-%COMP%]{padding-bottom:3%;width:100%}mat-divider[_ngcontent-%COMP%]{padding-left:0;padding-right:0;display:none}}.esolve-manage-user-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;height:28px;padding:0 10px!important;box-shadow:0 2px 5px #00000042;min-width:140px;display:-ms-flexbox;display:flex;-ms-flex:1 1;flex:1 1;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.esolve-none[_ngcontent-%COMP%]{display:none}  .mat-checkbox-checked.mat-accent .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#757575!important}"]}),n})();class bte{constructor(o,t,i,r,a,s,l,c,u){this.notificationTypes=o,this.profiles=t,this.linkedEmployees=i,this.linkedEmployeeRights=r,this.organisationFields=a,this.scheduleRights=s,this.schedules=l,this.templates=c,this.shifts=u}}const yte={id:"number",firstname:"string",surname:"string",username:"string",password:"string",confirmPassword:"string",email:"string",telephoneNumber:"number",mobileNumber:"number",userProfileID:"number",linkedEmployeeID:"number",linkedEmployeeRightID:"number",image:"string",isAccessEmailSent:"boolean",isForgottenPassword:"boolean",userSchedulePermissions:"object",userEmployeePermissions:"object",userTemplatePermissions:"object"},xte=["toggleElement"];function Cte(n,o){if(1&n&&(e.TgZ(0,"label",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.currentUserObject.user.firstname," ",t.currentUserObject.user.surname," ")}}function Tte(n,o){if(1&n&&e._UZ(0,"img",41),2&n){const t=e.oxw();e.Q6J("src",t.sanitizeExistingDetails(),e.LSH)}}function wte(n,o){1&n&&e._UZ(0,"img",42)}function Dte(n,o){1&n&&e._UZ(0,"label")}function Ste(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",44)(2,"button",45,46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.sendAccessEmail())}),e._uU(4," Send System Access email "),e.qZA()()()}}function kte(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ste,5,0,"div",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showAccessEmailBtn)}}function Ate(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",44)(2,"button",47,46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.sendAccessEmail())}),e._uU(4," Resend System Access email "),e.qZA()()()}}function Mte(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ate,5,0,"div",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showAccessEmailBtn)}}function Ote(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteUser())}),e._UZ(2,"i",37),e._uU(3," Delete "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.userSaved)}}function Pte(n,o){1&n&&(e.TgZ(0,"i",97),e._uU(1," ! "),e.qZA())}function Ete(n,o){if(1&n&&(e.TgZ(0,"i",95),e._uU(1," Personal\xa0\xa0 "),e.qZA(),e.YNc(2,Pte,2,0,"i",96)),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",((null==t.f.firstname?null:t.f.firstname.touched)&&(null==t.f.firstname?null:t.f.firstname.errors)||(null==t.f.surname?null:t.f.surname.touched)&&(null==t.f.surname?null:t.f.surname.errors)||(null==t.f.username?null:t.f.username.touched)&&(null==t.f.username?null:t.f.username.errors)||(null==t.f.email?null:t.f.email.touched)&&(null==t.f.email?null:t.f.email.errors)||(null==t.f.telephoneNumber?null:t.f.telephoneNumber.touched)&&(null==t.f.telephoneNumber?null:t.f.telephoneNumber.errors)||(null==t.f.mobileNumber?null:t.f.mobileNumber.touched)&&(null==t.f.mobileNumber?null:t.f.mobileNumber.errors)||(null==t.f.password?null:t.f.password.touched)&&(null==t.f.password?null:t.f.password.errors)||(null==t.f.confirmPassword?null:t.f.confirmPassword.touched)&&(null==t.f.confirmPassword?null:t.f.confirmPassword.errors)||(null==t.f.linkedEmployeeRightID?null:t.f.linkedEmployeeRightID.touched)&&(null==t.f.linkedEmployeeRightID?null:t.f.linkedEmployeeRightID.errors))&&!t.newUserSaving)}}function Ite(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Username ",t.message.required," ")}}function Nte(n,o){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Username ",t.message.specialCharacter," ")}}function Rte(n,o){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,Ite,2,1,"div",32),e.YNc(2,Nte,2,1,"div",62),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.username.errors?null:t.f.username.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.username.errors?null:t.f.username.errors.allSpecialCharacters)}}function Fte(n,o){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Username ",t.message.inUse," ")}}function Zte(n,o){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" First Name",t.message.required," ")}}function Lte(n,o){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" First Name ",t.message.specialCharacter," ")}}function Ute(n,o){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Last Name",t.message.required," ")}}function jte(n,o){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Last Name ",t.message.specialCharacter," ")}}function Yte(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Email address",t.message.required," ")}}function qte(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Email address",t.message.validEmail," ")}}function Jte(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Email address",t.message.inUse," ")}}function Hte(n,o){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,Yte,2,1,"div",32),e.YNc(2,qte,2,1,"div",32),e.YNc(3,Jte,2,1,"div",32),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.email.errors?null:t.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.email.errors?null:t.f.email.errors.email),e.xp6(1),e.Q6J("ngIf",null==t.f.email.errors?null:t.f.email.errors.invalidEmail)}}function Bte(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Telephone Number",t.message.telephoneConsists," ")}}function Vte(n,o){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,Bte,2,1,"div",32),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.telephoneNumber.errors?null:t.f.telephoneNumber.errors.pattern)}}function Gte(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Mobile Number",t.message.telephoneConsists," ")}}function Wte(n,o){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,Gte,2,1,"div",32),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.mobileNumber.errors?null:t.f.mobileNumber.errors.pattern)}}function Qte(n,o){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Notification method",t.message.required," ")}}function zte(n,o){1&n&&e._UZ(0,"img",99)}function Kte(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",83),e.NdJ("click",function(){e.CHM(t),e.oxw();const r=e.MAs(46);return e.KtG(r.open())}),e.qZA()}}function $te(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," Leave date must be after start date. "),e.qZA())}function Xte(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function ene(n,o){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,$te,2,0,"div",32),e.YNc(2,Xte,2,1,"div",32),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.leaveDate.errors?null:t.f.leaveDate.errors.invalidDate),e.xp6(1),e.Q6J("ngIf",(null==t.f.leaveDate.errors?null:t.f.leaveDate.errors.matDatepickerParse)||(null==t.f.leaveDate.errors?null:t.f.leaveDate.errors.minlength))}}function tne(n,o){if(1&n&&(e.TgZ(0,"ng-option",100),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name,"")}}function nne(n,o){1&n&&e.GkF(0)}const ine=function(n){return{error:n}},sk=function(n){return{"color-grey":n}};function rne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tab"),e.YNc(1,Ete,3,1,"ng-template",56),e.TgZ(2,"div",57)(3,"div",58)(4,"div",59)(5,"label",60),e._uU(6," Username*: "),e.qZA(),e.TgZ(7,"input",61),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.checkInput(r.target.value,"username"))})("keyup",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.checkInput(r.target.value,"username"))}),e.qZA(),e.YNc(8,Rte,3,2,"div",62),e.YNc(9,Fte,2,1,"div",62),e.TgZ(10,"label",63),e._uU(11,"First Name*:"),e.qZA(),e.TgZ(12,"input",64),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.checkInput(r.target.value,"firstname"))})("keyup",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.checkInput(r.target.value,"firstname"))}),e.qZA(),e.YNc(13,Zte,2,1,"div",62),e.YNc(14,Lte,2,1,"div",62),e.TgZ(15,"label",65),e._uU(16," Last Name*: "),e.qZA(),e.TgZ(17,"input",66),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.checkInput(r.target.value,"surname"))})("keyup",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.checkInput(r.target.value,"surname"))}),e.qZA(),e.YNc(18,Ute,2,1,"div",62),e.YNc(19,jte,2,1,"div",62),e.qZA(),e.TgZ(20,"div",59)(21,"label",67),e._uU(22," Email*: "),e.qZA(),e.TgZ(23,"input",68),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.checkInput(r.target.value,"email"))})("keyup",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.checkInput(r.target.value,"email"))}),e.qZA(),e.YNc(24,Hte,4,3,"div",62),e.TgZ(25,"label",69),e._uU(26," Telephone Number: "),e.qZA(),e._UZ(27,"input",70),e.YNc(28,Vte,2,1,"div",62),e.TgZ(29,"label",71),e._uU(30," Mobile Number: "),e.qZA(),e._UZ(31,"input",72),e.YNc(32,Wte,2,1,"div",62),e.qZA(),e.TgZ(33,"div",59)(34,"label",73),e._uU(35," Notification*: "),e.qZA(),e.TgZ(36,"ng-select",74),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.checkNotifications())})("blur",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.checkNotifications())}),e.qZA(),e.YNc(37,Qte,2,1,"div",62),e.TgZ(38,"div",11)(39,"div",75)(40,"label",76),e._uU(41," Start Date*: "),e.qZA(),e._UZ(42,"input",77),e.YNc(43,zte,1,0,"img",78),e.YNc(44,Kte,1,0,"img",79),e._UZ(45,"mat-datepicker",null,80),e.qZA()(),e.TgZ(47,"div",11)(48,"div",75)(49,"label",81),e._uU(50," Leave Date: "),e.qZA(),e._UZ(51,"input",82),e.TgZ(52,"img",83),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(54);return e.KtG(r.open())}),e.qZA(),e._UZ(53,"mat-datepicker",null,84),e.YNc(55,ene,3,2,"div",62),e._uU(56,"` "),e.qZA()()(),e.TgZ(57,"div",59)(58,"label",85),e._uU(59," User Profile: "),e.qZA(),e.TgZ(60,"ng-select",86),e.YNc(61,tne,2,2,"ng-option",87),e.qZA(),e.TgZ(62,"label",88),e._uU(63," Switch Accounts "),e.qZA(),e.TgZ(64,"div",11)(65,"div",89)(66,"mat-slide-toggle",90,91),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.setLinkedEmployee(r))}),e.qZA()(),e.TgZ(68,"div",92)(69,"label",93),e._uU(70),e.qZA()()()()()(),e.YNc(71,nne,1,0,"ng-container",94),e.qZA()}if(2&n){const t=e.MAs(46),i=e.MAs(54);e.oxw();const r=e.MAs(11),a=e.oxw(2);e.xp6(7),e.Q6J("readonly",a.isSsoUserField),e.xp6(1),e.Q6J("ngIf",a.f.username.touched&&a.f.username.errors),e.xp6(1),e.Q6J("ngIf",null==a.f.username.errors?null:a.f.username.errors.invalidUsername),e.xp6(3),e.Q6J("readonly",a.isSsoUserField),e.xp6(1),e.Q6J("ngIf",(null==a.f.firstname?null:a.f.firstname.touched)&&(null==a.f.firstname.errors?null:a.f.firstname.errors.required)),e.xp6(1),e.Q6J("ngIf",null==a.f.firstname.errors?null:a.f.firstname.errors.allSpecialCharacters),e.xp6(3),e.Q6J("readonly",a.isSsoUserField),e.xp6(1),e.Q6J("ngIf",(null==a.f.surname?null:a.f.surname.touched)&&(null==a.f.surname.errors?null:a.f.surname.errors.required)),e.xp6(1),e.Q6J("ngIf",null==a.f.surname.errors?null:a.f.surname.errors.allSpecialCharacters),e.xp6(4),e.Q6J("readonly",a.isSsoUserField),e.xp6(1),e.Q6J("ngIf",(null==a.f.email?null:a.f.email.touched)&&a.f.email.errors),e.xp6(3),e.Q6J("readonly","Read-only"==a.canModifyPersonalPanel),e.xp6(1),e.Q6J("ngIf",(null==a.f.telephoneNumber?null:a.f.telephoneNumber.touched)&&a.f.telephoneNumber.errors),e.xp6(3),e.Q6J("readonly","Read-only"==a.canModifyPersonalPanel),e.xp6(1),e.Q6J("ngIf",(null==a.f.mobileNumber?null:a.f.mobileNumber.touched)&&a.f.mobileNumber.errors),e.xp6(4),e.Q6J("items",a.comboValues.notificationTypes)("readonly","Read-only"==a.canModifyPersonalPanel)("ngClass",e.VKq(39,ine,0==a.notificationsSelected)),e.xp6(1),e.Q6J("ngIf",0==a.notificationsSelected),e.xp6(5),e.s9C("placeholder",a.message.datePickerPlaceholder),e.Q6J("dateLengthTracker",a.dateLength)("matDatepicker",t)("readonly",a.isSsoUserField),e.xp6(1),e.Q6J("ngIf",a.isSsoUserField),e.xp6(1),e.Q6J("ngIf",!a.isSsoUserField),e.xp6(7),e.s9C("placeholder",a.message.datePickerPlaceholder),e.Q6J("dateLengthTracker",a.dateLength)("matDatepicker",i),e.xp6(4),e.Q6J("ngIf",a.f.leaveDate.touched&&a.f.leaveDate.errors),e.xp6(5),e.Q6J("virtualScroll",!0)("readonly","Read-only"==a.canModifyPersonalPanel),e.xp6(1),e.Q6J("ngForOf",a.comboValues.profiles)("ngForTrackBy",a.trackByFn),e.xp6(1),e.Q6J("ngClass",e.VKq(41,sk,null==a.linkedEmployee)),e.xp6(4),e.Q6J("checked",a.isEmployeeLinked)("disabled",a.isSwitchAccountDisabled),e.xp6(2),e.Q6J("ngClass",e.VKq(43,sk,null==a.linkedEmployee)),e.xp6(2),e.Oqu(a.linkedEmployeeText),e.xp6(1),e.Q6J("ngTemplateOutlet",r)}}function one(n,o){1&n&&(e.TgZ(0,"i",97),e._uU(1," ! "),e.qZA())}function ane(n,o){if(1&n&&(e.TgZ(0,"i",95),e._uU(1," Schedules\xa0\xa0 "),e.qZA(),e.YNc(2,one,2,0,"i",96)),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",t.showScheduleAccessSelectionsWarning&&!t.newUserSaving)}}function sne(n,o){if(1&n&&(e.TgZ(0,"ng-option",100),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function lne(n,o){if(1&n&&(e.TgZ(0,"ng-option",100),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function cne(n,o){if(1&n&&(e.TgZ(0,"ng-select",121),e.YNc(1,lne,2,2,"ng-option",87),e.qZA()),2&n){const t=e.oxw(),i=t.index,r=t.$implicit,a=e.oxw(4);e.MGl("id","subGroupID",i,""),e.Q6J("virtualScroll",!0)("readonly","Read-only"==a.canModifySchedulesPanel),e.xp6(1),e.Q6J("ngForOf",a.comboValues.schedules[a.returnScheduleIndex(r.controls.scheduleID.value)].values)("ngForTrackBy",a.trackByFn)}}function dne(n,o){if(1&n&&(e.TgZ(0,"ng-option",100),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function une(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(7);e.xp6(1),e.hij(" Permission",t.message.required," ")}}function pne(n,o){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,une,2,1,"div",32),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",null==t.controls.scheduleRightID.errors?null:t.controls.scheduleRightID.errors.required)}}function fne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",116)(1,"ng-select",122),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.checkScheduleAccArrayStatus())}),e.YNc(2,dne,2,2,"ng-option",87),e.qZA(),e.YNc(3,pne,2,1,"div",62),e.qZA()}if(2&n){const t=e.oxw(),i=t.index,r=t.$implicit,a=e.oxw(4);e.xp6(1),e.MGl("id","scheduleRightID",i,""),e.Q6J("virtualScroll",!0)("readonly","Read-only"==a.canModifySchedulesPanel)("required",r.controls.scheduleID.value),e.xp6(1),e.Q6J("ngForOf",a.comboValues.scheduleRights)("ngForTrackBy",a.trackByFn),e.xp6(1),e.Q6J("ngIf",(null==r.controls.scheduleRightID?null:r.controls.scheduleRightID.touched)&&r.controls.scheduleRightID.errors)}}function hne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",113)(2,"div",11)(3,"div",101)(4,"div",11)(5,"div",114)(6,"ng-select",115),e.NdJ("change",function(r){const s=e.CHM(t).index,l=e.oxw(4);return l.checkSchedulePermission(r,s),e.KtG(l.checkScheduleAccArrayStatus())}),e.YNc(7,sne,2,2,"ng-option",87),e.qZA()(),e.TgZ(8,"div",116),e.YNc(9,cne,2,5,"ng-select",117),e.qZA(),e.YNc(10,fne,4,7,"div",118),e.qZA()(),e.TgZ(11,"div",103)(12,"div",119)(13,"i",120),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.removeSchedulePermission(a))}),e.qZA()()(),e._UZ(14,"hr",104),e.qZA()()()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(4);e.xp6(1),e.Q6J("formGroupName",i),e.xp6(5),e.MGl("id","scheduleID",i,""),e.Q6J("virtualScroll",!0)("readonly","Read-only"==r.canModifySchedulesPanel),e.xp6(1),e.Q6J("ngForOf",r.comboValues.schedules)("ngForTrackBy",r.trackByFn),e.xp6(2),e.Q6J("ngIf",t.controls.scheduleID.value),e.xp6(1),e.Q6J("ngIf",t.controls.scheduleID.value),e.xp6(3),e.Q6J("hidden","Read-only"==r.canModifySchedulesPanel)}}function mne(n,o){1&n&&e.GkF(0)}function gne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tab"),e.YNc(1,ane,3,1,"ng-template",56),e.TgZ(2,"div",58)(3,"div",4)(4,"div",11)(5,"div",4)(6,"div",11)(7,"div",101)(8,"div",11)(9,"div",102),e._uU(10," Schedule: "),e.qZA(),e.TgZ(11,"div",102),e._uU(12," Sub-Group: "),e.qZA(),e.TgZ(13,"div",102),e._uU(14," Permission: "),e.qZA()()(),e._UZ(15,"div",103),e.qZA()(),e._UZ(16,"hr",104),e.qZA(),e.TgZ(17,"div",105)(18,"div",106)(19,"div",4)(20,"div",107),e.YNc(21,hne,15,9,"div",108),e.qZA()()()()()(),e.TgZ(22,"div",4)(23,"div",109)(24,"div",11)(25,"div",4)(26,"button",110),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.addSchedulePermission())}),e._uU(27," Add New Value "),e.qZA()()()(),e._UZ(28,"hr",111),e.qZA(),e.TgZ(29,"div",112),e.YNc(30,mne,1,0,"ng-container",94),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(11),i=e.oxw(2);e.xp6(21),e.Q6J("ngForOf",i.schedulePermissionsArray.controls),e.xp6(5),e.Q6J("disabled",!i.validScheduleAccessSelections||"Read-only"==i.canModifySchedulesPanel),e.xp6(4),e.Q6J("ngTemplateOutlet",t)}}function _ne(n,o){1&n&&(e.TgZ(0,"i",97),e._uU(1," ! "),e.qZA())}function vne(n,o){if(1&n&&(e.TgZ(0,"i",95),e._uU(1," Templates\xa0\xa0 "),e.qZA(),e.YNc(2,_ne,2,0,"i",96)),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",t.showTemplateAccessSelectionsWarning&&!t.newUserSaving)}}function bne(n,o){if(1&n&&(e.TgZ(0,"ng-option",100),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function yne(n,o){if(1&n&&(e.TgZ(0,"ng-option",100),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function xne(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(7);e.xp6(1),e.hij(" Permission",t.message.required," ")}}function Cne(n,o){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,xne,2,1,"div",32),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",null==t.controls.scheduleRightID.errors?null:t.controls.scheduleRightID.errors.required)}}function Tne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",116)(1,"ng-select",127),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(5);return r.checkTemplateAccArrayStatus(),e.KtG(r.updateselectedTemplateFields())}),e.YNc(2,yne,2,2,"ng-option",87),e.qZA(),e.YNc(3,Cne,2,1,"div",62),e.qZA()}if(2&n){const t=e.oxw(),i=t.index,r=t.$implicit,a=e.oxw(4);e.xp6(1),e.MGl("id","scheduleRightID",i,""),e.Q6J("virtualScroll",!0)("readonly","Read-only"==a.canModifyTemplatesPanel)("required",r.controls.templateID.value),e.xp6(1),e.Q6J("ngForOf",a.comboValues.scheduleRights)("ngForTrackBy",a.trackByFn),e.xp6(1),e.Q6J("ngIf",(null==r.controls.scheduleRightID?null:r.controls.scheduleRightID.touched)&&r.controls.scheduleRightID.errors)}}function wne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",113)(2,"div",11)(3,"div",101)(4,"div",11)(5,"div",114)(6,"ng-select",126),e.NdJ("focus",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.updateselectedTemplateFields())})("change",function(r){const s=e.CHM(t).index,l=e.oxw(4);return l.checkTemplatePermission(r,s),l.checkTemplateAccArrayStatus(),e.KtG(l.updateselectedTemplateFields())}),e.YNc(7,bne,2,2,"ng-option",87),e.ALo(8,"panelPermissionsPipe"),e.qZA()(),e.YNc(9,Tne,4,7,"div",118),e._UZ(10,"div",114),e.qZA()(),e.TgZ(11,"div",103)(12,"div",119)(13,"i",120),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw(4);return s.removeTemplatePermission(a),e.KtG(s.updateselectedTemplateFields())}),e.qZA()()(),e._UZ(14,"hr",104),e.qZA()()()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(4);e.xp6(1),e.Q6J("formGroupName",i),e.xp6(5),e.MGl("id","templateID",i,""),e.Q6J("virtualScroll",!0)("readonly","Read-only"==r.canModifyTemplatesPanel),e.xp6(1),e.Q6J("ngForOf",e.xi3(8,8,r.comboValues.templates,r.selectedTemplateFields))("ngForTrackBy",r.trackByFn),e.xp6(2),e.Q6J("ngIf",t.controls.templateID.value),e.xp6(4),e.Q6J("hidden","Read-only"==r.canModifyTemplatesPanel)}}function Dne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"button",110),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.addTemplatePermission())}),e._uU(2," Add New Value "),e.qZA()()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("disabled",!t.validTemplateAccessSelections||"Read-only"==t.canModifyTemplatesPanel)}}function Sne(n,o){1&n&&e.GkF(0)}function kne(n,o){if(1&n&&(e.TgZ(0,"mat-tab"),e.YNc(1,vne,3,1,"ng-template",56),e.TgZ(2,"div",58)(3,"div",4)(4,"div",11)(5,"div",4)(6,"div",11)(7,"div",101)(8,"div",11)(9,"div",102),e._uU(10," Template: "),e.qZA(),e.TgZ(11,"div",102),e._uU(12," Permission: "),e.qZA(),e._UZ(13,"div",102),e.qZA()(),e._UZ(14,"div",103),e.qZA()(),e._UZ(15,"hr",104),e.qZA(),e.TgZ(16,"div",123)(17,"div",106)(18,"div",4)(19,"div",124),e.YNc(20,wne,15,11,"div",108),e.qZA()()()()()(),e.TgZ(21,"div",4)(22,"div",109)(23,"div",11),e.YNc(24,Dne,3,1,"div",125),e.qZA()(),e._UZ(25,"hr",111),e.qZA(),e.TgZ(26,"div",112),e.YNc(27,Sne,1,0,"ng-container",94),e.qZA()()),2&n){e.oxw();const t=e.MAs(11),i=e.oxw(2);e.xp6(20),e.Q6J("ngForOf",i.templatePermissionsArray.controls),e.xp6(4),e.Q6J("ngIf",!i.allTemplatePermsSelected),e.xp6(3),e.Q6J("ngTemplateOutlet",t)}}function Ane(n,o){1&n&&(e.TgZ(0,"i",97),e._uU(1," ! "),e.qZA())}function Mne(n,o){if(1&n&&(e.TgZ(0,"i",95),e._uU(1," Employee Access\xa0\xa0 "),e.qZA(),e.YNc(2,Ane,2,0,"i",96)),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",t.showEmplAccessSelectionsWarning&&!t.newUserSaving)}}function One(n,o){if(1&n&&(e.TgZ(0,"ng-option",100),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Pne(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(7);e.xp6(1),e.hij(" Selection",t.message.required," ")}}function Ene(n,o){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,Pne,2,1,"div",32),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",null==t.controls.fieldValues.errors?null:t.controls.fieldValues.errors.required)}}function Ine(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",138)(1,"ng-select",139),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(5);return r.updateselectedOrganisationalFields(),e.KtG(r.checkEmplAccArrayStatus())}),e.qZA(),e.YNc(2,Ene,2,1,"div",62),e.qZA()}if(2&n){const t=e.oxw(),i=t.index,r=t.$implicit,a=e.oxw(4);e.xp6(1),e.MGl("id","fieldValues",i,""),e.Q6J("virtualScroll",!0)("clearable",!1)("clearSearchOnAdd",!0)("hideSelected",!0)("readonly","Read-only"==a.canModifyEmployeeAccessPanel)("items",a.comboValues.organisationFields[a.returnEmplPermIndex(r.controls.fieldID.value)].values)("required",r.controls.fieldID.value)("multiple",!0),e.xp6(1),e.Q6J("ngIf",(null==r.controls.fieldValues?null:r.controls.fieldValues.touched)&&r.controls.fieldValues.errors)}}function Nne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",113)(2,"div",11)(3,"div",101)(4,"div",11)(5,"div",59)(6,"ng-select",136),e.NdJ("change",function(r){const s=e.CHM(t).index,l=e.oxw(4);return l.checkEmployeeAccessPermission(r,s),l.updateselectedOrganisationalFields(),e.KtG(l.checkEmplAccArrayStatus())})("focus",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.updateselectedOrganisationalFields())}),e.YNc(7,One,2,2,"ng-option",87),e.ALo(8,"panelPermissionsPipe"),e.qZA()(),e.YNc(9,Ine,3,10,"div",137),e.qZA()(),e.TgZ(10,"div",103)(11,"div",119)(12,"i",120),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.removeEmployeeAccessPermission(a))}),e.qZA()()(),e._UZ(13,"hr",104),e.qZA()()()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(4);e.xp6(1),e.Q6J("formGroupName",i),e.xp6(5),e.MGl("id","fieldID",i,""),e.Q6J("virtualScroll",!0)("readonly","Read-only"==r.canModifyEmployeeAccessPanel),e.xp6(1),e.Q6J("ngForOf",e.xi3(8,8,r.comboValues.organisationFields,r.selectedOrganisationalFields))("ngForTrackBy",r.trackByFn),e.xp6(2),e.Q6J("ngIf",t.controls.fieldID.value),e.xp6(3),e.Q6J("hidden","Read-only"==r.canModifyEmployeeAccessPanel||r.shouldDisableEmployeeAccessFields)}}function Rne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"button",110),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.addEmployeeAccessPermission())}),e._uU(2," Add New Value "),e.qZA()()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("disabled",!t.validEmplAccessSelections||t.shouldDisableEmployeeAccessFields||"Read-only"==t.canModifyEmployeeAccessPanel)}}function Fne(n,o){1&n&&e.GkF(0)}function Zne(n,o){if(1&n&&(e.TgZ(0,"mat-tab"),e.YNc(1,Mne,3,1,"ng-template",56),e.TgZ(2,"div",58)(3,"div",4)(4,"div",11)(5,"div",4)(6,"div",11)(7,"div",128)(8,"div",11)(9,"div",129),e._uU(10," Organisational Field: "),e.qZA(),e.TgZ(11,"div",130),e._uU(12," Selections Within Group: "),e.qZA(),e.TgZ(13,"div",131)(14,"mat-checkbox",132),e._uU(15," Access all employees: "),e.qZA()()()()()(),e._UZ(16,"hr",133),e.qZA(),e.TgZ(17,"div",134)(18,"div",106)(19,"div",4)(20,"div",135),e.YNc(21,Nne,14,11,"div",108),e.qZA()()()()()(),e.TgZ(22,"div",4)(23,"div",109)(24,"div",11),e.YNc(25,Rne,3,1,"div",125),e.qZA()(),e._UZ(26,"hr",111),e.qZA(),e.TgZ(27,"div",112),e.YNc(28,Fne,1,0,"ng-container",94),e.qZA()()),2&n){e.oxw();const t=e.MAs(11),i=e.oxw(2);e.xp6(14),e.Q6J("disabled","Read-only"==i.canModifyEmployeeAccessPanel),e.xp6(7),e.Q6J("ngForOf",i.employeeAccessPermissionsArray.controls),e.xp6(4),e.Q6J("ngIf",!i.allEmplPermsSelected),e.xp6(3),e.Q6J("ngTemplateOutlet",t)}}function Lne(n,o){1&n&&(e.TgZ(0,"i",95),e._uU(1," Shifts\xa0\xa0 "),e.qZA())}function Une(n,o){1&n&&e.GkF(0)}function jne(n,o){if(1&n&&(e.TgZ(0,"mat-tab"),e.YNc(1,Lne,2,0,"ng-template",56),e.TgZ(2,"div",58)(3,"div",4)(4,"div",140)(5,"div",106)(6,"div",4)(7,"div",141)(8,"div",11)(9,"div",128)(10,"div",11)(11,"div",142),e._UZ(12,"ng-select",143),e.qZA(),e.TgZ(13,"div",142)(14,"mat-checkbox",144),e._uU(15," Access all shifts: "),e.qZA()()()(),e._UZ(16,"hr",104),e.qZA()()()()()()(),e.TgZ(17,"div",112),e.YNc(18,Une,1,0,"ng-container",94),e.qZA()()),2&n){e.oxw();const t=e.MAs(11),i=e.oxw(2);e.xp6(12),e.MGl("id","fieldValues",i.i,""),e.Q6J("virtualScroll",!0)("clearable",!1)("clearSearchOnAdd",!0)("hideSelected",!0)("readonly","Read-only"==i.canModifyShiftsPanel)("items",i.comboValues.shifts)("multiple",!0),e.xp6(2),e.Q6J("disabled","Read-only"==i.canModifyShiftsPanel),e.xp6(4),e.Q6J("ngTemplateOutlet",t)}}function Yne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",159),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.copyToClipboard(r.f.apiKey1.value))}),e._uU(1," Copy to Clipboard "),e.qZA()}}function qne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",160),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.copyToClipboard(r.f.apiKey2.value))}),e._uU(1," Copy to Clipboard "),e.qZA()}}function Jne(n,o){1&n&&e.GkF(0)}function Hne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tab",145)(1,"div",146)(2,"div",142)(3,"div",147)(4,"label",148),e._uU(5," API key 1 "),e.qZA(),e._UZ(6,"input",149),e.TgZ(7,"div",150)(8,"div",151)(9,"button",152),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.regenerateKey("apiKey1",r.selectedUserId))}),e._uU(10," Re-generate key "),e.qZA(),e.YNc(11,Yne,2,0,"button",153),e.qZA()()(),e.TgZ(12,"div",147)(13,"label",154),e._uU(14," API key 2 "),e.qZA(),e._UZ(15,"input",155),e.TgZ(16,"div",156)(17,"div",151)(18,"button",157),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.regenerateKey("apiKey2",r.selectedUserId))}),e._uU(19," Re-generate key "),e.qZA(),e.YNc(20,qne,2,0,"button",158),e.qZA()()()()(),e.TgZ(21,"div",112),e.YNc(22,Jne,1,0,"ng-container",94),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(11),i=e.oxw(2);e.xp6(6),e.Q6J("readonly",!0),e.xp6(3),e.Q6J("disabled",i.apiKeyRegenerating||"Read-only"==i.canModifyAPIPanel),e.xp6(2),e.Q6J("ngIf",i.apiKeyClipboardIndicator.apiKey1),e.xp6(4),e.Q6J("readonly",!0),e.xp6(3),e.Q6J("disabled",i.apiKeyRegenerating||"Read-only"==i.canModifyAPIPanel),e.xp6(2),e.Q6J("ngIf",i.apiKeyClipboardIndicator.apiKey2),e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function Bne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",163)(1,"div",164)(2,"div",165)(3,"button",166),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.resetUserForm())}),e._uU(4," Cancel "),e.qZA()(),e.TgZ(5,"div",167)(6,"button",168),e._uU(7," Save Changes "),e.qZA()()()()}if(2&n){const t=e.oxw(4);e.xp6(3),e.Q6J("disabled",t.newUserSaving),e.xp6(3),e.Q6J("disabled",t.newUserSaving)}}function Vne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",169)(1,"div",170)(2,"div",171)(3,"button",172),e._uU(4," Save Changes "),e.qZA()(),e.TgZ(5,"div",173)(6,"button",174),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.resetUserForm())}),e._uU(7," Cancel "),e.qZA()()()()}if(2&n){const t=e.oxw(4);e.xp6(3),e.Q6J("disabled",t.newUserSaving),e.xp6(3),e.Q6J("disabled",t.newUserSaving)}}function Gne(n,o){if(1&n&&(e.YNc(0,Bne,8,2,"div",161),e.YNc(1,Vne,8,2,"div",162)),2&n){const t=e.oxw(3);e.Q6J("ngIf",!t.isXs),e.xp6(1),e.Q6J("ngIf",t.isXs)}}function Wne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",50,51),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.saveChanges())}),e.TgZ(2,"mat-tab-group",52,53),e.YNc(4,rne,72,45,"mat-tab",32),e.YNc(5,gne,31,3,"mat-tab",32),e.YNc(6,kne,28,3,"mat-tab",32),e.YNc(7,Zne,29,4,"mat-tab",32),e.YNc(8,jne,19,10,"mat-tab",32),e.YNc(9,Hne,23,7,"mat-tab",54),e.qZA(),e.YNc(10,Gne,2,2,"ng-template",null,55,e.W1O),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("formGroup",t.userForm),e.xp6(4),e.Q6J("ngIf",t.canAccessPersonalPanel&&"User"==t.role),e.xp6(1),e.Q6J("ngIf",t.canAccessSchedulesPanel&&"User"==t.role),e.xp6(1),e.Q6J("ngIf",t.canAccessTemplatesPanel&&"User"==t.role),e.xp6(1),e.Q6J("ngIf",t.canAccessEmployeeAccessPanel&&"User"==t.role),e.xp6(1),e.Q6J("ngIf",t.canAccessShiftsPanel&&"User"==t.role),e.xp6(1),e.Q6J("ngIf",t.selectedUserId>0&&t.canAccessAPIPanel&&"User"==t.role)}}function Qne(n,o){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Wne,12,7,"form",49),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.userForm)}}let lk=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O,U,re,de,ve,Ne){this._fb=t,this._userService=i,this._employeeService=r,this.sanitizer=a,this.dialogService=s,this.dialog=l,this._messageService=c,this.router=u,this._imageCompress=h,this.rd=x,this.detailsMediaObserver=T,this._userRoleService=O,this._profileService=U,this._notificationsService=re,this._authService=de,this._sessionTimerService=ve,this._titleServices=Ne,this.comboValues=new bte,this.currentUserObject=new Ca,this.originalUserObject=new Ca,this.userSaved=!0,this.savingInProgress=!1,this.passwordEntered=!1,this.schedulesDropDownPosition="bottom",this.templatesDropDownPosition="bottom",this.emplPermsDropDownPosition="bottom",this.loaded=!1,this.newUserSaving=!1,this.pauseForm=!0,this.selectedOrganisationalFields=new Array,this.selectedTemplateFields=new Array,this.validScheduleAccessSelections=!0,this.validTemplateAccessSelections=!0,this.validEmplAccessSelections=!0,this.showScheduleAccessSelectionsWarning=!1,this.showTemplateAccessSelectionsWarning=!1,this.showEmplAccessSelectionsWarning=!1,this.allEmplPermsSelected=!1,this.allTemplatePermsSelected=!1,this.canAccessPersonalPanel=!1,this.canAccessSchedulesPanel=!1,this.canAccessTemplatesPanel=!1,this.canAccessEmployeeAccessPanel=!1,this.canAccessShiftsPanel=!1,this.canAccessAPIPanel=!1,this.canUserAccessUserManagement=!1,this.dateLength=ai.YG.length,this.minUpperChars=0,this.minSpecialChars=0,this.minNumericChars=0,this.isEmployeeLinked=!1,this.isXs=!1,this.shouldDisableEmployeeAccessFields=!1,this.showAlertforSwitchAccount=!1,this.isSwitchAccountDisabled=!0,this.ngUnsubscribe=new b.x,this.apiKeyRegenerating=!1,this.apiKeyClipboardIndicator={apiKey1:!1,apiKey2:!1},this.isSsoUserField=!0,this.specials=/[^A-Za-z 0-9]/g;const De=this.router.getCurrentNavigation();window.history.state.passMin&&(this.passMinLength=window.history.state.passMin),window.history.state.minUpperChars&&(this.minUpperChars=window.history.state.minUpperChars),window.history.state.minSpecialChars&&(this.minSpecialChars=window.history.state.minSpecialChars),window.history.state.minNumericChars&&(this.minNumericChars=window.history.state.minNumericChars),window.history.state.passwordValidationMessage&&(this.passPatternValidationMessage=window.history.state.passwordValidationMessage),this.selectedUserId=De.extras.state?De.extras.state.id:0,0==this.selectedUserId&&(this.isSsoUserField=!1)}_initDetails(){this.loadComboValues(),this.userForm||this.buildUserForm(),this._userService.isOnDetails.next(!0)}ngOnInit(){this.isSuperAdmin=localStorage.getItem("isSuperAdmin"),this.currentUserObject.user=new Ua,this.originalUserObject.user=new Ua,this._initDetails(),this._isEditMode()?(this.showAccessEmailBtn=!0,this.selectUser(this.selectedUserId),this.userSaved=!0):(this.showAccessEmailBtn=!1,this.userSaved=!1,this.loaded=!0),null==window.history.state.id?this.router.navigateByUrl("/manage-users/table"):(this.message=St.yw,this.userForm.controls.firstname.valueChanges.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.currentUserObject.user.firstname=t}),this.userForm.controls.surname.valueChanges.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.currentUserObject.user.surname=t}),this.userForm.controls.username.valueChanges.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.currentUserObject.user.username=t}),this.userForm.controls.email.valueChanges.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.currentUserObject.user.email=t}),this.userForm.controls.telephoneNumber.valueChanges.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.currentUserObject.user.telephoneNumber=t}),this.userForm.valueChanges.pipe((0,le.h)(t=>!this.pauseForm),(0,H.R)(this.ngUnsubscribe)).subscribe(t=>{const i=new Ua;i.firstname=t.firstname,i.surname=t.surname,i.username=t.username,i.password=t.password,i.email=t.email,i.telephoneNumber=t.telephoneNumber,i.mobileNumber=t.mobileNumber,i.notificationTypeID=t.notificationTypeID,i.profileID=t.profileID,i.linkedEmployeeID=t.linkedEmployeeID,i.image=t.image,this.userSaved=!1,this.currentUserObject.user=i,this.currentUserObject.userEmployeePermissions=t.userEmployeePermissions,this.currentUserObject.userSchedulePermissions=t.userSchedulePermissions,this.currentUserObject.userTemplatePermissions=t.userTemplatePermissions,this.currentUserObject.userShiftPermissions=t.userShiftPermissions}),this.setLoggedUserIDandRole(),this.fetchProfilePanelPermissions())}setLoggedUserIDandRole(){this._userRoleService.loggedUserId.subscribe(t=>{this.loggedUserID=t}),this._userRoleService.loggedUserRole.subscribe(t=>{this.role=t})}ngAfterViewInit(){this.detailsMediaObserver.asObservable().subscribe(t=>{this.isXs="xs"===t[0].mqAlias}),this.userForm.controls.accessAllEmployees.valueChanges.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{if(this.shouldDisableEmployeeAccessFields=t,this.shouldDisableEmployeeAccessFields){const i=this.userForm.get("userEmployeePermissions");if(i.controls.length)for(let r=0;r<i.controls.length;r++)i.controls[r].value&&(!i.controls[r].value.fieldValues||i.controls[r].value.fieldValues&&i.controls[r].value.fieldValues.length<1||null==i.controls[r].value.fieldID)&&i.removeAt(r);this.userForm.get("userEmployeePermissions").disable()}else this.employeeAccessPermissionsArray.length||this.addEmployeeAccessPermission(),this.userForm.get("userEmployeePermissions").enable();this.checkEmplAccArrayStatus()}),this.userForm.controls.accessAllShifts.valueChanges.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{t?this.userForm.get("userShiftPermissions").disable():this.userForm.get("userShiftPermissions").enable()})}sendAccessEmail(){if(this.showAccessEmailBtn){var t=localStorage.getItem("id");this._employeeService.sendSystemAccessEmail(this.currentUserObject.user.username,!1,!0,!1,!1,t,!1).subscribe(i=>{this._userService.getUser(this.currentUserObject.user.id,"L").subscribe(r=>{this.isAccessEmailSent=r.user.isAccessEmailSent,this.setAccessEmailButton(),this._messageService.open("System Access Email successfully sent.")})},i=>{this._messageService.open(i)})}}setAccessEmailButton(){const t=document.getElementById("send_user_email_button");this.isAccessEmailSent?this.isAccessEmailSent&&(this.rd.removeClass(t,"access-email-btn-send"),this.rd.addClass(t,"access-email-btn-resend"),this.accessEmailBtnText="Resend advanced people access email"):(this.rd.addClass(t,"access-email-btn-send"),this.accessEmailBtnText="Send advanced people access email")}loadComboValues(){this._userService.getComboValues().pipe((0,H.R)(this.ngUnsubscribe)).subscribe(t=>{this.comboValues.notificationTypes=t.notificationTypes,this.comboValues.profiles=t.profiles,this.comboValues.linkedEmployees=t.linkedEmployees,this.comboValues.linkedEmployeeRights=t.linkedEmployeeRights,this.comboValues.organisationFields=t.organisationFields,this.comboValues.scheduleRights=t.scheduleRights,this.comboValues.schedules=t.schedules,this.comboValues.templates=t.templates,this.comboValues.shifts=t.shiftGroups})}buildUserForm(){this.userForm=this._fb.group({id:[this.selectedUserId],firstname:[null,{validators:[_.kI.required,_.kI.maxLength(50)],updateOn:"change"}],surname:[null,{validators:[_.kI.required,_.kI.maxLength(50)],updateOn:"change"}],username:[null,{validators:[_.kI.required,_.kI.maxLength(50)],updateOn:"change"}],password:[null,{validators:[_.kI.minLength(this.passMinLength)],updateOn:"change"}],confirmPassword:[null,{validators:[],updateOn:"change"}],email:[null,{validators:[_.kI.required,_.kI.email],updateOn:"change"}],telephoneNumber:[null,{validators:[_.kI.pattern("^[0-9 ()+-/]+$")],updateOn:"change"}],mobileNumber:[null,{validators:[_.kI.pattern("^[0-9 ()+-/]+$")],updateOn:"blur"}],startDate:[null,{validators:[_.kI.required],updateOn:"change"}],leaveDate:[null,{validators:[],updateOn:"change"}],apiKey1:null,apiKey2:null,notificationTypeID:[null,_.kI.required],profileID:[null,{validators:[],updateOn:"change"}],linkedEmployeeID:[null,{validators:[],updateOn:"change"}],image:[null,{validators:[],updateOn:"change"}],userSchedulePermissions:this._fb.array([]),userEmployeePermissions:this._fb.array([]),userTemplatePermissions:this._fb.array([]),userShiftPermissions:["",{validators:[],updateOn:"change"}],accessAllEmployees:[!1,{validators:[],updateOn:"change"}],accessAllShifts:[!1,{validators:[],updateOn:"change"}]},{validators:[(0,hr.HV)("password","confirmPassword"),(0,hr.Ge)("notificationTypeID")]}),0===this.selectedUserId&&(this.addSchedulePermission(),this.addTemplatePermission(),this.addEmployeeAccessPermission())}get f(){if(this.userForm)return this.userForm.controls}sanitizeExisting(t){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+t)}sanitizeExistingDetails(){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+this.userForm.controls.image.value)}checkNotifications(){this.notificationsSelected=!!this.userForm.controls.notificationTypeID.value}resetUserForm(){this.userForm.reset(),this.userForm.markAsPristine(),this.router.navigateByUrl(null==this.canUserAccessUserManagement||0==this.canUserAccessUserManagement?"/dashboard":"/manage-users/table")}_isEditMode(){return this.selectedUserId>0}selectUser(t){const i={emitEvent:!1};null!=this.comboValues?(this.selectedUserId=t,this.buildUserForm(),this._userService.getUser(t,"L").pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{this.currentUserObject=r,this.originalUserObject=r,this.selectedUserImage=this.currentUserObject.user.image,r.user.confirmPassword=null,(!r.userSchedulePermissions||0===r.userSchedulePermissions.length)&&this.addSchedulePermission(),(!r.userTemplatePermissions||0===r.userTemplatePermissions.length)&&this.addTemplatePermission(),(!r.userEmployeePermissions||0===r.userEmployeePermissions.length)&&this.addEmployeeAccessPermission(),1==r.linkedEmployees.length?r.linkedEmployees[0].email==this.originalUserObject.user.email&&(this.linkedEmployee=r.linkedEmployees[0],this.isEmployeeLinked=null!=r.user.linkedEmployeeID&&r.linkedEmployees[0].isASSOEnabled,this.showAlertforSwitchAccount=!r.linkedEmployees[0].isASSOEnabled,this.isSwitchAccountDisabled=!r.linkedEmployees[0].isASSOEnabled,this.linkedEmployeeText=this.isSwitchAccountDisabled?this.linkedEmployee.name+" ("+this.linkedEmployee.employeeId+") requires an Advanced SSO login, to enable Switch Accounts.":"Enable employee "+this.linkedEmployee.name+" ("+this.linkedEmployee.employeeId+") as your linked Employee account"):(this.isSwitchAccountDisabled=null==this.linkedEmployee,this.linkedEmployeeText="No employee account found."),this.patchForm(r,i),this.userForm.controls.apiKey1.setValue(r.user.apiKey1),this.userForm.controls.apiKey2.setValue(r.user.apiKey2),this.userForm.controls.accessAllEmployees.setValue(r.user.accessAllEmployees),this.userForm.controls.accessAllShifts.setValue(r.user.accessAllShifts),this.loaded=!0,this.isAccessEmailSent=r.user.isAccessEmailSent,setTimeout(()=>{this.pauseForm=!1},0),this.checkEmplPermsSelectionsNumber(),this.loggedUserUsername=r.user.username,this.shouldDisableEmployeeAccessFields=r.user.accessAllEmployees,this.shouldDisableEmployeeAccessFields&&this.userForm.get("userEmployeePermissions").disable()})):this._messageService.open("Data not loaded fully from server. Please reload page and try again.")}saveChanges(){this.savingInProgress=!0,("Employee"===this.role&&this.canAccessPersonalPanel||"User"===this.role)&&this.checkNotifications(),Object.keys(this.userForm.controls).forEach(i=>{const r=this.userForm.get(i);if("string"===yte[i]){if(r.value)if("password"==i){const a=r.value.trim();a&&r.setValue(a)}else"username"==i||"firstname"==i||"surname"==i||"email"==i?(r.setValue(r.value.trim()),this.checkInput(r.value,i)):r.setValue(r.value.trim());!r.value&&"confirmPassword"==i&&!this.userForm.get("password").value&&(this.passwordEntered=!1,this.validateConfirmPassword()),"email"==i&&""==r.value&&(r.setValue("."),r.setValue(""))}r.markAsTouched({onlySelf:!0})}),this.userForm.markAllAsTouched(),this.checkScheduleAccArrayStatus(),this.checkTemplateAccArrayStatus(),this.checkEmplAccArrayStatus(),this.validateTemplatePermsOnSave(),this.validateSchedulePermsOnSave(),this.validateEmployeePermsOnSave();const t=this.selectedUserId.toString();if(this.userForm.valid&&!this.userForm.pending&&this.notificationsSelected)if(this.selectedUserImage!=this.userForm.controls.image.value?this.userForm.controls.image.enable():this.userForm.controls.image.disable(),0===this.selectedUserId)this._addNewUser();else{this.newUserSaving=!0;let i=new Ca;i.user=new Ua,i=this._prepareFormForHttpRequest(),this._userService.editUser(t,i).subscribe(r=>{this._messageService.open("Changes saved."),this.userForm.markAsPristine(),this.selectedUserImage=this.userForm.controls.image.value,this.userSaved=!0,this.newUserSaving=!1,t!=this.loggedUserID?this.router.navigateByUrl("/manage-users/table"):(this.reloadPermissions(),localStorage.setItem("hasLinkedAccount",String(null!=this.userForm.controls.linkedEmployeeID.value)),this._userRoleService.linkedAccountAccessChange.next("true"===localStorage.getItem("hasLinkedAccountAccess")),this._profileService.changeHasLinked(null!=this.userForm.controls.linkedEmployeeID.value))},r=>{this.newUserSaving=!1;const a=this._messageService.handleHttpError(r);400===r.status?this._messageService.open("User couldn't be updated."):404===r.status&&this._messageService.open("User couldn't be found."),this._messageService.open(a),this.savingInProgress=!1})}else this.newUserSaving=!1,this.savingInProgress=!1,this._messageService.open(this.message.fillForm)}_addNewUser(){this.newUserSaving=!0;let t=new Ca;t=this._prepareFormForHttpRequest(),this._userService.createUser(t).subscribe(i=>{this._messageService.open("User created."),this.newUserSaving=!1,this.userSaved=!0,this.userForm.reset(),this.userForm.markAsUntouched(),this.userForm.markAsPristine(),this.router.navigateByUrl("/manage-users/table")},i=>{this.newUserSaving=!1,this.savingInProgress=!1,this._messageService.open(i)})}deleteUser(){"true"===this.isSuperAdmin&&this.dialogService.openConfirmDialog("Delete",(0,St.$j)("n User")).afterClosed().subscribe(t=>{t&&this._userService.deleteUser(this.selectedUserId).subscribe(r=>{this._messageService.open("User deleted."),this.currentUserObject=new Ca,this.currentUserObject.user=new Ua,this.router.navigateByUrl("/manage-users/table")},r=>{this._messageService.open(r)})})}compressFileEdit(){this._imageCompress.uploadFile().then(({image:t,orientation:i})=>{this._imageCompress.compressFile(t,i,75,50).then(r=>{this.userForm.controls.image.setValue(r.split(",")[1])})})}trackByFn(t,i){return i.id}validateConfirmPassword(){this.passwordEntered?(this.userForm.controls.confirmPassword.setValidators([_.kI.required]),this.userForm.controls.confirmPassword.setValue(null),this.userForm.controls.confirmPassword.setErrors(null),this.userForm.controls.confirmPassword.markAsUntouched(),this.userForm.controls.confirmPassword.updateValueAndValidity()):(this.userForm.controls.confirmPassword.setValidators([]),this.userForm.controls.confirmPassword.setErrors(null),this.userForm.controls.confirmPassword.markAsUntouched(),this.userForm.controls.confirmPassword.updateValueAndValidity())}patchForm(t,i){this.userForm.patchValue({id:t.user.id,firstname:t.user.firstname,surname:t.user.surname,username:t.user.username,password:t.user.password,email:t.user.email,telephoneNumber:t.user.telephoneNumber,mobileNumber:t.user.mobileNumber,notificationTypeID:t.user.notificationTypeID,profileID:t.user.profileID,linkedEmployeeID:t.user.linkedEmployeeID,image:t.user.image,userShiftPermissions:t.userShiftPermissions,startDate:t.user.startDate,leaveDate:t.user.leaveDate},i),this.patchSchedulePermissions(t.userSchedulePermissions,i),this.patchTemplatePermissions(t,i),this.patchEmployeeAccessPermissions(t,i)}patchSchedulePermissions(t,i){const r=this.userForm.get("userSchedulePermissions");t&&t.forEach(a=>{r.push(this._fb.group({id:a.id,scheduleID:a.scheduleID,subGroupID:a.subGroupID,scheduleRightID:a.scheduleRightID},i))})}get schedulePermissionsArray(){return this.userForm.get("userSchedulePermissions")}newSchedulePermission(){return this._fb.group({id:0,scheduleID:null,subGroupID:null,scheduleRightID:null})}addSchedulePermission(){this.schedulePermissionsArray.push(this.newSchedulePermission()),this.validScheduleAccessSelections=!1}removeSchedulePermission(t){this.schedulePermissionsArray.removeAt(t),this.schedulePermissionsArray.length||this.addSchedulePermission(),this.checkScheduleAccArrayStatus()}checkSchedulePermission(t,i){void 0===t&&this.schedulePermissionsArray.setControl(i,this.newSchedulePermission())}patchTemplatePermissions(t,i){const r=this.userForm.get("userTemplatePermissions");t.userTemplatePermissions&&t.userTemplatePermissions.forEach(a=>{r.push(this._fb.group({id:a.id,templateID:a.templateID,scheduleRightID:a.scheduleRightID},i))})}get templatePermissionsArray(){return this.userForm.get("userTemplatePermissions")}newTemplatePermission(){return this._fb.group({id:0,templateID:null,scheduleRightID:null})}addTemplatePermission(){this.templatePermissionsArray.push(this.newTemplatePermission()),this.validTemplateAccessSelections=!1}removeTemplatePermission(t){this.templatePermissionsArray.removeAt(t),this.templatePermissionsArray.length||this.addTemplatePermission(),this.checkTemplateAccArrayStatus()}checkTemplatePermission(t,i){void 0===t&&this.templatePermissionsArray.setControl(i,this.newTemplatePermission())}patchEmployeeAccessPermissions(t,i){const r=this.userForm.get("userEmployeePermissions");t.userEmployeePermissions&&t.userEmployeePermissions.forEach(a=>{r.push(this._fb.group({userEmployeePermissionID:a.userEmployeePermissionID,fieldID:a.fieldID,fieldValues:[a.fieldValues]},i))})}get employeeAccessPermissionsArray(){return this.userForm.get("userEmployeePermissions")}newEmployeeAccessPermission(){return this._fb.group({userEmployeePermissionID:0,fieldID:null,fieldValues:[]})}resetEmployeeAccessPermission(t,i){return this._fb.group({userEmployeePermissionID:t,fieldID:i,fieldValues:[]})}addEmployeeAccessPermission(){this.employeeAccessPermissionsArray.push(this.newEmployeeAccessPermission()),this.validEmplAccessSelections=!1,this.checkEmplPermsSelectionsNumber()}removeEmployeeAccessPermission(t){this.employeeAccessPermissionsArray.removeAt(t),this.employeeAccessPermissionsArray.length||this.addEmployeeAccessPermission(),this.checkEmplAccArrayStatus(),this.checkEmplPermsSelectionsNumber()}checkEmployeeAccessPermission(t,i){const r=this.userForm.controls.userEmployeePermissions.controls[i].value;this.employeeAccessPermissionsArray.setControl(i,void 0===t?this.newEmployeeAccessPermission():this.resetEmployeeAccessPermission(r.userEmployeePermissionID,r.fieldID))}checkEmplPermsSelectionsNumber(){this.allEmplPermsSelected=7===this.employeeAccessPermissionsArray.length}returnScheduleIndex(t){return this.comboValues.schedules.map(function(i){return i.id}).indexOf(t)}returnTemplateIndex(t){return this.comboValues.templates.map(function(i){return i.id}).indexOf(t)}returnEmplPermIndex(t){return this.comboValues.organisationFields.map(function(i){return i.id}).indexOf(t)}setLinkedEmployee(t){this.isEmployeeLinked?(this.isEmployeeLinked=!1,this.userForm.controls.linkedEmployeeID.setValue(null)):null==this.originalUserObject.user.linkedEmployeeID&&this.originalUserObject.linkedEmployees[0].isASSOEnabled?(this.isEmployeeLinked=!0,this.userForm.controls.linkedEmployeeID.setValue(this.originalUserObject.linkedEmployees[0].employeeId)):this.originalUserObject.linkedEmployees[0].isASSOEnabled||(this.slideToggle.checked=!1,this.showAlertforSwitchAccount=!0,this.userForm.controls.linkedEmployeeID.setValue(null))}checkScheduleAccArrayStatus(){for(let t=0;t<this.userForm.controls.userSchedulePermissions.controls.length;t++){if(!this.userForm.controls.userSchedulePermissions.controls[t].value.scheduleID||!this.userForm.controls.userSchedulePermissions.controls[t].value.scheduleRightID){this.validScheduleAccessSelections=!1,this.savingInProgress&&(this.showScheduleAccessSelectionsWarning=!0);break}this.validScheduleAccessSelections=!0,this.showScheduleAccessSelectionsWarning=!1}}checkTemplateAccArrayStatus(){for(let t=0;t<this.userForm.controls.userTemplatePermissions.controls.length;t++){if(!this.userForm.controls.userTemplatePermissions.controls[t].value.templateID||!this.userForm.controls.userTemplatePermissions.controls[t].value.scheduleRightID){this.validTemplateAccessSelections=!1,this.savingInProgress&&(this.showTemplateAccessSelectionsWarning=!0);break}this.validTemplateAccessSelections=!0,this.showTemplateAccessSelectionsWarning=!1}}checkEmplAccArrayStatus(){for(let t=0;t<this.userForm.controls.userEmployeePermissions.controls.length;t++){if(!(this.userForm.controls.userEmployeePermissions.controls[t].value.fieldID&&this.userForm.controls.userEmployeePermissions.controls[t].value.fieldValues&&this.userForm.controls.userEmployeePermissions.controls[t].value.fieldValues.length)){this.validEmplAccessSelections=!1,this.savingInProgress&&(this.showEmplAccessSelectionsWarning=!0);break}this.validEmplAccessSelections=!0,this.showEmplAccessSelectionsWarning=!1}}updateselectedOrganisationalFields(){const t=this.userForm.controls.userEmployeePermissions.controls;this.selectedOrganisationalFields=new Array,t.length&&t.forEach(i=>{i.controls.fieldID.value&&i.controls.fieldValues.value&&this.comboValues.organisationFields.forEach(r=>{r.id===i.controls.fieldID.value&&this.selectedOrganisationalFields.push(r)})})}updateselectedTemplateFields(){const t=this.userForm.controls.userTemplatePermissions.controls;this.selectedTemplateFields=new Array,t.length&&(t.forEach(i=>{i.controls.templateID.value&&i.controls.scheduleRightID.value&&this.comboValues.templates.forEach(r=>{r.id===i.controls.templateID.value&&this.selectedTemplateFields.push(r)})}),this.allTemplatePermsSelected=this.comboValues.templates.length-this.selectedTemplateFields.length==0)}_prepareFormForHttpRequest(){const t=new Ca;return t.user=new Ua,t.user.id=this.userForm.controls.id.value,t.user.firstname=this.userForm.controls.firstname.value,t.user.surname=this.userForm.controls.surname.value,t.user.username=this.userForm.controls.username.value,t.user.password=this.userForm.controls.password.value,t.user.email=this.userForm.controls.email.value,t.user.telephoneNumber=this.userForm.controls.telephoneNumber.value,t.user.mobileNumber=this.userForm.controls.mobileNumber.value,t.user.notificationTypeID=this.userForm.controls.notificationTypeID.value,t.user.profileID=this.userForm.controls.profileID.value,t.user.linkedEmployeeID=this.userForm.controls.linkedEmployeeID.value,t.user.image=this.userForm.controls.image.value,t.user.isAccessEmailSent=this.isAccessEmailSent,t.userSchedulePermissions=this.userForm.controls.userSchedulePermissions.value,t.userTemplatePermissions=this.userForm.controls.userTemplatePermissions.value,t.userEmployeePermissions=this.userForm.controls.userEmployeePermissions.value,t.userShiftPermissions=this.userForm.controls.userShiftPermissions.value,t.user.startDate=this.userForm.controls.startDate.value,t.user.leaveDate=this.userForm.controls.leaveDate.value,t.user.apiKey1=this.userForm.controls.apiKey1.value,t.user.apiKey2=this.userForm.controls.apiKey2.value,t.user.accessAllEmployees=this.userForm.controls.accessAllEmployees.value,t.user.accessAllShifts=this.userForm.controls.accessAllShifts.value,t}checkInput(t,i){let r=t.match(this.specials);switch(i){case"username":null!=r?t.length==r.length?this.userForm.controls.username.setErrors({allSpecialCharacters:!0}):(this.userForm.controls.username.setErrors(null),t.trim()&&this._userService.checkIfUsernameIsUnique(t.trim(),this.userForm.controls.id.value).subscribe(()=>{this.userForm.controls.username.setErrors(null)},a=>{this.userForm.controls.username.setErrors({invalidUsername:!0})})):t.trim()&&this._userService.checkIfUsernameIsUnique(t.trim(),this.userForm.controls.id.value).subscribe(()=>{this.userForm.controls.username.setErrors(null)},a=>{this.userForm.controls.username.setErrors({invalidUsername:!0})});break;case"email":this.linkedEmployeeText="",t&&this.userForm.controls.email.valid&&this._userService.checkIfEmailIsUnique(t,this.userForm.controls.id.value).subscribe(a=>{null==a?(this.isSwitchAccountDisabled=!0,this.linkedEmployeeText="No employee account found."):null!=a.advancedId?(this.isSwitchAccountDisabled=!1,this.linkedEmployeeText="Enable employee "+a.firstname+" "+a.surname+" ("+a.id+") as your linked Employee account"):(this.isSwitchAccountDisabled=!0,this.linkedEmployeeText=a.firstname+" "+a.surname+" ("+a.id+") requires an Advanced SSO login, to enable Switch Accounts.")},a=>{this.userForm.controls.email.setErrors({invalidEmail:!0})});break;case"firstname":null!=r&&this.userForm.controls.firstname.setErrors(t.length==r.length?{allSpecialCharacters:!0}:null);break;case"surname":null!=r&&this.userForm.controls.surname.setErrors(t.length==r.length?{allSpecialCharacters:!0}:null)}}validateTemplatePermsOnSave(){const t=this.userForm.controls.userTemplatePermissions.value.length;switch(t){case 0:this.userForm.controls.userTemplatePermissions.markAsUntouched(),this.showTemplateAccessSelectionsWarning=!1;break;case 1:null===this.userForm.controls.userTemplatePermissions.value[0].templateID&&(this.userForm.controls.userTemplatePermissions.markAsUntouched(),this.showTemplateAccessSelectionsWarning=!1);break;default:this.showTemplateAccessSelectionsWarning=!(this.userForm.controls.userTemplatePermissions.valid||!this.savingInProgress);for(let i=0;i<t;i++)!this.userForm.controls.userTemplatePermissions.controls[i].value.templateID&&!this.userForm.controls.userTemplatePermissions.controls[i].value.scheduleRightID&&this.userForm.controls.userTemplatePermissions.controls[i].markAsUntouched()}}validateSchedulePermsOnSave(){const t=this.userForm.controls.userSchedulePermissions.value.length;switch(t){case 0:this.userForm.controls.userSchedulePermissions.markAsUntouched(),this.showScheduleAccessSelectionsWarning=!1;break;case 1:null===this.userForm.controls.userSchedulePermissions.value[0].scheduleID&&(this.userForm.controls.userSchedulePermissions.markAsUntouched(),this.showScheduleAccessSelectionsWarning=!1);break;default:this.showScheduleAccessSelectionsWarning=!(this.userForm.controls.userSchedulePermissions.valid||!this.savingInProgress);for(let i=0;i<t;i++)!this.userForm.controls.userSchedulePermissions.controls[i].value.scheduleID&&!this.userForm.controls.userSchedulePermissions.controls[i].value.scheduleRightID&&this.userForm.controls.userSchedulePermissions.controls[i].markAsUntouched()}}validateEmployeePermsOnSave(){const t=this.userForm.controls.userEmployeePermissions.value.length;switch(t){case 0:this.userForm.controls.userEmployeePermissions.markAsUntouched(),this.showEmplAccessSelectionsWarning=!1;break;case 1:null===this.userForm.controls.userEmployeePermissions.value[0].fieldID&&(this.userForm.controls.userEmployeePermissions.markAsUntouched(),this.showEmplAccessSelectionsWarning=!1);break;default:this.showEmplAccessSelectionsWarning=!(this.userForm.controls.userEmployeePermissions.valid||!this.savingInProgress);for(let i=0;i<t;i++)!this.userForm.controls.userEmployeePermissions.controls[i].value.fieldID&&(!this.userForm.controls.userEmployeePermissions.controls[i].value.fieldValues||!this.userForm.controls.userEmployeePermissions.controls[i].value.fieldValues.length)&&this.userForm.controls.userEmployeePermissions.controls[i].markAsUntouched()}}copyToClipboard(t){const i=document.createElement("textarea");i.style.position="fixed",i.style.left="0",i.style.top="0",i.style.opacity="0",i.value=t,document.body.appendChild(i),i.focus(),i.select(),document.execCommand("copy"),document.body.removeChild(i),this._messageService.open("Key copied to clipboard")}regenerateKey(t,i){this.apiKeyRegenerating=!0,this._userService.regenerateApiKey(i).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{this.userForm.controls[t].setValue(r),this.apiKeyClipboardIndicator[t]=!0,this.apiKeyRegenerating=!1},r=>{this.apiKeyRegenerating=!1,this._messageService.open("Error regenerating key")})}reloadPermissions(){this.loggedUserUsername!==this.userForm.controls.username.value&&(this._userRoleService.setGlobalAccountPermissions(null),this._notificationsService.closeConnection(),this._sessionTimerService.stopTimer(),this._authService.logout(!0)),this.fetchProfilePermissions()}fetchProfilePermissions(){let t=new b.x;this._profileService.getProfilePermissions().pipe((0,H.R)(t)).subscribe(i=>{this.permissions=i,t.next(!0),t.complete(),this._userRoleService.updateLoggedInUserName.next(this.userForm.controls.firstname.value+" "+this.userForm.controls.surname.value),this.router.navigateByUrl("/dashboard")})}fetchProfilePanelPermissions(){setTimeout(()=>{const t=this._userRoleService.getGlobalAccountPermissions();this.accessPermissions=t,this.canUserAccessUserManagement=this.accessPermissions.canUserAccessUserManagement,this.accessPermissions&&(this.panelPermissions=this.accessPermissions.userPanelPermissions),this.canAccessPersonalPanel=null!=this.panelPermissions.canSeePersonalPanel&&null!=this.panelPermissions.canSeePersonalPanel,this.canAccessSchedulesPanel=null!=this.panelPermissions.canSeeSchedulesPanel&&null!=this.panelPermissions.canSeeSchedulesPanel,this.canAccessTemplatesPanel=null!=this.panelPermissions.canSeeTemplatesPanel&&null!=this.panelPermissions.canSeeTemplatesPanel,this.canAccessEmployeeAccessPanel=null!=this.panelPermissions.canSeeEmployeeAccessPanel&&null!=this.panelPermissions.canSeeEmployeeAccessPanel,this.canAccessShiftsPanel=null!=this.panelPermissions.canSeeShiftsPanel&&null!=this.panelPermissions.canSeeShiftsPanel,this.canAccessAPIPanel=null!=this.panelPermissions.canSeeAPIPanel&&null!=this.panelPermissions.canSeeAPIPanel,this.canModifyPersonalPanel=this.panelPermissions.canSeePersonalPanel,this.canModifySchedulesPanel=this.panelPermissions.canSeeSchedulesPanel,this.canModifyTemplatesPanel=this.panelPermissions.canSeeTemplatesPanel,this.canModifyEmployeeAccessPanel=this.panelPermissions.canSeeEmployeeAccessPanel,this.canModifyShiftsPanel=this.panelPermissions.canSeeShiftsPanel,this.canModifyAPIPanel=this.panelPermissions.canSeeAPIPanel},200)}ngOnDestroy(){this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.qu),e.Y36(jn),e.Y36(Vr.n),e.Y36(we.H7),e.Y36(Ri.x),e.Y36(z.uw),e.Y36(se.G),e.Y36(q.F0),e.Y36(Lx),e.Y36(e.Qsj),e.Y36(Cu),e.Y36(qi.J),e.Y36(yr.H),e.Y36(fe.T),e.Y36(Ir.e),e.Y36(Rc.Z),e.Y36(ce.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-details"]],viewQuery:function(t,i){if(1&t&&e.Gf(xte,5),2&t){let r;e.iGM(r=e.CRH())&&(i.slideToggle=r.first)}},decls:63,vars:13,consts:[[1,"container-fluid","manage-users"],[1,"card"],[1,"card-body"],[1,"row","user-name-container"],[1,"col-12"],["class","esolve-user-name",4,"ngIf","ngIfElse"],[1,"blue_hr"],[1,"main-container-for-responsive",3,"hidden"],["id","userDetailsContainer",1,"g-thin-black-scroll-bar","user-details-scroll"],[1,"row","tab-row","personal-tab","esolve-user-details"],[1,"col-md-auto","col-12","image-side"],[1,"row"],[1,"row","d-flex","justify-content-center"],["class","profile-image","id","profileImage",3,"src",4,"ngIf","ngIfElse"],["defaultImage",""],[1,"row","change-photo-button"],[1,"cursor-pointer","esolve-blue","eSolve-font-size","bold-text",3,"click"],[1,"col-md-auto","col-12","info-side"],["noname",""],[1,"no-margins"],[1,"col-md-8","col-xl-9","col-xs-12","col-sm-12"],[1,"col-md-8","col-xl-8","col-xs-10"],[1,"col-md-5","col-lg-4","col-12"],[1,"eSolve-font-size","phone-label","bold-text","summary-info"],[1,"col-md-7","col-lg-8","col-12","eSolve-font-size","bold-text","esolve-gray-text"],[1,"phone-number-label","summary-info"],[1,"eSolve-font-size","bold-text","summary-info"],[1,"col-md-7","col-lg-8","col-12"],[1,"esolve-gray-text","eSolve-font-size","bold-text","summary-info"],[1,"eSolve-font-size","username-label","bold-text","summary-info"],[1,"user-number-display","summary-info"],[1,"col-md-4","col-xl-3","col-xs-12","col-sm-12","esolve-margin-delete-user"],[4,"ngIf"],["class","col-12 d-flex justify-content-end",4,"ngIf"],[1,"no-margins-down"],[1,"col-12","d-flex","justify-content-end"],["id","delete_button","type","button",1,"delete-user-button","btn","p-2","modal-btn","user-details",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-trash-o"],[1,"row","lower-section"],["class","col-12","id","userPanel",4,"ngIf"],[1,"esolve-user-name"],["id","profileImage",1,"profile-image",3,"src"],["src","assets/images/default-avatar.jpg",1,"profile-image"],["class","row",4,"ngIf"],[1,"col-12","d-flex","justify-content-end","bottom-padding-14px"],["id","send_user_email_button","type","button",1,"delete-user-button","btn","p-2","modal-btn","user-details","access-email-btn-text-color","access-email-btn-send",3,"click"],["accessEmailBtn",""],["id","send_user_email_button","type","button",1,"delete-user-button","btn","p-2","modal-btn","user-details","access-email-btn-text-color","access-email-btn-resend",3,"click"],["id","userPanel",1,"col-12"],["novalidate","","autocomplete","off","id","detailsForm","class","mat-tab-group-parent",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","","autocomplete","off","id","detailsForm",1,"mat-tab-group-parent",3,"formGroup","ngSubmit"],["ef","ngForm"],[1,"esolve-tabs"],["userTabs",""],["label","API",4,"ngIf"],["userFormButtons",""],["mat-tab-label",""],[1,"personalMinContainer"],[1,"row","tab-row","personal-tab","esolve-user-tab"],[1,"col-md-3"],["for","Username",1,"form-label"],["id","Username","name","edit-username","required","","formControlName","username","maxlength","50",1,"form-control","form-control-sm","form-input","eSolve-font-size",3,"readonly","change","keyup"],["class","validationError",4,"ngIf"],["for","FirstName",1,"form-label"],["id","FirstName","required","","name","edit-firstname","required","","formControlName","firstname","maxlength","50",1,"form-control","form-control-sm","form-input",3,"readonly","change","keyup"],["for","LastName",1,"form-label"],["id","LastName","required","","name","edit-lastName","required","","formControlName","surname","maxlength","50",1,"form-control","form-control-sm","form-input",3,"readonly","change","keyup"],["for","email",1,"form-label"],["id","email","name","edit-email","type","email","email","","required","","formControlName","email","maxlength","50",1,"form-control","form-control-sm","form-input",3,"readonly","change","keyup"],["for","TelephoneNumber",1,"form-label"],["id","TelephoneNumber","name","edit-telephoneNumber","formControlName","telephoneNumber","maxlength","50",1,"form-control","form-control-sm","form-input",3,"readonly"],["for","MobileNumber",1,"form-label"],["id","MobileNumber","name","edit-mobileNumber","formControlName","mobileNumber","maxlength","50",1,"form-control","form-control-sm","form-input",3,"readonly"],["for","Notification",1,"form-label"],["formControlName","notificationTypeID","id","Notification","name","notificationTypeID","bindLabel","name","bindValue","id",1,"form-input","user-details",3,"items","readonly","ngClass","change","blur"],[1,"datepicker_div","col-12"],["for","startDatePicker",1,"form-label","datePicker"],["autocomplete","off","id","startDate","name","edit-startDate","formControlName","startDate",1,"form-control","form-control-sm","date_input","eSolve-font-size","eSolve_datePicker_input",3,"dateLengthTracker","matDatepicker","placeholder","readonly"],["src","assets/icons/calendar-icon.png","class","eSolve_datePicker_calendar_icon_img_disabled",4,"ngIf"],["src","assets/icons/calendar-icon.png","class","eSolve_datePicker_calendar_icon_img",3,"click",4,"ngIf"],["picker2",""],["for","leaveDatePicker",1,"form-label","datePicker"],["autocomplete","off","id","leaveDate","name","edit-leaveDate","formControlName","leaveDate",1,"form-control","form-control-sm","date_input","eSolve-font-size","eSolve_datePicker_input",3,"dateLengthTracker","matDatepicker","placeholder"],["src","assets/icons/calendar-icon.png",1,"eSolve_datePicker_calendar_icon_img",3,"click"],["picker3",""],["for","UserProfile",1,"form-label"],["formControlName","profileID","id","UserProfile",1,"form-input","user-details",3,"virtualScroll","readonly"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","LinkedEmployee",1,"form-label",3,"ngClass"],[1,"col-2"],[3,"checked","disabled","change"],["toggleElement",""],[1,"col-10",3,"ngClass"],["for","LinkedEmployeeDetails",1,"form-control-sm","form-input"],[4,"ngTemplateOutlet"],[1,"warning-span"],["class","warning-span","class","tabError",4,"ngIf"],[1,"tabError"],[1,"validationError"],["src","assets/icons/calendar-icon.png",1,"eSolve_datePicker_calendar_icon_img_disabled"],[3,"value"],[1,"col-md-11"],[1,"col-md-4","permissions-label"],[1,"col-md-1"],[1,"gray_hr"],[1,"schedulesMinContainer"],[1,"row","permissions-list"],["formArrayName","userSchedulePermissions",1,"permissions-container"],[4,"ngFor","ngForOf"],[1,"addNewValue","d-flex","justify-content-end"],["type","button",1,"eSolve-button","eSolve-blue-button",3,"disabled","click"],[1,"gray_hr","add-value"],[1,"buttons"],[3,"formGroupName"],[1,"col-md-4"],["formControlName","scheduleID","placeholder","Schedule","dropdownPosition","schedulesDropDownPosition",1,"form-input","user-details",3,"id","virtualScroll","readonly","change"],[1,"col-md-4","space-between-dropdowns"],["formControlName","subGroupID","class","form-input user-details","placeholder","Sub-Group","dropdownPosition","schedulesDropDownPosition",3,"id","virtualScroll","readonly",4,"ngIf"],["class","col-md-4 space-between-dropdowns",4,"ngIf"],[1,"d-flex","justify-content-center"],["aria-hidden","true",1,"fa","fa-trash-o","align-self-center","delete-icon",3,"hidden","click"],["formControlName","subGroupID","placeholder","Sub-Group","dropdownPosition","schedulesDropDownPosition",1,"form-input","user-details",3,"id","virtualScroll","readonly"],["formControlName","scheduleRightID","placeholder","Permission","dropdownPosition","schedulesDropDownPosition",1,"form-input","user-details",3,"id","virtualScroll","readonly","required","change"],[1,"templatesMinContainer"],["formArrayName","userTemplatePermissions",1,"permissions-container"],["class","col-12",4,"ngIf"],["formControlName","templateID","placeholder","Template","dropdownPosition","templatesDropDownPosition",1,"form-input","user-details",3,"id","virtualScroll","readonly","focus","change"],["formControlName","scheduleRightID","placeholder","Permission","dropdownPosition","templatesDropDownPosition",1,"form-input","user-details",3,"id","virtualScroll","readonly","required","change"],[1,"col-md-12"],[1,"col-md-3","permissions-label"],[1,"col-md-6","permissions-label"],[1,"col-md-3","access-all-section"],["id","accessAllEmployeesCheckbox","name","access-all-employees","formControlName","accessAllEmployees",1,"form-label",3,"disabled"],[1,"gray_hr","empl_access_hr"],[1,"employeeAccessMinContainer"],["formArrayName","userEmployeePermissions",1,"permissions-container"],["formControlName","fieldID","placeholder","Organisational Field","dropdownPosition","emplPermsDropDownPosition",1,"form-input","user-details","empl-access-select",3,"id","virtualScroll","readonly","change","focus"],["class","col-md-9 space-between-dropdowns",4,"ngIf"],[1,"col-md-9","space-between-dropdowns"],["formControlName","fieldValues","bindLabel","name","placeholder","Selections Within Group","dropdownPosition","emplPermsDropDownPosition",1,"form-input","user-details","g-esolve-multi-select","empl-access-select",3,"id","virtualScroll","clearable","clearSearchOnAdd","hideSelected","readonly","items","required","multiple","change"],[1,"shiftMinContainer"],[1,"permissions-container","space-between-dropdowns"],[1,"col-md-6","col-12"],["formControlName","userShiftPermissions","bindLabel","name","placeholder","Selections Shifts","dropdownPosition","emplPermsDropDownPosition",1,"form-input","user-details","g-esolve-multi-select",3,"id","virtualScroll","clearable","clearSearchOnAdd","hideSelected","readonly","items","multiple"],["id","accessAllShiftsCheckbox","name","access-all-shifts","formControlName","accessAllShifts",1,"form-label",3,"disabled"],["label","API"],[1,"row","tab-row","esolve-user-tab"],[1,"row","api-key-row"],["for","api_key_1",1,"form-label","key-label","col-12"],["type","text","id","api_key_1","name","api-key-1-input","formControlName","apiKey1",1,"api-key-input","form-control","form-control-sm","form-input","eSolve-font-size","col-md-8","col-12",3,"readonly"],["id","api_key_1_buttons",1,"col-md-4","col-12"],[1,"d-flex","justify-content-between"],["id","api_key_1_regenerate_button","type","button",1,"btn-sm","btn","api-key-button","api-key-blue",3,"disabled","click"],["type","button","class","btn-sm btn api-key-button api-key-blue","id","api_key_1_copy_to_clipboard_button",3,"click",4,"ngIf"],["for","api_key_2",1,"form-label","key-label","col-12"],["type","text","id","api_key_2","name","api-key-2-input","formControlName","apiKey2",1,"api-key-input","form-control","form-control-sm","form-input","eSolve-font-size","col-md-8","col-12",3,"readonly"],["id","api_key_2_buttons",1,"col-md-4","col-12"],["id","api_key_2_regenerate_button","type","button",1,"btn-sm","btn","api-key-button","api-key-blue",3,"disabled","click"],["type","button","class","btn-sm btn api-key-button api-key-blue","id","api_key_2_copy_to_clipboard_button",3,"click",4,"ngIf"],["type","button","id","api_key_1_copy_to_clipboard_button",1,"btn-sm","btn","api-key-button","api-key-blue",3,"click"],["type","button","id","api_key_2_copy_to_clipboard_button",1,"btn-sm","btn","api-key-button","api-key-blue",3,"click"],["class","d-flex flex-row justify-content-end esolve-user-tab buttons-tab-bottom",4,"ngIf"],["class","esolve-user-tab buttons-tab-bottom",4,"ngIf"],[1,"d-flex","flex-row","justify-content-end","esolve-user-tab","buttons-tab-bottom"],[1,"d-flex","justify-content-between","col-sm-6","col-md-3","col-lg-3","formButtonsPadding"],[1,"esolve-user-cancel-btn"],["id","cancelButton","type","button",1,"cancel-button","btn-block","btn-sm","p-2","eSolve-font-size",3,"disabled","click"],[1,"esolve-user-save-btn"],["id","submitButton","type","submit",1,"submit-new-button","hoverWhite","btn-sm","btn-block","btn","p-2","eSolve-font-size",3,"disabled"],[1,"esolve-user-tab","buttons-tab-bottom"],[1,"row","formButtonsPadding"],[1,"col-12","esolve-user-save-btn"],["id","submitButtonXS","type","submit",1,"submit-new-button-xs","hoverWhite","btn-sm","btn-block","btn","p-2","eSolve-font-size",3,"disabled"],[1,"col-12","esolve-user-cancel-btn"],["id","cancelButtonXS","type","button",1,"cancel-button-xs","btn-block","btn-sm","p-2","eSolve-font-size",3,"disabled","click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,Cte,2,2,"label",5),e.qZA()(),e._UZ(6,"hr",6),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",4)(13,"div",12),e.YNc(14,Tte,1,1,"img",13),e.YNc(15,wte,1,0,"ng-template",null,14,e.W1O),e.qZA(),e.TgZ(17,"div",15)(18,"label",16),e.NdJ("click",function(){return i.compressFileEdit()}),e._uU(19," Change Photo "),e.qZA()()()()(),e.TgZ(20,"div",17),e.YNc(21,Dte,1,0,"ng-template",null,18,e.W1O),e._UZ(23,"hr",19),e.TgZ(24,"div",11)(25,"div",20)(26,"div",11)(27,"div",21)(28,"div",11)(29,"div",22)(30,"label",23),e._uU(31," Phone: "),e.qZA()(),e.TgZ(32,"div",24)(33,"label",25),e._uU(34),e.qZA()()(),e.TgZ(35,"div",11)(36,"div",22)(37,"label",26),e._uU(38," Email: "),e.qZA()(),e.TgZ(39,"div",27)(40,"label",28),e._uU(41),e.qZA()()(),e.TgZ(42,"div",11)(43,"div",22)(44,"label",29),e._uU(45," Username: "),e.qZA()(),e.TgZ(46,"div",24)(47,"label",30),e._uU(48),e.qZA()()()()()(),e.TgZ(49,"div",31),e.YNc(50,kte,2,1,"div",32),e.YNc(51,Mte,2,1,"div",32),e.TgZ(52,"div",11),e.YNc(53,Ote,4,1,"div",33),e.qZA()()(),e._UZ(54,"hr",34),e.qZA(),e.TgZ(55,"div",31)(56,"div",11)(57,"div",35)(58,"button",36),e.NdJ("click",function(){return i.deleteUser()}),e._UZ(59,"i",37),e._uU(60," Delete "),e.qZA()()()()(),e.TgZ(61,"div",38),e.YNc(62,Qne,2,1,"div",39),e.qZA()()()()()()),2&t){const r=e.MAs(16),a=e.MAs(22);e.xp6(5),e.Q6J("ngIf",i.currentUserObject.user.firstname||i.currentUserObject.user.surname)("ngIfElse",a),e.xp6(2),e.Q6J("hidden",!i.loaded),e.xp6(7),e.Q6J("ngIf",i.f.image.value)("ngIfElse",r),e.xp6(20),e.hij(" ",i.currentUserObject.user.telephoneNumber," "),e.xp6(7),e.hij(" ",i.currentUserObject.user.email," "),e.xp6(7),e.hij(" ",i.currentUserObject.user.username," "),e.xp6(2),e.Q6J("ngIf",1!=i.isAccessEmailSent),e.xp6(1),e.Q6J("ngIf",1==i.isAccessEmailSent),e.xp6(2),e.Q6J("ngIf","true"==i.isSuperAdmin),e.xp6(5),e.Q6J("disabled",!i.userSaved),e.xp6(4),e.Q6J("ngIf",i.comboValues.profiles)}},dependencies:[D.mk,D.sg,D.O5,D.tP,Zi.oG,Ts.SP,Ts.uD,Ts.uX,On.Mq,On.hl,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.nD,_.on,_.sg,_.u,_.x0,_.CE,Sn,tr,Hc,$n,rr,z1],styles:['.warning-span[_ngcontent-%COMP%]{font-style:normal}.container-fluid.manage-users[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%}.tab-row[_ngcontent-%COMP%]{margin:0!important;width:100%}.formButtonsPadding[_ngcontent-%COMP%]{padding-right:2%}.addNewValue[_ngcontent-%COMP%]{padding-right:1.6%}.profile-image[_ngcontent-%COMP%]{width:152px;height:152px;margin-top:14px}.esolve-user-details[_ngcontent-%COMP%]{margin-top:-10px!important;margin-bottom:-11px!important}.lower-section[_ngcontent-%COMP%]{margin-top:-10px!important}.column-fix[_ngcontent-%COMP%]{width:100%;max-width:100%!important;height:auto!important}.inputfile[_ngcontent-%COMP%]{height:40px;padding:10px;margin:6px 0;width:100%;border-radius:4px;font-size:14px;text-align:center;text-decoration:none;border:none;outline:none;background-color:#eff3f7;color:var(--eSolve-gray-dark);box-shadow:0 2px 5px #00000042;display:inline-block}.inputfile[_ngcontent-%COMP%]:focus{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}.esolve-user-name[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#2c344b;white-space:nowrap;margin-bottom:-5px}.esolve-emp-job[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--eSolve-primary);margin-bottom:0}.no-margins-down[_ngcontent-%COMP%]{margin-bottom:0;margin-top:1px}.esolve-gray[_ngcontent-%COMP%]{color:gray}.backdropBackground[_ngcontent-%COMP%]{background:rgba(0,0,0,.5)!important}.form-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:0!important}.permissions-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#596881}.search_output[_ngcontent-%COMP%]{font-size:12px}.tab-spacer[_ngcontent-%COMP%]{margin-top:18px}#pageBodyLower[_ngcontent-%COMP%]{margin:0 11px}.card-title[_ngcontent-%COMP%]{margin:0 10px 19px 27px}.errorDateStyle[_ngcontent-%COMP%]{color:var(--eSolve-red);top:1vh;position:relative}.details-card[_ngcontent-%COMP%]{margin-top:3vh;position:relative}#detailsForm[_ngcontent-%COMP%]{position:relative;overflow:hidden}#uploadPictureButton[_ngcontent-%COMP%], #saveEmployeeChangesButton[_ngcontent-%COMP%]{color:var(--eSolve-gray-dark);background-color:#eff3f7}#deleteEmployeeButton[_ngcontent-%COMP%]{background-color:var(--eSolve-gray-dark);color:var(--eSolve-white);margin-left:10px!important}mat-checkbox[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-right:10px}.checkbox-row[_ngcontent-%COMP%]{margin-top:22px;padding-left:1px}.checkbox-col[_ngcontent-%COMP%]{margin-bottom:-6px}#userPanel[_ngcontent-%COMP%]{padding:0 16px;box-sizing:border-box}.submit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%], .toggle-button[_ngcontent-%COMP%]{margin-bottom:10px;min-width:88px;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.info-side[_ngcontent-%COMP%]{margin-top:4px}#addEmployeeButton[_ngcontent-%COMP%]{color:#fff;background-color:var(--eSolve-primary);margin-left:10px!important}.top-details[_ngcontent-%COMP%]{padding:0}#container-div[_ngcontent-%COMP%]{background-color:#eff3f7!important;padding-bottom:5vh}.mat-form-field[_ngcontent-%COMP%]{font-size:14px}#detailsCard[_ngcontent-%COMP%]{top:0!important;margin-top:30px}.address-lines[_ngcontent-%COMP%]{margin-top:22vh}.checkbox-group[_ngcontent-%COMP%]{margin-left:30px}.mat-emp-list--inline[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:inline-block;margin-right:32px;width:25vw!important;margin-left:2vw;vertical-align:middle}.mat-emp-list--inline[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-right:10px}.mat-panel-field--inline[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}.mat-panel-field--inline[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:inline-block;width:30%;vertical-align:left;margin-top:2vh}.mat-panel-field--inline[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:10px}.detailsRow[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.divider[_ngcontent-%COMP%]{margin-top:1vh;width:96%!important}.tabError[_ngcontent-%COMP%]{color:var(--eSolve-red);font-weight:900}.calendar_img_holder[_ngcontent-%COMP%]{position:relative;left:-33px;top:5px}.date_input[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:.25rem!important;padding-left:.8rem!important;height:28px!important}.blue_hr[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.tabs[_ngcontent-%COMP%]{background-color:#e0e6e9}.esolve-user-tab[_ngcontent-%COMP%]{background-color:var(--eSolve-white);padding:13px 5px 5px}.no-margins[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}.flex-column.eSolveButtons[_ngcontent-%COMP%]{position:relative;width:100%}.cancel-button[_ngcontent-%COMP%], .cancel-button-xs[_ngcontent-%COMP%]{border-radius:4px;position:relative;text-align:center;text-decoration:none;float:right;border:none;outline:none;color:#fff;background-color:#404f64;box-shadow:0 2px 5px #00000042;margin-bottom:5px;height:28px;line-height:10px}.submit-new-button[_ngcontent-%COMP%], .submit-new-button-xs[_ngcontent-%COMP%]{border-radius:4px;position:relative;text-align:center;float:right;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);height:28px;line-height:10px;box-shadow:0 2px 5px #00000042}.tab-color[_ngcontent-%COMP%]{background-color:#e0e6e9;padding-right:2%}.esolve-cancel-div[_ngcontent-%COMP%]{width:8%}.esolve-submit-div[_ngcontent-%COMP%]{width:16%}.esolve-bottom-buttons[_ngcontent-%COMP%]{padding-right:1%!important;padding-left:1%!important}.mat-tab-label[_ngcontent-%COMP%]{background-color:transparent;font-size:14px;font-weight:700}.mat-ink-bar[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)!important}.emplDetailsHeader[_ngcontent-%COMP%]{padding-left:2%;margin-bottom:-20px}.modal-btn.user-details[_ngcontent-%COMP%]{height:28px;width:170px;float:right}.esolve-margin-delete-user[_ngcontent-%COMP%]{margin:auto}.delete-user-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#3f4e63;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042}.access-email-btn-text-color[_ngcontent-%COMP%]{color:#fff}.cancel-button[_ngcontent-%COMP%]:disabled, .cancel-button-xs[_ngcontent-%COMP%]:disabled{background-color:#6c7c94}.user-number-display[_ngcontent-%COMP%]{margin-top:4px}.esolve-user-cancel-btn[_ngcontent-%COMP%]{width:30%}.esolve-user-save-btn[_ngcontent-%COMP%]{width:67%}.esolve-skill-tile[_ngcontent-%COMP%]{margin:4px 5px -1px 0;height:23px;padding:0 6px;background:var(--eSolve-tile)}.skill-tags[_ngcontent-%COMP%]{margin-top:-1px}.esolve-gray-text[_ngcontent-%COMP%]{color:gray}.esolve-skill-tile-color[_ngcontent-%COMP%]{background:var(--eSolve-tile)}.mat-tab-group-parent[_ngcontent-%COMP%]{min-height:24vh}.mat-tab-body-content[_ngcontent-%COMP%]{min-height:24vh!important}.esolve-user-tab.personal-tab[_ngcontent-%COMP%]{min-height:25vh}.phone-number-label[_ngcontent-%COMP%]{padding-top:15px}.skills-label[_ngcontent-%COMP%]{padding-top:6px}.buttons-tab-bottom[_ngcontent-%COMP%]{margin-top:-25px}.skill-label[_ngcontent-%COMP%]{padding-left:0}.add-value[_ngcontent-%COMP%]{margin-bottom:20px}.ng-select.user-details[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{height:28px!important;min-height:28px!important}.ng-select.user-details[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{font-size:12px;top:8px}.summary-info[_ngcontent-%COMP%]{margin-bottom:0}.bottom-padding-14px[_ngcontent-%COMP%]{padding-bottom:14px}.access-email-btn-send[_ngcontent-%COMP%]{background-color:var(--eSolve-red)}.access-email-btn-resend[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}#send_email_button[_ngcontent-%COMP%]:hover{color:#fff}.delete-icon[_ngcontent-%COMP%]{font-size:18px;color:#495057;padding-top:5px;cursor:pointer}.list-container[_ngcontent-%COMP%]{background-color:#fff}.active-state[_ngcontent-%COMP%]{font-size:27px;cursor:pointer;text-align:right}.skillName[_ngcontent-%COMP%]{font-size:12px}.hr_margin[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.permissions-container[_ngcontent-%COMP%]{width:100%;height:100%}.username-label[_ngcontent-%COMP%]{padding-bottom:15px}.phone-label[_ngcontent-%COMP%]{padding-top:15px}.g-thin-black-scroll-bar.user-details-scroll[_ngcontent-%COMP%]{height:calc(100vh - 150px);overflow-y:auto;overflow-x:hidden}.shiftMinContainer[_ngcontent-%COMP%], .personalMinContainer[_ngcontent-%COMP%], .schedulesMinContainer[_ngcontent-%COMP%], .templatesMinContainer[_ngcontent-%COMP%], .employeeAccessMinContainer[_ngcontent-%COMP%], .apiMinContainer[_ngcontent-%COMP%]{min-height:200px}.permissions-list[_ngcontent-%COMP%]{overflow:visible}.api-key-row[_ngcontent-%COMP%]{padding-bottom:13px}.key-label[_ngcontent-%COMP%]{padding-left:0}#api_key_1[_ngcontent-%COMP%], #api_key_2[_ngcontent-%COMP%]{word-break:break-all;white-space:pre-wrap;resize:none;margin-bottom:10px}.api-key-button[_ngcontent-%COMP%]{border-radius:4px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;font-size:12px;height:28px;width:120px;line-height:10px;box-shadow:0 2px 5px #00000042}.api-key-blue[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.api-key-blue[_ngcontent-%COMP%]{background-color:#404f64;margin-left:10px}.api-key-button[_ngcontent-%COMP%]:hover, .api-key-button[_ngcontent-%COMP%]:active, .api-key-button[_ngcontent-%COMP%]:hover:active   .api-key-button[_ngcontent-%COMP%]:disabled, .api-key-button[_ngcontent-%COMP%]:disabled:hover, .api-key-button[_ngcontent-%COMP%]:disabled:active, .api-key-button[_ngcontent-%COMP%]:disabled:hover:active{border:none!important;outline:none!important;color:#fff!important}.api-key-input[_ngcontent-%COMP%]:hover, .api-key-input[_ngcontent-%COMP%]:active, .api-key-input[_ngcontent-%COMP%]:hover:active   .api-key-input[_ngcontent-%COMP%]:disabled, .api-key-input[_ngcontent-%COMP%]:disabled:focus, .api-key-input[_ngcontent-%COMP%]:disabled:hover, .api-key-input[_ngcontent-%COMP%]:disabled:active, .api-key-input[_ngcontent-%COMP%]:disabled:hover:active{outline:none!important}.empl_access_hr[_ngcontent-%COMP%]{margin-top:4px}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]     .mat-slide-toggle-thumb{width:12px!important;height:12px!important;-ms-transform:translate(25%,40%);transform:translate(25%,40%)}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]     .mat-slide-toggle-bar{border-radius:15px!important;height:16px!important;background-color:var(--eSolve-primary)!important}[_nghost-%COMP%]   .mat-slide-toggle.mat-checked[_ngcontent-%COMP%]     .mat-slide-toggle-bar:after{content:"On";font-size:10px;font-weight:500;color:#fff;position:absolute;left:4px;top:-4px}[_nghost-%COMP%]   .mat-slide-toggle.mat-checked[_ngcontent-%COMP%]     .mat-slide-toggle-thumb{-ms-transform:translate(50%,40%);transform:translate(50%,40%);background-color:#fff}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]:not(.mat-checked)     .mat-slide-toggle-bar:after{content:"Off";font-size:10px;font-weight:500;color:#fff;position:absolute;left:17px;top:-4px}[_nghost-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]:not(.mat-checked)     .mat-slide-toggle-bar{background-color:var(--gray)!important}.color-grey[_ngcontent-%COMP%]{color:gray}.mcc-alert[_ngcontent-%COMP%]{border-color:transparent;padding-block:calc(.75rem - 2px);padding-inline:calc(1rem - 2px);background-color:transparent;position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;gap:.5rem;-webkit-margin-after:1rem;margin-block-end:1rem;border:2px solid #e0e0e7;border-radius:6px;background-color:#fff}.mcc-alert--danger-solid[_ngcontent-%COMP%]{border-left-color:#dc3545;border-left-width:6px}.fa-exclamation-triangle[_ngcontent-%COMP%]{color:#dc3545;font-size:1.5em}.mu-flex-column[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}.mu-d-flex[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.ok-button[_ngcontent-%COMP%]{background-color:#dc3545}@media (min-width: 768px){.esolve-user-details[_ngcontent-%COMP%]{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.info-side[_ngcontent-%COMP%]{width:75%}}@media (min-width: 1366px){.info-side[_ngcontent-%COMP%]{width:82%}}@media (min-width: 1440px){.info-side[_ngcontent-%COMP%]{width:83%}}@media (min-width: 1880px){.info-side[_ngcontent-%COMP%]{width:87%}}@media (min-width: 2222px){.info-side[_ngcontent-%COMP%]{width:90%}}@media (max-width: 1461px),(min-device-width: 992px) and (max-device-width: 1461px){.cancel-button[_ngcontent-%COMP%]{width:78px}}@media (max-width: 1024px){.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{height:40px;padding:10px 10px 0 18px;margin:6px 0;width:100%;max-width:100%;border-radius:4px;font-size:14px;text-align:center;text-decoration:none;border:none;outline:none;background-color:#eff3f7;color:var(--eSolve-gray-dark);box-shadow:0 2px 5px #00000042;display:inline-block}.modal-btn.user-details[_ngcontent-%COMP%]{height:28px;float:none}}@media (max-width: 767px){.mat-tab-group-parent[_ngcontent-%COMP%]{margin-top:10px}.permissions-label[_ngcontent-%COMP%]{display:none}.delete-user-button[_ngcontent-%COMP%]{margin-bottom:10px}.change-photo-button[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important}.lower-section[_ngcontent-%COMP%]{margin-top:0!important}.buttons-tab-bottom[_ngcontent-%COMP%]{margin-top:0}.padding_bottom[_ngcontent-%COMP%], .bottom-padding-14px[_ngcontent-%COMP%]{padding-bottom:0}.bottom-padding-14px[_ngcontent-%COMP%]{margin-top:5px}.permissions-list[_ngcontent-%COMP%]{overflow:auto}.blue_hr[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}.main-container-for-responsive[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;height:calc(100vh - 156px)}#api_key_1_buttons[_ngcontent-%COMP%], #api_key_2_buttons[_ngcontent-%COMP%]{padding:0}.username-label[_ngcontent-%COMP%]{padding-bottom:0}.phone-number-label[_ngcontent-%COMP%]{padding-top:0}.empl-access-select[_ngcontent-%COMP%]{margin-bottom:7px}.space-between-dropdowns[_ngcontent-%COMP%]{margin-top:5px}}@media (max-width: 599px){.submit-new-button-xs[_ngcontent-%COMP%], .cancel-button-xs[_ngcontent-%COMP%]{width:100%!important}.submit-new-button-xs[_ngcontent-%COMP%]{margin:10px 0!important}}@media (max-width: 576px){.list-container[_ngcontent-%COMP%]{display:block;text-align:center}.skillName[_ngcontent-%COMP%], .active-state[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 320px){#send_user_email_button[_ngcontent-%COMP%], #delete_button[_ngcontent-%COMP%]{width:100%}}'],data:{animation:[(0,Ei.X$)("inOutAnimation",[(0,Ei.eR)(":enter",[(0,Ei.oB)({height:0,opacity:0}),(0,Ei.jt)("0.2s ease-out",(0,Ei.oB)({height:300,opacity:1}))]),(0,Ei.eR)(":leave",[(0,Ei.oB)({height:300,opacity:1}),(0,Ei.jt)("0.2s ease-in",(0,Ei.oB)({height:0,opacity:0}))])])]}}),n})();const zne=["searchInputField"];function Kne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"th",16)(1,"mat-checkbox",17,18),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedAllUsers=r)})("change",function(){e.CHM(t);const r=e.MAs(2),a=e.oxw();return e.KtG(a.toggleAllUsersSelection(r._checked))}),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectedAllUsers),e.xp6(2),e.hij(" Users (",t.resultsLength,") ")}}function $ne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.MAs(2);return e.KtG(a(r))}),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("src",i.sanitizeExisting(t.image),e.LSH)}}function Xne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.MAs(2);return e.KtG(a(r))}),e.qZA()}}function eie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",19)(1,"mat-checkbox",20,21),e.NdJ("change",function(){const a=e.CHM(t).$implicit,s=e.MAs(2),l=e.oxw();return e.KtG(l.unSelectUser(s._checked,a.id))})("ngModelChange",function(r){const s=e.CHM(t).$implicit;return e.KtG(s.isSelected=r)}),e.qZA(),e.YNc(3,$ne,1,1,"img",22),e.TgZ(4,"span",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.MAs(2);return e.KtG(s(a))}),e._uU(5),e.qZA(),e.TgZ(6,"span",24),e._UZ(7,"i",25),e.qZA(),e.YNc(8,Xne,1,0,"ng-template",null,26,e.W1O),e.TgZ(10,"div",27)(11,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.MAs(2);return e.KtG(s(a))}),e._uU(12," User Details "),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.MAs(9),r=e.oxw();e.xp6(1),e.Q6J("ngModel",t.isSelected)("checked",r.isChecked(t.id)),e.xp6(2),e.Q6J("ngIf",t.image)("ngIfElse",i),e.xp6(2),e.Oqu(t.fullName)}}function tie(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1," Profile "),e.qZA())}function nie(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.profileName),e.xp6(1),e.hij(" ",t.profileName," ")}}function iie(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1," Linked Employee Number "),e.qZA())}function rie(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.employeeNumber),e.xp6(1),e.hij(" ",t.employeeNumber," ")}}function oie(n,o){1&n&&(e.TgZ(0,"th",33)(1,"span"),e._uU(2,"Actions"),e.qZA()())}const aie=function(n,o){return{"details-button-width-sm":n,"details-button-width-md":o}};function sie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",32)(1,"button",34),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectUser(a))}),e._uU(2," User Details "),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.s9C("id",t.actions),e.xp6(1),e.Q6J("ngClass",e.WLB(2,aie,i.isSm,!i.isSm))}}function lie(n,o){1&n&&e._UZ(0,"tr",35)}function cie(n,o){1&n&&e._UZ(0,"tr",36)}const die=function(){return[5,10,25,50,100,250]};let uie=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this._userService=t,this._messageService=i,this._router=r,this.mediaObserver=a,this.sanitizer=s,this._securityService=l,this._userRoleService=c,this._titleServeces=u,this.displayedColumns=["user","profileName","employeeNumber","actions"],this.dataSource=new N.by,this.employeeTableCtrl=new _.NI,this.tableSearchTerm="",this.resultsLength=0,this.clicked=!1,this.isSm=!1,this.minUpperChars=0,this.minSpecialChars=0,this.minNumericChars=0,this.passwordValidationMessage="Password must consist of at least ",this.paternValidationMessageList=new Array,this.selectedAllUsers=!1,this.usersList=[],this.totalNumberOfSelectedUsers=0,this.enableEditUserButton=!1,this.isSelectAllChecked=!1,this.selectedUsersList=[],this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this._userService.totalUsers.subscribe(h=>this.totalNumberOfSelectedUsers=h),this._userService.enableEditUserButton.subscribe(h=>this.enableEditUserButton=h),this._userService.assignProfile.subscribe(h=>{1==h&&(this._userService.selectedUsersId.next([]),this.toggleAllUsersSelection(!1),this.populateTableData())}),this._userService.getNumberOfSelectedUser(0)}ngAfterViewInit(){this._userService.isOnDetails.next(!1),this.populateTableData(),this.mediaObserver.asObservable().subscribe(t=>{switch(t[0].mqAlias){case"xs":case"sm":this.displayedColumns=["user","profileName","employeeNumber","actions"],this.isSm=!0;break;default:this.displayedColumns=["user","profileName","employeeNumber","actions"],this.isSm=!1}})}ngOnInit(){this._userService.paginationData.subscribe(t=>{t&&(this.paginationData=t,this.paginator.firstPage())}),this.getPasswordSpecifications(),"true"===window.history.state.myProfile&&(this.getLoggedUserId(),this.getRole())}getRole(){this._userRoleService.loggedUserRole.subscribe(t=>{this.role=t,"User"==this.role&&this._router.navigateByUrl("/manage-users/details",{state:{id:this.personalId,passMin:this.minimumPasswordLength,minUpperChars:this.minUpperChars,minSpecialChars:this.minSpecialChars,minNumericChars:this.minNumericChars,passwordValidationMessage:this.passwordValidationMessage}})})}getLoggedUserId(){this._userRoleService.loggedUserId.subscribe(t=>{this.personalId=t})}sanitizeExisting(t){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64,"+t)}selectUser(t){this._router.navigateByUrl("/manage-users/details",{state:{id:t.id,passMin:this.minimumPasswordLength,minUpperChars:this.minUpperChars,minSpecialChars:this.minSpecialChars,minNumericChars:this.minNumericChars,passwordValidationMessage:this.passwordValidationMessage}})}populateTableData(){this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page,this._userService.paginationData).pipe((0,_e.O)({}),(0,j.w)(()=>this._userService.getAllUsers("S",this.paginationData,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction,this.sort.active))).subscribe(t=>{setTimeout(()=>{this.resultsLength=t.totalCount,this.dataSource=t.items,this.usersList=t.items,this.selectedAllUsers?(this.toggleAllUsersSelection(!0),this.usersList.forEach(i=>-1===this.selectedUsersList.indexOf(i.id)?this.selectedUsersList.push(i.id):""),this._userService.getNumberOfSelectedUser(t.totalCount)):this._userService.getNumberOfSelectedUser(this.totalNumberOfSelectedUsers);for(let i=0;i<this.usersList.length;i++)for(let r=0;r<this.selectedUsersList.length;r++)this.usersList[i].id==this.selectedUsersList[r]&&(this.usersList[i].isSelected=!0)},0)})}getPasswordSpecifications(){this._securityService.getSecurity(!1).subscribe(t=>{let i;this.minimumPasswordLength=t.minimumLength,this.minUpperChars=t.minimumUpperCharacters,this.minSpecialChars=t.minimumSpecialCharacters,this.minNumericChars=t.minimumNumericCharacters,this.minUpperChars&&this.paternValidationMessageList.push(" "+this.minUpperChars+" uppercase character(s)"),this.minSpecialChars&&this.paternValidationMessageList.push(" "+this.minSpecialChars+" special character(s)"),this.minNumericChars&&this.paternValidationMessageList.push(" "+this.minNumericChars+" number(s)"),1==this.paternValidationMessageList.length&&(this.passwordValidationMessage+=this.paternValidationMessageList[0]),this.paternValidationMessageList.length>1&&(i=this.paternValidationMessageList.join(),this.passwordValidationMessage+=i)},t=>{this._messageService.open("Error retrieving security settings")})}toggleAllUsersSelection(t){this.isSelectAllChecked=t,this.usersList.forEach(i=>i.isSelected=t),t?this.totalNumberOfSelectedUsers=this.resultsLength:t||(this.totalNumberOfSelectedUsers=0,this.selectedUsersList=[]),this._userService.getNumberOfSelectedUser(this.totalNumberOfSelectedUsers),this.updateSelectedUserIds()}unSelectUser(t,i){t?(this.resultsLength-1==this.totalNumberOfSelectedUsers&&(this.selectedAllUsers=!0),this.totalNumberOfSelectedUsers=this.totalNumberOfSelectedUsers+1,this.isSelectAllChecked=t,this.selectedUsersList.push(i)):(this.selectedAllUsers=!1,this.totalNumberOfSelectedUsers=this.totalNumberOfSelectedUsers-1,this.selectedUsersList=this.selectedUsersList.filter(r=>r!=i)),this._userService.getNumberOfSelectedUser(this.totalNumberOfSelectedUsers),this.updateSelectedUserIds()}updateSelectedUserIds(){let t=[];this.usersList.forEach(i=>{i.isSelected&&t.push(i.id)}),this._userService.selectedUsersId.next(t)}onKeydownEscape(){this.selectedAllUsers=!1,this.usersList.forEach(t=>{t.isSelected=!1}),this.totalNumberOfSelectedUsers=0,this._userService.getNumberOfSelectedUser(this.totalNumberOfSelectedUsers)}getNumberOfUsersSelected(){return this.totalNumberOfSelectedUsers}isChecked(t){for(let i=0;i<this.selectedUsersList.length;i++)if(t==this.selectedUsersList[i])return!0;return!1}ngOnDestroy(){this.paginationData=[],this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(jn),e.Y36(se.G),e.Y36(q.F0),e.Y36(Cu),e.Y36(we.H7),e.Y36(hs.I),e.Y36(qi.J),e.Y36(ce.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-table"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(zne,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.searchInput=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("keydown.escape",function(a){return i.onKeydownEscape(a)},!1,e.evT)},decls:19,vars:8,consts:[[1,"user-table-container"],[1,"g-thin-black-scroll-bar","user-table-scroll"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","user"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","profileName"],["mat-header-cell","","mat-sort-header","","class","hidden-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","hidden-on-small-screen",3,"id",4,"matCellDef"],["matColumnDef","employeeNumber"],["matColumnDef","actions"],["mat-header-cell","","class","hidden-on-small-screen",4,"matHeaderCellDef"],["mat-header-row","","class","user-table-row",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],[1,"mat-column-checkbox",3,"ngModel","ngModelChange","change"],["selectAll",""],["mat-cell",""],[1,"mat-column-checkbox",3,"ngModel","checked","change","ngModelChange"],["selectUser",""],["class","table-image-md-lg","id","table-image",3,"src","click",4,"ngIf","ngIfElse"],[1,"user-name-span",3,"click"],[1,"user-table-chevron","pull-right"],[1,"fa","fa-chevron-right","user-chevron-icon"],["defaultImage",""],[1,"visible-on-small-screen","pull-right","sm-size-button"],[1,"btn","details-button","border-none",3,"click"],["id","table-image",1,"table-image-md-lg",3,"src","click"],["id","table-image","src","assets/images/default-avatar.jpg",1,"table-image-md-lg",3,"click"],["mat-header-cell","","mat-sort-header","",1,"hidden-on-small-screen"],["mat-cell","",1,"hidden-on-small-screen",3,"id"],["mat-header-cell","",1,"hidden-on-small-screen"],[1,"btn","details-button","border-none","pull-right",3,"ngClass","click"],["mat-header-row","",1,"user-table-row"],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table",2),e.ynx(3,3),e.YNc(4,Kne,4,2,"th",4),e.YNc(5,eie,13,5,"td",5),e.BQk(),e.ynx(6,6),e.YNc(7,tie,2,0,"th",7),e.YNc(8,nie,2,2,"td",8),e.BQk(),e.ynx(9,9),e.YNc(10,iie,2,0,"th",7),e.YNc(11,rie,2,2,"td",8),e.BQk(),e.ynx(12,10),e.YNc(13,oie,3,0,"th",11),e.YNc(14,sie,3,5,"td",8),e.BQk(),e.YNc(15,lie,1,0,"tr",12),e.YNc(16,cie,1,0,"tr",13),e.qZA()(),e._UZ(17,"mat-paginator",14,15),e.qZA()),2&t&&(e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(7,die)))},dependencies:[D.mk,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,Zi.oG,_.JJ,_.On,$n,di],styles:["table[_ngcontent-%COMP%]{width:98%}.eSolvechevron[_ngcontent-%COMP%]{position:relative;width:11%}.user-chevron-icon[_ngcontent-%COMP%]{color:#c6c6c6;font-size:11px}.table-image-md-lg[_ngcontent-%COMP%]{height:35px;width:35px;padding:4px;border-radius:50%;cursor:pointer}.user-name-span[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer}.user-table-container[_ngcontent-%COMP%]{position:relative;overflow:auto;border-radius:5px 5px 0 0;top:-14px}.myHeader[_ngcontent-%COMP%], .myCell[_ngcontent-%COMP%]{-ms-flex:0 0 100px;flex:0 0 100px;white-space:nowrap}.details-button-width-sm[_ngcontent-%COMP%]{width:110px}.details-button-width-md[_ngcontent-%COMP%]{width:140px}.details-button[_ngcontent-%COMP%]{height:28px;font-size:11px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary)}.g-thin-black-scroll-bar.user-table-scroll[_ngcontent-%COMP%]{height:calc(100vh - 250px);overflow-wrap:break-word}@media (max-width: 370px){.sm-size-button[_ngcontent-%COMP%]{width:100%}}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:21%;font-size:12px}th[_ngcontent-%COMP%]{font-weight:700}@media only screen and (max-width: 767px),(min-device-width: 320px) and (max-device-width: 640px){.esolve-chevron-container[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:12px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{border-bottom:0}.mat-paginator-page-size-select[_ngcontent-%COMP%]{margin:6px 4px 0;width:56px!important}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}.details-button[_ngcontent-%COMP%]{margin-top:3px}}.visible-on-small-screen[_ngcontent-%COMP%]{display:none!important}.user-table-chevron[_ngcontent-%COMP%]{padding-top:8px}.mat-column-user[_ngcontent-%COMP%]{padding-left:0!important;padding-right:10%;position:relative;width:35%}.mat-column-profile[_ngcontent-%COMP%], .mat-column-linkedEmployeeNumber[_ngcontent-%COMP%]{position:relative;width:25%}.mat-column-actions[_ngcontent-%COMP%]{padding-right:0!important;width:1%}.mat-column-checkbox[_ngcontent-%COMP%]{position:relative;top:5px;margin-right:5px;margin-left:5px}@media (max-width: 767px){table[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.user-table-chevron[_ngcontent-%COMP%]{display:none}.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-user[_ngcontent-%COMP%], .mat-column-profile[_ngcontent-%COMP%], .mat-column-linkedEmployeeNumber[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{width:100%}.mat-cell[_ngcontent-%COMP%]:first-of-type{border-top:1px solid #e0e0e0;margin-top:7px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-width:0px!important}.g-thin-black-scroll-bar.user-table-scroll[_ngcontent-%COMP%]{height:calc(100vh - 371px);overflow-wrap:break-word}}"]}),n})(),ck=(()=>{class n{constructor(){}canDeactivate(t){return!!t.userForm.pristine||confirm((0,St.dS)())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class pie{constructor(o,t,i,r,a,s,l,c,u,h,x){this.id=o,this.reportType=t,this.selectedSchedules=i,this.startDate=r,this.endDate=a,this.selectedDateAll=s,this.employeeData=l,this.employees=c,this.employeesSelectedAll=u,this.reportGroups=h,this.additionalOption=x}}class fie{constructor(o,t,i,r,a,s){this.id=o,this.schedules=t,this.employeeData=i,this.employees=r,this.reportGroups=a,this.startDateOfPeriod=s}}let hie=(()=>{class n{constructor(t){this.http=t}getTypes(){return new A.y(t=>{this.http.get(S.j.URLreport+"reportTypes").subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getAllCustomReportData(t){return this.http.get(S.j.URLreport+"customReportData/"+t)}postPdf(t){return this.http.post(S.j.URLreport+"postPdfReport",t,{responseType:"arraybuffer"})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sr(n,o,t,i){var s,r=arguments.length,a=r<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,t,i);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(a=(r<3?s(a):r>3?s(o,t,a):s(o,t))||a);return r>3&&a&&Object.defineProperty(o,t,a),a}var _p,zo,ld,gie=["pdfViewerContainer"],pk=function _ie(n){var o=new n.EventBus(!0);return function vie(n){n.on("documentload",function(){var o=document.createEvent("CustomEvent");o.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(o)}),n.on("pagerendered",function(o){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagerendered",!0,!0,{pageNumber:o.pageNumber,cssTransform:o.cssTransform}),o.source.div.dispatchEvent(t)}),n.on("textlayerrendered",function(o){var t=document.createEvent("CustomEvent");t.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:o.pageNumber}),o.source.textLayerDiv.dispatchEvent(t)}),n.on("pagechanging",function(o){var t=document.createEvent("UIEvents");t.initEvent("pagechanging",!0,!0),t.pageNumber=o.pageNumber,o.source.container.dispatchEvent(t)}),n.on("pagesinit",function(o){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesinit",!0,!0,null),o.source.container.dispatchEvent(t)}),n.on("pagesloaded",function(o){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesloaded",!0,!0,{pagesCount:o.pagesCount}),o.source.container.dispatchEvent(t)}),n.on("scalechange",function(o){var t=document.createEvent("UIEvents");t.initEvent("scalechange",!0,!0),t.scale=o.scale,t.presetValue=o.presetValue,o.source.container.dispatchEvent(t)}),n.on("updateviewarea",function(o){var t=document.createEvent("UIEvents");t.initEvent("updateviewarea",!0,!0),t.location=o.location,o.source.container.dispatchEvent(t)}),n.on("find",function(o){if(o.source!==window){var t=document.createEvent("CustomEvent");t.initCustomEvent("find"+o.type,!0,!0,{query:o.query,phraseSearch:o.phraseSearch,caseSensitive:o.caseSensitive,highlightAll:o.highlightAll,findPrevious:o.findPrevious}),window.dispatchEvent(t)}}),n.on("attachmentsloaded",function(o){var t=document.createEvent("CustomEvent");t.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:o.attachmentsCount}),o.source.container.dispatchEvent(t)}),n.on("sidebarviewchanged",function(o){var t=document.createEvent("CustomEvent");t.initCustomEvent("sidebarviewchanged",!0,!0,{view:o.view}),o.source.outerContainer.dispatchEvent(t)}),n.on("pagemode",function(o){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagemode",!0,!0,{mode:o.mode}),o.source.pdfViewer.container.dispatchEvent(t)}),n.on("namedaction",function(o){var t=document.createEvent("CustomEvent");t.initCustomEvent("namedaction",!0,!0,{action:o.action}),o.source.pdfViewer.container.dispatchEvent(t)}),n.on("presentationmodechanged",function(o){var t=document.createEvent("CustomEvent");t.initCustomEvent("presentationmodechanged",!0,!0,{active:o.active,switchInProgress:o.switchInProgress}),window.dispatchEvent(t)}),n.on("outlineloaded",function(o){var t=document.createEvent("CustomEvent");t.initCustomEvent("outlineloaded",!0,!0,{outlineCount:o.outlineCount}),o.source.container.dispatchEvent(t)})}(o),o};function $1(){return"undefined"==typeof window}$1()||(zo=J(16036),ld=J(12813),zo.verbosity=zo.VerbosityLevel.ERRORS);var vp=function(){return(n=vp||(vp={}))[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",vp;var n}(),Ii=_p=function(){function n(o){var t;(0,I.Z)(this,n),this.element=o,this.isVisible=!1,this._cMapsUrl=void 0!==zo?"https://unpkg.com/pdfjs-dist@".concat(zo.version,"/cmaps/"):null,this._renderText=!0,this._renderTextMode=vp.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.isInitialized=!1,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),$1()||(t=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:"https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(zo.version,"/pdf.worker.min.js"),zo.GlobalWorkerOptions.workerSrc=t)}return(0,M.Z)(n,[{key:"cMapsUrl",set:function(t){this._cMapsUrl=t}},{key:"page",set:function(t){var i=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}},{key:"renderText",set:function(t){this._renderText=t}},{key:"renderTextMode",set:function(t){this._renderTextMode=t}},{key:"originalSize",set:function(t){this._originalSize=t}},{key:"showAll",set:function(t){this._showAll=t}},{key:"stickToPage",set:function(t){this._stickToPage=t}},{key:"zoom",get:function(){return this._zoom},set:function(t){t<=0||(this._zoom=t)}},{key:"zoomScale",get:function(){return this._zoomScale},set:function(t){this._zoomScale=t}},{key:"rotation",set:function(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}},{key:"externalLinkTarget",set:function(t){this._externalLinkTarget=t}},{key:"autoresize",set:function(t){this._canAutoResize=Boolean(t)}},{key:"fitToPage",set:function(t){this._fitToPage=Boolean(t)}},{key:"showBorders",set:function(t){this._showBorders=Boolean(t)}},{key:"ngAfterViewChecked",value:function(){var t=this;if(!this.isInitialized){var i=this.pdfViewerContainer.nativeElement.offsetParent;if(!0===this.isVisible&&null==i)return void(this.isVisible=!1);!1===this.isVisible&&null!=i&&(this.isVisible=!0,setTimeout(function(){t.ngOnInit(),t.ngOnChanges({src:t.src})}))}}},{key:"ngOnInit",value:function(){!$1()&&this.isVisible&&(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}},{key:"ngOnDestroy",value:function(){this.clear()}},{key:"onPageResize",value:function(){var t=this;!this._canAutoResize||!this._pdf||(this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.updateSize()},100))}},{key:"pdfLinkService",get:function(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}},{key:"pdfViewer",get:function(){return this.getCurrentViewer()}},{key:"pdfFindController",get:function(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}},{key:"ngOnChanges",value:function(t){if(!$1()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:vp.DISABLED,this.resetPdfDocument()):"showAll"in t&&this.resetPdfDocument(),"page"in t){if(t.page.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}},{key:"updateSize",value:function(){var t=this,i=this.getCurrentViewer();this._pdf.getPage(i.currentPageNumber).then(function(r){var a=t._rotation||r.rotate,s=r.getViewport({scale:t._zoom,rotation:a}).width*_p.CSS_UNITS,l=t._zoom,c=!0;if(!t._originalSize||t._fitToPage&&s>t.pdfViewerContainer.nativeElement.clientWidth){var u=r.getViewport({scale:1,rotation:a});l=t.getScale(u.width,u.height),c=!t._stickToPage}i._setScale(l,c)})}},{key:"clear",value:function(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}},{key:"setupMultiPageViewer",value:function(){var t=this;zo.disableTextLayer=!this._renderText,_p.setExternalLinkTarget(this._externalLinkTarget);var i=pk(ld);i.on("pagerendered",function(a){t.pageRendered.emit(a)}),i.on("pagechanging",function(a){t.pageScrollTimeout&&clearTimeout(t.pageScrollTimeout),t.pageScrollTimeout=setTimeout(function(){t._latestScrolledPage=a.pageNumber,t.pageChange.emit(a.pageNumber)},100)}),i.on("textlayerrendered",function(a){t.textLayerRendered.emit(a)}),this.pdfMultiPageLinkService=new ld.PDFLinkService({eventBus:i}),this.pdfMultiPageFindController=new ld.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:i});var r={eventBus:i,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:vp.DISABLED,findController:this.pdfMultiPageFindController};this.pdfMultiPageViewer=new ld.PDFViewer(r),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}},{key:"setupSinglePageViewer",value:function(){var t=this;zo.disableTextLayer=!this._renderText,_p.setExternalLinkTarget(this._externalLinkTarget);var i=pk(ld);i.on("pagechanging",function(a){a.pageNumber!=t._page&&(t.page=a.pageNumber)}),i.on("pagerendered",function(a){t.pageRendered.emit(a)}),i.on("textlayerrendered",function(a){t.textLayerRendered.emit(a)}),this.pdfSinglePageLinkService=new ld.PDFLinkService({eventBus:i}),this.pdfSinglePageFindController=new ld.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:i});var r={eventBus:i,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:vp.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new ld.PDFSinglePageViewer(r),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}},{key:"getValidPageNumber",value:function(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}},{key:"getDocumentParams",value:function(){var t=typeof this.src;if(!this._cMapsUrl)return this.src;var i={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===t?i.url=this.src:"object"===t&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}},{key:"loadPDF",value:function(){var t=this;if(this.src){if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=zo.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=function(r){t.onProgress.emit(r)};var i=this.src;this.loadingTask.promise.then(function(r){t._pdf=r,t.lastLoaded=i,t.afterLoadComplete.emit(r),t.pdfMultiPageViewer||(t.setupMultiPageViewer(),t.setupSinglePageViewer()),t.resetPdfDocument(),t.update()},function(r){t.onError.emit(r)})}}},{key:"update",value:function(){this.page=this._page,this.render()}},{key:"render",value:function(){var t=this;this._page=this.getValidPageNumber(this._page);var i=this.getCurrentViewer();(0!==this._rotation||i.pagesRotation!==this._rotation)&&setTimeout(function(){i.pagesRotation=t._rotation}),this._stickToPage&&setTimeout(function(){i.currentPageNumber=t._page}),this.updateSize()}},{key:"getScale",value:function(t,i){var r=this._showBorders?2*_p.BORDER_WIDTH:0,a=this.pdfViewerContainer.nativeElement.clientWidth-r,s=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===s||0===i||0===a||0===t)return 1;var l=1;switch(this._zoomScale){case"page-fit":l=Math.min(s/i,a/t);break;case"page-height":l=s/i;break;default:l=a/t}return this._zoom*l/_p.CSS_UNITS}},{key:"getCurrentViewer",value:function(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}},{key:"resetPdfDocument",value:function(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}}],[{key:"getLinkTarget",value:function(t){switch(t){case"blank":return zo.LinkTarget.BLANK;case"none":return zo.LinkTarget.NONE;case"self":return zo.LinkTarget.SELF;case"parent":return zo.LinkTarget.PARENT;case"top":return zo.LinkTarget.TOP}return null}},{key:"setExternalLinkTarget",value:function(t){var i=_p.getLinkTarget(t);null!==i&&(zo.externalLinkTarget=i)}}]),n}();Ii.\u0275fac=function(o){return new(o||Ii)(e.Y36(e.SBq))},Ii.\u0275cmp=e.Xpm({type:Ii,selectors:[["pdf-viewer"]],viewQuery:function(o,t){var i;1&o&&e.Gf(gie,5),2&o&&e.iGM(i=e.CRH())&&(t.pdfViewerContainer=i.first)},hostBindings:function(o,t){1&o&&e.NdJ("resize",function(){return t.onPageResize()},!1,e.Jf7)},inputs:{cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"],src:"src"},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:relative;height:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer>span{color:transparent;position:absolute;white-space:pre;cursor:text;-webkit-transform-origin:0 0;transform-origin:0 0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::-moz-selection{background:#00f}[_nghost-%COMP%]     .textLayer ::selection{background:#00f}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{background-color:#000;content:"";display:block;position:absolute;height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute;border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation{cursor:pointer}[_nghost-%COMP%]     .pdfViewer{padding-bottom:10px}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid rgba(0,0,0,.01);box-sizing:initial;background-clip:content-box;-webkit-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;-o-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.removePageBorders{padding-bottom:0}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle;margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==) center no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-ms-fullscreen .pdfViewer .page{margin-bottom:100%!important}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page{margin-bottom:100%;border:0}[_nghost-%COMP%]     .pdfPresentationMode:-moz-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}']}),Ii.CSS_UNITS=96/72,Ii.BORDER_WIDTH=9,Ii.ctorParameters=function(){return[{type:e.SBq}]},Sr([(0,e.i9L)("pdfViewerContainer")],Ii.prototype,"pdfViewerContainer",void 0),Sr([(0,e.r_U)("after-load-complete")],Ii.prototype,"afterLoadComplete",void 0),Sr([(0,e.r_U)("page-rendered")],Ii.prototype,"pageRendered",void 0),Sr([(0,e.r_U)("text-layer-rendered")],Ii.prototype,"textLayerRendered",void 0),Sr([(0,e.r_U)("error")],Ii.prototype,"onError",void 0),Sr([(0,e.r_U)("on-progress")],Ii.prototype,"onProgress",void 0),Sr([(0,e.r_U)()],Ii.prototype,"pageChange",void 0),Sr([(0,e.IIB)()],Ii.prototype,"src",void 0),Sr([(0,e.IIB)("c-maps-url")],Ii.prototype,"cMapsUrl",null),Sr([(0,e.IIB)("page")],Ii.prototype,"page",null),Sr([(0,e.IIB)("render-text")],Ii.prototype,"renderText",null),Sr([(0,e.IIB)("render-text-mode")],Ii.prototype,"renderTextMode",null),Sr([(0,e.IIB)("original-size")],Ii.prototype,"originalSize",null),Sr([(0,e.IIB)("show-all")],Ii.prototype,"showAll",null),Sr([(0,e.IIB)("stick-to-page")],Ii.prototype,"stickToPage",null),Sr([(0,e.IIB)("zoom")],Ii.prototype,"zoom",null),Sr([(0,e.IIB)("zoom-scale")],Ii.prototype,"zoomScale",null),Sr([(0,e.IIB)("rotation")],Ii.prototype,"rotation",null),Sr([(0,e.IIB)("external-link-target")],Ii.prototype,"externalLinkTarget",null),Sr([(0,e.IIB)("autoresize")],Ii.prototype,"autoresize",null),Sr([(0,e.IIB)("fit-to-page")],Ii.prototype,"fitToPage",null),Sr([(0,e.IIB)("show-borders")],Ii.prototype,"showBorders",null),Sr([(0,e.L6J)("window:resize",[])],Ii.prototype,"onPageResize",null);var bie=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n}();function yie(n,o){if(1&n&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.id),e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function xie(n,o){if(1&n&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Report type",t.message.required," ")}}function Cie(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Schedule",t.message.required," ")}}function Tie(n,o){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,Cie,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.f.selectedSchedules.errors?null:t.f.selectedSchedules.errors.required)}}function wie(n,o){if(1&n&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function Die(n,o){if(1&n&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" ",t.message.negativeNumber," ")}}function Sie(n,o){if(1&n&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij(" Start/end date",t.message.required," ")}}function kie(n,o){if(1&n&&(e.TgZ(0,"div",86),e.YNc(1,wie,2,1,"div",87),e.YNc(2,Die,2,1,"div",87),e.YNc(3,Sie,2,1,"div",87),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate.errors?null:t.f.endDate.errors.matDatepickerParse)||(null==t.f.endDate.errors?null:t.f.endDate.errors.minlength)||(null==t.f.startDate.errors?null:t.f.startDate.errors.matDatepickerParse)||(null==t.f.startDate.errors?null:t.f.startDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",t.f.endDate.value&&t.f.startDate.value&&((null==t.f.endDate.errors?null:t.f.endDate.errors.negativeDate)||(null==t.f.startDate.errors?null:t.f.startDate.errors.negativeDate))),e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate.errors?null:t.f.endDate.errors.required)||(null==t.f.endDate.errors?null:t.f.endDate.errors.required))}}function Aie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.addemployeeData())}),e._uU(1,"Add Organisational Group"),e.qZA()}if(2&n){const t=e.oxw(4);e.Q6J("disabled",!t.validEmplAccessSelections)}}function Mie(n,o){if(1&n&&(e.TgZ(0,"ng-option",94),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function Oie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"i",95),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,a=e.oxw(4);return e.KtG(a.removeEmployeeData(r))}),e.qZA()()}}const Pie=function(){return{standalone:!0}};function Eie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"mat-checkbox",96),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(),s=a.index,l=a.$implicit,c=e.oxw(4);return e.KtG(c.toggleAllSelectionReportGroup(s,r,l.controls.fieldID.value,!1))})("ngModelChange",function(r){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.controls.isSelectedAll.value=r)}),e._uU(2,"Select All"),e.qZA()()}if(2&n){const t=e.oxw(),i=t.index,r=t.$implicit;e.xp6(1),e.MGl("id","selectAllReportGroup",i,""),e.Q6J("ngModel",r.controls.isSelectedAll.value)("ngModelOptions",e.DdM(3,Pie))}}function Iie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"ng-select",97),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(5);return r.updateselectedOrganisationalFields(),e.KtG(r.checkEmplAccArrayStatus())})("remove",function(){e.CHM(t);const r=e.oxw().index,a=e.oxw(4);return e.KtG(a.SelectOrganisationalGroupChanged(r))}),e.qZA()()}if(2&n){const t=e.oxw(),i=t.index,r=t.$implicit,a=e.oxw(4);e.xp6(1),e.MGl("id","fieldValues",i,""),e.Q6J("virtualScroll",!0)("clearable",!1)("clearSearchOnAdd",!0)("hideSelected",!0)("items",a.dataForGeneratingReport.employeeData[a.returnEmplPermIndex(r.controls.fieldID.value)].value)("required",r.controls.fieldID.value)("multiple",!0)}}function Nie(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.xp6(1),e.hij(" Selection",t.message.required," ")}}function Rie(n,o){if(1&n&&(e.TgZ(0,"div",86),e.YNc(1,Nie,2,1,"div",21),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",(null==t.controls.fieldValues.errors?null:t.controls.fieldValues.errors.required)||(null==t.controls.fieldID.errors?null:t.controls.fieldID.errors.required))}}function Fie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"i",95),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,a=e.oxw(4);return e.KtG(a.removeEmployeeData(r))}),e.qZA()()}}function Zie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",89)(2,"div",7)(3,"div",90)(4,"div")(5,"ng-select",91),e.NdJ("change",function(r){const s=e.CHM(t).index,l=e.oxw(4);return l.checkEmployeeData(r,s),e.KtG(l.updateselectedOrganisationalFields())}),e.YNc(6,Mie,2,2,"ng-option",92),e.ALo(7,"panelPermissionsPipe"),e.qZA()(),e.YNc(8,Oie,2,0,"div",21),e.YNc(9,Eie,3,4,"div",21),e.qZA(),e.TgZ(10,"div",93)(11,"div",16),e.YNc(12,Iie,2,8,"div",21),e.YNc(13,Rie,2,1,"div",58),e.qZA(),e.YNc(14,Fie,2,0,"div",21),e.qZA()()()()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(4);e.xp6(1),e.Q6J("formGroupName",i),e.xp6(4),e.MGl("id","fieldID",i,""),e.Q6J("virtualScroll",!0)("clearable",!1),e.xp6(1),e.Q6J("ngForOf",e.xi3(7,11,r.dataForGeneratingReport.employeeData,r.selectedEmployeeDataFields))("ngForTrackBy",r.trackByFn),e.xp6(2),e.Q6J("ngIf",!t.controls.fieldID.value),e.xp6(1),e.Q6J("ngIf",t.controls.fieldID.value),e.xp6(3),e.Q6J("ngIf",t.controls.fieldID.value),e.xp6(1),e.Q6J("ngIf",(null==t.controls.fieldValues?null:t.controls.fieldValues.touched)&&t.controls.fieldValues.errors||(null==t.controls.fieldID?null:t.controls.fieldID.touched)&&t.controls.fieldID.errors),e.xp6(1),e.Q6J("ngIf",t.controls.fieldID.value)}}function Lie(n,o){if(1&n&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Employee",t.message.required," ")}}function Uie(n,o){if(1&n&&(e.TgZ(0,"div",98)(1,"div",99),e._uU(2),e.qZA(),e.TgZ(3,"div",100),e._UZ(4,"i",101),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name)}}function jie(n,o){if(1&n&&(e.TgZ(0,"div",98)(1,"div",99),e._uU(2),e.qZA(),e.TgZ(3,"div",100),e._UZ(4,"i",101),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name)}}function Yie(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," Report Grouping is required. "),e.qZA())}function qie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",102)(1,"div",8)(2,"div",14)(3,"i",64),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.colapsAdditionalOptions())}),e.qZA(),e.TgZ(4,"label",33),e._uU(5," Additional Options: "),e.qZA()()(),e.TgZ(6,"div",35)(7,"div",37)(8,"label",33),e._uU(9," Time Format: "),e.qZA()(),e.TgZ(10,"div",37)(11,"div",103)(12,"ng-select",104)(13,"ng-option",105),e._uU(14," HH:MM "),e.qZA(),e.TgZ(15,"ng-option",106),e._uU(16," Decimal "),e.qZA()()()()()()}if(2&n){const t=e.oxw(4);e.xp6(3),e.Q6J("ngClass",t.collapsableAdditionalOptions?"fa-angle-double-up":"fa-angle-double-down"),e.xp6(3),e.Q6J("ngClass",t.collapsableAdditionalOptions?"non-visible":""),e.xp6(6),e.Q6J("clearable",!1)("searchable",!1)}}const X1=function(n,o){return{"non-visible":n,"disabled-employee-data":o}},fk=function(n){return[n]};function Jie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",7)(2,"div",24)(3,"div",14)(4,"label",25),e._uU(5," Select Schedule: "),e.qZA()(),e.TgZ(6,"div",26)(7,"div",16)(8,"ng-select",27),e.NdJ("add",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.selectScheduleAdded())})("remove",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.SelectScheduleChanged())}),e.qZA()(),e.TgZ(9,"div")(10,"i",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.clearSelectSchedules())}),e.qZA()()()(),e.YNc(11,Tie,2,1,"div",20),e.TgZ(12,"div",29)(13,"mat-checkbox",30,31),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(14),a=e.oxw(3);return e.KtG(a.toggleAllSelectionSchedule(r._checked))}),e._uU(15,"Select All"),e.qZA()()(),e.TgZ(16,"div",7)(17,"div",32)(18,"div",14)(19,"label",33),e._uU(20," Select Period: "),e.qZA()(),e.TgZ(21,"div")(22,"p",34),e._uU(23),e.qZA()()(),e.TgZ(24,"div",8)(25,"div",35)(26,"mat-radio-group",null,36)(28,"div",7)(29,"div",37)(30,"mat-radio-button",38),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.changeDateOption("auto"))}),e._uU(31," Calendar Period "),e.qZA()(),e.TgZ(32,"div",39)(33,"button",40),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.changePeriodAuto("day"))}),e._uU(34,"Day"),e.qZA(),e.TgZ(35,"button",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.changePeriodAuto("week"))}),e._uU(36,"Week"),e.qZA(),e.TgZ(37,"button",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.changePeriodAuto("month"))}),e._uU(38,"Month"),e.qZA(),e.TgZ(39,"button",42),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.showPreviousDate())}),e.TgZ(40,"mat-icon"),e._uU(41,"chevron_left"),e.qZA()(),e.TgZ(42,"button",42),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.showNextDate())}),e.TgZ(43,"mat-icon",43),e._uU(44,"chevron_right"),e.qZA()()()(),e.TgZ(45,"div",7)(46,"div",44)(47,"mat-radio-button",45),e.NdJ("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.changeDateOption("manual"))}),e._uU(48,"Custom Period"),e.qZA()(),e.TgZ(49,"div",46)(50,"div")(51,"label",47),e._uU(52," From: "),e.qZA()(),e.TgZ(53,"div",48)(54,"div",49)(55,"input",50),e.NdJ("dateChange",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.dateInputsChanged())}),e.qZA(),e._UZ(56,"mat-datepicker",null,51),e.qZA(),e.TgZ(58,"div",52)(59,"img",53),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(57);return e.KtG(r.open())}),e.qZA()()(),e.TgZ(60,"div")(61,"label",54),e._uU(62," To: "),e.qZA()(),e.TgZ(63,"div",48)(64,"div",49)(65,"input",55),e.NdJ("dateChange",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.dateInputsChanged())}),e.qZA(),e._UZ(66,"mat-datepicker",null,56),e.qZA(),e.TgZ(68,"div",52)(69,"img",53),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(67);return e.KtG(r.open())}),e.qZA()(),e.TgZ(70,"div")(71,"i",57),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.clearSelectedDates())}),e.qZA()()()(),e.YNc(72,kie,4,3,"div",58),e.qZA()()()(),e.TgZ(73,"div",59)(74,"mat-checkbox",60,61),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(75),a=e.oxw(3);return e.KtG(a.toggleAllSelectionDate(r._checked))}),e._uU(76," Select entire date range. "),e.TgZ(77,"strong"),e._uU(78,"Warning:"),e.qZA(),e._uU(79," may result in long run times. "),e.qZA()()(),e.TgZ(80,"div",7)(81,"div",62)(82,"div",63)(83,"i",64),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.colapsEmployeeData())}),e.qZA(),e.TgZ(84,"label",33),e._uU(85," Select Organisational Group/ Employee(s): "),e.qZA()(),e.TgZ(86,"div",65)(87,"mat-checkbox",66,67),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(88),a=e.oxw(3);return e.KtG(a.toggleAllSelectionEmployee(r._checked))}),e._uU(89,"Select All"),e.qZA()()(),e.TgZ(90,"div",68),e.YNc(91,Aie,2,1,"button",69),e.qZA(),e.TgZ(92,"div",68)(93,"div",70),e.YNc(94,Zie,15,14,"div",71),e.qZA()(),e.TgZ(95,"div",72)(96,"label",73),e._uU(97," Select Specific Employee(s) "),e.qZA()(),e.TgZ(98,"div",74)(99,"div",16)(100,"ng-select",75),e.NdJ("add",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.selectEmployeeAdded("add"))})("remove",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.selectEmployeeAdded("remove"))}),e.qZA()(),e.TgZ(101,"div")(102,"i",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.clearEmployeeList())}),e.qZA()()(),e.YNc(103,Lie,2,1,"div",20),e.qZA(),e.TgZ(104,"div",76)(105,"div",8)(106,"div",14)(107,"i",64),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.colapsReportGrouping())}),e.qZA(),e.TgZ(108,"label",33),e._uU(109," Report Grouping: "),e.qZA()()(),e.TgZ(110,"div",35)(111,"div",77)(112,"div",35)(113,"div",78)(114,"p",79),e._uU(115,"Group By:"),e.qZA(),e.TgZ(116,"div",80,81),e.NdJ("cdkDropListDropped",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.drop(r))}),e.YNc(118,Uie,5,1,"div",82),e.qZA()(),e.TgZ(119,"div",78)(120,"p",79),e._uU(121,"Available to Group By:"),e.qZA(),e.TgZ(122,"div",83,84),e.NdJ("cdkDropListDropped",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.drop(r))}),e.YNc(124,jie,5,1,"div",82),e.qZA()()()(),e.YNc(125,Yie,2,0,"div",20),e.qZA()(),e.YNc(126,qie,17,4,"div",85),e.qZA()}if(2&n){const t=e.MAs(57),i=e.MAs(67),r=e.MAs(88),a=e.MAs(117),s=e.MAs(123),l=e.oxw(3);e.xp6(8),e.Q6J("virtualScroll",!0)("searchable",!l.scheduleAllSelected)("clearable",!1)("clearSearchOnAdd",!0)("hideSelected",!0)("items",l.dataForGeneratingReport.schedules)("multiple",!0),e.xp6(3),e.Q6J("ngIf",l.f.selectedSchedules.touched&&l.f.selectedSchedules.errors),e.xp6(12),e.Oqu(l.periodReadOnly),e.xp6(2),e.Q6J("ngClass",l.selectedPeriodAll?"disabled-dates":""),e.xp6(5),e.Q6J("checked","auto"===l.selectedPeriod),e.xp6(2),e.Q6J("ngClass","manual"==l.selectedPeriod||l.selectedPeriodAll?"disabled-date-part":""),e.xp6(1),e.Q6J("ngClass","day"==l.selectedPeriodAuto?"report-btn-active":"report-btn"),e.xp6(2),e.Q6J("ngClass","week"==l.selectedPeriodAuto?"report-btn-active":"report-btn"),e.xp6(2),e.Q6J("ngClass","month"==l.selectedPeriodAuto?"report-btn-active":"report-btn"),e.xp6(10),e.Q6J("checked","manual"===l.selectedPeriod),e.xp6(2),e.Q6J("ngClass","auto"==l.selectedPeriod||l.selectedPeriodAll?"disabled-date-part":""),e.xp6(6),e.Q6J("matDatepicker",t)("required","manual"==l.selectedPeriod)("dateLengthTracker",l.dateLength),e.xp6(10),e.Q6J("matDatepicker",i)("required","manual"==l.selectedPeriod)("dateLengthTracker",l.dateLength),e.xp6(7),e.Q6J("ngIf",l.f.startDate.touched&&l.f.startDate.errors||l.f.endDate.touched&&l.f.endDate.errors),e.xp6(11),e.Q6J("ngClass",l.collapsableEmployeeData?"fa-angle-double-up":"fa-angle-double-down"),e.xp6(7),e.Q6J("ngClass",e.WLB(51,X1,l.collapsableEmployeeData,l.disabledEmployeeData)),e.xp6(1),e.Q6J("ngIf",!l.allEmplPermsSelected),e.xp6(1),e.Q6J("ngClass",e.WLB(54,X1,l.collapsableEmployeeData,l.disabledEmployeeData)),e.xp6(2),e.Q6J("ngForOf",l.employeeDataArray.controls),e.xp6(1),e.Q6J("ngClass",e.WLB(57,X1,l.collapsableEmployeeData,l.disabledEmployeeData)),e.xp6(3),e.Q6J("ngClass",e.WLB(60,X1,l.collapsableEmployeeData,l.disabledEmployeeData)),e.xp6(2),e.Q6J("virtualScroll",!0)("clearable",!1)("clearSearchOnAdd",!0)("hideSelected",!0)("items",l.dataForGeneratingReport.employees)("multiple",!0)("required",!r._checked&&l.isEmployeeSelectRequired)("searchable",!l.employeeAllSelected),e.xp6(3),e.Q6J("ngIf",l.f.selectedEmployees.touched&&(null==l.f.selectedEmployees.errors?null:l.f.selectedEmployees.errors.required)),e.xp6(4),e.Q6J("ngClass",l.collapsableReportGrouping?"fa-angle-double-up":"fa-angle-double-down"),e.xp6(3),e.Q6J("ngClass",l.collapsableReportGrouping?"non-visible":""),e.xp6(2),e.Q6J("ngClass",l.invalidReportGroup?"invalid-reporting-group":"valid-reporting-group"),e.xp6(4),e.Q6J("cdkDropListData",l.dataForGeneratingReport.reportGroups)("cdkDropListConnectedTo",e.VKq(63,fk,s)),e.xp6(2),e.Q6J("ngForOf",l.dataForGeneratingReport.reportGroups),e.xp6(4),e.Q6J("cdkDropListData",l.availableToGroupByListData)("cdkDropListConnectedTo",e.VKq(65,fk,a)),e.xp6(2),e.Q6J("ngForOf",l.availableToGroupByListData),e.xp6(1),e.Q6J("ngIf",l.invalidReportGroup),e.xp6(1),e.Q6J("ngIf",1==l.reportType||3==l.reportType)}}const Hie=function(n,o){return{"ng-touched":n,"ng-invalid":o}};function Bie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.saveChanges())}),e.TgZ(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),e._uU(7," Run Report "),e.qZA(),e.TgZ(8,"button",10),e._uU(9,"Preview"),e.qZA()(),e.TgZ(10,"div",8),e._UZ(11,"hr",11),e.qZA()(),e.TgZ(12,"div",12)(13,"div",7)(14,"div",13)(15,"div",14)(16,"label",15),e._uU(17," Report Type: "),e.qZA()(),e.TgZ(18,"div",16)(19,"ng-select",17,18),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.reportTypeChanged(r))}),e.YNc(21,yie,2,3,"ng-option",19),e.qZA()()(),e.YNc(22,xie,2,1,"div",20),e.qZA(),e.YNc(23,Jie,127,67,"div",21),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.Q6J("formGroup",t.reportForm),e.xp6(19),e.Q6J("ngClass",e.WLB(7,Hie,t.invalidReportType,t.invalidReportType))("clearable",!1)("searchable",!1),e.xp6(2),e.Q6J("ngForOf",t.reportTypes),e.xp6(1),e.Q6J("ngIf",t.invalidReportType),e.xp6(1),e.Q6J("ngIf",t.reportTypeIsSelected)}}function Vie(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,Bie,24,10,"form",2),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.reportForm)}}function Gie(n,o){1&n&&e._UZ(0,"i",119)}function Wie(n,o){if(1&n&&(e.TgZ(0,"label",120),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.pageSubtitle," ")}}function Qie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",107)(5,"label",108),e._uU(6),e.qZA(),e.YNc(7,Gie,1,0,"i",109),e.YNc(8,Wie,2,1,"label",110),e.qZA(),e.TgZ(9,"div",111)(10,"button",112),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closePreview())}),e._uU(11,"Close"),e.qZA()(),e.TgZ(12,"div",8),e._UZ(13,"hr",113),e.qZA(),e.TgZ(14,"div",114)(15,"div",115)(16,"div")(17,"button",116),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.printReport())}),e._uU(18,"Print"),e.qZA()()()()(),e.TgZ(19,"div",117)(20,"div",8),e._UZ(21,"pdf-viewer",118),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngClass",""!=t.pageSubtitle?"gray-title":""),e.xp6(1),e.hij(" ",t.pageTitle," "),e.xp6(1),e.Q6J("ngIf",""!=t.pageSubtitle),e.xp6(1),e.Q6J("ngIf",""!=t.pageSubtitle),e.xp6(13),e.Q6J("src",t.pdfFile)("render-text",!0)}}let zie=(()=>{class n{constructor(t,i,r,a,s,l){this._titleService=t,this._fb=i,this.reportService=r,this.datePipe=a,this._messageService=s,this.router=l,this.pageTitle="Reports",this.pageSubtitle="",this.reportType=0,this.reportTypeIsSelected=!1,this.invalidReportType=!1,this.scheduleAllSelected=!1,this.employeeAllSelected=!1,this.selectedPeriod="auto",this.selectedPeriodAll=!1,this.selectedPeriodAuto="week",this.dataForGeneratingReport=new fie(0,null,null,null,null,null),this.invalidReportGroup=!1,this.disabledEmployeeData=!1,this.isEmployeeSelectRequired=!0,this.currentDate=new Date,this.startDate=new Date,this.endDate=new Date,this.periodReadOnly=".",this.availableToGroupByListData=[],this.allEmplPermsSelected=!1,this.validEmplAccessSelections=!0,this.showEmplAccessSelectionsWarning=!1,this.dateLength=ai.YG.length,this.collapsableEmployeeData=!1,this.collapsableReportGrouping=!0,this.collapsableAdditionalOptions=!0,this.selectedEmployeeDataFields=new Array,this.selectedSchedulesList=new Array,this.reportIsSubmited=!1,this.pdfLoading=!1}ngOnInit(){this._titleService.sendTitle(this.pageTitle),this.message=St.yw,this.getReportType(),this.buildReportForm()}buildReportForm(){this.invalidReportGroup=!1,this.availableToGroupByListData=[],this.reportForm=this._fb.group({id:0,selectedSchedules:[],selectedSchedulesAll:!1,startDate:[null],endDate:[null],selectedDateAll:!1,employeeData:new _.Oe([]),selectedEmployees:[],selectedEmployeesAll:!1,reportGrouping:new _.Oe([]),additionalOptions:[null]},{validators:[(0,hr.ex)("startDate","endDate")],asyncValidators:[]})}get f(){if(this.reportForm)return this.reportForm.controls}get employeeDataArray(){return this.reportForm.get("employeeData")}getReportType(){this.reportService.getTypes().subscribe(t=>{this.reportTypes=t}),this.periodReadOnly=this.datePipe.transform(this.currentDate,"dd MMMM yyyy")}reportTypeChanged(t){if(this.invalidReportType=!0,this.reportType=t,this.reportTypeIsSelected=""!=t,this.buildReportForm(),this.collapsableReportGrouping=!0,this.collapsableAdditionalOptions=!0,this.reportTypeIsSelected){var i=t;this.invalidReportType=!1,this.reportService.getAllCustomReportData(i).subscribe(r=>{this.dataForGeneratingReport=r,this.reportForm.get("additionalOptions").setValue("hour"),this.selectedPeriod="auto",this.selectedPeriodAuto="week",this.startDate=W(this.dataForGeneratingReport.startDateOfPeriod).toDate(),this.endDate=W(this.startDate,"DD-MM-YYYY").add(7,"days").toDate(),this.disabledEmployeeData=!1,this.selectedPeriodAll=!1,this.employeeAllSelected=!1,this.validEmplAccessSelections=!0,this.isEmployeeSelectRequired=!0,this.setPeriodReadOnly(this.startDate,this.endDate)})}}SelectScheduleChanged(){this.scheduleAllSelected&&(this.reportForm.get("selectedSchedulesAll").setValue(!1),this.scheduleAllSelected=!1)}selectScheduleAdded(){this.reportForm.get("selectedSchedules").value.length==this.dataForGeneratingReport.schedules.length&&(this.reportForm.get("selectedSchedulesAll").setValue(!0),this.scheduleAllSelected=!0)}clearSelectSchedules(){this.reportForm.get("selectedSchedules").patchValue([]),this.scheduleAllSelected&&(this.scheduleAllSelected=!1,this.reportForm.get("selectedSchedulesAll").setValue(!1))}toggleAllSelectionSchedule(t){t?(this.reportForm.get("selectedSchedules").patchValue(this.dataForGeneratingReport.schedules),this.scheduleAllSelected=!0):(this.reportForm.get("selectedSchedules").patchValue([]),this.scheduleAllSelected=!1)}changeDateOption(t){this.selectedPeriod=t,this.reportForm.get("startDate").setValue(null),this.reportForm.get("endDate").setValue(null),this.reportForm.get("startDate").setErrors(null),this.reportForm.get("endDate").setErrors(null),this.reportForm.get("startDate").markAsUntouched(),this.reportForm.get("endDate").markAsUntouched(),"auto"==t?(this.startDate=W(this.dataForGeneratingReport.startDateOfPeriod).toDate(),this.endDate=W(this.startDate,"DD-MM-YYYY").add(7,"days").toDate(),this.setPeriodReadOnly(this.startDate,this.endDate)):(this.periodReadOnly=".",this.selectedPeriodAuto="week")}changePeriodAuto(t){this.selectedPeriodAuto=t;var i=W();"day"==t?(this.startDate=new Date,this.endDate=this.startDate):"week"==t?(this.startDate=W(this.dataForGeneratingReport.startDateOfPeriod).toDate(),this.endDate=W(this.startDate,"DD-MM-YYYY").add(7,"days").toDate()):"month"==t&&(this.startDate=i.clone().startOf("month").toDate(),this.endDate=i.clone().endOf("month").toDate()),this.setPeriodReadOnly(this.startDate,this.endDate)}showPreviousDate(){"day"==this.selectedPeriodAuto?(this.startDate=W(this.startDate,"DD-MM-YYYY").add(-1,"days").toDate(),this.endDate=this.startDate):"week"==this.selectedPeriodAuto?(this.startDate=W(this.startDate,"DD-MM-YYYY").add(-1,"week").toDate(),this.endDate=W(this.endDate,"DD-MM-YYYY").add(-1,"week").toDate()):"month"==this.selectedPeriodAuto&&(this.startDate=W(this.startDate,"DD-MM-YYYY").add(-1,"month").toDate(),this.endDate=W(this.endDate,"DD-MM-YYYY").add(-1,"month").toDate()),this.setPeriodReadOnly(this.startDate,this.endDate)}showNextDate(){"day"==this.selectedPeriodAuto?(this.startDate=W(this.startDate,"DD-MM-YYYY").add(1,"days").toDate(),this.endDate=this.startDate):"week"==this.selectedPeriodAuto?(this.startDate=W(this.startDate,"DD-MM-YYYY").add(1,"week").toDate(),this.endDate=W(this.endDate,"DD-MM-YYYY").add(1,"week").toDate()):"month"==this.selectedPeriodAuto&&(this.startDate=W(this.startDate,"DD-MM-YYYY").add(1,"month").toDate(),this.endDate=W(this.endDate,"DD-MM-YYYY").add(1,"month").toDate()),this.setPeriodReadOnly(this.startDate,this.endDate)}setPeriodReadOnly(t,i){this.periodReadOnly=t!=i?this.datePipe.transform(t,"dd MMMM yyyy")+" - "+this.datePipe.transform(i,"dd MMMM yyyy"):this.datePipe.transform(t,"dd MMMM yyyy")}dateInputsChanged(){this.reportForm.get("startDate").valid&&this.reportForm.get("endDate").valid?this.setPeriodReadOnly(this.reportForm.get("startDate").value,this.reportForm.get("endDate").value):this.periodReadOnly="."}clearSelectedDates(){this.reportForm.get("startDate").setValue(null),this.reportForm.get("endDate").setValue(null),this.startDate=W(this.dataForGeneratingReport.startDateOfPeriod).toDate(),this.endDate=W(this.startDate,"DD-MM-YYYY").add(7,"days").toDate(),this.periodReadOnly="."}toggleAllSelectionDate(t){t?(this.selectedPeriodAll=!0,this.reportForm.get("startDate").setValue(null),this.reportForm.get("endDate").setValue(null),this.reportForm.get("startDate").setErrors(null),this.reportForm.get("endDate").setErrors(null),this.periodReadOnly=".",this.selectedPeriodAuto="week"):(this.selectedPeriodAll=!1,this.changeDateOption("auto"))}toggleAllSelectionEmployee(t){if(t){for(var i=this.employeeDataArray.length-1;i>=0;i--)this.removeEmployeeData(i);this.reportForm.get("selectedEmployees").patchValue([]),this.disabledEmployeeData=!0,this.reportForm.controls.selectedEmployees.setErrors(null),this.reportForm.controls.selectedEmployees.markAsUntouched()}else this.disabledEmployeeData=!1}newEmployeeData(){return this._fb.group({employeeDataID:0,fieldID:null,fieldName:null,fieldValues:[],isSelectedAll:!1})}resetEmployeeData(t,i,r,a){return this._fb.group({employeeDataID:t,fieldID:i,fieldName:this.dataForGeneratingReport.employeeData.find(s=>s.name==i).name,fieldValues:new _.NI(r),isSelectedAll:a})}addemployeeData(){this.employeeDataArray.push(this.newEmployeeData()),this.checkEmplPermsSelectionsNumber(),this.checkIsEmployeeSelectRequired()}updateselectedOrganisationalFields(){let t=this.reportForm.controls.employeeData.controls;this.selectedEmployeeDataFields=new Array,t.length&&t.forEach(i=>{i.controls.fieldID.value&&i.controls.fieldValues.value&&this.dataForGeneratingReport.employeeData.forEach(r=>{r.name===i.controls.fieldID.value&&this.selectedEmployeeDataFields.push(r)})})}checkEmployeeData(t,i){let r=this.reportForm.controls.employeeData.controls[i].value;if(void 0===t)this.employeeDataArray.setControl(i,this.newEmployeeData());else{let a=!1;this.dataForGeneratingReport.employeeData.find(s=>s.name==t).value.length>1&&(this.validEmplAccessSelections=!0,a=!0),this.employeeDataArray.setControl(i,this.resetEmployeeData(r.userEmployeePermissionID,r.fieldID,this.dataForGeneratingReport.employeeData.find(s=>s.name==t).value,a))}}checkEmplAccArrayStatus(){for(var t=0;t<this.reportForm.controls.employeeData.controls.length;t++){if(!(this.reportForm.controls.employeeData.controls[t].value.fieldID&&this.reportForm.controls.employeeData.controls[t].value.fieldValues&&this.reportForm.controls.employeeData.controls[t].value.fieldValues.length)){this.showEmplAccessSelectionsWarning=!0;break}this.validEmplAccessSelections=!0,this.showEmplAccessSelectionsWarning=!1}}removeEmployeeData(t){this.employeeDataArray.removeAt(t),this.checkEmplAccArrayStatus(),this.checkEmplPermsSelectionsNumber(),this.updateselectedOrganisationalFields(),this.checkIsEmployeeSelectRequired()}clearEmployeeList(){this.reportForm.get("selectedEmployees").patchValue([]),this.reportForm.get("selectedEmployeesAll").value&&this.reportForm.get("selectedEmployeesAll").setValue(!1),this.employeeAllSelected=!1}checkEmplPermsSelectionsNumber(){this.allEmplPermsSelected=7===this.employeeDataArray.length,0===this.employeeDataArray.length&&(this.validEmplAccessSelections=!0)}returnEmplPermIndex(t){return this.dataForGeneratingReport.employeeData.map(function(i){return i.name}).indexOf(t)}toggleAllSelectionReportGroup(t,i,r,a){i.checked||a?(this.reportForm.controls.employeeData.controls[t].controls.fieldValues.patchValue(this.dataForGeneratingReport.employeeData.find(s=>s.name===r).value),this.reportForm.controls.employeeData.controls[t].controls.isSelectedAll.patchValue(!0),this.scheduleAllSelected=!0,this.validEmplAccessSelections=!0):(this.reportForm.controls.employeeData.controls[t].controls.fieldValues.patchValue([]),this.reportForm.controls.employeeData.controls[t].controls.isSelectedAll.patchValue(!1),this.scheduleAllSelected=!1),this.updateselectedOrganisationalFields(),this.checkEmplAccArrayStatus()}SelectOrganisationalGroupChanged(t){this.reportForm.controls.employeeData.controls[t].controls.isSelectedAll.value&&this.reportForm.controls.employeeData.controls[t].controls.isSelectedAll.patchValue(!1)}colapsEmployeeData(){this.collapsableEmployeeData=!1===this.collapsableEmployeeData}selectEmployeeAdded(t){"add"==t?this.reportForm.get("selectedEmployees").value.length==this.dataForGeneratingReport.employees.length&&(this.employeeAllSelected=!0):this.employeeAllSelected=!1}checkIsEmployeeSelectRequired(){this.isEmployeeSelectRequired||(this.reportForm.get("selectedEmployees").markAsUntouched(),this.reportForm.get("selectedEmployees").setErrors(null)),this.isEmployeeSelectRequired=this.employeeDataArray.controls.length<1}drop(t){t.previousContainer===t.container?(0,oo.bA)(t.container.data,t.previousIndex,t.currentIndex):((0,oo.EA)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),t.previousContainer.id.split("-"),this.invalidReportGroup=0==this.dataForGeneratingReport.reportGroups.length)}colapsReportGrouping(){this.collapsableReportGrouping=!1===this.collapsableReportGrouping}colapsAdditionalOptions(){this.collapsableAdditionalOptions=!1===this.collapsableAdditionalOptions}saveChanges(){if(!this.reportForm.valid||1!=this.reportType&&2!=this.reportType&&3!=this.reportType||this.invalidReportGroup)this.reportForm.get("selectedSchedules").markAllAsTouched(),this.reportForm.get("selectedEmployees").markAllAsTouched(),"manual"==this.selectedPeriod&&(this.reportForm.get("startDate").markAllAsTouched(),this.reportForm.get("endDate").markAllAsTouched()),this.reportForm.get("employeeData").markAllAsTouched(),this.invalidReportType=!(this.reportType<4&&this.reportType>0),this._messageService.open(this.message.fillForm);else{var t=new pie(0,null,null,null,null,!1,null,null,!1,null,null);t.reportType=this.reportTypes.find(i=>i.id===+this.reportType),t.selectedSchedules=this.reportForm.controls.selectedSchedules.value,"auto"==this.selectedPeriod?(t.startDate=this.datePipe.transform(this.startDate,"yyyy-MM-dd"),t.endDate=this.datePipe.transform(this.endDate,"yyyy-MM-dd")):"manual"==this.selectedPeriod&&(t.startDate=this.datePipe.transform(this.reportForm.controls.startDate.value,"yyyy-MM-dd"),t.endDate=this.datePipe.transform(this.reportForm.controls.endDate.value,"yyyy-MM-dd")),t.selectedDateAll=this.reportForm.controls.selectedDateAll.value,t.employeeData=this.reportForm.controls.employeeData.value,t.employees=this.reportForm.controls.selectedEmployees.value,t.employeesSelectedAll=this.reportForm.controls.selectedEmployeesAll.value,t.reportGroups=this.dataForGeneratingReport.reportGroups,t.additionalOption=this.reportForm.controls.additionalOptions.value,this.pdfLoading=!0,this.reportService.postPdf(t).subscribe(i=>{this.pdfFile=URL.createObjectURL(new Blob([i],{type:"application/pdf"})),this.reportIsSubmited=!0,this.pageTitle="Report - Selection",this.pageSubtitle=t.reportType.name,this.pdfLoading=!1})}}closePreview(){this.reportIsSubmited=!1,this.pageSubtitle="",this.buildReportForm(),this.reportType=0,this.reportTypeIsSelected=!1,this.allEmplPermsSelected=!1}printReport(){window.print()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(_.qu),e.Y36(hie),e.Y36(D.uU),e.Y36(se.G),e.Y36(q.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reports"]],decls:2,vars:2,consts:[["class","container-fluid report-container-fluid",4,"ngIf"],[1,"container-fluid","report-container-fluid"],["novalidate","","autocomplete","off","id","reportForm",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","","autocomplete","off","id","reportForm",3,"formGroup","ngSubmit"],["ef","ngForm"],[1,"report-card"],[1,"report-card-body"],[1,"row"],[1,"col-12"],[1,"page-title","page-title-color","page-title-margin"],["type","submit",1,"btn","preview-btn"],[1,"blue-line"],[1,"main-container"],[1,"col-12","d-flex","justify-content-start","align-center","reports-small-screen-column"],[1,"min-width-120px"],["for","eSolveReportType","id","jobTypeLabel",1,"col-form-label","col-form-label-sm","font12bolder"],[1,"full-width"],["name","reportType","id","eSolveReportType","required","","dropdownPosition","bottom",1,"esolve-single-select","font12",3,"ngClass","clearable","searchable","change"],["reportTypeSelect",""],[3,"id","value",4,"ngFor","ngForOf"],["class","col-12 validationError padding135left",4,"ngIf"],[4,"ngIf"],[3,"id","value"],[1,"col-12","validationError","padding135left"],[1,"col-12","d-flex","justify-content-start","align-center","margin-top-15","reports-display-block-small-screen"],["for","eSolveSelectSchedules","id","eSolveSelectSchedules",1,"col-form-label","col-form-label-sm","font12bolder"],[1,"d-flex","justify-content-start","full-width"],["formControlName","selectedSchedules","id","eSolveSelectSchedules","bindLabel","name","placeholder","Select schedule","dropdownPosition","bottom","required","",1,"g-esolve-multi-select","min-width-495px",3,"virtualScroll","searchable","clearable","clearSearchOnAdd","hideSelected","items","multiple","add","remove"],[1,"fa","fa-trash-o","trash-can-icon",3,"click"],[1,"col-12","padding135left","d-flex","justify-content-end"],["formControlName","selectedSchedulesAll",1,"font12","g-margin-bottom-5",3,"change"],["selectAllSchedules",""],[1,"col-12","d-flex","justify-content-start","align-center"],[1,"col-form-label","col-form-label-sm","font12bolder"],[1,"font12","periodField"],[3,"ngClass"],["dateRadioButtons",""],[1,"col-12","padding135left"],["value","auto",1,"report-radio-btn","font12bolder",3,"checked","change"],[1,"col-12","d-flex","justify-content-start","padding165left",3,"ngClass"],["type","button",1,"btn",3,"ngClass","click"],["type","button",1,"btn","report-btn",3,"ngClass","click"],["type","button","mat-icon-button","","mat-stroked-button","",1,"eSolve-next-prev",3,"click"],["aria-hidden","false"],[1,"col-12","padding135left","margin-top-15"],["value","manual",1,"font12bolder",3,"checked","change"],[1,"col-12","d-flex","justify-content-start","padding165left","responsiveFlexDirectionColumn",3,"ngClass"],["for","startDate",1,"col-form-label","col-form-label-sm","font12bolder","margin-right-10"],[1,"d-flex","justify-content-start"],[1,"min-width-150px"],["type","text","id","startDate","name","startDate","formControlName","startDate",1,"form-control","form-control-sm","full-width","font12",3,"matDatepicker","required","dateLengthTracker","dateChange"],["reportFromDatePicker",""],["id","eSolveDateIconContainer"],["src","assets/icons/calendar-icon.png","id","calendar-icon-img",3,"click"],["for","endDate",1,"col-form-label","col-form-label-sm","font12bolder","margin-right-10"],["type","text","id","endDate","name","endDate","formControlName","endDate",1,"form-control","form-control-sm","full-width","font12",3,"matDatepicker","required","dateLengthTracker","dateChange"],["reportToDatePicker",""],[1,"fa","fa-trash-o","trash-can-icon-date",3,"click"],["class","validationError",4,"ngIf"],[1,"col-12","padding135left","margin-top-20","d-flex","justify-content-end"],["formControlName","selectedDateAll",1,"font11","selectAllPeriod",3,"change"],["selectAllDate",""],[1,"col-12","d-flex","justify-content-between","align-center"],[1,"min-width-120px","selectOrganisationalFieldTitle"],["aria-hidden","true",1,"fa","collapsable-btn",3,"ngClass","click"],[1,"selectAllEmplConstainer"],["formControlName","selectedEmployeesAll",1,"font12",3,"change"],["selectAllEmployees",""],[1,"col-12","padding135left",3,"ngClass"],["class","btn report-btn-organisational-group","type","button",3,"disabled","click",4,"ngIf"],["formArrayName","employeeData"],[4,"ngFor","ngForOf"],[1,"col-12","padding135left","margin-top-15",3,"ngClass"],["for","eSolveSelectedEmployees","id","",1,"col-form-label","col-form-label-sm","font12bolder"],[1,"col-12","d-flex","justify-content-start","padding135left",3,"ngClass"],["formControlName","selectedEmployees","id","eSolveSelectedEmployees","bindLabel","name","placeholder","Select employees","dropdownPosition","bottom","dropdownPosition","top",1,"g-esolve-multi-select","min-width-495px",3,"virtualScroll","clearable","clearSearchOnAdd","hideSelected","items","multiple","required","searchable","add","remove"],[1,"row","margin-top-20"],[1,"col-12","padding135left","reportGroupingMainConstainer"],[1,"report-grouping-container"],[1,"reportGroupingHeader"],["cdkDropList","","formArrayName","reportGrouping",1,"report-grouping-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["groupByList","cdkDropList"],["class","report-grouping-box-container d-flex justify-content-between","cdkDragBoundary",".reportGroupingMainConstainer","cdkDrag","",4,"ngFor","ngForOf"],["cdkDropList","",1,"report-grouping-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["availableToGroupByList","cdkDropList"],["class","row margin-top-15",4,"ngIf"],[1,"validationError"],["class","col-12 padding135left",4,"ngIf"],["type","button",1,"btn","report-btn-organisational-group",3,"disabled","click"],[3,"formGroupName"],[1,"col-12","d-flex","justify-content-between","margin-top-15"],["formControlName","fieldID","placeholder","Organisational Field","dropdownPosition","bottom","required","",1,"user-details","font12","width160",3,"id","virtualScroll","clearable","change"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","d-flex","justify-content-start"],[3,"value"],["aria-hidden","true",1,"fa","fa-trash-o","trash-can-icon",3,"click"],[1,"font12","selectAllReportGroup",3,"id","ngModel","ngModelOptions","change","ngModelChange"],["formControlName","fieldValues","bindLabel","name","placeholder","Selections Within Group","dropdownPosition","bottom",1,"g-esolve-multi-select","min-width-495px","font12",3,"id","virtualScroll","clearable","clearSearchOnAdd","hideSelected","items","required","multiple","change","remove"],["cdkDragBoundary",".reportGroupingMainConstainer","cdkDrag","",1,"report-grouping-box-container","d-flex","justify-content-between"],[1,"report-grouping-box"],[1,"dragIndicator"],[1,"fa","fa-ellipsis-v"],[1,"row","margin-top-15"],["id","additionalOptionsContainer"],["formControlName","additionalOptions","name","additionalOptions","id","additionalOptions","required","","dropdownPosition","top",1,"esolve-single-select","font12",3,"clearable","searchable"],["id","1","value","hour","selected","true"],["id","2","value","decimal"],[1,"col-md-10"],[1,"page-title",3,"ngClass"],["class","fa fa-chevron-right esolve-emp-details-title",4,"ngIf"],["class","page-title",4,"ngIf"],[1,"col-md-2","d-flex","justify-content-end","d-print-none"],["type","button",1,"btn","close-btn",3,"click"],["id","greenLinePreviewReport",1,"blue-line"],[1,"col-12","d-print-none"],[1,"d-flex","justify-content-end","print-buttons"],["type","submit",1,"btn","print-btn",3,"click"],[1,"row","pdf-container"],[1,"pdf-viewer-style",3,"src","render-text"],[1,"fa","fa-chevron-right","esolve-emp-details-title"],[1,"page-title"]],template:function(t,i){1&t&&(e.YNc(0,Vie,2,1,"div",0),e.YNc(1,Qie,22,6,"div",0)),2&t&&(e.Q6J("ngIf",!i.reportIsSubmited),e.xp6(1),e.Q6J("ngIf",i.reportIsSubmited))},dependencies:[D.mk,D.sg,D.O5,Lo.lW,jg.Hw,Zi.oG,On.Mq,On.hl,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.On,_.sg,_.u,_.x0,_.CE,Tt,$t,Sn,tr,oo.Wj,oo.Zt,Ii,$n,rr,z1],styles:[".page-title[_ngcontent-%COMP%]{font-weight:700;font-size:17px;margin-left:0;color:var(--eSolve-primary)}.blue-line[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-top:0}.full-width[_ngcontent-%COMP%]{width:100%}.main-container[_ngcontent-%COMP%]{width:653px;margin-left:20px;min-height:calc(100vh - 176px);min-height:-webkit-calc(100vh - 176px)}.report-container-fluid[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px}.report-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e1e6ec;border-radius:.25rem}.report-card-body[_ngcontent-%COMP%]{padding:15px}.page-title-margin[_ngcontent-%COMP%]{margin-left:20px}.periodField[_ngcontent-%COMP%]{width:425px;background-color:#e5e5e5;padding:2px 4px;border-radius:7px;text-align:center;font-weight:bolder;margin-bottom:0}.selectAllPeriod[_ngcontent-%COMP%]{border:1px dashed black;padding:2px 8px 3px}.reportGroupingHeader[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:bolder;color:#565d6f}#additionalOptionsContainer[_ngcontent-%COMP%]{width:250px;margin-bottom:15px}#additionalOptionsContainer[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:28px;box-shadow:none;margin-bottom:15px}.report-btn[_ngcontent-%COMP%]{font-size:12px;background-color:#fff;border-color:var(--eSolve-primary);color:#565d6f;box-shadow:none;padding:2px 8px;width:90px;border-radius:0;height:24px}.report-btn-active[_ngcontent-%COMP%]{font-size:12px;background-color:var(--eSolve-primary);color:#fff;box-shadow:none;padding:2px 8px;width:90px;border-radius:0;height:24px}.report-btn-organisational-group[_ngcontent-%COMP%]{font-size:12px;background-color:var(--eSolve-primary);color:#fff;box-shadow:none;width:160px;padding:2px 8px}.preview-btn[_ngcontent-%COMP%]{font-size:12px;background-color:var(--eSolve-primary);color:#fff;box-shadow:none;padding:2px 8px;width:110px;margin-bottom:1px;margin-top:1px;margin-left:52px;height:28px}.print-btn[_ngcontent-%COMP%]{background-color:#d6dce2;color:#404f64;font-size:12px;box-shadow:none;padding:2px 8px;width:110px;margin-bottom:1px;margin-top:1px;margin-left:5px;height:28px}.close-btn[_ngcontent-%COMP%]{background-color:#3f5064;color:#fff;font-size:12px;box-shadow:none;padding:2px 8px;width:110px;margin-bottom:1px;margin-top:1px;margin-left:5px;height:28px}.eSolve-next-prev[_ngcontent-%COMP%]{height:24px!important;line-height:22px;width:30px;border:none;margin-left:10px}.collapsable-btn[_ngcontent-%COMP%]{margin-right:5px;color:var(--eSolve-gray-dark);padding:0 2px;cursor:pointer}.report-radio-btn[_ngcontent-%COMP%]{position:relative;top:4px}.esolve-emp-details-title[_ngcontent-%COMP%]{padding-top:5px;padding-left:1%;padding-right:1%}.disabled-date-part[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.disabled-dates[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.invalid-reporting-group[_ngcontent-%COMP%]{background-color:#ededed;width:-moz-fit-content;width:fit-content;padding:8px 0 0;border-radius:6px;border:1px solid var(--eSolve-red)}.valid-reporting-group[_ngcontent-%COMP%]{background-color:#ededed;width:-moz-fit-content;width:fit-content;padding:8px 0 0;border-radius:6px;border:1px solid #a0a5ac}.disabled-employee-data[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}#calendar-icon-img[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:5px;border-radius:0%;position:relative;left:-30px;top:1px;cursor:pointer}.trash-can-icon[_ngcontent-%COMP%]{cursor:pointer;margin-left:15px}.trash-can-icon-date[_ngcontent-%COMP%]{cursor:pointer;margin-left:-13px}.report-grouping-container[_ngcontent-%COMP%]{width:180px;max-width:100%;margin:0 8px 8px;display:inline-block;vertical-align:top;font-size:12px}.report-grouping-list[_ngcontent-%COMP%]{height:160px;background:white;border-radius:4px;overflow:hidden;display:block;padding:0 15px 5px}.report-grouping-box[_ngcontent-%COMP%]{border:solid 1px #ccc;border-radius:5px;padding:3px;width:90%;text-align:center;background:white;font-size:12px}.report-grouping-box-container[_ngcontent-%COMP%]{margin-top:5px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box;background-color:#fff}.dragIndicator[_ngcontent-%COMP%]{cursor:move}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.report-grouping-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .report-grouping-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.min-width-120px[_ngcontent-%COMP%]{min-width:120px}.min-width-150px[_ngcontent-%COMP%]{min-width:150px}.min-width-495px[_ngcontent-%COMP%]{min-width:495px}.width160[_ngcontent-%COMP%]{width:160px}.padding135left[_ngcontent-%COMP%]{padding-left:135px}.padding165left[_ngcontent-%COMP%]{padding-left:165px}.margin-top-15[_ngcontent-%COMP%]{margin-top:15px}.margin-top-20[_ngcontent-%COMP%]{margin-top:20px}.margin-top-5[_ngcontent-%COMP%]{margin-top:5px}.margin-right-10[_ngcontent-%COMP%]{margin-right:10px}.selectAllEmplConstainer[_ngcontent-%COMP%]{margin-left:67px}.selectAllReportGroup[_ngcontent-%COMP%]{margin-left:15px}.font12[_ngcontent-%COMP%]{font-size:12px}.font11[_ngcontent-%COMP%]{font-size:11px}.font12bolder[_ngcontent-%COMP%]{font-size:12px;font-weight:bolder}#eSolveReportType[_ngcontent-%COMP%]{height:28px;box-shadow:none}.pdf-viewer-style[_ngcontent-%COMP%]{display:block;overflow:auto}@media (max-width: 767px){.print-buttons[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important;float:right}.close-btn[_ngcontent-%COMP%]{margin-bottom:5px}}@media (max-width: 765px){.main-container[_ngcontent-%COMP%], .page-title-margin[_ngcontent-%COMP%]{margin-left:0}.preview-btn[_ngcontent-%COMP%]{margin-left:32px}}@media (max-width: 715px){.main-container[_ngcontent-%COMP%]{width:100%}.min-width-495px[_ngcontent-%COMP%]{min-width:100%!important}.padding135left[_ngcontent-%COMP%]{padding-left:15px}.padding165left[_ngcontent-%COMP%]{padding-left:45px}.selectAllEmplConstainer[_ngcontent-%COMP%]{margin-left:7px}}@media (max-width: 605px){.periodField[_ngcontent-%COMP%]{width:270px}}@media (max-width: 565px){.selectAllPeriod[_ngcontent-%COMP%]{padding:3px 0 3px 8px}}@media (max-width: 520px){.responsiveFlexDirectionColumn[_ngcontent-%COMP%]{-ms-flex-direction:column!important;flex-direction:column!important}}@media (max-width: 463px){.valid-reporting-group[_ngcontent-%COMP%], .invalid-reporting-group[_ngcontent-%COMP%]{width:198px}}@media (max-width: 455px){.min-width-120px[_ngcontent-%COMP%]{min-width:90px}.preview-btn[_ngcontent-%COMP%]{margin-left:0;float:right}.report-btn[_ngcontent-%COMP%], .report-btn-active[_ngcontent-%COMP%]{width:60px}.periodField[_ngcontent-%COMP%]{width:200px}}@media (max-width: 375px){.selectOrganisationalFieldTitle[_ngcontent-%COMP%]{-ms-flex-pack:start!important;justify-content:flex-start!important;display:-ms-flexbox!important;display:flex!important}}@media (max-width: 352px){.periodField[_ngcontent-%COMP%]{width:170px}}@media (max-width: 395px){.reports-small-screen-column[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column}.reports-display-block-small-screen[_ngcontent-%COMP%]{display:block!important}}  .cdk-drag-dragging{display:none!important}.non-visible[_ngcontent-%COMP%]{display:none!important}.no-shadows[_ngcontent-%COMP%]{box-shadow:none!important}#greenLinePreviewReport[_ngcontent-%COMP%]{margin-bottom:5px}.pdf-container[_ngcontent-%COMP%]{margin-top:25px}.gray-title[_ngcontent-%COMP%]{color:gray}"]}),n})();class hk{constructor(o,t,i,r,a){this.id=o,this.start=W(t).toISOString(),this.end=W(i).add(1,"day").toISOString(),this.startStr=W(t).clone().toISOString(),this.endStr=W(i).clone().toISOString(),this.title=r,this.color=a,this.display="background",this.allDay=!0}}function eb(n,o){for(var t=[],i=0;i<o;i+=1)t[i]=[];var a,r=(0,te.Z)(n);try{for(r.s();!(a=r.n()).done;){var s=a.value;t[s.row].push(s)}}catch(l){r.e(l)}finally{r.f()}return t}function tb(n,o){for(var t=[],i=0;i<o;i+=1)t[i]=[];var a,r=(0,te.Z)(n);try{for(r.s();!(a=r.n()).done;){var s=a.value;t[s.firstCol].push(s)}}catch(l){r.e(l)}finally{r.f()}return t}function mk(n,o){var t=[];if(n){for(var r=0;r<o;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};var s,a=(0,te.Z)(n.segs);try{for(a.s();!(s=a.n()).done;){var l=s.value;t[l.row].segs.push(l)}}catch(c){a.e(c)}finally{a.f()}}else for(var i=0;i<o;i+=1)t[i]=null;return t}var gk=Bi({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function _k(n){var o=n.eventRange.ui.display;return"list-item"===o||"auto"===o&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var vk=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props;return ye(Wy,Object.assign({},r,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:gk,defaultDisplayEventEnd:r.defaultDisplayEventEnd,disableResizing:!r.seg.eventRange.def.allDay}))}}]),t}(Cn),bk=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.context,u=uw(r.seg,a.options.eventTimeFormat||gk,a,!0,r.defaultDisplayEventEnd);return ye(Gy,Object.assign({},r,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:pw(r.seg,a),defaultGenerator:Kie,timeText:u,isResizing:!1,isDateSelecting:!1}))}}]),t}(Cn);function Kie(n){return ye(Mn,null,ye("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&ye("div",{className:"fc-event-time"},n.timeText),ye("div",{className:"fc-event-title"},n.event.title||ye(Mn,null,"\xa0")))}var $ie=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).compileSegs=tn(Xie),i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.compileSegs(r.singlePlacements),s=a.allSegs;return ye(ex,{elClasses:["fc-daygrid-more-link"],dateProfile:r.dateProfile,todayRange:r.todayRange,allDayDate:r.allDayDate,moreCnt:r.moreCnt,allSegs:s,hiddenSegs:a.invisibleSegs,alignmentElRef:r.alignmentElRef,alignGridTop:r.alignGridTop,extraDateSpan:r.extraDateSpan,popoverContent:function(){var u=(r.eventDrag?r.eventDrag.affectedInstances:null)||(r.eventResize?r.eventResize.affectedInstances:null)||{};return ye(Mn,null,s.map(function(h){var x=h.eventRange.instance.instanceId;return ye("div",{className:"fc-daygrid-event-harness",key:x,style:{visibility:u[x]?"hidden":""}},_k(h)?ye(bk,Object.assign({seg:h,isDragging:!1,isSelected:x===r.eventSelection,defaultDisplayEventEnd:!1},dl(h,r.todayRange))):ye(vk,Object.assign({seg:h,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:x===r.eventSelection,defaultDisplayEventEnd:!1},dl(h,r.todayRange))))}))}})}}]),t}(Cn);function Xie(n){var r,o=[],t=[],i=(0,te.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;o.push(a.seg),a.isVisible||t.push(a.seg)}}catch(s){i.e(s)}finally{i.f()}return{allSegs:o,invisibleSegs:t}}var ere=Bi({week:"narrow"}),tre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).rootElRef={current:null},i.state={dayNumberId:Sg()},i.handleRootEl=function(r){cl(i.rootElRef,r),cl(i.props.elRef,r)},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.context,a=this.props,s=this.state,l=this.rootElRef,c=r.options,h=a.date,x=a.dateProfile,T=a.showDayNumber&&function ire(n,o,t){var i=o.start,r=o.end,a=ed(r,-1),s=t.getYear(i),l=t.getMonth(i),c=t.getYear(a),u=t.getMonth(a);return!(s===c&&l===u)&&Boolean(n.valueOf()===i.valueOf()||1===t.getDay(n)&&n.valueOf()<r.valueOf())}(h,x.currentRange,r.dateEnv);return ye(Qy,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day"].concat((0,K.Z)(a.extraClassNames||[])),elAttrs:Object.assign(Object.assign(Object.assign({},a.extraDataAttrs),a.showDayNumber?{"aria-labelledby":s.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:nre,date:h,dateProfile:x,todayRange:a.todayRange,showDayNumber:a.showDayNumber,isMonthStart:T,extraRenderProps:a.extraRenderProps},function(O,U){return ye("div",{ref:a.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:a.minHeight}},a.showWeekNumber&&ye(zw,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Fg(r,h,"week"),date:h,defaultFormat:ere}),!U.isDisabled&&(a.showDayNumber||zy(c)||a.forceDayTop)?ye("div",{className:"fc-daygrid-day-top"},ye(O,{elTag:"a",elClasses:["fc-daygrid-day-number",T&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Fg(r,h)),{id:s.dayNumberId})})):a.showDayNumber?ye("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ye("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,ye("div",{className:"fc-daygrid-day-events",ref:a.fgContentElRef},a.fgContent,ye("div",{className:"fc-daygrid-day-bottom",style:{marginTop:a.moreMarginTop}},ye($ie,{allDayDate:h,singlePlacements:a.singlePlacements,moreCnt:a.moreCnt,alignmentElRef:l,alignGridTop:!a.showDayNumber,extraDateSpan:a.extraDateSpan,dateProfile:a.dateProfile,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,todayRange:a.todayRange}))),ye("div",{className:"fc-daygrid-day-bg"},a.bgContent))})}}]),t}(fa);function nre(n){return n.dayNumberText||ye(Mn,null,"\xa0")}function Oh(n,o,t,i){if(n.firstCol===o&&n.lastCol===t-1)return n;var r=n.eventRange,a=r.range,s=nd(a,{start:i[o].date,end:vo(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:o,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:s},isStart:n.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:n.isEnd&&s.end.valueOf()===a.end.valueOf()})}var sre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).hiddenConsumes=!1,i.forceHidden={},i}return(0,M.Z)(t,[{key:"addSegs",value:function(r){for(var a=this,s=(0,xs.Z)((0,Qa.Z)(t.prototype),"addSegs",this).call(this,r),l=this.entriesByLevel,c=function(x){return!a.forceHidden[pp(x)]},u=0;u<l.length;u+=1)l[u]=l[u].filter(c);return s}},{key:"handleInvalidInsertion",value:function(r,a,s){var l=this.entriesByLevel,c=this.forceHidden,u=r.touchingEntry,h=r.touchingLevel,x=r.touchingLateral;if(this.hiddenConsumes&&u){var T=pp(u);if(!c[T])if(this.allowReslicing){var O=Object.assign(Object.assign({},u),{span:Uy(u.span,a.span)});c[pp(O)]=!0,l[h][x]=O,this.splitEntry(u,a,s)}else c[T]=!0,s.push(u)}return(0,xs.Z)((0,Qa.Z)(t.prototype),"handleInvalidInsertion",this).call(this,r,a,s)}}]),t}(Zy),yk=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).cellElRefs=new Io,i.frameElRefs=new Io,i.fgElRefs=new Io,i.segHarnessRefs=new Io,i.rootElRef={current:null},i.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},i.handleResize=function(r){r&&i.updateSizing(!0)},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.state,c=this.context.options,u=a.cells.length,h=tb(a.businessHourSegs,u),x=tb(a.bgEventSegs,u),T=tb(this.getHighlightSegs(),u),O=tb(this.getMirrorSegs(),u),U=function rre(n,o,t,i,r,a,s){var l=new sre;l.allowReslicing=!0,l.strictOrder=i,!0===o||!0===t?(l.maxCoord=a,l.hiddenConsumes=!0):"number"==typeof o?l.maxStackCnt=o:"number"==typeof t&&(l.maxStackCnt=t,l.hiddenConsumes=!0);for(var c=[],u=[],h=0;h<n.length;h+=1){var x=n[h],O=r[x.eventRange.instance.instanceId];null!=O?c.push({index:h,thickness:O,span:{start:x.firstCol,end:x.lastCol+1}}):u.push(x)}for(var U=l.addSegs(c),de=function ore(n,o,t){for(var i=function are(n,o){for(var t=[],i=0;i<o;i+=1)t.push([]);var a,r=(0,te.Z)(n);try{for(r.s();!(a=r.n()).done;)for(var s=a.value,l=s.span.start;l<s.span.end;l+=1)t[l].push(s)}catch(c){r.e(c)}finally{r.f()}return t}(n,t.length),r=[],a=[],s=[],l=0;l<t.length;l+=1){var O,c=i[l],u=[],h=0,x=0,T=(0,te.Z)(c);try{for(T.s();!(O=T.n()).done;){var U=O.value;u.push({seg:Oh(o[U.index],l,l+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:U.levelCoord,marginTop:U.levelCoord-h}),h=U.levelCoord+U.thickness}}catch(rt){T.e(rt)}finally{T.f()}var de=[];h=0,x=0;var Ne,ve=(0,te.Z)(c);try{for(ve.s();!(Ne=ve.n()).done;){var De=Ne.value,Ge=o[De.index],gt=De.span.start===l;x+=De.levelCoord-h,h=De.levelCoord+De.thickness,De.span.end-De.span.start>1?(x+=De.thickness,gt&&de.push({seg:Oh(Ge,De.span.start,De.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:De.levelCoord,marginTop:0})):gt&&(de.push({seg:Oh(Ge,De.span.start,De.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:De.levelCoord,marginTop:x}),x=0)}}catch(rt){ve.e(rt)}finally{ve.f()}r.push(u),a.push(de),s.push(x)}return{singleColPlacements:r,multiColPlacements:a,leftoverMargins:s}}(l.toRects(),n,s),ve=de.singleColPlacements,Ne=de.multiColPlacements,De=de.leftoverMargins,Ge=[],We=[],gt=0,rt=u;gt<rt.length;gt++){var vt=rt[gt];Ne[vt.firstCol].push({seg:vt,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var Zt=vt.firstCol;Zt<=vt.lastCol;Zt+=1)ve[Zt].push({seg:Oh(vt,Zt,Zt+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var Ht=0;Ht<s.length;Ht+=1)Ge.push(0);var ln,Bt=(0,te.Z)(U);try{for(Bt.s();!(ln=Bt.n()).done;){var Pn=ln.value,Jn=n[Pn.index],kn=Pn.span;Ne[kn.start].push({seg:Oh(Jn,kn.start,kn.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var mi=kn.start;mi<kn.end;mi+=1)Ge[mi]+=1,ve[mi].push({seg:Oh(Jn,mi,mi+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}}catch(Ni){Bt.e(Ni)}finally{Bt.f()}for(var wi=0;wi<s.length;wi+=1)We.push(De[wi]);return{singleColPlacements:ve,multiColPlacements:Ne,moreCnts:Ge,moreMarginTops:We}}(Dy(a.fgEventSegs,c.eventOrder),a.dayMaxEvents,a.dayMaxEventRows,c.eventOrderStrict,s.eventInstanceHeights,s.maxContentHeight,a.cells),re=U.singleColPlacements,de=U.multiColPlacements,ve=U.moreCnts,Ne=U.moreMarginTops,De=a.eventDrag&&a.eventDrag.affectedInstances||a.eventResize&&a.eventResize.affectedInstances||{};return ye("tr",{ref:this.rootElRef,role:"row"},a.renderIntro&&a.renderIntro(),a.cells.map(function(Ge,We){var gt=r.renderFgSegs(We,a.forPrint?re[We]:de[We],a.todayRange,De),rt=r.renderFgSegs(We,function lre(n,o){if(!n.length)return[];var t=function cre(n){var i,o={},t=(0,te.Z)(n);try{for(t.s();!(i=t.n()).done;){var s,a=(0,te.Z)(i.value);try{for(a.s();!(s=a.n()).done;){var l=s.value;o[l.seg.eventRange.instance.instanceId]=l.absoluteTop}}catch(c){a.e(c)}finally{a.f()}}}catch(c){t.e(c)}finally{t.f()}return o}(o);return n.map(function(i){return{seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}})}(O[We],de),a.todayRange,{},Boolean(a.eventDrag),Boolean(a.eventResize),!1);return ye(tre,{key:Ge.key,elRef:r.cellElRefs.createRef(Ge.key),innerElRef:r.frameElRefs.createRef(Ge.key),dateProfile:a.dateProfile,date:Ge.date,showDayNumber:a.showDayNumbers,showWeekNumber:a.showWeekNumbers&&0===We,forceDayTop:a.showWeekNumbers,todayRange:a.todayRange,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,extraRenderProps:Ge.extraRenderProps,extraDataAttrs:Ge.extraDataAttrs,extraClassNames:Ge.extraClassNames,extraDateSpan:Ge.extraDateSpan,moreCnt:ve[We],moreMarginTop:Ne[We],singlePlacements:re[We],fgContentElRef:r.fgElRefs.createRef(Ge.key),fgContent:ye(Mn,null,ye(Mn,null,gt),ye(Mn,null,rt)),bgContent:ye(Mn,null,r.renderFillSegs(T[We],"highlight"),r.renderFillSegs(h[We],"non-business"),r.renderFillSegs(x[We],"bg-event")),minHeight:a.cellMinHeight})}))}},{key:"componentDidMount",value:function(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}},{key:"componentDidUpdate",value:function(r,a){this.updateSizing(!Eo(r,this.props))}},{key:"componentWillUnmount",value:function(){this.context.removeResizeHandler(this.handleResize)}},{key:"getHighlightSegs",value:function(){var r=this.props;return r.eventDrag&&r.eventDrag.segs.length?r.eventDrag.segs:r.eventResize&&r.eventResize.segs.length?r.eventResize.segs:r.dateSelectionSegs}},{key:"getMirrorSegs",value:function(){var r=this.props;return r.eventResize&&r.eventResize.segs.length?r.eventResize.segs:[]}},{key:"renderFgSegs",value:function(r,a,s,l,c,u,h){var x=this.context,T=this.props.eventSelection,O=this.state.framePositions,U=1===this.props.cells.length,re=c||u||h,de=[];if(O){var Ne,ve=(0,te.Z)(a);try{for(ve.s();!(Ne=ve.n()).done;){var De=Ne.value,Ge=De.seg,We=Ge.eventRange.instance.instanceId,gt=We+":"+r,rt=De.isVisible&&!l[We],vt=De.isAbsolute,Zt="",Ht="";vt&&(x.isRtl?(Ht=0,Zt=O.lefts[Ge.lastCol]-O.lefts[Ge.firstCol]):(Zt=0,Ht=O.rights[Ge.firstCol]-O.rights[Ge.lastCol])),de.push(ye("div",{className:"fc-daygrid-event-harness"+(vt?" fc-daygrid-event-harness-abs":""),key:gt,ref:re?null:this.segHarnessRefs.createRef(gt),style:{visibility:rt?"":"hidden",marginTop:vt?"":De.marginTop,top:vt?De.absoluteTop:"",left:Zt,right:Ht}},_k(Ge)?ye(bk,Object.assign({seg:Ge,isDragging:c,isSelected:We===T,defaultDisplayEventEnd:U},dl(Ge,s))):ye(vk,Object.assign({seg:Ge,isDragging:c,isResizing:u,isDateSelecting:h,isSelected:We===T,defaultDisplayEventEnd:U},dl(Ge,s)))))}}catch(Bt){ve.e(Bt)}finally{ve.f()}}return de}},{key:"renderFillSegs",value:function(r,a){var s=this.context.isRtl,l=this.props.todayRange,c=this.state.framePositions,u=[];if(c){var x,h=(0,te.Z)(r);try{for(h.s();!(x=h.n()).done;){var T=x.value,O=s?{right:0,left:c.lefts[T.lastCol]-c.lefts[T.firstCol]}:{left:0,right:c.rights[T.firstCol]-c.rights[T.lastCol]};u.push(ye("div",{key:Sy(T.eventRange),className:"fc-daygrid-bg-harness",style:O},"bg-event"===a?ye(Ky,Object.assign({seg:T},dl(T,l))):$y(a)))}}catch(U){h.e(U)}finally{h.f()}}return ye.apply(void 0,[Mn,{}].concat(u))}},{key:"updateSizing",value:function(r){var a=this.props,s=this.state,l=this.frameElRefs;if(!a.forPrint&&null!==a.clientWidth){if(r){var c=a.cells.map(function(U){return l.currentMap[U.key]});if(c.length){var u=this.rootElRef.current,h=new id(u,c,!0,!1);(!s.framePositions||!s.framePositions.similarTo(h))&&this.setState({framePositions:new id(u,c,!0,!1)})}}var x=this.state.eventInstanceHeights,T=this.queryEventInstanceHeights(),O=!0===a.dayMaxEvents||!0===a.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},x),T),maxContentHeight:O?this.computeMaxContentHeight():null})}}},{key:"queryEventInstanceHeights",value:function(){var r=this.segHarnessRefs.currentMap,a={};for(var s in r){var l=Math.round(r[s].getBoundingClientRect().height),c=s.split(":")[0];a[c]=Math.max(a[c]||0,l)}return a}},{key:"computeMaxContentHeight",value:function(){var r=this.props.cells[0].key,s=this.fgElRefs.currentMap[r];return this.cellElRefs.currentMap[r].getBoundingClientRect().bottom-s.getBoundingClientRect().top}},{key:"getCellEls",value:function(){var r=this.cellElRefs.currentMap;return this.props.cells.map(function(a){return r[a.key]})}}]),t}(fa);yk.addStateEquality({eventInstanceHeights:Eo});var xk=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).splitBusinessHourSegs=tn(eb),i.splitBgEventSegs=tn(eb),i.splitFgEventSegs=tn(eb),i.splitDateSelectionSegs=tn(eb),i.splitEventDrag=tn(mk),i.splitEventResize=tn(mk),i.rowRefs=new Io,i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.context,l=a.cells.length,c=this.splitBusinessHourSegs(a.businessHourSegs,l),u=this.splitBgEventSegs(a.bgEventSegs,l),h=this.splitFgEventSegs(a.fgEventSegs,l),x=this.splitDateSelectionSegs(a.dateSelectionSegs,l),T=this.splitEventDrag(a.eventDrag,l),O=this.splitEventResize(a.eventResize,l),U=l>=7&&a.clientWidth?a.clientWidth/s.options.aspectRatio/6:null;return ye(zd,{unit:"day"},function(re,de){return ye(Mn,null,a.cells.map(function(ve,Ne){return ye(yk,{ref:r.rowRefs.createRef(Ne),key:ve.length?ve[0].date.toISOString():Ne,showDayNumbers:l>1,showWeekNumbers:a.showWeekNumbers,todayRange:de,dateProfile:a.dateProfile,cells:ve,renderIntro:a.renderRowIntro,businessHourSegs:c[Ne],eventSelection:a.eventSelection,bgEventSegs:u[Ne].filter(dre),fgEventSegs:h[Ne],dateSelectionSegs:x[Ne],eventDrag:T[Ne],eventResize:O[Ne],dayMaxEvents:a.dayMaxEvents,dayMaxEventRows:a.dayMaxEventRows,clientWidth:a.clientWidth,clientHeight:a.clientHeight,cellMinHeight:U,forPrint:a.forPrint})}))})}},{key:"componentDidMount",value:function(){var r=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=r?r.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}},{key:"componentWillUnmount",value:function(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}},{key:"prepareHits",value:function(){this.rowPositions=new id(this.rootEl,this.rowRefs.collect().map(function(r){return r.getCellEls()[0]}),!1,!0),this.colPositions=new id(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}},{key:"queryHit",value:function(r,a){var s=this.colPositions,l=this.rowPositions,c=s.leftToIndex(r),u=l.topToIndex(a);if(null!=u&&null!=c){var h=this.props.cells[u][c];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(u,c),allDay:!0},h.extraDateSpan),dayEl:this.getCellEl(u,c),rect:{left:s.lefts[c],right:s.rights[c],top:l.tops[u],bottom:l.bottoms[u]},layer:0}}return null}},{key:"getCellEl",value:function(r,a){return this.rowRefs.currentMap[r].getCellEls()[a]}},{key:"getCellRange",value:function(r,a){var s=this.props.cells[r][a].date;return{start:s,end:vo(s,1)}}}]),t}(fa);function dre(n){return n.eventRange.def.allDay}var ure=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).elRef={current:null},i.needsScrollReset=!1,i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=r.dayMaxEventRows,s=r.dayMaxEvents,l=r.expandRows,c=!0===s||!0===a;return c&&!l&&(c=!1,a=null,s=null),ye("div",{ref:this.elRef,className:["fc-daygrid-body",c?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",l?"":"fc-daygrid-body-natural"].join(" "),style:{width:r.clientWidth,minWidth:r.tableMinWidth}},ye("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:l?r.clientHeight:""}},r.colGroupNode,ye("tbody",{role:"presentation"},ye(xk,{dateProfile:r.dateProfile,cells:r.cells,renderRowIntro:r.renderRowIntro,showWeekNumbers:r.showWeekNumbers,clientWidth:r.clientWidth,clientHeight:r.clientHeight,businessHourSegs:r.businessHourSegs,bgEventSegs:r.bgEventSegs,fgEventSegs:r.fgEventSegs,dateSelectionSegs:r.dateSelectionSegs,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,dayMaxEvents:s,dayMaxEventRows:a,forPrint:r.forPrint,isHitComboAllowed:r.isHitComboAllowed}))))}},{key:"componentDidMount",value:function(){this.requestScrollReset()}},{key:"componentDidUpdate",value:function(r){r.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}},{key:"requestScrollReset",value:function(){this.needsScrollReset=!0,this.flushScrollReset()}},{key:"flushScrollReset",value:function(){if(this.needsScrollReset&&this.props.clientWidth){var r=function pre(n,o){var t;return o.currentRangeUnit.match(/year|month/)&&(t=n.querySelector('[data-date="'.concat(ly(o.currentDate),'-01"]'))),t||(t=n.querySelector('[data-date="'.concat(n1(o.currentDate),'"]'))),t}(this.elRef.current,this.props.dateProfile);if(r){var a=r.closest(".fc-daygrid-body"),s=a.closest(".fc-scroller"),l=r.getBoundingClientRect().top-a.getBoundingClientRect().top;s.scrollTop=l?l+1:0}this.needsScrollReset=!1}}}]),t}(fa),Ck=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).forceDayIfListItem=!0,i}return(0,M.Z)(t,[{key:"sliceRange",value:function(r,a){return a.sliceRange(r)}}]),t}(Jy),Tk=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).slicer=new Ck,i.tableRef={current:null},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props;return ye(ure,Object.assign({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,this.context,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))}}]),t}(fa),wk=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"buildRenderRange",value:function(r,a,s){var l=(0,xs.Z)((0,Qa.Z)(t.prototype),"buildRenderRange",this).call(this,r,a,s),c=this.props;return Dk({currentRange:l,snapToWeek:/^(year|month)$/.test(a),fixedWeekCount:c.fixedWeekCount,dateEnv:c.dateEnv})}}]),t}(QT);function Dk(n){var a,o=n.dateEnv,t=n.currentRange,i=t.start,r=t.end;if(n.snapToWeek&&(i=o.startOfWeek(i),(a=o.startOfWeek(r)).valueOf()!==r.valueOf()&&(r=kT(a,1))),n.fixedWeekCount){var s=o.startOfWeek(o.startOfMonth(vo(t.end,-1))),l=Math.ceil(function XM(n,o){return Vd(n,o)/7}(s,r));r=kT(r,6-l)}return{start:i,end:r}}var hre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).buildDayTableModel=tn(Sk),i.headerRef={current:null},i.tableRef={current:null},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.context,s=a.options,c=this.props,u=this.buildDayTableModel(c.dateProfile,a.dateProfileGenerator),h=s.dayHeaders&&ye(qy,{ref:this.headerRef,dateProfile:c.dateProfile,dates:u.headerDates,datesRepDistinctDays:1===u.rowCnt}),x=function(O){return ye(Tk,{ref:r.tableRef,dateProfile:c.dateProfile,dayTableModel:u,businessHours:c.businessHours,dateSelection:c.dateSelection,eventStore:c.eventStore,eventUiBases:c.eventUiBases,eventSelection:c.eventSelection,eventDrag:c.eventDrag,eventResize:c.eventResize,nextDayThreshold:s.nextDayThreshold,colGroupNode:O.tableColGroupNode,tableMinWidth:O.tableMinWidth,dayMaxEvents:s.dayMaxEvents,dayMaxEventRows:s.dayMaxEventRows,showWeekNumbers:s.weekNumbers,expandRows:!c.isHeightAuto,headerAlignElRef:r.headerElRef,clientWidth:O.clientWidth,clientHeight:O.clientHeight,forPrint:c.forPrint})};return s.dayMinWidth?this.renderHScrollLayout(h,x,u.colCnt,s.dayMinWidth):this.renderSimpleLayout(h,x)}}]),t}(function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).headerElRef={current:null},i}return(0,M.Z)(t,[{key:"renderSimpleLayout",value:function(r,a){var s=this.props,l=this.context,c=[],u=Ch(l.options);return r&&c.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:r}}),c.push({type:"body",key:"body",liquid:!0,chunk:{content:a}}),ye(cp,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},ye(Vy,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[],sections:c}))}},{key:"renderHScrollLayout",value:function(r,a,s,l){var c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");var u=this.props,h=this.context,x=!u.forPrint&&Ch(h.options),T=!u.forPrint&&w1(h.options),O=[];return r&&O.push({type:"header",key:"header",isSticky:x,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:r}]}),O.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:a}]}),T&&O.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:xh}]}),ye(cp,{elClasses:["fc-daygrid"],viewSpec:h.viewSpec},ye(c,{liquid:!u.isHeightAuto&&!u.forPrint,collapsibleWidth:u.forPrint,colGroups:[{cols:[{span:s,minWidth:l}]}],sections:O}))}}]),t}(fa));function Sk(n,o){var t=new Nw(n.renderRange,o);return new Rw(t,/year|month|week/.test(n.currentRangeUnit))}uh(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var kk=ha({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:hre,dateProfileGeneratorClass:wk},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}}),gre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"getKeyInfo",value:function(){return{allDay:{},timed:{}}}},{key:"getKeysForDateSpan",value:function(r){return r.allDay?["allDay"]:["timed"]}},{key:"getKeysForEventDef",value:function(r){return r.allDay?function xP(n){return"background"===n.ui.display||"inverse-background"===n.ui.display}(r)?["timed","allDay"]:["allDay"]:["timed"]}}]),t}(Ey),_re=Bi({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Ak(n){var o=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return ye(tc.Consumer,null,function(t){if(!n.isLabeled)return ye("td",{className:o.join(" "),"data-time":n.isoTimeStr});var i=t.dateEnv,r=t.options,a=t.viewApi,s=null==r.slotLabelFormat?_re:Array.isArray(r.slotLabelFormat)?Bi(r.slotLabelFormat[0]):Bi(r.slotLabelFormat),l={level:0,time:n.time,date:i.toDate(n.date),view:a,text:i.format(n.date,s)};return ye(Ur,{elTag:"td",elClasses:o,elAttrs:{"data-time":n.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:vre,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},function(c){return ye("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},ye(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]}))})})}function vre(n){return n.text}var bre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){return this.props.slatMetas.map(function(r){return ye("tr",{key:r.key},ye(Ak,Object.assign({},r)))})}}]),t}(Cn),yre=Bi({week:"short"}),Cre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).allDaySplitter=new gre,i.headerElRef={current:null},i.rootElRef={current:null},i.scrollerElRef={current:null},i.state={slatCoords:null},i.handleScrollTopRequest=function(r){var a=i.scrollerElRef.current;a&&(a.scrollTop=r)},i.renderHeadAxis=function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=i.context.options,l=i.props.dateProfile,c=l.renderRange,u=Vd(c.start,c.end),h=1===u?Fg(i.context,c.start,"week"):{};return s.weekNumbers&&"day"===r?ye(zw,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:c.start,defaultFormat:yre},function(x){return ye("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:a}},ye(x,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:h}))}):ye("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},ye("div",{className:"fc-timegrid-axis-frame",style:{height:a}}))},i.renderTableRowAxis=function(r){var a=i.context,s=a.options;return ye(Ur,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:s.allDayText,view:a.viewApi},generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:Tre,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount},function(u){return ye("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==r?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:r}},ye(u,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]}))})},i.handleSlatCoords=function(r){i.setState({slatCoords:r})},i}return(0,M.Z)(t,[{key:"renderSimpleLayout",value:function(r,a,s){var l=this.context,c=this.props,u=[],h=Ch(l.options);return r&&u.push({type:"header",key:"header",isSticky:h,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:r}}),a&&(u.push({type:"body",key:"all-day",chunk:{content:a}}),u.push({type:"body",key:"all-day-divider",outerContent:ye("tr",{role:"presentation",className:"fc-scrollgrid-section"},ye("td",{className:"fc-timegrid-divider "+l.theme.getClass("tableCellShaded")}))})),u.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(l.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:s}}),ye(cp,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:l.viewSpec},ye(Vy,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:c.forPrint,cols:[{width:"shrink"}],sections:u}))}},{key:"renderHScrollLayout",value:function(r,a,s,l,c,u,h){var x=this,T=this.context.pluginHooks.scrollGridImpl;if(!T)throw new Error("No ScrollGrid implementation");var O=this.context,U=this.props,re=!U.forPrint&&Ch(O.options),de=!U.forPrint&&w1(O.options),ve=[];r&&ve.push({type:"header",key:"header",isSticky:re,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(Ge){return ye("tr",{role:"presentation"},x.renderHeadAxis("day",Ge.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:r}]}),a&&(ve.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(Ge){return ye("tr",{role:"presentation"},x.renderTableRowAxis(Ge.rowSyncHeights[0]))}},{key:"cols",content:a}]}),ve.push({key:"all-day-divider",type:"body",outerContent:ye("tr",{role:"presentation",className:"fc-scrollgrid-section"},ye("td",{colSpan:2,className:"fc-timegrid-divider "+O.theme.getClass("tableCellShaded")}))}));var Ne=O.options.nowIndicator;return ve.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(O.options.expandRows),chunks:[{key:"axis",content:function(Ge){return ye("div",{className:"fc-timegrid-axis-chunk"},ye("table",{"aria-hidden":!0,style:{height:Ge.expandRows?Ge.clientHeight:""}},Ge.tableColGroupNode,ye("tbody",null,ye(bre,{slatMetas:u}))),ye("div",{className:"fc-timegrid-now-indicator-container"},ye(zd,{unit:Ne?"minute":"day"},function(We){var gt=Ne&&h&&h.safeComputeTop(We);return"number"==typeof gt?ye(Th,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:gt},isAxis:!0,date:We}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:s}]}),de&&ve.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:xh},{key:"cols",content:xh}]}),ye(cp,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:O.viewSpec},ye(T,{liquid:!U.isHeightAuto&&!U.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:l,minWidth:c}]}],sections:ve}))}},{key:"getAllDayMaxEventProps",value:function(){var r=this.context.options,a=r.dayMaxEvents,s=r.dayMaxEventRows;return(!0===a||!0===s)&&(a=void 0,s=5),{dayMaxEvents:a,dayMaxEventRows:s}}}]),t}(fa);function Tre(n){return n.text}var wre=function(){function n(o,t,i){(0,I.Z)(this,n),this.positions=o,this.dateProfile=t,this.slotDuration=i}return(0,M.Z)(n,[{key:"safeComputeTop",value:function(t){var i=this.dateProfile;if(nc(i.currentRange,t)){var r=Yi(t),a=t.valueOf()-r.valueOf();if(a>=Wo(i.slotMinTime)&&a<Wo(i.slotMaxTime))return this.computeTimeTop(Wn(a))}return null}},{key:"computeDateTop",value:function(t,i){return i||(i=Yi(t)),this.computeTimeTop(Wn(t.valueOf()-i.valueOf()))}},{key:"computeTimeTop",value:function(t){var l,c,i=this.positions,a=i.els.length,s=(t.milliseconds-Wo(this.dateProfile.slotMinTime))/Wo(this.slotDuration);return s=Math.max(0,s),s=Math.min(a,s),l=Math.floor(s),c=s-(l=Math.min(l,a-1)),i.tops[l]+i.getHeight(l)*c}}]),n}(),Dre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.context,s=a.options,l=r.slatElRefs;return ye("tbody",null,r.slatMetas.map(function(c,u){var h={time:c.time,date:a.dateEnv.toDate(c.date),view:a.viewApi};return ye("tr",{key:c.key,ref:l.createRef(c.key)},r.axis&&ye(Ak,Object.assign({},c)),ye(Ur,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!c.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":c.isoTimeStr},renderProps:h,generatorName:"slotLaneContent",customGenerator:s.slotLaneContent,classNameGenerator:s.slotLaneClassNames,didMount:s.slotLaneDidMount,willUnmount:s.slotLaneWillUnmount}))}))}}]),t}(Cn),Sre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).rootElRef={current:null},i.slatElRefs=new Io,i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props;return ye("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},ye("table",{"aria-hidden":!0,className:this.context.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:r.minHeight}},r.tableColGroupNode,ye(Dre,{slatElRefs:this.slatElRefs,axis:r.axis,slatMetas:r.slatMetas})))}},{key:"componentDidMount",value:function(){this.updateSizing()}},{key:"componentDidUpdate",value:function(){this.updateSizing()}},{key:"componentWillUnmount",value:function(){this.props.onCoords&&this.props.onCoords(null)}},{key:"updateSizing",value:function(){var r=this.context,a=this.props;a.onCoords&&null!==a.clientWidth&&this.rootElRef.current.offsetHeight&&a.onCoords(new wre(new id(this.rootElRef.current,function kre(n,o){return o.map(function(t){return n[t.key]})}(this.slatElRefs.currentMap,a.slatMetas),!1,!0),this.props.dateProfile,r.options.slotDuration))}}]),t}(Cn);function Jg(n,o){var i,t=[];for(i=0;i<o;i+=1)t.push([]);if(n)for(i=0;i<n.length;i+=1)t[n[i].col].push(n[i]);return t}function Mk(n,o){var t=[];if(n){for(var r=0;r<o;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};var s,a=(0,te.Z)(n.segs);try{for(a.s();!(s=a.n()).done;){var l=s.value;t[l.col].segs.push(l)}}catch(c){a.e(c)}finally{a.f()}}else for(var i=0;i<o;i+=1)t[i]=null;return t}var Are=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props;return ye(ex,{elClasses:["fc-timegrid-more-link"],elStyle:{top:r.top,bottom:r.bottom},allDayDate:null,moreCnt:r.hiddenSegs.length,allSegs:r.hiddenSegs,hiddenSegs:r.hiddenSegs,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,todayRange:r.todayRange,popoverContent:function(){return Ik(r.hiddenSegs,r)},defaultGenerator:Mre},function(a){return ye(a,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]})})}}]),t}(Cn);function Mre(n){return n.shortText}function Ok(n,o){if(!n)return[[],0];for(var t=n.level,r=n.lateralEnd,a=n.lateralStart,s=[];a<r;)s.push(o(t,a)),a+=1;return s.sort(Ere),[s.map(Ire),s[0][1]]}function Ere(n,o){return o[1]-n[1]}function Ire(n){return n[0]}function jx(n,o){var t={};return function(){var i=n.apply(void 0,arguments);return i in t?t[i]:t[i]=o.apply(void 0,arguments)}}function Pk(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=[];if(t)for(var a=0;a<n.length;a+=1){var s=n[a],l=t.computeDateTop(s.start,o),c=Math.max(l+(i||0),t.computeDateTop(s.end,o));r.push({start:Math.round(l),end:Math.round(c)})}return r}var Lre=Bi({hour:"numeric",minute:"2-digit",meridiem:!1}),Ek=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"render",value:function(){return ye(Wy,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Lre}))}}]),t}(Cn),Ure=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).sortEventSegs=tn(Dy),i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,l=this.context.options,c=l.selectMirror,u=a.eventDrag&&a.eventDrag.segs||a.eventResize&&a.eventResize.segs||c&&a.dateSelectionSegs||[],h=a.eventDrag&&a.eventDrag.affectedInstances||a.eventResize&&a.eventResize.affectedInstances||{},x=this.sortEventSegs(a.fgEventSegs,l.eventOrder);return ye(Qy,{elTag:"td",elRef:a.elRef,elClasses:["fc-timegrid-col"].concat((0,K.Z)(a.extraClassNames||[])),elAttrs:Object.assign({role:"gridcell"},a.extraDataAttrs),date:a.date,dateProfile:a.dateProfile,todayRange:a.todayRange,extraRenderProps:a.extraRenderProps},function(T){return ye("div",{className:"fc-timegrid-col-frame"},ye("div",{className:"fc-timegrid-col-bg"},r.renderFillSegs(a.businessHourSegs,"non-business"),r.renderFillSegs(a.bgEventSegs,"bg-event"),r.renderFillSegs(a.dateSelectionSegs,"highlight")),ye("div",{className:"fc-timegrid-col-events"},r.renderFgSegs(x,h,!1,!1,!1)),ye("div",{className:"fc-timegrid-col-events"},r.renderFgSegs(u,{},Boolean(a.eventDrag),Boolean(a.eventResize),Boolean(c))),ye("div",{className:"fc-timegrid-now-indicator-container"},r.renderNowIndicator(a.nowIndicatorSegs)),zy(l)&&ye(T,{elTag:"div",elClasses:["fc-timegrid-col-misc"]}))})}},{key:"renderFgSegs",value:function(r,a,s,l,c){var u=this.props;return u.forPrint?Ik(r,u):this.renderPositionedFgSegs(r,a,s,l,c)}},{key:"renderPositionedFgSegs",value:function(r,a,s,l,c){var u=this,h=this.context.options,x=h.eventMaxStack,T=h.eventShortHeight,O=h.eventOrderStrict,re=this.props,Ne=re.eventSelection,De=re.todayRange,Ge=re.nowDate,We=s||l||c,rt=function Zre(n,o,t,i){for(var r=[],a=[],s=0;s<n.length;s+=1){var l=o[s];l?r.push({index:s,thickness:1,span:l}):a.push(n[s])}var O,c=function Ore(n,o,t){var i=new Zy;null!=o&&(i.strictOrder=o),null!=t&&(i.maxStackCnt=t);var a=Sw(i.addSegs(n)),s=function Pre(n){var o=n.entriesByLevel,t=jx(function(i,r){return i+":"+r},function(i,r){var a=function Nre(n,o,t){for(var i=n.levelCoords,r=n.entriesByLevel,a=r[o][t],s=i[o]+a.thickness,l=i.length,c=o;c<l&&i[c]<s;c+=1);for(;c<l;c+=1){for(var u=r[c],h=void 0,x=Yy(u,a.span.start,Ly),T=x[0]+x[1],O=T;(h=u[O])&&h.span.start<a.span.end;)O+=1;if(T<O)return{level:c,lateralStart:T,lateralEnd:O}}return null}(n,i,r),s=Ok(a,t),l=o[i][r];return[Object.assign(Object.assign({},l),{nextLevelNodes:s[0]}),l.thickness+s[1]]});return Ok(o.length?{level:0,lateralStart:0,lateralEnd:o[0].length}:null,t)[0]}(i);s=function Rre(n,o){var t=jx(function(i,r,a){return pp(i)},function(i,r,a){var h,s=i.nextLevelNodes,l=i.thickness,c=l+a,u=l/c,x=[];if(s.length){var O,T=(0,te.Z)(s);try{for(T.s();!(O=T.n()).done;){var U=O.value;if(void 0===h){var re=t(U,r,c);h=re[0],x.push(re[1])}else{var de=t(U,h,0);x.push(de[1])}}}catch(Ne){T.e(Ne)}finally{T.f()}}else h=o;var ve=(h-r)*u;return[h-ve,Object.assign(Object.assign({},i),{thickness:ve,nextLevelNodes:x})]});return n.map(function(i){return t(i,0,0)[1]})}(s,1);var l=function Fre(n){var o=[],t=jx(function(r,a,s){return pp(r)},function(r,a,s){var l=Object.assign(Object.assign({},r),{levelCoord:a,stackDepth:s,stackForward:0});return o.push(l),l.stackForward=i(r.nextLevelNodes,a+r.thickness,s+1)+1});function i(r,a,s){var u,l=0,c=(0,te.Z)(r);try{for(c.s();!(u=c.n()).done;)l=Math.max(t(u.value,a,s),l)}catch(x){c.e(x)}finally{c.f()}return l}return i(n,0,0),o}(s);return{segRects:l,hiddenGroups:a}}(r,t,i),h=c.hiddenGroups,x=[],T=(0,te.Z)(c.segRects);try{for(T.s();!(O=T.n()).done;){var U=O.value;x.push({seg:n[U.index],rect:U})}}catch(Ne){T.e(Ne)}finally{T.f()}for(var re=0,de=a;re<de.length;re++)x.push({seg:de[re],rect:null});return{segPlacements:x,hiddenGroups:h}}(r,Pk(r,re.date,re.slatCoords,h.eventMinHeight),O,x),vt=rt.segPlacements;return ye(Mn,null,this.renderHiddenGroups(rt.hiddenGroups,r),vt.map(function(Ht){var Bt=Ht.seg,ln=Ht.rect,Pn=Bt.eventRange.instance.instanceId,Jn=We||Boolean(!a[Pn]&&ln),kn=Yx(ln&&ln.span),mi=!We&&ln?u.computeSegHStyle(ln):{left:0,right:0},wi=Boolean(ln)&&ln.stackForward>0,Ni=Boolean(ln)&&ln.span.end-ln.span.start<T;return ye("div",{className:"fc-timegrid-event-harness"+(wi?" fc-timegrid-event-harness-inset":""),key:Pn,style:Object.assign(Object.assign({visibility:Jn?"":"hidden"},kn),mi)},ye(Ek,Object.assign({seg:Bt,isDragging:s,isResizing:l,isDateSelecting:c,isSelected:Pn===Ne,isShort:Ni},dl(Bt,De,Ge))))}))}},{key:"renderHiddenGroups",value:function(r,a){var s=this.props,l=s.extraDateSpan,c=s.dateProfile,u=s.todayRange,h=s.nowDate,x=s.eventSelection,T=s.eventDrag,O=s.eventResize;return ye(Mn,null,r.map(function(U){var re=Yx(U.span),de=function jre(n,o){return n.map(function(t){return o[t.index]})}(U.entries,a);return ye(Are,{key:t1(D1(de)),hiddenSegs:de,top:re.top,bottom:re.bottom,extraDateSpan:l,dateProfile:c,todayRange:u,nowDate:h,eventSelection:x,eventDrag:T,eventResize:O})}))}},{key:"renderFillSegs",value:function(r,a){var s=this.props,u=Pk(r,s.date,s.slatCoords,this.context.options.eventMinHeight).map(function(h,x){var T=r[x];return ye("div",{key:Sy(T.eventRange),className:"fc-timegrid-bg-harness",style:Yx(h)},"bg-event"===a?ye(Ky,Object.assign({seg:T},dl(T,s.todayRange,s.nowDate))):$y(a))});return ye(Mn,null,u)}},{key:"renderNowIndicator",value:function(r){var a=this.props,s=a.slatCoords,l=a.date;return s?r.map(function(c,u){return ye(Th,{key:u,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:s.computeDateTop(c.start,l)},isAxis:!1,date:l})}):null}},{key:"computeSegHStyle",value:function(r){var x,T,a=this.context,s=a.isRtl,c=a.options.slotEventOverlap,u=r.levelCoord,h=r.levelCoord+r.thickness;c&&(h=Math.min(1,u+2*(h-u))),s?(x=1-h,T=u):(x=u,T=1-h);var O={zIndex:r.stackDepth+1,left:100*x+"%",right:100*T+"%"};return c&&!r.stackForward&&(O[s?"marginLeft":"marginRight"]=20),O}}]),t}(Cn);function Ik(n,o){var t=o.todayRange,i=o.nowDate,r=o.eventSelection,a=o.eventDrag,s=o.eventResize,l=(a?a.affectedInstances:null)||(s?s.affectedInstances:null)||{};return ye(Mn,null,n.map(function(c){var u=c.eventRange.instance.instanceId;return ye("div",{key:u,style:{visibility:l[u]?"hidden":""}},ye(Ek,Object.assign({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===r,isShort:!1},dl(c,t,i))))}))}function Yx(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}var Yre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).splitFgEventSegs=tn(Jg),i.splitBgEventSegs=tn(Jg),i.splitBusinessHourSegs=tn(Jg),i.splitNowIndicatorSegs=tn(Jg),i.splitDateSelectionSegs=tn(Jg),i.splitEventDrag=tn(Mk),i.splitEventResize=tn(Mk),i.rootElRef={current:null},i.cellElRefs=new Io,i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,l=this.context.options.nowIndicator&&a.slatCoords&&a.slatCoords.safeComputeTop(a.nowDate),c=a.cells.length,u=this.splitFgEventSegs(a.fgEventSegs,c),h=this.splitBgEventSegs(a.bgEventSegs,c),x=this.splitBusinessHourSegs(a.businessHourSegs,c),T=this.splitNowIndicatorSegs(a.nowIndicatorSegs,c),O=this.splitDateSelectionSegs(a.dateSelectionSegs,c),U=this.splitEventDrag(a.eventDrag,c),re=this.splitEventResize(a.eventResize,c);return ye("div",{className:"fc-timegrid-cols",ref:this.rootElRef},ye("table",{role:"presentation",style:{minWidth:a.tableMinWidth,width:a.clientWidth}},a.tableColGroupNode,ye("tbody",{role:"presentation"},ye("tr",{role:"row"},a.axis&&ye("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},ye("div",{className:"fc-timegrid-col-frame"},ye("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof l&&ye(Th,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:l},isAxis:!0,date:a.nowDate})))),a.cells.map(function(de,ve){return ye(Ure,{key:de.key,elRef:r.cellElRefs.createRef(de.key),dateProfile:a.dateProfile,date:de.date,nowDate:a.nowDate,todayRange:a.todayRange,extraRenderProps:de.extraRenderProps,extraDataAttrs:de.extraDataAttrs,extraClassNames:de.extraClassNames,extraDateSpan:de.extraDateSpan,fgEventSegs:u[ve],bgEventSegs:h[ve],businessHourSegs:x[ve],nowIndicatorSegs:T[ve],dateSelectionSegs:O[ve],eventDrag:U[ve],eventResize:re[ve],slatCoords:a.slatCoords,eventSelection:a.eventSelection,forPrint:a.forPrint})})))))}},{key:"componentDidMount",value:function(){this.updateCoords()}},{key:"componentDidUpdate",value:function(){this.updateCoords()}},{key:"updateCoords",value:function(){var r=this.props;r.onColCoords&&null!==r.clientWidth&&r.onColCoords(new id(this.rootElRef.current,function qre(n,o){return o.map(function(t){return n[t.key]})}(this.cellElRefs.currentMap,r.cells),!0,!1))}}]),t}(Cn),Jre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).processSlotOptions=tn(Hre),i.state={slatCoords:null},i.handleRootEl=function(r){r?i.context.registerInteractiveComponent((0,yi.Z)(i),{el:r,isHitComboAllowed:i.props.isHitComboAllowed}):i.context.unregisterInteractiveComponent((0,yi.Z)(i))},i.handleScrollRequest=function(r){var a=i.props.onScrollTopRequest,s=i.state.slatCoords;if(a&&s){if(r.time){var l=s.computeTimeTop(r.time);(l=Math.ceil(l))&&(l+=1),a(l)}return!0}return!1},i.handleColCoords=function(r){i.colCoords=r},i.handleSlatCoords=function(r){i.setState({slatCoords:r}),i.props.onSlatCoords&&i.props.onSlatCoords(r)},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.state;return ye("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},ye(Sre,{axis:r.axis,dateProfile:r.dateProfile,slatMetas:r.slatMetas,clientWidth:r.clientWidth,minHeight:r.expandRows?r.clientHeight:"",tableMinWidth:r.tableMinWidth,tableColGroupNode:r.axis?r.tableColGroupNode:null,onCoords:this.handleSlatCoords}),ye(Yre,{cells:r.cells,axis:r.axis,dateProfile:r.dateProfile,businessHourSegs:r.businessHourSegs,bgEventSegs:r.bgEventSegs,fgEventSegs:r.fgEventSegs,dateSelectionSegs:r.dateSelectionSegs,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange,nowDate:r.nowDate,nowIndicatorSegs:r.nowIndicatorSegs,clientWidth:r.clientWidth,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,slatCoords:a.slatCoords,onColCoords:this.handleColCoords,forPrint:r.forPrint}))}},{key:"componentDidMount",value:function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}},{key:"componentDidUpdate",value:function(r){this.scrollResponder.update(r.dateProfile!==this.props.dateProfile)}},{key:"componentWillUnmount",value:function(){this.scrollResponder.detach()}},{key:"queryHit",value:function(r,a){var s=this.context,l=s.dateEnv,u=this.colCoords,h=this.props.dateProfile,x=this.state.slatCoords,T=this.processSlotOptions(this.props.slotDuration,s.options.snapDuration),O=T.snapDuration,U=T.snapsPerSlot,re=u.leftToIndex(r),de=x.positions.topToIndex(a);if(null!=re&&null!=de){var ve=this.props.cells[re],Ne=x.positions.tops[de],De=x.positions.getHeight(de),We=Math.floor((a-Ne)/De*U),rt=this.props.cells[re].date,vt=oy(h.slotMinTime,DT(O,de*U+We)),Zt=l.add(rt,vt),Ht=l.add(Zt,O);return{dateProfile:h,dateSpan:Object.assign({range:{start:Zt,end:Ht},allDay:!1},ve.extraDateSpan),dayEl:u.els[re],rect:{left:u.lefts[re],right:u.rights[re],top:Ne,bottom:Ne+De},layer:0}}return null}}]),t}(fa);function Hre(n,o){var t=o||n,i=Hd(n,t);return null===i&&(t=n,i=1),{snapDuration:t,snapsPerSlot:i}}var Bre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t,[{key:"sliceRange",value:function(r,a){for(var s=[],l=0;l<a.length;l+=1){var c=nd(r,a[l]);c&&s.push({start:c.start,end:c.end,isStart:c.start.valueOf()===r.start.valueOf(),isEnd:c.end.valueOf()===r.end.valueOf(),col:l})}return s}}]),t}(Jy),Vre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).buildDayRanges=tn(Gre),i.slicer=new Bre,i.timeColsRef={current:null},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.props,s=this.context,l=a.dateProfile,c=a.dayTableModel,u=s.options,h=u.nowIndicator,x=u.nextDayThreshold,T=this.buildDayRanges(c,l,s.dateEnv);return ye(zd,{unit:h?"minute":"day"},function(O,U){return ye(Jre,Object.assign({ref:r.timeColsRef},r.slicer.sliceProps(a,l,null,s,T),{forPrint:a.forPrint,axis:a.axis,dateProfile:l,slatMetas:a.slatMetas,slotDuration:a.slotDuration,cells:c.cells[0],tableColGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,clientWidth:a.clientWidth,clientHeight:a.clientHeight,expandRows:a.expandRows,nowDate:O,nowIndicatorSegs:h&&r.slicer.sliceNowDate(O,l,x,s,T),todayRange:U,onScrollTopRequest:a.onScrollTopRequest,onSlatCoords:a.onSlatCoords}))})}}]),t}(fa);function Gre(n,o,t){var a,i=[],r=(0,te.Z)(n.headerDates);try{for(r.s();!(a=r.n()).done;){var s=a.value;i.push({start:t.add(s,o.slotMinTime),end:t.add(s,o.slotMaxTime)})}}catch(l){r.e(l)}finally{r.f()}return i}var Nk=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Wre(n,o,t,i,r){for(var a=new Date(0),s=n,l=Wn(0),c=t||function Qre(n){var o,t,i;for(o=Nk.length-1;o>=0;o-=1)if(null!==(i=Hd(t=Wn(Nk[o]),n))&&i>1)return t;return n}(i),u=[];Wo(s)<Wo(o);){var h=r.add(a,s),x=null!==Hd(l,c);u.push({date:h,time:s,key:h.toISOString(),isoTimeStr:dO(h),isLabeled:x}),s=oy(s,i),l=oy(l,i)}return u}var zre=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).buildTimeColsModel=tn(Kre),i.buildSlatMetas=tn(Wre),i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.context,s=a.options,l=a.dateEnv,u=this.props,h=u.dateProfile,x=this.buildTimeColsModel(h,a.dateProfileGenerator),T=this.allDaySplitter.splitProps(u),O=this.buildSlatMetas(h.slotMinTime,h.slotMaxTime,s.slotLabelInterval,s.slotDuration,l),U=s.dayMinWidth,re=!U,de=U,ve=s.dayHeaders&&ye(qy,{dates:x.headerDates,dateProfile:h,datesRepDistinctDays:!0,renderIntro:re?this.renderHeadAxis:null}),Ne=!1!==s.allDaySlot&&function(Ge){return ye(Tk,Object.assign({},T.allDay,{dateProfile:h,dayTableModel:x,nextDayThreshold:s.nextDayThreshold,tableMinWidth:Ge.tableMinWidth,colGroupNode:Ge.tableColGroupNode,renderRowIntro:re?r.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:r.headerElRef,clientWidth:Ge.clientWidth,clientHeight:Ge.clientHeight,forPrint:u.forPrint},r.getAllDayMaxEventProps()))},De=function(We){return ye(Vre,Object.assign({},T.timed,{dayTableModel:x,dateProfile:h,axis:re,slotDuration:s.slotDuration,slatMetas:O,forPrint:u.forPrint,tableColGroupNode:We.tableColGroupNode,tableMinWidth:We.tableMinWidth,clientWidth:We.clientWidth,clientHeight:We.clientHeight,onSlatCoords:r.handleSlatCoords,expandRows:We.expandRows,onScrollTopRequest:r.handleScrollTopRequest}))};return de?this.renderHScrollLayout(ve,Ne,De,x.colCnt,U,O,this.state.slatCoords):this.renderSimpleLayout(ve,Ne,De)}}]),t}(Cre);function Kre(n,o){var t=new Nw(n.renderRange,o);return new Rw(t,!1)}var $re={allDaySlot:Boolean};uh('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var qx=ha({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:$re,views:{timeGrid:{component:zre,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),eoe=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).buildDayTableModel=tn(Sk),i.slicer=new Ck,i.state={labelId:Sg()},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this.props,a=this.state,s=this.context,l=r.dateProfile,c=r.forPrint,u=s.options,h=this.buildDayTableModel(l,s.dateProfileGenerator),x=this.slicer.sliceProps(r,l,u.nextDayThreshold,s,h),T=null!=r.tableWidth?r.tableWidth/u.aspectRatio:null,U=null!=T?T/h.cells.length:null;return ye("div",{ref:r.elRef,"data-date":r.isoDateStr,className:"fc-multimonth-month",style:{width:r.width},role:"grid","aria-labelledby":a.labelId},ye("div",{className:"fc-multimonth-header",style:{marginBottom:U},role:"presentation"},ye("div",{className:"fc-multimonth-title",id:a.labelId},s.dateEnv.format(r.dateProfile.currentRange.start,r.titleFormat)),ye("table",{className:["fc-multimonth-header-table",s.theme.getClass("table")].join(" "),role:"presentation"},ye("thead",{role:"rowgroup"},ye(qy,{dateProfile:r.dateProfile,dates:h.headerDates,datesRepDistinctDays:!1})))),ye("div",{className:["fc-multimonth-daygrid","fc-daygrid","fc-daygrid-body",!c&&"fc-daygrid-body-balanced",c&&"fc-daygrid-body-unbalanced",c&&"fc-daygrid-body-natural"].join(" "),style:{marginTop:-U}},ye("table",{className:["fc-multimonth-daygrid-table",s.theme.getClass("table")].join(" "),style:{height:c?"":T},role:"presentation"},ye("tbody",{role:"rowgroup"},ye(xk,Object.assign({},x,{dateProfile:l,cells:h.cells,eventSelection:r.eventSelection,dayMaxEvents:!c,dayMaxEventRows:!c,showWeekNumbers:u.weekNumbers,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:c}))))))}}]),t}(fa),toe=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){var i;return(0,I.Z)(this,t),(i=o.apply(this,arguments)).splitDateProfileByMonth=tn(ioe),i.buildMonthFormat=tn(aoe),i.scrollElRef={current:null},i.firstMonthElRef={current:null},i.needsScrollReset=!1,i.handleSizing=function(r){r&&i.updateSize()},i}return(0,M.Z)(t,[{key:"render",value:function(){var r=this,a=this.context,s=this.props,l=this.state,c=a.options,u=l.clientWidth,h=l.clientHeight,x=l.monthHPadding||0,T=Math.min(null!=u?Math.floor(u/(c.multiMonthMinWidth+x)):1,c.multiMonthMaxColumns)||1,O=100/T+"%",U=null==u?null:u/T-x,re=null!=u&&1===T,de=this.splitDateProfileByMonth(a.dateProfileGenerator,s.dateProfile,a.dateEnv,!re&&c.fixedWeekCount,c.showNonCurrentDates),ve=this.buildMonthFormat(c.multiMonthTitleFormat,de);return ye(cp,{elRef:this.scrollElRef,elClasses:["fc-multimonth",re?"fc-multimonth-singlecol":"fc-multimonth-multicol",null!=U&&U<400?"fc-multimonth-compact":""],viewSpec:a.viewSpec},de.map(function(De,Ge){var We=ly(De.currentRange.start);return ye(eoe,Object.assign({},s,{key:We,isoDateStr:We,elRef:0===Ge?r.firstMonthElRef:void 0,titleFormat:ve,dateProfile:De,width:O,tableWidth:U,clientWidth:u,clientHeight:h}))}))}},{key:"componentDidMount",value:function(){this.updateSize(),this.context.addResizeHandler(this.handleSizing),this.requestScrollReset()}},{key:"componentDidUpdate",value:function(r){Eo(r,this.props)||this.handleSizing(!1),r.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}},{key:"componentWillUnmount",value:function(){this.context.removeResizeHandler(this.handleSizing)}},{key:"updateSize",value:function(){var r=this.scrollElRef.current,a=this.firstMonthElRef.current;r&&this.setState({clientWidth:r.clientWidth,clientHeight:r.clientHeight}),a&&r&&null==this.state.monthHPadding&&this.setState({monthHPadding:r.clientWidth-a.firstChild.offsetWidth})}},{key:"requestScrollReset",value:function(){this.needsScrollReset=!0,this.flushScrollReset()}},{key:"flushScrollReset",value:function(){if(this.needsScrollReset&&null!=this.state.monthHPadding){var a=this.scrollElRef.current,s=a.querySelector('[data-date="'.concat(ly(this.props.dateProfile.currentDate),'"]'));a.scrollTop=s.getBoundingClientRect().top-this.firstMonthElRef.current.getBoundingClientRect().top,this.needsScrollReset=!1}}},{key:"shouldComponentUpdate",value:function(){return!0}}]),t}(fa),noe=Wn(1,"month");function ioe(n,o,t,i,r){for(var a=o.currentRange,l=a.end,c=a.start,u=[];c.valueOf()<l.valueOf();){var h=t.add(c,noe),x={start:n.skipHiddenDays(c),end:n.skipHiddenDays(h,-1,!0)},T=Dk({currentRange:x,snapToWeek:!0,fixedWeekCount:i,dateEnv:t});T={start:n.skipHiddenDays(T.start),end:n.skipHiddenDays(T.end,-1,!0)};var O=o.activeRange?nd(o.activeRange,r?T:x):null;u.push({currentDate:o.currentDate,isValid:o.isValid,validRange:o.validRange,renderRange:T,activeRange:O,currentRange:x,currentRangeUnit:"month",isRangeAllDay:!0,dateIncrement:o.dateIncrement,slotMinTime:o.slotMaxTime,slotMaxTime:o.slotMinTime}),c=h}return u}var roe=Bi({year:"numeric",month:"long"}),ooe=Bi({month:"long"});function aoe(n,o){return n||(o[0].currentRange.start.getUTCFullYear()!==o[o.length-1].currentRange.start.getUTCFullYear()?roe:ooe)}var soe={multiMonthTitleFormat:Bi,multiMonthMaxColumns:Number,multiMonthMinWidth:Number};uh(".fc .fc-multimonth{border:1px solid var(--fc-border-color);display:flex;flex-wrap:wrap;overflow-x:hidden;overflow-y:auto}.fc .fc-multimonth-title{font-size:1.2em;font-weight:700;padding:1em 0;text-align:center}.fc .fc-multimonth-daygrid{background:var(--fc-page-bg-color)}.fc .fc-multimonth-daygrid-table,.fc .fc-multimonth-header-table{table-layout:fixed;width:100%}.fc .fc-multimonth-daygrid-table{border-top-style:hidden!important}.fc .fc-multimonth-singlecol .fc-multimonth{position:relative}.fc .fc-multimonth-singlecol .fc-multimonth-header{background:var(--fc-page-bg-color);position:relative;top:0;z-index:2}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid{position:relative;z-index:1}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid-table,.fc .fc-multimonth-singlecol .fc-multimonth-header-table{border-left-style:hidden;border-right-style:hidden}.fc .fc-multimonth-singlecol .fc-multimonth-month:last-child .fc-multimonth-daygrid-table{border-bottom-style:hidden}.fc .fc-multimonth-multicol{line-height:1}.fc .fc-multimonth-multicol .fc-multimonth-month{padding:0 1.2em 1.2em}.fc .fc-multimonth-multicol .fc-daygrid-more-link{border:1px solid var(--fc-event-border-color);display:block;float:none;padding:1px}.fc .fc-multimonth-compact{line-height:1}.fc .fc-multimonth-compact .fc-multimonth-daygrid-table,.fc .fc-multimonth-compact .fc-multimonth-header-table{font-size:.9em}.fc-media-screen .fc-multimonth-singlecol .fc-multimonth-header{position:sticky}.fc-media-print .fc-multimonth{overflow:visible}");var Rk=ha({name:"@fullcalendar/multimonth",initialView:"multiMonthYear",optionRefiners:soe,views:{multiMonth:{component:toe,dateProfileGeneratorClass:wk,multiMonthMinWidth:350,multiMonthMaxColumns:3},multiMonthYear:{type:"multiMonth",duration:{years:1},fixedWeekCount:!0,showNonCurrentDates:!1}}});class coe{constructor(o,t){this.initialView=o,this.startDayOfTheWeek=t}}class doe{constructor(o,t){this.monthName=o,this.date=t}}let nb=(()=>{class n{constructor(t){this.http=t,this.mockUrl="http://localhost:3000"}getAllAbsences(t){return new A.y(i=>{this.http.get(S.j.URLabsences,{params:t}).subscribe({next:r=>i.next(r),error:r=>i.error(r)})})}getAllAbsenceStatuses(){return new A.y(t=>{this.http.get(S.j.URLabsences+"/absencestatuses").subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getPreferences(){return new A.y(t=>{this.http.get(S.j.URLabsencePreferences+"/1").subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}editPreferences(t){return new A.y(i=>{this.http.put(S.j.URLabsencePreferences,t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}getAbsenceById(t,i){const r=i?"/absencerequest/":"/absence/";return new A.y(a=>{this.http.get(S.j.URLabsences+r+t,{}).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}createAbsence(t,i){return t.numberOfHours=i,new A.y(r=>{this.http.post(S.j.URLabsences,t).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}editAbsence(t,i){return t.numberOfHours=i,new A.y(r=>{this.http.put(S.j.URLabsences,t).subscribe(a=>(r.next(a),r.complete()),a=>r.error(a))})}editAbsenceAuthorisationList(t,i){return t.numberOfHours=i,new A.y(r=>{this.http.put(S.j.URLabsencesAuthorisationList,t).subscribe({next:a=>r.next(a),error:a=>r.error(a)})})}deleteAbsence(t,i){const r=i?"/absencerequest/":"/absence/";return new A.y(a=>{this.http.delete(S.j.URLabsences+r+t,{}).subscribe(s=>(a.next(s),a.complete()),s=>a.error(s))})}getAllStatuses(){return new A.y(t=>{this.http.get(S.j.URLabsences+"/absencestatuses").subscribe(i=>(t.next(i),t.complete()),i=>t.error(i))})}getDataForApprovalTable(t,i,r,a,s,l,c){return new A.y(u=>{this.http.get(S.j.URLabsencesAuthorisationList,{params:{Limit:s||"5",SortOrder:l||"asc",Column:c>=0?c+1:"1",Page:a||"1",SearchConnectedEmployees:0==r.length?"false":"true",Id:0!=r.length?r:[],AbsenceStatusIDs:0!=i.length?i:[]}}).subscribe(h=>(u.next(h),u.complete()),h=>u.error(h))})}approveAbsence(t){return new A.y(i=>{this.http.put(S.j.URLabsences+"/approve/",t).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}rejectAbsence(t){return new A.y(i=>{this.http.put(S.j.URLabsences+"/reject/",[t]).subscribe(r=>(i.next(r),i.complete()),r=>i.error(r))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uoe{constructor(o,t,i,r,a,s,l,c,u,h,x,T,O){this.absenceCodeID=o,this.absenceID=t,this.absenceRequestID=i,this.absenceStatusID=r,this.addForOther=a,this.employeeComment=s,this.employeeID=l,this.endDate=c,this.managerComment=u,this.manuallyEdited=h,this.numberOfHours=x,this.startDate=T,this.deletePending=O}}function poe(n,o){if(1&n&&(e.TgZ(0,"ng-option",37),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function foe(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Absence Code ",t.message.required," ")}}function hoe(n,o){if(1&n&&(e.TgZ(0,"div",38),e.YNc(1,foe,2,1,"div",27),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.absenceCodeID.errors?null:t.f.absenceCodeID.errors.required)}}function moe(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Absence Start ",t.message.required," ")}}function goe(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function _oe(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" You are attempting to book an absence for a date which is in breach of the minimum notice period (",t.deadlineDays-1," day/s). Please try a different date. ")}}function voe(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," You cannot request absences in the past. Please try a different date. "),e.qZA())}function boe(n,o){if(1&n&&(e.TgZ(0,"div",38),e.YNc(1,moe,2,1,"div",27),e.YNc(2,goe,2,1,"div",27),e.YNc(3,_oe,2,1,"div",27),e.YNc(4,voe,2,0,"div",27),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.startDate.errors?null:t.f.startDate.errors.required)&&!(null!=t.f.startDate.errors&&t.f.startDate.errors.matDatepickerParse)&&!(null!=t.f.startDate.errors&&t.f.startDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.f.startDate.errors?null:t.f.startDate.errors.matDatepickerParse)||(null==t.f.startDate.errors?null:t.f.startDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.f.startDate.errors?null:t.f.startDate.errors.matDatepickerMin)&&t.deadlineDays>0),e.xp6(1),e.Q6J("ngIf",(null==t.f.startDate.errors?null:t.f.startDate.errors.matDatepickerMin)&&0==t.deadlineDays)}}function yoe(n,o){if(1&n&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Start Time ",t.message.required," ")}}function xoe(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,yoe,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.startTime||null==t.f.startTime.errors?null:t.f.startTime.errors.required)}}function Coe(n,o){if(1&n&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function Toe(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Absence End ",t.message.required," ")}}function woe(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function Doe(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" You are attempting to book an absence for a date which is in breach of the minimum notice period (",t.deadlineDays-1," day/s). Please try a different date. ")}}function Soe(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1," You cannot request absences in the past. Please try a different date. "),e.qZA())}function koe(n,o){if(1&n&&(e.TgZ(0,"div",38),e.YNc(1,Toe,2,1,"div",27),e.YNc(2,woe,2,1,"div",27),e.YNc(3,Doe,2,1,"div",27),e.YNc(4,Soe,2,0,"div",27),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate.errors?null:t.f.endDate.errors.required)&&!(null!=t.f.endDate.errors&&t.f.endDate.errors.matDatepickerParse)&&!(null!=t.f.endDate.errors&&t.f.endDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate.errors?null:t.f.endDate.errors.matDatepickerParse)||(null==t.f.endDate.errors?null:t.f.endDate.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate.errors?null:t.f.endDate.errors.matDatepickerMin)&&t.deadlineDays>0),e.xp6(1),e.Q6J("ngIf",(null==t.f.endDate.errors?null:t.f.endDate.errors.matDatepickerMin)&&0==t.deadlineDays)}}function Aoe(n,o){if(1&n&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" End Time ",t.message.required," ")}}function Moe(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Aoe,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.endTime||null==t.f.endTime.errors?null:t.f.endTime.errors.required)}}function Ooe(n,o){if(1&n&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function Poe(n,o){if(1&n&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Absence Hours ",t.message.required," ")}}function Eoe(n,o){if(1&n&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function Ioe(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Poe,2,1,"div",17),e.YNc(2,Eoe,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.numberOfHours||null==t.f.numberOfHours.errors?null:t.f.numberOfHours.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.numberOfHours.errors?null:t.f.numberOfHours.errors.minlength)}}function Noe(n,o){if(1&n&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function Roe(n,o){if(1&n&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.limit1000," ")}}function Foe(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Roe,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.employeeComment.errors?null:t.f.employeeComment.errors.maxlength)}}function Zoe(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",9)(2,"div",2)(3,"div",1)(4,"div",2)(5,"textarea",40),e._uU(6,"                          "),e.qZA(),e.YNc(7,Foe,2,1,"div",27),e.qZA()(),e.TgZ(8,"div",28)(9,"div",29),e._UZ(10,"hr"),e.qZA()()()(),e.TgZ(11,"div",9)(12,"div",2)(13,"div",1)(14,"div",41)(15,"span",42),e._uU(16," Manager's Comment: "),e.qZA()(),e.TgZ(17,"div",43)(18,"span",44),e._uU(19),e.qZA()()(),e.TgZ(20,"div",28)(21,"div",29),e._UZ(22,"hr"),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.f.employeeComment.touched&&t.f.employeeComment.errors),e.xp6(12),e.hij(" ",t.managersComment?t.managersComment:"-"," ")}}function Loe(n,o){if(1&n&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.limit1000," ")}}function Uoe(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Loe,2,1,"div",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.managerComment.errors?null:t.f.managerComment.errors.maxlength)}}function joe(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",45)(2,"div",2)(3,"div",1)(4,"div",41)(5,"span",42),e._uU(6," Employee's Comment: "),e.qZA()(),e.TgZ(7,"div",43)(8,"span",46),e._uU(9),e.qZA()()(),e.TgZ(10,"div",28)(11,"div",29),e._UZ(12,"hr"),e.qZA()()()(),e.TgZ(13,"div",9)(14,"div",2)(15,"div",1)(16,"div",41)(17,"span",42),e._uU(18," Manager's Comment: "),e.qZA()(),e.TgZ(19,"div",43)(20,"textarea",47),e._uU(21,"                                  "),e.qZA()(),e.YNc(22,Uoe,2,1,"div",27),e.qZA(),e.TgZ(23,"div",28)(24,"div",29),e._UZ(25,"hr"),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(9),e.hij(" ",t.employeeComment?t.employeeComment:"-"," "),e.xp6(13),e.Q6J("ngIf",t.f.managerComment.touched&&t.f.managerComment.errors)}}const Yoe=function(n){return{"input-error":n}};function qoe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",13),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitAbsence())}),e.TgZ(1,"div",14)(2,"div",2)(3,"ng-select",15),e.YNc(4,poe,2,2,"ng-option",16),e.qZA(),e.YNc(5,hoe,2,1,"div",17),e.qZA()(),e.TgZ(6,"div",1)(7,"div",2)(8,"div",1)(9,"div",18)(10,"span",12),e._uU(11," Absence Start: "),e.qZA()(),e.TgZ(12,"div",19)(13,"div",20)(14,"div",21)(15,"input",22),e.NdJ("dateChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dateTimeValidation("end"))}),e.qZA(),e.TgZ(16,"img",23),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(18);return e.KtG(r.open())}),e.qZA(),e._UZ(17,"mat-datepicker",null,24),e.YNc(19,boe,5,4,"div",17),e.qZA(),e.TgZ(20,"div",25),e._UZ(21,"input",26),e.YNc(22,xoe,2,1,"div",27),e.YNc(23,Coe,2,1,"div",17),e.qZA()()()(),e.TgZ(24,"div",28)(25,"div",29),e._UZ(26,"hr"),e.qZA()()()(),e.TgZ(27,"div",9)(28,"div",2)(29,"div",1)(30,"div",18)(31,"span",12),e._uU(32," Absence End: "),e.qZA()(),e.TgZ(33,"div",19)(34,"div",20)(35,"div",21)(36,"input",30),e.NdJ("dateChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dateTimeValidation("start"))}),e.qZA(),e.TgZ(37,"img",23),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(39);return e.KtG(r.open())}),e.qZA(),e._UZ(38,"mat-datepicker",null,31),e.YNc(40,koe,5,4,"div",17),e.qZA(),e.TgZ(41,"div",25),e._UZ(42,"input",32),e.YNc(43,Moe,2,1,"div",27),e.YNc(44,Ooe,2,1,"div",17),e.qZA()()()(),e.TgZ(45,"div",28)(46,"div",29),e._UZ(47,"hr"),e.qZA()()()(),e.TgZ(48,"div",9)(49,"div",2)(50,"div",1)(51,"div",33)(52,"span",12),e._uU(53," Absence Hours: "),e.qZA()(),e.TgZ(54,"div",34)(55,"input",35),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changedHours())})("keydown",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.filterHoursInput(r))}),e.qZA(),e.YNc(56,Ioe,3,2,"div",27),e.YNc(57,Noe,2,1,"div",36),e.qZA()(),e.TgZ(58,"div",28)(59,"div",29),e._UZ(60,"hr"),e.qZA()()()(),e.YNc(61,Zoe,23,2,"div",27),e.YNc(62,joe,26,2,"div",27),e.qZA()}if(2&n){const t=e.MAs(18),i=e.MAs(39),r=e.oxw();e.Q6J("formGroup",r.absenceForm),e.xp6(3),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",r.absenceCodes),e.xp6(1),e.Q6J("ngIf",(null==r.f.absenceCodeID?null:r.f.absenceCodeID.touched)&&(null==r.f.absenceCodeID?null:r.f.absenceCodeID.errors)),e.xp6(10),e.s9C("placeholder",r.message.datePickerPlaceholder),e.Q6J("matDatepicker",t)("dateLengthTracker",r.dateLength)("min",r.minimumStartDate),e.xp6(4),e.Q6J("ngIf",(null==r.f.startDate?null:r.f.startDate.touched)&&(null==r.f.startDate?null:r.f.startDate.errors)),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",r.f.startTime.touched&&r.f.startTime.errors),e.xp6(1),e.Q6J("ngIf",null==r.f.startTime.errors?null:r.f.startTime.errors.minlength),e.xp6(13),e.s9C("placeholder",r.message.datePickerPlaceholder),e.Q6J("matDatepicker",i)("dateLengthTracker",r.dateLength)("min",r.minimumStartDate),e.xp6(4),e.Q6J("ngIf",(null==r.f.endDate?null:r.f.endDate.touched)&&(null==r.f.endDate?null:r.f.endDate.errors)),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(1),e.Q6J("ngIf",r.f.endTime.touched&&r.f.endTime.errors),e.xp6(1),e.Q6J("ngIf",null==r.f.endTime.errors?null:r.f.endTime.errors.minlength),e.xp6(11),e.Q6J("hoursMaskInput",r.hoursFieldMaxLength)("ngClass",e.VKq(27,Yoe,!r.validHoursTime))("maxlength",r.hoursFieldMaxLength),e.xp6(1),e.Q6J("ngIf",r.f.numberOfHours.touched&&r.f.numberOfHours.errors),e.xp6(1),e.Q6J("ngIf",!r.validHoursTime),e.xp6(4),e.Q6J("ngIf","Employee"==r.role),e.xp6(1),e.Q6J("ngIf","User"==r.role)}}let Joe=(()=>{class n{constructor(t,i,r,a,s,l){this.absenceData=t,this._absenceService=i,this._absenceCodesService=r,this._fb=a,this._messageService=s,this._dialogRef=l,this.dialogTitle="",this.absenceCodes=[],this.absenceStatuses=[],this.totalAbsenceDays="0",this.totalAbsenceHours="0",this.dateLength=ai.YG.length,this.absenceIdNumber=0,this.absenceRequestIdNumber=0,this.isEmployee=!1,this.singleDayAbsenceMaxLength=5,this.multiDayAbsenceMaxLength=9999999,this.validHoursTime=!0,this.timeChanged=!1,this.minimumStartDate=new Date(1900,1,1),this.deadlineDays=0,this.allAbsences=[],this.ticksPerMillisecond=1e4,this.durationInTicks=0,this.viewForAnother=!1,this.role=null,this.deadlineErrorMessage="",this.hasChange=!1,this.destroyed$=new Km.t(1),this.absenceIdNumber=Number(t.absenceID),this.absenceRequestIdNumber=Number(t.absenceRequestID),this.isEmployee=t.isEmployee,this.deadlineDays=t.deadlineDays,this.dialogTitle="Absence Details",this.viewForAnother=t.viewForAnother,this.role=localStorage.getItem("role")}ngOnInit(){this.message=St.yw,this.getAbsenceComboValues(),this.buildAbsenceForm(),this.setSingleDayHoursValidation()}ngAfterViewInit(){this.createTimeSubscription()}buildAbsenceForm(){this.absenceForm=this._fb.group({absenceCodeID:[null,{validators:[_.kI.required],updateOn:"change"}],absenceID:[0],absenceRequestID:[0],absenceStatusID:[null],addForOther:[!1],employeeComment:[null,{validators:[_.kI.maxLength(1e3)],updateOn:"change"}],employeeID:[0,{validators:[_.kI.required],updateOn:"blur"}],endDate:[null,{validators:[_.kI.required],updateOn:"change"}],managerComment:[null,{validators:[_.kI.maxLength(1e3)],updateOn:"blur"}],manuallyEdited:[!1,{validators:[_.kI.required],updateOn:"blur"}],numberOfHours:[null,{validators:[_.kI.required],updateOn:"blur"}],startDate:[null,{validators:[_.kI.required],updateOn:"change"}],startTime:[null,{validators:[_.kI.required],updateOn:"blur"}],endTime:[null,{validators:[_.kI.required],updateOn:"blur"}],deletePending:[!1]},{validators:[],asyncValidators:[]})}onCreateGroupFormValueChange(){const t=this.absenceForm.value;this.absenceForm.valueChanges.subscribe(i=>{this.hasChange=Object.keys(t).some(r=>{let a=this.absenceForm.value[r]!=t[r];if(a)switch(r){case"endDate":case"startDate":this.absenceForm.value[r].length==t[r].length?a=!0:this.absenceForm.value[r].length>t[r].length?this.absenceForm.value[r]=this.absenceForm.value[r].toString().slice(0,-3):t[r]=t[r].toString().slice(0,-3),a=this.absenceForm.value[r]!=t[r];break;case"numberOfHours":if(typeof this.absenceForm.value[r]==typeof t[r])a=!0;else{if("string"==typeof this.absenceForm.value[r]){const s=this.absenceForm.value[r].split(":"),l=60*(60*Number(s[0])+Number(s[1]))*1e3;this.absenceForm.value[r]=l*this.ticksPerMillisecond}else if("string"==typeof t[r]){const s=t[r].split(":"),l=60*(60*Number(s[0])+Number(s[1]))*1e3;t[r]=l*this.ticksPerMillisecond}a=this.absenceForm.value[r]!=t[r]}}return a})})}populateForm(){if(this.isEmployee){const i=new Date;this.minimumStartDate=this.addDays(i,this.deadlineDays)}if(this.absenceIdNumber>0||this.absenceRequestIdNumber>0)this.isRequest=!(this.absenceIdNumber>0),this._absenceService.getAbsenceById(this.absenceIdNumber>0?this.absenceIdNumber:this.absenceRequestIdNumber,this.isRequest).pipe((0,H.R)(this.destroyed$)).subscribe(i=>{const r=i.item,a=r.numberOfHours/this.ticksPerMillisecond;this.absenceForm.patchValue(r),this.managersComment=i.item.managerComment,this.employeeComment=i.item.employeeComment;let s=Math.trunc(W.duration(a).asHours()).toString(),l=W.duration(a).minutes().toString();s=s.length<2?"0"+s:s,l=l.length<2?"0"+l:l;const c=s+":"+l;let u=s+":"+l;const h=W((0,wt.a0)(i.item.startDate)).set({hour:0,minute:0,second:0,millisecond:0}),T=W((0,wt.a0)(i.item.endDate)).set({hour:0,minute:0,second:0,millisecond:0}).diff(h,"days");u=u.split(":").shift(),5===r.numberOfHours.length&&Number(u)<24?this.setSingleDayHoursValidation():this.setMultiDayHoursValidation(T),this.dateTimeValidation(""),this.initialHours=r.numberOfHours;const O=(0,wt.Do)(r.startDate),U=(0,wt.Do)(r.endDate);this.absenceForm.controls.startTime.setValue(O),this.absenceForm.controls.endTime.setValue(U),this.absenceForm.controls.numberOfHours.setValue(c),this.absenceForm.disable(),this.totalAbsenceHours=this.absenceForm.controls.numberOfHours.value,this.absenceForm.controls.addForOther.setValue(this.viewForAnother),this.onCreateGroupFormValueChange()},i=>{this._messageService.open(i)});else{let i,r;this.initialHours=null,this.absenceForm.controls.employeeID.setValue(Number(this.absenceData.employeeId)),this.absenceForm.controls.startDate.setValue(this.absenceData.startDate),this.absenceForm.controls.endDate.setValue(this.absenceData.endDate),this.absenceForm.controls.addForOther.setValue(this.viewForAnother),this.absenceStatuses.forEach(a=>{"Approved"===a.name&&(i=a.id),"Pending"===a.name&&(r=a.id)}),this.absenceForm.controls.absenceStatusID.setValue(this.isEmployee?r:i),setTimeout(()=>{this.initializeStartEndTimes()},20)}}getAbsenceComboValues(){this._absenceCodesService.getAllAbsenceCodes().pipe((0,H.R)(this.destroyed$)).subscribe(t=>{this.absenceCodes=t}),this._absenceService.getAllAbsenceStatuses().pipe((0,H.R)(this.destroyed$)).subscribe(t=>{this.absenceStatuses=t,this.populateForm()})}createTimeSubscription(){this.startTimeSubscription=this.absenceForm.controls.startTime.valueChanges.pipe((0,H.R)(this.destroyed$)).subscribe(()=>{this.dateTimeValidation("end")}),this.endTimeSubscription=this.absenceForm.controls.endTime.valueChanges.pipe((0,H.R)(this.destroyed$)).subscribe(()=>{this.dateTimeValidation("start")})}get f(){return this.absenceForm.controls}changedHours(){if(this.timeChanged=!0,-1!==this.absenceForm.controls.numberOfHours.value.indexOf(":")){const t=this.absenceForm.controls.numberOfHours.value.split(":"),i=t[1];if(Number(i)>59)this.validHoursTime=!1;else{const a=60*(60*Number(t[0])+Number(i))*1e3;this.validHoursTime=!0,this.absenceForm.controls.manuallyEdited.setValue(!0),this.durationInTicks=a*this.ticksPerMillisecond,this.totalAbsenceHours=this.absenceForm.controls.numberOfHours.value}}}dateTimeValidation(t){if("start"===t?this.updateStartDate():"end"===t&&this.updateEndDate(),this.absenceForm.controls.startTime.value&&5==this.absenceForm.controls.startTime.value.length&&this.absenceForm.controls.endTime.value&&5==this.absenceForm.controls.endTime.value.length){let i,r;const a=W(this.absenceForm.controls.startTime.value,"HH:mm"),s=W(this.absenceForm.controls.endTime.value,"HH:mm");if(this.absenceForm.controls.startDate.value&&this.absenceForm.controls.endDate.value){let l=W(W(this.absenceForm.controls.startDate.value).clone().format("YYYY-MM-DD")).clone().utc(!1).set({hour:0,minute:0,second:0,millisecond:0}),c=W(W(this.absenceForm.controls.endDate.value).clone().format("YYYY-MM-DD")).clone().utc(!1).set({hour:0,minute:0,second:0,millisecond:0});if(c.isBefore(l,"day"))return this.setSingleDayHoursValidation(),void(this.absenceForm.controls.manuallyEdited.value||this.absenceForm.controls.numberOfHours.setValue("",{emitEvent:!1}));(s.isBefore(a)||s.isSame(a))&&l.isSame(c,"day")&&(this.absenceForm.controls.endDate.setValue(W(this.absenceForm.controls.startDate.value).clone().add(1,"days").format("YYYY-MM-DD")),c=W(c).clone().add(1,"days"),this.setMultiDayHoursValidation(r)),l=W(W(this.absenceForm.controls.startDate.value).clone().format("YYYY-MM-DD")).clone().utc(!1).set({hour:0,minute:0,second:0,millisecond:0}),c=W(W(this.absenceForm.controls.endDate.value).clone().format("YYYY-MM-DD")).clone().utc(!1).set({hour:0,minute:0,second:0,millisecond:0}),r=c.diff(l,"days"),this.totalAbsenceDays="00:00"===this.absenceForm.controls.endTime.value?r:r+1,r>0?(this.setMultiDayHoursValidation(r),i=W.duration(s.diff(a)).add(864e5*r,"milliseconds")):(this.setSingleDayHoursValidation(),i=W.duration(s.diff(a))),this.durationInTicks=i*this.ticksPerMillisecond;let u=Math.floor(i.asHours()).toString(),h=(Math.floor(i.asMinutes())-60*Number(u)).toString();u=u.length<2?"0"+u:u,h=h.length<2?"0"+h:h;const x=u+":"+h;!1===this.absenceForm.controls.manuallyEdited.value&&(this.validHoursTime=!0,this.absenceForm.controls.numberOfHours.setValue(x),this.totalAbsenceHours=x)}}}updateStartDate(){if(this.absenceForm.controls.startDate.value&&this.absenceForm.controls.endDate.value){const t=W(W(this.absenceForm.controls.startDate.value).clone().format("YYYY-MM-DD")).set({hour:0,minute:0,second:0,millisecond:0}),i=W(W(this.absenceForm.controls.endDate.value).clone().format("YYYY-MM-DD")).set({hour:0,minute:0,second:0,millisecond:0});t.isAfter(i)&&this.absenceForm.controls.startDate.setValue(this.absenceForm.controls.endDate.value)}}updateEndDate(){if(this.absenceForm.controls.startDate.value&&this.absenceForm.controls.endDate.value){const t=W(W(this.absenceForm.controls.startDate.value).clone().format("YYYY-MM-DD")).set({hour:0,minute:0,second:0,millisecond:0});W(W(this.absenceForm.controls.endDate.value).clone().format("YYYY-MM-DD")).set({hour:0,minute:0,second:0,millisecond:0}).isBefore(t)&&this.absenceForm.controls.endDate.setValue(this.absenceForm.controls.startDate.value)}}setSingleDayHoursValidation(){this.hoursFieldMaxLength=this.singleDayAbsenceMaxLength}setMultiDayHoursValidation(t){this.hoursFieldMaxLength=t>=42?this.multiDayAbsenceMaxLength+1:this.multiDayAbsenceMaxLength}filterHoursInput(t){const i=(0,wt.C$)(t.key);8!==t.keyCode&&9!==t.keyCode&&46!==t.keyCode&&(i||t.preventDefault())}submitAbsence(){if(Object.keys(this.absenceForm.controls).forEach(t=>{this.absenceForm.get(t).markAsTouched({onlySelf:!0})}),this.absenceForm.valid&&this.validHoursTime){const t=(0,wt.wo)(this.absenceForm.controls.startDate.value,this.absenceForm.controls.startTime.value),i=(0,wt.wo)(this.absenceForm.controls.endDate.value,this.absenceForm.controls.endTime.value);this.absenceForm.controls.startDate.setValue(t),this.absenceForm.controls.endDate.setValue(i);const r=this.absenceForm.controls.numberOfHours.value.split(":"),a=60*(60*Number(r[0])+Number(r[1]))*1e3;this.durationInTicks=a*this.ticksPerMillisecond,this.absenceForm.controls.manuallyEdited.setValue(this.timeChanged),this.absenceIdNumber>0||this.absenceRequestIdNumber>0?this.hasChange?this._absenceService.editAbsence(this.createAbsenceObject(),this.durationInTicks).pipe((0,H.R)(this.destroyed$)).subscribe(()=>{this._messageService.open("Absence updated"),this.closeDialog()},s=>{const l=this._messageService.handleHttpError(s);try{const c=JSON.parse(s.error);c.Key&&"DeadlineDays"===c.Key&&this._getAbsencePreferencesOnSave()}catch(c){}400==s.status&&"The credentials you have entered for system email are invalid."===l&&this.closeDialog(),this._messageService.open(l)}):this._dialogRef.close():this._absenceService.createAbsence(this.createAbsenceObject(),this.durationInTicks).pipe((0,H.R)(this.destroyed$)).subscribe(()=>{this._messageService.open("Absence created"),this.closeDialog()},s=>{const l=this._messageService.handleHttpError(s);400==s.status&&"The credentials you have entered for system email are invalid."===l&&this.closeDialog(),this._messageService.open(l)})}else this._messageService.open(this.message.fillForm)}addDays(t,i){const r=new Date(Number(t));return r.setDate(t.getDate()+i),r}_getAbsencePreferencesOnSave(){this._absenceService.getPreferences().pipe((0,H.R)(this.destroyed$)).subscribe(t=>{if(this.deadlineDays=t.deadlineDays+1,this.isEmployee){const i=new Date;this.minimumStartDate=this.addDays(i,this.deadlineDays)}this.deadlineErrorMessage="Absence deadline has been changed to "+t.deadlineDays+" days. Please readjust absence date.",this._messageService.open(this.deadlineErrorMessage)})}closeDialog(){this._dialogRef.close()}initializeStartEndTimes(){this.absenceForm.controls.startTime.setValue("00:00"),this.absenceForm.controls.endTime.setValue("00:00")}createAbsenceObject(){return new uoe(this.absenceForm.controls.absenceCodeID.value,this.absenceForm.controls.absenceID.value,this.absenceForm.controls.absenceRequestID.value,this.absenceForm.controls.absenceStatusID.value,this.absenceForm.controls.addForOther.value,this.absenceForm.controls.employeeComment.value,this.absenceForm.controls.employeeID.value,this.absenceForm.controls.endDate.value,this.absenceForm.controls.managerComment.value,this.absenceForm.controls.manuallyEdited.value,this.absenceForm.controls.numberOfHours.value,this.absenceForm.controls.startDate.value,this.absenceForm.controls.deletePending.value)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(nb),e.Y36(Q1),e.Y36(_.qu),e.Y36(se.G),e.Y36(z.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-absence-dialog"]],decls:24,vars:3,consts:[[1,"container-fluid","dialog-form"],[1,"row"],[1,"col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButton"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider"],["class","absence-form","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","margin-top-10"],[1,"col-md-6","col-12"],[1,"col-12","lower-col"],[1,"absence-label"],["autocomplete","off",1,"absence-form",3,"formGroup","ngSubmit"],[1,"row","code-row"],["formControlName","absenceCodeID","id","AbsenceCode","placeholder","Absence Code",1,"form-input","employee-details","absence-code-select",3,"virtualScroll"],[3,"value",4,"ngFor","ngForOf"],["class","validationError",4,"ngIf"],[1,"col-md-3","col-12"],[1,"col-md-9","col-12"],[1,"row","date-time-row"],[1,"col-md-6","col-7","margin-bottom-6","dateFieldWidth"],["id","eSolveAbsenceStartDate","formControlName","startDate","required","",1,"form-control","height28","input-text",3,"matDatepicker","dateLengthTracker","min","placeholder","dateChange"],["src","assets/icons/calendar-icon.png",1,"eSolve_absence_calendar_icon_img",3,"click"],["absenceStartDatePicker",""],[1,"col-md-6","col-5"],["required","","type","text","placeholder","00:00","id","eSolveAbsenceStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","absStartTime","formControlName","startTime",1,"form-control","height28","input-text","hours-input","start-end-hours",3,"dropSpecialCharacters"],[4,"ngIf"],[1,"row","button-divider"],[1,"col-12","hr-container"],["id","eSolveAbsenceEndDate","formControlName","endDate","required","",1,"form-control","height28","input-text",3,"matDatepicker","dateLengthTracker","min","placeholder","dateChange"],["absenceEndDatePicker",""],["required","","type","text","placeholder","00:00","id","eSolveAbsenceEndTime","mask","Hh:m0","maxlength","5","minlength","5","name","absEndTime","formControlName","endTime",1,"form-control","height28","input-text","hours-input","start-end-hours",3,"dropSpecialCharacters"],[1,"col-md-3","col-7","hoursFieldWidth"],[1,"col-md-9","col-5"],["required","","type","text","placeholder","00:00","id","eSolveAbsenceHours","minlength","5","name","absEndTime","formControlName","numberOfHours",1,"form-control","height28","input-text","hours-input",3,"hoursMaskInput","ngClass","maxlength","change","keydown"],["class","validationError col-12",4,"ngIf"],[3,"value"],[1,"validationError"],[1,"validationError","col-12"],["formControlName","employeeComment","rows","5","placeholder","Add a comment...",1,"form-control","comment-input"],[1,"col-md-4","col-12"],[1,"absence-label-comment"],[1,"col-md-8","col-12"],[1,"absence-label","manager-comment"],[1,"row","margin-top-10","disabledPart"],[1,"absence-label","employee-comment"],["formControlName","managerComment","rows","5","placeholder","Add a comment...",1,"form-control","comment-input"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),e._uU(7),e.qZA(),e.TgZ(8,"div",5)(9,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()()()(),e.TgZ(10,"div",1)(11,"div",2),e._UZ(12,"hr",7),e.qZA()(),e.TgZ(13,"div",1)(14,"div",2),e.YNc(15,qoe,63,29,"form",8),e.qZA()(),e.TgZ(16,"div",9)(17,"div",2)(18,"div",1)(19,"div",10)(20,"div",1)(21,"div",11)(22,"span",12),e._uU(23),e.qZA()()()()()()()()()()),2&t&&(e.xp6(7),e.hij(" ",i.dialogTitle," "),e.xp6(8),e.Q6J("ngIf",i.absenceForm),e.xp6(8),e.hij(" Total absence hours: ",i.totalAbsenceHours," "))},dependencies:[D.mk,D.sg,D.O5,On.Mq,On.hl,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.wO,_.nD,_.sg,_.u,Sn,tr,Cs,$n,rr,Sx],styles:[".dialog-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButton[_ngcontent-%COMP%]{padding-right:0}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-bottom:20px}.button-divider[_ngcontent-%COMP%]{margin-top:13px}.form-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:0!important}.date_input[_ngcontent-%COMP%]{width:100%!important}.code-row[_ngcontent-%COMP%]{margin-bottom:25px}.height-28px[_ngcontent-%COMP%]{height:28px}.absence-label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#565d6f;white-space:nowrap}.manager-comment[_ngcontent-%COMP%]{white-space:normal!important;word-wrap:break-word!important}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;width:100%}.submit-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.cancel-button[_ngcontent-%COMP%]{background-color:#3f5064}.lower-col[_ngcontent-%COMP%]{margin-top:5px}.eSolve_absence_calendar_icon_img[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:5px;border-radius:0%;right:20px;position:absolute;top:4px;color:#989898;font-size:12px;cursor:pointer}.height28[_ngcontent-%COMP%]{height:28px!important}.input-text[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.margin-bottom-6[_ngcontent-%COMP%]{margin-bottom:6px}.hr-container[_ngcontent-%COMP%]{margin-top:-18px;margin-bottom:-22px}.hours-input[_ngcontent-%COMP%]{width:59px}.hours-input-total[_ngcontent-%COMP%]{width:67px}.comment-input[_ngcontent-%COMP%]{font-size:12px;min-height:5vh!important;max-height:20vh!important}.dialog-form[_ngcontent-%COMP%]{max-width:none}.absence-label-comment[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#565d6f;word-wrap:break-word}.dateFieldWidth[_ngcontent-%COMP%], .hoursFieldWidth[_ngcontent-%COMP%]{min-width:135px;max-width:150px}.employee-comment[_ngcontent-%COMP%]{white-space:normal!important;word-wrap:break-word!important}#eSolveAbsenceStartDate[_ngcontent-%COMP%]::-moz-placeholder, #eSolveAbsenceEndDate[_ngcontent-%COMP%]::-moz-placeholder{font-size:11px}#eSolveAbsenceStartDate[_ngcontent-%COMP%]:-ms-input-placeholder, #eSolveAbsenceEndDate[_ngcontent-%COMP%]:-ms-input-placeholder{font-size:11px}#eSolveAbsenceStartDate[_ngcontent-%COMP%]::placeholder, #eSolveAbsenceEndDate[_ngcontent-%COMP%]::placeholder{font-size:11px}@media (max-width: 382px){#eSolveAbsenceStartDate[_ngcontent-%COMP%], #eSolveAbsenceEndDate[_ngcontent-%COMP%]{padding-left:5px}}@media (min-width: 768px){.margin-bottom-6[_ngcontent-%COMP%]{margin-bottom:0}.dialog-form[_ngcontent-%COMP%]{max-width:49vw}.hoursFieldWidth[_ngcontent-%COMP%]{min-width:90px!important}}@media (min-width: 950px){.dialog-form[_ngcontent-%COMP%]{max-width:40vw}}@media (min-width: 1360px){.dialog-form[_ngcontent-%COMP%]{max-width:35vw}}"]}),n})();var Hoe=J(67322);const Boe=["absenceYearCalendar"],Voe=["absenceCalendar"],Goe=["multipleAbsencesMenuTrigger"],Woe=["multipleAbsencesContextMenuTrigger"],Qoe=["tooltipTrigger"],zoe=["employeeSelect"];function Koe(n,o){if(1&n&&(e.TgZ(0,"span",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.displayDateStart," - ",t.displayDateEnd," ")}}function $oe(n,o){if(1&n&&(e.TgZ(0,"span",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.monthLabels," ")}}function Xoe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",49)(1,"span",50),e._uU(2),e.qZA(),e.TgZ(3,"span",51),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function eae(n,o){1&n&&e.YNc(0,Xoe,5,1,"div",48),2&n&&e.Q6J("ngForOf",o.items)}function tae(n,o){if(1&n&&(e.TgZ(0,"form",43)(1,"ng-select",44,45),e.ALo(3,"async"),e.YNc(4,eae,1,1,"ng-template",46),e.qZA(),e._UZ(5,"i",47),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("formGroup",t.employeeFilterForm),e.xp6(1),e.Q6J("items",e.lcZ(3,5,t.employees))("multiple",!1)("hideSelected",!0)("typeahead",t.employeeSearchInput)}}function nae(n,o){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,tae,6,7,"form",42),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.employeeFilterForm)}}function iae(n,o){if(1&n&&(e.TgZ(0,"span",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.displayDateStart," - ",t.displayDateEnd," ")}}function rae(n,o){if(1&n&&(e.TgZ(0,"span",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.monthLabels," ")}}function oae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",49)(1,"span",50),e._uU(2),e.qZA(),e.TgZ(3,"span",51),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function aae(n,o){1&n&&e.YNc(0,oae,5,1,"div",48),2&n&&e.Q6J("ngForOf",o.items)}function sae(n,o){if(1&n&&(e.TgZ(0,"form",43)(1,"ng-select",44,45),e.ALo(3,"async"),e.YNc(4,aae,1,1,"ng-template",46),e.qZA(),e._UZ(5,"i",47),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("formGroup",t.employeeFilterForm),e.xp6(1),e.Q6J("items",e.lcZ(3,5,t.employees))("multiple",!1)("hideSelected",!0)("typeahead",t.employeeSearchInput)}}function lae(n,o){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,sae,6,7,"form",42),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.employeeFilterForm)}}function cae(n,o){if(1&n&&(e.TgZ(0,"div",52)(1,"div",19)(2,"div",53),e._UZ(3,"full-calendar",54,55),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.calendarOptions)("events",t.events)}}function dae(n,o){if(1&n&&(e.TgZ(0,"div",52)(1,"div",19)(2,"div",56),e._UZ(3,"full-calendar",57,58),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.calendarOptions1)("events",t.events)("initialView",t.defaultView)}}function uae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw();return e.KtG(s.openDetailsFromMultipleAbsences(a))}),e._UZ(1,"div",60),e._uU(2),e.ALo(3,"TimeTransformPipe"),e.ALo(4,"TimeTransformPipe"),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Udp("background-color",i.hexToRGB(t.color)),e.xp6(1),e.lnq(" ",t.tooltip,": ",e.lcZ(3,5,t.start)," - ",e.lcZ(4,7,t.end)," ")}}function pae(n,o){1&n&&e._UZ(0,"mat-spinner",61)}const fae=function(n){return{"opacity-0":n}};var Xr=(()=>{return(n=Xr||(Xr={}))[n.noAction=0]="noAction",n[n.timelineToggled=1]="timelineToggled",n[n.nextClicked=2]="nextClicked",n[n.prevClicked=3]="prevClicked",n[n.viewTypeChanged=4]="viewTypeChanged",n[n.dateNavigation=5]="dateNavigation",Xr;var n})(),Hg=(()=>{return(n=Hg||(Hg={}))[n.updateSize=0]="updateSize",n[n.initScreen=1]="initScreen",Hg;var n})();let hae=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x,T,O,U){this._renderer=t,this.dialog=i,this._messageService=r,this._titleService=a,this.dialogService=s,this._datesService=l,this._absenceService=c,this._employeeService=u,this._userCredentials=h,this._router=x,this._notificationsService=T,this._zone=O,this._ref=U,this.isCalendarInitialized=!1,this.sysLocale=window.localStorage.getItem("systemLocale"),this.pageTitle="Absence Management",this.pageTitleWhenEmpLogIn="Absence Calendar",this.absenceToggler=new _.NI,this.personalId=0,this.loggedUserId=0,this.isEmployee=!1,this.defaultMonthDate="",this.monthDateOnWeekNavigation=null,this.absenceCalendarPreferences=new coe,this.events=[],this.slotWidth=0,this.yearlyTitleFormat={weekday:"narrow"},this.slotLabelFormat=["ddd D MMM"],this.maxTime="24:00",this.minTime="0:00",this.calendarPlugins=[qx,M1,P1],this.absenceToDelete=new hk,this.defaultDates=new Array,this.dateSettingsLoaded=!1,this.defaultView="multiMonthYear",this.headerDate="",this.displayDateStart="",this.displayDateEnd="",this.onYearView=!0,this.startYear=W().year(),this.currentYear=W().year(),this.currentMonth=W().month()+1,this.isOnStatus=!1,this.deadlineDays=0,this.initialLoad=!0,this.monthLabels="",this.monthClicked=!1,this.multipleAbsencesMenuPosition={x:"0px",y:"0px"},this.multipleAbsencesContextMenuPosition={x:"0px",y:"0px"},this.contextMenuPosition={x:"0px",y:"0px"},this.tooltipMenuPosition={x:"0px",y:"0px"},this.tooltipCodeName="",this.navigatedFromNotification=!1,this.employeeSearchInput=new b.x,this.switchedCalendarTypes=new b.x,this.multipeAbsencesInADay=new Array,this.monthNames=["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"],this.monthNamesFirstCapital=["January","February","March","April","May","June","July","August","September","October","November","December"],this.isFalse=!1,this.displayedColumns=["absenceCodeName","startDate","endDate","statusName","actions"],this.columnMap=(new Map).set("startDate",0).set("endDate",1).set("statusName",2),this.dataSource=new N.by,this.tableExpanded=!1,this.viewForAnother=!1,this.canEmployeeGenerateRequest=!1,this.nextDayThreshold="00:01:00",this.name=ox.name,this._ngUnsubscribe=new b.x,this.calendarOptions={plugins:[qx,M1,P1,kk,Rk],initialView:"multiMonthYear",multiMonthMinWidth:120,multiMonthMaxColumns:4,weekNumbers:!1,slotMinWidth:this.slotWidth,firstDay:this.absenceCalendarPreferences.startDayOfTheWeek,slotMaxTime:this.maxTime,slotMinTime:this.minTime,fixedWeekCount:!0,displayEventTime:!1,selectable:!0,editable:!1,unselectAuto:!0,dayHeaderFormat:{weekday:"narrow"},select:this.selectPeriod.bind(this),initialDate:this.getCurrentWeekDate(),headerToolbar:!1},this.calendarOptions1={plugins:[qx,M1,P1,kk,Rk],height:window.innerHeight-255,weekNumbers:!1,slotMinWidth:this.slotWidth,firstDay:this.absenceCalendarPreferences.startDayOfTheWeek,slotMaxTime:this.maxTime,slotMinTime:this.minTime,fixedWeekCount:!1,displayEventTime:!1,selectable:!0,editable:!1,unselectAuto:!0,select:this.selectPeriod.bind(this),initialDate:this.getCurrentWeekDate(),headerToolbar:!1,views:{dayGridWeek:{columnHeaderFormat:{weekday:"short",day:"numeric",month:"short",omitCommas:!0}}},windowResize:()=>this.calendarOptions1.height=window.innerHeight-255},x.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&O.run(()=>this._ref.detectChanges())}),this.dataSource.sort=this.sort;const re=this._router.getCurrentNavigation();re.extras.state&&"notification"===re.extras.state.source&&(this.notificationStartDate=re.extras.state.startDate,this.notificationEndDate=re.extras.state.endDate,this.absenceIDFromNotification=re.extras.state.absenceID,this.absenceRequestIDFromNotification=re.extras.state.absenceRequestID,this.navigatedFromNotification=!0)}set content1(t){t&&(this.yearlyCalendars=t)}set content(t){t&&(this.absenceCalendar=t)}set content2(t){this.employeeSelect=t}ngOnInit(){this.employeeFilterForm=new _.cw({employees:new _.NI}),this.getLoggedUserId(),this.getRole(),this._getAbsencePreferences(),this.currentYear=this.startYear,this.defaultMonthDate=this.getCurrentWeekDate(),this.setUpInitialDates(),this._initYearDates(this.startYear),this.absenceToggler.valueChanges.subscribe(t=>{this.isOnStatus=t,this._getEvents()}),this.employeeFilterForm.controls.employees.valueChanges.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.personalId=t,t?this.viewForAnother=!0:(this.personalId=this.loggedUserId,this.viewForAnother=!1),this._getEvents()}),this.message=St.yw,this._titleService.sendTitle("User"==this.role?this.pageTitle:this.pageTitleWhenEmpLogIn),this._setUpCalendarPreferences(),this.employees=(0,Yr.z)((0,gn.of)([]),this.employeeSearchInput.pipe((0,H.R)(this._ngUnsubscribe),(0,Gi.x)(),(0,j.w)(t=>this._employeeService.searchEmployeesAndSkillsForFilter(t,"AbsenceRequests","Employee").pipe((0,Wi.K)(()=>(0,gn.of)([])))))),this.getRequiredPermissions(),this._userCredentials.updatePermissions.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.getRequiredPermissions()})}ngAfterViewInit(){this.switchedCalendarTypes.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{i||setTimeout(()=>{this.absenceCalendar.getApi().setOption("locale",this.sysLocale),this.absenceCalendar.getApi().setOption("nextDayThreshold",this.nextDayThreshold)})}),this.yearlyCalendars.getApi().render(),this._setView("multiMonthYear"),this.tooltipTrigger.menu.hasBackdrop=!1;const t=this.yearlyCalendars.getApi();t&&(t.setOption("locale",this.sysLocale),t.setOption("nextDayThreshold",this.nextDayThreshold)),this._notificationsService.notificationOnCurrentPage.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.openAbsenceDialog(null,i.absenceRequestID,this.personalId,i.startDate,i.endDate,!0)}),this.navigatedFromNotification&&setTimeout(()=>{this.openAbsenceDialog(this.absenceIDFromNotification,this.absenceRequestIDFromNotification,this.personalId,this.notificationStartDate,this.notificationEndDate,!0),this.notificationStartDate=null,this.notificationEndDate=null,this.navigatedFromNotification=!1},100),this.sort&&this.sort.sortChange.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._getEvents()})}_setUpCalendarPreferences(){this.subscription=this._datesService.getDate().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.absenceCalendarPreferences.initialView="multiMonthYear",this.absenceCalendarPreferences.startDayOfTheWeek=this._convertDayStringToNumber(t.startDayOfWeek),this.dateSettingsLoaded=!0,this._timeoutHelper(0,Hg.initScreen)},t=>{this._messageService.handleHttpError(t)})}_getAbsencePreferences(){this._absenceService.getPreferences().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.deadlineDays=t.deadlineDays},t=>{this._messageService.open(t)})}getLoggedUserId(){const t=localStorage.getItem("jwt"),i=this.getDecodedAccessToken(t);i&&(this.loggedUserId=i.nameid,this.personalId=i.nameid)}getDecodedAccessToken(t){try{return(0,ue.Z)(t)}catch(i){return null}}_getEvents(){const t=this._prepareRequestParams();this._absenceService.getAllAbsences(t).subscribe(i=>{const r=i,a=[];for(let s=0;s<12;s++){const l=[],c=[];if(r[s].forEach(u=>{if(u){const h=new hk(u.absenceRequestID,u.displayStartDate?u.displayStartDate:u.startDate,u.displayEndDate?u.displayEndDate:u.endDate,this.onYearView?"":this.isOnStatus?u.statusName:u.absenceCodeName,this.isOnStatus?u.statusColor:u.absenceCodeColor);a.push(h),l.push((0,wt.a0)(h.start)),c.push((0,wt.a0)(h.end))}}),a.length&&l.length&&l.length>1)for(let u=0;u<a.length;u++){const h=(0,wt.a0)(a[u].start);let x=0;for(let T=0;T<l.length;T++)l[T]===h&&x++;x>1&&(a[u].absencesOnSameDay=x)}}if(this.onYearView){const s=this.yearlyCalendars.getApi();if(s){switch(this.events=a,this.renderingInfo){case Xr.nextClicked:s.next(),this._setView("multiMonthYear");break;case Xr.prevClicked:s.prev(),this._setView("multiMonthYear")}this.renderingInfo=Xr.noAction}}else{const s=this.absenceCalendar.getApi();if(s){switch(this.events=a,this.renderingInfo){case Xr.nextClicked:s.next(),this._setView(s.view.type);break;case Xr.prevClicked:s.prev(),this._setView(s.view.type)}this.renderingInfo=Xr.noAction}}})}_timeoutHelper(t,i){(0,Cx.F)(t).pipe((0,E1.q)(1)).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{i===Hg.initScreen&&(this._getEvents(),this.isCalendarInitialized=!0)})}_setView(t){this.defaultView=t,this._prepareDataForView(t)}_prepareDataForView(t){let i,r;switch(t.trim()){case"multiMonthYear":this.monthClicked=!1,this.startDateForRequest=this.currentYear+"-01-01",this.endDateForRequest=this.currentYear+"-12-31",this.displayDateStart="01 Jan "+this.currentYear,this.displayDateEnd="31 Dec "+this.currentYear,i=W(this.startDateForRequest).clone(),r=W(this.endDateForRequest).clone();break;case"dayGridMonth":{const s=this._getMonthStartAndEnd(W(this.currentYear+"-"+(this.currentMonth<10?"0"+this.currentMonth:this.currentMonth)+"-01").clone());i=s.start,r=s.end,this.headerDate=this.formatHeaderLabel(W(i).clone().format("YYYY-MM-DD"));break}case"dayGridWeek":{let a;if(this.monthClicked=!1,this.absenceCalendar){const s=this.absenceCalendar.getApi();s&&(a=s.getDate(),i=this._datesService.getStartDateOfWeek(W(a)),r=W(i).clone().add(6,"days"))}else i=this._datesService.getStartDateOfWeek(W(this.currentYear+"-"+(this.currentMonth<10?"0"+this.currentMonth:this.currentMonth)+"-"+W().date())),r=W(i).clone().add(6,"days");this.monthDateOnWeekNavigation=i,this.headerDate=this.formatHeaderLabel(W(i).clone().format("YYYY-MM-DD"));break}}if(this.renderingInfo===Xr.viewTypeChanged&&!this.onYearView&&this.absenceCalendar){const a=this.absenceCalendar.getApi();a&&setTimeout(()=>{a.changeView(t)})}this.startAndEndDate={start:W(i).clone(),end:W(r).clone()},this._setCurrentDateState(i,r)}_convertDayStringToNumber(t){switch(t.toLowerCase()){case"monday":return 1;case"tuesday":return 2;case"wednesday":return 3;case"thursday":return 4;case"friday":return 5;case"saturday":return 6;case"sunday":return 0}}_initYearDates(t){this.defaultDates=[];for(let i=0;i<12;i++){const r=new doe;r.date=t+"-"+(i+1<10?"0"+(i+1):i+1)+"-01",r.monthName=this.monthNames[i],this.defaultDates.push(r)}}_getDisplayDate(t){"multiMonthYear"===this.defaultView&&(this.headerDate=t.toString(),this.displayDateStart="01 Jan "+t,this.displayDateEnd="31 Dec "+t,this.monthLabels=this.displayDateStart+" - "+this.displayDateEnd)}showPreviousDate(){if(this.onYearView)this.setOldDates(),this.updateStartEndDates("prev"),this.renderingInfo=Xr.prevClicked,this.yearlyCalendars.getApi().prev(),this._getDisplayDate(this.currentYear),this._initYearDates(this.currentYear),this.renderingInfo=Xr.noAction,this._getEvents();else{"dayGridMonth"===this.defaultView&&this.changeCurrentMonth("prev"),this.setOldDates(),this.renderingInfo=Xr.prevClicked;const t=this.absenceCalendar.getApi().view.type;this.absenceCalendar.getApi().prev(),this._getDisplayDate(this.currentYear),this.updateStartEndDates("prev"),setTimeout(()=>{this._setView(t),this.renderingInfo=Xr.noAction,this._getEvents()})}}showNextDate(){if(this.onYearView)this.setOldDates(),this.updateStartEndDates("next"),this.renderingInfo=Xr.nextClicked,this.yearlyCalendars.getApi().next(),this._getDisplayDate(this.currentYear),this._initYearDates(this.currentYear),this.renderingInfo=Xr.noAction,this._getEvents();else{"dayGridMonth"===this.defaultView&&this.changeCurrentMonth("next"),this.setOldDates(),this.renderingInfo=Xr.nextClicked;const t=this.absenceCalendar.getApi().view.type;this.absenceCalendar.getApi().next(),this._getDisplayDate(this.currentYear),this.updateStartEndDates("next"),setTimeout(()=>{this._setView(t),this.renderingInfo=Xr.noAction,this._getEvents()})}}changeCurrentMonth(t){let i=this.currentMonth;switch(t){case"next":i+1===13?i=1:i+=1,this.currentMonth=i;break;case"prev":i-1==0?i=12:i-=1,this.currentMonth=i}}setUpInitialDates(){const t=this.startYear.toString();this.headerDate=t,this.startDateForRequest=t+"-01-01",this.endDateForRequest=t+"-12-31",this.displayDateStart="01 Jan "+t,this.displayDateEnd="31 Dec "+t,this.monthLabels=this.displayDateStart+" - "+this.displayDateEnd}updateStartEndDates(t){let i,r;if(this.onYearView)"next"===t&&(this.currentYear+=1),"prev"===t&&(this.currentYear-=1),this.startDateForRequest=this.currentYear+"-01-01",this.endDateForRequest=this.currentYear+"-12-31";else{const s=W(this.endDateForRequest).clone().diff(W(this.startDateForRequest).clone(),"days")+1,l=W(this.startDateForRequest).clone(),c=W(this.endDateForRequest).clone();"next"===t&&(i=l.clone().add(s,"days").toISOString(!0),r=c.clone().add(s,"days").toISOString(!0)),"prev"===t&&(i=l.clone().add(-s,"days").toISOString(!0),r=c.clone().add(-s,"days").toISOString(!0)),this.startDateForRequest=(0,wt.a0)(i),this.endDateForRequest=(0,wt.a0)(r);const u=this.startDateForRequest.split("-");this.currentYear=Number(u[0]),"dayGridWeek"===this.defaultView&&this._setMonthLabel(this.startDateForRequest,this.endDateForRequest)}}setOldDates(){this.oldStart=this.startDateForRequest,this.oldEnd=this.endDateForRequest}selectPeriod(t){"User"!=this.role||this.viewForAnother?this.isEmployee&&!this.canEmployeeGenerateRequest?this._messageService.open("You don't have permission to generate requests."):this._absenceService.getPreferences().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(i=>{this.deadlineDays=i.deadlineDays;let r=!1;const a=W(t.start).clone();let s=W(t.end).clone();const l=W(),c=0==this.deadlineDays?l.clone().add(this.deadlineDays,"days"):l.clone().add(this.deadlineDays+1,"days");if((a.isBefore(l,"days")||s.isBefore(l,"days"))&&this.isEmployee)this._messageService.open(this.message.absenceInPast);else if(a.isBefore(c,"days")&&this.isEmployee)this._messageService.open((0,St.Dz)(this.deadlineDays));else{let u=0;for(let h=0;h<this.events.length;h++){if(this.events[h]){const x=W(this.events[h].startStr).clone();let T=W(this.events[h].endStr).clone();if(T.isValid()||(T=x.clone()),s.isValid()||(s=a.clone()),a.isSameOrAfter(x)&&s.isSameOrBefore(T)||x.isSameOrAfter(a)&&T.isSameOrBefore(s)||a.isBefore(T)&&s.isAfter(T)||a.isBefore(x)&&s.isAfter(x)||a.isAfter(x)&&s.isBefore(T)||a.isBefore(x)&&s.isAfter(T)){u=this.events[h].id,r=!0;break}}if(r)break}if(r){const h={requestId:u,personalId:this.personalId,startDate:W(t.start).clone().format("YYYY-MM-DD"),endDate:W(t.end).clone().format("YYYY-MM-DD")};this.openAbsenceDialog(0,h.requestId,h.personalId,h.startDate,h.endDate,this.viewForAnother)}else this._messageService.open(this.message.noAbsencesForDate)}}):this._messageService.open("You must select an employee first.")}changeCalendarView(t){this.defaultView=t.value,this.onYearView="multiMonthYear"===t.value,this.switchedCalendarTypes.next(this.onYearView),this.monthClicked=!1,this._zone.run(()=>{this.renderingInfo=Xr.viewTypeChanged,setTimeout(()=>{if(this._prepareDataForView(t.value),"multiMonthYear"===t.value)this._getDisplayDate(this.currentYear);else{if(this.monthDateOnWeekNavigation&&this.absenceCalendar){const i=this.absenceCalendar.getApi();i&&(this.defaultMonthDate=W(i.getDate()).clone().format("YYYY-MM-DD"),this.setCurrentYearMonthValues(this.defaultMonthDate))}else this.defaultMonthDate=this.getCurrentWeekDate();this.headerDate=this.formatHeaderLabel(this.defaultMonthDate)}this._getEvents()})})}showMonth(t){this.renderingInfo=Xr.viewTypeChanged,this.currentMonth=W(t).clone().month()+1,this.monthClicked=!0,this.onYearView=!1,this.switchedCalendarTypes.next(!1),this.defaultView="dayGridMonth",this.defaultMonthDate=t,setTimeout(()=>{this._setView("dayGridMonth"),this._getEvents()})}formatMonthLabel(t){const i=t.split("-"),r=i[0],a=this.monthNamesFirstCapital[Number(i[1])-1];return i[2]+" "+a+" "+r}formatHeaderLabel(t){const i=t.split("-"),r=i[0];return this.monthNames[Number(i[1])-1]+" "+r}getCurrentWeekDate(){const t=this.currentYear,i=this.currentMonth,r=W().date();return t+"-"+(i<10?"0"+i:i)+"-"+(r<10?"0"+r:r)}onEventRender(t){const i=t.event.extendedProps.absencesOnSameDay,r=t.el;if(r.classList.add(t.event.start.toString().replace(/\s+/g,"-").substring(8,24)),this.onYearView){let a="";if(i>1){switch(i){case 2:a="two-absences";break;case 3:a="three-absences";break;case 4:a="four-absences";break;case 5:a="five-absences";break;case 6:a="six-absences";break;default:a="over-six-absences"}r.classList.add(a)}}this._renderer.listen(r,"click",a=>{a.stopPropagation(),a.preventDefault(),this.checkForMultipleAbsencesInDay(t.event.start,t.event.end),this.multipeAbsencesInADay.length<2?this.openAbsenceDialog(t.event.extendedProps.absenceID,t.event.extendedProps.absenceRequestID,this.personalId,t.event.start,t.event.end,this.viewForAnother):(this.multipleAbsencesMenuPosition.x=a.clientX+"px",this.multipleAbsencesMenuPosition.y=a.clientY+"px",this.multipleAbsencesMenuTrigger.openMenu())}),this._renderer.listen(r,"mouseenter",a=>{this.tooltipCodeName=t.event.extendedProps.tooltip,a.stopPropagation(),a.preventDefault(),this.checkForMultipleAbsencesInDay(t.event.start,t.event.end),this.tooltipMenuPosition.x=a.clientX-20+"px",this.tooltipMenuPosition.y=a.clientY+23+"px",this.multipeAbsencesInADay.length>1&&(this.tooltipCodeName="Multiple absences"),this.tooltipTrigger.openMenu()}),this._renderer.listen(r,"mouseleave",a=>{this.tooltipTrigger.closeMenu()}),this._renderer.listen(r,"contextmenu",a=>{a.stopPropagation(),a.preventDefault(),this.checkForMultipleAbsencesInDay(t.event.start,t.event.end),this.multipeAbsencesInADay.length<2?(this.contextMenuPosition.x=a.clientX+"px",this.contextMenuPosition.y=a.clientY+"px",this.absenceToDelete.id=t.event.extendedProps.absenceRequestID):(this.multipleAbsencesContextMenuPosition.x=a.clientX+"px",this.multipleAbsencesContextMenuPosition.y=a.clientY+"px")})}_prepareRequestParams(){return(new Y.LE).set("id",this.personalId?this.personalId.toString():this.loggedUserId.toString()).set("startDate",this.startDateForRequest).set("endDate",this.endDateForRequest).set("searchConnectedEmployee",(!this.isEmployee&&!!this.employeeFilterForm.controls.employees.value).toString()).set("SortOrder",this.sort&&this.sort.direction?this.sort.direction:"asc").set("Column",this.sort&&this.sort.active?this.columnMap.get(this.sort.active):0)}_prepareDialogRequestParams(){return(new Y.LE).set("id",this.personalId?this.personalId.toString():this.loggedUserId.toString()).set("startDate",this.currentYear+"-01-01").set("endDate",this.currentYear+"-12-31").set("searchConnectedEmployee",(!this.isEmployee&&!!this.employeeFilterForm.controls.employees.value).toString())}openAbsenceDialog(t,i,r,a,s,l){const c=window.scrollY,u=window.scrollX,h=this._prepareDialogRequestParams(),x=this.dialog.open(Joe,{autoFocus:!1,disableClose:!0,data:{absenceID:t,absenceRequestID:i,employeeId:r,startDate:a,endDate:s,isEmployee:this.isEmployee,deadlineDays:0==this.deadlineDays?this.deadlineDays:this.deadlineDays+1,dialogParams:h,viewForAnother:l,employeeGenerateRequest:this.canEmployeeGenerateRequest},panelClass:["max-height96","absence-calendar-dialog"]});this.subscription=x.afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{window.scrollTo(u,c),this._getEvents()})}_getMonthStartAndEnd(t){return{start:W(t).startOf("month").format("YYYY-MM-DD"),end:W(t).endOf("month").format("YYYY-MM-DD")}}_setCurrentDateState(t,i){this.startDateForRequest=wt.IM.formatDateForRequest(W(t).clone(),wt.IM.dateFormatString),this.endDateForRequest=wt.IM.formatDateForRequest(W(i).clone(),wt.IM.dateFormatString),!W(t).isSame(W(this.oldStart))&&!W(i).isSame(this.oldEnd)&&this._setMonthLabel(t,i)}_setMonthLabel(t,i){const r=W(t).clone().format("YYYY-MM-DD"),a=W(i).clone().format("YYYY-MM-DD");this.monthLabels=this.formatMonthLabel(r)+" - "+this.formatMonthLabel(a)}setCurrentYearMonthValues(t){const i=t.split("-"),a=i[1];this.currentYear=Number(i[0]),this.currentMonth=Number(a)}hexToRGB(t,i){const r=parseInt(t.slice(1,3),16),a=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16);return i?"rgba("+r+", "+a+", "+s+", "+i+")":"rgb("+r+", "+a+", "+s+")"}setFilterPredicate(){this.dataSource.filterPredicate=function(t,i){return t.startDate.trim().toLowerCase().includes(i)||t.endDate.trim().toLowerCase().includes(i)||t.statusName.trim().toLowerCase().includes(i)}}getAbsenceMonth(t){return W(t).clone().month()}getRole(){this._userCredentials.loggedUserRole.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.role=t,this.isEmployee="User"!==this.role})}getRequiredPermissions(){this.canEmployeeGenerateRequest=this._userCredentials.getEmployeeGenerateRequestPermission()}checkForMultipleAbsencesInDay(t,i){if(this.multipeAbsencesInADay=new Array,this.onYearView)for(let r=0;r<12;r++)this.events.forEach(a=>{(W(a.start).clone().isSame(W(t).clone(),"day")||W(a.end).clone().isSame(W(i).clone(),"day")||W(a.end).clone().isSameOrAfter(W(t).clone(),"day")&&W(a.start).clone().isSameOrBefore(W(t).clone(),"day")||W(a.start).clone().isSameOrBefore(W(i).clone(),"day")&&W(a.end).clone().isSameOrAfter(W(i).clone(),"day"))&&this.multipeAbsencesInADay.push(a)})}openDetailsFromMultipleAbsences(t){const i=this.multipeAbsencesInADay[t];this.openAbsenceDialog(0,i.id,this.personalId,i.start,i.end,this.viewForAnother)}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(z.uw),e.Y36(se.G),e.Y36(ce.Z),e.Y36(Ri.x),e.Y36(Dh.X),e.Y36(nb),e.Y36(Vr.n),e.Y36(qi.J),e.Y36(q.F0),e.Y36(fe.T),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-absence-calendar"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Boe,5),e.Gf(Voe,5),e.Gf(Goe,5),e.Gf(Woe,5),e.Gf(Qoe,5),e.Gf(fn.YE,5),e.Gf(zoe,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.content1=r.first),e.iGM(r=e.CRH())&&(i.content=r.first),e.iGM(r=e.CRH())&&(i.multipleAbsencesMenuTrigger=r.first),e.iGM(r=e.CRH())&&(i.multipleAbsencesContextMenuTrigger=r.first),e.iGM(r=e.CRH())&&(i.tooltipTrigger=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.content2=r.first)}},decls:94,vars:31,consts:[[3,"ngClass"],[1,"row","main-row"],[1,"col-12"],[1,"container-fluid","main-absence-container"],[1,"card","calendar-card"],[1,"absence-calendar-header","d-flex","justify-content-between","header-top-large"],[1,"date-display-container","d-flex","justify-content-center"],["class","display-date",4,"ngIf"],[1,"view-buttons","d-flex","justify-content-center"],[1,"eSolve-view-navigation",3,"value"],["value","dayGridWeek",1,"eSolve-view-navigation",3,"change"],["value","dayGridMonth",1,"eSolve-view-navigation",3,"change"],["value","multiMonthYear",1,"eSolve-view-navigation",3,"change"],["class","employee-search",4,"ngIf"],[1,"absence-type-slider","d-flex","justify-content-center"],[1,"absence-labels"],["ngClass","labelBeforeSlide"],[1,"absence-slider",3,"formControl"],[1,"absence-calendar-header","header-top-small"],[1,"row"],[1,"cal-header","d-flex","justify-content-between","header-large"],[1,"cal-header-label"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","mat-stroked-button","",1,"eSolve-next-prev",3,"click"],["aria-hidden","false"],[1,"row","header-small"],[1,"d-flex","justify-content-center"],[1,"col-8"],[1,"col-4"],[1,"blue_hr"],["class","card-body calendar-card-body",4,"ngIf"],[1,"mat-menu-trigger-style",3,"matMenuTriggerFor"],["multipleAbsencesMenuTrigger","matMenuTrigger"],["multipleAbsencesMenu","matMenu"],["mat-menu-item","","class","multi-absence-button",3,"click",4,"ngFor","ngForOf"],["tooltipTrigger","matMenuTrigger"],[1,"customTooltip"],["tooltip","matMenu"],[1,"tooltipLabel"],["class","centered",4,"ngIf"],[1,"display-date"],[1,"employee-search"],["class","search-form",3,"formGroup",4,"ngIf"],[1,"search-form",3,"formGroup"],["id","empSearchInput","bindLabel","name","bindValue","id","placeholder","Find Employee","formControlName","employees",1,"g-esolve-multi-select","esolve-font-size","employees-table-search","absence-calendar-emp-search",3,"items","multiple","hideSelected","typeahead"],["employeeSelect",""],["ng-multi-label-tmp",""],["aria-hidden","true",1,"fa","fa-search","search-icon"],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[1,"card-body","calendar-card-body"],[1,"col-12","calendar-container-year"],["id","yearlyAbsenceCalendar","disableDragging","true","timeFormat","h:mm",1,"yearly-calendar-month",3,"options","events"],["absenceYearCalendar",""],[1,"col-12","calendar-container"],["id","absenceCalendar","disableDragging","true","timeFormat","h:mm",1,"absence-calendar-month",3,"options","events","initialView"],["absenceCalendar",""],["mat-menu-item","",1,"multi-absence-button",3,"click"],[1,"multi-absence-indicator"],[1,"centered"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.YNc(7,Koe,2,2,"span",7),e.YNc(8,$oe,2,1,"span",7),e.qZA(),e.TgZ(9,"div",8)(10,"mat-button-toggle-group",9)(11,"mat-button-toggle",10),e.NdJ("change",function(a){return i.changeCalendarView(a)}),e._uU(12,"Week "),e.qZA(),e.TgZ(13,"mat-button-toggle",11),e.NdJ("change",function(a){return i.changeCalendarView(a)}),e._uU(14,"Month "),e.qZA(),e.TgZ(15,"mat-button-toggle",12),e.NdJ("change",function(a){return i.changeCalendarView(a)}),e._uU(16,"Year "),e.qZA()()(),e.YNc(17,nae,2,1,"div",13),e.TgZ(18,"div",14)(19,"div",15)(20,"mat-label",16),e._uU(21,"Absence Codes"),e.qZA(),e.TgZ(22,"mat-slide-toggle",17),e._uU(23,"Absence Status"),e.qZA()()()(),e.TgZ(24,"div",18)(25,"div",19)(26,"div",2)(27,"div",6),e.YNc(28,iae,2,2,"span",7),e.YNc(29,rae,2,1,"span",7),e.qZA()(),e.TgZ(30,"div",2)(31,"div",8)(32,"mat-button-toggle-group",9)(33,"mat-button-toggle",10),e.NdJ("change",function(a){return i.changeCalendarView(a)}),e._uU(34,"Week "),e.qZA(),e.TgZ(35,"mat-button-toggle",11),e.NdJ("change",function(a){return i.changeCalendarView(a)}),e._uU(36,"Month "),e.qZA(),e.TgZ(37,"mat-button-toggle",12),e.NdJ("change",function(a){return i.changeCalendarView(a)}),e._uU(38,"Year "),e.qZA()()()(),e.TgZ(39,"div",2)(40,"div",14)(41,"div",15)(42,"mat-label",16),e._uU(43,"Absence Codes"),e.qZA(),e.TgZ(44,"mat-slide-toggle",17),e._uU(45,"Absence Status"),e.qZA()()()()()(),e.TgZ(46,"div",0)(47,"div",19)(48,"div",2)(49,"div",20)(50,"span",21),e._uU(51),e.qZA(),e.TgZ(52,"span")(53,"div",22)(54,"button",23),e.NdJ("click",function(){return i.showPreviousDate()}),e.TgZ(55,"mat-icon"),e._uU(56,"chevron_left"),e.qZA()(),e.TgZ(57,"button",23),e.NdJ("click",function(){return i.showNextDate()}),e.TgZ(58,"mat-icon",24),e._uU(59,"chevron_right"),e.qZA()()()()(),e.TgZ(60,"div",25)(61,"div",2)(62,"div",26)(63,"div",19)(64,"div",27)(65,"span",21),e._uU(66),e.qZA()(),e.TgZ(67,"div",28)(68,"span")(69,"div",22)(70,"button",23),e.NdJ("click",function(){return i.showPreviousDate()}),e.TgZ(71,"mat-icon"),e._uU(72,"chevron_left"),e.qZA()(),e.TgZ(73,"button",23),e.NdJ("click",function(){return i.showNextDate()}),e.TgZ(74,"mat-icon",24),e._uU(75,"chevron_right"),e.qZA()()()()()()()(),e.TgZ(76,"div",2)(77,"div",26),e.YNc(78,lae,2,1,"div",13),e.qZA()()()()()(),e._UZ(79,"hr",29),e.YNc(80,cae,5,2,"div",30),e.YNc(81,dae,5,3,"div",30),e.qZA()(),e._UZ(82,"div",31,32),e.TgZ(84,"mat-menu",null,33),e.YNc(86,uae,5,9,"button",34),e.qZA(),e._UZ(87,"div",31,35),e.TgZ(89,"mat-menu",36,37)(91,"label",38),e._uU(92),e.qZA()()(),e.YNc(93,pae,1,0,"mat-spinner",39),e.qZA()()),2&t){const r=e.MAs(85),a=e.MAs(90);e.Q6J("ngClass",e.VKq(29,fae,!i.isCalendarInitialized)),e.xp6(7),e.Q6J("ngIf",i.onYearView),e.xp6(1),e.Q6J("ngIf",!i.onYearView),e.xp6(2),e.Q6J("value",i.defaultView),e.xp6(7),e.Q6J("ngIf","User"===i.role),e.xp6(5),e.Q6J("formControl",i.absenceToggler),e.xp6(6),e.Q6J("ngIf",i.onYearView),e.xp6(1),e.Q6J("ngIf",!i.onYearView),e.xp6(3),e.Q6J("value",i.defaultView),e.xp6(12),e.Q6J("formControl",i.absenceToggler),e.xp6(2),e.Q6J("ngClass",i.onYearView?"calendar-card-header":"smallScreenHeaderHeight calendar-card-header"),e.xp6(5),e.hij(" ",i.headerDate," "),e.xp6(15),e.hij(" ",i.headerDate," "),e.xp6(12),e.Q6J("ngIf","User"===i.role),e.xp6(2),e.Q6J("ngIf",i.onYearView),e.xp6(1),e.Q6J("ngIf",!i.onYearView),e.xp6(1),e.Udp("left",i.multipleAbsencesMenuPosition.x)("top",i.multipleAbsencesMenuPosition.y),e.Q6J("matMenuTriggerFor",r),e.xp6(4),e.Q6J("ngForOf",i.multipeAbsencesInADay),e.xp6(1),e.Udp("left",i.tooltipMenuPosition.x)("top",i.tooltipMenuPosition.y),e.Q6J("matMenuTriggerFor",a),e.xp6(5),e.Oqu(i.tooltipCodeName),e.xp6(1),e.Q6J("ngIf",!i.dateSettingsLoaded)}},dependencies:[D.mk,D.sg,D.O5,Lo.lW,jg.Hw,Hoe.hX,mp.Ou,fp.A9,fp.Yi,Lr.VK,Lr.OP,Lr.p6,_._Y,_.JJ,_.JL,_.oH,_.sg,_.u,US,Sn,er,Hc,H1,Ox,$n,D.Ov,fS],styles:[".main-row[_ngcontent-%COMP%]{background-color:#eff3f7}.container-fluid.main-absence-container[_ngcontent-%COMP%]{padding-top:0;width:100%}.container-fluid.absence-table-container[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:15px;width:100%}.absence-table[_ngcontent-%COMP%]{width:100%;padding-bottom:15px}.absence-calendar-header[_ngcontent-%COMP%]{padding:10px 20px 5px}.eSolve-view-navigation[_ngcontent-%COMP%]{height:29px;border-color:var(--eSolve-primary);font-size:12px;margin-top:-1px!important}.calendar-card[_ngcontent-%COMP%]{margin:15px 0;padding:15px}.calendar-container[_ngcontent-%COMP%]{width:95%;height:95%;background-color:#fff;padding:4px 15px}.calendar-card-header[_ngcontent-%COMP%]{background-color:#fff!important;padding:0 20px 13px!important;height:43px}.calendar-card-body[_ngcontent-%COMP%]{padding:10px 20px}.table-card-header[_ngcontent-%COMP%]{padding-left:0%;margin:10px 0}.table-row[_ngcontent-%COMP%]{padding:0 28px}.calendar-container-year[_ngcontent-%COMP%]{width:95%;height:95%;background-color:#fff;padding:4px 15px}.yearly-calendar-month[_ngcontent-%COMP%]{min-height:734px}.month-name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#42536f;margin-bottom:3px;cursor:pointer}.table-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f}.table-header-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#0000008a}.absence-status-table-cell[_ngcontent-%COMP%]{color:#fff;border-radius:100px;padding:2px 5px 2px 6px;width:127px}.status-dot[_ngcontent-%COMP%]{font-size:18px;padding:3px;margin-left:3px}.align-buttons-padding[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.mat-column-actions[_ngcontent-%COMP%]{width:22%}.mat-column-status[_ngcontent-%COMP%]{width:16%}.absence-table-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#404f64;border-radius:4px;font-size:12px;font-weight:550;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042}.modal-btn[_ngcontent-%COMP%]{height:27px;float:right;margin-left:15px;width:115px;margin-top:5px;margin-bottom:5px}.buttonsDivWidth[_ngcontent-%COMP%]{width:115px}.absence-status-title[_ngcontent-%COMP%]{padding-left:6px;padding-top:1px}.cal-header-label[_ngcontent-%COMP%]{font-size:20px;color:#42536f;font-weight:700}.date-display-container[_ngcontent-%COMP%]{margin-top:8px}.display-date[_ngcontent-%COMP%]{font-size:13px;color:#42536f;font-weight:600}.view-buttons[_ngcontent-%COMP%]{margin-top:3px}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff}.mat-button-toggle-appearance-standard[_ngcontent-%COMP%], .mat-button-toggle-label-content[_ngcontent-%COMP%]{padding:0 15px}.eSolve-next-prev[_ngcontent-%COMP%]{height:30px!important;line-height:22px;width:30px;border:none;padding-bottom:3px;color:#42536f}.gray-line[_ngcontent-%COMP%]{border:1px solid #ced5db;margin-top:5px;margin-bottom:0}.col-custom[_ngcontent-%COMP%]{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%;position:relative}  .mat-menu-item{font-family:Nunito Sans!important;font-size:13px!important}.absence-type-slider[_ngcontent-%COMP%]{margin-top:5px}.absence-labels[_ngcontent-%COMP%]{float:right}.search-form[_ngcontent-%COMP%]{position:relative;margin-top:3px}.search-icon[_ngcontent-%COMP%]{right:11px;position:absolute;top:6px;color:#989898;font-size:14px}.blue_hr[_ngcontent-%COMP%]{margin:0 1%!important}.absence-table-footer[_ngcontent-%COMP%]{height:34px;padding:8px 27px}.absence-table-footer-action[_ngcontent-%COMP%]{font-size:12px;color:#42536f;cursor:pointer}.centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:42%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:125}.table-filter-input[_ngcontent-%COMP%]{width:258px}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}.book-absence-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff;width:128px;border-radius:4px;font-size:12px;font-weight:550;text-align:center;text-decoration:none;border:none;outline:none}.multi-absence-indicator[_ngcontent-%COMP%]{height:10px;width:10px;border-radius:50%;margin-right:7px;margin-bottom:2px}.multi-absence-button[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.multi-absence-delete-icon[_ngcontent-%COMP%]{margin-right:7px;margin-bottom:3px}@media (min-width: 760px){.header-top-small[_ngcontent-%COMP%]{display:none!important}.header-top-large[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}}@media (min-width: 1130px){.header-small[_ngcontent-%COMP%], .header-top-small[_ngcontent-%COMP%]{display:none!important}.header-large[_ngcontent-%COMP%], .header-top-large[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}}@media (max-width: 1240px){.calendar-container-year[_ngcontent-%COMP%]{padding:15px}}@media (max-width: 1130px){.cal-header-label[_ngcontent-%COMP%]{font-size:17px}.calendar-card-header[_ngcontent-%COMP%]{height:99px;padding-top:0!important}.book-absence-button[_ngcontent-%COMP%]{margin:8px,0,8px,0}.header-small[_ngcontent-%COMP%]{display:block!important}.header-large[_ngcontent-%COMP%]{display:none!important}.smallScreenHeaderHeight[_ngcontent-%COMP%]{height:100px!important}.header-top-small[_ngcontent-%COMP%]{display:block!important}.header-top-large[_ngcontent-%COMP%]{display:none!important}.date-display-container[_ngcontent-%COMP%]{margin-bottom:3px}.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-tooltip[_ngcontent-%COMP%], .mat-column-startDate[_ngcontent-%COMP%], .mat-column-endDate[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{width:100%}}@media (max-width: 1110px){.calendar-container-year[_ngcontent-%COMP%]{padding:15px}}@media only screen and (max-width: 760px),(min-device-width: 320px) and (max-device-width: 640px){.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:12px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important;border-bottom:none!important}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{border-top:0!important}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{border-bottom:0!important}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}#modify_absence_button[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 670px){.col-custom[_ngcontent-%COMP%]{-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%;position:relative}}@media (max-width: 570px){.col-custom[_ngcontent-%COMP%]{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%;position:relative}}@media (max-width: 460px){.mat-button-toggle-appearance-standard[_ngcontent-%COMP%], .mat-button-toggle-label-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 430px){.col-custom[_ngcontent-%COMP%]{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%;position:relative}}@media (max-width: 250px){.mat-button-toggle-appearance-standard[_ngcontent-%COMP%], .mat-button-toggle-label-content[_ngcontent-%COMP%]{padding:0}}"]}),n})();class Fk{constructor(o,t,i,r){this.id=o,this.status=t,this.description=i,this.color=r}}function mae(n,o){if(1&n&&(e.TgZ(0,"ng-option",46),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function gae(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Absence Status ",t.message.required," ")}}function _ae(n,o){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,gae,2,1,"div",45),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.absenceStatusID.errors?null:t.f.absenceStatusID.errors.required)}}function vae(n,o){if(1&n&&(e.TgZ(0,"ng-option",46),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function bae(n,o){if(1&n&&(e.TgZ(0,"div",47),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.limit1000," ")}}function yae(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,bae,2,1,"div",18),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.managerComment.errors?null:t.f.managerComment.errors.maxlength)}}function xae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",14),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitAbsence())}),e.TgZ(1,"div",15)(2,"div",2)(3,"ng-select",16),e.YNc(4,mae,2,2,"ng-option",17),e.qZA(),e.YNc(5,_ae,2,1,"div",18),e.qZA()(),e.TgZ(6,"div",19)(7,"div",2)(8,"ng-select",20),e.YNc(9,vae,2,2,"ng-option",17),e.qZA()()(),e.TgZ(10,"div",21)(11,"div",2)(12,"div",1)(13,"div",22)(14,"span",12),e._uU(15," Absence Start: "),e.qZA()(),e.TgZ(16,"div",23)(17,"div",24)(18,"div",25),e._UZ(19,"input",26),e.TgZ(20,"img",27),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(22);return e.KtG(r.open())}),e.qZA(),e._UZ(21,"mat-datepicker",null,28),e.qZA(),e.TgZ(23,"div",29),e._UZ(24,"input",30),e.qZA()()()(),e.TgZ(25,"div",31)(26,"div",32),e._UZ(27,"hr"),e.qZA()()()(),e.TgZ(28,"div",33)(29,"div",2)(30,"div",1)(31,"div",22)(32,"span",12),e._uU(33," Absence End: "),e.qZA()(),e.TgZ(34,"div",23)(35,"div",24)(36,"div",25),e._UZ(37,"input",34),e.TgZ(38,"img",27),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(40);return e.KtG(r.open())}),e.qZA(),e._UZ(39,"mat-datepicker",null,35),e.qZA(),e.TgZ(41,"div",29),e._UZ(42,"input",36),e.qZA()()()(),e.TgZ(43,"div",31)(44,"div",32),e._UZ(45,"hr"),e.qZA()()()(),e.TgZ(46,"div",33)(47,"div",2)(48,"div",1)(49,"div",37)(50,"span",12),e._uU(51," Absence Hours: "),e.qZA()(),e.TgZ(52,"div",38),e._UZ(53,"input",39),e.qZA()(),e.TgZ(54,"div",31)(55,"div",32),e._UZ(56,"hr"),e.qZA()()()(),e.TgZ(57,"div",33)(58,"div",2)(59,"div",1)(60,"div",40)(61,"span",41),e._uU(62," Employee's Comment: "),e.qZA()(),e.TgZ(63,"div",42)(64,"span",43),e._uU(65),e.qZA()()(),e.TgZ(66,"div",31)(67,"div",32),e._UZ(68,"hr"),e.qZA()()()(),e.TgZ(69,"div",9)(70,"div",2)(71,"div",1)(72,"div",40)(73,"span",41),e._uU(74," Manager's Comment: "),e.qZA()(),e.TgZ(75,"div",42)(76,"textarea",44),e._uU(77,"                                        "),e.qZA()(),e.YNc(78,yae,2,1,"div",45),e.qZA(),e.TgZ(79,"div",31)(80,"div",32),e._UZ(81,"hr"),e.qZA()()()()()}if(2&n){const t=e.MAs(22),i=e.MAs(40),r=e.oxw();e.Q6J("formGroup",r.absenceForm),e.xp6(4),e.Q6J("ngForOf",r.absenceStatus),e.xp6(1),e.Q6J("ngIf",(null==r.f.absenceStatusID?null:r.f.absenceStatusID.touched)&&(null==r.f.absenceStatusID?null:r.f.absenceStatusID.errors)),e.xp6(3),e.Q6J("virtualScroll",!0),e.xp6(1),e.Q6J("ngForOf",r.absenceCodes),e.xp6(10),e.Q6J("matDatepicker",t)("dateLengthTracker",r.dateLength),e.xp6(5),e.Q6J("dropSpecialCharacters",!1),e.xp6(13),e.Q6J("matDatepicker",i)("dateLengthTracker",r.dateLength),e.xp6(5),e.Q6J("dropSpecialCharacters",!1),e.xp6(23),e.hij(" ",r.employeeComment?r.employeeComment:"-"," "),e.xp6(13),e.Q6J("ngIf",r.f.managerComment.touched&&r.f.managerComment.errors)}}function Cae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(1," Cancel "),e.qZA()}}function Tae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(1," Close "),e.qZA()}}let wae=(()=>{class n{constructor(t,i,r,a,s,l){this.absenceData=t,this._absenceService=i,this._absenceCodesService=r,this._fb=a,this._messageService=s,this._dialogRef=l,this.absenceCodes=[],this.absenceStatus=[],this.totalAbsenceDays="0",this.totalAbsenceHours="0",this.hideSubmit=!1,this.hasChange=!1,this.dateLength=ai.YG.length,this.absenceIdNumber=0,this.ticksPerMillisecond=1e4,this.absenceIdNumber=Number(t.id)}ngOnInit(){this.message=St.yw,this.buildAbsenceForm(),this.populateForm()}buildAbsenceForm(){this.absenceForm=this._fb.group({id:[0],startDate:[null,{validators:[_.kI.required],updateOn:"blur"}],endDate:[null,{validators:[_.kI.required],updateOn:"blur"}],startTime:["",{updateOn:"blur"}],endTime:["",{updateOn:"blur"}],numberOfHours:["",{updateOn:"blur"}],manualEditedHours:[!1,{validators:[_.kI.required],updateOn:"blur"}],employeeComment:[null,{validators:[_.kI.maxLength(1e3)],updateOn:"blur"}],managerComment:[null,{validators:[_.kI.maxLength(1e3)],updateOn:"change"}],absenceStatusID:[null],employeeID:[null,{validators:[_.kI.required],updateOn:"blur"}],absenceCodeID:[null,{validators:[_.kI.required],updateOn:"change"}],deletePending:[!1]},{validators:[],asyncValidators:[]})}populateForm(){this.absenceCodes=this.absenceData.currentAbsence.absenceCodes,this.absenceStatus=this.absenceData.currentAbsence.absenceStatuses;const t=this.absenceData.currentAbsence.item.numberOfHours/this.ticksPerMillisecond;this.absenceForm.patchValue(this.absenceData.currentAbsence.item);let i=Math.trunc(W.duration(t).asHours()).toString(),r=W.duration(t).minutes().toString();i=i.length<2?"0"+i:i,r=r.length<2?"0"+r:r;const a=i+":"+r;let s=a;const l=W(this.absenceData.currentAbsence.item.startDate).set({hour:0,minute:0,second:0,millisecond:0}),u=W(this.absenceData.currentAbsence.item.endDate).set({hour:0,minute:0,second:0,millisecond:0}).diff(l,"days");s=s.split(":").shift(),this.absenceForm.patchValue(this.absenceData.currentAbsence.item),this.absenceForm.controls.startTime.setValue((0,wt.Do)(this.absenceData.currentAbsence.item.startDate)),this.absenceForm.controls.endTime.setValue((0,wt.Do)(this.absenceData.currentAbsence.item.endDate)),this.absenceForm.controls.numberOfHours.setValue(a),this.employeeComment=this.absenceData.currentAbsence.item.employeeComment,this.absenceForm.controls.absenceStatusID.setValue(this.absenceData.currentAbsence.item.absenceStatusID),this.totalAbsenceDays="00:00"===this.absenceForm.controls.endTime.value?u.toString():(u+1).toString(),this.totalAbsenceHours=a,this.onCreateGroupFormValueChange(),this.absenceForm.disable(),this.hideSubmit=!0}get f(){return this.absenceForm.controls}submitAbsence(){if(this.hasChange){const t=(0,wt.wo)(this.absenceForm.controls.startDate.value,this.absenceForm.controls.startTime.value),i=(0,wt.wo)(this.absenceForm.controls.endDate.value,this.absenceForm.controls.endTime.value);this.absenceForm.controls.startDate.setValue(t),this.absenceForm.controls.endDate.setValue(i);let r=this.absenceData.currentAbsence.item;r.managerComment=this.absenceForm.controls.managerComment.value,r.absenceStatusID=this.absenceForm.controls.absenceStatusID.value,this.absenceForm.valid?this._absenceService.editAbsenceAuthorisationList(r,r.numberOfHours).subscribe(a=>{this.closeDialog()},a=>{const s=this._messageService.handleHttpError(a);this._messageService.open(a),400==a.status&&"The credentials you have entered for system email are invalid."===s&&this.closeDialog()}):this._messageService.open(this.message.fillForm)}else this.closeDialog()}onCreateGroupFormValueChange(){const t=this.absenceForm.value;this.absenceForm.valueChanges.subscribe(i=>{this.hasChange=Object.keys(t).some(r=>{let a=this.absenceForm.value[r]!=t[r];if(a)switch(r){case"endDate":case"startDate":this.absenceForm.value[r].length==t[r].length?a=!0:this.absenceForm.value[r].length>t[r].length?this.absenceForm.value[r]=this.absenceForm.value[r].toString().slice(0,-3):t[r]=t[r].toString().slice(0,-3),a=this.absenceForm.value[r]!=t[r];break;case"numberOfHours":if(typeof this.absenceForm.value[r]==typeof t[r])a=!0;else{if("string"==typeof this.absenceForm.value[r]){const s=this.absenceForm.value[r].split(":"),l=60*(60*Number(s[0])+Number(s[1]))*1e3;this.absenceForm.value[r]=l*this.ticksPerMillisecond}else if("string"==typeof t[r]){const s=t[r].split(":"),l=60*(60*Number(s[0])+Number(s[1]))*1e3;t[r]=l*this.ticksPerMillisecond}a=this.absenceForm.value[r]!=t[r]}}return a})})}closeDialog(){this._dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(nb),e.Y36(Q1),e.Y36(_.qu),e.Y36(se.G),e.Y36(z.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-authorisation-dialog"]],decls:29,vars:4,consts:[[1,"container-fluid","dialog-form"],[1,"row"],[1,"col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButton"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider"],["class","absence-form","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","margin-top-10"],[1,"col-md-6","col-12"],[1,"col-12","lower-col"],[1,"absence-label"],["class","btn form-buttons cancel-button","type","button",3,"click",4,"ngIf"],["autocomplete","off",1,"absence-form",3,"formGroup","ngSubmit"],[1,"row","code-row"],["formControlName","absenceStatusID","id","AbsenceStatus","placeholder","Absence Status","required","",1,"form-input","employee-details","absence-code-select"],[3,"value",4,"ngFor","ngForOf"],["class","validationError",4,"ngIf"],[1,"row","code-row","disabledPart"],["formControlName","absenceCodeID","id","AbsenceCode","placeholder","Absence Code",1,"form-input","employee-details","absence-code-select",3,"virtualScroll"],[1,"row","disabledPart"],[1,"col-md-3","col-12"],[1,"col-md-9","col-12"],[1,"row","date-time-row"],[1,"col-md-6","col-7","margin-bottom-6","dateFieldWidth"],["autocomplete","off","formControlName","startDate",1,"form-control","height28","input-text",3,"matDatepicker","dateLengthTracker"],["src","assets/icons/calendar-icon.png",1,"eSolve_absence_calendar_icon_img",3,"click"],["absenceStartDatePicker",""],[1,"col-md-6","col-5"],["type","text","placeholder","00:00","id","eSolveAbsenceStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","absStartTime","formControlName","startTime",1,"form-control","height28","input-text","hours-input","start-end-hours",3,"dropSpecialCharacters"],[1,"row","button-divider"],[1,"col-12","hr-container"],[1,"row","margin-top-10","disabledPart"],["autocomplete","off","formControlName","endDate",1,"form-control","height28","input-text",3,"matDatepicker","dateLengthTracker"],["absenceEndDatePicker",""],["type","text","placeholder","00:00","id","eSolveAbsenceEndTime","mask","Hh:m0","maxlength","5","minlength","5","name","absEndTime","formControlName","endTime",1,"form-control","height28","input-text","hours-input","start-end-hours",3,"dropSpecialCharacters"],[1,"col-md-3","col-7","hoursFieldWidth"],[1,"col-md-9","col-5"],["type","text","placeholder","00:00","id","eSolveAbsenceHours","minlength","5","name","absEndTime","formControlName","numberOfHours",1,"form-control","height28","input-text","hours-input"],[1,"col-md-4","col-12"],[1,"absence-label-comment"],[1,"col-md-8","col-12"],[1,"absence-label","employee-comment"],["formControlName","managerComment","rows","5","placeholder","Add a comment...",1,"form-control","comment-input"],[4,"ngIf"],[3,"value"],[1,"validationError"],["type","button",1,"btn","form-buttons","cancel-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),e._uU(7," Absence Details "),e.qZA(),e.TgZ(8,"div",5)(9,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()()()(),e.TgZ(10,"div",1)(11,"div",2),e._UZ(12,"hr",7),e.qZA()(),e.TgZ(13,"div",1)(14,"div",2),e.YNc(15,xae,82,13,"form",8),e.qZA()(),e.TgZ(16,"div",9)(17,"div",2)(18,"div",1)(19,"div",10)(20,"div",1)(21,"div",11)(22,"span",12),e._uU(23),e.qZA()()()(),e.TgZ(24,"div",10)(25,"div",1)(26,"div",2),e.YNc(27,Cae,2,0,"button",13),e.YNc(28,Tae,2,0,"button",13),e.qZA()()()()()()()()()),2&t&&(e.xp6(15),e.Q6J("ngIf",i.absenceForm),e.xp6(8),e.hij(" Total absence hours: ",i.totalAbsenceHours," "),e.xp6(4),e.Q6J("ngIf",!i.hideSubmit),e.xp6(1),e.Q6J("ngIf",i.hideSubmit))},dependencies:[D.sg,D.O5,On.Mq,On.hl,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.wO,_.nD,_.sg,_.u,Sn,tr,Cs,rr],styles:[".disabledPart[_ngcontent-%COMP%]{opacity:.8;pointer-events:none}.dialog-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButton[_ngcontent-%COMP%]{padding-right:0}.table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary);margin-bottom:20px}.button-divider[_ngcontent-%COMP%]{margin-top:13px}.form-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:0!important}.date_input[_ngcontent-%COMP%]{width:100%!important}.code-row[_ngcontent-%COMP%]{margin-bottom:25px}.height-28px[_ngcontent-%COMP%]{height:28px}.absence-label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#565d6f;white-space:nowrap}.employee-comment[_ngcontent-%COMP%]{white-space:normal!important;word-wrap:break-word!important}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;width:100%}.submit-button[_ngcontent-%COMP%]{background-color:var(--eSolve-primary)}.cancel-button[_ngcontent-%COMP%]{background-color:#3f5064}.lower-col[_ngcontent-%COMP%]{margin-top:5px}.eSolve_absence_calendar_icon_img[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:5px;border-radius:0%;right:20px;position:absolute;top:4px;color:#989898;font-size:12px;cursor:pointer}.height28[_ngcontent-%COMP%]{height:28px!important}.input-text[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.margin-bottom-6[_ngcontent-%COMP%]{margin-bottom:6px}.hr-container[_ngcontent-%COMP%]{margin-top:-18px;margin-bottom:-22px}.hours-input[_ngcontent-%COMP%]{width:59px}.hours-input-total[_ngcontent-%COMP%]{width:67px}.comment-input[_ngcontent-%COMP%]{font-size:12px;min-height:5vh!important;max-height:20vh!important}.dialog-form[_ngcontent-%COMP%]{max-width:none}.absence-label-comment[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#565d6f;word-wrap:break-word}.dateFieldWidth[_ngcontent-%COMP%], .hoursFieldWidth[_ngcontent-%COMP%]{min-width:135px;max-width:150px}@media (min-width: 768px){.margin-bottom-6[_ngcontent-%COMP%]{margin-bottom:0}.dialog-form[_ngcontent-%COMP%]{max-width:49vw}.hoursFieldWidth[_ngcontent-%COMP%]{min-width:90px!important}}@media (min-width: 950px){.dialog-form[_ngcontent-%COMP%]{max-width:40vw}}@media (min-width: 1360px){.dialog-form[_ngcontent-%COMP%]{max-width:35vw}}"]}),n})();const Dae=["selectEmployee"],Sae=["statusSelect"];function kae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"span",38),e._uU(2),e.qZA(),e.TgZ(3,"span",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4,"\xd7"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Aae(n,o){1&n&&e.YNc(0,kae,5,1,"div",36),2&n&&e.Q6J("ngForOf",o.items)}function Mae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"span",38),e._uU(2),e.qZA(),e.TgZ(3,"span",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.status," ")}}function Oae(n,o){1&n&&e.YNc(0,Mae,5,1,"div",36),2&n&&e.Q6J("ngForOf",o.items)}function Pae(n,o){if(1&n&&(e.TgZ(0,"form",26)(1,"div",27)(2,"div",28)(3,"span",29),e._uU(4," Authorisation List "),e.qZA()(),e.TgZ(5,"div",28)(6,"div",30)(7,"ng-select",31,32),e.ALo(9,"async"),e.YNc(10,Aae,1,1,"ng-template",33),e.qZA()()(),e.TgZ(11,"div",28)(12,"ng-select",34,35),e.YNc(14,Oae,1,1,"ng-template",33),e.qZA()()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.authorisationFilterForm),e.xp6(7),e.Q6J("items",e.lcZ(9,9,t.employees))("multiple",!0)("hideSelected",!0)("typeahead",t.employeeSearchInput),e.xp6(5),e.Q6J("items",t.statusForFilter)("virtualScroll",!0)("multiple",!0)("hideSelected",!0)}}function Eae(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span",41),e._uU(2,"Employee"),e.qZA()())}function Iae(n,o){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.nameAndSurname," ")}}function Nae(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span",41),e._uU(2,"Absence Code"),e.qZA()())}function Rae(n,o){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.absenceCode," ")}}function Fae(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span",41),e._uU(2,"Absence Start"),e.qZA()())}function Zae(n,o){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.ALo(2,"DateTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.startDate)," ")}}function Lae(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span",41),e._uU(2,"Absence End"),e.qZA()())}function Uae(n,o){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.ALo(2,"DateTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.endDate)," ")}}function jae(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span",41),e._uU(2,"Absence Hours"),e.qZA()())}function Yae(n,o){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.time," ")}}function qae(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span",41),e._uU(2,"Status"),e.qZA()())}function Jae(n,o){if(1&n&&(e.TgZ(0,"td",43)(1,"div",44)(2,"div",45)(3,"span",46),e._uU(4),e.qZA(),e._UZ(5,"i",47),e.qZA()()()),2&n){const t=o.$implicit,i=e.oxw();e.s9C("id",t.statusName),e.xp6(1),e.Udp("background-color",i.hexToRGB(t.statusColor,.65)),e.xp6(3),e.AsE("",t.statusName," ",t.deletePending?" (D)":"",""),e.xp6(1),e.Udp("color",i.hexToRGB(t.statusColor,1))}}function Hae(n,o){1&n&&(e.TgZ(0,"th",48)(1,"span",41),e._uU(2,"Actions"),e.qZA()())}function Bae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",49)(1,"div",50)(2,"button",51),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.viewDetails([a]))}),e._uU(3," View Details "),e.qZA()()()}}function Vae(n,o){1&n&&e._UZ(0,"tr",52)}function Gae(n,o){1&n&&e._UZ(0,"tr",53)}const Wae=function(){return[5,10,25,100]};let Qae=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h){this._titleService=t,this.employeeService=i,this.dialog=r,this._router=a,this._notificationsService=s,this._absenceService=l,this._messageService=c,this._zone=u,this._ref=h,this.pageTitle="Absence Authorisations",this.navigatedFromNotification=!1,this.transpositionTogglerValue=!0,this.statusIDs=new Array,this.employeeIDs=new Array,this.resultsLength=0,this.loaded=!1,this.selectedRequestIds=[],this.loggedUserId=0,this.absenceRequestIDFromNotification=0,this.displayedColumns=["employee","absenceCode","absenceStart","absenceEnd","absenceHours","status","actions"],this.dataSource=new N.by,this._updateTable=new e.vpe,this._ngUnsubscribe=new b.x,this.employeeSearchInput=new b.x,this.statusForFilter=[new Fk(1,"Approved","#42C003"),new Fk(3,"Rejected","#E51919")],a.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&u.run(()=>this._ref.detectChanges())}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort;const x=this._router.getCurrentNavigation();x.extras.state&&"notification"===x.extras.state.source&&(this.absenceRequestIDFromNotification=x.extras.state.absenceRequestID,this.navigatedFromNotification=!0)}set content(t){this.employeesSelect=t}set content2(t){this.statusSelect=t}ngOnInit(){this.employees=(0,Yr.z)((0,gn.of)([]),this.employeeSearchInput.pipe((0,H.R)(this._ngUnsubscribe),(0,Gi.x)(),(0,j.w)(t=>this.employeeService.searchEmployeesAndSkillsForFilter(t,"AbsenceAuthorisations","Employee").pipe((0,Wi.K)(()=>(0,gn.of)([])))))),this._titleService.sendTitle(this.pageTitle),this.authorisationFilterForm=new _.cw({status:new _.NI([]),employees:new _.NI([])}),this.getLoggedUserId()}ngAfterViewInit(){this.populateTableData(),this._notificationsService.notificationOnCurrentPage.pipe((0,H.R)(this._ngUnsubscribe)).subscribe(t=>{this.idFromNotification=t.absenceRequestID,this.viewDetails([{absenceID:0,absenceRequestID:this.idFromNotification}])}),this.navigatedFromNotification&&(this.viewDetails([{absenceID:0,absenceRequestID:this.absenceRequestIDFromNotification}]),this.navigatedFromNotification=!1)}getLoggedUserId(){const t=localStorage.getItem("jwt"),i=this.getDecodedAccessToken(t);this.loggedUserId=i.nameid}getDecodedAccessToken(t){try{return(0,ue.Z)(t)}catch(i){return null}}populateTableData(){(0,ie.T)(this.sort.sortChange,this.paginator.page,this.authorisationFilterForm.valueChanges,this._updateTable).pipe((0,H.R)(this._ngUnsubscribe),(0,_e.O)({}),(0,j.w)(()=>{const t=this.displayedColumns.findIndex(i=>i==this.sort.active);return this._absenceService.getDataForApprovalTable(this.loggedUserId,this.authorisationFilterForm.controls.status.value,this.authorisationFilterForm.controls.employees.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction,-1==t?null:t)})).subscribe(t=>{this.resultsLength=t.totalCount?t.totalCount:t.totalCountAfterFilter,this.dataSource=t.items,this.selectedRequestIds=[],0===t.items.length&&this.paginator.previousPage()},t=>{this._messageService.open("Error retrieving data.")})}approveAbsence(t){const i=this.selectedRequestIds.length,r=!!this.selectedRequestIds.length;this._absenceService.approveAbsence(t).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{r&&(this.selectedRequestIds=[]),this._messageService.open((r&&i>1?"Absences":"Absence")+" approved."),this._updateTable.next(!0)},a=>{const s=this._messageService.handleHttpError(a);this._messageService.open(a),400==a.status&&"The credentials you have entered for system email are invalid."===s&&this._updateTable.next(!0)})}approveAllAbsences(){this.selectedRequestIds.length&&this.approveAbsence(this.selectedRequestIds)}rejectAbsence(t){let i=null;i=t[0].absenceID?t[0].absenceID:t[0].absenceRequestID,this._absenceService.rejectAbsence(i).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this.selectedRequestIds=[],this._messageService.open("Absence rejected."),this._updateTable.next(!0)},r=>{const a=this._messageService.handleHttpError(r);this._messageService.open(a),400==r.status&&"The credentials you have entered for system email are invalid."===a&&this._updateTable.next(!0)})}viewDetails(t){let i=null;i=t[0].absenceID?t[0].absenceID:t[0].absenceRequestID,this._absenceService.getAbsenceById(i,t[0].absenceRequestID).pipe((0,H.R)(this._ngUnsubscribe)).subscribe(r=>{this.dialog.open(wae,{autoFocus:!1,disableClose:!0,data:{id:i,currentAbsence:r},panelClass:["max-height96","absence-calendar-dialog"]}).afterClosed().pipe((0,H.R)(this._ngUnsubscribe)).subscribe(()=>{this._updateTable.next(!0)})},r=>{this._messageService.open(r)})}addRemoveAbsence(t,i){if(t)this.selectedRequestIds.includes(i)||this.selectedRequestIds.push(i);else{const r=this.selectedRequestIds.findIndex(a=>a===i);this.selectedRequestIds.splice(r,1)}}hexToRGB(t,i){const r=parseInt(t.slice(1,3),16),a=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16);return i?"rgba("+r+", "+a+", "+s+", "+i+")":"rgb("+r+", "+a+", "+s+")"}ngOnDestroy(){this._ngUnsubscribe.next(!0),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(Vr.n),e.Y36(z.uw),e.Y36(q.F0),e.Y36(fe.T),e.Y36(nb),e.Y36(se.G),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-authorisation-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(Dae,5),e.Gf(Sae,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.content=r.first),e.iGM(r=e.CRH())&&(i.content2=r.first)}},decls:36,vars:8,consts:[[1,"container-fluid","main-absence-container","absence-table"],[1,"card","table-card"],[1,"card-header","table-card-header"],[3,"formGroup",4,"ngIf"],[1,"blue_hr"],[1,"row","table-row"],[1,"col-12"],[1,"g-thin-black-scroll-bar"],["mat-table","","matSort","",1,"authorisation-absence-table",3,"dataSource"],["matColumnDef","employee"],["mat-header-cell","","mat-sort-header","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen",4,"matCellDef"],["matColumnDef","absenceCode"],["matColumnDef","absenceStart"],["matColumnDef","absenceEnd"],["matColumnDef","absenceHours"],["matColumnDef","status"],["mat-cell","","class","visible-on-small-screen",3,"id",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen buttonsDivWidth",4,"matCellDef"],["mat-header-row","","class","emp-table-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"row"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[3,"formGroup"],[1,"row","header-container-row"],[1,"col-md-3","col-12"],[1,"table-name"],[1,"g-esolve-multi-select","col-spacing"],["id","empSearchInput","bindLabel","name","bindValue","id","placeholder","Find Employee","formControlName","employees",1,"g-esolve-multi-select","esolve-font-size",3,"items","multiple","hideSelected","typeahead"],["employeeSelect",""],["ng-multi-label-tmp",""],["id","statusSearchInput","bindLabel","status","bindValue","id","placeholder","Filter Status","formControlName","status",1,"g-esolve-multi-select","esolve-font-size",3,"items","virtualScroll","multiple","hideSelected"],["statusSelect",""],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["mat-header-cell","","mat-sort-header","",1,"visible-on-small-screen"],[1,"table-header-name"],["mat-cell","",1,"visible-on-small-screen"],["mat-cell","",1,"visible-on-small-screen",3,"id"],[1,"absence-status-table-cell"],[1,"d-flex","justify-content-between"],[1,"absence-status-title"],["aria-hidden","true",1,"fa","fa-circle","status-dot"],["mat-header-cell","",1,"visible-on-small-screen"],["mat-cell","",1,"visible-on-small-screen","buttonsDivWidth"],[1,"d-flex","justify-content-between","align-buttons-padding","buttons-display"],["id","view_details_btn","type","button",1,"absence-table-button","btn","p-2","modal-btn",3,"click"],["mat-header-row","",1,"emp-table-row"],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,Pae,15,11,"form",3),e.qZA(),e._UZ(4,"hr",4),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"table",8),e.ynx(9,9),e.YNc(10,Eae,3,0,"th",10),e.YNc(11,Iae,2,1,"td",11),e.BQk(),e.ynx(12,12),e.YNc(13,Nae,3,0,"th",10),e.YNc(14,Rae,2,1,"td",11),e.BQk(),e.ynx(15,13),e.YNc(16,Fae,3,0,"th",10),e.YNc(17,Zae,3,3,"td",11),e.BQk(),e.ynx(18,14),e.YNc(19,Lae,3,0,"th",10),e.YNc(20,Uae,3,3,"td",11),e.BQk(),e.ynx(21,15),e.YNc(22,jae,3,0,"th",10),e.YNc(23,Yae,2,1,"td",11),e.BQk(),e.ynx(24,16),e.YNc(25,qae,3,0,"th",10),e.YNc(26,Jae,6,7,"td",17),e.BQk(),e.ynx(27,18),e.YNc(28,Hae,3,0,"th",19),e.YNc(29,Bae,4,0,"td",20),e.BQk(),e.YNc(30,Vae,1,0,"tr",21),e.YNc(31,Gae,1,0,"tr",22),e.qZA()()()(),e.TgZ(32,"div",23)(33,"div",6),e._UZ(34,"mat-paginator",24,25),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.authorisationFilterForm),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(3),e.Q6J("length",i.resultsLength)("pageSize",5)("pageSizeOptions",e.DdM(7,Wae)))},dependencies:[D.sg,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,di,D.Ov,Do],styles:[".container-fluid.main-absence-container[_ngcontent-%COMP%]{padding:17px;width:100%;background-color:#eff3f7}.authorisation-absence-table[_ngcontent-%COMP%]{width:100%}.table-card[_ngcontent-%COMP%]{padding:0 10px}.table-card-header[_ngcontent-%COMP%]{background-color:#fff!important;padding-left:0!important;margin-top:3px}.table-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f}.absence-table[_ngcontent-%COMP%]{padding-bottom:15px}.table-header-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#0000008a}.absence-status-table-cell[_ngcontent-%COMP%]{color:#fff;border-radius:100px;padding:2px 5px 2px 6px;width:127px}.absence-status-title[_ngcontent-%COMP%]{padding-left:6px;padding-top:1px}.status-dot[_ngcontent-%COMP%]{font-size:18px;padding:3px;margin-left:3px}.align-buttons-padding[_ngcontent-%COMP%]{padding-right:0;padding-left:3px}.absence-table-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#404f64;border-radius:4px;font-size:12px;font-weight:550;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042;width:83px}.absence-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px}.authorisation_checkbox[_ngcontent-%COMP%]{position:relative;top:5px;margin-left:5px}.buttonsDivWidth[_ngcontent-%COMP%]{width:115px}.card-header.table-card-header[_ngcontent-%COMP%]{border-bottom:none!important}.blue_hr[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:2px}.table-row[_ngcontent-%COMP%]{padding:0 15px}.approve-button-holder[_ngcontent-%COMP%]{padding-right:0}.header-container-row[_ngcontent-%COMP%]{padding:0 15px}.card[_ngcontent-%COMP%]{border:1px solid #e1e6ec!important}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 215px);overflow-wrap:break-word;margin-top:5px}@media (max-width: 1200px){.absence-status-table-cell[_ngcontent-%COMP%]{width:95px}}@media (max-width: 992px){.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important;width:82%}.mat-column-employee[_ngcontent-%COMP%], .mat-column-absenceStart[_ngcontent-%COMP%], .mat-column-absenceEnd[_ngcontent-%COMP%], .mat-column-absenceHours[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{width:100%}#modify_btn[_ngcontent-%COMP%]{margin-left:0}#approval_all_btn[_ngcontent-%COMP%]{margin-right:0}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:12px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important;border-bottom:none!important}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}.absence-table-button[_ngcontent-%COMP%]{margin-right:5px}.card-header[_ngcontent-%COMP%]{padding-right:0}#empSearchInput[_ngcontent-%COMP%], #statusSearchInput[_ngcontent-%COMP%]{margin-bottom:5px}.blue_hr[_ngcontent-%COMP%]{z-index:2;margin-bottom:-4px;margin-top:-1px}.table-card[_ngcontent-%COMP%]{padding:0 20px}.approve-button-holder[_ngcontent-%COMP%]{padding-right:15px}}@media (max-width: 567px){.table-card[_ngcontent-%COMP%]{padding:0 5px}}@media (min-width: 768px) and (max-width: 992px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 209px);overflow-wrap:break-word}}@media (min-width: 606px) and (max-width: 767px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 291px);overflow-wrap:break-word}}@media (max-width: 605px) and (min-width: 367px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 306px);overflow-wrap:break-word}}@media (max-width: 366px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 360px);overflow-wrap:break-word}}"]}),n})(),Jx=(()=>{class n{constructor(t){this._dialogService=t}canDeactivate(t){return!(t.preventNavigation&&t.unlockedSchedule)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ri.x))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function zae(n,o){if(1&n&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Kae(n,o){if(1&n&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Publish Type ",t.message.required," ")}}function $ae(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Date ",t.message.required," ")}}function Xae(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function ese(n,o){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,$ae,2,1,"div",13),e.YNc(2,Xae,2,1,"div",13),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t.publishTemplateForm.controls.date.errors?null:t.publishTemplateForm.controls.date.errors.required)&&!(null!=t.publishTemplateForm.controls.date.errors&&t.publishTemplateForm.controls.date.errors.matDatepickerParse||null!=t.publishTemplateForm.controls.date.errors&&t.publishTemplateForm.controls.date.errors.minlength)),e.xp6(1),e.Q6J("ngIf",(null==t.publishTemplateForm.controls.date.errors?null:t.publishTemplateForm.controls.date.errors.matDatepickerParse)||(null==t.publishTemplateForm.controls.date.errors?null:t.publishTemplateForm.controls.date.errors.minlength))}}function tse(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",8)(2,"div",9),e._UZ(3,"input",20),e.qZA(),e.TgZ(4,"div")(5,"img",21),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(7);return e.KtG(r.open())}),e.qZA()(),e._UZ(6,"mat-datepicker",null,22),e.qZA(),e.YNc(8,ese,3,2,"div",23),e.qZA()}if(2&n){const t=e.MAs(7),i=e.oxw(2);e.xp6(3),e.s9C("placeholder",i.message.datePickerPlaceholder),e.Q6J("matDatepicker",t)("dateLengthTracker",i.dateLength),e.xp6(5),e.Q6J("ngIf",(null==i.publishTemplateForm.controls.date?null:i.publishTemplateForm.controls.date.touched)&&(null==i.publishTemplateForm.controls.date?null:i.publishTemplateForm.controls.date.errors))}}function nse(n,o){if(1&n&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Time ",t.message.required," ")}}function ise(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,nse,2,1,"div",12),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.publishTemplateForm.controls.time||null==t.publishTemplateForm.controls.time.errors?null:t.publishTemplateForm.controls.time.errors.required)}}function rse(n,o){if(1&n&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function ose(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",8)(2,"div",9),e._UZ(3,"input",25),e.qZA()(),e.TgZ(4,"div"),e.YNc(5,ise,2,1,"div",13),e.YNc(6,rse,2,1,"div",12),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("ngIf",t.publishTemplateForm.controls.time.touched&&t.publishTemplateForm.controls.time.errors),e.xp6(1),e.Q6J("ngIf",null==t.publishTemplateForm.controls.time.errors?null:t.publishTemplateForm.controls.time.errors.minlength)}}function ase(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",6),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.publishTemplate())}),e.TgZ(1,"div",7)(2,"div",8)(3,"div",9)(4,"select",10),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onPublishTypeChange())}),e.YNc(5,zae,2,2,"option",11),e.qZA()()(),e.YNc(6,Kae,2,1,"div",12),e.YNc(7,tse,9,4,"div",13),e.YNc(8,ose,7,3,"div",13),e.qZA(),e.TgZ(9,"div",14)(10,"div",15)(11,"button",16),e._uU(12," Continue "),e.qZA()(),e.TgZ(13,"div",15)(14,"button",17),e._uU(15," Cancel "),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.publishTemplateForm),e.xp6(5),e.Q6J("ngForOf",t.publishTypes),e.xp6(1),e.Q6J("ngIf",t.publishTemplateForm.controls.publishTypeID.touched&&(null==t.publishTemplateForm.controls.publishTypeID.errors?null:t.publishTemplateForm.controls.publishTypeID.errors.required)),e.xp6(1),e.Q6J("ngIf","2"==t.publishTemplateForm.controls.publishTypeID.value),e.xp6(1),e.Q6J("ngIf","2"==t.publishTemplateForm.controls.publishTypeID.value),e.xp6(6),e.Q6J("mat-dialog-close",!1)}}let sse=(()=>{class n{constructor(t,i,r,a,s){this.data=t,this.dialogRef=i,this._formBuilder=r,this._templatesService=a,this._messageService=s,this.dateLength=ai.YG.length,this.publishTypes=[{id:1,name:"Publish Now"},{id:2,name:"Publish From"}]}ngOnInit(){this.message=St.yw,this.buildForm()}closeDialog(){this.dialogRef.close(!1)}buildForm(){this.publishTemplateForm=this._formBuilder.group({publishTypeID:["",{validators:[_.kI.required],updateOn:"change"}],date:["",{validators:[_.kI.required],updateOn:"change"}],time:["00:00",{validators:[_.kI.required],updateOn:"change"}]})}onPublishTypeChange(){this.publishTemplateForm.controls.date.setValue(null),this.publishTemplateForm.controls.date.markAsUntouched(),this.publishTemplateForm.controls.date.setErrors(null),this.publishTemplateForm.controls.time.setValue("00:00"),this.publishTemplateForm.controls.time.markAsUntouched(),this.publishTemplateForm.controls.time.setErrors(null)}publishTemplate(){if(Object.keys(this.publishTemplateForm.controls).forEach(t=>{this.publishTemplateForm.get(t).markAsTouched({onlySelf:!0})}),this.publishTemplateForm.valid){let t={id:this.data.publishTemplateData.id,date:null};if(1==this.publishTemplateForm.controls.publishTypeID.value)t.date=W().clone().utc(!1).set({hour:0,minute:0,second:0,millisecond:0});else{let i,r,a,s;i=W(this.publishTemplateForm.controls.date.value).format("YYYY-MM-DD"),r=this.publishTemplateForm.controls.time.value,a=r.slice(0,3),s=r.slice(3,5),t.date=i+"T"+a+s+":00.000Z"}this._templatesService.publishTemplate(t).subscribe(()=>{this._messageService.open("Published Successfuly"),this.dialogRef.close(!0)},i=>{this._messageService.open(i)})}else this._messageService.open(St.yw.fillForm)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(_s),e.Y36(se.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publish-template-dialog"]],decls:13,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"col-12","d-flex","justify-content-center"],[1,"blue_hr"],[1,"dialog-message"],["autocomplete","off","id","eSolvePublishTemplate",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off","id","eSolvePublishTemplate",3,"formGroup","ngSubmit"],[1,"row","col-12","margin-top-10"],[1,"col-12","d-flex","justify-content-start","g-margin-bottom-5"],[1,"eSolveNameDiv"],["id","publishTypeID","formControlName","publishTypeID","required","",1,"form-control","form-control-sm","input-width",3,"change"],["class","input-element",3,"value",4,"ngFor","ngForOf"],["class","validationError col-12",4,"ngIf"],[4,"ngIf"],[1,"row","col-12","margin-top-10","pading-right-none"],[1,"col-sm-12","col-md-6","pading-right-none"],["id","continue-button","type","submit",1,"eSolve-button","eSolve-blue-button"],["id","cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"mat-dialog-close"],[1,"input-element",3,"value"],[1,"validationError","col-12"],["autocomplete","off","required","","id","date","name","date","formControlName","date",1,"form-control","form-control-sm","eSolve-font-size",3,"placeholder","matDatepicker","dateLengthTracker"],["src","assets/icons/calendar-icon.png",1,"calendar-icon-img2",3,"click"],["templateDatePicker",""],["class","col-12 validationError",4,"ngIf"],[1,"col-12","validationError"],["required","","type","text","placeholder","00:00","id","eSolveTime","mask","Hh:m0","maxlength","5","minlength","5","name","time","formControlName","time",1,"form-control","form-control-sm",3,"dropSpecialCharacters"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"strong"),e._uU(3,"Publish Template"),e.qZA()(),e.TgZ(4,"div",2),e._UZ(5,"hr",3),e.qZA()(),e.TgZ(6,"div",0)(7,"div")(8,"div",1)(9,"strong")(10,"span",4),e._uU(11),e.qZA()()(),e.YNc(12,ase,16,6,"form",5),e.qZA()()),2&t&&(e.xp6(11),e.hij(" ",i.data.message," "),e.xp6(1),e.Q6J("ngIf",i.publishTemplateForm))},dependencies:[D.sg,D.O5,On.Mq,On.hl,z.ZT,_._Y,_.YN,_.Kr,_.Fj,_.EJ,_.JJ,_.JL,_.Q7,_.wO,_.nD,_.sg,_.u,Cs,rr],styles:[".dialog-message[_ngcontent-%COMP%]{text-align:center;white-space:pre-line}.dialog-message[_ngcontent-%COMP%]{font-size:12px}.eSolve-button[_ngcontent-%COMP%], .blue_hr[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px}.eSolveNameDiv[_ngcontent-%COMP%]{width:180px}.input-width[_ngcontent-%COMP%]{max-width:200px;font-size:12px}.input-element[_ngcontent-%COMP%]{font-size:12px}.calendar-icon-img2[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:5px;border-radius:0%;position:relative;left:-30px;top:1px;cursor:pointer}#eSolveTime[_ngcontent-%COMP%]{width:63px;box-shadow:none}input[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.pading-right-none[_ngcontent-%COMP%]{padding-right:0}@media (max-width: 767px){#continue-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),n})();function lse(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Name ",t.message.required," ")}}function cse(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.limit50," ")}}function dse(n,o){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,lse,2,1,"div",15),e.YNc(2,cse,2,1,"div",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.duplicateTemplateForm.controls.name.errors?null:t.duplicateTemplateForm.controls.name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.duplicateTemplateForm.controls.name.errors?null:t.duplicateTemplateForm.controls.name.errors.maxlength)}}function use(n,o){if(1&n&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Name ",t.message.inUse," ")}}function pse(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.duplicateTemplate())}),e.TgZ(1,"div",6)(2,"div",7)(3,"input",8),e.NdJ("keyup",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.isNameUnique(r.target.value))}),e.qZA()()(),e.YNc(4,dse,3,2,"div",9),e.YNc(5,use,2,1,"div",9),e.TgZ(6,"div",10)(7,"div",11)(8,"button",12),e._uU(9," Continue "),e.qZA()(),e.TgZ(10,"div",11)(11,"button",13),e._uU(12," Cancel "),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.duplicateTemplateForm),e.xp6(4),e.Q6J("ngIf",(null==t.duplicateTemplateForm.controls.name?null:t.duplicateTemplateForm.controls.name.touched)&&(null==t.duplicateTemplateForm.controls.name?null:t.duplicateTemplateForm.controls.name.errors)),e.xp6(1),e.Q6J("ngIf",t.templateNameInUse&&!(null!=t.duplicateTemplateForm.controls.name.errors&&t.duplicateTemplateForm.controls.name.errors.required)),e.xp6(6),e.Q6J("mat-dialog-close",!1)}}let fse=(()=>{class n{constructor(t,i,r,a,s){this.data=t,this.dialogRef=i,this.formBuilder=r,this._messageService=a,this._templatesService=s,this.templateNameInUse=!1}ngOnInit(){this.message=St.yw,this.buildForm()}closeDialog(){this.dialogRef.close(!1)}buildForm(){this.duplicateTemplateForm=this.formBuilder.group({name:["",{validators:[_.kI.required],updateOn:"change"}]})}duplicateTemplate(){this.duplicateTemplateForm.valid?this._templatesService.duplicateTemplate(this.data.duplicateTemplateData.id,this.duplicateTemplateForm.controls.name.value).subscribe(r=>{this._messageService.open("Template is duplicated."),this.dialogRef.close({message:"submited"})},r=>{this._messageService.open(r)}):(Object.keys(this.duplicateTemplateForm.controls).forEach(r=>{this.duplicateTemplateForm.get(r).markAsTouched({onlySelf:!0})}),this._messageService.open("Please fill in the form correctly."))}trimWholeForm(){const t=String(this.duplicateTemplateForm.controls.name.value.trim());this.duplicateTemplateForm.controls.name.setValue(t)}isNameUnique(t){if(""!=t.trim()){let i=0;this._templatesService.checkIfTemplateNameIsUnique(t.trim(),i).subscribe(r=>{200==r?(this.templateNameInUse=!1,this.duplicateTemplateForm.controls.name.setErrors(null)):(this.templateNameInUse=!0,this.duplicateTemplateForm.controls.name.setErrors({templateNameInUse:!0}))},r=>{})}else this.templateNameInUse=!1,this.duplicateTemplateForm.controls.name.setErrors({required:!0})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(z.so),e.Y36(_.qu),e.Y36(se.G),e.Y36(_s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-duplicate-template-dialog"]],decls:8,vars:1,consts:[[1,"row"],[1,"col-12"],[1,"col-12","d-flex","justify-content-center"],[1,"blue_hr"],["class","row col-12 margin-top-10 pading-right-none","autocomplete","off","id","eSolveDuplicateTemplate",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off","id","eSolveDuplicateTemplate",1,"row","col-12","margin-top-10","pading-right-none",3,"formGroup","ngSubmit"],[1,"col-12","d-flex","justify-content-start","g-margin-bottom-5"],[1,"eSolveNameDiv"],["id","name","placeholder","Template Name","required","","maxlength","50","formControlName","name",1,"form-control","eSolve-font-size","form-control-sm",3,"keyup"],["class","col-12 validationError",4,"ngIf"],[1,"row","col-12","margin-top-10","pading-right-none"],[1,"col-sm-12","col-md-6","pading-right-none"],["id","continue-button","type","submit",1,"eSolve-button","eSolve-blue-button"],["id","cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"mat-dialog-close"],[1,"col-12","validationError"],[4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"strong"),e._uU(3,"Duplicate Template"),e.qZA()(),e.TgZ(4,"div",2),e._UZ(5,"hr",3),e.qZA()(),e.TgZ(6,"div",0),e.YNc(7,pse,13,4,"form",4),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngIf",i.duplicateTemplateForm))},dependencies:[D.O5,z.ZT,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.nD,_.sg,_.u],styles:[".eSolve-button[_ngcontent-%COMP%], .blue_hr[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px}.eSolveNameDiv[_ngcontent-%COMP%]{width:180px}input[_ngcontent-%COMP%]{font-size:12px;color:#565d6f}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.pading-right-none[_ngcontent-%COMP%]{padding-right:0}@media (max-width: 767px){#continue-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),n})();const hse=["templateSelect"];function mse(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"span",45),e._uU(2),e.qZA(),e.TgZ(3,"span",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function gse(n,o){1&n&&e.YNc(0,mse,5,1,"div",43),2&n&&e.Q6J("ngForOf",o.items)}function _se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",30)(1,"div",31)(2,"div",32)(3,"span",33),e._uU(4," Templates "),e.qZA()(),e.TgZ(5,"div",34)(6,"div",35)(7,"ng-select",36,37),e.ALo(9,"async"),e._UZ(10,"i",38),e.YNc(11,gse,1,1,"ng-template",39),e.qZA()()(),e.TgZ(12,"div",40)(13,"button",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openTemplateDialog())}),e._UZ(14,"i",42),e._uU(15," \xa0\xa0Add Template "),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.templateFilterForm),e.xp6(7),e.Q6J("items",e.lcZ(9,5,t.templates))("multiple",!0)("hideSelected",!0)("typeahead",t.templateSearchInput)}}function vse(n,o){1&n&&(e.TgZ(0,"th",47)(1,"span"),e._uU(2,"Template"),e.qZA()())}function bse(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function yse(n,o){1&n&&(e.TgZ(0,"th",47)(1,"span"),e._uU(2,"Created"),e.qZA()())}function xse(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.created)," ")}}function Cse(n,o){1&n&&(e.TgZ(0,"th",47)(1,"span",49),e._uU(2,"Last Modified"),e.qZA()())}function Tse(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"/"),e.qZA())}function wse(n,o){if(1&n&&(e.TgZ(0,"td",48),e.YNc(1,Tse,2,0,"span",50),e._uU(2),e.ALo(3,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",null===t.lastModified),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.lastModified)," ")}}function Dse(n,o){1&n&&(e.TgZ(0,"th",47)(1,"span",49),e._uU(2,"Last Published"),e.qZA()())}function Sse(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"/"),e.qZA())}function kse(n,o){if(1&n&&(e.TgZ(0,"td",48),e.YNc(1,Sse,2,0,"span",50),e._uU(2),e.ALo(3,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",null===t.lastPublished),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.lastPublished)," ")}}function Ase(n,o){1&n&&(e.TgZ(0,"th",47)(1,"span",49),e._uU(2,"In Use"),e.qZA()())}function Mse(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Y"),e.qZA())}function Ose(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"N"),e.qZA())}function Pse(n,o){if(1&n&&(e.TgZ(0,"td",48),e.YNc(1,Mse,2,0,"span",50),e.YNc(2,Ose,2,0,"span",50),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.inUse),e.xp6(1),e.Q6J("ngIf",!t.inUse)}}function Ese(n,o){1&n&&e._UZ(0,"th",51)}function Ise(n,o){1&n&&e._UZ(0,"td",52)}function Nse(n,o){1&n&&e._UZ(0,"th",51)}function Rse(n,o){1&n&&e._UZ(0,"td",52)}function Fse(n,o){1&n&&e._UZ(0,"th",53)}function Zse(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",52)(1,"div",27)(2,"div",54)(3,"button",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openPublishDialog(a))}),e._UZ(4,"i",56),e._uU(5," \xa0\xa0Publish "),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.MGl("id","publish",t.name,""),e.Q6J("disabled",!t.canBePublished)}}function Lse(n,o){1&n&&e._UZ(0,"th",53)}function Use(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",52)(1,"div",27)(2,"div",54)(3,"button",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDuplicateDialog(a))}),e._UZ(4,"i",57),e._uU(5," \xa0\xa0Duplicate "),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.MGl("id","duplicate",t.name,""),e.Q6J("disabled",!t.canBeManaged)}}function jse(n,o){1&n&&e._UZ(0,"th",53)}function Yse(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",52)(1,"div",27)(2,"div",54)(3,"button",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDeleteDialog(a))}),e._UZ(4,"i",58),e._uU(5," \xa0\xa0Delete "),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.MGl("id","delete",t.name,""),e.Q6J("disabled",!t.canBeManaged)}}function qse(n,o){1&n&&(e.TgZ(0,"th",53)(1,"span"),e._uU(2,"Actions"),e.qZA()())}function Jse(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",52)(1,"div",27)(2,"div",54)(3,"button",59),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.viewDetails(a.id,a.name,a.startDate,a.endDate))}),e._uU(4," View Details "),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.MGl("id","viewDetails",t.name,"")}}function Hse(n,o){1&n&&e._UZ(0,"tr",60)}function Bse(n,o){1&n&&e._UZ(0,"tr",61)}const Vse=function(){return[5,10,25,50,100,250]};let Gse=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this.titleService=t,this.dialog=i,this._templateService=r,this._router=a,this._messageService=s,this._renderer=l,this._zone=c,this._ref=u,this.pageTitle="Schedules > Templates",this.displayedColumns=["name","created","lastModified","lastPublished","inUse","publish","duplicate","delete","actions","startDate","endDate"],this.dataSource=new N.by,this.resultsLength=0,this.isOnDetails=!1,this.templateSearchInput=new b.x,a.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&c.run(()=>this._ref.detectChanges())}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}set content(t){this.templateSelect=t}ngOnInit(){this.titleService.sendTitle(this.pageTitle),this.publishDialogMessage=St.yw.publishTemplate,this.deleteMessage=(0,St.$j)(" Template"),this.templateFilterForm=new _.cw({templates:new _.NI([])}),this.subscription=this._templateService.isOnDetails.subscribe(t=>{setTimeout(()=>{this.isOnDetails=t},0),this.isOnDetails&&this.templateFilterForm.controls.templates.setValue([])}),this.subscription.add(this.templateFilterForm.valueChanges.subscribe(t=>{this._templateService.paginationData.next(t)})),this.templates=(0,Yr.z)((0,gn.of)([]),this.templateSearchInput.pipe((0,Gi.x)(),(0,j.w)(t=>this._templateService.searchTemplatesForFilter(t).pipe((0,Wi.K)(()=>(0,gn.of)([]))))))}ngAfterViewInit(){$(this.templateSelect.element.children[0].children[1]).remove(),$(this.templateSelect.element.children[0]).append(this._createIconElement("fa-search","padding-right","6px")),this.populateTableData()}populateTableData(){this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page,this.templateFilterForm.controls.templates.valueChanges).pipe((0,_e.O)({}),(0,j.w)(()=>this._templateService.getAllForTemplates(this.templateFilterForm.controls.templates.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction,this.sort.active))).subscribe(t=>{this.resultsLength=t.totalCount,this.dataSource=t.items,0===t.items.length&&this.paginator.previousPage()},t=>{this._messageService.open("Error retrieving data.")})}_createIconElement(t,i,r){let a=this._renderer.createElement("i");return this._renderer.addClass(a,"fa"),this._renderer.addClass(a,t),this._renderer.setStyle(a,i,r),this._renderer.setStyle(a,"color","gray"),a}openTemplateDialog(){this._zone.run(()=>{this.dialog.open(Px,{autoFocus:!1,disableClose:!0,width:"600px",data:{type:"add"},panelClass:["max-height96"]}).afterClosed().subscribe(i=>{this.populateTableData()})})}openDuplicateDialog(t){this._zone.run(()=>{this.dialog.open(fse,{autoFocus:!1,disableClose:!0,width:"390px",data:{duplicateTemplateData:t},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{this.populateTableData()})})}openDeleteDialog(t){this._zone.run(()=>{this.dialog.open(PS,{autoFocus:!1,disableClose:!0,width:"390px",data:{deleteTemplateData:t,message:this.deleteMessage,insertedTemplate:!1},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{this.populateTableData(),this.paginator.length%this.paginator.pageSize==1&&this.paginator.firstPage()})})}openPublishDialog(t){this._zone.run(()=>{this.dialog.open(sse,{autoFocus:!1,disableClose:!0,width:"390px",data:{publishTemplateData:t,message:this.publishDialogMessage},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{r&&this.populateTableData()})})}viewDetails(t,i,r,a){const s={templateId:t,name:i};let l=oe(i);l+="-template",this._templateService.sendTemplateSignal(s),this._router.navigateByUrl("/scheduler/details/"+l,{state:{source:"template-details",templateId:t,startDate:r,endDate:a}})}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(z.uw),e.Y36(_s),e.Y36(q.F0),e.Y36(se.G),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-manage-templates"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(hse,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.content=r.first)}},decls:48,vars:8,consts:[[1,"container-fluid","template-table"],[1,"card","table-card"],[1,"card-header","table-card-header"],[3,"formGroup",4,"ngIf"],[1,"blue_hr"],[1,"row","table-row"],[1,"col-12"],[1,"g-thin-black-scroll-bar"],["mat-table","","matSort","",1,"template-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen table-text-font",4,"matCellDef"],["matColumnDef","created"],["matColumnDef","lastModified"],["matColumnDef","lastPublished"],["matColumnDef","inUse"],["matColumnDef","startDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","endDate"],["matColumnDef","publish"],["mat-header-cell","","class","visible-on-small-screen",4,"matHeaderCellDef"],["matColumnDef","duplicate"],["matColumnDef","delete"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"row"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[3,"formGroup"],[1,"row","header-container-row"],[1,"col-md-3","col-12"],[1,"table-name"],[1,"col-md-6","col-12"],[1,"margin-top-10"],["id","templateSearchInput","bindLabel","name","bindValue","id","placeholder","Find Template","formControlName","templates",1,"g-esolve-multi-select","esolve-font-size","g-templates-table-search",3,"items","multiple","hideSelected","typeahead"],["templateSelect",""],["aria-hidden","true",1,"fa","fa-search"],["ng-multi-label-tmp",""],[1,"col-md-3","col-12","d-flex","justify-content-end","rightSide","header-right","buttons-holder"],["id","template_button",1,"add-template-button","top-12",3,"click"],[1,"fa","fa-plus","add-template-icon"],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["mat-header-cell","","mat-sort-header","",1,"visible-on-small-screen"],["mat-cell","",1,"visible-on-small-screen","table-text-font"],[1,"white-space"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"visible-on-small-screen"],[1,"col-md-6"],[1,"btn","grid-buttons",3,"id","disabled","click"],[1,"fa","fa-share"],[1,"fa","fa-clone"],[1,"fa","fa-trash-o"],[1,"btn","details-button","view-details-small-screen",3,"id","click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,_se,16,7,"form",3),e.qZA(),e._UZ(4,"hr",4),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"table",8),e.ynx(9,9),e.YNc(10,vse,3,0,"th",10),e.YNc(11,bse,2,1,"td",11),e.BQk(),e.ynx(12,12),e.YNc(13,yse,3,0,"th",10),e.YNc(14,xse,3,3,"td",11),e.BQk(),e.ynx(15,13),e.YNc(16,Cse,3,0,"th",10),e.YNc(17,wse,4,4,"td",11),e.BQk(),e.ynx(18,14),e.YNc(19,Dse,3,0,"th",10),e.YNc(20,kse,4,4,"td",11),e.BQk(),e.ynx(21,15),e.YNc(22,Ase,3,0,"th",10),e.YNc(23,Pse,3,2,"td",11),e.BQk(),e.ynx(24,16),e.YNc(25,Ese,1,0,"th",17),e.YNc(26,Ise,1,0,"td",18),e.BQk(),e.ynx(27,19),e.YNc(28,Nse,1,0,"th",17),e.YNc(29,Rse,1,0,"td",18),e.BQk(),e.ynx(30,20),e.YNc(31,Fse,1,0,"th",21),e.YNc(32,Zse,6,2,"td",18),e.BQk(),e.ynx(33,22),e.YNc(34,Lse,1,0,"th",21),e.YNc(35,Use,6,2,"td",18),e.BQk(),e.ynx(36,23),e.YNc(37,jse,1,0,"th",21),e.YNc(38,Yse,6,2,"td",18),e.BQk(),e.ynx(39,24),e.YNc(40,qse,3,0,"th",21),e.YNc(41,Jse,5,1,"td",18),e.BQk(),e.YNc(42,Hse,1,0,"tr",25),e.YNc(43,Bse,1,0,"tr",26),e.qZA()()()(),e.TgZ(44,"div",27)(45,"div",6),e._UZ(46,"mat-paginator",28,29),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.templateFilterForm),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(34),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(3),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(7,Vse)))},dependencies:[D.sg,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,di,D.Ov,rd],styles:[".container-fluid.template-table[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%;height:calc(100vh - 56px)}.mat-column-templateName[_ngcontent-%COMP%], .mat-column-created[_ngcontent-%COMP%], .mat-column-lastModified[_ngcontent-%COMP%], .mat-column-lastPublished[_ngcontent-%COMP%], .mat-column-inUse[_ngcontent-%COMP%], .mat-column-publish[_ngcontent-%COMP%], .mat-column-duplicate[_ngcontent-%COMP%], .mat-column-delete[_ngcontent-%COMP%]{position:relative;width:11.11%}.mat-column-actions[_ngcontent-%COMP%]{position:relative;width:1%;-ms-flex-pack:end;justify-content:flex-end}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}.table-text-font[_ngcontent-%COMP%]{font-weight:700;color:#595959;font-size:12px}.add-template-button[_ngcontent-%COMP%]{height:30px;width:130px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;position:relative;-ms-flex-line-pack:center;align-content:center;border:1px solid #ced5db;border-radius:.25rem;cursor:pointer}.details-button[_ngcontent-%COMP%]{height:27px;width:140px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);padding:0 0 1px}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.add-template-icon[_ngcontent-%COMP%]{position:relative;top:1px}.rightSide[_ngcontent-%COMP%]{position:relative;width:20%;padding-left:15px;margin-right:2%}.header-right[_ngcontent-%COMP%]{border-left:1px solid #ced5db;margin:-12px 0;max-width:100%}.template-table[_ngcontent-%COMP%]{width:100%;padding-bottom:15px}.table-card[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #e1e6ec!important}.table-card-header[_ngcontent-%COMP%]{background-color:#fff!important;padding-left:0!important;margin-top:3px}.table-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f}.card-header.table-card-header[_ngcontent-%COMP%]{border-bottom:none!important}.blue_hr[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:2px;border:1px solid var(--eSolve-primary)}.table-row[_ngcontent-%COMP%]{padding:0 15px}.buttons-holder[_ngcontent-%COMP%]{padding-right:0}.header-container-row[_ngcontent-%COMP%]{padding:0 15px}.white-space[_ngcontent-%COMP%]{white-space:nowrap}.top-12[_ngcontent-%COMP%]{top:12px}.grid-buttons[_ngcontent-%COMP%]{background-color:#eff3f7;color:#404f64;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042;width:100px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 215px);overflow-wrap:break-word}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}@media (max-width: 397px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 360px)!important;overflow-wrap:break-word}}@media (max-width: 430px){.table-card[_ngcontent-%COMP%]{padding:0 5px}}@media (max-width: 605px) and (min-width: 398px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 303px)!important;overflow-wrap:break-word}}@media (max-width: 767px) and (min-width: 606px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 290px)!important;overflow-wrap:break-word}}@media (max-width: 767px){.rightSide[_ngcontent-%COMP%]{position:relative;width:98%;padding-left:15px;margin-right:2%}.header-right[_ngcontent-%COMP%]{border-left:0px solid #ced5db;margin:10px 0}}@media (max-width: 1490px){.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-templateName[_ngcontent-%COMP%], .mat-column-created[_ngcontent-%COMP%], .mat-column-lastModified[_ngcontent-%COMP%], .mat-column-lastPublished[_ngcontent-%COMP%], .mat-column-inUse[_ngcontent-%COMP%], .mat-column-publish[_ngcontent-%COMP%], .mat-column-duplicate[_ngcontent-%COMP%], .mat-column-delete[_ngcontent-%COMP%]{position:relative;width:100%}.mat-column-actions[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:14px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important;border-bottom:none!important}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.card-header[_ngcontent-%COMP%]{padding-right:0}#templateSearchInput[_ngcontent-%COMP%]{margin-bottom:5px}.blue_hr[_ngcontent-%COMP%]{z-index:1;margin-bottom:2px;margin-top:-1px}.table-card[_ngcontent-%COMP%]{padding:0 20px}.buttons-holder[_ngcontent-%COMP%]{padding-right:15px}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.view-details-small-screen[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042;width:100px}}"]}),n})();class Wse{constructor(o,t,i,r,a,s,l){this.id=o,this.alertDateTime=t,this.jobType=i,this.jobStartDateTime=r,this.employee=a,this.isOpened=s,this.notes=l}}function Qse(n,o){if(1&n&&(e.TgZ(0,"ng-option",37),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function zse(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" Status ",t.message.required," ")}}function Kse(n,o){if(1&n&&(e.TgZ(0,"div",38),e.YNc(1,zse,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.metricsLoneWorkerForm.controls.isOpened.errors?null:t.metricsLoneWorkerForm.controls.isOpened.errors.required)}}function $se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"button",40),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.deleteMetricsLoneWorker())}),e._UZ(3,"i",41),e._uU(4," Delete "),e.qZA()()()}}function Xse(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitMetricsLoneWorker())}),e._UZ(2,"hr",11),e.TgZ(3,"div",12)(4,"div",13)(5,"label",14),e._uU(6," Alert DateTime: "),e.qZA()(),e.TgZ(7,"div",15),e._UZ(8,"input",16),e.ALo(9,"DateTimeTransformPipe"),e.qZA()(),e._UZ(10,"hr",11),e.TgZ(11,"div",12)(12,"div",13)(13,"label",17),e._uU(14," Job Type: "),e.qZA()(),e.TgZ(15,"div",15),e._UZ(16,"input",18),e.qZA()(),e._UZ(17,"hr",11),e.TgZ(18,"div",12)(19,"div",13)(20,"label",19),e._uU(21," JobStart DateTime: "),e.qZA()(),e.TgZ(22,"div",15),e._UZ(23,"input",20),e.ALo(24,"DateTimeTransformPipe"),e.qZA()(),e._UZ(25,"hr",11),e.TgZ(26,"div",12)(27,"div",13)(28,"label",21),e._uU(29," Employee: "),e.qZA()(),e.TgZ(30,"div",15),e._UZ(31,"input",22),e.qZA()(),e._UZ(32,"hr",11),e.TgZ(33,"div",12)(34,"div",13)(35,"label",23),e._uU(36," Status: "),e.qZA()(),e.TgZ(37,"div",15)(38,"ng-select",24),e.YNc(39,Qse,2,2,"ng-option",25),e.qZA()(),e.YNc(40,Kse,2,1,"div",26),e.qZA(),e._UZ(41,"hr",11),e.TgZ(42,"div",12)(43,"div",13)(44,"label",27),e._uU(45," Notes: "),e.qZA()(),e.TgZ(46,"div",28)(47,"textarea",29),e._uU(48,"                    "),e.qZA()()(),e._UZ(49,"hr",11),e.TgZ(50,"div",30)(51,"div",31),e.YNc(52,$se,5,0,"div",32),e.qZA(),e.TgZ(53,"div",31)(54,"div",1)(55,"div",33)(56,"button",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeDialog())}),e._uU(57," Cancel "),e.qZA()(),e.TgZ(58,"div",35)(59,"button",36),e._uU(60," Save Changes "),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.metricsLoneWorkerForm),e.xp6(8),e.Q6J("value",e.lcZ(9,8,t.metricsLoneWorkerForm.get("alertDateTime").value)),e.xp6(15),e.Q6J("value",e.lcZ(24,10,t.metricsLoneWorkerForm.get("jobStartDateTime").value)),e.xp6(16),e.Q6J("ngForOf",t.statusValues)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",(null==t.metricsLoneWorkerForm.controls.isOpened?null:t.metricsLoneWorkerForm.controls.isOpened.touched)&&t.metricsLoneWorkerForm.controls.isOpened.errors),e.xp6(12),e.Q6J("ngIf",t.isEdit),e.xp6(7),e.Q6J("disabled",t.disabledSaveButton)}}let ele=(()=>{class n{constructor(t,i,r,a,s,l){this.data=t,this.formBuilder=i,this.loneWorkerService=r,this._messageService=a,this.dialogService=s,this.dialogRef=l,this.metricsLoneWorkerTitle="Details",this.metricsLoneWorker=new Wse,this.isEdit=!1,this.disabledSaveButton=!1,this.statusValues=[{value:!0,name:"Open"},{value:!1,name:"Closed"}]}ngOnInit(){this.message=St.yw,this.buildForm(),this.initMetricsLoneWorkerForm()}closeDialog(){this.dialogRef.close()}buildForm(){this.metricsLoneWorkerForm=this.formBuilder.group({id:[0],alertDateTime:["",{updateOn:"change"}],jobType:["",{updateOn:"change"}],jobStartDateTime:["",{updateOn:"change"}],employee:["",{updateOn:"change"}],isOpened:[null,{updateOn:"change"}],notes:["",{updateOn:"change"}]})}initMetricsLoneWorkerForm(){let t=0;try{t=this.data.loneWorkerEdit.id}catch(i){}0!=t&&(this.isEdit=!0,this.metricsLoneWorker.id=this.data.loneWorkerEdit.id,this.metricsLoneWorker.alertDateTime=this.data.loneWorkerEdit.alertDateTime,this.metricsLoneWorker.jobType=this.data.loneWorkerEdit.jobType,this.metricsLoneWorker.jobStartDateTime=this.data.loneWorkerEdit.jobStartDateTime,this.metricsLoneWorker.employee=this.data.loneWorkerEdit.employee,this.metricsLoneWorker.isOpened=this.data.loneWorkerEdit.isOpened,this.metricsLoneWorker.notes=this.data.loneWorkerEdit.notes,this.metricsLoneWorkerForm.patchValue(this.metricsLoneWorker))}submitMetricsLoneWorker(){if(this.disabledSaveButton=!0,this.metricsLoneWorkerForm.valid){let t=this.metricsLoneWorkerForm.value;this.loneWorkerService.editMetricsLoneWorker(t,t.id).subscribe(i=>{this._messageService.open("Metrics Lone Worker updated."),this.dialogRef.close({message:"submited"})},i=>{this.disabledSaveButton=!1,this._messageService.open(i)})}else Object.keys(this.metricsLoneWorkerForm.controls).forEach(t=>{this.metricsLoneWorkerForm.get(t).markAsTouched({onlySelf:!0})}),this.disabledSaveButton=!1,this._messageService.open(this.message.fillForm)}deleteMetricsLoneWorker(){if(this.metricsLoneWorkerForm.valid){let t=this.data.loneWorkerEdit.id;this.dialogService.openConfirmDialog("Delete",(0,St.$j)(" Lone Worker")).afterClosed().subscribe(i=>{i&&this.loneWorkerService.deleteMetricsLoneWorker(t).subscribe(r=>{this.dialogRef.close({message:"deleted"}),this._messageService.open("Metrics Lone Worker is deleted.")},r=>{this._messageService.open(r)})})}}trackByFn(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(_.qu),e.Y36(Ma),e.Y36(se.G),e.Y36(Ri.x),e.Y36(z.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-metrics-dialog"]],decls:13,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"card_body","col-12"],[1,"dialog-header","d-flex","justify-content-between"],[1,"details-dialog-title"],[1,"col-2","justify-content-end","title-right","eSolveCloseButtom"],["src","assets/icons/x-icon-3pt.png",1,"float-right","dialog-close-x",3,"click"],[1,"table-divider","eSolveHr"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"eSolveHr"],[1,"form-group","row"],[1,"min-width-50px","col-sm-4","col-md-2","col-12"],["for","alertDateTime",1,"col-form-label","col-form-label-sm"],[1,"col-sm-8","col-md-10","col-12"],["id","alertDateTime","formControlName","alertDateTime","type","text","maxlength","50","readonly","",1,"form-control","form-control-sm","input-width",3,"value"],["for","jobType",1,"col-form-label","col-form-label-sm"],["id","jobType","formControlName","jobType","type","text","maxlength","50","readonly","",1,"form-control","form-control-sm","input-width"],["for","jobStartDateTime",1,"col-form-label","col-form-label-sm"],["id","jobStartDateTime","formControlName","jobStartDateTime","type","text","maxlength","50","readonly","",1,"form-control","form-control-sm","input-width",3,"value"],["for","employee",1,"col-form-label","col-form-label-sm"],["id","employee","formControlName","employee","type","text","maxlength","50","readonly","",1,"form-control","form-control-sm","input-width"],["for","isOpened",1,"col-form-label","col-form-label-sm"],["formControlName","isOpened","id","isOpened","required","",1,"form-input","input-width","loneWorkers"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","validationError col-md-8 col-12",4,"ngIf"],["for","notes",1,"col-form-label","col-form-label-sm"],[1,"col-sm-8","col-md-8","col-12"],["formControlName","notes","rows","5","id","notes","placeholder","Add a comment...",1,"form-control","comment-input"],[1,"form-group","row","align-center-md"],[1,"col-12","col-md-6"],["class","row",4,"ngIf"],[1,"col-12","align-center"],["type","button",1,"btn","cancel-button","form-buttons","float-right","g-margin-bottom-5",3,"click"],[1,"col-12"],["id","submitBtn","type","submit",1,"btn","save-button","form-buttons","float-right",3,"disabled"],[3,"value"],[1,"validationError","col-md-8","col-12"],[4,"ngIf"],["type","button",1,"btn","delete-button","form-buttons",3,"click"],[1,"fa","fa-trash-o"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"img",6),e.NdJ("click",function(){return i.closeDialog()}),e.qZA()()(),e._UZ(9,"hr",7),e.qZA()(),e.TgZ(10,"div",1)(11,"div",2),e.YNc(12,Xse,61,12,"form",8),e.qZA()()()),2&t&&(e.xp6(6),e.hij(" ",i.metricsLoneWorkerTitle," "),e.xp6(6),e.Q6J("ngIf",i.metricsLoneWorkerForm))},dependencies:[D.sg,D.O5,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.nD,_.sg,_.u,Sn,tr,rd],styles:[".table-divider[_ngcontent-%COMP%]{border:1px solid var(--eSolve-primary)}.details-dialog-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#2c344b;-ms-flex-line-pack:center;align-content:center}.eSolveCloseButtom[_ngcontent-%COMP%]{padding:0}.cancel-button[_ngcontent-%COMP%]{background-color:#3f5064;width:200px}.delete-button[_ngcontent-%COMP%]{margin-top:28px;background-color:#d6dce2;color:#3f4e63!important;width:200px}.form-buttons[_ngcontent-%COMP%]{height:25px;font-size:12px;line-height:10px;text-align:center;text-decoration:none;border:none;outline:none;color:#fff}.save-button[_ngcontent-%COMP%]{width:200px;background-color:var(--eSolve-primary)}.dialog-header[_ngcontent-%COMP%]{max-height:40px}.input-width[_ngcontent-%COMP%]{width:150px;font-size:12px;margin-left:55px}.min-width-50px[_ngcontent-%COMP%]{min-width:50px}.min-width-50px[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#565d6f;white-space:nowrap}.comment-input[_ngcontent-%COMP%]{font-size:12px;min-height:5vh!important;max-height:20vh!important;margin-left:55px}@media only screen and (max-width: 767px){.delete-button[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.save-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%], .rules-addnew-button[_ngcontent-%COMP%]{float:none!important}.align-center-md[_ngcontent-%COMP%]{text-align:center}.input-width[_ngcontent-%COMP%]{margin-left:0}.comment-input[_ngcontent-%COMP%]{font-size:12px;min-height:5vh!important;max-height:20vh!important;margin-left:0}}@media only screen and (max-width: 400px){.rules-addnew-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{width:100%}.buttonProperty[_ngcontent-%COMP%], .input-width[_ngcontent-%COMP%]{margin-left:0}.comment-input[_ngcontent-%COMP%]{font-size:12px;min-height:5vh!important;max-height:20vh!important;margin-left:0}}"]}),n})();const tle=["loneWorkerSelect"];function nle(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"span",38),e._uU(2),e.qZA(),e.TgZ(3,"span",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function ile(n,o){1&n&&e.YNc(0,nle,5,1,"div",36),2&n&&e.Q6J("ngForOf",o.items)}const rle=function(){return["/lone-worker-transaction-log"]};function ole(n,o){if(1&n&&(e.TgZ(0,"form",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"span",28),e._uU(5," Alerts "),e.qZA(),e.TgZ(6,"button",29),e._uU(7,"Transaction Log"),e.qZA()()(),e.TgZ(8,"div",30)(9,"div",31)(10,"ng-select",32,33),e.ALo(12,"async"),e._UZ(13,"i",34),e.YNc(14,ile,1,1,"ng-template",35),e.qZA()()()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.loneWorkerFilterForm),e.xp6(6),e.Q6J("routerLink",e.DdM(8,rle)),e.xp6(4),e.Q6J("items",e.lcZ(12,6,t.loneWorkers))("multiple",!0)("hideSelected",!0)("typeahead",t.loneWorkerSearchInput)}}function ale(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span"),e._uU(2,"Alert DateTime"),e.qZA()())}function sle(n,o){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.alertDateTime)," ")}}function lle(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span"),e._uU(2,"Job Type"),e.qZA()())}function cle(n,o){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.jobType," ")}}function dle(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span"),e._uU(2,"JobStart DateTime"),e.qZA()())}function ule(n,o){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.jobStartDateTime)," ")}}function ple(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span"),e._uU(2,"Employee"),e.qZA()())}function fle(n,o){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.employee," ")}}function hle(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span"),e._uU(2,"Status"),e.qZA()())}function mle(n,o){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.isOpened?"Open":"Closed"," ")}}function gle(n,o){1&n&&(e.TgZ(0,"th",42)(1,"span"),e._uU(2,"Actions"),e.qZA()())}function _le(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",43)(1,"div",21)(2,"div",44)(3,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDetailsDialog(a))}),e._uU(4," View Details "),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.MGl("id","viewDetails",t.alertDateTime,"")}}function vle(n,o){1&n&&e._UZ(0,"tr",46)}function ble(n,o){1&n&&e._UZ(0,"tr",47)}const yle=function(){return[5,10,25,50,100,250]};let xle=(()=>{class n{constructor(t,i,r,a,s,l,c,u,h,x){this.titleService=t,this.dialog=i,this._loneWorkerService=r,this._messageService=a,this._renderer=s,this._notificationsService=l,this.employeeService=c,this._router=u,this._zone=h,this._ref=x,this.pageTitle="Schedules > Lone Worker Alerts",this.displayedColumns=["alertDateTime","jobType","jobStartDateTime","employee","isOpened","actions"],this.dataSource=new N.by,this.resultsLength=0,this.isOnDetails=!1,this.loneWorkerSearchInput=new b.x,u.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&h.run(()=>this._ref.detectChanges())}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}set content(t){this.loneWorkerSelect=t}ngOnInit(){this.titleService.sendTitle(this.pageTitle),this.loneWorkerFilterForm=new _.cw({loneWorkers:new _.NI([])}),this.subscription=this.employeeService.isOnDetails.subscribe(t=>{setTimeout(()=>{this.isOnDetails=t},0)}),this.subscription.add(this.loneWorkerFilterForm.valueChanges.subscribe(t=>{this.employeeService.paginationData.next(t)})),this.loneWorkers=(0,Yr.z)((0,gn.of)([]),this.loneWorkerSearchInput.pipe((0,Gi.x)(),(0,j.w)(t=>this.employeeService.searchEmployeesAndSkillsForFilter(t,"LoneWorkerAlerts","Employee").pipe((0,Wi.K)(()=>(0,gn.of)([]))))))}ngAfterViewInit(){$(this.loneWorkerSelect.element.children[0].children[1]).remove(),$(this.loneWorkerSelect.element.children[0]).append(this._createIconElement("fa-search","padding-right","6px")),this.populateTableData(),this.samePageNavigationByNotificationSubscription=this._notificationsService.notificationOnCurrentPage.subscribe(t=>{this.populateTableData()})}populateTableData(){this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page,this.loneWorkerFilterForm.controls.loneWorkers.valueChanges).pipe((0,_e.O)({}),(0,j.w)(()=>this._loneWorkerService.getAllForLoneWorkers(this.loneWorkerFilterForm.controls.loneWorkers.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction,this.sort.active))).subscribe(t=>{this.resultsLength=t.totalCount,this.dataSource=t.items,0===t.items.length&&this.paginator.previousPage()},t=>{this._messageService.open(t)})}_createIconElement(t,i,r){let a=this._renderer.createElement("i");return this._renderer.addClass(a,"fa"),this._renderer.addClass(a,t),this._renderer.setStyle(a,i,r),this._renderer.setStyle(a,"color","gray"),a}openDetailsDialog(t){this.dialog.open(ele,{autoFocus:!1,disableClose:!0,width:"650px",data:{loneWorkerEdit:t},panelClass:["max-height96"]}).afterClosed().subscribe(r=>{this.populateTableData()})}ngOnDestroy(){this.subscription.unsubscribe(),this.samePageNavigationByNotificationSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(z.uw),e.Y36(Ma),e.Y36(se.G),e.Y36(e.Qsj),e.Y36(fe.T),e.Y36(Vr.n),e.Y36(q.F0),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-lone-worker"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(tle,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.content=r.first)}},decls:33,vars:8,consts:[[1,"container-fluid","lone-worker-table"],[1,"card","table-card"],[1,"card-header","table-card-header"],[3,"formGroup",4,"ngIf"],[1,"blue_hr"],[1,"row","table-row"],[1,"col-12"],[1,"g-thin-black-scroll-bar"],["mat-table","","matSort","",1,"lone-worker-table",3,"dataSource"],["matColumnDef","alertDateTime"],["mat-header-cell","","mat-sort-header","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen table-text-font",4,"matCellDef"],["matColumnDef","jobType"],["matColumnDef","jobStartDateTime"],["matColumnDef","employee"],["matColumnDef","isOpened"],["matColumnDef","actions"],["mat-header-cell","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"row"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[3,"formGroup"],[1,"row","header-container-row"],[1,"col-xl-3","col-lg-4","col-12"],[1,"d-flex","justify-content-between"],[1,"table-name"],["type","button",1,"lone-worker-transaction-log",3,"routerLink"],[1,"col-xl-6","col-lg-8","col-12"],[1,"margin-top-10"],["id","loneWorkerSearchInput","bindLabel","name","bindValue","id","placeholder","Find Lone Worker","formControlName","loneWorkers",1,"g-esolve-multi-select","esolve-font-size","lone-worker-table-search",3,"items","multiple","hideSelected","typeahead"],["loneWorkerSelect",""],["aria-hidden","true",1,"fa","fa-search"],["ng-multi-label-tmp",""],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["mat-header-cell","","mat-sort-header","",1,"visible-on-small-screen"],["mat-cell","",1,"visible-on-small-screen","table-text-font"],["mat-header-cell","",1,"visible-on-small-screen"],["mat-cell",""],[1,"col-md-6"],[1,"btn","details-button","view-details-small-screen",3,"id","click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,ole,15,9,"form",3),e.qZA(),e._UZ(4,"hr",4),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"table",8),e.ynx(9,9),e.YNc(10,ale,3,0,"th",10),e.YNc(11,sle,3,3,"td",11),e.BQk(),e.ynx(12,12),e.YNc(13,lle,3,0,"th",10),e.YNc(14,cle,2,1,"td",11),e.BQk(),e.ynx(15,13),e.YNc(16,dle,3,0,"th",10),e.YNc(17,ule,3,3,"td",11),e.BQk(),e.ynx(18,14),e.YNc(19,ple,3,0,"th",10),e.YNc(20,fle,2,1,"td",11),e.BQk(),e.ynx(21,15),e.YNc(22,hle,3,0,"th",10),e.YNc(23,mle,2,1,"td",11),e.BQk(),e.ynx(24,16),e.YNc(25,gle,3,0,"th",17),e.YNc(26,_le,5,1,"td",18),e.BQk(),e.YNc(27,vle,1,0,"tr",19),e.YNc(28,ble,1,0,"tr",20),e.qZA()()()(),e.TgZ(29,"div",21)(30,"div",6),e._UZ(31,"mat-paginator",22,23),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.loneWorkerFilterForm),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(3),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(7,yle)))},dependencies:[D.sg,D.O5,q.rH,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,di,D.Ov,rd],styles:[".container-fluid.lone-worker-table[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%;height:calc(100vh - 56px)}.mat-column-alertDateTime[_ngcontent-%COMP%], .mat-column-jobType[_ngcontent-%COMP%], .mat-column-jobStartDateTime[_ngcontent-%COMP%], .mat-column-employee[_ngcontent-%COMP%], .mat-column-isOpened[_ngcontent-%COMP%]{position:relative;width:11.11%}.mat-column-actions[_ngcontent-%COMP%]{position:relative;width:1%;-ms-flex-pack:end;justify-content:flex-end}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}.table-text-font[_ngcontent-%COMP%]{font-weight:700;color:#595959;font-size:12px}.details-button[_ngcontent-%COMP%]{height:27px;width:140px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);padding:0 0 1px}.lone-worker-transaction-log[_ngcontent-%COMP%]{height:30px;width:130px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;position:relative;-ms-flex-line-pack:center;align-content:center;border:1px solid #ced5db;border-radius:.25rem;cursor:pointer}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.lone-worker-table[_ngcontent-%COMP%]{width:100%;padding-bottom:15px}.table-card[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #e1e6ec!important}.table-card-header[_ngcontent-%COMP%]{background-color:#fff!important;padding-left:0!important;margin-top:3px}.table-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f}.card-header.table-card-header[_ngcontent-%COMP%]{border-bottom:none!important}.blue_hr[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:2px;border:1px solid var(--eSolve-primary)}.table-row[_ngcontent-%COMP%], .header-container-row[_ngcontent-%COMP%]{padding:0 15px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 230px);overflow-wrap:break-word}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}@media (max-width: 397px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 326px)!important;overflow-wrap:break-word}}@media (max-width: 430px){.table-card[_ngcontent-%COMP%]{padding:0 5px}}@media (max-width: 605px) and (min-width: 398px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 272px);overflow-wrap:break-word}}@media (max-width: 991px) and (min-width: 606px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 257px);overflow-wrap:break-word}}@media (max-width: 991px){.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}}@media (max-width: 1090px) and (min-width: 992px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 217px);overflow-wrap:break-word}}@media (max-width: 1090px){.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-alertDateTime[_ngcontent-%COMP%], .mat-column-jobType[_ngcontent-%COMP%], .mat-column-jobStartDateTime[_ngcontent-%COMP%], .mat-column-employee[_ngcontent-%COMP%], .mat-column-isOpened[_ngcontent-%COMP%]{position:relative;width:100%}.mat-column-actions[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:14px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important;border-bottom:none!important}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.card-header[_ngcontent-%COMP%]{padding-right:0}#loneWorkerSearchInput[_ngcontent-%COMP%]{margin-bottom:5px}.blue_hr[_ngcontent-%COMP%]{z-index:1;margin-bottom:2px;margin-top:-1px}.table-card[_ngcontent-%COMP%]{padding:0 20px}.view-details-small-screen[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042;width:100px}}"]}),n})();class ib{constructor(o,t){this.id=o,this.status=t}}var Cle=J(16717);const Tle=["statusSelect"];function wle(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"span",35),e._uU(2),e.qZA(),e.TgZ(3,"span",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.status," ")}}function Dle(n,o){1&n&&e.YNc(0,wle,5,1,"div",33),2&n&&e.Q6J("ngForOf",o.items)}function Sle(n,o){if(1&n&&(e.TgZ(0,"form",25)(1,"div",26)(2,"div",27)(3,"span",28),e._uU(4," Job Offers "),e.qZA()(),e.TgZ(5,"div",29)(6,"ng-select",30,31),e.YNc(8,Dle,1,1,"ng-template",32),e.qZA()()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.jobOffersFilterForm),e.xp6(6),e.Q6J("items",t.statusForFilter)("virtualScroll",!0)("multiple",!0)("hideSelected",!0)}}function kle(n,o){1&n&&(e.TgZ(0,"th",37)(1,"span",38),e._uU(2,"Schedule"),e.qZA()())}function Ale(n,o){if(1&n&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.scheduleName," ")}}function Mle(n,o){1&n&&(e.TgZ(0,"th",37)(1,"span",38),e._uU(2,"Subgroup"),e.qZA()())}function Ole(n,o){if(1&n&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.subGroupName," ")}}function Ple(n,o){1&n&&(e.TgZ(0,"th",37)(1,"span",38),e._uU(2,"Job Type"),e.qZA()())}function Ele(n,o){if(1&n&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.jobTypeName," ")}}function Ile(n,o){1&n&&(e.TgZ(0,"th",37)(1,"span",38),e._uU(2,"Start DateTime"),e.qZA()())}function Nle(n,o){if(1&n&&(e.TgZ(0,"td",39),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.jobStartDateTime)," ")}}function Rle(n,o){1&n&&(e.TgZ(0,"th",37)(1,"span",38),e._uU(2,"End DateTime"),e.qZA()())}function Fle(n,o){if(1&n&&(e.TgZ(0,"td",39),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.jobEndDateTime)," ")}}function Zle(n,o){1&n&&(e.TgZ(0,"th",37)(1,"span",38),e._uU(2,"Status"),e.qZA()())}function Lle(n,o){if(1&n&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.statusName," ")}}function Ule(n,o){1&n&&(e.TgZ(0,"th",40)(1,"span",38),e._uU(2,"Actions"),e.qZA()())}const Zk=function(n){return{isInActive:n}};function jle(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",41)(1,"div",42)(2,"button",43),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.acceptOrRejectJobOffer(a.jobOfferID,!0))}),e._uU(3," Accept "),e.qZA(),e.TgZ(4,"button",44),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.acceptOrRejectJobOffer(a.jobOfferID,!1))}),e._uU(5," Reject "),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(2),e.Q6J("disabled","Accepted"===t.statusName||!i.isLoaded)("ngClass",e.VKq(4,Zk,!t.isActive)),e.xp6(2),e.Q6J("disabled","Rejected"===t.statusName||!i.isLoaded)("ngClass",e.VKq(6,Zk,!t.isActive))}}function Yle(n,o){1&n&&e._UZ(0,"tr",45)}function qle(n,o){1&n&&e._UZ(0,"tr",46)}const Jle=function(){return[5,10,25,100]};let Hle=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this._titleService=t,this.dialog=i,this._notificationsService=r,this._messageService=a,this._jobOfferService=s,this._router=l,this._zone=c,this._ref=u,this.pageTitle="Job Offers",this.jobOffersFilterForm=new _.cw({status:new _.NI([]),text:new _.NI([])}),this.ngUnsubscribe=new b.x,this._updateTable=new e.vpe,this.statusForFilter=[new ib(2,"Accepted"),new ib(1,"Pending"),new ib(3,"Rejected")],this.preselected=new ib(1,"Pending"),this.displayedColumns=["schedule","subgroup","jobType","startDateTime","endDateTime","status","actions"],this.dataSource=new N.by,this.resultsLength=0,this.isLoaded=!0,l.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&c.run(()=>this._ref.detectChanges())}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}set content2(t){this._statusSelect=t}ngOnInit(){this.getJobOfferStatuses(),this._titleService.sendTitle(this.pageTitle)}ngAfterViewInit(){this.populateTableData(),this._notificationsService.notificationOnCurrentPage.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(()=>{this._updateTable.next(!0)})}getJobOfferStatuses(){this.jobOffersFilterForm.controls.status.patchValue([this.statusForFilter[1].id])}populateTableData(){(0,ie.T)(this.sort.sortChange,this.paginator.page,this.jobOffersFilterForm.valueChanges,this._updateTable).pipe((0,_e.O)({}),(0,H.R)(this.ngUnsubscribe),(0,j.w)(()=>{let t=this.displayedColumns.findIndex(i=>i==this.sort.active);return this._jobOfferService.getOffers(this.jobOffersFilterForm.controls.status.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction,-1==t?null:t)})).subscribe(t=>{this.resultsLength=0!=t.totalCountAfterFilter?t.totalCountAfterFilter:t.totalCount,this.dataSource=t.items},t=>{this._messageService.open("Error retrieving data.")})}acceptOrRejectJobOffer(t,i){this.isLoaded=!1,this._jobOfferService.acceptOrRejectJobOffer(t,i).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(r=>{i?this.dialog.open(Cle.h,{autoFocus:!1,disableClose:!0,data:JSON.parse(r),width:"390px",panelClass:"confirm-dialog"}).afterClosed().pipe((0,H.R)(this.ngUnsubscribe)).subscribe(()=>{this.isLoaded=!0,this._updateTable.next(!0)}):(this.isLoaded=!0,this._updateTable.next(!0))},r=>{this._messageService.open(r),this.isLoaded=!0},()=>{})}ngOnDestroy(){this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(z.uw),e.Y36(fe.T),e.Y36(se.G),e.Y36(Y1.i),e.Y36(q.F0),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-job-offers"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(Tle,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.content2=r.first)}},decls:36,vars:8,consts:[[1,"container-fluid","job-offer-main-container","job-offer-table"],[1,"card","job-offer-table-card"],[1,"card-header","job-offer-table-card-header"],[3,"formGroup",4,"ngIf"],[1,"job-offer-blue-hr"],[1,"row","job-offer-table-row"],[1,"col-12"],[1,"g-thin-black-scroll-bar"],["mat-table","","matSort","",1,"job-offer-mat-table",3,"dataSource"],["matColumnDef","schedule"],["mat-header-cell","","mat-sort-header","","class","job-offer-visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","job-offer-visible-on-small-screen",4,"matCellDef"],["matColumnDef","subgroup"],["matColumnDef","jobType"],["matColumnDef","startDateTime"],["matColumnDef","endDateTime"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-cell","","class","job-offer-visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","job-offer-visible-on-small-screen job-offer-buttons-div-width",4,"matCellDef"],["mat-header-row","","class","emp-table-row",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"row"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[3,"formGroup"],[1,"row","job-offer-header-container-row"],[1,"col-lg-3","col-md-5","col-12"],[1,"job-offer-table-name"],[1,"col-lg-3","offset-lg-3","offset-md-2","col-md-5","col-12"],["id","joboffer_status_search","bindLabel","status","bindValue","id","placeholder","Filter Status","formControlName","status","selected-model","preselected",1,"g-esolve-multi-select","g-font-size-12",3,"items","virtualScroll","multiple","hideSelected"],["statusSelect",""],["ng-multi-label-tmp",""],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["mat-header-cell","","mat-sort-header","",1,"job-offer-visible-on-small-screen"],[1,"job-offer-table-header-name"],["mat-cell","",1,"job-offer-visible-on-small-screen"],["mat-header-cell","",1,"job-offer-visible-on-small-screen"],["mat-cell","",1,"job-offer-visible-on-small-screen","job-offer-buttons-div-width"],[1,"d-flex","justify-content-between","job-offer-align-buttons-padding"],["id","joboffer_modify_btn","type","button",1,"job-offer-table-button","btn","p-2",3,"disabled","ngClass","click"],["id","joboffer_reject_btn","type","button",1,"job-offer-table-button","btn","p-2",3,"disabled","ngClass","click"],["mat-header-row","",1,"emp-table-row"],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,Sle,9,5,"form",3),e.qZA(),e._UZ(4,"hr",4),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"table",8),e.ynx(9,9),e.YNc(10,kle,3,0,"th",10),e.YNc(11,Ale,2,1,"td",11),e.BQk(),e.ynx(12,12),e.YNc(13,Mle,3,0,"th",10),e.YNc(14,Ole,2,1,"td",11),e.BQk(),e.ynx(15,13),e.YNc(16,Ple,3,0,"th",10),e.YNc(17,Ele,2,1,"td",11),e.BQk(),e.ynx(18,14),e.YNc(19,Ile,3,0,"th",10),e.YNc(20,Nle,3,3,"td",11),e.BQk(),e.ynx(21,15),e.YNc(22,Rle,3,0,"th",10),e.YNc(23,Fle,3,3,"td",11),e.BQk(),e.ynx(24,16),e.YNc(25,Zle,3,0,"th",10),e.YNc(26,Lle,2,1,"td",11),e.BQk(),e.ynx(27,17),e.YNc(28,Ule,3,0,"th",18),e.YNc(29,jle,6,8,"td",19),e.BQk(),e.YNc(30,Yle,1,0,"tr",20),e.YNc(31,qle,1,0,"tr",21),e.qZA()()()(),e.TgZ(32,"div",22)(33,"div",6),e._UZ(34,"mat-paginator",23,24),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.jobOffersFilterForm),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(3),e.Q6J("length",i.resultsLength)("pageSize",5)("pageSizeOptions",e.DdM(7,Jle)))},dependencies:[D.mk,D.sg,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,$n,di,rd],styles:[".container-fluid.job-offer-main-container[_ngcontent-%COMP%]{padding:17px;width:100%;background-color:#eff3f7}.job-offer-header-container-row[_ngcontent-%COMP%]{padding:0 15px}.job-offer-table-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f}.job-offer-blue-hr[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:2px}.job-offer-table-row[_ngcontent-%COMP%]{padding:0 15px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 211px);overflow-wrap:break-word}.job-offer-mat-table[_ngcontent-%COMP%]{width:100%}.job-offer-table-header-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#0000008a}.job-offer-table[_ngcontent-%COMP%]{padding-bottom:15px}.job-offer-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px}.job-offer-buttons-div-width[_ngcontent-%COMP%]{width:255px}.job-offer-align-buttons-padding[_ngcontent-%COMP%]{padding-right:0;padding-left:3px}.job-offer-table-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#404f64;border-radius:4px;font-size:12px;font-weight:550;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042;width:110px;height:30px;line-height:normal;line-height:initial}.job-offer-table-card[_ngcontent-%COMP%]{padding:0 10px;border:1px solid #e1e6ec!important}.job-offer-table-card-header[_ngcontent-%COMP%]{background-color:#fff!important;padding-left:0!important;margin-top:3px}.card-header.job-offer-table-card-header[_ngcontent-%COMP%]{border-bottom:none!important}.isInActive[_ngcontent-%COMP%]{pointer-events:none}@media (max-width: 992px){.job-offer-visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-schedule[_ngcontent-%COMP%], .mat-column-subgroup[_ngcontent-%COMP%], .mat-column-jobType[_ngcontent-%COMP%], .mat-column-startDateTime[_ngcontent-%COMP%], .mat-column-endDateTime[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%], .mat-column-actions[_ngcontent-%COMP%]{width:100%}#joboffer_modify_btn[_ngcontent-%COMP%]{margin-left:0}tr.mat-header-row[_ngcontent-%COMP%]{height:0}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:12px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important;border-bottom:none!important}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{border-bottom:1px solid silver!important}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.hidden-on-small-screen[_ngcontent-%COMP%]{display:none!important}#joboffer_status_search[_ngcontent-%COMP%]{margin-bottom:5px}.job-offer-blue-hr[_ngcontent-%COMP%]{z-index:2;margin-bottom:0;margin-top:-1px}.job-offer-table-button[_ngcontent-%COMP%]{margin-right:5px}.job-offer-card-header[_ngcontent-%COMP%]{padding-right:0}.job-offer-table-card[_ngcontent-%COMP%]{padding:0 20px}}@media (max-width: 992px) and (min-width: 767px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 205px);overflow-wrap:break-word}}@media (max-width: 768px) and (min-width: 604px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 234px);overflow-wrap:break-word}}@media (max-width: 605px) and (min-width: 368px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 248px);overflow-wrap:break-word}}@media (max-width: 567px){.job-offer-table-card[_ngcontent-%COMP%]{padding:0 5px}}@media (max-width: 367px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 302px);overflow-wrap:break-word}}"]}),n})();function Ble(n,o){1&n&&(e.TgZ(0,"th",24)(1,"span",25),e._uU(2,"Schedule"),e.qZA()())}function Vle(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.schedule),e.xp6(1),e.hij(" ",t.schedule," ")}}function Gle(n,o){1&n&&(e.TgZ(0,"th",24)(1,"span",25),e._uU(2,"Subgroup"),e.qZA()())}function Wle(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.subgroup),e.xp6(1),e.hij(" ",t.subgroup," ")}}function Qle(n,o){1&n&&(e.TgZ(0,"th",27)(1,"span",25),e._uU(2,"Job Type"),e.qZA()())}function zle(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.jobType),e.xp6(1),e.hij(" ",t.jobType," ")}}function Kle(n,o){1&n&&(e.TgZ(0,"th",27)(1,"span",25),e._uU(2,"Start Date Time"),e.qZA()())}function $le(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.jobStartDateTime),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.jobStartDateTime)," ")}}function Xle(n,o){1&n&&(e.TgZ(0,"th",27)(1,"span",25),e._uU(2,"End Date Time"),e.qZA()())}function ece(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.s9C("id",t.jobEndDateTime),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.jobEndDateTime)," ")}}function tce(n,o){1&n&&(e.TgZ(0,"th",24)(1,"span",25),e._uU(2,"Actions"),e.qZA()())}function nce(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",29)(1,"div",30)(2,"button",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.acceptTrade(a))}),e._uU(3," Accept Trade "),e.qZA(),e.TgZ(4,"button",32),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.declineTrade(a))}),e._uU(5," Decline Trade "),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("disabled",t.isEmployee&&!t.canEmployeeGenerateRequest)}}function ice(n,o){1&n&&(e.ynx(0),e.YNc(1,tce,3,0,"th",10),e.YNc(2,nce,6,1,"td",28),e.BQk())}function rce(n,o){1&n&&(e.TgZ(0,"th",24)(1,"span",25),e._uU(2,"Actions"),e.qZA()())}function oce(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",29)(1,"div",33)(2,"button",34),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.cancelTrade(a))}),e._uU(3," Cancel Trade "),e.qZA()()()}}function ace(n,o){1&n&&(e.YNc(0,rce,3,0,"th",10),e.YNc(1,oce,4,0,"td",28))}function sce(n,o){1&n&&e._UZ(0,"tr",35)}function lce(n,o){1&n&&e._UZ(0,"tr",36)}const cce=function(){return[5,10,25,100]};let dce=(()=>{class n{constructor(t,i,r,a,s,l){this._jobTradeService=t,this._messageService=i,this._dialogService=r,this._router=a,this._zone=s,this._ref=l,this.ngUnsubscribe=new b.x,this._updateTable=new e.vpe,this.jobsForUptakeTitle="Jobs Available",this.jobsForTradeTitle="My Jobs For Trade",this.dataSource=new N.by,this.totalCount=0,this.displayedColumns=["schedule","subgroup","jobType","jobStartDateTime","jobEndDateTime","actions"],a.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&s.run(()=>this._ref.detectChanges())}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnInit(){}ngAfterViewInit(){this.populateTable(),this._jobTradeService.onSamePageNotificationAction.pipe((0,H.R)(this.ngUnsubscribe)).subscribe(()=>{this._updateTable.next(!0)})}populateTable(){(0,ie.T)(this.sort.sortChange,this.paginator.page,this._updateTable).pipe((0,_e.O)({}),(0,H.R)(this.ngUnsubscribe),(0,j.w)(()=>this._jobTradeService.getTradedJobs(this.jobsForUptake,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction))).subscribe(t=>{this.totalCount=t.totalCount,this.dataSource=t.items},t=>{this._messageService.open("Error retrieving data.")})}acceptTrade(t){this._jobTradeService.getAcceptTradeWarning().pipe((0,H.R)(this.ngUnsubscribe)).subscribe(i=>{this._dialogService.openConfirmDialog("TradeAccept",i).afterClosed().subscribe(r=>{r&&this._jobTradeService.acceptTradeOffer(t.employeeOwnTradeOfferID).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(a=>{this._messageService.open(a),this._updateTable.next(!0)},a=>{let s=this._messageService.handleHttpError(a);404===a.status?this._messageService.open("Trade is no longer available."):400===a.status&&"The credentials you have entered for system email are invalid."==s?(this._updateTable.next(!0),this._messageService.open(s)):this._messageService.open("Error accepting trade.")})})})}declineTrade(t){this._jobTradeService.declineTradeOffer(t.tradeOfferID).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(i=>{this._messageService.open(i),this._updateTable.next(!0)},i=>{this._messageService.open(404===i.status?"Trade is no longer available.":"Error declining trade.")})}cancelTrade(t){this._jobTradeService.cancelTradeOffer(t.tradeOfferID).pipe((0,H.R)(this.ngUnsubscribe)).subscribe(()=>{this._messageService.open("Trade Canceled."),this._updateTable.next(!0)},i=>{this._messageService.open("Error cancelling trade.")})}ngOnDestroy(){this.ngUnsubscribe.next(!0),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V1.v),e.Y36(se.G),e.Y36(Ri.x),e.Y36(q.F0),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-trade-table"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},inputs:{jobsForUptake:"jobsForUptake"},decls:33,vars:11,consts:[[1,"card"],[1,"card-body"],[1,"row","headerRow"],[1,"col-md-6","col-12"],[1,"page-title","page-title-color"],[1,"blue_hr"],[1,"row","table-container","g-thin-black-scroll-bar"],[1,"col-12"],["mat-table","","matSort","",1,"absence-table",3,"dataSource"],["matColumnDef","schedule"],["mat-header-cell","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen",3,"id",4,"matCellDef"],["matColumnDef","subgroup"],["matColumnDef","jobType"],["mat-header-cell","","mat-sort-header","","class","visible-on-small-screen",4,"matHeaderCellDef"],["matColumnDef","jobStartDateTime"],["matColumnDef","jobEndDateTime"],["matColumnDef","actions"],[4,"ngIf","ngIfElse"],["myJobsForTrade",""],["mat-header-row","","class","trade-offer-table-row",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["paginatorStyle","","showFirstLastButtons","","color","accent",1,"sm-paginator",3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell","",1,"visible-on-small-screen"],[1,"table-header-name"],["mat-cell","",1,"visible-on-small-screen",3,"id"],["mat-header-cell","","mat-sort-header","",1,"visible-on-small-screen"],["mat-cell","","class","visible-on-small-screen",4,"matCellDef"],["mat-cell","",1,"visible-on-small-screen"],[1,"d-flex","justify-content-between","align-buttons-padding","buttons-display"],["id","modify_offer_button","type","button",1,"offer-table-button","btn","p-2","modal-btn","accept-button",3,"click"],["id","delete_button","type","button",1,"offer-table-button","btn","p-2","modal-btn",3,"disabled","click"],[1,"d-flex","justify-content-between","align-buttons-padding","buttons-display","cancel-div"],["id","modify_offer_button","type","button",1,"offer-table-button","btn","p-2","modal-btn","cancel-trade-button",3,"click"],["mat-header-row","",1,"trade-offer-table-row"],["mat-row",""]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.qZA()()(),e._UZ(6,"hr",5),e.TgZ(7,"div",6)(8,"div",7)(9,"table",8),e.ynx(10,9),e.YNc(11,Ble,3,0,"th",10),e.YNc(12,Vle,2,2,"td",11),e.BQk(),e.ynx(13,12),e.YNc(14,Gle,3,0,"th",10),e.YNc(15,Wle,2,2,"td",11),e.BQk(),e.ynx(16,13),e.YNc(17,Qle,3,0,"th",14),e.YNc(18,zle,2,2,"td",11),e.BQk(),e.ynx(19,15),e.YNc(20,Kle,3,0,"th",14),e.YNc(21,$le,3,4,"td",11),e.BQk(),e.ynx(22,16),e.YNc(23,Xle,3,0,"th",14),e.YNc(24,ece,3,4,"td",11),e.BQk(),e.ynx(25,17),e.YNc(26,ice,3,0,"ng-container",18),e.YNc(27,ace,2,0,"ng-template",null,19,e.W1O),e.BQk(),e.YNc(29,sce,1,0,"tr",20),e.YNc(30,lce,1,0,"tr",21),e.qZA()()(),e._UZ(31,"mat-paginator",22,23),e.qZA()()),2&t){const r=e.MAs(28);e.xp6(5),e.hij(" ",i.jobsForUptake?i.jobsForUptakeTitle:i.jobsForTradeTitle," "),e.xp6(4),e.Q6J("dataSource",i.dataSource),e.xp6(17),e.Q6J("ngIf",i.jobsForUptake)("ngIfElse",r),e.xp6(3),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("length",i.totalCount)("pageSize",5)("pageSizeOptions",e.DdM(10,cce))}},dependencies:[D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,di,rd],styles:[".agency-table-card[_ngcontent-%COMP%]{margin-top:10px;height:50%}table[_ngcontent-%COMP%]{width:100%;margin-top:-15px}.table-container[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center;height:calc(50vh - 183px);overflow:auto}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]:first-child{margin-top:0}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:16.6%;font-size:12px}th.mat-header-cell[_ngcontent-%COMP%]{top:-15px!important}mat-paginator[_ngcontent-%COMP%]{margin-bottom:-15px}.align-buttons-padding[_ngcontent-%COMP%]{padding-right:4px;padding-left:0}.offer-table-button[_ngcontent-%COMP%]{background-color:#d6dce2;color:#404f64;border-radius:4px;font-size:12px;font-weight:550;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042}.modal-btn[_ngcontent-%COMP%]{height:27px;float:left;margin-left:15px;width:84%;margin-top:5px;margin-bottom:5px}.accept-button[_ngcontent-%COMP%]{margin-right:0}.cancel-trade-button[_ngcontent-%COMP%]{width:50%;min-width:90px}.cancel-div[_ngcontent-%COMP%]{min-width:206px}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:17px;margin-left:0}.page-title-color[_ngcontent-%COMP%]{color:gray}.headerRow[_ngcontent-%COMP%]{margin-bottom:-15px;padding-left:1.25rem;padding-right:2.5%}.blue_hr[_ngcontent-%COMP%]{margin-left:0}.g-thin-black-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}@media (max-width: 760px){.modal-btn[_ngcontent-%COMP%]{margin-left:0}.accept-button[_ngcontent-%COMP%]{margin-right:15px}.card-body[_ngcontent-%COMP%]{padding:15px}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:12px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]:first-child{margin-top:6px}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{border-bottom:0}.mat-paginator-page-size-select[_ngcontent-%COMP%]{margin:6px 4px 0;width:56px!important}}@media (max-width: 760px) and (min-width: 606px){.table-container[_ngcontent-%COMP%]{height:auto;min-height:calc(50vh - 175px)}}@media (max-width: 605px) and (min-width: 387px){.table-container[_ngcontent-%COMP%]{height:auto;min-height:calc(50vh - 189px)}}@media (max-width: 386px){.table-container[_ngcontent-%COMP%]{height:auto;min-height:calc(50vh - 244px)}}"]}),n})(),uce=(()=>{class n{constructor(t,i,r){this._titleService=t,this._jobTradeService=i,this._notificationsService=r,this.pageTitle="Trade Board"}ngOnInit(){this._titleService.sendTitle(this.pageTitle)}ngAfterViewInit(){this.samePageNavigationByNotificationSubscription=this._notificationsService.notificationOnCurrentPage.subscribe(()=>{this._jobTradeService.onSamePageNotificationAction.next(!0)})}ngOnDestroy(){this.samePageNavigationByNotificationSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(V1.v),e.Y36(fe.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-trade-board"]],decls:4,vars:2,consts:[[1,"container-fluid","trade-board"],[3,"jobsForUptake"],[1,"table-separator"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-trade-table",1)(2,"div",2)(3,"app-trade-table",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("jobsForUptake",!0),e.xp6(2),e.Q6J("jobsForUptake",!1))},dependencies:[dce],styles:[".container-fluid.trade-board[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%;height:calc(100vh - 56px)}.table-separator[_ngcontent-%COMP%]{height:10px}@media only screen and (max-width: 760px),(min-device-width: 320px) and (max-device-width: 640px){.container-fluid.trade-board[_ngcontent-%COMP%]{height:auto}}@media (max-width: 320px){.container-fluid.trade-board[_ngcontent-%COMP%]{padding:10px}}"]}),n})(),pce=(()=>{class n{constructor(t){this.http=t,this.confirmation=new b.x,this.paginationData=new b.x,this.columnMapTemplates=(new Map).set("schedule",0).set("date",1).set("job",2).set("employee",3).set("notification",4).set("response",5).set("responseTime",6).set("managerNotification",7).set("managerName",8)}sendTemplateSignal(t){this.confirmation.next(t)}receiveTemplateSignal(){return this.confirmation.asObservable()}getAllForConfirmations(t,i,r,a,s){return new A.y(l=>{this.http.get(S.j.URLattendanceConfirmation,{params:{Column:s?this.columnMapTemplates.get(s):0,EmployeeIDs:t||[],Page:i||"1",Limit:r||"5",SortOrder:a||"asc"}}).subscribe(c=>(l.next(c),l.complete()),c=>l.error(c))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fce=["confirmationSelect"];function hce(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"span",37),e._uU(2),e.qZA(),e.TgZ(3,"span",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function mce(n,o){1&n&&e.YNc(0,hce,5,1,"div",35),2&n&&e.Q6J("ngForOf",o.items)}function gce(n,o){if(1&n&&(e.TgZ(0,"form",25)(1,"div",26)(2,"div",27)(3,"span",28),e._uU(4," Attendance Confirmation "),e.qZA()(),e.TgZ(5,"div",29)(6,"div",30)(7,"ng-select",31,32),e.ALo(9,"async"),e._UZ(10,"i",33),e.YNc(11,mce,1,1,"ng-template",34),e.qZA()()()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.confirmationFilterForm),e.xp6(7),e.Q6J("items",e.lcZ(9,5,t.confirmations))("multiple",!0)("hideSelected",!0)("typeahead",t.confirmationSearchInput)}}function _ce(n,o){1&n&&(e.TgZ(0,"th",39)(1,"span"),e._uU(2,"Schedule"),e.qZA()())}function vce(n,o){if(1&n&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.schedule," ")}}function bce(n,o){1&n&&(e.TgZ(0,"th",39)(1,"span"),e._uU(2,"Date"),e.qZA()())}function yce(n,o){if(1&n&&(e.TgZ(0,"td",40),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.date)," ")}}function xce(n,o){1&n&&(e.TgZ(0,"th",39)(1,"span",41),e._uU(2,"Job"),e.qZA()())}function Cce(n,o){if(1&n&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.job," ")}}function Tce(n,o){1&n&&(e.TgZ(0,"th",39)(1,"span",41),e._uU(2,"Employee"),e.qZA()())}function wce(n,o){if(1&n&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.employee," ")}}function Dce(n,o){1&n&&(e.TgZ(0,"th",39)(1,"span",41),e._uU(2,"Notification"),e.qZA()())}function Sce(n,o){if(1&n&&(e.TgZ(0,"td",40),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.notification)," ")}}function kce(n,o){1&n&&(e.TgZ(0,"th",39)(1,"span",41),e._uU(2,"Response"),e.qZA()())}function Ace(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"YES"),e.qZA())}function Mce(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"NO"),e.qZA())}function Oce(n,o){if(1&n&&(e.TgZ(0,"td",40),e.YNc(1,Ace,2,0,"span",42),e.YNc(2,Mce,2,0,"span",42),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.response),e.xp6(1),e.Q6J("ngIf",0==t.response)}}function Pce(n,o){1&n&&(e.TgZ(0,"th",39)(1,"span",41),e._uU(2,"Response Time"),e.qZA()())}function Ece(n,o){if(1&n&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.responseTime," ")}}function Ice(n,o){1&n&&(e.TgZ(0,"th",39)(1,"span",41),e._uU(2,"Manager Notification"),e.qZA()())}function Nce(n,o){if(1&n&&(e.TgZ(0,"td",40),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.managerNotification)," ")}}function Rce(n,o){1&n&&(e.TgZ(0,"th",39)(1,"span",41),e._uU(2,"Manager Name"),e.qZA()())}function Fce(n,o){if(1&n&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.managerName," ")}}function Zce(n,o){1&n&&e._UZ(0,"tr",43)}function Lce(n,o){1&n&&e._UZ(0,"tr",44)}const Uce=function(){return[5,10,25,50,100,250]};let jce=(()=>{class n{constructor(t,i,r,a,s,l,c){this._titleService=t,this._messageService=i,this._attendanceConfirmationService=r,this._employeeService=a,this._router=s,this._zone=l,this._ref=c,this.pageTitle="Schedules > Attendance Confirmation",this.displayedColumns=["schedule","date","job","employee","notification","response","responseTime","managerNotification","managerName"],this.dataSource=new N.by,this.resultsLength=0,this.confirmationSearchInput=new b.x,this._updateTable=new e.vpe,s.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&l.run(()=>this._ref.detectChanges())})}set content(t){this.confirmationSelect=t}ngOnInit(){this._titleService.sendTitle(this.pageTitle),this.confirmationFilterForm=new _.cw({confirmations:new _.NI([])}),this.subscription=this.confirmationFilterForm.valueChanges.subscribe(t=>{this._attendanceConfirmationService.paginationData.next(t),this.paginator.firstPage()}),this.confirmations=(0,Yr.z)((0,gn.of)([]),this.confirmationSearchInput.pipe((0,Gi.x)(),(0,j.w)(t=>this._employeeService.searchEmployeesAndSkillsForFilter(t,"AttendanceConfirmations","Employee").pipe((0,Wi.K)(()=>(0,gn.of)([]))))))}ngAfterViewInit(){this.populateTableData()}populateTableData(){this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page,this.confirmationFilterForm.controls.confirmations.valueChanges,this._updateTable).pipe((0,_e.O)({}),(0,j.w)(()=>this._attendanceConfirmationService.getAllForConfirmations(this.confirmationFilterForm.controls.confirmations.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction,this.sort.active))).subscribe(t=>{this.resultsLength=t.totalCount?t.totalCount:t.totalCountAfterFilter,this.dataSource=t.items,0==t.items.length&&(this.paginator.hasPreviousPage()?(this.paginator.previousPage(),this._updateTable.next(!0)):this.paginator.firstPage())},t=>{this._messageService.open("Error retrieving data.")})}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(se.G),e.Y36(pce),e.Y36(Vr.n),e.Y36(q.F0),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-attendance-confirmation"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(fce,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.content=r.first)}},decls:42,vars:8,consts:[[1,"container-fluid","attendance-confirmation-table"],[1,"card","table-card"],[1,"card-header","table-card-header"],[3,"formGroup",4,"ngIf"],[1,"blue_hr"],[1,"row","table-row"],[1,"col-12"],[1,"g-thin-black-scroll-bar"],["mat-table","","matSort","",1,"attendance-confirmation-table",3,"dataSource"],["matColumnDef","schedule"],["mat-header-cell","","mat-sort-header","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen table-text-font",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","job"],["matColumnDef","employee"],["matColumnDef","notification"],["matColumnDef","response"],["matColumnDef","responseTime"],["matColumnDef","managerNotification"],["matColumnDef","managerName"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"row"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[3,"formGroup"],[1,"row","header-container-row"],[1,"col-xl-3","col-lg-4","col-md-6","col-12"],[1,"table-name"],[1,"col-xl-6","col-lg-5","col-md-6","col-12"],[1,"margin-top-10"],["id","confirmationSearchInput","bindLabel","name","bindValue","id","placeholder","Find Confirmation","formControlName","confirmations",1,"g-esolve-multi-select","esolve-font-size","g-templates-table-search",3,"items","multiple","hideSelected","typeahead"],["confirmationSelect",""],["aria-hidden","true",1,"fa","fa-search"],["ng-multi-label-tmp",""],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["mat-header-cell","","mat-sort-header","",1,"visible-on-small-screen"],["mat-cell","",1,"visible-on-small-screen","table-text-font"],[1,"white-space"],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,gce,12,7,"form",3),e.qZA(),e._UZ(4,"hr",4),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"table",8),e.ynx(9,9),e.YNc(10,_ce,3,0,"th",10),e.YNc(11,vce,2,1,"td",11),e.BQk(),e.ynx(12,12),e.YNc(13,bce,3,0,"th",10),e.YNc(14,yce,3,3,"td",11),e.BQk(),e.ynx(15,13),e.YNc(16,xce,3,0,"th",10),e.YNc(17,Cce,2,1,"td",11),e.BQk(),e.ynx(18,14),e.YNc(19,Tce,3,0,"th",10),e.YNc(20,wce,2,1,"td",11),e.BQk(),e.ynx(21,15),e.YNc(22,Dce,3,0,"th",10),e.YNc(23,Sce,3,3,"td",11),e.BQk(),e.ynx(24,16),e.YNc(25,kce,3,0,"th",10),e.YNc(26,Oce,3,2,"td",11),e.BQk(),e.ynx(27,17),e.YNc(28,Pce,3,0,"th",10),e.YNc(29,Ece,2,1,"td",11),e.BQk(),e.ynx(30,18),e.YNc(31,Ice,3,0,"th",10),e.YNc(32,Nce,3,3,"td",11),e.BQk(),e.ynx(33,19),e.YNc(34,Rce,3,0,"th",10),e.YNc(35,Fce,2,1,"td",11),e.BQk(),e.YNc(36,Zce,1,0,"tr",20),e.YNc(37,Lce,1,0,"tr",21),e.qZA()()()(),e.TgZ(38,"div",22)(39,"div",6),e._UZ(40,"mat-paginator",23,24),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.confirmationFilterForm),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(3),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(7,Uce)))},dependencies:[D.sg,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,di,D.Ov,rd],styles:[".container-fluid.attendance-confirmation-table[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%;height:calc(100vh - 56px)}.attendance-confirmation-table[_ngcontent-%COMP%]{width:100%;padding-bottom:15px}.table-card[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #e1e6ec!important}.table-card-header[_ngcontent-%COMP%]{background-color:#fff!important;padding-left:0!important;margin-top:3px}.card-header.table-card-header[_ngcontent-%COMP%]{border-bottom:none!important}.header-container-row[_ngcontent-%COMP%]{padding:0 15px}.table-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f}.blue_hr[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:2px;border:1px solid var(--eSolve-primary)}.table-row[_ngcontent-%COMP%]{padding:0 15px}.table-text-font[_ngcontent-%COMP%]{font-weight:700;color:#595959;font-size:12px}.white-space[_ngcontent-%COMP%]{white-space:nowrap}.mat-column-schedule[_ngcontent-%COMP%], .mat-column-date[_ngcontent-%COMP%], .mat-column-job[_ngcontent-%COMP%], .mat-column-employee[_ngcontent-%COMP%], .mat-column-notification[_ngcontent-%COMP%], .mat-column-response[_ngcontent-%COMP%], .mat-column-responseTime[_ngcontent-%COMP%], .mat-column-managerNotification[_ngcontent-%COMP%], .mat-column-managerName[_ngcontent-%COMP%]{position:relative;width:11.11%}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 215px);overflow-wrap:break-word}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#94d500}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}@media (max-width: 396px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 310px)!important;overflow-wrap:break-word}}@media (max-width: 430px){.table-card[_ngcontent-%COMP%]{padding:0 5px}}@media (max-width: 567px) and (min-width: 397px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 250px)!important;overflow-wrap:break-word}}@media (max-width: 605px) and (min-width: 568px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 255px)!important;overflow-wrap:break-word}}@media (max-width: 767px) and (min-width: 606px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 241px)!important;overflow-wrap:break-word}}@media (max-width: 767px){.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}}@media (max-width: 1490px){.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-schedule[_ngcontent-%COMP%], .mat-column-date[_ngcontent-%COMP%], .mat-column-job[_ngcontent-%COMP%], .mat-column-employee[_ngcontent-%COMP%], .mat-column-notification[_ngcontent-%COMP%], .mat-column-response[_ngcontent-%COMP%], .mat-column-responseTime[_ngcontent-%COMP%], .mat-column-managerNotification[_ngcontent-%COMP%], .mat-column-managerName[_ngcontent-%COMP%]{position:relative;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:14px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important;border-bottom:none!important}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.card-header[_ngcontent-%COMP%]{padding-right:0}#confirmationSearchInput[_ngcontent-%COMP%]{margin-bottom:5px}.blue_hr[_ngcontent-%COMP%]{z-index:1;margin-bottom:2px;margin-top:-1px}.table-card[_ngcontent-%COMP%]{padding:0 20px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 207px);overflow-wrap:break-word}}"]}),n})();const Yce=["loneWorkerSelect"];function qce(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"span",41),e._uU(2),e.qZA(),e.TgZ(3,"span",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Jce(n,o){1&n&&e.YNc(0,qce,5,1,"div",39),2&n&&e.Q6J("ngForOf",o.items)}const Hce=function(){return["/lone-worker-alerts"]};function Bce(n,o){if(1&n&&(e.TgZ(0,"form",27)(1,"div",28)(2,"div",29)(3,"div",30)(4,"span",31),e._uU(5," Transaction Log "),e.qZA(),e.TgZ(6,"button",32),e._uU(7,"Back to alerts"),e.qZA()()(),e.TgZ(8,"div",33)(9,"div",34)(10,"ng-select",35,36),e.ALo(12,"async"),e._UZ(13,"i",37),e.YNc(14,Jce,1,1,"ng-template",38),e.qZA()()()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.loneWorkerFilterForm),e.xp6(6),e.Q6J("routerLink",e.DdM(8,Hce)),e.xp6(4),e.Q6J("items",e.lcZ(12,6,t.loneWorkers))("multiple",!0)("hideSelected",!0)("typeahead",t.loneWorkerSearchInput)}}function Vce(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Schedule"),e.qZA()())}function Gce(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.schedule," ")}}function Wce(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Date"),e.qZA()())}function Qce(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.date)," ")}}function zce(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Job"),e.qZA()())}function Kce(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.job," ")}}function $ce(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Employee"),e.qZA()())}function Xce(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.employee," ")}}function ede(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"1st Notification"),e.qZA()())}function tde(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.firstNotificationDateTime)," ")}}function nde(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"2nd Notification"),e.qZA()())}function ide(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.secondNotificationDateTime)," ")}}function rde(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Employee Response"),e.qZA()())}function ode(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.employeeResponse)," ")}}function ade(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Manager Notification"),e.qZA()())}function sde(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.managerNotification)," ")}}function lde(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Manager Name"),e.qZA()())}function cde(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.managerName," ")}}function dde(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Admin Notification"),e.qZA()())}function ude(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.adminNotification)," ")}}function pde(n,o){1&n&&(e.TgZ(0,"th",43)(1,"span"),e._uU(2,"Admin Name"),e.qZA()())}function fde(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.adminName," ")}}function hde(n,o){1&n&&e._UZ(0,"tr",45)}function mde(n,o){1&n&&e._UZ(0,"tr",46)}const gde=function(){return[5,10,25,100]};let _de=(()=>{class n{constructor(t,i,r,a,s){this.titleService=t,this._loneWorkerService=i,this._messageService=r,this._notificationsService=a,this.employeeService=s,this.pageTitle="Schedules > Lone Worker Alerts > Transaction log",this.displayedColumns=["schedule","date","job","employee","firstNotificationDateTime","secondNotificationDateTime","employeeResponse","managerNotification","managerName","adminNotification","adminName"],this.dataSource=new N.by,this.resultsLength=0,this.loneWorkerSearchInput=new b.x,this.subscription=new kh.w0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}set content(t){this.loneWorkerSelect=t}ngOnInit(){this.titleService.sendTitle(this.pageTitle),this.loneWorkerFilterForm=new _.cw({loneWorkers:new _.NI([])}),this.subscription.add(this.loneWorkerFilterForm.valueChanges.subscribe(t=>{this.employeeService.paginationData.next(t)})),this.loneWorkers=(0,Yr.z)((0,gn.of)([]),this.loneWorkerSearchInput.pipe((0,Gi.x)(),(0,j.w)(t=>this.employeeService.searchEmployeesAndSkillsForFilter(t,"LoneWorkerTransactionLogs","Employee").pipe((0,Wi.K)(()=>(0,gn.of)([]))))))}ngAfterViewInit(){this.populateTableData(),this.samePageNavigationByNotificationSubscription=this._notificationsService.notificationOnCurrentPage.subscribe(t=>{this.populateTableData()})}populateTableData(){this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page,this.loneWorkerFilterForm.controls.loneWorkers.valueChanges).pipe((0,_e.O)({}),(0,j.w)(()=>this._loneWorkerService.getAllForLoneWorkerTransactionLog(this.loneWorkerFilterForm.controls.loneWorkers.value,this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction,this.sort.active))).subscribe(t=>{this.resultsLength=t.totalCount?t.totalCount:t.totalCountAfterFilter,this.dataSource=t.items,0===t.items.length&&this.paginator.previousPage()},t=>{this._messageService.open("Error retrieving data.")})}ngOnDestroy(){this.subscription.unsubscribe(),this.samePageNavigationByNotificationSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(Ma),e.Y36(se.G),e.Y36(fe.T),e.Y36(Vr.n))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-lone-worker-transaction-log"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ge.NW,5),e.Gf(fn.YE,5),e.Gf(Yce,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.content=r.first)}},decls:48,vars:8,consts:[[1,"container-fluid","lone-worker-table"],[1,"card","table-card"],[1,"card-header","table-card-header"],[3,"formGroup",4,"ngIf"],[1,"blue_hr"],[1,"row","table-row"],[1,"col-12"],[1,"g-thin-black-scroll-bar"],["mat-table","","matSort","",1,"lone-worker-table",3,"dataSource"],["matColumnDef","schedule"],["mat-header-cell","","mat-sort-header","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen table-text-font",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","job"],["matColumnDef","employee"],["matColumnDef","firstNotificationDateTime"],["matColumnDef","secondNotificationDateTime"],["matColumnDef","employeeResponse"],["matColumnDef","managerNotification"],["matColumnDef","managerName"],["matColumnDef","adminNotification"],["matColumnDef","adminName"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"row"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[3,"formGroup"],[1,"row","header-container-row"],[1,"col-xl-3","col-lg-6","col-12"],[1,"d-flex","justify-content-between"],[1,"table-name"],["type","button",1,"lone-worker-transaction-log",3,"routerLink"],[1,"col-xl-6","col-lg-6","col-12"],[1,"margin-top-10"],["id","loneWorkerSearchInput","bindLabel","name","bindValue","id","placeholder","Find Transaction Log","formControlName","loneWorkers",1,"g-esolve-multi-select","esolve-font-size","lone-worker-table-search",3,"items","multiple","hideSelected","typeahead"],["loneWorkerSelect",""],["aria-hidden","true",1,"fa","fa-search"],["ng-multi-label-tmp",""],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["mat-header-cell","","mat-sort-header","",1,"visible-on-small-screen"],["mat-cell","",1,"visible-on-small-screen","table-text-font"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,Bce,15,9,"form",3),e.qZA(),e._UZ(4,"hr",4),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"table",8),e.ynx(9,9),e.YNc(10,Vce,3,0,"th",10),e.YNc(11,Gce,2,1,"td",11),e.BQk(),e.ynx(12,12),e.YNc(13,Wce,3,0,"th",10),e.YNc(14,Qce,3,3,"td",11),e.BQk(),e.ynx(15,13),e.YNc(16,zce,3,0,"th",10),e.YNc(17,Kce,2,1,"td",11),e.BQk(),e.ynx(18,14),e.YNc(19,$ce,3,0,"th",10),e.YNc(20,Xce,2,1,"td",11),e.BQk(),e.ynx(21,15),e.YNc(22,ede,3,0,"th",10),e.YNc(23,tde,3,3,"td",11),e.BQk(),e.ynx(24,16),e.YNc(25,nde,3,0,"th",10),e.YNc(26,ide,3,3,"td",11),e.BQk(),e.ynx(27,17),e.YNc(28,rde,3,0,"th",10),e.YNc(29,ode,3,3,"td",11),e.BQk(),e.ynx(30,18),e.YNc(31,ade,3,0,"th",10),e.YNc(32,sde,3,3,"td",11),e.BQk(),e.ynx(33,19),e.YNc(34,lde,3,0,"th",10),e.YNc(35,cde,2,1,"td",11),e.BQk(),e.ynx(36,20),e.YNc(37,dde,3,0,"th",10),e.YNc(38,ude,3,3,"td",11),e.BQk(),e.ynx(39,21),e.YNc(40,pde,3,0,"th",10),e.YNc(41,fde,2,1,"td",11),e.BQk(),e.YNc(42,hde,1,0,"tr",22),e.YNc(43,mde,1,0,"tr",23),e.qZA()()()(),e.TgZ(44,"div",24)(45,"div",6),e._UZ(46,"mat-paginator",25,26),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.loneWorkerFilterForm),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(34),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(3),e.Q6J("length",i.resultsLength)("pageSize",5)("pageSizeOptions",e.DdM(7,gde)))},dependencies:[D.sg,D.O5,q.rH,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,di,D.Ov,rd],styles:[".container-fluid.lone-worker-table[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%;height:calc(100vh - 56px)}.mat-column-schedule[_ngcontent-%COMP%], .mat-column-date[_ngcontent-%COMP%], .mat-column-job[_ngcontent-%COMP%], .mat-column-employee[_ngcontent-%COMP%], .mat-column-firstnotification[_ngcontent-%COMP%], .mat-column-secondnotification[_ngcontent-%COMP%], .mat-column-employeeresponse[_ngcontent-%COMP%], .mat-column-managernotification[_ngcontent-%COMP%], .mat-column-managername[_ngcontent-%COMP%], .mat-column-adminnotification[_ngcontent-%COMP%], .mat-column-adminname[_ngcontent-%COMP%]{position:relative;width:9.091%}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}.table-text-font[_ngcontent-%COMP%]{font-weight:700;color:#595959;font-size:12px}.details-button[_ngcontent-%COMP%]{height:27px;width:140px;font-size:12px;font-weight:700;text-align:center;text-decoration:none;border:none;outline:none;color:#fff;background-color:var(--eSolve-primary);padding:0 0 1px}.lone-worker-transaction-log[_ngcontent-%COMP%]{height:30px;width:130px;font-size:12px;font-weight:600;text-align:center;text-decoration:none;border:none;outline:none;color:#3f5064;background-color:#d4dbe0;position:relative;-ms-flex-line-pack:center;align-content:center;border:1px solid #ced5db;border-radius:.25rem;cursor:pointer}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.lone-worker-table[_ngcontent-%COMP%]{width:100%;padding-bottom:15px}.table-card[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #e1e6ec!important}.table-card-header[_ngcontent-%COMP%]{background-color:#fff!important;padding-left:0!important;margin-top:3px}.table-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f}.card-header.table-card-header[_ngcontent-%COMP%]{border-bottom:none!important}.blue_hr[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:2px;border:1px solid var(--eSolve-primary)}.table-row[_ngcontent-%COMP%], .header-container-row[_ngcontent-%COMP%]{padding:0 15px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 238px);overflow-wrap:break-word}@media (max-width: 767px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 308px)!important;overflow-wrap:break-word}}@media (max-width: 1090px){.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-schedule[_ngcontent-%COMP%], .mat-column-date[_ngcontent-%COMP%], .mat-column-job[_ngcontent-%COMP%], .mat-column-employee[_ngcontent-%COMP%], .mat-column-isOpened[_ngcontent-%COMP%], .mat-column-firstnotification[_ngcontent-%COMP%], .mat-column-secondnotification[_ngcontent-%COMP%], .mat-column-employeeresponse[_ngcontent-%COMP%], .mat-column-managernotification[_ngcontent-%COMP%], .mat-column-managername[_ngcontent-%COMP%], .mat-column-adminnotification[_ngcontent-%COMP%], .mat-column-adminname[_ngcontent-%COMP%]{position:relative;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;font-size:14px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important;border-bottom:none!important}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.card-header[_ngcontent-%COMP%]{padding-right:0}#loneWorkerSearchInput[_ngcontent-%COMP%]{margin-bottom:5px}.blue_hr[_ngcontent-%COMP%]{z-index:1;margin-bottom:2px;margin-top:-1px}.table-card[_ngcontent-%COMP%]{padding:0 20px}.margin-top-10[_ngcontent-%COMP%]{margin-top:10px}.view-details-small-screen[_ngcontent-%COMP%]{background-color:var(--eSolve-primary);color:#fff;border-radius:4px;font-size:12px;text-align:center;text-decoration:none;border:none;outline:none;box-shadow:0 2px 5px #00000042;width:100px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 234px);overflow-wrap:break-word}}@media (max-width: 430px){.table-card[_ngcontent-%COMP%]{padding:0 5px}}@media (max-width: 567px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 323px)!important;overflow-wrap:break-word}}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--eSolve-primary)}.centered[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}"]}),n})();const vde=["employeeSelect"];function bde(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"span",34),e._uU(2),e.qZA(),e.TgZ(3,"span",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function yde(n,o){1&n&&e.YNc(0,bde,5,1,"div",32),2&n&&e.Q6J("ngForOf",o.items)}function xde(n,o){if(1&n&&(e.TgZ(0,"form",27)(1,"ng-select",28,29),e.ALo(3,"async"),e._UZ(4,"i",30),e.YNc(5,yde,1,1,"ng-template",31),e.qZA()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.employeeFilterForm),e.xp6(1),e.Q6J("items",e.lcZ(3,6,t.employees))("multiple",!0)("hideSelected",!0)("typeahead",t.employeeSearchInput)("minTermLength",2)}}function Cde(n,o){1&n&&(e.TgZ(0,"th",36)(1,"span"),e._uU(2,"Date Of Sync"),e.qZA()())}function Tde(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.dateOfSync)," ")}}function wde(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," / "),e.qZA())}function Dde(n,o){if(1&n&&(e.TgZ(0,"td",37),e.YNc(1,Tde,3,3,"span",38),e.YNc(2,wde,2,0,"span",38),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.dateOfSync),e.xp6(1),e.Q6J("ngIf",!t.dateOfSync)}}function Sde(n,o){1&n&&(e.TgZ(0,"th",36)(1,"span"),e._uU(2,"Schedule Name"),e.qZA()())}function kde(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.scheduleName," ")}}function Ade(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," / "),e.qZA())}function Mde(n,o){if(1&n&&(e.TgZ(0,"td",37),e.YNc(1,kde,2,1,"span",38),e.YNc(2,Ade,2,0,"span",38),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.scheduleName),e.xp6(1),e.Q6J("ngIf",!t.scheduleName)}}function Ode(n,o){1&n&&(e.TgZ(0,"th",36)(1,"span"),e._uU(2,"Employee Name"),e.qZA()())}function Pde(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.employeeName," ")}}function Ede(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," / "),e.qZA())}function Ide(n,o){if(1&n&&(e.TgZ(0,"td",37),e.YNc(1,Pde,2,1,"span",38),e.YNc(2,Ede,2,0,"span",38),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.employeeName),e.xp6(1),e.Q6J("ngIf",!t.employeeName)}}function Nde(n,o){1&n&&(e.TgZ(0,"th",36)(1,"span"),e._uU(2,"Employee Number"),e.qZA()())}function Rde(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.employeeNumber," ")}}function Fde(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," / "),e.qZA())}function Zde(n,o){if(1&n&&(e.TgZ(0,"td",37),e.YNc(1,Rde,2,1,"span",38),e.YNc(2,Fde,2,0,"span",38),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.employeeNumber),e.xp6(1),e.Q6J("ngIf",!t.employeeNumber)}}function Lde(n,o){1&n&&(e.TgZ(0,"th",36)(1,"span"),e._uU(2,"Job Start DateTime"),e.qZA()())}function Ude(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.jobStartDateTime)," ")}}function jde(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," / "),e.qZA())}function Yde(n,o){if(1&n&&(e.TgZ(0,"td",37),e.YNc(1,Ude,3,3,"span",38),e.YNc(2,jde,2,0,"span",38),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.jobStartDateTime),e.xp6(1),e.Q6J("ngIf",!t.jobStartDateTime)}}function qde(n,o){1&n&&(e.TgZ(0,"th",36)(1,"span"),e._uU(2,"Job End DateTime"),e.qZA()())}function Jde(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"DateTimeTransformPipe"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.jobEndDateTime)," ")}}function Hde(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," / "),e.qZA())}function Bde(n,o){if(1&n&&(e.TgZ(0,"td",37),e.YNc(1,Jde,3,3,"span",38),e.YNc(2,Hde,2,0,"span",38),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.jobEndDateTime),e.xp6(1),e.Q6J("ngIf",!t.jobEndDateTime)}}function Vde(n,o){1&n&&(e.TgZ(0,"th",36)(1,"span"),e._uU(2,"Status of Sync"),e.qZA()())}function Gde(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.statusOfSync," ")}}function Wde(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," / "),e.qZA())}function Qde(n,o){if(1&n&&(e.TgZ(0,"td",37),e.YNc(1,Gde,2,1,"span",38),e.YNc(2,Wde,2,0,"span",38),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.statusOfSync),e.xp6(1),e.Q6J("ngIf",!t.statusOfSync)}}function zde(n,o){1&n&&(e.TgZ(0,"th",36)(1,"span"),e._uU(2,"Status Message"),e.qZA()())}function Kde(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.statusMessage," ")}}function $de(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," / "),e.qZA())}function Xde(n,o){if(1&n&&(e.TgZ(0,"td",37),e.YNc(1,Kde,2,1,"span",38),e.YNc(2,$de,2,0,"span",38),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.statusMessage),e.xp6(1),e.Q6J("ngIf",!t.statusMessage)}}function eue(n,o){1&n&&e._UZ(0,"tr",39)}function tue(n,o){1&n&&e._UZ(0,"tr",40)}const nue=function(){return[5,10,25,50,100,250]};let iue=(()=>{class n{constructor(t,i,r,a,s,l,c,u){this.titleService=t,this._syncService=i,this._messageService=r,this._router=a,this._zone=s,this.renderer=l,this.employeeService=c,this._ref=u,this.pageTitle="Schedules > Sync History",this.displayedColumns=["dateOfSync","scheduleName","employeeName","employeeNumber","jobStartDateTime","jobEndDateTime","statusOfSync","statusMessage"],this.dataSource=new N.by,this.resultsLength=0,this.employeeSearchInput=new b.x,a.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&s.run(()=>this._ref.detectChanges())}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}set content(t){this.employeeSelect=t}ngOnInit(){this.titleService.sendTitle(this.pageTitle),this.employeeFilterForm=new _.cw({skills:new _.NI([]),employees:new _.NI([])}),this.employeeFilterForm.valueChanges.subscribe(t=>{this.employeeService.paginationData.next(t),this.populateTableData()}),this.populateTableData(),this.employees=(0,Yr.z)((0,gn.of)([]),this.employeeSearchInput.pipe((0,Gi.x)(),(0,j.w)(t=>this.employeeService.searchEmployeesAndSkillsForFilter(t,"SyncHistory","Employee").pipe((0,Wi.K)(()=>(0,gn.of)([]))))))}ngAfterViewInit(){$(this.employeeSelect.element.children[0].children[1]).remove(),$(this.employeeSelect.element.children[0]).append(this._createIconElement("fa-search","padding-right","6px"))}_createIconElement(t,i,r){let a=this.renderer.createElement("i");return this.renderer.addClass(a,"fa"),this.renderer.addClass(a,t),this.renderer.setStyle(a,i,r),this.renderer.setStyle(a,"color","gray"),a}populateTableData(){this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page).pipe((0,_e.O)({}),(0,j.w)(()=>this._syncService.getAllForSyncHistory(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction,this.sort.active,this.employeeFilterForm.value))).subscribe(t=>{this.resultsLength=t.totalCount,this.dataSource=t.items,0===t.items.length&&this.paginator.previousPage()},t=>{this._messageService.open(t)})}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(G),e.Y36(se.G),e.Y36(q.F0),e.Y36(e.R0b),e.Y36(e.Qsj),e.Y36(Vr.n),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sync-history"]],viewQuery:function(t,i){if(1&t&&(e.Gf(vde,5),e.Gf(ge.NW,5),e.Gf(fn.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.content=r.first),e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},decls:44,vars:8,consts:[[1,"container-fluid","sync-history-table"],[1,"card","table-card"],[1,"card-header","table-card-header"],[1,"row","header-container-row"],[1,"col-md-3","col-12"],[1,"table-name"],[3,"formGroup",4,"ngIf"],[1,"blue_hr"],[1,"row","table-row"],[1,"col-12"],[1,"g-thin-black-scroll-bar"],["mat-table","","matSort","",1,"sync-history-table",3,"dataSource"],["matColumnDef","dateOfSync"],["mat-header-cell","","mat-sort-header","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen table-text-font",4,"matCellDef"],["matColumnDef","scheduleName"],["matColumnDef","employeeName"],["matColumnDef","employeeNumber"],["matColumnDef","jobStartDateTime"],["matColumnDef","jobEndDateTime"],["matColumnDef","statusOfSync"],["matColumnDef","statusMessage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"row"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[3,"formGroup"],["id","empSearchInput","bindLabel","name","bindValue","id","placeholder","Find Employee","formControlName","employees","typeToSearchText","Enter at least two characters",1,"g-esolve-multi-select","esolve-font-size","employees-table-search",3,"items","multiple","hideSelected","typeahead","minTermLength"],["employeeSelect",""],["aria-hidden","true",1,"fa","fa-search"],["ng-multi-label-tmp",""],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["mat-header-cell","","mat-sort-header","",1,"visible-on-small-screen"],["mat-cell","",1,"visible-on-small-screen","table-text-font"],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6," Sync History "),e.qZA()(),e.TgZ(7,"div",4),e.YNc(8,xde,6,8,"form",6),e.qZA()()(),e._UZ(9,"hr",7),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"table",11),e.ynx(14,12),e.YNc(15,Cde,3,0,"th",13),e.YNc(16,Dde,3,2,"td",14),e.BQk(),e.ynx(17,15),e.YNc(18,Sde,3,0,"th",13),e.YNc(19,Mde,3,2,"td",14),e.BQk(),e.ynx(20,16),e.YNc(21,Ode,3,0,"th",13),e.YNc(22,Ide,3,2,"td",14),e.BQk(),e.ynx(23,17),e.YNc(24,Nde,3,0,"th",13),e.YNc(25,Zde,3,2,"td",14),e.BQk(),e.ynx(26,18),e.YNc(27,Lde,3,0,"th",13),e.YNc(28,Yde,3,2,"td",14),e.BQk(),e.ynx(29,19),e.YNc(30,qde,3,0,"th",13),e.YNc(31,Bde,3,2,"td",14),e.BQk(),e.ynx(32,20),e.YNc(33,Vde,3,0,"th",13),e.YNc(34,Qde,3,2,"td",14),e.BQk(),e.ynx(35,21),e.YNc(36,zde,3,0,"th",13),e.YNc(37,Xde,3,2,"td",14),e.BQk(),e.YNc(38,eue,1,0,"tr",22),e.YNc(39,tue,1,0,"tr",23),e.qZA()()()(),e.TgZ(40,"div",24)(41,"div",9),e._UZ(42,"mat-paginator",25,26),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("ngIf",i.employeeFilterForm),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(3),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(7,nue)))},dependencies:[D.sg,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,_._Y,_.JJ,_.JL,_.sg,_.u,Sn,er,di,D.Ov,rd],styles:[".container-fluid.sync-history-table[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%;height:calc(100vh - 56px)}.table-card[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #e1e6ec!important;margin-top:5px}.table-card-header[_ngcontent-%COMP%]{background-color:#fff!important;padding-left:0!important;margin-top:3px}.card-header.table-card-header[_ngcontent-%COMP%]{border-bottom:none!important}.table-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f;margin-left:15px}.blue_hr[_ngcontent-%COMP%]{margin-top:3px;margin-bottom:2px;border:1px solid var(--eSolve-primary)}.table-row[_ngcontent-%COMP%]{padding:0 15px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow-wrap:break-word}.sync-history-table[_ngcontent-%COMP%]{width:100%;padding-bottom:15px}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}.table-text-font[_ngcontent-%COMP%]{font-weight:700;color:#595959;font-size:12px}.mat-column-dateOfSync[_ngcontent-%COMP%], .mat-column-scheduleName[_ngcontent-%COMP%], .mat-column-employeeName[_ngcontent-%COMP%], .mat-column-employeeNumber[_ngcontent-%COMP%], .mat-column-jobStartDateTime[_ngcontent-%COMP%]   .mat-column-jobEndDateTime[_ngcontent-%COMP%]   .mat-column-statusOfSync[_ngcontent-%COMP%]   .mat-column-statusMessage[_ngcontent-%COMP%]{position:relative;width:12.5%}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}@media (max-width: 430px){.table-card[_ngcontent-%COMP%]{padding:0 5px}}@media (max-width: 489px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 275px);overflow-wrap:break-word}}@media (max-width: 605px) and (min-width: 490px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow-wrap:break-word}}@media (max-width: 991px) and (min-width: 606px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 210px);overflow-wrap:break-word}}@media (max-width: 1090px) and (min-width: 992px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 217px);overflow-wrap:break-word}}@media (max-width: 1090px){.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-dateOfSync[_ngcontent-%COMP%], .mat-column-scheduleName[_ngcontent-%COMP%], .mat-column-employeeName[_ngcontent-%COMP%], .mat-column-employeeNumber[_ngcontent-%COMP%], .mat-column-jobStartDateTime[_ngcontent-%COMP%]   .mat-column-jobEndDateTime[_ngcontent-%COMP%]   .mat-column-statusOfSync[_ngcontent-%COMP%]   .mat-column-statusMessage[_ngcontent-%COMP%]{position:relative;width:100%}.mat-column-actions[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;min-width:200px;font-size:14px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important;border-bottom:none!important}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.card-header[_ngcontent-%COMP%]{padding-right:0}.blue_hr[_ngcontent-%COMP%]{z-index:1;margin-bottom:2px;margin-top:-1px}.table-card[_ngcontent-%COMP%]{padding:0 20px}}"]}),n})(),rue=(()=>{class n{constructor(t){this.http=t,this.paginationData=new b.x,this.columnMap=(new Map).set("serialNumber",0).set("operationDateTime",1).set("userName",2).set("functionName",3).set("functionDetails",4).set("operation",5).set("previousValue",6).set("currentValue",7)}getFunctionName(t){return t?this.http.get(S.j.URLAuditTrail+"/getFunctionList",{params:{SearchTerm:t}}):(0,gn.of)([])}getAll(t,i,r,a,s,l,c){let u=(new Y.LE).set("Page",t||"1").set("Limit",i||"5").set("SortOrder",r||"desc").set("Column",a?this.columnMap.get(a):"0");return s.length>0&&s.forEach(h=>{u=u.append("FunctionNames",h.toString())}),void 0!==l&&(u=u.append("StartDateTime",l.toString())),void 0!==c&&(u=u.append("EndDateTime",c.toString())),new A.y(h=>{this.http.get(S.j.URLAuditTrail,{params:u}).subscribe(x=>(h.next(x),h.complete()),x=>h.error(x))})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oue=["functionSelect"];function aue(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",48)(1,"span",49),e._uU(2),e.qZA(),e.TgZ(3,"span",50),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().clear;return e.KtG(s(a))}),e._uU(4," \xd7 "),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t," ")}}function sue(n,o){1&n&&e.YNc(0,aue,5,1,"div",47),2&n&&e.Q6J("ngForOf",o.items)}function lue(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function cue(n,o){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,lue,2,1,"div",52),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.auditFilterForm.controls.startDate.errors?null:t.auditFilterForm.controls.startDate.errors.matDatepickerParse)||(null==t.auditFilterForm.controls.startDate.errors?null:t.auditFilterForm.controls.startDate.errors.minlength))}}function due(n,o){if(1&n&&(e.TgZ(0,"div",51),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function uue(n,o){1&n&&(e.TgZ(0,"div",51),e._uU(1," Enter start date first. "),e.qZA())}function pue(n,o){1&n&&(e.TgZ(0,"div",51),e._uU(1," Start time cannot be greater than end time. "),e.qZA())}function fue(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.message.invalidDateFormat," ")}}function hue(n,o){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,fue,2,1,"div",52),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.auditFilterForm.controls.endDate.errors?null:t.auditFilterForm.controls.endDate.errors.matDatepickerParse)||(null==t.auditFilterForm.controls.endDate.errors?null:t.auditFilterForm.controls.endDate.errors.minlength))}}function mue(n,o){if(1&n&&(e.TgZ(0,"div",51),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.message.validHours," ")}}function gue(n,o){1&n&&(e.TgZ(0,"div",51),e._uU(1," Enter end date first. "),e.qZA())}function _ue(n,o){1&n&&(e.TgZ(0,"div",51),e._uU(1," End time cannot be less than start time. "),e.qZA())}function vue(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",23)(1,"div",24)(2,"div",25)(3,"span",26),e._uU(4," Audit Trail "),e.qZA()(),e.TgZ(5,"div",27)(6,"ng-select",28,29),e.NdJ("remove",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.refershSearchList())}),e.ALo(8,"async"),e._UZ(9,"i",30),e.YNc(10,sue,1,1,"ng-template",31),e.qZA()(),e.TgZ(11,"div",32)(12,"div",33)(13,"div",34)(14,"div",35)(15,"span"),e._uU(16,"Start Date & Time:"),e.qZA()(),e.TgZ(17,"div",36)(18,"input",37),e.NdJ("dateChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeValue("start"))}),e.qZA(),e.TgZ(19,"img",38),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(21);return e.KtG(r.open())}),e.qZA(),e._UZ(20,"mat-datepicker",null,39),e.YNc(22,cue,2,1,"div",40),e.qZA(),e.TgZ(23,"div",41)(24,"input",42),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeValue("start"))}),e.qZA()(),e.TgZ(25,"div",43),e.YNc(26,due,2,1,"div",40),e.YNc(27,uue,2,0,"div",40),e.YNc(28,pue,2,0,"div",40),e.qZA()()(),e.TgZ(29,"div",33)(30,"div",34)(31,"div",35)(32,"span"),e._uU(33,"End Date & Time:"),e.qZA()(),e.TgZ(34,"div",36)(35,"input",44),e.NdJ("dateChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeValue("end"))}),e.qZA(),e.TgZ(36,"img",38),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(38);return e.KtG(r.open())}),e.qZA(),e._UZ(37,"mat-datepicker",null,45),e.YNc(39,hue,2,1,"div",40),e.qZA(),e.TgZ(40,"div",41)(41,"input",46),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeValue("end"))}),e.qZA()(),e.TgZ(42,"div",43),e.YNc(43,mue,2,1,"div",40),e.YNc(44,gue,2,0,"div",40),e.YNc(45,_ue,2,0,"div",40),e.qZA()()()()()()}if(2&n){const t=e.MAs(21),i=e.MAs(38),r=e.oxw();e.Q6J("formGroup",r.auditFilterForm),e.xp6(6),e.Q6J("items",e.lcZ(8,24,r.functions))("multiple",!0)("hideSelected",!0)("typeahead",r.functionSearchInput),e.xp6(12),e.s9C("placeholder",r.message.datePickerPlaceholder),e.Q6J("matDatepicker",t)("dateLengthTracker",r.dateLength)("max",r.maxDate),e.xp6(4),e.Q6J("ngIf",(null==r.auditFilterForm.controls.startDate?null:r.auditFilterForm.controls.startDate.touched)&&(null==r.auditFilterForm.controls.startDate?null:r.auditFilterForm.controls.startDate.errors)),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("ngIf",null==r.auditFilterForm.controls.startTime.errors?null:r.auditFilterForm.controls.startTime.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==r.auditFilterForm.controls.startTime.errors?null:r.auditFilterForm.controls.startTime.errors.enterDateFirst),e.xp6(1),e.Q6J("ngIf",null==r.auditFilterForm.controls.startTime.errors?null:r.auditFilterForm.controls.startTime.errors.invalidTime),e.xp6(7),e.s9C("placeholder",r.message.datePickerPlaceholder),e.Q6J("matDatepicker",i)("dateLengthTracker",r.dateLength)("max",r.maxEndDate)("min",r.minDate),e.xp6(4),e.Q6J("ngIf",(null==r.auditFilterForm.controls.endDate?null:r.auditFilterForm.controls.endDate.touched)&&(null==r.auditFilterForm.controls.endDate?null:r.auditFilterForm.controls.endDate.errors)),e.xp6(2),e.Q6J("dropSpecialCharacters",!1),e.xp6(2),e.Q6J("ngIf",null==r.auditFilterForm.controls.endTime.errors?null:r.auditFilterForm.controls.endTime.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==r.auditFilterForm.controls.endTime.errors?null:r.auditFilterForm.controls.endTime.errors.enterDateFirst),e.xp6(1),e.Q6J("ngIf",null==r.auditFilterForm.controls.endTime.errors?null:r.auditFilterForm.controls.endTime.errors.invalidTime)}}function bue(n,o){1&n&&(e.TgZ(0,"th",53)(1,"span"),e._uU(2,"Date & Time"),e.qZA()())}function yue(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"DateTimeWithSecondsTransformPipe"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.operationDateTime)," ")}}function xue(n,o){if(1&n&&(e.TgZ(0,"td",54)(1,"div",55),e.YNc(2,yue,3,3,"span",52),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Q6J("ngIf",t.operationDateTime)}}function Cue(n,o){1&n&&(e.TgZ(0,"th",53)(1,"span"),e._uU(2,"User / Employee"),e.qZA()())}function Tue(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.userName," ")}}function wue(n,o){if(1&n&&(e.TgZ(0,"td",54),e.YNc(1,Tue,2,1,"span",52),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.userName)}}function Due(n,o){1&n&&(e.TgZ(0,"th",53)(1,"span"),e._uU(2,"Function"),e.qZA()())}function Sue(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.functionName," ")}}function kue(n,o){if(1&n&&(e.TgZ(0,"td",54),e.YNc(1,Sue,2,1,"span",52),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.functionName)}}function Aue(n,o){1&n&&(e.TgZ(0,"th",53)(1,"span"),e._uU(2,"Details"),e.qZA()())}function Mue(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.functionDetails," ")}}function Oue(n,o){if(1&n&&(e.TgZ(0,"td",54)(1,"div",55),e.YNc(2,Mue,2,1,"span",52),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Q6J("ngIf",t.functionDetails)}}function Pue(n,o){1&n&&(e.TgZ(0,"th",53)(1,"span"),e._uU(2,"Operations"),e.qZA()())}function Eue(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.operation," ")}}function Iue(n,o){if(1&n&&(e.TgZ(0,"td",54),e.YNc(1,Eue,2,1,"span",52),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.operation)}}function Nue(n,o){1&n&&(e.TgZ(0,"th",53)(1,"span"),e._uU(2,"Previous Value"),e.qZA()())}function Rue(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.previousValue," ")}}function Fue(n,o){if(1&n&&(e.TgZ(0,"td",54)(1,"div",56),e.YNc(2,Rue,2,1,"span",52),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Q6J("ngIf",t.previousValue)}}function Zue(n,o){1&n&&(e.TgZ(0,"th",53)(1,"span"),e._uU(2,"Current Value"),e.qZA()())}function Lue(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.currentValue," ")}}function Uue(n,o){if(1&n&&(e.TgZ(0,"td",54)(1,"div",56),e.YNc(2,Lue,2,1,"span",52),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Q6J("ngIf",t.currentValue)}}function jue(n,o){1&n&&e._UZ(0,"tr",57)}function Yue(n,o){1&n&&e._UZ(0,"tr",58)}const que=function(){return[5,10,25,50,100,250]},Jue=[{path:"",component:B_,children:[{path:"",redirectTo:"dashboard",pathMatch:"prefix"},{path:"dashboard",loadChildren:()=>Promise.all([J.e(910),J.e(882)]).then(J.bind(J,73882)).then(n=>n.DashboardModule)},{path:"charts",loadChildren:()=>Promise.all([J.e(910),J.e(592),J.e(725)]).then(J.bind(J,50725)).then(n=>n.ChartsModule)},{path:"skills-matrix",component:Fd},{path:"account-settings",component:Bee},{path:"user-details",component:lk},{path:"manage-employees",component:ko,children:[{path:"",redirectTo:"table",pathMatch:"full"},{path:"details",component:XK,canDeactivate:[bs]},{path:"table",component:w$}]},{path:"manage-users",component:vte,children:[{path:"",redirectTo:"table",pathMatch:"full"},{path:"details",component:lk,canDeactivate:[ck]},{path:"table",component:uie}]},{path:"job-type-settings",component:t8},{path:"forms",loadChildren:()=>Promise.all([J.e(592),J.e(298)]).then(J.bind(J,32298)).then(n=>n.FormModule)},{path:"grid",loadChildren:()=>Promise.all([J.e(592),J.e(721)]).then(J.bind(J,98721)).then(n=>n.GridModule)},{path:"blank-page",loadChildren:()=>J.e(131).then(J.bind(J,12131)).then(n=>n.BlankPageModule)},{path:"scheduler",component:VS,canDeactivate:[Jx]},{path:"scheduler/details/:id",component:VS,canDeactivate:[Jx]},{path:"schedule-approval",component:Tc},{path:"custom-data",component:QS},{path:"system-preferences",component:rz},{path:"manage-employee-profiles",component:PX},{path:"manage-user-profiles",component:Jee},{path:"reports",component:zie},{path:"absence-calendar",component:hae},{path:"absence-authorisation",component:Qae},{path:"manage-templates",component:IS},{path:"user-manage-templates",component:Gse},{path:"attendance-confirmation",component:jce},{path:"lone-worker-alerts",component:xle},{path:"sync-history",component:iue},{path:"lone-worker-transaction-log",component:_de},{path:"job-offers",component:Hle},{path:"trade-board",component:uce},{path:"audit-trail",component:(()=>{class n{constructor(t,i,r,a,s,l,c,u){this.titleService=t,this._auditTrailService=i,this._messageService=r,this._router=a,this._zone=s,this._ref=l,this._fb=c,this._renderer=u,this.pageTitle="Settings > Audit Trail",this.displayedColumns=["operationDateTime","userName","functionName","functionDetails","operation","previousValue","currentValue"],this.dataSource=new N.by,this.resultsLength=0,this.functionSearchInput=new b.x,this.functionName=[],this.maxEndDate=new Date,this.previousFunSearch="",this.dateLength=ai.YG.length,this.minimumStartDate=new Date(1900,1,1),a.events.subscribe(()=>{this._ref&&!this._ref.destroyed&&s.run(()=>this._ref.detectChanges())}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}set content(t){this.functionSelect=t}ngOnInit(){this.titleService.sendTitle(this.pageTitle),this.message=St.yw,this.auditFilterForm=new _.cw({functionDetalis:new _.NI([]),startDate:new _.NI,startTime:new _.NI,endDate:new _.NI,endTime:new _.NI}),this.maxDate=new Date,this.subscription=this.auditFilterForm.get("functionDetalis").valueChanges.subscribe(t=>{this._auditTrailService.paginationData.next(t),this.populateTableData()}),this.populateTableData(),this.functions=(0,Yr.z)((0,gn.of)([]),this.functionSearchInput.pipe((0,j.w)(t=>(this.previousFunSearch=t,t&&t.length>1?this._auditTrailService.getFunctionName(t).pipe((0,Wi.K)(()=>(0,gn.of)([]))):(0,gn.of)([])))))}refershSearchList(){this.functionSearchInput.next(this.previousFunSearch)}ngAfterViewInit(){$(this.functionSelect.element.children[0].children[1]).remove(),$(this.functionSelect.element.children[0]).append(this._createIconElement("fa-search","padding-right","6px"))}_createIconElement(t,i,r){let a=this._renderer.createElement("i");return this._renderer.addClass(a,"fa"),this._renderer.addClass(a,t),this._renderer.setStyle(a,i,r),this._renderer.setStyle(a,"color","gray"),a}get f(){return this.auditFilterForm.controls}populateTableData(){this.auditFilterForm.valid&&(this.subscription=(0,ie.T)(this.sort.sortChange,this.paginator.page).pipe((0,_e.O)({}),(0,j.w)(()=>this._auditTrailService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.direction,this.sort.active,this.auditFilterForm.get("functionDetalis").value,this.startDateTime,this.endDateTime))).subscribe(t=>{this.resultsLength=t.totalCount,this.dataSource=t.items,0===t.items.length&&this.paginator.previousPage()},t=>{this._messageService.open(t)}))}changeValue(t){"start"==t?(this.setMinDate(),this.validateStartTime()):"end"==t&&(this.setMaxDate(),this.validateEndTime()),this.auditFilterForm.valid&&(this.updateDateTime(t),this.populateTableData())}setMinDate(){this.minDate=null!==this.f.startDate.value?this.f.startDate.value:void 0}setMaxDate(){this.maxDate=null!==this.f.endDate.value?this.f.endDate.value:void 0}validateStartTime(){null!==this.f.startTime.value&&null===this.f.startDate.value&&5===this.f.startTime.value.length?this.f.startTime.setErrors({enterDateFirst:!0}):null!==this.f.startTime.value&&5===this.f.startTime.value.length&&this.f.startTime.setErrors(null),null!==this.f.startDate.value&&null!==this.f.endDate.value&&W(this.f.startDate.value).isSame(W(this.f.endDate.value))&&this.f.startTime.setErrors(this.f.startTime.value>this.f.endTime.value?{invalidTime:!0}:null)}validateEndTime(){null!==this.f.endTime.value&&null===this.f.endDate.value&&5===this.f.endTime.value.length?this.f.endTime.setErrors({enterDateFirst:!0}):null!==this.f.endTime.value&&5===this.f.endTime.value.length&&this.f.endTime.setErrors(null),null!==this.f.startDate.value&&null!==this.f.endDate.value&&W(this.f.startDate.value).isSame(W(this.f.endDate.value))&&this.f.endTime.setErrors(this.f.startTime.value>this.f.endTime.value?{invalidTime:!0}:null)}updateDateTime(t){this.auditFilterForm.valid&&("start"==t?this.setStartDateTime():"end"==t&&this.setEndDateTime())}setStartDateTime(){if(null!==this.f.startDate.value){const t=W(W(this.f.startDate.value).clone().format("YYYY-MM-DD")).set({hour:0,minute:0,second:0,millisecond:0});this.startDateTime=this.isNullOrEmpty(this.f.startTime.value)?t.format("YYYY-MM-DDTHH:mm:ss"):t.format("YYYY-MM-DD")+"T"+this.f.startTime.value}else this.startDateTime=void 0}setEndDateTime(){if(null!==this.f.endDate.value){const t=W(W(this.f.endDate.value).clone().format("YYYY-MM-DD")).set({hour:0,minute:0,second:0,millisecond:0});this.endDateTime=this.isNullOrEmpty(this.f.endTime.value)?t.format("YYYY-MM-DDTHH:mm:ss"):t.format("YYYY-MM-DD")+"T"+this.f.endTime.value}else this.endDateTime=void 0}isNullOrEmpty(t){return null===t||""===t}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce.Z),e.Y36(rue),e.Y36(se.G),e.Y36(q.F0),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(_.qu),e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-audit-trail"]],viewQuery:function(t,i){if(1&t&&(e.Gf(oue,5),e.Gf(ge.NW,5),e.Gf(fn.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.content=r.first),e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},decls:36,vars:9,consts:[[1,"container-fluid","audit-trail-table"],[1,"card","table-card"],[1,"card-header","table-card-header"],[3,"formGroup",4,"ngIf"],[1,"blue_hr"],[1,"row","table-row"],[1,"col-12"],[1,"g-thin-black-scroll-bar"],["mat-table","","matSort","",1,"audit-trail-table",3,"dataSource"],["matColumnDef","operationDateTime"],["mat-header-cell","","mat-sort-header","","class","visible-on-small-screen",4,"matHeaderCellDef"],["mat-cell","","class","visible-on-small-screen table-text-font",4,"matCellDef"],["matColumnDef","userName"],["matColumnDef","functionName"],["matColumnDef","functionDetails"],["matColumnDef","operation"],["matColumnDef","previousValue"],["matColumnDef","currentValue"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"row"],["paginatorStyle","","showFirstLastButtons","","color","accent",3,"length","pageSize","pageSizeOptions"],["paginator",""],[3,"formGroup"],[1,"row","header-container-row"],[1,"col-md-2","col-12"],[1,"table-name"],[1,"col-md-2","col-12","pl-0"],["id","funSerachInput","placeholder","Find Function Details","formControlName","functionDetalis",1,"g-esolve-multi-select","esolve-font-size","audit-trail-table-search",3,"items","multiple","hideSelected","typeahead","remove"],["functionSelect",""],["aria-hidden","true",1,"fa","fa-search"],["ng-multi-label-tmp",""],[1,"row","col-md-8","justify-content-between"],[1,"col-md-6","col-12"],[1,"row","justify-content-between"],[1,"col-md-5","audit-trail-label"],[1,"col-md-5","dateFieldWidth"],["id","auditStartDate","formControlName","startDate","autocomplete","off",1,"form-control","form-control-sm","height28","input-text",3,"matDatepicker","dateLengthTracker","placeholder","max","dateChange"],["src","assets/icons/calendar-icon.png",1,"calendar-icon-img",3,"click"],["startDatePicker",""],["class","validationError",4,"ngIf"],[1,"col-md-2","pl-0"],["type","text","placeholder","00:00","autocomplete","off","id","auditStartTime","mask","Hh:m0","maxlength","5","minlength","5","name","startTime","formControlName","startTime",1,"form-control","height28","input-text","hours-input",3,"dropSpecialCharacters","change"],[1,"col-md-12","validationHourMsg"],["id","auditEndDate","autocomplete","off","formControlName","endDate",1,"form-control","form-control-sm","height28","input-text",3,"matDatepicker","dateLengthTracker","placeholder","max","min","dateChange"],["endDatePicker",""],["type","text","placeholder","00:00","autocomplete","off","id","auditEndTime","mask","Hh:m0","maxlength","5","minlength","5","name","endTime","formControlName","endTime",1,"form-control","height28","input-text","hours-input",3,"dropSpecialCharacters","change"],["class","ng-value",4,"ngFor","ngForOf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[1,"validationError"],[4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"visible-on-small-screen"],["mat-cell","",1,"visible-on-small-screen","table-text-font"],[1,"pre-line-wrap"],[1,"pre-line-wrap","values-min-width"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,vue,46,26,"form",3),e.qZA(),e._UZ(4,"hr",4),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"table",8),e.ynx(9,9),e.YNc(10,bue,3,0,"th",10),e.YNc(11,xue,3,1,"td",11),e.BQk(),e.ynx(12,12),e.YNc(13,Cue,3,0,"th",10),e.YNc(14,wue,2,1,"td",11),e.BQk(),e.ynx(15,13),e.YNc(16,Due,3,0,"th",10),e.YNc(17,kue,2,1,"td",11),e.BQk(),e.ynx(18,14),e.YNc(19,Aue,3,0,"th",10),e.YNc(20,Oue,3,1,"td",11),e.BQk(),e.ynx(21,15),e.YNc(22,Pue,3,0,"th",10),e.YNc(23,Iue,2,1,"td",11),e.BQk(),e.ynx(24,16),e.YNc(25,Nue,3,0,"th",10),e.YNc(26,Fue,3,1,"td",11),e.BQk(),e.ynx(27,17),e.YNc(28,Zue,3,0,"th",10),e.YNc(29,Uue,3,1,"td",11),e.BQk(),e.YNc(30,jue,1,0,"tr",18),e.YNc(31,Yue,1,0,"tr",19),e.qZA()()()(),e.TgZ(32,"div",20)(33,"div",6),e._UZ(34,"mat-paginator",21,22),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.auditFilterForm),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(3),e.Q6J("length",i.resultsLength)("pageSize",50)("pageSizeOptions",e.DdM(8,que)))},dependencies:[D.sg,D.O5,N.BZ,N.fO,N.as,N.w1,N.Dz,N.nj,N.ge,N.ev,N.XQ,N.Gk,ge.NW,fn.YE,fn.nU,On.Mq,On.hl,_._Y,_.Fj,_.JJ,_.JL,_.wO,_.nD,_.sg,_.u,Sn,er,Cs,rr,di,D.Ov,LF],styles:[".container-fluid.audit-trail-table[_ngcontent-%COMP%]{background-color:#eff3f7;padding:17px;width:100%;height:calc(100vh - 56px)}.table-card[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #e1e6ec!important;margin-top:5px}.table-card-header[_ngcontent-%COMP%]{background-color:#fff!important;padding-left:0!important;margin-top:3px}.card-header.table-card-header[_ngcontent-%COMP%]{border-bottom:none!important}.table-name[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#42536f;margin-left:10px}.blue_hr[_ngcontent-%COMP%]{margin-left:0;margin-bottom:2px;border:1px solid var(--eSolve-primary)}.table-row[_ngcontent-%COMP%]{padding:0 15px}.pre-line-wrap[_ngcontent-%COMP%]{white-space:pre-line}.values-min-width[_ngcontent-%COMP%]{min-width:175px}.audit-trail-table[_ngcontent-%COMP%]{width:100%;padding-bottom:15px}th[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#42536f}td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], td[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding-right:10px}.table-text-font[_ngcontent-%COMP%]{font-weight:700;color:#595959;font-size:12px}.height28[_ngcontent-%COMP%]{height:28px!important}.input-text[_ngcontent-%COMP%]{font-size:10px;color:#565d6f}.auditStartDate[_ngcontent-%COMP%]{width:170px}.hours-input[_ngcontent-%COMP%]{padding:5px;width:45px}.searchBarRow[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.col-md-5[_ngcontent-%COMP%]{padding-left:2px;padding-right:10px}.audit-trail-label[_ngcontent-%COMP%]{font-size:12px;color:#565d6f;left:10px;font-weight:600;text-align:center;padding:3px 10px!important}.validationHourMsg[_ngcontent-%COMP%]{padding:0!important}.validationError[_ngcontent-%COMP%]{text-align:end}.calendar-icon-img[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:5px;border-radius:0%;right:20px;position:absolute;top:4px;color:#989898;font-size:12px;cursor:pointer}.startDateTime[_ngcontent-%COMP%]{padding:0!important}.dateFieldWidth[_ngcontent-%COMP%]{min-width:120;max-width:250}.mat-column-serialNo[_ngcontent-%COMP%], .mat-column-dateAndTime[_ngcontent-%COMP%], .mat-column-userOrEmployee[_ngcontent-%COMP%], .mat-column-function[_ngcontent-%COMP%], .mat-column-details[_ngcontent-%COMP%], .mat-column-operations[_ngcontent-%COMP%], .mat-column-previousValue[_ngcontent-%COMP%], .mat-column-currentValue[_ngcontent-%COMP%]{position:relative;width:11.5%}mat-footer-row[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], mat-row[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-color:#ced5db}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow-wrap:break-word}@media (max-width: 430px){.table-card[_ngcontent-%COMP%]{padding:0 5px}}@media (max-width: 489px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 275px);overflow-wrap:break-word}}@media (max-width: 605px) and (min-width: 490px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow-wrap:break-word}}@media (max-width: 991px) and (min-width: 606px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 210px);overflow-wrap:break-word}}@media (max-width: 1090px) and (min-width: 992px){.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 217px);overflow-wrap:break-word}}@media (max-width: 1090px){.visible-on-small-screen[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important}.mat-column-serialNo[_ngcontent-%COMP%], .mat-column-dateAndTime[_ngcontent-%COMP%], .mat-column-userOrEmployee[_ngcontent-%COMP%], .mat-column-function[_ngcontent-%COMP%], .mat-column-details[_ngcontent-%COMP%], .mat-column-operations[_ngcontent-%COMP%], .mat-column-previousValue[_ngcontent-%COMP%], .mat-column-currentValue[_ngcontent-%COMP%]{position:relative;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto;min-width:200px;font-size:14px}td.mat-cell[_ngcontent-%COMP%]{padding:5px!important;border-bottom:none!important}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:block}.card-header[_ngcontent-%COMP%]{padding-right:0}.blue_hr[_ngcontent-%COMP%]{z-index:1;margin-bottom:2px;margin-top:-1px}.table-card[_ngcontent-%COMP%]{padding:0 20px}.g-thin-black-scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 207px);overflow-wrap:break-word}}"]}),n})()},{path:"view-job",component:NS}]}];let Hue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[q.Bz.forChild(Jue),_.u5,_.UX,q.Bz]}),n})();var Bue=J(43705),Vue=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[R.rt,ei.BQ,ei.BQ]}),n}(),Que=function(){var n=function(){function o(){(0,I.Z)(this,o)}return(0,M.Z)(o,null,[{key:"forRoot",value:function(){return{ngModule:o,providers:[]}}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez]}),n}();function bp(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function ga(n){return"string"==typeof n}function rb(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function tu(n){return n&&n.getTime&&!isNaN(n.getTime())}function yp(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function xp(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function _r(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function Ko(n,o){return Object.prototype.hasOwnProperty.call(n,o)}function Cp(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function Lk(n){return void 0===n}function pi(n){var o=+n,t=0;return 0!==o&&isFinite(o)&&(t=bp(o)),t}var Bg={},Uk={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function $o(n,o){var t=n.toLowerCase(),i=n;t in Uk&&(i=Uk[t]),Bg[t]=Bg["".concat(t,"s")]=Bg[o]=i}function jk(n){return ga(n)?Bg[n]||Bg[n.toLowerCase()]:void 0}function ud(n,o,t){var i="".concat(Math.abs(n));return(n>=0?t?"+":"":"-")+Math.pow(10,Math.max(0,o-i.length)).toString().substr(1)+i}var Hx={},Ph={},Yk=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function Nn(n,o,t,i){n&&(Ph[n]=i),o&&(Ph[o[0]]=function(){return ud(i.apply(null,arguments),o[1],o[2])}),t&&(Ph[t]=function(r,a){return a.locale.ordinal(i.apply(null,arguments),n)})}function tpe(n){for(var o=n.match(Yk),t=o.length,i=new Array(t),r=0;r<t;r++)i[r]=Ph[o[r]]?Ph[o[r]]:npe(o[r]);return function(a,s,l){for(var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u="",h=0;h<t;h++)u+=yp(i[h])?i[h].call(null,a,{format:n,locale:s,isUTC:l,offset:c}):i[h];return u}}function npe(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ob(n,o,t){var i=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(n),i}function ab(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=new Date(n,o,t,i,r,a,s);return n<100&&n>=0&&isFinite(l.getFullYear())&&l.setFullYear(n),l}function fi(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o?n.getUTCHours():n.getHours()}function Eh(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o?n.getUTCMinutes():n.getMinutes()}function Bx(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o?n.getUTCSeconds():n.getSeconds()}function pd(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o?n.getUTCMilliseconds():n.getMilliseconds()}function oc(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o?n.getUTCDay():n.getDay()}function wp(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o?n.getUTCDate():n.getDate()}function hi(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o?n.getUTCMonth():n.getMonth()}function kr(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o?n.getUTCFullYear():n.getFullYear()}function Ih(n,o){return!(!n||!o)&&Nh(n,o)&&hi(n)===hi(o)}function Nh(n,o){return!(!n||!o)&&kr(n)===kr(o)}function nu(n,o){return!(!n||!o)&&Nh(n,o)&&Ih(n,o)&&wp(n)===wp(o)}var qk=/\d/,Xa=/\d\d/,Jk=/\d{3}/,Vx=/\d{4}/,sb=/[+-]?\d{6}/,ur=/\d\d?/,Hk=/\d\d\d\d?/,Bk=/\d\d\d\d\d\d?/,lb=/\d{1,3}/,Gx=/\d{1,4}/,cb=/[+-]?\d{1,6}/,lpe=/\d+/,db=/[+-]?\d+/,ub=/Z|[+-]\d\d(?::?\d\d)?/gi,dpe=/[+-]?\d+(\.\d{1,3})?/,Vg=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,pb={};function mn(n,o,t){pb[n]=yp(o)?o:function(i,r){return i&&t?t:o}}function upe(n,o){return Ko(pb,n)?pb[n](!1,o):new RegExp(function ppe(n){return Dp(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(o,t,i,r,a){return t||i||r||a}))}(n))}function Dp(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Wx={};function pr(n,o){var r,t=ga(n)?[n]:n,i=o;if(xp(o)&&(i=function(s,l,c){return l[o]=pi(s),c}),_r(t)&&yp(i))for(r=0;r<t.length;r++)Wx[t[r]]=i}function Gg(n,o){pr(n,function(t,i,r,a){return r._w=r._w||{},o(t,r._w,r,a)})}function fpe(n,o,t){return null!=o&&Ko(Wx,n)&&Wx[n](o,t._a,t,n),t}var hpe={};function Xo(n,o){hpe[n]=o}function ki(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function Qx(n,o){return o.locale.getFullYear?o.locale.getFullYear(n,o.isUTC).toString():kr(n,o.isUTC).toString()}function zx(n){return pi(n)+(pi(n)>68?1900:2e3)}function Wg(n){return Kx(n)?366:365}function Kx(n){return n%4==0&&n%100!=0||n%400==0}function fb(n,o){if(isNaN(n)||isNaN(o))return NaN;var t=function zue(n,o){return(n%o+o)%o}(o,12);return 1===t?Kx(n+(o-t)/12)?29:28:31-t%7%2}var bpe={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function bo(n,o){var t=Object.assign({},bpe,o),i=n.getFullYear()+(t.year||0),r=n.getMonth()+(t.month||0),a=n.getDate()+(t.day||0);return t.month&&!t.day&&(a=Math.min(a,fb(i,r))),ab(i,r,a,n.getHours()+(t.hour||0),n.getMinutes()+(t.minute||0),n.getSeconds()+(t.seconds||0))}function ype(n,o){return ab(Rh(n.getFullYear(),o.year),Rh(n.getMonth(),o.month),1,Rh(n.getHours(),o.hour),Rh(n.getMinutes(),o.minute),Rh(n.getSeconds(),o.seconds),Rh(n.getMilliseconds(),o.milliseconds))}function Rh(n,o){return xp(o)?o:n}function Sp(n,o,t){var i=Math.min(wp(n),fb(kr(n),o));return t?n.setUTCMonth(o,i):n.setMonth(o,i),n}function $x(n,o,t){return t?n.setUTCDate(o):n.setDate(o),n}function fd(n){return new Date(n.getTime())}function hd(n,o,t){var i=fd(n);switch(o){case"year":Sp(i,0,t);case"quarter":case"month":$x(i,1,t);case"week":case"isoWeek":case"day":case"date":!function Cpe(n,o,t){t?n.setUTCHours(o):n.setHours(o)}(i,0,t);case"hours":!function Tpe(n,o,t){t?n.setUTCMinutes(o):n.setMinutes(o)}(i,0,t);case"minutes":!function wpe(n,o,t){t?n.setUTCSeconds(o):n.setSeconds(o)}(i,0,t);case"seconds":!function Dpe(n,o,t){t?n.setUTCMilliseconds(o):n.setMilliseconds(o)}(i,0,t)}return"week"===o&&function Jfe(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=uC(n,t.locale,t.isUTC);lc(n,o-i,"day")}(i,0,{isUTC:t}),"isoWeek"===o&&function Hfe(n,o){var i=qfe(o,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).locale);Xg(n,eo(n)%7?i:i-7)}(i,1),"quarter"===o&&Sp(i,3*Math.floor(hi(i,t)/3),t),i}function hb(n,o,t){var i=o;"date"===i&&(i="day");var s=function Ufe(n,o,t,i){return b2(n,dC(o,t),-1,i)}(lc(hd(n,i,t),1,"isoWeek"===i?"week":i,t),1,"milliseconds",t);return s}function Xx(n,o){var t=+hd(n,"day",o),i=+hd(n,"year",o);return Math.round((t-i)/864e5)+1}function mb(n,o,t){var i=o-t+7;return-(ob(n,0,i).getUTCDay()-o+7)%7+i-1}function Fh(n,o,t,i){var s,l,r=mb(kr(n,i),o,t),a=Math.floor((Xx(n,i)-r-1)/7)+1;return a<1?s=a+kp(l=kr(n,i)-1,o,t):a>kp(kr(n,i),o,t)?(s=a-kp(kr(n,i),o,t),l=kr(n,i)+1):(l=kr(n,i),s=a),{week:s,year:l}}function kp(n,o,t){var i=mb(n,o,t),r=mb(n+1,o,t);return(Wg(n)-i+r)/7}var Gk=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ape="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Wk="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Mpe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qk="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ope="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zk={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ipe=Vg,Npe=Vg,Kk=function(){function n(o){(0,I.Z)(this,n),o&&this.set(o)}return(0,M.Z)(n,[{key:"set",value:function(t){var i;for(i in t)if(t.hasOwnProperty(i)){var r=t[i];this[yp(r)?i:"_".concat(i)]=r}this._config=t}},{key:"calendar",value:function(t,i,r){var a=this._calendar[t]||this._calendar.sameElse;return yp(a)?a.call(null,i,r):a}},{key:"longDateFormat",value:function(t){var i=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return i||!r?i:(this._longDateFormat[t]=r.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[t])}},{key:"invalidDate",get:function(){return this._invalidDate},set:function(t){this._invalidDate=t}},{key:"ordinal",value:function(t,i){return this._ordinal.replace("%d",t.toString(10))}},{key:"preparse",value:function(t,i){return t}},{key:"getFullYear",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return kr(t,i)}},{key:"postformat",value:function(t){return t}},{key:"relativeTime",value:function(t,i,r,a){var s=this._relativeTime[r];return yp(s)?s(t,i,r,a):s.replace(/%d/i,t.toString(10))}},{key:"pastFuture",value:function(t,i){var r=this._relativeTime[t>0?"future":"past"];return yp(r)?r(i):r.replace(/%s/i,i)}},{key:"months",value:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return _r(this._months)?this._months:this._months.standalone;if(_r(this._months))return this._months[hi(t,r)];var a=(this._months.isFormat||Gk).test(i)?"format":"standalone";return this._months[a][hi(t,r)]}},{key:"monthsShort",value:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return _r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(_r(this._monthsShort))return this._monthsShort[hi(t,r)];var a=Gk.test(i)?"format":"standalone";return this._monthsShort[a][hi(t,r)]}},{key:"monthsParse",value:function(t,i,r){var a,s,l;if(this._monthsParseExact)return this.handleMonthStrictParse(t,i,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),l=0;l<12;l++){if(a=new Date(Date.UTC(2e3,l)),r&&!this._longMonthsParse[l]){var c=this.months(a,"",!0).replace(".",""),u=this.monthsShort(a,"",!0).replace(".","");this._longMonthsParse[l]=new RegExp("^".concat(c,"$"),"i"),this._shortMonthsParse[l]=new RegExp("^".concat(u,"$"),"i")}if(!r&&!this._monthsParse[l]&&(s="^".concat(this.months(a,"",!0),"|^").concat(this.monthsShort(a,"",!0)),this._monthsParse[l]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===i&&this._longMonthsParse[l].test(t)||r&&"MMM"===i&&this._shortMonthsParse[l].test(t)||!r&&this._monthsParse[l].test(t))return l}}},{key:"monthsRegex",value:function(t){return this._monthsParseExact?(Ko(this,"_monthsRegex")||this.computeMonthsParse(),t?this._monthsStrictRegex:this._monthsRegex):(Ko(this,"_monthsRegex")||(this._monthsRegex=Npe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}},{key:"monthsShortRegex",value:function(t){return this._monthsParseExact?(Ko(this,"_monthsRegex")||this.computeMonthsParse(),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ko(this,"_monthsShortRegex")||(this._monthsShortRegex=Ipe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}},{key:"week",value:function(t,i){return Fh(t,this._week.dow,this._week.doy,i).week}},{key:"firstDayOfWeek",value:function(){return this._week.dow}},{key:"firstDayOfYear",value:function(){return this._week.doy}},{key:"weekdays",value:function(t,i,r){if(!t)return _r(this._weekdays)?this._weekdays:this._weekdays.standalone;if(_r(this._weekdays))return this._weekdays[oc(t,r)];var a=this._weekdays.isFormat.test(i)?"format":"standalone";return this._weekdays[a][oc(t,r)]}},{key:"weekdaysMin",value:function(t,i,r){return t?this._weekdaysMin[oc(t,r)]:this._weekdaysMin}},{key:"weekdaysShort",value:function(t,i,r){return t?this._weekdaysShort[oc(t,r)]:this._weekdaysShort}},{key:"weekdaysParse",value:function(t,i,r){var a,s;if(this._weekdaysParseExact)return this.handleWeekStrictParse(t,i,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){var l=Xg(new Date(Date.UTC(2e3,1)),a,null,!0);if(r&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^".concat(this.weekdays(l,"",!0).replace(".",".?"),"$"),"i"),this._shortWeekdaysParse[a]=new RegExp("^".concat(this.weekdaysShort(l,"",!0).replace(".",".?"),"$"),"i"),this._minWeekdaysParse[a]=new RegExp("^".concat(this.weekdaysMin(l,"",!0).replace(".",".?"),"$"),"i")),this._weekdaysParse[a]||(s="^".concat(this.weekdays(l,"",!0),"|^").concat(this.weekdaysShort(l,"",!0),"|^").concat(this.weekdaysMin(l,"",!0)),this._weekdaysParse[a]=new RegExp(s.replace(".",""),"i")),!(_r(this._fullWeekdaysParse)&&_r(this._shortWeekdaysParse)&&_r(this._minWeekdaysParse)&&_r(this._weekdaysParse)))return;if(r&&"dddd"===i&&this._fullWeekdaysParse[a].test(t))return a;if(r&&"ddd"===i&&this._shortWeekdaysParse[a].test(t))return a;if(r&&"dd"===i&&this._minWeekdaysParse[a].test(t))return a;if(!r&&this._weekdaysParse[a].test(t))return a}}},{key:"weekdaysRegex",value:function(t){return this._weekdaysParseExact?(Ko(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ko(this,"_weekdaysRegex")||(this._weekdaysRegex=Vg),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}},{key:"weekdaysShortRegex",value:function(t){return this._weekdaysParseExact?(Ko(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ko(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vg),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}},{key:"weekdaysMinRegex",value:function(t){return this._weekdaysParseExact?(Ko(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ko(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Vg),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}},{key:"isPM",value:function(t){return"p"===t.toLowerCase().charAt(0)}},{key:"meridiem",value:function(t,i,r){return t>11?r?"pm":"PM":r?"am":"AM"}},{key:"formatLongDate",value:function(t){this._longDateFormat=this._longDateFormat?this._longDateFormat:zk;var i=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return i||!r?i:(this._longDateFormat[t]=r.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[t])}},{key:"handleMonthStrictParse",value:function(t,i,r){var s,l,c,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)c=new Date(2e3,s),this._shortMonthsParse[s]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(c,"").toLocaleLowerCase();return r?"MMM"===i?-1!==(l=this._shortMonthsParse.indexOf(a))?l:null:-1!==(l=this._longMonthsParse.indexOf(a))?l:null:"MMM"===i?-1!==(l=this._shortMonthsParse.indexOf(a))||-1!==(l=this._longMonthsParse.indexOf(a))?l:null:-1!==(l=this._longMonthsParse.indexOf(a))||-1!==(l=this._shortMonthsParse.indexOf(a))?l:null}},{key:"handleWeekStrictParse",value:function(t,i,r){var a,l,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],l=0;l<7;++l){var c=Xg(new Date(Date.UTC(2e3,1)),l,null,!0);this._minWeekdaysParse[l]=this.weekdaysMin(c).toLocaleLowerCase(),this._shortWeekdaysParse[l]=this.weekdaysShort(c).toLocaleLowerCase(),this._weekdaysParse[l]=this.weekdays(c,"").toLocaleLowerCase()}if(_r(this._weekdaysParse)&&_r(this._shortWeekdaysParse)&&_r(this._minWeekdaysParse))return r?"dddd"===i?-1!==(a=this._weekdaysParse.indexOf(s))?a:null:"ddd"===i?-1!==(a=this._shortWeekdaysParse.indexOf(s))?a:null:-1!==(a=this._minWeekdaysParse.indexOf(s))?a:null:"dddd"===i?-1!==(a=this._weekdaysParse.indexOf(s))||-1!==(a=this._shortWeekdaysParse.indexOf(s))||-1!==(a=this._minWeekdaysParse.indexOf(s))?a:null:"ddd"===i?-1!==(a=this._shortWeekdaysParse.indexOf(s))||-1!==(a=this._weekdaysParse.indexOf(s))||-1!==(a=this._minWeekdaysParse.indexOf(s))?a:null:-1!==(a=this._minWeekdaysParse.indexOf(s))||-1!==(a=this._weekdaysParse.indexOf(s))||-1!==(a=this._shortWeekdaysParse.indexOf(s))?a:null}},{key:"computeMonthsParse",value:function(){var a,s,t=[],i=[],r=[];for(s=0;s<12;s++)a=new Date(2e3,s),t.push(this.monthsShort(a,"")),i.push(this.months(a,"")),r.push(this.months(a,"")),r.push(this.monthsShort(a,""));for(t.sort(Ap),i.sort(Ap),r.sort(Ap),s=0;s<12;s++)t[s]=Dp(t[s]),i[s]=Dp(i[s]);for(s=0;s<24;s++)r[s]=Dp(r[s]);this._monthsRegex=new RegExp("^(".concat(r.join("|"),")"),"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^(".concat(i.join("|"),")"),"i"),this._monthsShortStrictRegex=new RegExp("^(".concat(t.join("|"),")"),"i")}},{key:"computeWeekdaysParse",value:function(){var s,t=[],i=[],r=[],a=[];for(s=0;s<7;s++){var l=Xg(new Date(Date.UTC(2e3,1)),s,null,!0),c=this.weekdaysMin(l),u=this.weekdaysShort(l),h=this.weekdays(l);t.push(c),i.push(u),r.push(h),a.push(c),a.push(u),a.push(h)}for(t.sort(Ap),i.sort(Ap),r.sort(Ap),a.sort(Ap),s=0;s<7;s++)i[s]=Dp(i[s]),r[s]=Dp(r[s]),a[s]=Dp(a[s]);this._weekdaysRegex=new RegExp("^(".concat(a.join("|"),")"),"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^(".concat(r.join("|"),")"),"i"),this._weekdaysShortStrictRegex=new RegExp("^(".concat(i.join("|"),")"),"i"),this._weekdaysMinStrictRegex=new RegExp("^(".concat(t.join("|"),")"),"i")}}]),n}();function Ap(n,o){return o.length-n.length}var $k={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:zk,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ape,monthsShort:Wk,week:{dow:0,doy:6},weekdays:Mpe,weekdaysMin:Ope,weekdaysShort:Qk,meridiemParse:/[ap]\.?m?\.?/i};function jpe(n,o,t){var s,i=Math.min(n.length,o.length),r=Math.abs(n.length-o.length),a=0;for(s=0;s<i;s++)(t&&n[s]!==o[s]||!t&&pi(n[s])!==pi(o[s]))&&a++;return a+r}function gb(n,o){Nn(null,[n,n.length,!1],null,o)}function Xk(n,o){return tC(n,o.locale).toString()}function e2(n){return t2(n).toString()}function tC(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:co(),t=arguments.length>2?arguments[2]:void 0;return Fh(n,o.firstDayOfWeek(),o.firstDayOfYear(),t).year}function t2(n,o){return Fh(n,1,4,o).year}function r2(n,o){Nn(n,null,null,function(t,i){var r=function Op(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=o._offset||0;return o._isUTC?t:o2(n)}(t,{_isUTC:i.isUTC,_offset:i.offset}),a="+";return r<0&&(r=-r,a="-"),a+ud(~~(r/60),2)+o+ud(~~r%60,2)})}var zpe=/([\+\-]|\d\d)/gi;function o2(n){return 15*-Math.round(n.getTimezoneOffset()/15)}var zg,yo={},Qg={};function a2(n){return n&&n.toLowerCase().replace("_","-")}function l2(n){return yo[n]||console.error('Khronos locale error: please load locale "'.concat(n,'" before using it')),yo[n]}function iC(n,o){var t;return n&&(Lk(o)?t=co(n):ga(n)&&(t=c2(n,o)),t&&(zg=t)),zg&&zg._abbr}function c2(n,o){if(null===o)return delete yo[n],zg=co("en"),null;if(o){var t=$k;if(o.abbr=n,null!=o.parentLocale){if(null==yo[o.parentLocale])return Qg[o.parentLocale]||(Qg[o.parentLocale]=[]),Qg[o.parentLocale].push({name:n,config:o}),null;t=yo[o.parentLocale]._config}return yo[n]=new Kk(function s2(n,o){var t=Object.assign({},n);for(var i in o)!Ko(o,i)||(Cp(n[i])&&Cp(o[i])?(t[i]={},Object.assign(t[i],n[i]),Object.assign(t[i],o[i])):null!=o[i]?t[i]=o[i]:delete t[i]);for(var r in n)Ko(n,r)&&!Ko(o,r)&&Cp(n[r])&&(t[r]=Object.assign({},t[r]));return t}(t,o)),Qg[n]&&Qg[n].forEach(function(i){c2(i.name,i.config)}),iC(n),yo[n]}}function co(n){return function nfe(){yo.en||(iC("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(o){var t=o%10;return o+(1===pi(o%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),function Ype(){Nn("w",["ww",2,!1],"wo",function(n,o){return function Mp(n){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:co()).week(n,arguments.length>2?arguments[2]:void 0)}(n,o.locale).toString(10)}),Nn("W",["WW",2,!1],"Wo",function(n){return function eC(n,o){return Fh(n,1,4,o).week}(n).toString(10)}),$o("week","w"),$o("isoWeek","W"),Xo("week",5),Xo("isoWeek",5),mn("w",ur),mn("ww",ur,Xa),mn("W",ur),mn("WW",ur,Xa),Gg(["w","ww","W","WW"],function(n,o,t,i){return o[i.substr(0,1)]=pi(n),t})}(),function qpe(){Nn(null,["gg",2,!1],null,function(n,o){return(tC(n,o.locale)%100).toString()}),Nn(null,["GG",2,!1],null,function(n){return(t2(n)%100).toString()}),gb("gggg",Xk),gb("ggggg",Xk),gb("GGGG",e2),gb("GGGGG",e2),$o("weekYear","gg"),$o("isoWeekYear","GG"),Xo("weekYear",1),Xo("isoWeekYear",1),mn("G",db),mn("g",db),mn("GG",ur,Xa),mn("gg",ur,Xa),mn("GGGG",Gx,Vx),mn("gggg",Gx,Vx),mn("GGGGG",cb,sb),mn("ggggg",cb,sb),Gg(["gggg","ggggg","GGGG","GGGGG"],function(n,o,t,i){return o[i.substr(0,2)]=pi(n),t}),Gg(["gg","GG"],function(n,o,t,i){return o[i]=zx(n),t})}(),function _pe(){Nn("Y",null,null,function(n,o){var t=kr(n,o.isUTC);return t<=9999?t.toString(10):"+".concat(t)}),Nn(null,["YY",2,!1],null,function(n,o){return(kr(n,o.isUTC)%100).toString(10)}),Nn(null,["YYYY",4,!1],null,Qx),Nn(null,["YYYYY",5,!1],null,Qx),Nn(null,["YYYYYY",6,!0],null,Qx),$o("year","y"),Xo("year",1),mn("Y",db),mn("YY",ur,Xa),mn("YYYY",Gx,Vx),mn("YYYYY",cb,sb),mn("YYYYYY",cb,sb),pr(["YYYYY","YYYYYY"],0),pr("YYYY",function(n,o,t){return o[0]=2===n.length?zx(n):pi(n),t}),pr("YY",function(n,o,t){return o[0]=zx(n),t}),pr("Y",function(n,o,t){return o[0]=parseInt(n,10),t})}(),function Hpe(){Nn("z",null,null,function(n,o){return o.isUTC?"UTC":""}),Nn("zz",null,null,function(n,o){return o.isUTC?"Coordinated Universal Time":""})}(),function Bpe(){Nn("X",null,null,function(n){return function rpe(n){return Math.floor(n.valueOf()/1e3)}(n).toString(10)}),Nn("x",null,null,function(n){return n.valueOf().toString(10)}),mn("x",db),mn("X",dpe),pr("X",function(n,o,t){return t._d=new Date(1e3*parseFloat(n)),t}),pr("x",function(n,o,t){return t._d=new Date(pi(n)),t})}(),function Vpe(){Nn("s",["ss",2,!1],null,function(n,o){return Bx(n,o.isUTC).toString(10)}),$o("second","s"),Xo("second",15),mn("s",ur),mn("ss",ur,Xa),pr(["s","ss"],5)}(),function Gpe(){Nn("Q",null,"Qo",function(n,o){return function Wpe(n){return Math.ceil((hi(n,arguments.length>1&&void 0!==arguments[1]&&arguments[1])+1)/3)}(n,o.isUTC).toString(10)}),$o("quarter","Q"),Xo("quarter",7),mn("Q",qk),pr("Q",function(n,o,t){return o[1]=3*(pi(n)-1),t})}(),function Qpe(){r2("Z",":"),r2("ZZ",""),mn("Z",ub),mn("ZZ",ub),pr(["Z","ZZ"],function(n,o,t){return t._useUTC=!0,t._tzm=function nC(n,o){var t=(o||"").match(n);if(null===t)return null;var r=t[t.length-1].match(zpe)||["-","0","0"],a=60*parseInt(r[1],10)+pi(r[2]);return 0===a?0:"+"===r[0]?a:-a}(ub,n),t})}(),function vpe(){Nn("M",["MM",2,!1],"Mo",function(n,o){return(hi(n,o.isUTC)+1).toString(10)}),Nn("MMM",null,null,function(n,o){return o.locale.monthsShort(n,o.format,o.isUTC)}),Nn("MMMM",null,null,function(n,o){return o.locale.months(n,o.format,o.isUTC)}),$o("month","M"),Xo("month",8),mn("M",ur),mn("MM",ur,Xa),mn("MMM",function(n,o){return o.monthsShortRegex(n)}),mn("MMMM",function(n,o){return o.monthsRegex(n)}),pr(["M","MM"],function(n,o,t){return o[1]=pi(n)-1,t}),pr(["MMM","MMMM"],function(n,o,t,i){var r=t._locale.monthsParse(n,i,t._strict);return null!=r?o[1]=r:ki(t).invalidMonth=!!n,t})}(),function $pe(){Nn("m",["mm",2,!1],null,function(n,o){return Eh(n,o.isUTC).toString(10)}),$o("minute","m"),Xo("minute",14),mn("m",ur),mn("mm",ur,Xa),pr(["m","mm"],4)}(),function Xpe(){var n;for(Nn("S",null,null,function(t,i){return(~~(pd(t,i.isUTC)/100)).toString(10)}),Nn(null,["SS",2,!1],null,function(t,i){return(~~(pd(t,i.isUTC)/10)).toString(10)}),Nn(null,["SSS",3,!1],null,function(t,i){return pd(t,i.isUTC).toString(10)}),Nn(null,["SSSS",4,!1],null,function(t,i){return(10*pd(t,i.isUTC)).toString(10)}),Nn(null,["SSSSS",5,!1],null,function(t,i){return(100*pd(t,i.isUTC)).toString(10)}),Nn(null,["SSSSSS",6,!1],null,function(t,i){return(1e3*pd(t,i.isUTC)).toString(10)}),Nn(null,["SSSSSSS",7,!1],null,function(t,i){return(1e4*pd(t,i.isUTC)).toString(10)}),Nn(null,["SSSSSSSS",8,!1],null,function(t,i){return(1e5*pd(t,i.isUTC)).toString(10)}),Nn(null,["SSSSSSSSS",9,!1],null,function(t,i){return(1e6*pd(t,i.isUTC)).toString(10)}),$o("millisecond","ms"),Xo("millisecond",16),mn("S",lb,qk),mn("SS",lb,Xa),mn("SSS",lb,Jk),n="SSSS";n.length<=9;n+="S")mn(n,lpe);function o(t,i,r){return i[6]=pi(1e3*parseFloat("0.".concat(t))),r}for(n="S";n.length<=9;n+="S")pr(n,o)}(),function efe(){function n(r,a){return fi(r,a)%12||12}function t(r,a){Nn(r,null,null,function(s,l){return l.locale.meridiem(fi(s,l.isUTC),Eh(s,l.isUTC),a)})}function i(r,a){return a._meridiemParse}Nn("H",["HH",2,!1],null,function(r,a){return fi(r,a.isUTC).toString(10)}),Nn("h",["hh",2,!1],null,function(r,a){return n(r,a.isUTC).toString(10)}),Nn("k",["kk",2,!1],null,function(r,a){return function o(r,a){return fi(r,a)||24}(r,a.isUTC).toString(10)}),Nn("hmm",null,null,function(r,a){var s=n(r,a.isUTC),l=ud(Eh(r,a.isUTC),2);return"".concat(s).concat(l)}),Nn("hmmss",null,null,function(r,a){var s=n(r,a.isUTC),l=ud(Eh(r,a.isUTC),2),c=ud(Bx(r,a.isUTC),2);return"".concat(s).concat(l).concat(c)}),Nn("Hmm",null,null,function(r,a){var s=fi(r,a.isUTC),l=ud(Eh(r,a.isUTC),2);return"".concat(s).concat(l)}),Nn("Hmmss",null,null,function(r,a){var s=fi(r,a.isUTC),l=ud(Eh(r,a.isUTC),2),c=ud(Bx(r,a.isUTC),2);return"".concat(s).concat(l).concat(c)}),t("a",!0),t("A",!1),$o("hour","h"),Xo("hour",13),mn("a",i),mn("A",i),mn("H",ur),mn("h",ur),mn("k",ur),mn("HH",ur,Xa),mn("hh",ur,Xa),mn("kk",ur,Xa),mn("hmm",Hk),mn("hmmss",Bk),mn("Hmm",Hk),mn("Hmmss",Bk),pr(["H","HH"],3),pr(["k","kk"],function(r,a,s){var l=pi(r);return a[3]=24===l?0:l,s}),pr(["a","A"],function(r,a,s){return s._isPm=s._locale.isPM(r),s._meridiem=r,s}),pr(["h","hh"],function(r,a,s){return a[3]=pi(r),ki(s).bigHour=!0,s}),pr("hmm",function(r,a,s){var l=r.length-2;return a[3]=pi(r.substr(0,l)),a[4]=pi(r.substr(l)),ki(s).bigHour=!0,s}),pr("hmmss",function(r,a,s){var l=r.length-4,c=r.length-2;return a[3]=pi(r.substr(0,l)),a[4]=pi(r.substr(l,2)),a[5]=pi(r.substr(c)),ki(s).bigHour=!0,s}),pr("Hmm",function(r,a,s){var l=r.length-2;return a[3]=pi(r.substr(0,l)),a[4]=pi(r.substr(l)),s}),pr("Hmmss",function(r,a,s){var l=r.length-4,c=r.length-2;return a[3]=pi(r.substr(0,l)),a[4]=pi(r.substr(l,2)),a[5]=pi(r.substr(c)),s})}(),function kpe(){Nn("DDD",["DDDD",3,!1],"DDDo",function(n){return Xx(n).toString(10)}),$o("dayOfYear","DDD"),Xo("dayOfYear",4),mn("DDD",lb),mn("DDDD",Jk),pr(["DDD","DDDD"],function(n,o,t){return t._dayOfYear=pi(n),t})}(),function jfe(){Nn("d",null,"do",function(n,o){return oc(n,o.isUTC).toString(10)}),Nn("dd",null,null,function(n,o){return o.locale.weekdaysMin(n,o.format,o.isUTC)}),Nn("ddd",null,null,function(n,o){return o.locale.weekdaysShort(n,o.format,o.isUTC)}),Nn("dddd",null,null,function(n,o){return o.locale.weekdays(n,o.format,o.isUTC)}),Nn("e",null,null,function(n,o){return uC(n,o.locale,o.isUTC).toString(10)}),Nn("E",null,null,function(n,o){return function y2(n,o){return oc(n,o)||7}(n,o.isUTC).toString(10)}),$o("day","d"),$o("weekday","e"),$o("isoWeekday","E"),Xo("day",11),Xo("weekday",11),Xo("isoWeekday",11),mn("d",ur),mn("e",ur),mn("E",ur),mn("dd",function(n,o){return o.weekdaysMinRegex(n)}),mn("ddd",function(n,o){return o.weekdaysShortRegex(n)}),mn("dddd",function(n,o){return o.weekdaysRegex(n)}),Gg(["dd","ddd","dddd"],function(n,o,t,i){var r=t._locale.weekdaysParse(n,i,t._strict);return null!=r?o.d=r:ki(t).invalidWeekday=!!n,t}),Gg(["d","e","E"],function(n,o,t,i){return o[i]=pi(n),t})}(),function mpe(){Nn("D",["DD",2,!1],"Do",function(n,o){return wp(n,o.isUTC).toString(10)}),$o("date","D"),Xo("date",9),mn("D",ur),mn("DD",ur,Xa),mn("Do",function(n,o){return o._dayOfMonthOrdinalParse||o._ordinalParse}),pr(["D","DD"],2),pr("Do",function(n,o,t){return o[2]=pi(n.match(ur)[0]),t})}())}(),n?function tfe(n){for(var o,t,i=0;i<n.length;){var r=a2(n[i]).split("-"),a=r.length;for(o=(o=a2(n[i+1]))?o.split("-"):null;a>0;){if(t=l2(r.slice(0,a).join("-")))return t;if(o&&o.length>=a&&jpe(r,o,!0)>=a-1)break;a--}i++}return null}(_r(n)?n:[n]):zg}var Kg=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],ife=Kg.reduce(function(n,o){return n[o]=!0,n},{});function rfe(n){if(Object.keys(n).some(function(r){return r in ife&&null===n[r]||isNaN(n[r])}))return!1;for(var t=!1,i=0;i<Kg.length;++i)if(n[Kg[i]]){if(t)return!1;n[Kg[i]]!==pi(n[Kg[i]])&&(t=!0)}return!0}function d2(n){return n<0?Math.floor(n):Math.ceil(n)}function ofe(n){var o=n._milliseconds,t=n._days,i=n._months,r=n._data;o>=0&&t>=0&&i>=0||o<=0&&t<=0&&i<=0||(o+=864e5*d2(rC(i)+t),t=0,i=0),r.milliseconds=o%1e3;var a=bp(o/1e3);r.seconds=a%60;var s=bp(a/60);r.minutes=s%60;var l=bp(s/60);r.hours=l%24,t+=bp(l/24);var c=bp(u2(t));i+=c,t-=d2(rC(c));var u=bp(i/12);return i%=12,r.day=t,r.month=i,r.year=u,n}function u2(n){return 4800*n/146097}function rC(n){return 146097*n/4800}var iu=Math.round,ac_ss=44,ac_s=45,ac_m=45,ac_h=22,ac_d=26,ac_M=11;function afe(n,o,t,i,r){return r.relativeTime(o||1,!!t,n,i)}var p2=function(){function n(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,I.Z)(this,n),this._data={},this._locale=co(),this._locale=t&&t._locale||co();var i=o,r=i.year||0,a=i.quarter||0,s=i.month||0,l=i.week||0,c=i.day||0,u=i.hours||0,h=i.minutes||0,x=i.seconds||0,T=i.milliseconds||0;return this._isValid=rfe(i),this._milliseconds=+T+1e3*x+60*h*1e3+1e3*u*60*60,this._days=+c+7*l,this._months=+s+3*a+12*r,ofe(this)}return(0,M.Z)(n,[{key:"isValid",value:function(){return this._isValid}},{key:"humanize",value:function(t){if(!this.isValid())return this.localeData().invalidDate;var i=this.localeData(),r=function sfe(n,o,t){var i=dC(n).abs(),r=iu(i.as("s")),a=iu(i.as("m")),s=iu(i.as("h")),l=iu(i.as("d")),c=iu(i.as("M")),u=iu(i.as("y")),h=r<=ac_ss&&["s",r]||r<ac_s&&["ss",r]||a<=1&&["m"]||a<ac_m&&["mm",a]||s<=1&&["h"]||s<ac_h&&["hh",s]||l<=1&&["d"]||l<ac_d&&["dd",l]||c<=1&&["M"]||c<ac_M&&["MM",c]||u<=1&&["y"]||["yy",u];return afe.apply(null,[h[0],h[1],o,+n>0,t])}(this,!t,i);return t&&(r=i.pastFuture(+this,r)),i.postformat(r)}},{key:"localeData",value:function(){return this._locale}},{key:"locale",value:function(t){return t?(this._locale=co(t)||this._locale,this):this._locale._abbr}},{key:"abs",value:function(){var t=Math.abs,i=this._data;return this._milliseconds=t(this._milliseconds),this._days=t(this._days),this._months=t(this._months),i.milliseconds=t(i.milliseconds),i.seconds=t(i.seconds),i.minutes=t(i.minutes),i.hours=t(i.hours),i.month=t(i.month),i.year=t(i.year),this}},{key:"as",value:function(t){if(!this.isValid())return NaN;var i,r,a=this._milliseconds,s=jk(t);if("month"===s||"year"===s)return r=this._months+u2(i=this._days+a/864e5),"month"===s?r:r/12;switch(i=this._days+Math.round(rC(this._months)),s){case"week":return i/7+a/6048e5;case"day":return i+a/864e5;case"hours":return 24*i+a/36e5;case"minutes":return 1440*i+a/6e4;case"seconds":return 86400*i+a/1e3;case"milliseconds":return Math.floor(864e5*i)+a;default:throw new Error("Unknown unit ".concat(s))}}},{key:"valueOf",value:function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*pi(this._months/12):NaN}}]),n}();function oC(n){if(null==n._isValid){var o=ki(n),t=Array.prototype.some.call(o.parsedDateParts,function(r){return null!=r}),i=!isNaN(n._d&&n._d.getTime())&&o.overflow<0&&!o.empty&&!o.invalidMonth&&!o.invalidWeekday&&!o.weekdayMismatch&&!o.nullInput&&!o.invalidFormat&&!o.userInvalidated&&(!o.meridiem||o.meridiem&&t);if(n._strict&&(i=i&&0===o.charsLeftOver&&0===o.unusedTokens.length&&void 0===o.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return i;n._isValid=i}return n._isValid}function vb(n,o){return n._d=new Date(NaN),Object.assign(ki(n),o||{userInvalidated:!0}),n}var dfe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ufe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pfe=/Z|[+-]\d\d(?::?\d\d)?/,bb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],aC=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ffe=/^\/?Date\((\-?\d+)/i,hfe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},mfe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function f2(n){if(!ga(n._i))return n;var i,r,a,s,l,c,o=n._i,t=dfe.exec(o)||ufe.exec(o);if(!t)return n._isValid=!1,n;for(l=0,c=bb.length;l<c;l++)if(bb[l][1].exec(t[1])){r=bb[l][0],i=!1!==bb[l][2];break}if(null==r)return n._isValid=!1,n;if(t[3]){for(l=0,c=aC.length;l<c;l++)if(aC[l][1].exec(t[3])){a=(t[2]||" ")+aC[l][0];break}if(null==a)return n._isValid=!1,n}if(!i&&null!=a)return n._isValid=!1,n;if(t[4]){if(!pfe.exec(t[4]))return n._isValid=!1,n;s="Z"}return n._f=r+(a||"")+(s||""),lC(n)}function _fe(n){var o=parseInt(n,10);return o<=49?o+2e3:o}function h2(n){if(!ga(n._i))return n;var o=mfe.exec(function vfe(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n._i));if(!o)return function cfe(n){return n._isValid=!1,n}(n);var t=function gfe(n,o,t,i,r,a){var s=[_fe(n),Wk.indexOf(o),parseInt(t,10),parseInt(i,10),parseInt(r,10)];return a&&s.push(parseInt(a,10)),s}(o[4],o[3],o[2],o[5],o[6],o[7]);return function bfe(n,o,t){return!n||Qk.indexOf(n)===new Date(o[0],o[1],o[2]).getDay()||(ki(t).weekdayMismatch=!0,t._isValid=!1,!1)}(o[1],t,n)&&(n._a=t,n._tzm=function yfe(n,o,t){if(n)return hfe[n];if(o)return 0;var i=parseInt(t,10),r=i%100;return(i-r)/100*60+r}(o[8],o[9],o[10]),n._d=ob.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),ki(n).rfc2822=!0),n}function ws(n,o,t,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=co(t||"en");if(!a)throw new Error('Locale "'.concat(t,'" is not defined, please add it with "defineLocale(...)"'));var s=o||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),l=Cfe(n,s,a,i,r);return l&&a.postformat(l)}function Cfe(n,o,t,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!tu(n))return t.invalidDate;var a=m2(o,t);return Hx[a]=Hx[a]||tpe(a),Hx[a](n,t,i,r)}function m2(n,o){var t=n,i=5,r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,a=function(l){return o.formatLongDate(l)||l};for(r.lastIndex=0;i>=0&&r.test(t);)t=t.replace(r,a),r.lastIndex=0,i-=1;return t}function Zh(n,o,t){return null!=n?n:null!=o?o:t}function sC(n){var t,i,r,o=[];if(n._d)return n;var a=function Tfe(n){var o=new Date;return n._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()]}(n);for(n._w&&null==n._a[2]&&null==n._a[1]&&function wfe(n){var o,t,i,r,a,s,l,c=n._w;if(null!=c.GG||null!=c.W||null!=c.E)r=1,a=4,o=Zh(c.GG,n._a[0],Fh(new Date,1,4).year),t=Zh(c.W,1),((i=Zh(c.E,1))<1||i>7)&&(l=!0);else{r=n._locale._week.dow,a=n._locale._week.doy;var u=Fh(new Date,r,a);o=Zh(c.gg,n._a[0],u.year),t=Zh(c.w,u.week),null!=c.d?((i=c.d)<0||i>6)&&(l=!0):null!=c.e?(i=c.e+r,(c.e<0||c.e>6)&&(l=!0)):i=r}t<1||t>kp(o,r,a)?ki(n)._overflowWeeks=!0:null!=l?ki(n)._overflowWeekday=!0:(s=function Vk(n,o,t,i,r){var c,u,l=1+7*(o-1)+(7+t-i)%7+mb(n,i,r);return l<=0?u=Wg(c=n-1)+l:l>Wg(n)?(c=n+1,u=l-Wg(n)):(c=n,u=l),{year:c,dayOfYear:u}}(o,t,i,r,a),n._a[0]=s.year,n._dayOfYear=s.dayOfYear)}(n),null!=n._dayOfYear&&(r=Zh(n._a[0],a[0]),(n._dayOfYear>Wg(r)||0===n._dayOfYear)&&(ki(n)._overflowDayOfYear=!0),i=new Date(Date.UTC(r,0,n._dayOfYear)),n._a[1]=i.getUTCMonth(),n._a[2]=i.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=o[t]=a[t];for(;t<7;t++)n._a[t]=o[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[3]&&0===n._a[4]&&0===n._a[5]&&0===n._a[6]&&(n._nextDay=!0,n._a[3]=0),n._d=(n._useUTC?ob:ab).apply(null,o);var s=n._useUTC?n._d.getUTCDay():n._d.getDay();return null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[3]=24),n._w&&void 0!==n._w.d&&n._w.d!==s&&(ki(n).weekdayMismatch=!0),n}function g2(n){var o,t=n._a;return t&&-2===ki(n).overflow&&(o=t[1]<0||t[1]>11?1:t[2]<1||t[2]>fb(t[0],t[1])?2:t[3]<0||t[3]>24||24===t[3]&&(0!==t[4]||0!==t[5]||0!==t[6])?3:t[4]<0||t[4]>59?4:t[5]<0||t[5]>59?5:t[6]<0||t[6]>999?6:-1,ki(n)._overflowDayOfYear&&(o<0||o>2)&&(o=2),ki(n)._overflowWeeks&&-1===o&&(o=7),ki(n)._overflowWeekday&&-1===o&&(o=8),ki(n).overflow=o),n}function lC(n){if("ISO_8601"===n._f)return f2(n);if("RFC_2822"===n._f)return h2(n);if(n._a=[],ki(n).empty=!0,_r(n._f)||!n._i&&0!==n._i)return n;var a,s,l,c,o=n._i.toString(),t=0,i=o.length,r=m2(n._f,n._locale).match(Yk)||[];for(a=0;a<r.length;a++)(l=(o.match(upe(s=r[a],n._locale))||[])[0])&&((c=o.substr(0,o.indexOf(l))).length>0&&ki(n).unusedInput.push(c),o=o.slice(o.indexOf(l)+l.length),t+=l.length),Ph[s]?(l?ki(n).empty=!1:ki(n).unusedTokens.push(s),fpe(s,l,n)):n._strict&&!l&&ki(n).unusedTokens.push(s);return ki(n).charsLeftOver=i-t,o.length>0&&ki(n).unusedInput.push(o),n._a[3]<=12&&!0===ki(n).bigHour&&n._a[3]>0&&(ki(n).bigHour=void 0),ki(n).parsedDateParts=n._a.slice(0),ki(n).meridiem=n._meridiem,n._a[3]=function kfe(n,o,t){var i=o;if(null==t)return i;if(null!=n.meridiemHour)return n.meridiemHour(i,t);if(null==n.isPM)return i;var r=n.isPM(t);return r&&i<12&&(i+=12),!r&&12===i&&(i=0),i}(n._locale,n._a[3],n._meridiem),sC(n),g2(n)}function Ofe(n){var o=g2(function Pfe(n){var o=n._i,t=n._f;return n._locale=n._locale||co(n._l),null===o||void 0===t&&""===o?vb(n,{nullInput:!0}):(ga(o)&&(n._i=o=n._locale.preparse(o,t)),rb(o)?(n._d=fd(o),n):(_r(t)?function Afe(n){var o,t,i,r,a;if(!n._f||0===n._f.length)return ki(n).invalidFormat=!0,vb(n);for(a=0;a<n._f.length;a++)r=0,o=Object.assign({},n),null!=n._useUTC&&(o._useUTC=n._useUTC),o._f=n._f[a],lC(o),oC(o)&&(r+=ki(o).charsLeftOver,r+=10*ki(o).unusedTokens.length,ki(o).score=r,(null==i||r<i)&&(i=r,t=o));Object.assign(n,t||o)}(n):t?lC(n):function Efe(n){var o=n._i;if(Lk(o))n._d=new Date;else if(rb(o))n._d=fd(o);else if(ga(o))!function xfe(n){if(!ga(n._i))return n;var o=ffe.exec(n._i);null!==o?n._d=new Date(+o[1]):(f2(n),!1!==n._isValid||(delete n._isValid,h2(n),!1!==n._isValid||(delete n._isValid,vb(n))))}(n);else if(_r(o)&&o.length){var t=o.slice(0);n._a=t.map(function(i){return ga(i)?parseInt(i,10):i}),sC(n)}else if(Cp(o))!function Mfe(n){if(n._d)return n;var o=n._i;if(Cp(o)){var t=function $ue(n){var t,i,o={};for(i in n)Ko(n,i)&&(t=jk(i))&&(o[t]=n[i]);return o}(o);n._a=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds,t.milliseconds].map(function(i){return ga(i)?parseInt(i,10):i})}return sC(n)}(n);else{if(!xp(o))return vb(n);n._d=new Date(o)}}(n),oC(n)||(n._d=null),n))}(n));return o._d=new Date(null!=o._d?o._d.getTime():NaN),oC(Object.assign({},o,{_isValid:null}))||(o._d=new Date(NaN)),o}function $g(n,o,t,i,r){return rb(n)?n:function Ife(n,o,t,i,r){var a={},s=n;return(Cp(s)&&function Kue(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;var o;for(o in n)if(n.hasOwnProperty(o))return!1;return!0}(s)||_r(s)&&0===s.length)&&(s=void 0),a._useUTC=a._isUTC=r,a._l=t,a._i=s,a._f=o,a._strict=i,Ofe(a)}(n,o,t,i,r)._d}function _2(n){return n instanceof Date?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):null}function cC(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function hl(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"milliseconds";return!(!n||!o)&&("milliseconds"===t?n.valueOf()>o.valueOf():o.valueOf()<hd(n,t).valueOf())}function sc(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"milliseconds";return!(!n||!o)&&("milliseconds"===t?n.valueOf()<o.valueOf():hb(n,t).valueOf()<o.valueOf())}function Lh(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"milliseconds";if(!n||!o)return!1;if("milliseconds"===t)return n.valueOf()===o.valueOf();var i=o.valueOf();return hd(n,t).valueOf()<=i&&i<=hb(n,t).valueOf()}var Rfe=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ffe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function dC(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Zfe(n,o);return new p2(i,t)}function Zfe(n,o){if(null==n)return{};if(function lfe(n){return n instanceof p2}(n))return{milliseconds:n._milliseconds,day:n._days,month:n._months};if(xp(n))return o?(0,B.Z)({},o,n):{milliseconds:n};if(ga(n)){var t=Rfe.exec(n);if(t){var i="-"===t[1]?-1:1;return{year:0,day:pi(t[2])*i,hours:pi(t[3])*i,minutes:pi(t[4])*i,seconds:pi(t[5])*i,milliseconds:pi(cC(1e3*pi(t[6])))*i}}if(t=Ffe.exec(n)){var r="-"===t[1]?-1:1;return{year:Pp(t[2],r),month:Pp(t[3],r),week:Pp(t[4],r),day:Pp(t[5],r),hours:Pp(t[6],r),minutes:Pp(t[7],r),seconds:Pp(t[8],r)}}}if(Cp(n)&&("from"in n||"to"in n)){var a=function Lfe(n,o){if(!tu(n)||!tu(o))return{milliseconds:0,months:0};var t,i=function Kpe(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t._isUTC)return n;var i=fd(o),r=6e4*(t._offset||0),a=n.valueOf()-i.valueOf()+r;return i.setTime(i.valueOf()+a),i}(o,n,{_offset:n.getTimezoneOffset()});return sc(n,i)?t=v2(n,i):((t=v2(i,n)).milliseconds=-t.milliseconds,t.months=-t.months),t}($g(n.from),$g(n.to));return{milliseconds:a.milliseconds,month:a.months}}return n}function Pp(n,o){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*o}function v2(n,o){var t={milliseconds:0,months:0};return t.months=hi(o)-hi(n)+12*(kr(o)-kr(n)),hl(lc(fd(n),t.months,"month"),o)&&--t.months,t.milliseconds=+o-+lc(fd(n),t.months,"month"),t}function lc(n,o,t,i){return b2(n,dC(o,t),1,i)}function b2(n,o,t,i){var r=o._milliseconds,a=cC(o._days),s=cC(o._months);return s&&Sp(n,hi(n,i)+s*t,i),a&&$x(n,wp(n,i)+a*t,i),r&&function Spe(n,o){n.setTime(o)}(n,function ipe(n){return n.getTime()}(n)+r*t),fd(n)}function Yfe(n,o){if(!ga(n))return n;var t=parseInt(n,10);if(!isNaN(t))return t;var i=o.weekdaysParse(n);return xp(i)?i:null}function qfe(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:co();return ga(n)?o.weekdaysParse(n)%7||7:xp(n)&&isNaN(n)?null:n}function Xg(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:co(),i=arguments.length>3?arguments[3]:void 0,r=oc(n,i),a=Yfe(o,t);return lc(n,a-r,"day")}function eo(n,o){return oc(n,o)}function uC(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:co(),t=arguments.length>2?arguments[2]:void 0;return(oc(n,t)+7-o.firstDayOfWeek())%7}var x2=function(o){return 0===o?0:1===o?1:2===o?2:o%100>=3&&o%100<=10?3:o%100>=11?4:5},Gfe={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Ds=function(o){return function(t,i){var r=x2(t),a=Gfe[o][x2(t)];return 2===r&&(a=a[i?0:1]),a.replace(/%d/i,t.toString())}},fC=("\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),Ds("s"),Ds("s"),Ds("m"),Ds("m"),Ds("h"),Ds("h"),Ds("d"),Ds("d"),Ds("M"),Ds("M"),Ds("y"),Ds("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_"),"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_")),hC="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(n,o){var t,i=[];for(t=0;t<12;t++)i[t]=new RegExp("^"+n[t]+"$|^"+o[t]+"$","i")})(fC,hC),function(n){var o,t=[];for(o=0;o<12;o++)t[o]=new RegExp("^"+n[o]+"$","i")}(hC),function(n){var o,t=[];for(o=0;o<12;o++)t[o]=new RegExp("^"+n[o]+"$","i")}(fC),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");var j2={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(o){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===o},meridiem:function(o,t,i){return o<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse:function(o,t){var i=j2.longDateFormat[t]?j2.longDateFormat[t]:t;return-1!==i.indexOf("YYYY",i.length-4)?o.substr(0,o.length-4)+(parseInt(o.substr(o.length-4),10)-543):o},getFullYear:function(o){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 543+(t?o.getUTCFullYear():o.getFullYear())}};function Hh(n){return function(o){return n+"\u043e"+(11===fi(o)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),Hh("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),Hh("[\u0417\u0430\u0432\u0442\u0440\u0430 "),Hh("[\u0412\u0447\u043e\u0440\u0430 "),Hh("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");var hhe=J(39841),ghe=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i,r){var a;return(0,I.Z)(this,t),(a=o.call(this,i,r)).scheduler=i,a.work=r,a}return(0,M.Z)(t,[{key:"schedule",value:function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a>0?(0,xs.Z)((0,Qa.Z)(t.prototype),"schedule",this).call(this,r,a):(this.delay=a,this.state=r,this.scheduler.flush(this),this)}},{key:"execute",value:function(r,a){return a>0||this.closed?(0,xs.Z)((0,Qa.Z)(t.prototype),"execute",this).call(this,r,a):this._execute(r,a)}},{key:"requestAsyncId",value:function(r,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=s&&s>0||null==s&&this.delay>0?(0,xs.Z)((0,Qa.Z)(t.prototype),"requestAsyncId",this).call(this,r,a,s):(r.flush(this),0)}}]),t}(J(84408).o),bhe=new(function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(){return(0,I.Z)(this,t),o.apply(this,arguments)}return(0,M.Z)(t)}(J(97565).v))(ghe),yhe=J(85363),xhe=J(75026),Y2=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i,r,a){var s;return(0,I.Z)(this,t),s=o.call(this,i),r.pipe((0,yhe.Q)(bhe)).pipe((0,xhe.R)(function(u,h){return h?a(u,h):u},i)).subscribe(function(u){return s.next(u)}),s}return(0,M.Z)(t)}(_i.X),q2=function(n){(0,Ke.Z)(t,n);var o=(0,Xe.Z)(t);function t(i,r,a){var s;return(0,I.Z)(this,t),(s=o.call(this))._dispatcher=i,s._reducer=r,s.source=a,s}return(0,M.Z)(t,[{key:"select",value:function(r){var a;return((null===(a=this.source)||void 0===a?void 0:a.pipe((0,Oe.U)(r)))||(new A.y).pipe((0,Oe.U)(r))).pipe((0,Gi.x)())}},{key:"lift",value:function(r){var a=new t(this._dispatcher,this._reducer,this);return a.operator=r,a}},{key:"dispatch",value:function(r){this._dispatcher.next(r)}},{key:"next",value:function(r){this._dispatcher.next(r)}},{key:"error",value:function(r){this._dispatcher.error(r)}},{key:"complete",value:function(){}}]),t}(A.y),Che=function(){function n(o,t){(0,I.Z)(this,n),this.open=o,this.close=t||o}return(0,M.Z)(n,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),n}(),The={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function wC(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:The,t=(n||"").trim();if(0===t.length)return[];var i=t.split(/\s+/).map(function(a){return a.split(":")}).map(function(a){var s=o[a[0]]||a;return new Che(s[0],s[1])}),r=i.filter(function(a){return a.isManual()});if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}var es,Ar="undefined"!=typeof window&&window||{};function DC(){if(void 0===Ar.document)return"bs4";var n=Ar.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),Ar.document.head.appendChild(n);var o=n.getBoundingClientRect(),t=Ar.getComputedStyle(n).paddingLeft;return!o||o&&0!==o.top?(Ar.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(Ar.document.head.removeChild(n),"bs4"):(Ar.document.head.removeChild(n),"bs5")}function SC(){return void 0===Ar||(void 0===Ar.__theme?(es||(es=DC()),"bs3"===es):"bs3"===Ar.__theme)}function J2(){return!SC()&&(es||(es=DC()),"bs4"===es)}function Bh(){return{isBs3:SC(),isBs4:J2(),isBs5:!SC()&&!J2()&&(es||(es=DC()),"bs5"===es)}}function Mhe(){var n="Change";return function(t,i){var r=" __".concat(i,"Value");Object.defineProperty(t,i,{get:function(){return this[r]},set:function(s){var l=this[r];this[r]=s,l!==s&&this[i+n]&&this[i+n].emit(s)}})}}var H2={},Ohe="undefined"==typeof console||!("warn"in console);function ts(n){!(0,e.X6Q)()||Ohe||n in H2||(H2[n]=!0,console.warn(n))}var xb=function(){return(n=xb||(xb={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",xb;var n}(),Vh=function(){return(n=Vh||(Vh={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",Vh;var n}();function Rp(n,o){if(1!==n.nodeType)return[];var t=n.ownerDocument.defaultView,i=null==t?void 0:t.getComputedStyle(n,null);return o?i&&i[o]:i}function kC(n){if(!n)return document.documentElement;for(var t=null==n?void 0:n.offsetParent,i=void 0;null===t&&n.nextElementSibling&&i!==n.nextElementSibling;)t=(i=n.nextElementSibling).offsetParent;var r=t&&t.nodeName;return r&&"BODY"!==r&&"HTML"!==r?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===Rp(t,"position")?kC(t):t:i?i.ownerDocument.documentElement:document.documentElement}function AC(n){return null!==n.parentNode?AC(n.parentNode):n}function Cb(n,o){if(!(n&&n.nodeType&&o&&o.nodeType))return document.documentElement;var t=n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING,i=t?n:o,r=t?o:n,a=document.createRange();a.setStart(i,0),a.setEnd(r,0);var s=a.commonAncestorContainer;if(n!==s&&o!==s||i.contains(r))return function Phe(n){var o=n.nodeName;return"BODY"!==o&&("HTML"===o||kC(n.firstElementChild)===n)}(s)?s:kC(s);var l=AC(n);return l.host?Cb(l.host,o):Cb(n,AC(o).host)}function B2(n){if(!n||!n.parentElement)return document.documentElement;for(var o=n.parentElement;(null==o?void 0:o.parentElement)&&"none"===Rp(o,"transform");)o=o.parentElement;return o||document.documentElement}function V2(n,o){var t="x"===o?"Left":"Top",i="Left"===t?"Right":"Bottom";return parseFloat(n["border".concat(t,"Width")])+parseFloat(n["border".concat(i,"Width")])}function G2(n,o,t,i){var r=o,a=t;return Math.max(r["offset".concat(n)],r["scroll".concat(n)],a["client".concat(n)],a["offset".concat(n)],a["scroll".concat(n)],0)}function W2(n){var o=n.body,t=n.documentElement;return{height:G2("Height",o,t),width:G2("Width",o,t)}}function t_(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function vr(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function Q2(n){var o=n.getBoundingClientRect();if(!(o&&vr(o.top)&&vr(o.left)&&vr(o.bottom)&&vr(o.right)))return o;var t={left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top},i="HTML"===n.nodeName?W2(n.ownerDocument):void 0,r=(null==i?void 0:i.width)||n.clientWidth||vr(o.right)&&vr(t.left)&&o.right-t.left||0,a=(null==i?void 0:i.height)||n.clientHeight||vr(o.bottom)&&vr(t.top)&&o.bottom-t.top||0,s=n.offsetWidth-r,l=n.offsetHeight-a;if(s||l){var c=Rp(n);s-=V2(c,"x"),l-=V2(c,"y"),t.width-=s,t.height-=l}return t_(t)}function MC(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function OC(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}var o=Rp(n),i=o.overflowX,r=o.overflowY;return/(auto|scroll|overlay)/.test(String(o.overflow)+String(r)+String(i))?n:OC(MC(n))}function PC(n,o){var i,r,a,s,l,c,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="HTML"===o.nodeName,h=Q2(n),x=Q2(o),O=(OC(n),Rp(o)),U=parseFloat(O.borderTopWidth),re=parseFloat(O.borderLeftWidth);t&&u&&(x.top=Math.max(null!==(i=x.top)&&void 0!==i?i:0,0),x.left=Math.max(null!==(r=x.left)&&void 0!==r?r:0,0));var de=t_({top:(null!==(a=h.top)&&void 0!==a?a:0)-(null!==(s=x.top)&&void 0!==s?s:0)-U,left:(null!==(l=h.left)&&void 0!==l?l:0)-(null!==(c=x.left)&&void 0!==c?c:0)-re,width:h.width,height:h.height});if(de.marginTop=0,de.marginLeft=0,u){var ve=parseFloat(O.marginTop),Ne=parseFloat(O.marginLeft);vr(de.top)&&(de.top-=U-ve),vr(de.bottom)&&(de.bottom-=U-ve),vr(de.left)&&(de.left-=re-Ne),vr(de.right)&&(de.right-=re-Ne),de.marginTop=ve,de.marginLeft=Ne}return de}function z2(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",t="top"===o?"scrollTop":"scrollLeft",i=n.nodeName;if("BODY"===i||"HTML"===i){var r=n.ownerDocument.documentElement,a=n.ownerDocument.scrollingElement||r;return a[t]}return n[t]}function Ihe(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=n.ownerDocument.documentElement,i=PC(n,t),r=Math.max(t.clientWidth,window.innerWidth||0),a=Math.max(t.clientHeight,window.innerHeight||0),s=o?0:z2(t),l=o?0:z2(t,"left"),c={top:s-Number(null==i?void 0:i.top)+Number(null==i?void 0:i.marginTop),left:l-Number(null==i?void 0:i.left)+Number(null==i?void 0:i.marginLeft),width:r,height:a};return t_(c)}function K2(n){var o=n.nodeName;return"BODY"!==o&&"HTML"!==o&&("fixed"===Rp(n,"position")||K2(MC(n)))}function EC(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},s=r?B2(n):Cb(n,o);if("viewport"===i)a=Ihe(s,r);else{var l;"scrollParent"===i?"BODY"===(l=OC(MC(o))).nodeName&&(l=n.ownerDocument.documentElement):l="window"===i?n.ownerDocument.documentElement:i;var c=PC(l,s,r);if(c&&"HTML"===l.nodeName&&!K2(s)){var u=W2(n.ownerDocument),h=u.height,x=u.width;vr(a.top)&&vr(c.top)&&vr(c.marginTop)&&(a.top+=c.top-c.marginTop),vr(a.top)&&(a.bottom=Number(h)+Number(c.top)),vr(a.left)&&vr(c.left)&&vr(c.marginLeft)&&(a.left+=c.left-c.marginLeft),vr(a.top)&&(a.right=Number(x)+Number(c.left))}else c&&(a=c)}return vr(a.left)&&(a.left+=t),vr(a.top)&&(a.top+=t),vr(a.right)&&(a.right-=t),vr(a.bottom)&&(a.bottom-=t),a}function Nhe(n){return n.width*n.height}function $2(n,o,t,i){var l,c,u,h,x,T,O,U,re,de,ve,Ne,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["top","bottom","right","left"],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"viewport",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(-1===n.indexOf("auto"))return n;var De=EC(t,i,s,a),Ge={top:{width:null!==(l=null==De?void 0:De.width)&&void 0!==l?l:0,height:(null!==(c=null==o?void 0:o.top)&&void 0!==c?c:0)-(null!==(u=null==De?void 0:De.top)&&void 0!==u?u:0)},right:{width:(null!==(h=null==De?void 0:De.right)&&void 0!==h?h:0)-(null!==(x=null==o?void 0:o.right)&&void 0!==x?x:0),height:null!==(T=null==De?void 0:De.height)&&void 0!==T?T:0},bottom:{width:null!==(O=null==De?void 0:De.width)&&void 0!==O?O:0,height:(null!==(U=null==De?void 0:De.bottom)&&void 0!==U?U:0)-(null!==(re=null==o?void 0:o.bottom)&&void 0!==re?re:0)},left:{width:(null!==(de=o.left)&&void 0!==de?de:0)-(null!==(ve=null==De?void 0:De.left)&&void 0!==ve?ve:0),height:null!==(Ne=null==De?void 0:De.height)&&void 0!==Ne?Ne:0}},We=Object.keys(Ge).map(function(Zt){return Object.assign(Object.assign({position:Zt},Ge[Zt]),{area:Nhe(Ge[Zt])})}).sort(function(Zt,Ht){return Ht.area-Zt.area}),gt=We.filter(function(Zt){return Zt.width>=t.clientWidth&&Zt.height>=t.clientHeight}),rt=(gt=gt.filter(function(Zt){var Ht=Zt.position;return r.some(function(Bt){return Bt===Ht})})).length>0?gt[0].position:We[0].position,vt=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(Bh().isBs5?Vh[rt]:rt)),rt+(vt?"-".concat(vt):"")}var Tb=function(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o?parseFloat(o):t};function X2(n){var o=n.ownerDocument.defaultView,t=null==o?void 0:o.getComputedStyle(n),i=Tb(null==t?void 0:t.marginTop)+Tb(null==t?void 0:t.marginBottom),r=Tb(null==t?void 0:t.marginLeft)+Tb(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+r,height:Number(n.offsetHeight)+i}}function eA(n,o,t){return PC(o,t?B2(n):Cb(n,o),t)}function IC(n,o,t){var i,r,a,s=t.split(" ")[0],l=X2(n),c={width:l.width,height:l.height},u=-1!==["right","left"].indexOf(s),h=u?"top":"left",x=u?"left":"top",T=u?"height":"width",O=u?"width":"height";return c[h]=(null!==(i=o[h])&&void 0!==i?i:0)+o[T]/2-l[T]/2,c[x]=s===x?(null!==(r=o[x])&&void 0!==r?r:0)-l[O]:null!==(a=o[function Fhe(n){var o={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,function(t){return o[t]})}(x)])&&void 0!==a?a:0,c}function tA(n,o){var t;return!(null===(t=n.modifiers[o])||void 0===t||!t.enabled)}var Lhe={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function wb(n,o){return!!Bh().isBs5&&Lhe[o].includes(n)}function nA(n,o,t){!n||!o||Object.keys(o).forEach(function(i){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function Ehe(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(o[i])&&(r="px"),t?t.setStyle(n,i,"".concat(String(o[i])).concat(r)):n.style[i]=String(o[i])+r})}function Yhe(n){var o,t,i,r,a,s,l,c=n.offsets.target,u=n.instance.target.querySelector(".arrow");if(!u)return n;var h=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),x=h?"height":"width",T=h?"Top":"Left",O=T.toLowerCase(),U=h?"left":"top",re=h?"bottom":"right",de=X2(u)[x],ve=n.placement.split(" ")[1];(null!==(t=n.offsets.host[re])&&void 0!==t?t:0)-de<(null!==(i=c[O])&&void 0!==i?i:0)&&(c[O]-=(null!==(r=c[O])&&void 0!==r?r:0)-((null!==(a=n.offsets.host[re])&&void 0!==a?a:0)-de)),Number(n.offsets.host[O])+Number(de)>(null!==(s=c[re])&&void 0!==s?s:0)&&(c[O]+=Number(n.offsets.host[O])+Number(de)-Number(c[re])),c=t_(c);var We,Ne=Rp(n.instance.target),De=parseFloat(Ne["margin".concat(T)])||0,Ge=parseFloat(Ne["border".concat(T,"Width")])||0;if(ve){var gt=parseFloat(Ne.borderRadius)||0,rt=Number(De+Ge+gt);We=O===ve?Number(n.offsets.host[O])+rt:Number(n.offsets.host[O])+Number(n.offsets.host[x]-rt)}else We=Number(n.offsets.host[O])+Number(n.offsets.host[x]/2-de/2);var vt=We-(null!==(l=c[O])&&void 0!==l?l:0)-De-Ge;return vt=Math.max(Math.min(c[x]-(de+5),vt),0),n.offsets.arrow=((0,B.Z)(o={},O,Math.round(vt)),(0,B.Z)(o,U,""),o),n.instance.arrow=u,n}function qhe(n){if(n.offsets.target=t_(n.offsets.target),!tA(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),IC(n.instance.target,n.offsets.host,n.placement)),n;var o=EC(n.instance.target,n.instance.host,0,"viewport",!1),t=n.placement.split(" ")[0],i=n.placement.split(" ")[1]||"",l=$2("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),c=[t,l];return c.forEach(function(u,h){var x,T,O,U,re,de,ve,Ne,De,Ge,We,gt,rt,vt,Zt,Ht;if(t===u&&c.length!==h+1){var Bt="left"===(t=n.placement.split(" ")[0])&&Math.floor(null!==(x=n.offsets.target.right)&&void 0!==x?x:0)>Math.floor(null!==(T=n.offsets.host.left)&&void 0!==T?T:0)||"right"===t&&Math.floor(null!==(O=n.offsets.target.left)&&void 0!==O?O:0)<Math.floor(null!==(U=n.offsets.host.right)&&void 0!==U?U:0)||"top"===t&&Math.floor(null!==(re=n.offsets.target.bottom)&&void 0!==re?re:0)>Math.floor(null!==(de=n.offsets.host.top)&&void 0!==de?de:0)||"bottom"===t&&Math.floor(null!==(ve=n.offsets.target.top)&&void 0!==ve?ve:0)<Math.floor(null!==(Ne=n.offsets.host.bottom)&&void 0!==Ne?Ne:0),ln=Math.floor(null!==(De=n.offsets.target.left)&&void 0!==De?De:0)<Math.floor(null!==(Ge=o.left)&&void 0!==Ge?Ge:0),Pn=Math.floor(null!==(We=n.offsets.target.right)&&void 0!==We?We:0)>Math.floor(null!==(gt=o.right)&&void 0!==gt?gt:0),Jn=Math.floor(null!==(rt=n.offsets.target.top)&&void 0!==rt?rt:0)<Math.floor(null!==(vt=o.top)&&void 0!==vt?vt:0),kn=Math.floor(null!==(Zt=n.offsets.target.bottom)&&void 0!==Zt?Zt:0)>Math.floor(null!==(Ht=o.bottom)&&void 0!==Ht?Ht:0),mi="left"===t&&ln||"right"===t&&Pn||"top"===t&&Jn||"bottom"===t&&kn,wi=-1!==["top","bottom"].indexOf(t),Ni=wi&&"left"===i&&ln||wi&&"right"===i&&Pn||!wi&&"left"===i&&Jn||!wi&&"right"===i&&kn;(Bt||mi||Ni)&&((Bt||mi)&&(t=c[h+1]),Ni&&(i=function Zhe(n){return"right"===n?"left":"left"===n?"right":n}(i)),n.placement=t+(i?" ".concat(i):""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),IC(n.instance.target,n.offsets.host,n.placement)))}}),n}function Hhe(n){var o;if(!tA(n.options,"preventOverflow"))return n;var t="transform",i=n.instance.target.style,r=i.top,a=i.left,s=i[t];i.top="",i.left="",i[t]="";var l=EC(n.instance.target,n.instance.host,0,(null===(o=n.options.modifiers.preventOverflow)||void 0===o?void 0:o.boundariesElement)||"scrollParent",!1);i.top=r,i.left=a,i[t]=s;var u={primary:function(x){var T,O,U,re,de=n.offsets.target[x];return(null!==(T=n.offsets.target[x])&&void 0!==T?T:0)<(null!==(O=l[x])&&void 0!==O?O:0)&&(de=Math.max(null!==(U=n.offsets.target[x])&&void 0!==U?U:0,null!==(re=l[x])&&void 0!==re?re:0)),(0,B.Z)({},x,de)},secondary:function(x){var T,O,U,re,de="right"===x,ve=de?"left":"top",De=n.offsets.target[ve];return(null!==(T=n.offsets.target[x])&&void 0!==T?T:0)>(null!==(O=l[x])&&void 0!==O?O:0)&&(De=Math.min(null!==(U=n.offsets.target[ve])&&void 0!==U?U:0,(null!==(re=l[x])&&void 0!==re?re:0)-n.offsets.target[de?"width":"height"])),(0,B.Z)({},ve,De)}};return["left","right","top","bottom"].forEach(function(h){var x=-1!==["left","top","start"].indexOf(h)?u.primary:u.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),x(h))}),n}function Bhe(n){var o,t=n.placement,i=t.split(" ")[0],r=t.split(" ")[1];if(r){var a=n.offsets,s=a.host,l=a.target,c=-1!==["bottom","top"].indexOf(i),u=c?"left":"top",h=c?"width":"height",x={start:(0,B.Z)({},u,s[u]),end:(0,B.Z)({},u,(null!==(o=s[u])&&void 0!==o?o:0)+s[h]-l[h])};n.offsets.target=Object.assign(Object.assign({},l),(0,B.Z)({},u,u===r?x.start[u]:x.end[u]))}return n}var Ghe=new(function(){function n(){(0,I.Z)(this,n)}return(0,M.Z)(n,[{key:"position",value:function(t,i){return this.offset(t,i)}},{key:"offset",value:function(t,i){return eA(i,t)}},{key:"positionElements",value:function(t,i,r,a,s){var l=[qhe,Bhe,Hhe,Yhe],u=function Jhe(n,o,t,i){if(n&&o){var r=eA(n,o);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");var a=!!t.match(/auto/g),s=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t,l=s.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return l&&(s=l[1]+(l[2]?" ".concat(l[2]):"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto"),{options:i||{modifiers:{}},instance:{target:n,host:o,arrow:void 0},offsets:{target:IC(n,r,s=$2(s,r,n,o,i?i.allowedPositions:void 0)),host:r,arrow:void 0},positionFixed:!1,placement:s,placementAuto:a}}}(i,t,xb[r],s);if(u)return l.reduce(function(h,x){return x(h)},u)}}]),n}());function Whe(n,o,t,i,r,a){var s=Ghe.positionElements(n,o,t,i,r);if(s){var l=function Rhe(n){var o,t,i,r;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(o=n.offsets.target.left)&&void 0!==o?o:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(i=n.offsets.target.bottom)&&void 0!==i?i:0),right:Math.floor(null!==(r=n.offsets.target.right)&&void 0!==r?r:0)}}(s);nA(o,{"will-change":"transform",top:"0px",left:"0px",transform:"translate3d(".concat(l.left,"px, ").concat(l.top,"px, 0px)")},a),s.instance.arrow&&nA(s.instance.arrow,s.offsets.arrow,a),function jhe(n,o){var t=n.instance.target,i=t.className,r=Bh().isBs5?Vh[n.placement]:n.placement;n.placementAuto&&(-1!==(i=(i=(i=(i=i.replace(/bs-popover-auto/g,"bs-popover-".concat(r))).replace(/ms-2|me-2|mb-2|mt-2/g,"")).replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(r))).replace(/\sauto/g," ".concat(r))).indexOf("popover")&&(i=i+" "+function Uhe(n){return Bh().isBs5?wb(n,"end")?"ms-2":wb(n,"start")?"me-2":wb(n,"top")?"mb-2":wb(n,"bottom")?"mt-2":"":""}(r)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,"".concat(r.split(" ")[0])),o?o.setAttribute(t,"class",i):t.className=i}(s,a)}}var Gh=function(){var n=function(){function o(t,i,r){var a=this;(0,I.Z)(this,o),this.update$$=new b.x,this.positionElements=new Map,this.isDisabled=!1,(0,D.NF)(r)&&t.runOutsideAngular(function(){a.triggerEvent$=(0,ie.T)((0,Fe.R)(window,"scroll",{passive:!0}),(0,Fe.R)(window,"resize",{passive:!0}),(0,gn.of)(0,ke.Z),a.update$$),a.triggerEvent$.subscribe(function(){a.isDisabled||a.positionElements.forEach(function(s){Whe(Db(s.target),Db(s.element),s.attachment,s.appendToBody,a.options,i.createRenderer(null,null))})})})}return(0,M.Z)(o,[{key:"position",value:function(i){this.addPositionElement(i)}},{key:"event$",get:function(){return this.triggerEvent$}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"addPositionElement",value:function(i){this.positionElements.set(Db(i.element),i)}},{key:"calcPosition",value:function(){this.update$$.next(null)}},{key:"deletePositionElement",value:function(i){this.positionElements.delete(Db(i))}},{key:"setOptions",value:function(i){this.options=i}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b),e.LFG(e.FYo),e.LFG(e.Lbi))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}();function Db(n){return"string"==typeof n?document.querySelector(n):n instanceof e.SBq?n.nativeElement:null!=n?n:null}function Qhe(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function zhe(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.changeMinutes(a.minuteStep))}),e._UZ(2,"span",2),e.qZA()()}if(2&n){var i=e.oxw();e.xp6(1),e.ekj("disabled",!i.canIncrementMinutes||!i.isEditable)}}function Khe(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0"),e.qZA())}function $he(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.changeSeconds(a.secondsStep))}),e._UZ(2,"span",2),e.qZA()()}if(2&n){var i=e.oxw();e.xp6(1),e.ekj("disabled",!i.canIncrementSeconds||!i.isEditable)}}function Xhe(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function eme(n,o){1&n&&e._UZ(0,"td")}function tme(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0:\xa0"),e.qZA())}function nme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"td",4)(1,"input",5),e.NdJ("wheel",function(a){e.CHM(t);var s=e.oxw();return s.prevDef(a),e.KtG(s.changeMinutes(s.minuteStep*s.wheelSign(a),"wheel"))})("keydown.ArrowUp",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.changeMinutes(a.minuteStep,"key"))})("keydown.ArrowDown",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.changeMinutes(-a.minuteStep,"key"))})("change",function(a){e.CHM(t);var s=e.oxw();return e.KtG(s.updateMinutes(a.target))}),e.qZA()()}if(2&n){var i=e.oxw();e.ekj("has-error",i.invalidMinutes),e.xp6(1),e.ekj("is-invalid",i.invalidMinutes),e.Q6J("placeholder",i.minutesPlaceholder)("readonly",i.readonlyInput)("disabled",i.disabled)("value",i.minutes),e.uIk("aria-label",i.labelMinutes)}}function ime(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0:\xa0"),e.qZA())}function rme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"td",4)(1,"input",5),e.NdJ("wheel",function(a){e.CHM(t);var s=e.oxw();return s.prevDef(a),e.KtG(s.changeSeconds(s.secondsStep*s.wheelSign(a),"wheel"))})("keydown.ArrowUp",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.changeSeconds(a.secondsStep,"key"))})("keydown.ArrowDown",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.changeSeconds(-a.secondsStep,"key"))})("change",function(a){e.CHM(t);var s=e.oxw();return e.KtG(s.updateSeconds(a.target))}),e.qZA()()}if(2&n){var i=e.oxw();e.ekj("has-error",i.invalidSeconds),e.xp6(1),e.ekj("is-invalid",i.invalidSeconds),e.Q6J("placeholder",i.secondsPlaceholder)("readonly",i.readonlyInput)("disabled",i.disabled)("value",i.seconds),e.uIk("aria-label",i.labelSeconds)}}function ome(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function ame(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"td")(1,"button",8),e.NdJ("click",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.toggleMeridian())}),e._uU(2),e.qZA()()}if(2&n){var i=e.oxw();e.xp6(1),e.ekj("disabled",!i.isEditable||!i.canToggleMeridian),e.Q6J("disabled",!i.isEditable||!i.canToggleMeridian),e.xp6(1),e.hij("",i.meridian," ")}}function sme(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function lme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.changeMinutes(-a.minuteStep))}),e._UZ(2,"span",7),e.qZA()()}if(2&n){var i=e.oxw();e.xp6(1),e.ekj("disabled",!i.canDecrementMinutes||!i.isEditable)}}function cme(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0"),e.qZA())}function dme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.changeSeconds(-a.secondsStep))}),e._UZ(2,"span",7),e.qZA()()}if(2&n){var i=e.oxw();e.xp6(1),e.ekj("disabled",!i.canDecrementSeconds||!i.isEditable)}}function ume(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function pme(n,o){1&n&&e._UZ(0,"td")}function NC(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||NC(new Date(n)))}function RC(n,o){return!(n.min&&o<n.min||n.max&&o>n.max)}function Fp(n){return void 0===n?NaN:"number"==typeof n?n:parseInt(n,10)}function rA(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Fp(n);return isNaN(t)||t<0||t>(o?12:24)?NaN:t}function oA(n){var o=Fp(n);return isNaN(o)||o<0||o>60?NaN:o}function aA(n){var o=Fp(n);return isNaN(o)||o<0||o>60?NaN:o}function sA(n){return"string"==typeof n?new Date(n):n}function Es(n,o){if(!n)return Es(Sb(new Date,0,0,0),o);if(!o)return n;var t=n.getHours(),i=n.getMinutes(),r=n.getSeconds();return o.hour&&(t+=Fp(o.hour)),o.minute&&(i+=Fp(o.minute)),o.seconds&&(r+=Fp(o.seconds)),Sb(n,t,i,r)}function lA(n,o){var t=rA(o.hour),i=oA(o.minute),r=aA(o.seconds)||0;return o.isPM&&12!==t&&(t+=12),n?isNaN(t)||isNaN(i)?n:Sb(n,t,i,r):isNaN(t)||isNaN(i)?n:Sb(new Date,t,i,r)}function Sb(n,o,t,i){var r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),o,t,i,n.getMilliseconds());return r.setFullYear(n.getFullYear()),r.setMonth(n.getMonth()),r.setDate(n.getDate()),r}function FC(n){var o=n.toString();return o.length>1?o:"0".concat(o)}function cA(n,o){return!isNaN(rA(n,o))}function dA(n){return!isNaN(oA(n))}function uA(n){return!isNaN(aA(n))}function pA(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",i=arguments.length>3?arguments[3]:void 0;return cA(n,i)&&dA(o)&&uA(t)}function kb(n,o){return!(n.readonlyInput||n.disabled||o&&("wheel"===o.source&&!n.mousewheel||"key"===o.source&&!n.arrowkeys))}function bme(n,o){return!(!n.step||n.step>0&&!o.canIncrementHours||n.step<0&&!o.canDecrementHours)}function yme(n,o){return!(!n.step||n.step>0&&!o.canIncrementMinutes||n.step<0&&!o.canDecrementMinutes)}function xme(n,o){return!(!n.step||n.step>0&&!o.canIncrementSeconds||n.step<0&&!o.canDecrementSeconds)}function fA(n){return{hourStep:n.hourStep,minuteStep:n.minuteStep,secondsStep:n.secondsStep,readonlyInput:n.readonlyInput,disabled:n.disabled,mousewheel:n.mousewheel,arrowkeys:n.arrowkeys,showSpinners:n.showSpinners,showMeridian:n.showMeridian,showSeconds:n.showSeconds,meridians:n.meridians,min:n.min,max:n.max}}function Cme(n,o){var r=o.min,a=o.max,s=o.hourStep,l=o.minuteStep,c=o.secondsStep,u=o.showSeconds,h={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return h;if(a){var x=Es(n,{hour:s});if(h.canIncrementHours=a>x&&n.getHours()+s<24,!h.canIncrementHours){var T=Es(n,{minute:l});h.canIncrementMinutes=u?a>T:a>=T}if(!h.canIncrementMinutes){var O=Es(n,{seconds:c});h.canIncrementSeconds=a>=O}n.getHours()<12&&(h.canToggleMeridian=Es(n,{hour:12})<a)}if(r){var U=Es(n,{hour:-s});if(h.canDecrementHours=r<U,!h.canDecrementHours){var re=Es(n,{minute:-l});h.canDecrementMinutes=u?r<re:r<=re}if(!h.canDecrementMinutes){var de=Es(n,{seconds:-c});h.canDecrementSeconds=r<=de}n.getHours()>=12&&(h.canToggleMeridian=Es(n,{hour:-12})>r)}return h}var hA=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o),this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"});return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),md=function(){var n=function(){function o(){(0,I.Z)(this,o)}return(0,M.Z)(o,[{key:"writeValue",value:function(i){return{type:o.WRITE_VALUE,payload:i}}},{key:"changeHours",value:function(i){return{type:o.CHANGE_HOURS,payload:i}}},{key:"changeMinutes",value:function(i){return{type:o.CHANGE_MINUTES,payload:i}}},{key:"changeSeconds",value:function(i){return{type:o.CHANGE_SECONDS,payload:i}}},{key:"setTime",value:function(i){return{type:o.SET_TIME_UNIT,payload:i}}},{key:"updateControls",value:function(i){return{type:o.UPDATE_CONTROLS,payload:i}}}]),o}();return n.WRITE_VALUE="[timepicker] write value from ng model",n.CHANGE_HOURS="[timepicker] change hours",n.CHANGE_MINUTES="[timepicker] change minutes",n.CHANGE_SECONDS="[timepicker] change seconds",n.SET_TIME_UNIT="[timepicker] set time unit",n.UPDATE_CONTROLS="[timepicker] update controls",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n}(),mA={value:void 0,config:new hA,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function gA(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mA,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case md.WRITE_VALUE:return Object.assign({},n,{value:o.payload});case md.CHANGE_HOURS:if(!kb(n.config,o.payload)||!bme(o.payload,n.controls))return n;var t=Es(n.value,{hour:o.payload.step});return!n.config.max&&!n.config.min||RC(n.config,t)?Object.assign({},n,{value:t}):n;case md.CHANGE_MINUTES:if(!kb(n.config,o.payload)||!yme(o.payload,n.controls))return n;var i=Es(n.value,{minute:o.payload.step});return!n.config.max&&!n.config.min||RC(n.config,i)?Object.assign({},n,{value:i}):n;case md.CHANGE_SECONDS:if(!kb(n.config,o.payload)||!xme(o.payload,n.controls))return n;var r=Es(n.value,{seconds:o.payload.step});return!n.config.max&&!n.config.min||RC(n.config,r)?Object.assign({},n,{value:r}):n;case md.SET_TIME_UNIT:if(!kb(n.config))return n;var a=lA(n.value,o.payload);return Object.assign({},n,{value:a});case md.UPDATE_CONTROLS:var s=Cme(n.value,o.payload),l={value:n.value,config:o.payload,controls:s};return n.config.showMeridian!==l.config.showMeridian&&n.value&&(l.value=new Date(n.value)),Object.assign({},n,l);default:return n}}var Ab=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){(0,I.Z)(this,i);var r=new _i.X({type:"[mini-ngrx] dispatcher init"}),a=new Y2(mA,r,gA);return t.call(this,r,gA,a)}return(0,M.Z)(i)}(q2);return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n}(),Tme={provide:_.JU,useExisting:(0,e.Gpc)(function(){return ZC}),multi:!0},ZC=function(){var n=function(){function o(t,i,r,a){var s=this;(0,I.Z)(this,o),this._cd=i,this._store=r,this._timepickerActions=a,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new e.vpe,this.meridianChange=new e.vpe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=r.select(function(l){return l.value}).subscribe(function(l){s._renderTime(l),s.onChange(l),s._store.dispatch(s._timepickerActions.updateControls(fA(s)))}),r.select(function(l){return l.controls}).subscribe(function(l){var c=pA(s.hours,s.minutes,s.seconds,s.isPM()),u=s.config.allowEmptyTime&&s.isOneOfDatesIsEmpty()||c;s.isValid.emit(u),Object.assign(s,l),i.markForCheck()})}return(0,M.Z)(o,[{key:"isSpinnersVisible",get:function(){return this.showSpinners&&!this.readonlyInput}},{key:"isEditable",get:function(){return!(this.readonlyInput||this.disabled)}},{key:"resetValidation",value:function(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}},{key:"isPM",value:function(){return this.showMeridian&&this.meridian===this.meridians[1]}},{key:"prevDef",value:function(i){i.preventDefault()}},{key:"wheelSign",value:function(i){return-1*Math.sign(i.deltaY||0)}},{key:"ngOnChanges",value:function(){this._store.dispatch(this._timepickerActions.updateControls(fA(this)))}},{key:"changeHours",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:i,source:r}))}},{key:"changeMinutes",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:i,source:r}))}},{key:"changeSeconds",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:i,source:r}))}},{key:"updateHours",value:function(i){this.resetValidation(),this.hours=i.value;var r=cA(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}},{key:"updateMinutes",value:function(i){this.resetValidation(),this.minutes=i.value;var r=dA(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}},{key:"updateSeconds",value:function(i){this.resetValidation(),this.seconds=i.value;var r=uA(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}},{key:"isValidLimit",value:function(){return function _me(n,o,t){var i=lA(new Date,n);return!(!i||o&&i>o||t&&i<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}},{key:"isOneOfDatesIsEmpty",value:function(){return function vme(n,o,t){return 0===n.length||0===o.length||0===t.length}(this.hours,this.minutes,this.seconds)}},{key:"_updateTime",value:function(){var a=pA(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||a))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}},{key:"toggleMeridian",value:function(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}},{key:"writeValue",value:function(i){NC(i)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(sA(i)))):null==i&&this._store.dispatch(this._timepickerActions.writeValue())}},{key:"registerOnChange",value:function(i){this.onChange=i}},{key:"registerOnTouched",value:function(i){this.onTouched=i}},{key:"setDisabledState",value:function(i){this.disabled=i,this._cd.markForCheck()}},{key:"ngOnDestroy",value:function(){var i;null===(i=this.timepickerSub)||void 0===i||i.unsubscribe()}},{key:"_renderTime",value:function(i){if(!i||!NC(i))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);var r=sA(i);if(r){var s=r.getHours();this.showMeridian&&(this.meridian=this.meridians[s>=12?1:0],this.meridianChange.emit(this.meridian),0==(s%=12)&&(s=12)),this.hours=FC(s),this.minutes=FC(r.getMinutes()),this.seconds=FC(r.getUTCSeconds())}}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(hA),e.Y36(e.sBO),e.Y36(Ab),e.Y36(md))},n.\u0275cmp=e.Xpm({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[e._Bn([Tme,Ab]),e.TTD],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],[1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),e.NdJ("click",function(){return i.changeHours(i.hourStep)}),e._UZ(5,"span",2),e.qZA()(),e.YNc(6,Qhe,2,0,"td",3),e.YNc(7,zhe,3,2,"td",3),e.YNc(8,Khe,2,0,"td",3),e.YNc(9,$he,3,2,"td",3),e.YNc(10,Xhe,2,0,"td",3),e.YNc(11,eme,1,0,"td",3),e.qZA(),e.TgZ(12,"tr")(13,"td",4)(14,"input",5),e.NdJ("wheel",function(a){return i.prevDef(a),i.changeHours(i.hourStep*i.wheelSign(a),"wheel")})("keydown.ArrowUp",function(){return i.changeHours(i.hourStep,"key")})("keydown.ArrowDown",function(){return i.changeHours(-i.hourStep,"key")})("change",function(a){return i.updateHours(a.target)}),e.qZA()(),e.YNc(15,tme,2,0,"td",3),e.YNc(16,nme,2,9,"td",6),e.YNc(17,ime,2,0,"td",3),e.YNc(18,rme,2,9,"td",6),e.YNc(19,ome,2,0,"td",3),e.YNc(20,ame,3,4,"td",3),e.qZA(),e.TgZ(21,"tr",0)(22,"td")(23,"a",1),e.NdJ("click",function(){return i.changeHours(-i.hourStep)}),e._UZ(24,"span",7),e.qZA()(),e.YNc(25,sme,2,0,"td",3),e.YNc(26,lme,3,2,"td",3),e.YNc(27,cme,2,0,"td",3),e.YNc(28,dme,3,2,"td",3),e.YNc(29,ume,2,0,"td",3),e.YNc(30,pme,1,0,"td",3),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("hidden",!i.showSpinners),e.xp6(2),e.ekj("disabled",!i.canIncrementHours||!i.isEditable),e.xp6(2),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(2),e.ekj("has-error",i.invalidHours),e.xp6(1),e.ekj("is-invalid",i.invalidHours),e.Q6J("placeholder",i.hoursPlaceholder)("readonly",i.readonlyInput)("disabled",i.disabled)("value",i.hours),e.uIk("aria-label",i.labelHours),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("hidden",!i.showSpinners),e.xp6(2),e.ekj("disabled",!i.canDecrementHours||!i.isEditable),e.xp6(2),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("ngIf",i.showMeridian))},dependencies:[D.O5],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),n}(),wme=function(){var n=function(){function o(){(0,I.Z)(this,o)}return(0,M.Z)(o,null,[{key:"forRoot",value:function(){return{ngModule:o,providers:[md,Ab]}}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Ab],imports:[D.ez]}),n}(),Dme=J(5963),n_=(0,M.Z)(function n(o,t,i){(0,I.Z)(this,n),this.nodes=o,this.viewRef=t,this.componentRef=i}),Sme=function(){function n(o,t,i,r,a,s,l,c,u){(0,I.Z)(this,n),this._viewContainerRef=o,this._renderer=t,this._elementRef=i,this._injector=r,this._componentFactoryResolver=a,this._ngZone=s,this._applicationRef=l,this._posService=c,this._document=u,this.onBeforeShow=new e.vpe,this.onShown=new e.vpe,this.onBeforeHide=new e.vpe,this.onHidden=new e.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}return(0,M.Z)(n,[{key:"isShown",get:function(){return!this._isHiding&&!!this._componentRef}},{key:"attach",value:function(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}},{key:"to",value:function(t){return this.container=t||this.container,this}},{key:"position",value:function(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}},{key:"provide",value:function(t){return this._providers.push(t),this}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);var i=e.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(i,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof e.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&void 0!==this._document){var r=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}},{key:"hide",value:function(t){var i,r,a,s,l,c;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);var u=this._componentRef.location.nativeElement;return null===(i=u.parentNode)||void 0===i||i.removeChild(u),null===(a=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===a||a.destroy(),this._viewContainerRef&&(null===(s=this._contentRef)||void 0===s?void 0:s.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(c=null===(l=this._contentRef)||void 0===l?void 0:l.viewRef)||void 0===c||c.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}},{key:"toggle",value:function(){this.isShown?this.hide():this.show()}},{key:"dispose",value:function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}},{key:"listen",value:function(t){var r,i=this;this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||(null===(r=this._elementRef)||void 0===r?void 0:r.nativeElement);var a=this._listenOpts.hide=function(){return t.hide?t.hide():void i.hide()},s=this._listenOpts.show=function(c){t.show?t.show(c):i.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function whe(n,o){var t=wC(o.triggers),i=o.target;if(1===t.length&&t[0].isManual())return Function.prototype;var r=[],a=[],s=function(){a.forEach(function(c){return r.push(c())}),a.length=0};return t.forEach(function(l){var c=l.open===l.close,u=c?o.toggle:o.show;if(!c&&l.close&&o.hide){var h=n.listen(i,l.close,o.hide);a.push(function(){return h})}u&&r.push(n.listen(i,l.open,function(){return u(s)}))}),function(){r.forEach(function(l){return l()})}}(this._renderer,{target:t.target,triggers:t.triggers,show:s,hide:a,toggle:function(u){i.isShown?a():s(u)}})),this}},{key:"_removeGlobalListener",value:function(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}},{key:"attachInline",value:function(t,i){return t&&i&&(this._inlineViewRef=t.createEmbeddedView(i)),this}},{key:"_registerOutsideClick",value:function(){var t=this;if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){var i=this._componentRef.location.nativeElement;setTimeout(function(){t._renderer&&t._elementRef&&(t._globalListener=function Dhe(n,o){return o.outsideClick?n.listen("document","click",function(t){o.target&&o.target.contains(t.target)||o.targets&&o.targets.some(function(i){return i.contains(t.target)})||o.hide&&o.hide()}):Function.prototype}(t._renderer,{targets:[i,t._elementRef.nativeElement],outsideClick:t._listenOpts.outsideClick,hide:function(){return t._listenOpts.hide&&t._listenOpts.hide()}}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function She(n,o){return o.outsideEsc?n.listen("document","keyup.esc",function(t){o.target&&o.target.contains(t.target)||o.targets&&o.targets.some(function(i){return i.contains(t.target)})||o.hide&&o.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:function(){return t._listenOpts.hide&&t._listenOpts.hide()}}))}}},{key:"getInnerComponent",value:function(){return this._innerComponent}},{key:"_subscribePositioning",value:function(){var t=this;this._zoneSubscription||!this.attachment||(this.onShown.subscribe(function(){var i;t._posService.position({element:null===(i=t._componentRef)||void 0===i?void 0:i.location,target:t._elementRef,attachment:t.attachment,appendToBody:"body"===t.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(function(){!t._componentRef||t._posService.calcPosition()}))}},{key:"_unsubscribePositioning",value:function(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}},{key:"_getContentRef",value:function(t,i,r){if(!t)return new n_([]);if(t instanceof e.Rgc){if(this._viewContainerRef){var a=this._viewContainerRef.createEmbeddedView(t,i);return a.markForCheck(),new n_([a.rootNodes],a)}var s=t.createEmbeddedView({});return this._applicationRef.attachView(s),new n_([s.rootNodes],s)}if("function"==typeof t){var l=this._componentFactoryResolver.resolveComponentFactory(t),c=e.zs3.create({providers:this._providers,parent:this._injector}),u=l.create(c);return Object.assign(u.instance,r),this._applicationRef.attachView(u.hostView),new n_([[u.location.nativeElement]],u.hostView,u)}var h=this._renderer?[this._renderer.createText("".concat(t))]:[];return new n_([h])}}]),n}(),i_=function(){var n=function(){function o(t,i,r,a,s,l){(0,I.Z)(this,o),this._componentFactoryResolver=t,this._ngZone=i,this._injector=r,this._posService=a,this._applicationRef=s,this._document=l}return(0,M.Z)(o,[{key:"createLoader",value:function(i,r,a){return new Sme(r,a,i,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(e._Vd),e.LFG(e.R0b),e.LFG(e.zs3),e.LFG(Gh),e.LFG(e.z2F),e.LFG(D.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),kme=["*"],LC=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o),this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0});return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),Ame=function(){var n=function(){function o(t){(0,I.Z)(this,o),Object.assign(this,t)}return(0,M.Z)(o,[{key:"_bsVersions",get:function(){return Bh()}},{key:"ngAfterViewInit",value:function(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=Vh[this.placement]),this.classMap[this.placement]=!0),this.classMap["tooltip-".concat(this.placement)]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(LC))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(t,i){2&t&&(e.uIk("id",i.id),e.Tol("tooltip in tooltip-"+i.placement+" bs-tooltip-"+i.placement+" "+i.placement+" "+i.containerClass),e.ekj("show",!i._bsVersions.isBs3)("bs3",i._bsVersions.isBs3))},ngContentSelectors:kme,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,i){1&t&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),n}(),Mme=0,Ome=function(){var n=function(){function o(t,i,r,a,s,l){(0,I.Z)(this,o),this._elementRef=a,this._renderer=s,this._positionService=l,this.tooltipId=Mme++,this.adaptivePosition=!0,this.tooltipChange=new e.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new e.vpe,this._tooltip=i.createLoader(this._elementRef,t,this._renderer).provide({provide:LC,useValue:r}),Object.assign(this,r),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}return(0,M.Z)(o,[{key:"isOpen",get:function(){return this._tooltip.isShown},set:function(i){i?this.show():this.hide()}},{key:"htmlContent",set:function(i){ts("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=i}},{key:"_placement",set:function(i){ts("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=i}},{key:"_isOpen",get:function(){return ts("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen},set:function(i){ts("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=i}},{key:"_enable",get:function(){return ts("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled},set:function(i){ts("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!i}},{key:"_appendToBody",get:function(){return ts('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container},set:function(i){ts('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=i?"body":this.container}},{key:"_popupClass",set:function(i){ts("tooltipClass deprecated")}},{key:"_tooltipContext",set:function(i){ts("tooltipContext deprecated")}},{key:"_tooltipPopupDelay",set:function(i){ts("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=i}},{key:"_tooltipTrigger",get:function(){return ts("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers},set:function(i){ts("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(i||"").toString()}},{key:"ngOnInit",value:function(){var i=this;this._tooltip.listen({triggers:this.triggers,show:function(){return i.show()}}),this.tooltipChange.subscribe(function(r){r||i._tooltip.hide()}),this.onShown.subscribe(function(){i.setAriaDescribedBy()}),this.onHidden.subscribe(function(){i.setAriaDescribedBy()})}},{key:"setAriaDescribedBy",value:function(){this._ariaDescribedby=this.isOpen?"tooltip-".concat(this.tooltipId):void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}},{key:"toggle",value:function(){if(this.isOpen)return this.hide();this.show()}},{key:"show",value:function(){var i=this;if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),!(this.isOpen||this.isDisabled||this._delayTimeoutId)&&this.tooltip){var r=function(){i._delayTimeoutId&&(i._delayTimeoutId=void 0),i._tooltip.attach(Ame).to(i.container).position({attachment:i.placement}).show({content:i.tooltip,placement:i.placement,containerClass:i.containerClass,id:"tooltip-".concat(i.tooltipId)})},a=function(){i._tooltipCancelShowFn&&i._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,Dme.H)(this.delay).subscribe(function(){r(),a()}),this.triggers&&wC(this.triggers).forEach(function(s){!s.close||(i._tooltipCancelShowFn=i._renderer.listen(i._elementRef.nativeElement,s.close,function(){var l;null===(l=i._delaySubscription)||void 0===l||l.unsubscribe(),a()}))})):r()}}},{key:"hide",value:function(){var r,i=this;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(!(null===(r=this._tooltip.instance)||void 0===r)&&r.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(function(){i._tooltip.hide()},this.tooltipFadeDuration))}},{key:"ngOnDestroy",value:function(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(i_),e.Y36(LC),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Gh))},n.\u0275dir=e.lG2({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,Ug.gn)([Mhe(),(0,Ug.w6)("design:type",Object)],n.prototype,"tooltip",void 0),n}(),Pme=function(){var n=function(){function o(){(0,I.Z)(this,o)}return(0,M.Z)(o,null,[{key:"forRoot",value:function(){return{ngModule:o,providers:[i_,Gh]}}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez]}),n}();function Eme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){var l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.selectFromRanges(l))}),e._uU(1),e.qZA()}if(2&n){var i=o.$implicit,r=e.oxw();e.ekj("selected",i.value===r.selectedRange),e.xp6(1),e.hij(" ",i.label," ")}}function Ime(n,o){1&n&&e._UZ(0,"bs-current-date",4)}function Nme(n,o){1&n&&e._UZ(0,"bs-timepicker")}var Rme=[[["bs-datepicker-navigation-view"]],"*"],Fme=["bs-datepicker-navigation-view","*"],Zme=["bsDatepickerDayDecorator",""];function Lme(n,o){if(1&n){var t=e.EpF();e.ynx(0),e._uU(1," \u200b "),e.TgZ(2,"button",2),e.NdJ("click",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.view("month"))}),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.BQk()}if(2&n){var i=e.oxw();e.xp6(4),e.Oqu(i.calendar.monthTitle)}}function Ume(n,o){1&n&&e._UZ(0,"th")}function jme(n,o){if(1&n&&(e.TgZ(0,"th",5),e._uU(1),e.qZA()),2&n){var t=o.index,i=e.oxw();e.xp6(1),e.hij("",i.calendar.weekdays[t]," ")}}function Yme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"span",11),e.NdJ("click",function(){e.CHM(t);var s=e.oxw(2).$implicit,l=e.oxw();return e.KtG(l.selectWeek(s))}),e._uU(1),e.qZA()}if(2&n){var i=e.oxw(2).index,r=e.oxw();e.xp6(1),e.Oqu(r.calendar.weekNumbers[i])}}function qme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"span",12),e.NdJ("click",function(){e.CHM(t);var s=e.oxw(2).$implicit,l=e.oxw();return e.KtG(l.selectWeek(s))})("mouseenter",function(){e.CHM(t);var s=e.oxw(2).$implicit,l=e.oxw();return e.KtG(l.weekHoverHandler(s,!0))})("mouseleave",function(){e.CHM(t);var s=e.oxw(2).$implicit,l=e.oxw();return e.KtG(l.weekHoverHandler(s,!1))}),e._uU(1),e.qZA()}if(2&n){var i=e.oxw(2).index,r=e.oxw();e.xp6(1),e.Oqu(r.calendar.weekNumbers[i])}}function Jme(n,o){if(1&n&&(e.TgZ(0,"td",8),e.YNc(1,Yme,2,1,"span",9),e.YNc(2,qme,2,1,"span",10),e.qZA()),2&n){var t=e.oxw(2);e.ekj("active-week",t.isWeekHovered),e.xp6(1),e.Q6J("ngIf",t.isiOS),e.xp6(1),e.Q6J("ngIf",!t.isiOS)}}function Hme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){e.CHM(t);var a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.selectDay(a))})("mouseenter",function(){e.CHM(t);var a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.hoverDay(a,!0))})("mouseleave",function(){e.CHM(t);var a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.hoverDay(a,!1))}),e._uU(1),e.qZA()}if(2&n){var i=e.oxw().$implicit;e.s9C("tooltip",i.tooltipText),e.Q6J("day",i),e.xp6(1),e.hij("",i.label," 3")}}function Bme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"span",18),e.NdJ("click",function(){e.CHM(t);var a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.selectDay(a))})("mouseenter",function(){e.CHM(t);var a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.hoverDay(a,!0))})("mouseleave",function(){e.CHM(t);var a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.hoverDay(a,!1))}),e._uU(1),e.qZA()}if(2&n){var i=e.oxw().$implicit;e.Q6J("day",i),e.xp6(1),e.hij("",i.label," 2")}}function Vme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(){e.CHM(t);var a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.selectDay(a))}),e._uU(1),e.qZA()}if(2&n){var i=e.oxw().$implicit;e.Q6J("day",i),e.xp6(1),e.hij("",i.label," 1")}}function Gme(n,o){if(1&n&&(e.TgZ(0,"td",13),e.YNc(1,Hme,2,3,"span",14),e.YNc(2,Bme,2,2,"span",15),e.YNc(3,Vme,2,2,"span",16),e.qZA()),2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isiOS&&t.isShowTooltip),e.xp6(1),e.Q6J("ngIf",!t.isiOS&&!t.isShowTooltip),e.xp6(1),e.Q6J("ngIf",t.isiOS)}}function Wme(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Jme,3,4,"td",6),e.YNc(2,Gme,4,3,"td",7),e.qZA()),2&n){var t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.options&&i.options.showWeekNumbers),e.xp6(1),e.Q6J("ngForOf",t.days)}}function Qme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"td",4),e.NdJ("click",function(){var s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewMonth(s))})("mouseenter",function(){var s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.hoverMonth(s,!0))})("mouseleave",function(){var s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.hoverMonth(s,!1))}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&n){var i=o.$implicit;e.ekj("disabled",i.isDisabled)("is-highlighted",i.isHovered),e.xp6(1),e.ekj("selected",i.isSelected),e.xp6(1),e.Oqu(i.label)}}function zme(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Qme,3,7,"td",3),e.qZA()),2&n){var t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function Kme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"td",4),e.NdJ("click",function(){var s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewYear(s))})("mouseenter",function(){var s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.hoverYear(s,!0))})("mouseleave",function(){var s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.hoverYear(s,!1))}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&n){var i=o.$implicit;e.ekj("disabled",i.isDisabled)("is-highlighted",i.isHovered),e.xp6(1),e.ekj("selected",i.isSelected),e.xp6(1),e.Oqu(i.label)}}function $me(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Kme,3,7,"td",3),e.qZA()),2&n){var t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}var _A=["startTP"];function Xme(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"bs-days-calendar-view",11),e.NdJ("onNavigate",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.navigateTo(s))})("onViewMode",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.setViewMode(s))})("onHover",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.dayHoverHandler(s))})("onHoverWeek",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.weekHoverHandler(s))})("onSelect",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.daySelectHandler(s))}),e.ALo(1,"async"),e.qZA()}if(2&n){var i=o.$implicit,r=e.oxw(3);e.ekj("bs-datepicker-multiple",r.multipleCalendars),e.Q6J("calendar",i)("options",e.lcZ(1,4,r.options$))}}function ege(n,o){1&n&&e._UZ(0,"timepicker",null,15)}function tge(n,o){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"timepicker",null,13),e.YNc(3,ege,2,0,"timepicker",14),e.qZA()),2&n){var t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.isRangePicker)}}function nge(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",8),e.YNc(2,Xme,2,6,"bs-days-calendar-view",9),e.ALo(3,"async"),e.qZA(),e.YNc(4,tge,4,1,"div",10),e.BQk()),2&n){var t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,2,t.daysCalendar$)),e.xp6(2),e.Q6J("ngIf",t.withTimepicker)}}function ige(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"bs-month-calendar-view",17),e.NdJ("onNavigate",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.navigateTo(s))})("onViewMode",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.setViewMode(s))})("onHover",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.monthHoverHandler(s))})("onSelect",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.monthSelectHandler(s))}),e.qZA()}if(2&n){var i=o.$implicit,r=e.oxw(3);e.ekj("bs-datepicker-multiple",r.multipleCalendars),e.Q6J("calendar",i)}}function rge(n,o){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,ige,1,3,"bs-month-calendar-view",16),e.ALo(2,"async"),e.qZA()),2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.monthsCalendar))}}function oge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"bs-years-calendar-view",17),e.NdJ("onNavigate",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.navigateTo(s))})("onViewMode",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.setViewMode(s))})("onHover",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.yearHoverHandler(s))})("onSelect",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.yearSelectHandler(s))}),e.qZA()}if(2&n){var i=o.$implicit,r=e.oxw(3);e.ekj("bs-datepicker-multiple",r.multipleCalendars),e.Q6J("calendar",i)}}function age(n,o){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,oge,1,3,"bs-years-calendar-view",16),e.ALo(2,"async"),e.qZA()),2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.yearsCalendar))}}function sge(n,o){1&n&&(e.TgZ(0,"div",18)(1,"button",19),e._uU(2,"Apply"),e.qZA(),e.TgZ(3,"button",20),e._uU(4,"Cancel"),e.qZA()())}function lge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",23)(1,"button",24),e.NdJ("click",function(){e.CHM(t);var a=e.oxw(3);return e.KtG(a.setToday())}),e._uU(2),e.qZA()()}if(2&n){var i=e.oxw(3);e.ekj("today-left","left"===i.todayPos)("today-right","right"===i.todayPos)("today-center","center"===i.todayPos),e.xp6(2),e.Oqu(i.todayBtnLbl)}}function cge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",25)(1,"button",24),e.NdJ("click",function(){e.CHM(t);var a=e.oxw(3);return e.KtG(a.clearDate())}),e._uU(2),e.qZA()()}if(2&n){var i=e.oxw(3);e.ekj("clear-left","left"===i.clearPos)("clear-right","right"===i.clearPos)("clear-center","center"===i.clearPos),e.xp6(2),e.Oqu(i.clearBtnLbl)}}function dge(n,o){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,lge,3,7,"div",21),e.YNc(2,cge,3,7,"div",22),e.qZA()),2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.showTodayBtn),e.xp6(1),e.Q6J("ngIf",t.showClearBtn)}}function uge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",26)(1,"bs-custom-date-view",27),e.NdJ("onSelect",function(a){e.CHM(t);var s=e.oxw(2);return e.KtG(s.setRangeOnCalendar(a))}),e.qZA()()}if(2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("selectedRange",i.chosenRange)("ranges",i.customRanges)("customRangeLabel",i.customRangeBtnLbl)}}function pge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("@datepickerAnimation.done",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.positionServiceEnable())}),e.TgZ(2,"div",3),e.ALo(3,"async"),e.YNc(4,nge,5,4,"ng-container",4),e.YNc(5,rge,3,3,"div",5),e.YNc(6,age,3,3,"div",5),e.qZA(),e.YNc(7,sge,5,0,"div",6),e.YNc(8,dge,3,2,"div",6),e.qZA(),e.YNc(9,uge,2,3,"div",7),e.qZA()}if(2&n){var i=e.oxw();e.Q6J("ngClass",i.containerClass),e.xp6(1),e.Q6J("@datepickerAnimation",i.animationState),e.xp6(1),e.Q6J("ngSwitch",e.lcZ(3,9,i.viewMode)),e.xp6(2),e.Q6J("ngSwitchCase","day"),e.xp6(1),e.Q6J("ngSwitchCase","month"),e.xp6(1),e.Q6J("ngSwitchCase","year"),e.xp6(1),e.Q6J("ngIf",!1),e.xp6(1),e.Q6J("ngIf",i.showTodayBtn||i.showClearBtn),e.xp6(1),e.Q6J("ngIf",i.customRanges&&i.customRanges.length>0)}}var Sge=["endTP"];function kge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"bs-days-calendar-view",11),e.NdJ("onNavigate",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.navigateTo(s))})("onViewMode",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.setViewMode(s))})("onHover",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.dayHoverHandler(s))})("onHoverWeek",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.weekHoverHandler(s))})("onSelect",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.daySelectHandler(s))}),e.ALo(1,"async"),e.qZA()}if(2&n){var i=o.$implicit,r=e.oxw(3);e.ekj("bs-datepicker-multiple",r.multipleCalendars),e.Q6J("calendar",i)("options",e.lcZ(1,4,r.options$))}}function Age(n,o){1&n&&e._UZ(0,"timepicker",null,15)}function Mge(n,o){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"timepicker",null,13),e.YNc(3,Age,2,0,"timepicker",14),e.qZA()),2&n){var t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.isRangePicker)}}function Oge(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",8),e.YNc(2,kge,2,6,"bs-days-calendar-view",9),e.ALo(3,"async"),e.qZA(),e.YNc(4,Mge,4,1,"div",10),e.BQk()),2&n){var t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,2,t.daysCalendar$)),e.xp6(2),e.Q6J("ngIf",t.withTimepicker)}}function Pge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"bs-month-calendar-view",17),e.NdJ("onNavigate",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.navigateTo(s))})("onViewMode",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.setViewMode(s))})("onHover",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.monthHoverHandler(s))})("onSelect",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.monthSelectHandler(s))}),e.qZA()}if(2&n){var i=o.$implicit,r=e.oxw(3);e.ekj("bs-datepicker-multiple",r.multipleCalendars),e.Q6J("calendar",i)}}function Ege(n,o){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,Pge,1,3,"bs-month-calendar-view",16),e.ALo(2,"async"),e.qZA()),2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.monthsCalendar))}}function Ige(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"bs-years-calendar-view",17),e.NdJ("onNavigate",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.navigateTo(s))})("onViewMode",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.setViewMode(s))})("onHover",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.yearHoverHandler(s))})("onSelect",function(s){e.CHM(t);var l=e.oxw(3);return e.KtG(l.yearSelectHandler(s))}),e.qZA()}if(2&n){var i=o.$implicit,r=e.oxw(3);e.ekj("bs-datepicker-multiple",r.multipleCalendars),e.Q6J("calendar",i)}}function Nge(n,o){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,Ige,1,3,"bs-years-calendar-view",16),e.ALo(2,"async"),e.qZA()),2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.yearsCalendar))}}function Rge(n,o){1&n&&(e.TgZ(0,"div",18)(1,"button",19),e._uU(2,"Apply"),e.qZA(),e.TgZ(3,"button",20),e._uU(4,"Cancel"),e.qZA()())}function Fge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",23)(1,"button",24),e.NdJ("click",function(){e.CHM(t);var a=e.oxw(3);return e.KtG(a.setToday())}),e._uU(2),e.qZA()()}if(2&n){var i=e.oxw(3);e.ekj("today-left","left"===i.todayPos)("today-right","right"===i.todayPos)("today-center","center"===i.todayPos),e.xp6(2),e.Oqu(i.todayBtnLbl)}}function Zge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",25)(1,"button",24),e.NdJ("click",function(){e.CHM(t);var a=e.oxw(3);return e.KtG(a.clearDate())}),e._uU(2),e.qZA()()}if(2&n){var i=e.oxw(3);e.ekj("clear-left","left"===i.clearPos)("clear-right","right"===i.clearPos)("clear-center","center"===i.clearPos),e.xp6(2),e.Oqu(i.clearBtnLbl)}}function Lge(n,o){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,Fge,3,7,"div",21),e.YNc(2,Zge,3,7,"div",22),e.qZA()),2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.showTodayBtn),e.xp6(1),e.Q6J("ngIf",t.showClearBtn)}}function Uge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",26)(1,"bs-custom-date-view",27),e.NdJ("onSelect",function(a){e.CHM(t);var s=e.oxw(2);return e.KtG(s.setRangeOnCalendar(a))}),e.qZA()()}if(2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("selectedRange",i.chosenRange)("ranges",i.customRanges)("customRangeLabel",i.customRangeBtnLbl)}}function jge(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("@datepickerAnimation.done",function(){e.CHM(t);var a=e.oxw();return e.KtG(a.positionServiceEnable())}),e.TgZ(2,"div",3),e.ALo(3,"async"),e.YNc(4,Oge,5,4,"ng-container",4),e.YNc(5,Ege,3,3,"div",5),e.YNc(6,Nge,3,3,"div",5),e.qZA(),e.YNc(7,Rge,5,0,"div",6),e.YNc(8,Lge,3,2,"div",6),e.qZA(),e.YNc(9,Uge,2,3,"div",7),e.qZA()}if(2&n){var i=e.oxw();e.Q6J("ngClass",i.containerClass),e.xp6(1),e.Q6J("@datepickerAnimation",i.animationState),e.xp6(1),e.Q6J("ngSwitch",e.lcZ(3,9,i.viewMode)),e.xp6(2),e.Q6J("ngSwitchCase","day"),e.xp6(1),e.Q6J("ngSwitchCase","month"),e.xp6(1),e.Q6J("ngSwitchCase","year"),e.xp6(1),e.Q6J("ngIf",!1),e.xp6(1),e.Q6J("ngIf",i.showTodayBtn||i.showClearBtn),e.xp6(1),e.Q6J("ngIf",i.customRanges&&i.customRanges.length>0)}}var gd=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o),this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"]});return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),vA="220ms cubic-bezier(0, 0, 0.2, 1)",bA=(0,Ei.X$)("datepickerAnimation",[(0,Ei.SB)("animated-down",(0,Ei.oB)({height:"*",overflow:"hidden"})),(0,Ei.eR)("* => animated-down",[(0,Ei.oB)({height:0,overflow:"hidden"}),(0,Ei.jt)(vA)]),(0,Ei.SB)("animated-up",(0,Ei.oB)({height:"*",overflow:"hidden"})),(0,Ei.eR)("* => animated-up",[(0,Ei.oB)({height:"*",overflow:"hidden"}),(0,Ei.jt)(vA)]),(0,Ei.eR)("* => unanimated",(0,Ei.jt)("0s"))]),yA=function(){function n(){(0,I.Z)(this,n),this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new kh.w0,this.selectedTimeSub=new kh.w0}return(0,M.Z)(n,[{key:"minDate",set:function(t){var i;null===(i=this._effects)||void 0===i||i.setMinDate(t)}},{key:"maxDate",set:function(t){var i;null===(i=this._effects)||void 0===i||i.setMaxDate(t)}},{key:"daysDisabled",set:function(t){var i;null===(i=this._effects)||void 0===i||i.setDaysDisabled(t)}},{key:"datesDisabled",set:function(t){var i;null===(i=this._effects)||void 0===i||i.setDatesDisabled(t)}},{key:"datesEnabled",set:function(t){var i;null===(i=this._effects)||void 0===i||i.setDatesEnabled(t)}},{key:"isDisabled",set:function(t){var i;null===(i=this._effects)||void 0===i||i.setDisabled(t)}},{key:"dateCustomClasses",set:function(t){var i;null===(i=this._effects)||void 0===i||i.setDateCustomClasses(t)}},{key:"dateTooltipTexts",set:function(t){var i;null===(i=this._effects)||void 0===i||i.setDateTooltipTexts(t)}},{key:"daysCalendar$",get:function(){return this._daysCalendar$},set:function(t){var i=this;this._daysCalendar$=t,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(function(r){i.multipleCalendars=!!r&&r.length>1}))}},{key:"setViewMode",value:function(t){}},{key:"navigateTo",value:function(t){}},{key:"dayHoverHandler",value:function(t){}},{key:"weekHoverHandler",value:function(t){}},{key:"monthHoverHandler",value:function(t){}},{key:"yearHoverHandler",value:function(t){}},{key:"timeSelectHandler",value:function(t,i){}},{key:"daySelectHandler",value:function(t){}},{key:"monthSelectHandler",value:function(t){}},{key:"yearSelectHandler",value:function(t){}},{key:"setRangeOnCalendar",value:function(t){}},{key:"setToday",value:function(){}},{key:"clearDate",value:function(){}},{key:"_stopPropagation",value:function(t){t.stopPropagation()}}]),n}(),to=function(){var n=function(){function o(){(0,I.Z)(this,o)}return(0,M.Z)(o,[{key:"calculate",value:function(){return{type:o.CALCULATE}}},{key:"format",value:function(){return{type:o.FORMAT}}},{key:"flag",value:function(){return{type:o.FLAG}}},{key:"select",value:function(i){return{type:o.SELECT,payload:i}}},{key:"selectTime",value:function(i,r){return{type:o.SELECT_TIME,payload:{date:i,index:r}}}},{key:"changeViewMode",value:function(i){return{type:o.CHANGE_VIEWMODE,payload:i}}},{key:"navigateTo",value:function(i){return{type:o.NAVIGATE_TO,payload:i}}},{key:"navigateStep",value:function(i){return{type:o.NAVIGATE_OFFSET,payload:i}}},{key:"setOptions",value:function(i){return{type:o.SET_OPTIONS,payload:i}}},{key:"selectRange",value:function(i){return{type:o.SELECT_RANGE,payload:i}}},{key:"hoverDay",value:function(i){return{type:o.HOVER,payload:i.isHovered?i.cell.date:null}}},{key:"minDate",value:function(i){return{type:o.SET_MIN_DATE,payload:i}}},{key:"maxDate",value:function(i){return{type:o.SET_MAX_DATE,payload:i}}},{key:"daysDisabled",value:function(i){return{type:o.SET_DAYSDISABLED,payload:i}}},{key:"datesDisabled",value:function(i){return{type:o.SET_DATESDISABLED,payload:i}}},{key:"datesEnabled",value:function(i){return{type:o.SET_DATESENABLED,payload:i}}},{key:"isDisabled",value:function(i){return{type:o.SET_IS_DISABLED,payload:i}}},{key:"setDateCustomClasses",value:function(i){return{type:o.SET_DATE_CUSTOM_CLASSES,payload:i}}},{key:"setDateTooltipTexts",value:function(i){return{type:o.SET_DATE_TOOLTIP_TEXTS,payload:i}}},{key:"setLocale",value:function(i){return{type:o.SET_LOCALE,payload:i}}}]),o}();return n.CALCULATE="[datepicker] calculate dates matrix",n.FORMAT="[datepicker] format datepicker values",n.FLAG="[datepicker] set flags",n.SELECT="[datepicker] select date",n.NAVIGATE_OFFSET="[datepicker] shift view date",n.NAVIGATE_TO="[datepicker] change view date",n.SET_OPTIONS="[datepicker] update render options",n.HOVER="[datepicker] hover date",n.CHANGE_VIEWMODE="[datepicker] switch view mode",n.SET_MIN_DATE="[datepicker] set min date",n.SET_MAX_DATE="[datepicker] set max date",n.SET_DAYSDISABLED="[datepicker] set days disabled",n.SET_DATESDISABLED="[datepicker] set dates disabled",n.SET_DATESENABLED="[datepicker] set dates enabled",n.SET_IS_DISABLED="[datepicker] set is disabled",n.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",n.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",n.SET_LOCALE="[datepicker] set datepicker locale",n.SELECT_TIME="[datepicker] select time",n.SELECT_RANGE="[daterangepicker] select dates range",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n}(),Mb=function(){var n=function(){function o(){(0,I.Z)(this,o),this._defaultLocale="en",this._locale=new _i.X(this._defaultLocale),this._localeChange=this._locale.asObservable()}return(0,M.Z)(o,[{key:"locale",get:function(){return this._locale}},{key:"localeChange",get:function(){return this._localeChange}},{key:"currentLocale",get:function(){return this._locale.getValue()}},{key:"use",value:function(i){i!==this.currentLocale&&this._locale.next(i)}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n}(),r_=function(){var n=function(){function o(t,i){(0,I.Z)(this,o),this._actions=t,this._localeService=i,this._subs=[]}return(0,M.Z)(o,[{key:"init",value:function(i){return this._store=i,this}},{key:"setValue",value:function(i){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.select(i))}},{key:"setRangeValue",value:function(i){var r;null===(r=this._store)||void 0===r||r.dispatch(this._actions.selectRange(i))}},{key:"setMinDate",value:function(i){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.minDate(i)),this}},{key:"setMaxDate",value:function(i){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.maxDate(i)),this}},{key:"setDaysDisabled",value:function(i){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.daysDisabled(i)),this}},{key:"setDatesDisabled",value:function(i){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesDisabled(i)),this}},{key:"setDatesEnabled",value:function(i){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.datesEnabled(i)),this}},{key:"setDisabled",value:function(i){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.isDisabled(i)),this}},{key:"setDateCustomClasses",value:function(i){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateCustomClasses(i)),this}},{key:"setDateTooltipTexts",value:function(i){var r;return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setDateTooltipTexts(i)),this}},{key:"setOptions",value:function(i){var r,a=Object.assign({locale:this._localeService.currentLocale},i);return null===(r=this._store)||void 0===r||r.dispatch(this._actions.setOptions(a)),this}},{key:"setBindings",value:function(i){return this._store?(i.selectedTime=this._store.select(function(r){return r.selectedTime}).pipe((0,le.h)(function(r){return!!r})),i.daysCalendar$=this._store.select(function(r){return r.flaggedMonths}).pipe((0,le.h)(function(r){return!!r})),i.monthsCalendar=this._store.select(function(r){return r.flaggedMonthsCalendar}).pipe((0,le.h)(function(r){return!!r})),i.yearsCalendar=this._store.select(function(r){return r.yearsCalendarFlagged}).pipe((0,le.h)(function(r){return!!r})),i.viewMode=this._store.select(function(r){var a;return null===(a=r.view)||void 0===a?void 0:a.mode}),i.options$=(0,hhe.a)([this._store.select(function(r){return r.showWeekNumbers}),this._store.select(function(r){return r.displayMonths})]).pipe((0,Oe.U)(function(r){return{showWeekNumbers:r[0],displayMonths:r[1]}})),this):this}},{key:"setEventHandlers",value:function(i){var r=this;return i.setViewMode=function(a){var s;null===(s=r._store)||void 0===s||s.dispatch(r._actions.changeViewMode(a))},i.navigateTo=function(a){var s;null===(s=r._store)||void 0===s||s.dispatch(r._actions.navigateStep(a.step))},i.dayHoverHandler=function(a){var s,l=a.cell;l.isOtherMonth||l.isDisabled||(null===(s=r._store)||void 0===s||s.dispatch(r._actions.hoverDay(a)),l.isHovered=a.isHovered)},i.monthHoverHandler=function(a){a.cell.isHovered=a.isHovered},i.yearHoverHandler=function(a){a.cell.isHovered=a.isHovered},this}},{key:"registerDatepickerSideEffects",value:function(){var i=this;return this._store?(this._subs.push(this._store.select(function(r){return r.view}).subscribe(function(){var r;null===(r=i._store)||void 0===r||r.dispatch(i._actions.calculate())})),this._subs.push(this._store.select(function(r){return r.monthsModel}).pipe((0,le.h)(function(r){return!!r})).subscribe(function(){var r;return null===(r=i._store)||void 0===r?void 0:r.dispatch(i._actions.format())})),this._subs.push(this._store.select(function(r){return r.formattedMonths}).pipe((0,le.h)(function(r){return!!r})).subscribe(function(){var r;return null===(r=i._store)||void 0===r?void 0:r.dispatch(i._actions.flag())})),this._subs.push(this._store.select(function(r){return r.selectedDate}).pipe((0,le.h)(function(r){return!!r})).subscribe(function(){var r;return null===(r=i._store)||void 0===r?void 0:r.dispatch(i._actions.flag())})),this._subs.push(this._store.select(function(r){return r.selectedRange}).pipe((0,le.h)(function(r){return!!r})).subscribe(function(){var r;return null===(r=i._store)||void 0===r?void 0:r.dispatch(i._actions.flag())})),this._subs.push(this._store.select(function(r){return r.monthsCalendar}).subscribe(function(){var r;return null===(r=i._store)||void 0===r?void 0:r.dispatch(i._actions.flag())})),this._subs.push(this._store.select(function(r){return r.yearsCalendarModel}).pipe((0,le.h)(function(r){return!!r})).subscribe(function(){var r;return null===(r=i._store)||void 0===r?void 0:r.dispatch(i._actions.flag())})),this._subs.push(this._store.select(function(r){return r.hoveredDate}).pipe((0,le.h)(function(r){return!!r})).subscribe(function(){var r;return null===(r=i._store)||void 0===r?void 0:r.dispatch(i._actions.flag())})),this._subs.push(this._store.select(function(r){return r.dateCustomClasses}).pipe((0,le.h)(function(r){return!!r})).subscribe(function(){var r;return null===(r=i._store)||void 0===r?void 0:r.dispatch(i._actions.flag())})),this._subs.push(this._store.select(function(r){return r.dateTooltipTexts}).pipe((0,le.h)(function(r){return!!r})).subscribe(function(){var r;return null===(r=i._store)||void 0===r?void 0:r.dispatch(i._actions.flag())})),this._subs.push(this._localeService.localeChange.subscribe(function(r){var a;return null===(a=i._store)||void 0===a?void 0:a.dispatch(i._actions.setLocale(r))})),this):this}},{key:"destroy",value:function(){var r,i=(0,te.Z)(this._subs);try{for(i.s();!(r=i.n()).done;)r.value.unsubscribe()}catch(s){i.e(s)}finally{i.f()}}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(to),e.LFG(Mb))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n}(),n_e={date:new Date,mode:"day"},xA=Object.assign(new gd,{locale:"en",view:n_e,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function UC(n,o,t){var i=o&&sc(hb(n,"month"),o,"day"),r=t&&hl(hd(n,"month"),t,"day");return i||r||!1}function o_(n,o,t){var i=o&&sc(hb(n,"year"),o,"day"),r=t&&hl(hd(n,"year"),t,"day");return i||r||!1}function jC(n,o,t){return!!(o&&_r(o)&&o.length)&&(t&&"year"===t&&!o[0].getDate()?o.some(function(i){return Lh(n,i,"year")}):o.some(function(i){return Lh(n,i,"date")}))}function YC(n,o,t){return!!(o&&_r(o)&&o.length)&&!o.some(function(i){return Lh(n,i,t||"date")})}function CA(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=n&&n.yearsCalendarModel&&n.yearsCalendarModel[o];return(null==t?void 0:t.years[0])&&t.years[0][0]&&t.years[0][0].date}function o_e(n,o){return!n||!o||!n.length&&!n[0].value||n.forEach(function(t){return!t||!t.value||t.value instanceof Date||!(t.value instanceof Array&&t.value.length)||(t.value=wA(t.value,o)),n}),n}function TA(n,o){return!n||!o||n instanceof Array&&!n.length||n instanceof Date?n:wA(n,o)}function wA(n,o){return n instanceof Array?n.map(function(i){return i&&(hl(i,o,"date")&&(i=o),i)}):n}function DA(n){return n&&kA(n)}function SA(n){return null!=n&&n.length&&n.map(function(o){return o&&kA(o)}),n}function kA(n){var o=new Date;return n.setMilliseconds(o.getMilliseconds()),n.setSeconds(o.getSeconds()),n.setMinutes(o.getMinutes()),n.setHours(o.getHours()),n}function qC(n,o){for(var t=n.initialDate,i=new Array(n.height),r=0;r<n.height;r++){i[r]=new Array(n.width);for(var a=0;a<n.width;a++)i[r][a]=o(t),t=bo(t,n.shift)}return i}function JC(n,o){var t=function ope(n){return ab(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds())}(n),i=function i_e(n,o){if(function spe(n,o){return n.getDay()===Number(o)}(n,o.firstDayOfWeek))return n;var i=function r_e(n,o){var t=Number(o);if(isNaN(t))return 0;if(0===t)return n;var i=n-t%7;return i<0?i+7:i}(oc(n),o.firstDayOfWeek);return bo(n,{day:-i})}(t,o);return{daysMatrix:qC({width:o.width||0,height:o.height||0,initialDate:i,shift:{day:1}},function(s){return s}),month:t}}function s_e(n,o,t){return n.map(function(i){return i[0]?ws(i[0],o,t):""})}function l_e(n){var o=co(n),t=o.weekdaysShort(),i=o.firstDayOfWeek();return[].concat((0,K.Z)(t.slice(i)),(0,K.Z)(t.slice(0,i)))}function AA(n,o){return!o||n>=o}var f_e={month:1};function MA(n,o){return{months:qC({width:3,height:4,initialDate:hd(n,"year"),shift:f_e},function(a){return{date:a,label:ws(a,o.monthLabel,o.locale)}}),monthTitle:"",yearTitle:ws(n,o.yearTitle,o.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}var OA=-1*(Math.floor(8)-1),m_e={year:1};function PA(n,o,t){var i=function g_e(n,o){return o&&n.getFullYear()>=o.getFullYear()&&n.getFullYear()<o.getFullYear()+16?o:bo(n,{year:OA})}(n,t),a=qC({width:4,height:4,initialDate:i,shift:m_e},function(l){return{date:l,label:ws(l,o.yearLabel,o.locale)}}),s=function __e(n,o){var t=ws(n[0][0].date,o.yearTitle,o.locale),i=ws(n[3][3].date,o.yearTitle,o.locale);return"".concat(t," - ").concat(i)}(a,o);return{years:a,monthTitle:"",yearTitle:s,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function VC(n,o){!n||!isNaN(n.getTime())||(n.setHours(o.getHours()),n.setMinutes(o.getMinutes()),n.setSeconds(o.getSeconds()),n.setMilliseconds(o.getMilliseconds()))}function EA(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xA,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case to.CALCULATE:return b_e(n);case to.FORMAT:return y_e(n);case to.FLAG:return x_e(n);case to.NAVIGATE_OFFSET:return C_e(n,o);case to.NAVIGATE_TO:var i=o.payload;if(!n.view||!i.unit)return n;var a,r=ype(n.view.date,i.unit);return a=AA(i.viewMode,n.minMode)?{view:{date:r,mode:i.viewMode}}:{selectedDate:r,view:{date:r,mode:n.view.mode}},Object.assign({},n,a);case to.CHANGE_VIEWMODE:if(!AA(o.payload,n.minMode)||!n.view)return n;var l=n.view.date,c=o.payload,u={view:{date:l,mode:c}};return Object.assign({},n,u);case to.HOVER:return Object.assign({},n,{hoveredDate:o.payload});case to.SELECT:if(!n.view)return n;var h={selectedDate:o.payload,view:n.view};if(Array.isArray(n.selectedTime)){var x=n.selectedTime[0];h.selectedDate&&x&&VC(h.selectedDate,x)}var T=n.view.mode,O=o.payload||n.view.date,U=GC(O,n.minDate,n.maxDate);return h.view={mode:T,date:U},Object.assign({},n,h);case to.SELECT_TIME:var re=o.payload,de=re.date,ve=re.index,Ne=n.selectedTime?(0,K.Z)(n.selectedTime):[];return Ne[ve]=de,Object.assign({},n,{selectedTime:Ne});case to.SET_OPTIONS:if(!n.view)return n;var De=o.payload,Ge=De.minMode?De.minMode:n.view.mode,We=tu(De.value)&&De.value||_r(De.value)&&tu(De.value[0])&&De.value[0]||n.view.date,gt=GC(We,De.minDate,De.maxDate);return De.view={mode:Ge,date:gt},De.value&&(_r(De.value)&&(De.selectedRange=De.value,De.selectedTime=De.value.map(function(Bt){return Bt})),De.value instanceof Date&&(De.selectedDate=De.value,De.selectedTime=[De.value])),Object.assign({},n,De);case to.SELECT_RANGE:if(!n.view)return n;var rt={selectedRange:o.payload,view:n.view};null===(t=rt.selectedRange)||void 0===t||t.forEach(function(Bt,ln){if(Array.isArray(n.selectedTime)){var Pn=n.selectedTime[ln];Pn&&VC(Bt,Pn)}});var vt=n.view.mode,Zt=o.payload&&o.payload[0]||n.view.date,Ht=GC(Zt,n.minDate,n.maxDate);return rt.view={mode:vt,date:Ht},Object.assign({},n,rt);case to.SET_MIN_DATE:return Object.assign({},n,{minDate:o.payload});case to.SET_MAX_DATE:return Object.assign({},n,{maxDate:o.payload});case to.SET_IS_DISABLED:return Object.assign({},n,{isDisabled:o.payload});case to.SET_DATE_CUSTOM_CLASSES:return Object.assign({},n,{dateCustomClasses:o.payload});case to.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},n,{dateTooltipTexts:o.payload});default:return n}}function b_e(n){if(!n.view)return n;var o;o=n.displayOneMonthRange&&IA(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths||1;var t=n.view.date;if("day"===n.view.mode&&n.monthViewOptions){n.showPreviousMonth&&n.selectedRange&&0===n.selectedRange.length&&(t=bo(t,{month:-1})),n.monthViewOptions.firstDayOfWeek=co(n.locale).firstDayOfWeek();for(var i=new Array(o),r=0;r<o;r++)i[r]=JC(t,n.monthViewOptions),t=bo(t,{month:1});if(n.preventChangeToNextMonth&&n.flaggedMonths&&n.hoveredDate){var a=JC(n.view.date,n.monthViewOptions);n.flaggedMonths.length&&n.flaggedMonths[1].month.getMonth()===a.month.getMonth()&&(i=n.flaggedMonths.map(function(h){return n.monthViewOptions?JC(h.month,n.monthViewOptions):null}).filter(function(h){return null!==h}))}return Object.assign({},n,{monthsModel:i})}if("month"===n.view.mode){for(var s=new Array(o),l=0;l<o;l++)s[l]=MA(t,a_(n)),t=bo(t,{year:1});return Object.assign({},n,{monthsCalendar:s})}if("year"===n.view.mode){for(var c=new Array(o),u=0;u<o;u++)c[u]=PA(t,a_(n),"year"===n.minMode?CA(n,u):void 0),t=bo(t,{year:16});return Object.assign({},n,{yearsCalendarModel:c})}return n}function y_e(n){if(!n.view)return n;if("day"===n.view.mode&&n.monthsModel){var o=n.monthsModel.map(function(c,u){return function a_e(n,o,t){return{month:n.month,monthTitle:ws(n.month,o.monthTitle,o.locale),yearTitle:ws(n.month,o.yearTitle,o.locale),weekNumbers:s_e(n.daysMatrix,o.weekNumbers,o.locale),weekdays:l_e(o.locale),weeks:n.daysMatrix.map(function(i,r){return{days:i.map(function(a,s){return{date:a,label:ws(a,o.dayLabel,o.locale),monthIndex:t,weekIndex:r,dayIndex:s}})}}),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(c,a_(n),u)});return Object.assign({},n,{formattedMonths:o})}var t=n.displayMonths||1,i=n.view.date;if("month"===n.view.mode){for(var r=new Array(t),a=0;a<t;a++)r[a]=MA(i,a_(n)),i=bo(i,{year:1});return Object.assign({},n,{monthsCalendar:r})}if("year"===n.view.mode){for(var s=new Array(t),l=0;l<t;l++)s[l]=PA(i,a_(n)),i=bo(i,{year:16});return Object.assign({},n,{yearsCalendarModel:s})}return n}function x_e(n){if(!n.view)return n;var o=IA(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths;if(n.formattedMonths&&"day"===n.view.mode){var t=n.formattedMonths.map(function(a,s){return function c_e(n,o){return n.weeks.forEach(function(t){t.days.forEach(function(i,r){var a=!Ih(i.date,n.month),s=!a&&nu(i.date,o.hoveredDate),l=!a&&o.selectedRange&&nu(i.date,o.selectedRange[0]),c=!a&&o.selectedRange&&nu(i.date,o.selectedRange[1]),u=!a&&nu(i.date,o.selectedDate)||l||c,h=!a&&o.selectedRange&&function d_e(n,o,t){return!!(n&&o&&o[0])&&(o[1]?n>o[0]&&n<=o[1]:!!t&&n>o[0]&&n<=t)}(i.date,o.selectedRange,o.hoveredDate),x=o.isDisabled||sc(i.date,o.minDate,"day")||hl(i.date,o.maxDate,"day")||function Nfe(n,o){return!(void 0===o||!o||!o.length)&&o.some(function(t){return t===n.getDay()})}(i.date,o.daysDisabled)||jC(i.date,o.datesDisabled)||YC(i.date,o.datesEnabled),T=new Date,O=!a&&nu(i.date,T),U=o.dateCustomClasses&&o.dateCustomClasses.map(function(ve){return nu(i.date,ve.date)?ve.classes:[]}).reduce(function(ve,Ne){return ve.concat(Ne)},[]).join(" ")||"",re=o.dateTooltipTexts&&o.dateTooltipTexts.map(function(ve){return nu(i.date,ve.date)?ve.tooltipText:""}).reduce(function(ve,Ne){return ve.push(Ne),ve},[]).join(" ")||"",de=Object.assign({},i,{isOtherMonth:a,isHovered:s,isSelected:u,isSelectionStart:l,isSelectionEnd:c,isInRange:h,isDisabled:x,isToday:O,customClasses:U,tooltipText:re});(i.isOtherMonth!==de.isOtherMonth||i.isHovered!==de.isHovered||i.isSelected!==de.isSelected||i.isSelectionStart!==de.isSelectionStart||i.isSelectionEnd!==de.isSelectionEnd||i.isDisabled!==de.isDisabled||i.isInRange!==de.isInRange||i.customClasses!==de.customClasses||i.tooltipText!==de.tooltipText)&&(t.days[r]=de)})}),n.hideLeftArrow=o.isDisabled||!!o.monthIndex&&o.monthIndex>0&&o.monthIndex!==o.displayMonths,n.hideRightArrow=o.isDisabled||(!!o.monthIndex||0===o.monthIndex)&&!!o.displayMonths&&o.monthIndex<o.displayMonths&&o.monthIndex+1!==o.displayMonths,n.disableLeftArrow=UC(bo(n.month,{month:-1}),o.minDate,o.maxDate),n.disableRightArrow=UC(bo(n.month,{month:1}),o.minDate,o.maxDate),n}(a,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,daysDisabled:n.daysDisabled,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,hoveredDate:n.hoveredDate,selectedDate:n.selectedDate,selectedRange:n.selectedRange,displayMonths:o,dateCustomClasses:n.dateCustomClasses,dateTooltipTexts:n.dateTooltipTexts,monthIndex:s})});return Object.assign({},n,{flaggedMonths:t})}if("month"===n.view.mode&&n.monthsCalendar){var i=n.monthsCalendar.map(function(a,s){return function h_e(n,o){return n.months.forEach(function(t,i){t.forEach(function(r,a){var s,l=Ih(r.date,o.hoveredMonth),c=o.isDisabled||jC(r.date,o.datesDisabled)||YC(r.date,o.datesEnabled,"month")||UC(r.date,o.minDate,o.maxDate);!o.selectedDate&&o.selectedRange?(s=Ih(r.date,o.selectedRange[0]))||(s=Ih(r.date,o.selectedRange[1])):s=Ih(r.date,o.selectedDate);var u=Object.assign(r,{isHovered:l,isDisabled:c,isSelected:s});(r.isHovered!==u.isHovered||r.isDisabled!==u.isDisabled||r.isSelected!==u.isSelected)&&(n.months[i][a]=u)})}),n.hideLeftArrow=!!o.monthIndex&&o.monthIndex>0&&o.monthIndex!==o.displayMonths,n.hideRightArrow=(!!o.monthIndex||0===o.monthIndex)&&(!!o.displayMonths||0===o.displayMonths)&&o.monthIndex<o.displayMonths&&o.monthIndex+1!==o.displayMonths,n.disableLeftArrow=o_(bo(n.months[0][0].date,{year:-1}),o.minDate,o.maxDate),n.disableRightArrow=o_(bo(n.months[0][0].date,{year:1}),o.minDate,o.maxDate),n}(a,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredMonth:n.hoveredMonth,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:o,monthIndex:s})});return Object.assign({},n,{flaggedMonthsCalendar:i})}if("year"===n.view.mode&&n.yearsCalendarModel){var r=n.yearsCalendarModel.map(function(a,s){return function v_e(n,o){n.years.forEach(function(r,a){r.forEach(function(s,l){var c,u=Nh(s.date,o.hoveredYear),h=o.isDisabled||jC(s.date,o.datesDisabled,"year")||YC(s.date,o.datesEnabled,"year")||o_(s.date,o.minDate,o.maxDate);!o.selectedDate&&o.selectedRange?(c=Nh(s.date,o.selectedRange[0]))||(c=Nh(s.date,o.selectedRange[1])):c=Nh(s.date,o.selectedDate);var x=Object.assign(s,{isHovered:u,isDisabled:h,isSelected:c});(s.isHovered!==x.isHovered||s.isDisabled!==x.isDisabled||s.isSelected!==x.isSelected)&&(n.years[a][l]=x)})}),n.hideLeftArrow=!!o.yearIndex&&o.yearIndex>0&&o.yearIndex!==o.displayMonths,n.hideRightArrow=!!o.yearIndex&&!!o.displayMonths&&o.yearIndex<o.displayMonths&&o.yearIndex+1!==o.displayMonths,n.disableLeftArrow=o_(bo(n.years[0][0].date,{year:-1}),o.minDate,o.maxDate);var t=n.years.length-1;return n.disableRightArrow=o_(bo(n.years[t][n.years[t].length-1].date,{year:1}),o.minDate,o.maxDate),n}(a,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredYear:n.hoveredYear,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:o,yearIndex:s})});return Object.assign({},n,{yearsCalendarFlagged:r})}return n}function C_e(n,o){if(!n.view)return n;var t=function T_e(n,o){if(n.view){if("year"===n.view.mode&&"year"===n.minMode){var t=CA(n,0);if(t){var i=bo(t,{year:-OA});return bo(i,o.payload)}}return bo(hd(n.view.date,"month"),o.payload)}}(n,o);return t?Object.assign({},n,{view:{mode:n.view.mode,date:t}}):n}function a_(n){return{locale:n.locale,monthTitle:n.monthTitle,yearTitle:n.yearTitle,dayLabel:n.dayLabel,monthLabel:n.monthLabel,yearLabel:n.yearLabel,weekNumbers:n.weekNumbers}}function GC(n,o,t){var i=Array.isArray(n)?n[0]:n;return o&&hl(o,i,"day")?o:t&&sc(t,i,"day")?t:i}function IA(n,o,t){return!(!t||!Lh(t,n,"day"))||o&&t&&o.getMonth()===t.getMonth()}var s_=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){(0,I.Z)(this,i);var r=new _i.X({type:"[datepicker] dispatcher init"}),a=new Y2(xA,r,EA);return t.call(this,r,EA,a)}return(0,M.Z)(i)}(q2);return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n}(),NA=function(){var n=function(){function o(){(0,I.Z)(this,o),this.onSelect=new e.vpe}return(0,M.Z)(o,[{key:"selectFromRanges",value:function(i){this.onSelect.emit(i)}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Eme,2,3,"button",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.ranges))},dependencies:[D.sg],encapsulation:2,changeDetection:0}),n}(),au=function(){return(n=au||(au={}))[n.UP=0]="UP",n[n.DOWN=1]="DOWN",au;var n}(),w_e=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"span"),e._uU(2),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(i.title))},encapsulation:2}),n}(),D_e=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o),this.ampm="ok",this.hours=0,this.minutes=0});return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e._uU(3,"-"),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"button",4),e._uU(6,"+"),e.qZA()(),e.TgZ(7,"div",1)(8,"button",2),e._uU(9,"-"),e.qZA(),e._UZ(10,"input",3),e.TgZ(11,"button",4),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"button",5),e._uU(14),e._UZ(15,"img",6),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("value",i.hours),e.xp6(6),e.Q6J("value",i.minutes),e.xp6(4),e.hij("",i.ampm," "))},encapsulation:2}),n}(),WC=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-calendar-layout"]],ngContentSelectors:Fme,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(t,i){1&t&&(e.F$t(Rme),e.YNc(0,Ime,1,0,"bs-current-date",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA(),e.TgZ(3,"div",2),e.Hsn(4,1),e.qZA(),e.YNc(5,Nme,1,0,"bs-timepicker",3)),2&t&&(e.Q6J("ngIf",!1),e.xp6(5),e.Q6J("ngIf",!1))},dependencies:[D.O5,w_e,D_e],encapsulation:2}),n}(),S_e=function(){var n=function(){function o(t,i,r){(0,I.Z)(this,o),this._config=t,this._elRef=i,this._renderer=r,this.day={date:new Date,label:""}}return(0,M.Z)(o,[{key:"ngOnInit",value:function(){var r,a,s,i=this;(null===(r=this.day)||void 0===r?void 0:r.isToday)&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof(null===(a=this.day)||void 0===a?void 0:a.customClasses)&&(null===(s=this.day)||void 0===s||s.customClasses.split(" ").filter(function(l){return l}).forEach(function(l){i._renderer.addClass(i._elRef.nativeElement,l)}))}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(gd),e.Y36(e.SBq),e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(t,i){2&t&&e.ekj("disabled",i.day.isDisabled)("is-highlighted",i.day.isHovered)("is-other-month",i.day.isOtherMonth)("is-active-other-month",i.day.isOtherMonthHovered)("in-range",i.day.isInRange)("select-start",i.day.isSelectionStart)("select-end",i.day.isSelectionEnd)("selected",i.day.isSelected)},inputs:{day:"day"},attrs:Zme,decls:1,vars:1,template:function(t,i){1&t&&e._uU(0),2&t&&e.Oqu(i.day&&i.day.label||"")},encapsulation:2,changeDetection:0}),n}(),QC=function(){var n=function(){function o(){(0,I.Z)(this,o),this.onNavigate=new e.vpe,this.onViewMode=new e.vpe}return(0,M.Z)(o,[{key:"navTo",value:function(i){this.onNavigate.emit(i?au.DOWN:au.UP)}},{key:"view",value:function(i){this.onViewMode.emit(i)}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return i.navTo(!0)}),e.TgZ(1,"span"),e._uU(2,"\u2039"),e.qZA()(),e.YNc(3,Lme,5,1,"ng-container",1),e._uU(4," \u200b "),e.TgZ(5,"button",2),e.NdJ("click",function(){return i.view("year")}),e.TgZ(6,"span"),e._uU(7),e.qZA()(),e._uU(8," \u200b "),e.TgZ(9,"button",3),e.NdJ("click",function(){return i.navTo(!1)}),e.TgZ(10,"span"),e._uU(11,"\u203a"),e.qZA()()),2&t&&(e.Udp("visibility",i.calendar.hideLeftArrow?"hidden":"visible"),e.Q6J("disabled",i.calendar.disableLeftArrow),e.xp6(3),e.Q6J("ngIf",i.calendar&&i.calendar.monthTitle),e.xp6(4),e.Oqu(i.calendar.yearTitle),e.xp6(2),e.Udp("visibility",i.calendar.hideRightArrow?"hidden":"visible"),e.Q6J("disabled",i.calendar.disableRightArrow))},dependencies:[D.O5],encapsulation:2,changeDetection:0}),n}(),RA=function(){var n=function(){function o(t){(0,I.Z)(this,o),this._config=t,this.onNavigate=new e.vpe,this.onViewMode=new e.vpe,this.onSelect=new e.vpe,this.onHover=new e.vpe,this.onHoverWeek=new e.vpe,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}return(0,M.Z)(o,[{key:"navigateTo",value:function(i){this.onNavigate.emit({step:{month:au.DOWN===i?-1:1}})}},{key:"changeViewMode",value:function(i){this.onViewMode.emit(i)}},{key:"selectDay",value:function(i){this.onSelect.emit(i)}},{key:"selectWeek",value:function(i){var r=this;if((this._config.selectWeek||this._config.selectWeekDateRange)&&0!==i.days.length){if(this._config.selectWeek&&i.days[0]&&!i.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(i.days[0]);var a=i.days.find(function(c){return(r._config.selectFromOtherMonth||!c.isOtherMonth)&&!c.isDisabled});if(this.onSelect.emit(a),this._config.selectWeekDateRange){var l=i.days.slice(0).reverse().find(function(c){return(r._config.selectFromOtherMonth||!c.isOtherMonth)&&!c.isDisabled});this.onSelect.emit(l)}}}},{key:"weekHoverHandler",value:function(i,r){var a=this;(this._config.selectWeek||this._config.selectWeekDateRange)&&i.days.find(function(l){return(a._config.selectFromOtherMonth||!l.isOtherMonth)&&!l.isDisabled})&&(i.isHovered=r,this.isWeekHovered=r,this.onHoverWeek.emit(i))}},{key:"hoverDay",value:function(i,r){this._config.selectFromOtherMonth&&i.isOtherMonth&&(i.isOtherMonthHovered=r),this._config.dateTooltipTexts&&(i.tooltipText="",this._config.dateTooltipTexts.forEach(function(a){nu(a.date,i.date)&&(i.tooltipText=a.tooltipText)})),this.onHover.emit({cell:i,isHovered:r})}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(gd))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(t,i){1&t&&(e.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),e.NdJ("onNavigate",function(a){return i.navigateTo(a)})("onViewMode",function(a){return i.changeViewMode(a)}),e.qZA(),e.TgZ(2,"table",1)(3,"thead")(4,"tr"),e.YNc(5,Ume,1,0,"th",2),e.YNc(6,jme,2,1,"th",3),e.qZA()(),e.TgZ(7,"tbody"),e.YNc(8,Wme,3,2,"tr",4),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("calendar",i.calendar),e.xp6(4),e.Q6J("ngIf",i.options&&i.options.showWeekNumbers),e.xp6(1),e.Q6J("ngForOf",i.calendar.weekdays),e.xp6(2),e.Q6J("ngForOf",i.calendar.weeks))},dependencies:[D.sg,D.O5,Ome,WC,S_e,QC],encapsulation:2}),n}(),FA=function(){var n=function(){function o(){(0,I.Z)(this,o),this.onNavigate=new e.vpe,this.onViewMode=new e.vpe,this.onSelect=new e.vpe,this.onHover=new e.vpe}return(0,M.Z)(o,[{key:"navigateTo",value:function(i){this.onNavigate.emit({step:{year:au.DOWN===i?-1:1}})}},{key:"viewMonth",value:function(i){this.onSelect.emit(i)}},{key:"hoverMonth",value:function(i,r){this.onHover.emit({cell:i,isHovered:r})}},{key:"changeViewMode",value:function(i){this.onViewMode.emit(i)}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,i){1&t&&(e.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),e.NdJ("onNavigate",function(a){return i.navigateTo(a)})("onViewMode",function(a){return i.changeViewMode(a)}),e.qZA(),e.TgZ(2,"table",1)(3,"tbody"),e.YNc(4,zme,2,1,"tr",2),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("calendar",i.calendar),e.xp6(3),e.Q6J("ngForOf",null==i.calendar?null:i.calendar.months))},dependencies:[D.sg,WC,QC],encapsulation:2}),n}(),ZA=function(){var n=function(){function o(){(0,I.Z)(this,o),this.onNavigate=new e.vpe,this.onViewMode=new e.vpe,this.onSelect=new e.vpe,this.onHover=new e.vpe}return(0,M.Z)(o,[{key:"navigateTo",value:function(i){this.onNavigate.emit({step:{year:16*(au.DOWN===i?-1:1)}})}},{key:"viewYear",value:function(i){this.onSelect.emit(i)}},{key:"hoverYear",value:function(i,r){this.onHover.emit({cell:i,isHovered:r})}},{key:"changeViewMode",value:function(i){this.onViewMode.emit(i)}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,i){1&t&&(e.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),e.NdJ("onNavigate",function(a){return i.navigateTo(a)})("onViewMode",function(a){return i.changeViewMode(a)}),e.qZA(),e.TgZ(2,"table",1)(3,"tbody"),e.YNc(4,$me,2,1,"tr",2),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("calendar",i.calendar),e.xp6(3),e.Q6J("ngForOf",null==i.calendar?null:i.calendar.years))},dependencies:[D.sg,WC,QC],encapsulation:2}),n}(),k_e=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c,u,h){var x;return(0,I.Z)(this,i),(x=t.call(this))._config=a,x._store=s,x._element=l,x._actions=c,x._positionService=h,x.valueChange=new e.vpe,x.animationState="void",x.isRangePicker=!1,x._subs=[],x._effects=u,r.setStyle(l.nativeElement,"display","block"),r.setStyle(l.nativeElement,"position","absolute"),x}return(0,M.Z)(i,[{key:"value",set:function(a){var s;null===(s=this._effects)||void 0===s||s.setValue(a)}},{key:"ngOnInit",value:function(){var s,l,c,a=this;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(s=this._positionService.event$)||void 0===s||s.pipe((0,E1.q)(1)).subscribe(function(){a._positionService.disable(),a.animationState=a._config.isAnimated?a.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,null===(l=this._effects)||void 0===l||l.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(function(u){return u.selectedDate}).subscribe(function(u){c=u,a.valueChange.emit(u)})),this._subs.push(this._store.select(function(u){return u.selectedTime}).subscribe(function(u){!u[0]||!(u[0]instanceof Date)||u[0]===c||a.valueChange.emit(u[0])})),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}},{key:"ngAfterViewInit",value:function(){var s,l,a=this;this.selectedTimeSub.add(null===(s=this.selectedTime)||void 0===s?void 0:s.subscribe(function(c){var u;Array.isArray(c)&&c.length>=1&&(null===(u=a.startTimepicker)||void 0===u||u.writeValue(c[0]))})),null===(l=this.startTimepicker)||void 0===l||l.registerOnChange(function(c){a.timeSelectHandler(c,0)})}},{key:"isTopPosition",get:function(){return this._element.nativeElement.classList.contains("top")}},{key:"positionServiceEnable",value:function(){this._positionService.enable()}},{key:"timeSelectHandler",value:function(a,s){this._store.dispatch(this._actions.selectTime(a,s))}},{key:"daySelectHandler",value:function(a){a&&((this.isOtherMonthsActive?a.isDisabled:a.isOtherMonth||a.isDisabled)||this._store.dispatch(this._actions.select(a.date)))}},{key:"monthSelectHandler",value:function(a){!a||a.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:hi(a.date),year:kr(a.date)},viewMode:"day"}))}},{key:"yearSelectHandler",value:function(a){!a||a.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:kr(a.date)},viewMode:"month"}))}},{key:"setToday",value:function(){this._store.dispatch(this._actions.select(new Date))}},{key:"clearDate",value:function(){this._store.dispatch(this._actions.select(void 0))}},{key:"ngOnDestroy",value:function(){var a,l,s=(0,te.Z)(this._subs);try{for(s.s();!(l=s.n()).done;)l.value.unsubscribe()}catch(u){s.e(u)}finally{s.f()}this.selectedTimeSub.unsubscribe(),null===(a=this._effects)||void 0===a||a.destroy()}}]),i}(yA);return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(gd),e.Y36(s_),e.Y36(e.SBq),e.Y36(to),e.Y36(r_),e.Y36(Gh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-datepicker-container"]],viewQuery:function(t,i){var r;1&t&&e.Gf(_A,5),2&t&&e.iGM(r=e.CRH())&&(i.startTimepicker=r.first)},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,i){1&t&&e.NdJ("click",function(a){return i._stopPropagation(a)})},features:[e._Bn([s_,r_]),e.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,i){1&t&&(e.YNc(0,pge,10,11,"div",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.viewMode))},dependencies:[D.mk,D.sg,D.O5,D.RF,D.n9,ZC,NA,RA,FA,ZA,D.Ov],encapsulation:2,data:{animation:[bA]}}),n}(),A_e=function(){var n=function(){function o(t,i,r,a,s){(0,I.Z)(this,o),this._config=t,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new b.x,this.isDisabled=!1,this.bsValueChange=new e.vpe,this._subs=[],this._dateInputFormat$=new b.x,Object.assign(this,this._config),this._datepicker=s.createLoader(i,a,r),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new _i.X(this.isOpen)}return(0,M.Z)(o,[{key:"isOpen",get:function(){return this._datepicker.isShown},set:function(i){this.isOpen$.next(i)}},{key:"bsValue",set:function(i){var r;this._bsValue&&i&&this._bsValue.getTime()===i.getTime()||(this._bsValue||!i||this._config.withTimepicker||VC(i,new Date),i&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(i=DA(i)),this._bsValue=i,this.bsValueChange.emit(i))}},{key:"dateInputFormat$",get:function(){return this._dateInputFormat$}},{key:"ngOnInit",value:function(){var i=this;this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:function(){return i.show()}}),this.setConfig()}},{key:"ngOnChanges",value:function(i){var r,a,s,l;i.bsConfig&&((null===(r=i.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(a=i.bsConfig.currentValue)||void 0===a?void 0:a.initCurrentTime)!==(null===(s=i.bsConfig.previousValue)||void 0===s?void 0:s.initCurrentTime)&&this._bsValue&&(this._bsValue=DA(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(i.minDate&&(this._datepickerRef.instance.minDate=this.minDate),i.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),i.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),i.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),i.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),i.isDisabled&&(!(null===(l=this._elementRef)||void 0===l)&&l.nativeElement&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),i.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),i.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}},{key:"initSubscribes",value:function(){var i=this;this._subs.push(this.bsValueChange.subscribe(function(r){i._datepickerRef&&(i._datepickerRef.instance.value=r)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(function(r){i.bsValue=r,i.hide()}))}},{key:"ngAfterViewInit",value:function(){var i=this;this.isOpen$.pipe((0,le.h)(function(r){return r!==i.isOpen}),(0,H.R)(this.isDestroy$)).subscribe(function(){return i.toggle()})}},{key:"show",value:function(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:gd,useValue:this._config}).attach(k_e).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}},{key:"hide",value:function(){this.isOpen&&this._datepicker.hide();var r,i=(0,te.Z)(this._subs);try{for(i.s();!(r=i.n()).done;)r.value.unsubscribe()}catch(s){i.e(s)}finally{i.f()}this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}},{key:"toggle",value:function(){if(this.isOpen)return this.hide();this.show()}},{key:"setConfig",value:function(){var i;this._config=Object.assign({},this._config,this.bsConfig,{value:TA(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:null===(i=this.bsConfig)||void 0===i?void 0:i.initCurrentTime})}},{key:"unsubscribeSubscriptions",value:function(){var i;null!==(i=this._subs)&&void 0!==i&&i.length&&(this._subs.map(function(r){return r.unsubscribe()}),this._subs.length=0)}},{key:"ngOnDestroy",value:function(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(gd),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.s_b),e.Y36(i_))},n.\u0275dir=e.lG2({type:n,selectors:[["","bsDatepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[e.TTD]}),n}(),M_e=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(r,a,s,l,c,u,h){var x;return(0,I.Z)(this,i),(x=t.call(this))._config=a,x._store=s,x._element=l,x._actions=c,x._positionService=h,x.valueChange=new e.vpe,x.animationState="void",x._rangeStack=[],x.chosenRange=[],x._subs=[],x.isRangePicker=!0,x._effects=u,x.customRanges=x._config.ranges||[],x.customRangeBtnLbl=x._config.customRangeButtonLabel,r.setStyle(l.nativeElement,"display","block"),r.setStyle(l.nativeElement,"position","absolute"),x}return(0,M.Z)(i,[{key:"value",set:function(a){var s;null===(s=this._effects)||void 0===s||s.setRangeValue(a)}},{key:"ngOnInit",value:function(){var s,l,c,a=this;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),null===(s=this._positionService.event$)||void 0===s||s.pipe((0,E1.q)(1)).subscribe(function(){a._positionService.disable(),a.animationState=a._config.isAnimated?a.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,null===(l=this._effects)||void 0===l||l.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(function(u){return u.selectedRange}).subscribe(function(u){c=u,a.valueChange.emit(u),a.chosenRange=u||[]})),this._subs.push(this._store.select(function(u){return u.selectedTime}).subscribe(function(u){!u[0]||!u[1]||!(u[0]instanceof Date)||!(u[1]instanceof Date)||c&&u[0]===c[0]&&u[1]===c[1]||(a.valueChange.emit(u),a.chosenRange=u||[])}))}},{key:"ngAfterViewInit",value:function(){var s,l,c,a=this;this.selectedTimeSub.add(null===(s=this.selectedTime)||void 0===s?void 0:s.subscribe(function(u){var h,x;Array.isArray(u)&&u.length>=2&&(null===(h=a.startTimepicker)||void 0===h||h.writeValue(u[0]),null===(x=a.endTimepicker)||void 0===x||x.writeValue(u[1]))})),null===(l=this.startTimepicker)||void 0===l||l.registerOnChange(function(u){a.timeSelectHandler(u,0)}),null===(c=this.endTimepicker)||void 0===c||c.registerOnChange(function(u){a.timeSelectHandler(u,1)})}},{key:"isTopPosition",get:function(){return this._element.nativeElement.classList.contains("top")}},{key:"positionServiceEnable",value:function(){this._positionService.enable()}},{key:"timeSelectHandler",value:function(a,s){this._store.dispatch(this._actions.selectTime(a,s))}},{key:"daySelectHandler",value:function(a){a&&((this.isOtherMonthsActive?a.isDisabled:a.isOtherMonth||a.isDisabled)||this.rangesProcessing(a))}},{key:"monthSelectHandler",value:function(a){if(a&&!a.isDisabled){if(a.isSelected=!0,"month"!==this._config.minMode){if(a.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:hi(a.date),year:kr(a.date)},viewMode:"day"}))}this.rangesProcessing(a)}}},{key:"yearSelectHandler",value:function(a){if(a&&!a.isDisabled){if(a.isSelected=!0,"year"!==this._config.minMode){if(a.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:kr(a.date)},viewMode:"month"}))}this.rangesProcessing(a)}}},{key:"rangesProcessing",value:function(a){1===this._rangeStack.length&&(this._rangeStack=a.date>=this._rangeStack[0]?[this._rangeStack[0],a.date]:[a.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(a.date),0===this._rangeStack.length&&(this._rangeStack=[a.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(a.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}},{key:"ngOnDestroy",value:function(){var a,l,s=(0,te.Z)(this._subs);try{for(s.s();!(l=s.n()).done;)l.value.unsubscribe()}catch(u){s.e(u)}finally{s.f()}this.selectedTimeSub.unsubscribe(),null===(a=this._effects)||void 0===a||a.destroy()}},{key:"setRangeOnCalendar",value:function(a){a&&(this._rangeStack=a.value instanceof Date?[a.value]:a.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}},{key:"setMaxDateRangeOnCalendar",value:function(a){var s,l=new Date(a);if(this._config.maxDate){var c=this._config.maxDate.getTime(),u=a.getTime()+864e5*(this._config.maxDateRange||0);l=u>c?new Date(this._config.maxDate):new Date(u)}else l.setDate(a.getDate()+(this._config.maxDateRange||0));null===(s=this._effects)||void 0===s||s.setMaxDate(l)}}]),i}(yA);return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(gd),e.Y36(s_),e.Y36(e.SBq),e.Y36(to),e.Y36(r_),e.Y36(Gh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bs-daterangepicker-container"]],viewQuery:function(t,i){var r;1&t&&(e.Gf(_A,5),e.Gf(Sge,5)),2&t&&(e.iGM(r=e.CRH())&&(i.startTimepicker=r.first),e.iGM(r=e.CRH())&&(i.endTimepicker=r.first))},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,i){1&t&&e.NdJ("click",function(a){return i._stopPropagation(a)})},features:[e._Bn([s_,r_]),e.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],["startTP",""],[4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,i){1&t&&(e.YNc(0,jge,10,11,"div",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.viewMode))},dependencies:[D.mk,D.sg,D.O5,D.RF,D.n9,ZC,NA,RA,FA,ZA,D.Ov],encapsulation:2,data:{animation:[bA]}}),n}(),O_e={provide:_.JU,useExisting:(0,e.Gpc)(function(){return LA}),multi:!0},P_e={provide:_.Cf,useExisting:(0,e.Gpc)(function(){return LA}),multi:!0},LA=function(){var n=function(){function o(t,i,r,a,s){(0,I.Z)(this,o),this._picker=t,this._localeService=i,this._renderer=r,this._elRef=a,this.changeDetection=s,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new kh.w0}return(0,M.Z)(o,[{key:"ngOnInit",value:function(){var i=this,r=function(s){i._setInputValue(s),i._value!==s&&(i._value=s,i._onChange(s),i._onTouched()),i.changeDetection.markForCheck()};this._picker._bsValue&&r(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(r)),this._subs.add(this._localeService.localeChange.subscribe(function(){i._setInputValue(i._value)})),this._subs.add(this._picker.dateInputFormat$.pipe((0,Gi.x)()).subscribe(function(){i._setInputValue(i._value)}))}},{key:"ngOnDestroy",value:function(){this._subs.unsubscribe()}},{key:"onKeydownEvent",value:function(i){(13===i.keyCode||"Enter"===i.code)&&this.hide()}},{key:"_setInputValue",value:function(i){var r=i?ws(i,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",r)}},{key:"onChange",value:function(i){this.writeValue(i.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}},{key:"validate",value:function(i){var r=i.value;if(null==r||""===r)return null;if(rb(r)){if(!tu(r))return{bsDate:{invalid:r}};if(this._picker&&this._picker.minDate&&sc(r,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&hl(r,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}},{key:"registerOnValidatorChange",value:function(i){this._validatorChange=i}},{key:"writeValue",value:function(i){if(i){var r=this._localeService.currentLocale;if(!co(r))throw new Error('Locale "'.concat(r,'" is not defined, please add it with "defineLocale(...)"'));this._value=$g(i,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=_2(this._value))}else this._value=void 0;this._picker.bsValue=this._value}},{key:"setDisabledState",value:function(i){this._picker.isDisabled=i,i?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}},{key:"registerOnChange",value:function(i){this._onChange=i}},{key:"registerOnTouched",value:function(i){this._onTouched=i}},{key:"onBlur",value:function(){this._onTouched()}},{key:"hide",value:function(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(A_e,1),e.Y36(Mb),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,selectors:[["input","bsDatepicker",""]],hostBindings:function(t,i){1&t&&e.NdJ("change",function(a){return i.onChange(a)})("keyup.esc",function(){return i.hide()})("keydown",function(a){return i.onKeydownEvent(a)})("blur",function(){return i.onBlur()})},features:[e._Bn([O_e,P_e])]}),n}(),E_e=function(){var n=function(o){(0,Ke.Z)(i,o);var t=(0,Xe.Z)(i);function i(){var r;return(0,I.Z)(this,i),(r=t.apply(this,arguments)).displayMonths=2,r}return(0,M.Z)(i)}(gd);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),I_e=function(){var n=function(){function o(t,i,r,a,s){(0,I.Z)(this,o),this._config=t,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new b.x,this.isDisabled=!1,this.bsValueChange=new e.vpe,this._subs=[],this._rangeInputFormat$=new b.x,this._datepicker=s.createLoader(i,a,r),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new _i.X(this.isOpen)}return(0,M.Z)(o,[{key:"isOpen",get:function(){return this._datepicker.isShown},set:function(i){this.isOpen$.next(i)}},{key:"bsValue",set:function(i){var r;this._bsValue!==i&&(i&&(null===(r=this.bsConfig)||void 0===r?void 0:r.initCurrentTime)&&(i=SA(i)),this._bsValue=i,this.bsValueChange.emit(i))}},{key:"rangeInputFormat$",get:function(){return this._rangeInputFormat$}},{key:"ngOnInit",value:function(){var i=this;this.isDestroy$=new b.x,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:function(){return i.show()}}),this.setConfig()}},{key:"ngOnChanges",value:function(i){var r,a,s,l;i.bsConfig&&((null===(r=i.bsConfig.currentValue)||void 0===r?void 0:r.initCurrentTime)&&(null===(a=i.bsConfig.currentValue)||void 0===a?void 0:a.initCurrentTime)!==(null===(s=i.bsConfig.previousValue)||void 0===s?void 0:s.initCurrentTime)&&this._bsValue&&(this._bsValue=SA(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(i.bsConfig.currentValue&&i.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(i.minDate&&(this._datepickerRef.instance.minDate=this.minDate),i.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),i.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),i.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),i.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),i.isDisabled&&(!(null===(l=this._elementRef)||void 0===l)&&l.nativeElement&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),i.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}},{key:"ngAfterViewInit",value:function(){var i=this;this.isOpen$.pipe((0,le.h)(function(r){return r!==i.isOpen}),(0,H.R)(this.isDestroy$)).subscribe(function(){return i.toggle()})}},{key:"show",value:function(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:gd,useValue:this._config}).attach(M_e).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}},{key:"initSubscribes",value:function(){var i=this;this._subs.push(this.bsValueChange.subscribe(function(r){i._datepickerRef&&(i._datepickerRef.instance.value=r)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe((0,le.h)(function(r){return r&&r[0]&&!!r[1]})).subscribe(function(r){i.bsValue=r,i.hide()}))}},{key:"setConfig",value:function(){var i;this._config=Object.assign({},this._config,this.bsConfig,{value:TA(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:o_e(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:null===(i=this.bsConfig)||void 0===i?void 0:i.initCurrentTime})}},{key:"hide",value:function(){this.isOpen&&this._datepicker.hide();var r,i=(0,te.Z)(this._subs);try{for(i.s();!(r=i.n()).done;)r.value.unsubscribe()}catch(s){i.e(s)}finally{i.f()}this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}},{key:"toggle",value:function(){if(this.isOpen)return this.hide();this.show()}},{key:"unsubscribeSubscriptions",value:function(){var i;null!==(i=this._subs)&&void 0!==i&&i.length&&(this._subs.map(function(r){return r.unsubscribe()}),this._subs.length=0)}},{key:"ngOnDestroy",value:function(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(E_e),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.s_b),e.Y36(i_))},n.\u0275dir=e.lG2({type:n,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[e.TTD]}),n}(),N_e={provide:_.JU,useExisting:(0,e.Gpc)(function(){return UA}),multi:!0},R_e={provide:_.Cf,useExisting:(0,e.Gpc)(function(){return UA}),multi:!0},UA=function(){var n=function(){function o(t,i,r,a,s){(0,I.Z)(this,o),this._picker=t,this._localeService=i,this._renderer=r,this._elRef=a,this.changeDetection=s,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new kh.w0}return(0,M.Z)(o,[{key:"ngOnInit",value:function(){var s,i=this;this._picker._bsValue&&(i._setInputValue(s=this._picker._bsValue),i._value!==s&&(i._value=s,i._onChange(s),i._onTouched()),i.changeDetection.markForCheck()),this._subs.add(this._picker.bsValueChange.subscribe(function(a){i._setInputValue(a),i._value!==a&&(i._value=a,i._onChange(a),i._onTouched()),i.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(function(){i._setInputValue(i._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe((0,Gi.x)()).subscribe(function(){i._setInputValue(i._value)}))}},{key:"ngOnDestroy",value:function(){this._subs.unsubscribe()}},{key:"onKeydownEvent",value:function(i){(13===i.keyCode||"Enter"===i.code)&&this.hide()}},{key:"_setInputValue",value:function(i){var r="";if(i){var a=i[0]?ws(i[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",s=i[1]?ws(i[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";r=a&&s?a+this._picker._config.rangeSeparator+s:""}this._renderer.setProperty(this._elRef.nativeElement,"value",r)}},{key:"onChange",value:function(i){this.writeValue(i.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}},{key:"validate",value:function(i){var r=i.value,a=[];if(null==r||!_r(r))return null;var s=tu((r=r.slice().sort(function(c,u){return c.getTime()-u.getTime()}))[0]),l=tu(r[1]);return s?l?(this._picker&&this._picker.minDate&&sc(r[0],this._picker.minDate,"date")&&(r[0]=this._picker.minDate,a.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&hl(r[1],this._picker.maxDate,"date")&&(r[1]=this._picker.maxDate,a.push({bsDate:{maxDate:this._picker.maxDate}})),a.length>0?(this.writeValue(r),a):null):{bsDate:{invalid:r[1]}}:{bsDate:{invalid:r[0]}}}},{key:"registerOnValidatorChange",value:function(i){this._validatorChange=i}},{key:"writeValue",value:function(i){var r=this;if(i){var a=this._localeService.currentLocale;if(!co(a))throw new Error('Locale "'.concat(a,'" is not defined, please add it with "defineLocale(...)"'));var l=[];if("string"==typeof i){var c=this._picker._config.rangeSeparator.trim();l=i.replace(/[^-]/g,"").length>1?i.split(this._picker._config.rangeSeparator):i.split(c.length>0?c:this._picker._config.rangeSeparator).map(function(u){return u.trim()})}Array.isArray(i)&&(l=i),this._value=l.map(function(u){return r._picker._config.useUtc?_2($g(u,r._picker._config.rangeInputFormat,r._localeService.currentLocale)):$g(u,r._picker._config.rangeInputFormat,r._localeService.currentLocale)}).map(function(u){return isNaN(u.valueOf())?void 0:u})}else this._value=void 0;this._picker.bsValue=this._value}},{key:"setDisabledState",value:function(i){this._picker.isDisabled=i,i?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}},{key:"registerOnChange",value:function(i){this._onChange=i}},{key:"registerOnTouched",value:function(i){this._onTouched=i}},{key:"onBlur",value:function(){this._onTouched()}},{key:"hide",value:function(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(I_e,1),e.Y36(Mb),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(t,i){1&t&&e.NdJ("change",function(a){return i.onChange(a)})("keyup.esc",function(){return i.hide()})("keydown",function(a){return i.onKeydownEvent(a)})("blur",function(){return i.onBlur()})},features:[e._Bn([N_e,R_e])]}),n}(),F_e=function(){var n=function(){function o(){(0,I.Z)(this,o)}return(0,M.Z)(o,null,[{key:"forRoot",value:function(){return{ngModule:o,providers:[i_,Gh,s_,to,r_,Mb,md]}}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez,Pme,wme]}),n}(),Z_e=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n}(),L_e=J(31410);J(95577),J(34986),J(38421),J(54482),J(25032),J(25403);var hve=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n}(),$A=function(){var n=(0,M.Z)(function o(){(0,I.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Nr]}),n}(),F1e=function(){var n=function(){function o(t,i){(0,I.Z)(this,o),(0,D.PM)(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}return(0,M.Z)(o,null,[{key:"withConfig",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{ngModule:o,providers:i.serverLoaded?[{provide:He,useValue:Object.assign(Object.assign({},Ee),i)},{provide:Qe,useValue:r,multi:!0},{provide:ct,useValue:!0}]:[{provide:He,useValue:Object.assign(Object.assign({},Ee),i)},{provide:Qe,useValue:r,multi:!0}]}}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(ct),e.LFG(e.Lbi))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[wS,Du,$A,wS,Du,$A]}),n}(),Eb=6e4,Ib="millisecond",Qh="second",su="minute",zh="hour",Is="day",lu="week",gl="month",iM="quarter",Ns="year",Kh="date",rM="YYYY-MM-DDTHH:mm:ssZ",oM="Invalid Date",j1e=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Y1e=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;const q1e={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(o){var t=["th","st","nd","rd"],i=o%100;return"["+o+(t[(i-20)%10]||t[i]||t[0])+"]"}};var $C=function(o,t,i){var r=String(o);return!r||r.length>=t?o:""+Array(t+1-r.length).join(i)+o};const W1e={s:$C,z:function(o){var t=-o.utcOffset(),i=Math.abs(t),r=Math.floor(i/60),a=i%60;return(t<=0?"+":"-")+$C(r,2,"0")+":"+$C(a,2,"0")},m:function n(o,t){if(o.date()<t.date())return-n(t,o);var i=12*(t.year()-o.year())+(t.month()-o.month()),r=o.clone().add(i,gl),a=t-r<0,s=o.clone().add(i+(a?-1:1),gl);return+(-(i+(t-r)/(a?r-s:s-r))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return{M:gl,y:Ns,w:lu,d:Is,D:Kh,h:zh,m:su,s:Qh,ms:Ib,Q:iM}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return void 0===o}};var l_="en",Zp={};Zp[l_]=q1e;var XC=function(o){return o instanceof Rb},Nb=function n(o,t,i){var r;if(!o)return l_;if("string"==typeof o){var a=o.toLowerCase();Zp[a]&&(r=a),t&&(Zp[a]=t,r=a);var s=o.split("-");if(!r&&s.length>1)return n(s[0])}else{var l=o.name;Zp[l]=o,r=l}return!i&&r&&(l_=r),r||!i&&l_},xo=function(o,t){if(XC(o))return o.clone();var i="object"==typeof t?t:{};return i.date=o,i.args=arguments,new Rb(i)},Xi=W1e;Xi.l=Nb,Xi.i=XC,Xi.w=function(o,t){return xo(o,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var Rb=function(){function n(t){this.$L=Nb(t.locale,null,!0),this.parse(t)}var o=n.prototype;return o.parse=function(i){this.$d=function(o){var t=o.date,i=o.utc;if(null===t)return new Date(NaN);if(Xi.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(j1e);if(r){var a=r[2]-1||0,s=(r[7]||"0").substring(0,3);return i?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(i),this.$x=i.x||{},this.init()},o.init=function(){var i=this.$d;this.$y=i.getFullYear(),this.$M=i.getMonth(),this.$D=i.getDate(),this.$W=i.getDay(),this.$H=i.getHours(),this.$m=i.getMinutes(),this.$s=i.getSeconds(),this.$ms=i.getMilliseconds()},o.$utils=function(){return Xi},o.isValid=function(){return this.$d.toString()!==oM},o.isSame=function(i,r){var a=xo(i);return this.startOf(r)<=a&&a<=this.endOf(r)},o.isAfter=function(i,r){return xo(i)<this.startOf(r)},o.isBefore=function(i,r){return this.endOf(r)<xo(i)},o.$g=function(i,r,a){return Xi.u(i)?this[r]:this.set(a,i)},o.unix=function(){return Math.floor(this.valueOf()/1e3)},o.valueOf=function(){return this.$d.getTime()},o.startOf=function(i,r){var a=this,s=!!Xi.u(r)||r,l=Xi.p(i),c=function(ve,Ne){var De=Xi.w(a.$u?Date.UTC(a.$y,Ne,ve):new Date(a.$y,Ne,ve),a);return s?De:De.endOf(Is)},u=function(ve,Ne){return Xi.w(a.toDate()[ve].apply(a.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(Ne)),a)},h=this.$W,x=this.$M,T=this.$D,O="set"+(this.$u?"UTC":"");switch(l){case Ns:return s?c(1,0):c(31,11);case gl:return s?c(1,x):c(0,x+1);case lu:var U=this.$locale().weekStart||0,re=(h<U?h+7:h)-U;return c(s?T-re:T+(6-re),x);case Is:case Kh:return u(O+"Hours",0);case zh:return u(O+"Minutes",1);case su:return u(O+"Seconds",2);case Qh:return u(O+"Milliseconds",3);default:return this.clone()}},o.endOf=function(i){return this.startOf(i,!1)},o.$set=function(i,r){var a,s=Xi.p(i),l="set"+(this.$u?"UTC":""),c=(a={},a[Is]=l+"Date",a[Kh]=l+"Date",a[gl]=l+"Month",a[Ns]=l+"FullYear",a[zh]=l+"Hours",a[su]=l+"Minutes",a[Qh]=l+"Seconds",a[Ib]=l+"Milliseconds",a)[s],u=s===Is?this.$D+(r-this.$W):r;if(s===gl||s===Ns){var h=this.clone().set(Kh,1);h.$d[c](u),h.init(),this.$d=h.set(Kh,Math.min(this.$D,h.daysInMonth())).$d}else c&&this.$d[c](u);return this.init(),this},o.set=function(i,r){return this.clone().$set(i,r)},o.get=function(i){return this[Xi.p(i)]()},o.add=function(i,r){var s,a=this;i=Number(i);var l=Xi.p(r),c=function(T){var O=xo(a);return Xi.w(O.date(O.date()+Math.round(T*i)),a)};if(l===gl)return this.set(gl,this.$M+i);if(l===Ns)return this.set(Ns,this.$y+i);if(l===Is)return c(1);if(l===lu)return c(7);var u=(s={},s[su]=Eb,s[zh]=36e5,s[Qh]=1e3,s)[l]||1,h=this.$d.getTime()+i*u;return Xi.w(h,this)},o.subtract=function(i,r){return this.add(-1*i,r)},o.format=function(i){var r=this,a=this.$locale();if(!this.isValid())return a.invalidDate||oM;var s=i||rM,l=Xi.z(this),c=this.$H,u=this.$m,h=this.$M,x=a.weekdays,T=a.months,U=function(De,Ge,We,gt){return De&&(De[Ge]||De(r,s))||We[Ge].slice(0,gt)},re=function(De){return Xi.s(c%12||12,De,"0")},de=a.meridiem||function(Ne,De,Ge){var We=Ne<12?"AM":"PM";return Ge?We.toLowerCase():We},ve={YY:String(this.$y).slice(-2),YYYY:this.$y,M:h+1,MM:Xi.s(h+1,2,"0"),MMM:U(a.monthsShort,h,T,3),MMMM:U(T,h),D:this.$D,DD:Xi.s(this.$D,2,"0"),d:String(this.$W),dd:U(a.weekdaysMin,this.$W,x,2),ddd:U(a.weekdaysShort,this.$W,x,3),dddd:x[this.$W],H:String(c),HH:Xi.s(c,2,"0"),h:re(1),hh:re(2),a:de(c,u,!0),A:de(c,u,!1),m:String(u),mm:Xi.s(u,2,"0"),s:String(this.$s),ss:Xi.s(this.$s,2,"0"),SSS:Xi.s(this.$ms,3,"0"),Z:l};return s.replace(Y1e,function(Ne,De){return De||ve[Ne]||l.replace(":","")})},o.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},o.diff=function(i,r,a){var s,l=Xi.p(r),c=xo(i),u=(c.utcOffset()-this.utcOffset())*Eb,h=this-c,x=Xi.m(this,c);return x=(s={},s[Ns]=x/12,s[gl]=x,s[iM]=x/3,s[lu]=(h-u)/6048e5,s[Is]=(h-u)/864e5,s[zh]=h/36e5,s[su]=h/Eb,s[Qh]=h/1e3,s)[l]||h,a?x:Xi.a(x)},o.daysInMonth=function(){return this.endOf(gl).$D},o.$locale=function(){return Zp[this.$L]},o.locale=function(i,r){if(!i)return this.$L;var a=this.clone(),s=Nb(i,r,!0);return s&&(a.$L=s),a},o.clone=function(){return Xi.w(this.$d,this)},o.toDate=function(){return new Date(this.valueOf())},o.toJSON=function(){return this.isValid()?this.toISOString():null},o.toISOString=function(){return this.$d.toISOString()},o.toString=function(){return this.$d.toUTCString()},n}(),aM=Rb.prototype;xo.prototype=aM,[["$ms",Ib],["$s",Qh],["$m",su],["$H",zh],["$W",Is],["$M",gl],["$y",Ns],["$D",Kh]].forEach(function(n){aM[n[1]]=function(o){return this.$g(o,n[0],n[1])}}),xo.extend=function(n,o){return n.$i||(n(o,Rb,xo),n.$i=!0),xo},xo.locale=Nb,xo.isDayjs=XC,xo.unix=function(n){return xo(1e3*n)},xo.en=Zp[l_],xo.Ls=Zp,xo.p={};const cc=xo;var sM=function(o){return o.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,i,r){return i||r.slice(1)})},lM={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},cM=function(o,t){return o.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(i,r,a){var s=a&&a.toUpperCase();return r||t[a]||lM[a]||sM(t[s])})};const dM=function(n,o,t){var r=function(h){return h&&(h.indexOf?h:h.s)},a=function(h,x,T,O,U){var re=h.name?h:h.$locale(),de=r(re[x]),ve=r(re[T]),Ne=de||ve.map(function(Ge){return Ge.slice(0,O)});if(!U)return Ne;var De=re.weekStart;return Ne.map(function(Ge,We){return Ne[(We+(De||0))%7]})},s=function(){return t.Ls[t.locale()]},l=function(h,x){return h.formats[x]||sM(h.formats[x.toUpperCase()])},c=function(){var h=this;return{months:function(T){return T?T.format("MMMM"):a(h,"months")},monthsShort:function(T){return T?T.format("MMM"):a(h,"monthsShort","months",3)},firstDayOfWeek:function(){return h.$locale().weekStart||0},weekdays:function(T){return T?T.format("dddd"):a(h,"weekdays")},weekdaysMin:function(T){return T?T.format("dd"):a(h,"weekdaysMin","weekdays",2)},weekdaysShort:function(T){return T?T.format("ddd"):a(h,"weekdaysShort","weekdays",3)},longDateFormat:function(T){return l(h.$locale(),T)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.prototype.localeData=function(){return c.bind(this)()},t.localeData=function(){var u=s();return{firstDayOfWeek:function(){return u.weekStart||0},weekdays:function(){return t.weekdays()},weekdaysShort:function(){return t.weekdaysShort()},weekdaysMin:function(){return t.weekdaysMin()},months:function(){return t.months()},monthsShort:function(){return t.monthsShort()},longDateFormat:function(x){return l(u,x)},meridiem:u.meridiem,ordinal:u.ordinal}},t.months=function(){return a(s(),"months")},t.monthsShort=function(){return a(s(),"monthsShort","months",3)},t.weekdays=function(u){return a(s(),"weekdays",null,null,u)},t.weekdaysShort=function(u){return a(s(),"weekdaysShort","weekdays",3,u)},t.weekdaysMin=function(u){return a(s(),"weekdaysMin","weekdays",2,u)}};var tbe=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Fb=/\d\d/,dc=/\d\d?/,c_=/\d*[^-_:/,()\s\d]+/,cu={},uM=function(o){return(o=+o)+(o>68?1900:2e3)},Za=function(o){return function(t){this[o]=+t}},pM=[/[+-]\d\d:?(\d\d)?|Z/,function(n){(this.zone||(this.zone={})).offset=function sbe(n){if(!n||"Z"===n)return 0;var o=n.match(/([+-]|\d\d)/g),t=60*o[1]+(+o[2]||0);return 0===t?0:"+"===o[0]?-t:t}(n)}],eT=function(o){var t=cu[o];return t&&(t.indexOf?t:t.s.concat(t.f))},fM=function(o,t){var i,a=cu.meridiem;if(a){for(var s=1;s<=24;s+=1)if(o.indexOf(a(s,0,t))>-1){i=s>12;break}}else i=o===(t?"pm":"PM");return i},lbe={A:[c_,function(n){this.afternoon=fM(n,!1)}],a:[c_,function(n){this.afternoon=fM(n,!0)}],S:[/\d/,function(n){this.milliseconds=100*+n}],SS:[Fb,function(n){this.milliseconds=10*+n}],SSS:[/\d{3}/,function(n){this.milliseconds=+n}],s:[dc,Za("seconds")],ss:[dc,Za("seconds")],m:[dc,Za("minutes")],mm:[dc,Za("minutes")],H:[dc,Za("hours")],h:[dc,Za("hours")],HH:[dc,Za("hours")],hh:[dc,Za("hours")],D:[dc,Za("day")],DD:[Fb,Za("day")],Do:[c_,function(n){var t=cu.ordinal,i=n.match(/\d+/);if(this.day=i[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===n&&(this.day=r)}],M:[dc,Za("month")],MM:[Fb,Za("month")],MMM:[c_,function(n){var o=eT("months"),i=(eT("monthsShort")||o.map(function(r){return r.slice(0,3)})).indexOf(n)+1;if(i<1)throw new Error;this.month=i%12||i}],MMMM:[c_,function(n){var t=eT("months").indexOf(n)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,Za("year")],YY:[Fb,function(n){this.year=uM(n)}],YYYY:[/\d{4}/,Za("year")],Z:pM,ZZ:pM},fbe=/[+-]\d\d(?::?\d\d)?/g,hbe=/([+-]|\d\d)/g;cc.extend(dM);var tT=new e.OlP("daterangepicker.config"),Zb={direction:"ltr",separator:" - ",weekLabel:"W",applyLabel:"Apply",cancelLabel:"Cancel",clearLabel:"Clear",customRangeLabel:"Custom range",daysOfWeek:cc.weekdaysMin(),monthNames:cc.monthsShort(),firstDay:cc.localeData().firstDayOfWeek()},hM=function(){var n=function(){function o(t){(0,I.Z)(this,o),this.configHolder=t}return(0,M.Z)(o,[{key:"config",get:function(){return this.configHolder?Object.assign(Object.assign({},Zb),this.configHolder):Zb}},{key:"configWithLocale",value:function(i){return this.configHolder||i?Object.assign(Object.assign(Object.assign({},Zb),{daysOfWeek:i.weekdaysMin,monthNames:i.monthsShort,firstDay:i.weekStart}),this.configHolder):Zb}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(tT))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}();cc.extend(dM),cc.extend(function(n,o,t){var i=o.prototype,r=i.format;t.en.formats=lM,i.format=function(a){void 0===a&&(a=rM);var l=this.$locale().formats,u=cM(a,void 0===l?{}:l);return r.call(this,u)}}),cc.extend(function(n,o,t){var r=function(c){return c.add(4-c.isoWeekday(),Is)},a=o.prototype;a.isoWeekYear=function(){return r(this).year()},a.isoWeek=function(l){if(!this.$utils().u(l))return this.add(7*(l-this.isoWeek()),Is);var c=r(this),u=function(c,u){var h=(u?t.utc:t)().year(c).startOf(Ns),x=4-h.isoWeekday();return h.isoWeekday()>4&&(x+=7),h.add(x,Is)}(this.isoWeekYear(),this.$u);return c.diff(u,lu)+1},a.isoWeekday=function(l){return this.$utils().u(l)?this.day()||7:this.day(this.day()%7?l:l-7)};var s=a.startOf;a.startOf=function(l,c){var u=this.$utils(),h=!!u.u(c)||c;return"isoweek"===u.p(l)?h?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):s.bind(this)(l,c)}}),cc.extend(function(n,o,t){var i=o.prototype;i.week=function(r){if(void 0===r&&(r=null),null!==r)return this.add(7*(r-this.week()),Is);var a=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var s=t(this).startOf(Ns).add(1,Ns).date(a),l=t(this).endOf(lu);if(s.isBefore(l))return 1}var u=t(this).startOf(Ns).date(a).startOf(lu).subtract(1,Ib),h=this.diff(u,lu,!0);return h<0?t(this).startOf("week").week():Math.ceil(h)},i.weeks=function(r){return void 0===r&&(r=null),this.week(r)}}),cc.extend(function(n,o,t){t.p.customParseFormat=!0,n&&n.parseTwoDigitYear&&(uM=n.parseTwoDigitYear);var i=o.prototype,r=i.parse;i.parse=function(a){var s=a.date,l=a.utc,c=a.args;this.$u=l;var u=c[1];if("string"==typeof u){var h=!0===c[2],x=!0===c[3],T=h||x,O=c[2];x&&(O=c[2]),cu=this.$locale(),!h&&O&&(cu=t.Ls[O]),this.$d=function(o,t,i){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*o);var r=function dbe(n){for(var o=(n=cM(n,cu&&cu.formats)).match(tbe),t=o.length,i=0;i<t;i+=1){var r=o[i],a=lbe[r],l=a&&a[1];o[i]=l?{regex:a&&a[0],parser:l}:r.replace(/^\[|\]$/g,"")}return function(c){for(var u={},h=0,x=0;h<t;h+=1){var T=o[h];if("string"==typeof T)x+=T.length;else{var O=T.regex,U=T.parser,re=c.slice(x),ve=O.exec(re)[0];U.call(u,ve),c=c.replace(ve,"")}}return function cbe(n){var o=n.afternoon;if(void 0!==o){var t=n.hours;o?t<12&&(n.hours+=12):12===t&&(n.hours=0),delete n.afternoon}}(u),u}}(t),a=r(o),s=a.year,l=a.month,c=a.day,u=a.hours,h=a.minutes,x=a.seconds,T=a.milliseconds,O=a.zone,U=new Date,re=c||(s||l?1:U.getDate()),de=s||U.getFullYear(),ve=0;s&&!l||(ve=l>0?l-1:U.getMonth());var Ne=u||0,De=h||0,Ge=x||0,We=T||0;return O?new Date(Date.UTC(de,ve,re,Ne,De,Ge,We+60*O.offset*1e3)):i?new Date(Date.UTC(de,ve,re,Ne,De,Ge,We)):new Date(de,ve,re,Ne,De,Ge,We)}catch(gt){return new Date("")}}(s,u,l),this.init(),O&&!0!==O&&(this.$L=this.locale(O).$L),T&&s!=this.format(u)&&(this.$d=new Date("")),cu={}}else if(u instanceof Array)for(var U=u.length,re=1;re<=U;re+=1){c[1]=u[re-1];var de=t.apply(this,c);if(de.isValid()){this.$d=de.$d,this.$L=de.$L,this.init();break}re===U&&(this.$d=new Date(""))}else r.call(this,a)}}),cc.extend(function(n,o,t){var i=o.prototype;t.utc=function(x){var T={date:x,utc:!0,args:arguments};return new o(T)},i.utc=function(x){var T=t(this.toDate(),{locale:this.$L,utc:!0});return x?T.add(this.utcOffset(),su):T},i.local=function(){return t(this.toDate(),{locale:this.$L,utc:!1})};var r=i.parse;i.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),r.call(this,x)};var a=i.init;i.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else a.call(this)};var s=i.utcOffset;i.utcOffset=function(x,T){var U=this.$utils().u;if(U(x))return this.$u?0:U(this.$offset)?s.call(this):this.$offset;if("string"==typeof x&&(x=function mbe(n){void 0===n&&(n="");var o=n.match(fbe);if(!o)return null;var t=(""+o[0]).match(hbe)||["-",0,0],s=60*+t[1]+ +t[2];return 0===s?0:"+"===t[0]?s:-s}(x),null===x))return this;var re=Math.abs(x)<=16?60*x:x,de=this;if(T)return de.$offset=re,de.$u=0===x,de;if(0!==x){var ve=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(de=this.local().add(re+ve,su)).$offset=re,de.$x.$localOffset=ve}else de=this.utc();return de};var l=i.format;i.format=function(x){return l.call(this,x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},i.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-x*Eb},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var u=i.toDate;i.toDate=function(x){return"s"===x&&this.$offset?t(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var h=i.diff;i.diff=function(x,T,O){if(x&&this.$u===x.$u)return h.call(this,x,T,O);var U=this.local(),re=t(x).local();return h.call(U,re,T,O)}});var p0e=function(){var n=function(){function o(){(0,I.Z)(this,o)}return(0,M.Z)(o,null,[{key:"forRoot",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:o,providers:[{provide:tT,useValue:i},{provide:hM,useClass:hM,deps:[tT]}]}}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[D.ez,_.u5,_.UX]]}),n}();const f0e=W,mM={parse:{dateInput:[ai.YG]},display:{dateInput:ai.YG,monthYearLabel:ai.DQ}};let h0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Ri.x,Uf,bs,ck,Rx,D.uU,{provide:ei._A,useClass:L_e.e},{provide:ei.sG,useValue:mM},Lx,Jx],imports:[D.ez,Hue,E.aw,Te.XC,Bue.q,_.u5,_.UX,SH,_.UX,jg.Ps,ui,_.UX,Cl,oo._t,Te.IJ,Vue,F_e.forRoot(),Z_e,fR.forRoot(),Que.forRoot(),qF,hve,q1.Cl,bie,Rd,F1e,p0e.forRoot()]}),n})();class m0e{constructor(){this.date=new _.NI(f0e())}}},16717:(Re,ae,J)=>{"use strict";J.d(ae,{h:()=>Te});var D=J(82349),E=J(5e3);let Te=(()=>{class _{constructor(N,ge){this.data=N,this.dialogRef=ge,this.message="",this.title="Job Offer Accepted"}ngOnInit(){this.message=this.data,"You accepted this Job offer, but unfortunately it's no longer available, so you haven't been assigned to the Job."===this.message&&(this.title="Job offer unavailable")}}return _.\u0275fac=function(N){return new(N||_)(E.Y36(D.WI),E.Y36(D.so))},_.\u0275cmp=E.Xpm({type:_,selectors:[["app-job-offer-accept-reject-dialog"]],decls:19,vars:3,consts:[[1,"row","delete-warning-header"],[1,"col-12"],[1,"warning-title"],[1,"col-12","d-flex","justify-content-center"],[1,"blue_hr"],[1,"row","delete-warning-content"],[1,"dialog-message"],[1,"row","delete-warning-buttons"],[1,"d-flex","justify-content-center"],["id","cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"mat-dialog-close"]],template:function(N,ge){1&N&&(E.TgZ(0,"div",0)(1,"div",1)(2,"span",2),E._uU(3),E.qZA()(),E.TgZ(4,"div",3),E._UZ(5,"hr",4),E.qZA()(),E.TgZ(6,"div",5)(7,"div",1)(8,"strong")(9,"span",6),E._uU(10),E.qZA()()(),E.TgZ(11,"div",3),E._UZ(12,"hr"),E.qZA()(),E.TgZ(13,"div",7)(14,"div",1)(15,"div",8)(16,"div")(17,"button",9),E._uU(18," Close "),E.qZA()()()()()),2&N&&(E.xp6(3),E.Oqu(ge.title),E.xp6(7),E.hij(" ",ge.data," "),E.xp6(7),E.Q6J("mat-dialog-close",!1))},dependencies:[D.ZT],styles:[".warning-title[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.delete-warning-header[_ngcontent-%COMP%]{text-align:center}.dialog-message[_ngcontent-%COMP%]{text-align:center;white-space:pre-line}.dialog-message[_ngcontent-%COMP%]{font-size:12px}.eSolve-button[_ngcontent-%COMP%], .blue_hr[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px;width:200px}@media (max-width: 767px){#continue-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),_})()},13736:(Re,ae,J)=>{"use strict";J.d(ae,{s:()=>e});var D=J(5e3),E=J(65401),Te=J(69751),_=J(40520);let e=(()=>{class N{constructor(b){this._http=b,this.accountSwitched=new D.vpe,this.periodChange=new D.vpe,this.tableDataChange=new D.vpe,this.tabChanged=new D.vpe,this.getData()}getData(){return new Te.y(b=>{this._http.get(E.j.URLdashboard).subscribe(ie=>(b.next(ie),b.complete),ie=>b.error(ie))})}emitAccountSwitchedEvent(b){this.accountSwitched.emit(b)}getAccountSwitchedEmitter(){return this.accountSwitched}emitTabChangedEvent(b){this.tabChanged.emit(b)}getTabChangedEmitter(){return this.tabChanged}emitPeriodChangeEvent(b){this.currentPeriod=b,this.periodChange.emit(b)}getPeriodChangeEmitter(){return this.periodChange}getCurrentPeriod(){return this.currentPeriod}saveSignalRConnectionId(b,ie,H){return new Te.y(_e=>{this._http.put(E.j.URLdashboard+"/connection/"+b+"/"+ie+"/"+H,{}).subscribe(j=>(_e.next(j),_e.complete),j=>_e.error(j))})}getUserDashboardData(b,ie){return new Te.y(H=>{this._http.get(E.j.URLuserDashboard+"/details",{params:{startDate:b,endDate:ie}}).subscribe(_e=>(H.next(_e),H.complete),_e=>H.error(_e))})}getUserDashboardDataForScheduleApprovals(b,ie){return new Te.y(H=>{this._http.get(E.j.URLuserDashboard+"/scheduleApprovalTable",{params:{startDate:b,endDate:ie}}).subscribe(_e=>(H.next(_e),H.complete),_e=>H.error(_e))})}getUserDashboardDataForScheduleDetails(b,ie){return new Te.y(H=>{this._http.get(E.j.URLuserDashboard+"/detailsTable",{params:{startDate:b,endDate:ie}}).subscribe(_e=>(H.next(_e),H.complete),_e=>H.error(_e))})}getUserDashboardDataForAbsenceRequests(b,ie){return new Te.y(H=>{this._http.get(E.j.URLuserDashboard+"/absenceTable",{params:{imageSize:"S",startDate:b,endDate:ie}}).subscribe(_e=>(H.next(_e),H.complete),_e=>H.error(_e))})}getEmployeeDashboardData(b,ie){return new Te.y(H=>{this._http.get(E.j.URLemployeeDashboard,{params:{startDate:b,endDate:ie}}).subscribe(_e=>(H.next(_e),H.complete),_e=>H.error(_e))})}getEmployeeDashboardDataForMySchedule(b,ie){return new Te.y(H=>{this._http.get(E.j.URLemployeeDashboard+"/calendar",{params:{startDate:b,endDate:ie}}).subscribe(_e=>(H.next(_e),H.complete),_e=>H.error(_e))})}getEmployeeDashboardDataForJobOffers(b,ie){return new Te.y(H=>{this._http.get(E.j.URLemployeeDashboard+"/jobOffers",{params:{startDate:b,endDate:ie}}).subscribe(_e=>(H.next(_e),H.complete),_e=>H.error(_e))})}getEmployeeDashboardDataForTradesAvailable(b,ie){return new Te.y(H=>{this._http.get(E.j.URLemployeeDashboard+"/tradeBoard",{params:{startDate:b,endDate:ie}}).subscribe(_e=>(H.next(_e),H.complete),_e=>H.error(_e))})}}return N.\u0275fac=function(b){return new(b||N)(D.LFG(_.eN))},N.\u0275prov=D.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},21164:(Re,ae,J)=>{"use strict";J.d(ae,{x:()=>ie});var D=J(82349),E=J(5e3);let Te=(()=>{class H{constructor(j,Ce){this.data=j,this.dialogRef=Ce,this.title="",this.confirmButtonText="",this.cancelButtonText=""}ngOnInit(){switch(this.data.type){case"Confirm":case"AutoSolve":case"SubmitUnchangedSchedule":this.title="Confirmation Required";break;case"Delete":this.title="Delete Warning";break;case"TradeOffer":this.title="Trade Warning";break;case"TradeAccept":this.title="Acceptance Warning"}"AutoSolve"==this.data.type||"SubmitUnchangedSchedule"==this.data.type?(this.confirmButtonText="Yes",this.cancelButtonText="No"):(this.confirmButtonText="Delete"==this.data.type?"Delete":"Continue",this.cancelButtonText="Cancel")}closeDialog(){this.dialogRef.close(!1)}}return H.\u0275fac=function(j){return new(j||H)(E.Y36(D.WI),E.Y36(D.so))},H.\u0275cmp=E.Xpm({type:H,selectors:[["app-confirm-dialog"]],decls:20,vars:6,consts:[[1,"row","delete-warning-header"],[1,"col-12"],[1,"warning-title"],[1,"col-12","d-flex","justify-content-center"],[1,"blue_hr"],[1,"row","delete-warning-content"],[1,"dialog-message"],[1,"row","delete-warning-buttons"],[1,"col-sm-12","col-md-6"],["id","continue-button",1,"eSolve-button","eSolve-blue-button",3,"mat-dialog-close"],["id","cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"mat-dialog-close"]],template:function(j,Ce){1&j&&(E.TgZ(0,"div",0)(1,"div",1)(2,"span",2),E._uU(3),E.qZA()(),E.TgZ(4,"div",3),E._UZ(5,"hr",4),E.qZA()(),E.TgZ(6,"div",5)(7,"div",1)(8,"strong")(9,"span",6),E._uU(10),E.qZA()()(),E.TgZ(11,"div",3),E._UZ(12,"hr"),E.qZA()(),E.TgZ(13,"div",7)(14,"div",8)(15,"button",9),E._uU(16),E.qZA()(),E.TgZ(17,"div",8)(18,"button",10),E._uU(19),E.qZA()()()),2&j&&(E.xp6(3),E.Oqu(Ce.title),E.xp6(7),E.hij(" ",Ce.data.message," "),E.xp6(5),E.Q6J("mat-dialog-close",!0),E.xp6(1),E.hij(" ",Ce.confirmButtonText," "),E.xp6(2),E.Q6J("mat-dialog-close",!1),E.xp6(1),E.hij(" ",Ce.cancelButtonText," "))},dependencies:[D.ZT],styles:[".warning-title[_ngcontent-%COMP%]{color:var(--eSolve-red);font-size:17px;font-weight:700}.dialog-message[_ngcontent-%COMP%]{text-align:center;white-space:pre-line}.dialog-message[_ngcontent-%COMP%]{font-size:12px}.eSolve-button[_ngcontent-%COMP%], .blue_hr[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px}@media (max-width: 767px){#continue-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),H})(),_=(()=>{class H{constructor(j,Ce){this.data=j,this.dialogRef=Ce}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return H.\u0275fac=function(j){return new(j||H)(E.Y36(D.WI),E.Y36(D.so))},H.\u0275cmp=E.Xpm({type:H,selectors:[["app-warning-dialog"]],decls:17,vars:2,consts:[[1,"row","delete-warning-header"],[1,"col-12"],[1,"warning-title"],[1,"col-12","d-flex","justify-content-center"],[1,"blue_hr"],[1,"row","delete-warning-content"],[1,"dialog-message"],[1,"row"],["id","ok-button",1,"eSolve-button","eSolve-blue-button",3,"mat-dialog-close"]],template:function(j,Ce){1&j&&(E.TgZ(0,"div",0)(1,"div",1)(2,"span",2),E._uU(3,"Warning"),E.qZA()(),E.TgZ(4,"div",3),E._UZ(5,"hr",4),E.qZA()(),E.TgZ(6,"div",5)(7,"div",1)(8,"strong")(9,"span",6),E._uU(10),E.qZA()()(),E.TgZ(11,"div",3),E._UZ(12,"hr"),E.qZA()(),E.TgZ(13,"div",7)(14,"div",3)(15,"button",8),E._uU(16," Ok "),E.qZA()()()),2&j&&(E.xp6(10),E.hij(" ",Ce.data.message," "),E.xp6(5),E.Q6J("mat-dialog-close",!1))},dependencies:[D.ZT],styles:[".warning-title[_ngcontent-%COMP%]{color:var(--eSolve-red);font-size:17px;font-weight:700}.dialog-message[_ngcontent-%COMP%]{text-align:center;white-space:pre-line}.dialog-message[_ngcontent-%COMP%]{font-size:12px}.eSolve-button[_ngcontent-%COMP%], .blue_hr[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px}#ok-button[_ngcontent-%COMP%]{width:100px!important}"]}),H})(),e=(()=>{class H{constructor(j,Ce){this.data=j,this.dialogRef=Ce,this.title=""}ngOnInit(){switch(this.data.type){case"Confirm":this.title="Confirmation Required";break;case"Delete":this.title="Delete Warning"}}action(j){this.dialogRef.close(),this.subject.next(j),this.subject.complete()}closeDialog(){this.dialogRef.close(!1)}}return H.\u0275fac=function(j){return new(j||H)(E.Y36(D.WI),E.Y36(D.so))},H.\u0275cmp=E.Xpm({type:H,selectors:[["app-guard-confirm-dialog"]],decls:20,vars:4,consts:[[1,"row","delete-warning-header"],[1,"col-12"],[1,"warning-title"],[1,"col-12","d-flex","justify-content-center"],[1,"blue_hr"],[1,"row","delete-warning-content"],[1,"dialog-message"],[1,"row","delete-warning-buttons"],[1,"col-sm-12","col-md-6"],["id","continue-button",1,"eSolve-button","eSolve-blue-button",3,"mat-dialog-close","click"],["id","cancel-button",1,"eSolve-button","eSolve-dark-blue-button",3,"mat-dialog-close","click"]],template:function(j,Ce){1&j&&(E.TgZ(0,"div",0)(1,"div",1)(2,"span",2),E._uU(3),E.qZA()(),E.TgZ(4,"div",3),E._UZ(5,"hr",4),E.qZA()(),E.TgZ(6,"div",5)(7,"div",1)(8,"strong")(9,"span",6),E._uU(10),E.qZA()()(),E.TgZ(11,"div",3),E._UZ(12,"hr"),E.qZA()(),E.TgZ(13,"div",7)(14,"div",8)(15,"button",9),E.NdJ("click",function(){return Ce.action(!0)}),E._uU(16," Continue "),E.qZA()(),E.TgZ(17,"div",8)(18,"button",10),E.NdJ("click",function(){return Ce.action(!1)}),E._uU(19," Cancel "),E.qZA()()()),2&j&&(E.xp6(3),E.Oqu(Ce.title),E.xp6(7),E.hij(" ",Ce.data.message," "),E.xp6(5),E.Q6J("mat-dialog-close",!0),E.xp6(3),E.Q6J("mat-dialog-close",!1))},dependencies:[D.ZT],styles:[".warning-title[_ngcontent-%COMP%]{color:var(--eSolve-red);font-size:17px;font-weight:700}.dialog-message[_ngcontent-%COMP%]{text-align:center;white-space:pre-line}.dialog-message[_ngcontent-%COMP%]{font-size:12px}.eSolve-button[_ngcontent-%COMP%], .blue_hr[_ngcontent-%COMP%]{width:100%}.eSolve-button[_ngcontent-%COMP%]{height:25px}@media (max-width: 767px){#continue-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),H})();var N=J(69751),ge=J(65401),b=J(40520);let ie=(()=>{class H{constructor(j,Ce){this.dialog=j,this.http=Ce}getMessageForDeleteScheduleDialog(j){return new N.y(Ce=>{this.http.get(ge.j.URLschedules+"/message/"+j).subscribe(ue=>(Ce.next(ue),Ce.complete()),ue=>Ce.error(ue))})}openConfirmDialog(j,Ce){if("true"===localStorage.getItem("isLoggedIn"))return this.dialog.open(Te,{width:"390px",panelClass:"confirm-dialog",disableClose:!0,data:{type:j,message:Ce}})}openGuardConfirmDialog(j,Ce){return this.dialog.open(e,{width:"390px",panelClass:"confirm-dialog",disableClose:!0,data:{type:j,message:Ce}})}openWarningDialog(j){return this.dialog.open(_,{width:"390px",panelClass:"confirm-dialog",disableClose:!0,data:{message:j}})}}return H.\u0275fac=function(j){return new(j||H)(E.LFG(D.uw),E.LFG(b.eN))},H.\u0275prov=E.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},47428:(Re,ae,J)=>{"use strict";J.d(ae,{i:()=>e});var D=J(65401),E=J(69751),Te=J(5e3),_=J(40520);let e=(()=>{class N{constructor(b){this.http=b}offerJob(b,ie){return new E.y(H=>{this.http.post(D.j.URLjobOffers+"/offerjob",{jobID:b,EmployeeIDs:ie},{responseType:"text"}).subscribe(_e=>(H.next(_e),H.complete()),_e=>H.error(_e))})}offerJobs(b,ie,H,_e){return new E.y(j=>{this.http.post(D.j.URLjobOffers+"/offerjobs",{startDate:b,endDate:ie,scheduleID:H,subgroupID:_e},{responseType:"text"}).subscribe(Ce=>(j.next(Ce),j.complete()),Ce=>j.error(Ce))})}revokeJobOffers(b,ie,H,_e){return new E.y(j=>{this.http.post(D.j.URLjobOffers+"/revokejobs",{startDate:b,endDate:ie,scheduleID:H,subgroupID:_e},{responseType:"text"}).subscribe(Ce=>(j.next(Ce),j.complete()),Ce=>j.error(Ce))})}getOffers(b,ie,H,_e,j){return new E.y(Ce=>{this.http.get(D.j.URLjobOffers,{params:{jobOfferStatusIDs:0!=b.length?b:[],Page:ie||"1",Limit:H||"5",SortOrder:_e||"asc",Column:j>=0?j+1:"1"}}).subscribe(ue=>(Ce.next(ue),Ce.complete()),ue=>Ce.error(ue))})}acceptOrRejectJobOffer(b,ie){return new E.y(H=>{this.http.post(D.j.URLjobOffers+"/action",{jobOfferID:b,isAccepted:ie},{responseType:"text"}).subscribe(_e=>(H.next(_e),H.complete()),_e=>H.error(_e))})}}return N.\u0275fac=function(b){return new(b||N)(Te.LFG(_.eN))},N.\u0275prov=Te.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},19407:(Re,ae,J)=>{"use strict";J.d(ae,{v:()=>e});var D=J(40520),E=J(77579),Te=J(65401),_=J(5e3);let e=(()=>{class N{constructor(b){this._http=b,this.onSamePageNotificationAction=new E.x,this.columnMap=(new Map).set("jobType",0).set("jobStartDateTime",1).set("jobEndDateTime",2)}getTradedJobs(b,ie,H,_e,j){null==_e&&(_e="jobType");let Ce=(new D.LE).set("JobsForUptake",b.toString()).set("Page",ie&&0!==ie?ie.toString():"1").set("Limit",H&&0!==H?H.toString():"5").set("Column",_e&&""!==_e?this.columnMap.get(_e):0).set("Sort",j&&""!==j?j:"asc");return this._http.get(Te.j.URLtrades,{params:Ce})}getTradeWarning(){return this._http.get(Te.j.URLtrades+"/tradeWarning")}getAcceptTradeWarning(){return this._http.get(Te.j.URLtrades+"/acceptingTradeOfferWarning")}offerJob(b,ie){return this._http.post(Te.j.URLtrades,{employeeID:b,jobID:ie})}acceptTradeOffer(b){return this._http.get(Te.j.URLtrades+"/acceptTradeOffer/"+b)}declineTradeOffer(b){return this._http.get(Te.j.URLtrades+"/declineTradeOffer/"+b)}cancelTradeOffer(b){return this._http.delete(Te.j.URLtrades+"/"+b)}}return N.\u0275fac=function(b){return new(b||N)(_.LFG(D.eN))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},61891:(Re,ae,J)=>{"use strict";J.d(ae,{Z:()=>Te});var D=J(77579),E=J(5e3);let Te=(()=>{class _{constructor(){this.subject=new D.x}sendTitle(N){this.subject.next({text:N})}getTitle(){return this.subject.asObservable()}}return _.\u0275fac=function(N){return new(N||_)},_.\u0275prov=E.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},31410:(Re,ae,J)=>{"use strict";J.d(ae,{e:()=>A});var D=J(15671),E=J(43144),Te=J(73237),_=J(61120),e=J(60136),N=J(18486),ge=J(5e3),b=J(90508),ie=J(15439),_e=ie||J.t(ie,2),j=new ge.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function Ce(){return{useUtc:!1}}});function ue(G,y){for(var oe=Array(G),ce=0;ce<G;ce++)oe[ce]=y(ce);return oe}var z=function(){var G=function(y){(0,e.Z)(ce,y);var oe=(0,N.Z)(ce);function ce(q,B){var ee;return(0,D.Z)(this,ce),(ee=oe.call(this))._options=B,ee.setLocale(q||_e.locale()),ee}return(0,E.Z)(ce,[{key:"setLocale",value:function(B){var ee=this;(0,Te.Z)((0,_.Z)(ce.prototype),"setLocale",this).call(this,B);var te=_e.localeData(B);this._localeData={firstDayOfWeek:te.firstDayOfWeek(),longMonths:te.months(),shortMonths:te.monthsShort(),dates:ue(31,function(K){return ee.createDate(2017,0,K+1).format("D")}),longDaysOfWeek:te.weekdays(),shortDaysOfWeek:te.weekdaysShort(),narrowDaysOfWeek:te.weekdaysMin()}}},{key:"getYear",value:function(B){return this.clone(B).year()}},{key:"getMonth",value:function(B){return this.clone(B).month()}},{key:"getDate",value:function(B){return this.clone(B).date()}},{key:"getDayOfWeek",value:function(B){return this.clone(B).day()}},{key:"getMonthNames",value:function(B){return"long"==B?this._localeData.longMonths:this._localeData.shortMonths}},{key:"getDateNames",value:function(){return this._localeData.dates}},{key:"getDayOfWeekNames",value:function(B){return"long"==B?this._localeData.longDaysOfWeek:"short"==B?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}},{key:"getYearName",value:function(B){return this.clone(B).format("YYYY")}},{key:"getFirstDayOfWeek",value:function(){return this._localeData.firstDayOfWeek}},{key:"getNumDaysInMonth",value:function(B){return this.clone(B).daysInMonth()}},{key:"clone",value:function(B){return B.clone().locale(this.locale)}},{key:"createDate",value:function(B,ee,te){var K=this._createMoment({year:B,month:ee,date:te}).locale(this.locale);return K.isValid(),K}},{key:"today",value:function(){return this._createMoment().locale(this.locale)}},{key:"parse",value:function(B,ee){return B&&"string"==typeof B?this._createMoment(B,ee,this.locale):B?this._createMoment(B).locale(this.locale):null}},{key:"format",value:function(B,ee){return B=this.clone(B),this.isValid(B),B.format(ee)}},{key:"addCalendarYears",value:function(B,ee){return this.clone(B).add({years:ee})}},{key:"addCalendarMonths",value:function(B,ee){return this.clone(B).add({months:ee})}},{key:"addCalendarDays",value:function(B,ee){return this.clone(B).add({days:ee})}},{key:"toIso8601",value:function(B){return this.clone(B).format()}},{key:"deserialize",value:function(B){var ee;if(B instanceof Date)ee=this._createMoment(B).locale(this.locale);else if(this.isDateInstance(B))return this.clone(B);if("string"==typeof B){if(!B)return null;ee=this._createMoment(B,_e.ISO_8601).locale(this.locale)}return ee&&this.isValid(ee)?this._createMoment(ee).locale(this.locale):(0,Te.Z)((0,_.Z)(ce.prototype),"deserialize",this).call(this,B)}},{key:"isDateInstance",value:function(B){return _e.isMoment(B)}},{key:"isValid",value:function(B){return this.clone(B).isValid()}},{key:"invalid",value:function(){return _e.invalid()}},{key:"_createMoment",value:function(B,ee,te){var K=this._options||{},I=K.strict;return K.useUtc?_e.utc(B,ee,te,I):_e(B,ee,te,I)}}]),ce}(b._A);return G.\u0275fac=function(oe){return new(oe||G)(ge.LFG(b.Ad,8),ge.LFG(j,8))},G.\u0275prov=ge.Yz7({token:G,factory:G.\u0275fac}),G}(),Y=J(39059),S=J(74734);class A extends z{constructor(){super(...arguments),this.valueLength=S.YG.length}getFirstDayOfWeek(){return Y.JA[window.localStorage.getItem("startDayOfWeek")]}parse(y,oe){if(y.length>=this.valueLength)return y&&"string"==typeof y?ie.utc(y,oe,this.locale,!0):y?ie.utc(y).locale(this.locale):null}createDate(y,oe,ce){if(oe<0||oe>11)throw Error(`Invalid month index "${oe}". Month index has to be between 0 and 11.`);if(ce<1)throw Error(`Invalid date "${ce}". Date has to be greater than 0.`);let q=ie.utc({year:y,month:oe,date:ce}).locale(this.locale);if(!q.isValid())throw Error(`Invalid date "${ce}" for month with index "${oe}".`);return q}today(){return ie.utc().locale(this.locale)}}},58259:function(Re,ae){var D;!function(E,Te){"use strict";"object"==typeof Re.exports?Re.exports=E.document?Te(E,!0):function(_){if(!_.document)throw new Error("jQuery requires a window with a document");return Te(_)}:Te(E)}("undefined"!=typeof window?window:this,function(E,Te){"use strict";var _=[],e=Object.getPrototypeOf,N=_.slice,ge=_.flat?function(R){return _.flat.call(R)}:function(R){return _.concat.apply([],R)},b=_.push,ie=_.indexOf,H={},_e=H.toString,j=H.hasOwnProperty,Ce=j.toString,ue=Ce.call(Object),z={},se=function(C){return"function"==typeof C&&"number"!=typeof C.nodeType},xe=function(C){return null!=C&&C===C.window},fe=E.document,Y={type:!0,src:!0,nonce:!0,noModule:!0};function S(R,C,P){var Z,ne,he=(P=P||fe).createElement("script");if(he.text=R,C)for(Z in Y)(ne=C[Z]||C.getAttribute&&C.getAttribute(Z))&&he.setAttribute(Z,ne);P.head.appendChild(he).parentNode.removeChild(he)}function A(R){return null==R?R+"":"object"==typeof R||"function"==typeof R?H[_e.call(R)]||"object":typeof R}var G="3.5.1",y=function R(C,P){return new R.fn.init(C,P)};function oe(R){var C=!!R&&"length"in R&&R.length,P=A(R);return!se(R)&&!xe(R)&&("array"===P||0===C||"number"==typeof C&&C>0&&C-1 in R)}y.fn=y.prototype={jquery:G,constructor:y,length:0,toArray:function(){return N.call(this)},get:function(C){return null==C?N.call(this):C<0?this[C+this.length]:this[C]},pushStack:function(C){var P=y.merge(this.constructor(),C);return P.prevObject=this,P},each:function(C){return y.each(this,C)},map:function(C){return this.pushStack(y.map(this,function(P,Z){return C.call(P,Z,P)}))},slice:function(){return this.pushStack(N.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(y.grep(this,function(C,P){return(P+1)%2}))},odd:function(){return this.pushStack(y.grep(this,function(C,P){return P%2}))},eq:function(C){var P=this.length,Z=+C+(C<0?P:0);return this.pushStack(Z>=0&&Z<P?[this[Z]]:[])},end:function(){return this.prevObject||this.constructor()},push:b,sort:_.sort,splice:_.splice},y.extend=y.fn.extend=function(){var R,C,P,Z,ne,he,be=arguments[0]||{},Me=1,Ue=arguments.length,Je=!1;for("boolean"==typeof be&&(Je=be,be=arguments[Me]||{},Me++),"object"!=typeof be&&!se(be)&&(be={}),Me===Ue&&(be=this,Me--);Me<Ue;Me++)if(null!=(R=arguments[Me]))for(C in R)Z=R[C],"__proto__"!==C&&be!==Z&&(Je&&Z&&(y.isPlainObject(Z)||(ne=Array.isArray(Z)))?(P=be[C],he=ne&&!Array.isArray(P)?[]:ne||y.isPlainObject(P)?P:{},ne=!1,be[C]=y.extend(Je,he,Z)):void 0!==Z&&(be[C]=Z));return be},y.extend({expando:"jQuery"+(G+Math.random()).replace(/\D/g,""),isReady:!0,error:function(C){throw new Error(C)},noop:function(){},isPlainObject:function(C){var P,Z;return!(!C||"[object Object]"!==_e.call(C)||(P=e(C))&&("function"!=typeof(Z=j.call(P,"constructor")&&P.constructor)||Ce.call(Z)!==ue))},isEmptyObject:function(C){var P;for(P in C)return!1;return!0},globalEval:function(C,P,Z){S(C,{nonce:P&&P.nonce},Z)},each:function(C,P){var Z,ne=0;if(oe(C))for(Z=C.length;ne<Z&&!1!==P.call(C[ne],ne,C[ne]);ne++);else for(ne in C)if(!1===P.call(C[ne],ne,C[ne]))break;return C},makeArray:function(C,P){var Z=P||[];return null!=C&&(oe(Object(C))?y.merge(Z,"string"==typeof C?[C]:C):b.call(Z,C)),Z},inArray:function(C,P,Z){return null==P?-1:ie.call(P,C,Z)},merge:function(C,P){for(var Z=+P.length,ne=0,he=C.length;ne<Z;ne++)C[he++]=P[ne];return C.length=he,C},grep:function(C,P,Z){for(var he=[],be=0,Me=C.length,Ue=!Z;be<Me;be++)!P(C[be],be)!==Ue&&he.push(C[be]);return he},map:function(C,P,Z){var ne,he,be=0,Me=[];if(oe(C))for(ne=C.length;be<ne;be++)null!=(he=P(C[be],be,Z))&&Me.push(he);else for(be in C)null!=(he=P(C[be],be,Z))&&Me.push(he);return ge(Me)},guid:1,support:z}),"function"==typeof Symbol&&(y.fn[Symbol.iterator]=_[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(R,C){H["[object "+C+"]"]=C.toLowerCase()});var ce=function(R){var C,P,Z,ne,he,be,Me,Ue,Je,nt,Et,Tt,et,Rt,en,$t,ui,Bn,nr,ti="sizzle"+1*new Date,Li=R.document,bn=0,cs=0,Ji=Js(),Qi=Js(),Ui=Js(),Ta=Js(),Er=function(Ee,He){return Ee===He&&(Et=!0),0},Ys={}.hasOwnProperty,Gr=[],ra=Gr.pop,Fo=Gr.push,zi=Gr.push,wc=Gr.slice,ja=function(Ee,He){for(var ct=0,Qe=Ee.length;ct<Qe;ct++)if(Ee[ct]===He)return ct;return-1},kl="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ni="[\\x20\\t\\r\\n\\f]",Ya="(?:\\\\[\\da-fA-F]{1,6}"+ni+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Dc="\\["+ni+"*("+Ya+")(?:"+ni+"*([*^$|!~]?=)"+ni+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ya+"))|)"+ni+"*\\]",qr=":("+Ya+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Dc+")*)|.*)\\)|)",Sc=new RegExp(ni+"+","g"),wa=new RegExp("^"+ni+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ni+"+$","g"),fu=new RegExp("^"+ni+"*,"+ni+"*"),Cd=new RegExp("^"+ni+"*([>+~]|"+ni+")"+ni+"*"),jp=new RegExp(ni+"|>"),Yp=new RegExp(qr),qp=new RegExp("^"+Ya+"$"),Al={ID:new RegExp("^#("+Ya+")"),CLASS:new RegExp("^\\.("+Ya+")"),TAG:new RegExp("^("+Ya+"|[*])"),ATTR:new RegExp("^"+Dc),PSEUDO:new RegExp("^"+qr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ni+"*(even|odd|(([+-]|)(\\d*)n|)"+ni+"*(?:([+-]|)"+ni+"*(\\d+)|))"+ni+"*\\)|)","i"),bool:new RegExp("^(?:"+kl+")$","i"),needsContext:new RegExp("^"+ni+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ni+"*((?:-\\d)?\\d*)"+ni+"*\\)|)(?=[^-]|$)","i")},hu=/HTML$/i,ds=/^(?:input|select|textarea|button)$/i,Jp=/^h\d$/i,Ml=/^[^{]+\{\s*\[native \w/,Td=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,kc=/[+~]/,Jr=new RegExp("\\\\[\\da-fA-F]{1,6}"+ni+"?|\\\\([^\\r\\n\\f])","g"),uo=function(Ee,He){var ct="0x"+Ee.slice(1)-65536;return He||(ct<0?String.fromCharCode(ct+65536):String.fromCharCode(ct>>10|55296,1023&ct|56320))},wd=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,mu=function(Ee,He){return He?"\0"===Ee?"\ufffd":Ee.slice(0,-1)+"\\"+Ee.charCodeAt(Ee.length-1).toString(16)+" ":"\\"+Ee},gu=function(){Tt()},qs=zn(function(qe){return!0===qe.disabled&&"fieldset"===qe.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{zi.apply(Gr=wc.call(Li.childNodes),Li.childNodes)}catch(qe){zi={apply:Gr.length?function(Ee,He){Fo.apply(Ee,wc.call(He))}:function(Ee,He){for(var ct=Ee.length,Qe=0;Ee[ct++]=He[Qe++];);Ee.length=ct-1}}}function Vn(qe,Ee,He,ct){var Qe,bt,yt,kt,Wt,Xt,yn,pn=Ee&&Ee.ownerDocument,hn=Ee?Ee.nodeType:9;if(He=He||[],"string"!=typeof qe||!qe||1!==hn&&9!==hn&&11!==hn)return He;if(!ct&&(Tt(Ee),Ee=Ee||et,en)){if(11!==hn&&(Wt=Td.exec(qe)))if(Qe=Wt[1]){if(9===hn){if(!(yt=Ee.getElementById(Qe)))return He;if(yt.id===Qe)return He.push(yt),He}else if(pn&&(yt=pn.getElementById(Qe))&&nr(Ee,yt)&&yt.id===Qe)return He.push(yt),He}else{if(Wt[2])return zi.apply(He,Ee.getElementsByTagName(qe)),He;if((Qe=Wt[3])&&P.getElementsByClassName&&Ee.getElementsByClassName)return zi.apply(He,Ee.getElementsByClassName(Qe)),He}if(P.qsa&&!Ta[qe+" "]&&(!$t||!$t.test(qe))&&(1!==hn||"object"!==Ee.nodeName.toLowerCase())){if(yn=qe,pn=Ee,1===hn&&(jp.test(qe)||Cd.test(qe))){for(((pn=kc.test(qe)&&ft(Ee.parentNode)||Ee)!==Ee||!P.scope)&&((kt=Ee.getAttribute("id"))?kt=kt.replace(wd,mu):Ee.setAttribute("id",kt=ti)),bt=(Xt=be(qe)).length;bt--;)Xt[bt]=(kt?"#"+kt:":scope")+" "+Tn(Xt[bt]);yn=Xt.join(",")}try{return zi.apply(He,pn.querySelectorAll(yn)),He}catch(xi){Ta(qe,!0)}finally{kt===ti&&Ee.removeAttribute("id")}}}return Ue(qe.replace(wa,"$1"),Ee,He,ct)}function Js(){var qe=[];return function Ee(He,ct){return qe.push(He+" ")>Z.cacheLength&&delete Ee[qe.shift()],Ee[He+" "]=ct}}function ko(qe){return qe[ti]=!0,qe}function Ir(qe){var Ee=et.createElement("fieldset");try{return!!qe(Ee)}catch(He){return!1}finally{Ee.parentNode&&Ee.parentNode.removeChild(Ee),Ee=null}}function Ol(qe,Ee){for(var He=qe.split("|"),ct=He.length;ct--;)Z.attrHandle[He[ct]]=Ee}function Ac(qe,Ee){var He=Ee&&qe,ct=He&&1===qe.nodeType&&1===Ee.nodeType&&qe.sourceIndex-Ee.sourceIndex;if(ct)return ct;if(He)for(;He=He.nextSibling;)if(He===Ee)return-1;return qe?1:-1}function Dd(qe){return function(Ee){return"input"===Ee.nodeName.toLowerCase()&&Ee.type===qe}}function us(qe){return function(Ee){var He=Ee.nodeName.toLowerCase();return("input"===He||"button"===He)&&Ee.type===qe}}function $e(qe){return function(Ee){return"form"in Ee?Ee.parentNode&&!1===Ee.disabled?"label"in Ee?"label"in Ee.parentNode?Ee.parentNode.disabled===qe:Ee.disabled===qe:Ee.isDisabled===qe||Ee.isDisabled!==!qe&&qs(Ee)===qe:Ee.disabled===qe:"label"in Ee&&Ee.disabled===qe}}function _t(qe){return ko(function(Ee){return Ee=+Ee,ko(function(He,ct){for(var Qe,bt=qe([],He.length,Ee),yt=bt.length;yt--;)He[Qe=bt[yt]]&&(He[Qe]=!(ct[Qe]=He[Qe]))})})}function ft(qe){return qe&&void 0!==qe.getElementsByTagName&&qe}for(C in P=Vn.support={},he=Vn.isXML=function(qe){var He=(qe.ownerDocument||qe).documentElement;return!hu.test(qe.namespaceURI||He&&He.nodeName||"HTML")},Tt=Vn.setDocument=function(qe){var Ee,He,ct=qe?qe.ownerDocument||qe:Li;return ct==et||9!==ct.nodeType||!ct.documentElement||(Rt=(et=ct).documentElement,en=!he(et),Li!=et&&(He=et.defaultView)&&He.top!==He&&(He.addEventListener?He.addEventListener("unload",gu,!1):He.attachEvent&&He.attachEvent("onunload",gu)),P.scope=Ir(function(Qe){return Rt.appendChild(Qe).appendChild(et.createElement("div")),void 0!==Qe.querySelectorAll&&!Qe.querySelectorAll(":scope fieldset div").length}),P.attributes=Ir(function(Qe){return Qe.className="i",!Qe.getAttribute("className")}),P.getElementsByTagName=Ir(function(Qe){return Qe.appendChild(et.createComment("")),!Qe.getElementsByTagName("*").length}),P.getElementsByClassName=Ml.test(et.getElementsByClassName),P.getById=Ir(function(Qe){return Rt.appendChild(Qe).id=ti,!et.getElementsByName||!et.getElementsByName(ti).length}),P.getById?(Z.filter.ID=function(Qe){var bt=Qe.replace(Jr,uo);return function(yt){return yt.getAttribute("id")===bt}},Z.find.ID=function(Qe,bt){if(void 0!==bt.getElementById&&en){var yt=bt.getElementById(Qe);return yt?[yt]:[]}}):(Z.filter.ID=function(Qe){var bt=Qe.replace(Jr,uo);return function(yt){var kt=void 0!==yt.getAttributeNode&&yt.getAttributeNode("id");return kt&&kt.value===bt}},Z.find.ID=function(Qe,bt){if(void 0!==bt.getElementById&&en){var yt,kt,Wt,Xt=bt.getElementById(Qe);if(Xt){if((yt=Xt.getAttributeNode("id"))&&yt.value===Qe)return[Xt];for(Wt=bt.getElementsByName(Qe),kt=0;Xt=Wt[kt++];)if((yt=Xt.getAttributeNode("id"))&&yt.value===Qe)return[Xt]}return[]}}),Z.find.TAG=P.getElementsByTagName?function(Qe,bt){return void 0!==bt.getElementsByTagName?bt.getElementsByTagName(Qe):P.qsa?bt.querySelectorAll(Qe):void 0}:function(Qe,bt){var yt,kt=[],Wt=0,Xt=bt.getElementsByTagName(Qe);if("*"===Qe){for(;yt=Xt[Wt++];)1===yt.nodeType&&kt.push(yt);return kt}return Xt},Z.find.CLASS=P.getElementsByClassName&&function(Qe,bt){if(void 0!==bt.getElementsByClassName&&en)return bt.getElementsByClassName(Qe)},ui=[],$t=[],(P.qsa=Ml.test(et.querySelectorAll))&&(Ir(function(Qe){var bt;Rt.appendChild(Qe).innerHTML="<a id='"+ti+"'></a><select id='"+ti+"-\r\\' msallowcapture=''><option selected=''></option></select>",Qe.querySelectorAll("[msallowcapture^='']").length&&$t.push("[*^$]="+ni+"*(?:''|\"\")"),Qe.querySelectorAll("[selected]").length||$t.push("\\["+ni+"*(?:value|"+kl+")"),Qe.querySelectorAll("[id~="+ti+"-]").length||$t.push("~="),(bt=et.createElement("input")).setAttribute("name",""),Qe.appendChild(bt),Qe.querySelectorAll("[name='']").length||$t.push("\\["+ni+"*name"+ni+"*="+ni+"*(?:''|\"\")"),Qe.querySelectorAll(":checked").length||$t.push(":checked"),Qe.querySelectorAll("a#"+ti+"+*").length||$t.push(".#.+[+~]"),Qe.querySelectorAll("\\\f"),$t.push("[\\r\\n\\f]")}),Ir(function(Qe){Qe.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var bt=et.createElement("input");bt.setAttribute("type","hidden"),Qe.appendChild(bt).setAttribute("name","D"),Qe.querySelectorAll("[name=d]").length&&$t.push("name"+ni+"*[*^$|!~]?="),2!==Qe.querySelectorAll(":enabled").length&&$t.push(":enabled",":disabled"),Rt.appendChild(Qe).disabled=!0,2!==Qe.querySelectorAll(":disabled").length&&$t.push(":enabled",":disabled"),Qe.querySelectorAll("*,:x"),$t.push(",.*:")})),(P.matchesSelector=Ml.test(Bn=Rt.matches||Rt.webkitMatchesSelector||Rt.mozMatchesSelector||Rt.oMatchesSelector||Rt.msMatchesSelector))&&Ir(function(Qe){P.disconnectedMatch=Bn.call(Qe,"*"),Bn.call(Qe,"[s!='']:x"),ui.push("!=",qr)}),$t=$t.length&&new RegExp($t.join("|")),ui=ui.length&&new RegExp(ui.join("|")),Ee=Ml.test(Rt.compareDocumentPosition),nr=Ee||Ml.test(Rt.contains)?function(Qe,bt){var yt=9===Qe.nodeType?Qe.documentElement:Qe,kt=bt&&bt.parentNode;return Qe===kt||!(!kt||1!==kt.nodeType||!(yt.contains?yt.contains(kt):Qe.compareDocumentPosition&&16&Qe.compareDocumentPosition(kt)))}:function(Qe,bt){if(bt)for(;bt=bt.parentNode;)if(bt===Qe)return!0;return!1},Er=Ee?function(Qe,bt){if(Qe===bt)return Et=!0,0;var yt=!Qe.compareDocumentPosition-!bt.compareDocumentPosition;return yt||(1&(yt=(Qe.ownerDocument||Qe)==(bt.ownerDocument||bt)?Qe.compareDocumentPosition(bt):1)||!P.sortDetached&&bt.compareDocumentPosition(Qe)===yt?Qe==et||Qe.ownerDocument==Li&&nr(Li,Qe)?-1:bt==et||bt.ownerDocument==Li&&nr(Li,bt)?1:nt?ja(nt,Qe)-ja(nt,bt):0:4&yt?-1:1)}:function(Qe,bt){if(Qe===bt)return Et=!0,0;var yt,kt=0,Wt=Qe.parentNode,Xt=bt.parentNode,yn=[Qe],pn=[bt];if(!Wt||!Xt)return Qe==et?-1:bt==et?1:Wt?-1:Xt?1:nt?ja(nt,Qe)-ja(nt,bt):0;if(Wt===Xt)return Ac(Qe,bt);for(yt=Qe;yt=yt.parentNode;)yn.unshift(yt);for(yt=bt;yt=yt.parentNode;)pn.unshift(yt);for(;yn[kt]===pn[kt];)kt++;return kt?Ac(yn[kt],pn[kt]):yn[kt]==Li?-1:pn[kt]==Li?1:0}),et},Vn.matches=function(qe,Ee){return Vn(qe,null,null,Ee)},Vn.matchesSelector=function(qe,Ee){if(Tt(qe),P.matchesSelector&&en&&!Ta[Ee+" "]&&(!ui||!ui.test(Ee))&&(!$t||!$t.test(Ee)))try{var He=Bn.call(qe,Ee);if(He||P.disconnectedMatch||qe.document&&11!==qe.document.nodeType)return He}catch(ct){Ta(Ee,!0)}return Vn(Ee,et,null,[qe]).length>0},Vn.contains=function(qe,Ee){return(qe.ownerDocument||qe)!=et&&Tt(qe),nr(qe,Ee)},Vn.attr=function(qe,Ee){(qe.ownerDocument||qe)!=et&&Tt(qe);var He=Z.attrHandle[Ee.toLowerCase()],ct=He&&Ys.call(Z.attrHandle,Ee.toLowerCase())?He(qe,Ee,!en):void 0;return void 0!==ct?ct:P.attributes||!en?qe.getAttribute(Ee):(ct=qe.getAttributeNode(Ee))&&ct.specified?ct.value:null},Vn.escape=function(qe){return(qe+"").replace(wd,mu)},Vn.error=function(qe){throw new Error("Syntax error, unrecognized expression: "+qe)},Vn.uniqueSort=function(qe){var Ee,He=[],ct=0,Qe=0;if(Et=!P.detectDuplicates,nt=!P.sortStable&&qe.slice(0),qe.sort(Er),Et){for(;Ee=qe[Qe++];)Ee===qe[Qe]&&(ct=He.push(Qe));for(;ct--;)qe.splice(He[ct],1)}return nt=null,qe},ne=Vn.getText=function(qe){var Ee,He="",ct=0,Qe=qe.nodeType;if(Qe){if(1===Qe||9===Qe||11===Qe){if("string"==typeof qe.textContent)return qe.textContent;for(qe=qe.firstChild;qe;qe=qe.nextSibling)He+=ne(qe)}else if(3===Qe||4===Qe)return qe.nodeValue}else for(;Ee=qe[ct++];)He+=ne(Ee);return He},(Z=Vn.selectors={cacheLength:50,createPseudo:ko,match:Al,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ee){return Ee[1]=Ee[1].replace(Jr,uo),Ee[3]=(Ee[3]||Ee[4]||Ee[5]||"").replace(Jr,uo),"~="===Ee[2]&&(Ee[3]=" "+Ee[3]+" "),Ee.slice(0,4)},CHILD:function(Ee){return Ee[1]=Ee[1].toLowerCase(),"nth"===Ee[1].slice(0,3)?(Ee[3]||Vn.error(Ee[0]),Ee[4]=+(Ee[4]?Ee[5]+(Ee[6]||1):2*("even"===Ee[3]||"odd"===Ee[3])),Ee[5]=+(Ee[7]+Ee[8]||"odd"===Ee[3])):Ee[3]&&Vn.error(Ee[0]),Ee},PSEUDO:function(Ee){var He,ct=!Ee[6]&&Ee[2];return Al.CHILD.test(Ee[0])?null:(Ee[3]?Ee[2]=Ee[4]||Ee[5]||"":ct&&Yp.test(ct)&&(He=be(ct,!0))&&(He=ct.indexOf(")",ct.length-He)-ct.length)&&(Ee[0]=Ee[0].slice(0,He),Ee[2]=ct.slice(0,He)),Ee.slice(0,3))}},filter:{TAG:function(Ee){var He=Ee.replace(Jr,uo).toLowerCase();return"*"===Ee?function(){return!0}:function(ct){return ct.nodeName&&ct.nodeName.toLowerCase()===He}},CLASS:function(Ee){var He=Ji[Ee+" "];return He||(He=new RegExp("(^|"+ni+")"+Ee+"("+ni+"|$)"))&&Ji(Ee,function(ct){return He.test("string"==typeof ct.className&&ct.className||void 0!==ct.getAttribute&&ct.getAttribute("class")||"")})},ATTR:function(Ee,He,ct){return function(Qe){var bt=Vn.attr(Qe,Ee);return null==bt?"!="===He:!He||(bt+="","="===He?bt===ct:"!="===He?bt!==ct:"^="===He?ct&&0===bt.indexOf(ct):"*="===He?ct&&bt.indexOf(ct)>-1:"$="===He?ct&&bt.slice(-ct.length)===ct:"~="===He?(" "+bt.replace(Sc," ")+" ").indexOf(ct)>-1:"|="===He&&(bt===ct||bt.slice(0,ct.length+1)===ct+"-"))}},CHILD:function(Ee,He,ct,Qe,bt){var yt="nth"!==Ee.slice(0,3),kt="last"!==Ee.slice(-4),Wt="of-type"===He;return 1===Qe&&0===bt?function(Xt){return!!Xt.parentNode}:function(Xt,yn,pn){var hn,xi,bi,xn,ir,sr,Si=yt!==kt?"nextSibling":"previousSibling",aa=Xt.parentNode,Zo=Wt&&Xt.nodeName.toLowerCase(),po=!pn&&!Wt,xr=!1;if(aa){if(yt){for(;Si;){for(xn=Xt;xn=xn[Si];)if(Wt?xn.nodeName.toLowerCase()===Zo:1===xn.nodeType)return!1;sr=Si="only"===Ee&&!sr&&"nextSibling"}return!0}if(sr=[kt?aa.firstChild:aa.lastChild],kt&&po){for(xr=(ir=(hn=(xi=(bi=(xn=aa)[ti]||(xn[ti]={}))[xn.uniqueID]||(bi[xn.uniqueID]={}))[Ee]||[])[0]===bn&&hn[1])&&hn[2],xn=ir&&aa.childNodes[ir];xn=++ir&&xn&&xn[Si]||(xr=ir=0)||sr.pop();)if(1===xn.nodeType&&++xr&&xn===Xt){xi[Ee]=[bn,ir,xr];break}}else if(po&&(xr=ir=(hn=(xi=(bi=(xn=Xt)[ti]||(xn[ti]={}))[xn.uniqueID]||(bi[xn.uniqueID]={}))[Ee]||[])[0]===bn&&hn[1]),!1===xr)for(;(xn=++ir&&xn&&xn[Si]||(xr=ir=0)||sr.pop())&&((Wt?xn.nodeName.toLowerCase()!==Zo:1!==xn.nodeType)||!++xr||(po&&((xi=(bi=xn[ti]||(xn[ti]={}))[xn.uniqueID]||(bi[xn.uniqueID]={}))[Ee]=[bn,xr]),xn!==Xt)););return(xr-=bt)===Qe||xr%Qe==0&&xr/Qe>=0}}},PSEUDO:function(Ee,He){var ct,Qe=Z.pseudos[Ee]||Z.setFilters[Ee.toLowerCase()]||Vn.error("unsupported pseudo: "+Ee);return Qe[ti]?Qe(He):Qe.length>1?(ct=[Ee,Ee,"",He],Z.setFilters.hasOwnProperty(Ee.toLowerCase())?ko(function(bt,yt){for(var kt,Wt=Qe(bt,He),Xt=Wt.length;Xt--;)bt[kt=ja(bt,Wt[Xt])]=!(yt[kt]=Wt[Xt])}):function(bt){return Qe(bt,0,ct)}):Qe}},pseudos:{not:ko(function(qe){var Ee=[],He=[],ct=Me(qe.replace(wa,"$1"));return ct[ti]?ko(function(Qe,bt,yt,kt){for(var Wt,Xt=ct(Qe,null,kt,[]),yn=Qe.length;yn--;)(Wt=Xt[yn])&&(Qe[yn]=!(bt[yn]=Wt))}):function(Qe,bt,yt){return Ee[0]=Qe,ct(Ee,null,yt,He),Ee[0]=null,!He.pop()}}),has:ko(function(qe){return function(Ee){return Vn(qe,Ee).length>0}}),contains:ko(function(qe){return qe=qe.replace(Jr,uo),function(Ee){return(Ee.textContent||ne(Ee)).indexOf(qe)>-1}}),lang:ko(function(qe){return qp.test(qe||"")||Vn.error("unsupported lang: "+qe),qe=qe.replace(Jr,uo).toLowerCase(),function(Ee){var He;do{if(He=en?Ee.lang:Ee.getAttribute("xml:lang")||Ee.getAttribute("lang"))return(He=He.toLowerCase())===qe||0===He.indexOf(qe+"-")}while((Ee=Ee.parentNode)&&1===Ee.nodeType);return!1}}),target:function(Ee){var He=R.location&&R.location.hash;return He&&He.slice(1)===Ee.id},root:function(Ee){return Ee===Rt},focus:function(Ee){return Ee===et.activeElement&&(!et.hasFocus||et.hasFocus())&&!!(Ee.type||Ee.href||~Ee.tabIndex)},enabled:$e(!1),disabled:$e(!0),checked:function(Ee){var He=Ee.nodeName.toLowerCase();return"input"===He&&!!Ee.checked||"option"===He&&!!Ee.selected},selected:function(Ee){return!0===Ee.selected},empty:function(Ee){for(Ee=Ee.firstChild;Ee;Ee=Ee.nextSibling)if(Ee.nodeType<6)return!1;return!0},parent:function(Ee){return!Z.pseudos.empty(Ee)},header:function(Ee){return Jp.test(Ee.nodeName)},input:function(Ee){return ds.test(Ee.nodeName)},button:function(Ee){var He=Ee.nodeName.toLowerCase();return"input"===He&&"button"===Ee.type||"button"===He},text:function(Ee){var He;return"input"===Ee.nodeName.toLowerCase()&&"text"===Ee.type&&(null==(He=Ee.getAttribute("type"))||"text"===He.toLowerCase())},first:_t(function(){return[0]}),last:_t(function(qe,Ee){return[Ee-1]}),eq:_t(function(qe,Ee,He){return[He<0?He+Ee:He]}),even:_t(function(qe,Ee){for(var He=0;He<Ee;He+=2)qe.push(He);return qe}),odd:_t(function(qe,Ee){for(var He=1;He<Ee;He+=2)qe.push(He);return qe}),lt:_t(function(qe,Ee,He){for(var ct=He<0?He+Ee:He>Ee?Ee:He;--ct>=0;)qe.push(ct);return qe}),gt:_t(function(qe,Ee,He){for(var ct=He<0?He+Ee:He;++ct<Ee;)qe.push(ct);return qe})}}).pseudos.nth=Z.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Z.pseudos[C]=Dd(C);for(C in{submit:!0,reset:!0})Z.pseudos[C]=us(C);function Vt(){}function Tn(qe){for(var Ee=0,He=qe.length,ct="";Ee<He;Ee++)ct+=qe[Ee].value;return ct}function zn(qe,Ee,He){var ct=Ee.dir,Qe=Ee.next,bt=Qe||ct,yt=He&&"parentNode"===bt,kt=cs++;return Ee.first?function(Wt,Xt,yn){for(;Wt=Wt[ct];)if(1===Wt.nodeType||yt)return qe(Wt,Xt,yn);return!1}:function(Wt,Xt,yn){var pn,hn,xi,bi=[bn,kt];if(yn){for(;Wt=Wt[ct];)if((1===Wt.nodeType||yt)&&qe(Wt,Xt,yn))return!0}else for(;Wt=Wt[ct];)if(1===Wt.nodeType||yt)if(hn=(xi=Wt[ti]||(Wt[ti]={}))[Wt.uniqueID]||(xi[Wt.uniqueID]={}),Qe&&Qe===Wt.nodeName.toLowerCase())Wt=Wt[ct]||Wt;else{if((pn=hn[bt])&&pn[0]===bn&&pn[1]===kt)return bi[2]=pn[2];if(hn[bt]=bi,bi[2]=qe(Wt,Xt,yn))return!0}return!1}}function vi(qe){return qe.length>1?function(Ee,He,ct){for(var Qe=qe.length;Qe--;)if(!qe[Qe](Ee,He,ct))return!1;return!0}:qe[0]}function ps(qe,Ee,He,ct,Qe){for(var bt,yt=[],kt=0,Wt=qe.length,Xt=null!=Ee;kt<Wt;kt++)(bt=qe[kt])&&(!He||He(bt,ct,Qe))&&(yt.push(bt),Xt&&Ee.push(kt));return yt}function Pl(qe,Ee,He,ct,Qe,bt){return ct&&!ct[ti]&&(ct=Pl(ct)),Qe&&!Qe[ti]&&(Qe=Pl(Qe,bt)),ko(function(yt,kt,Wt,Xt){var yn,pn,hn,xi=[],bi=[],xn=kt.length,ir=yt||function Di(qe,Ee,He){for(var ct=0,Qe=Ee.length;ct<Qe;ct++)Vn(qe,Ee[ct],He);return He}(Ee||"*",Wt.nodeType?[Wt]:Wt,[]),sr=!qe||!yt&&Ee?ir:ps(ir,xi,qe,Wt,Xt),Si=He?Qe||(yt?qe:xn||ct)?[]:kt:sr;if(He&&He(sr,Si,Wt,Xt),ct)for(yn=ps(Si,bi),ct(yn,[],Wt,Xt),pn=yn.length;pn--;)(hn=yn[pn])&&(Si[bi[pn]]=!(sr[bi[pn]]=hn));if(yt){if(Qe||qe){if(Qe){for(yn=[],pn=Si.length;pn--;)(hn=Si[pn])&&yn.push(sr[pn]=hn);Qe(null,Si=[],yn,Xt)}for(pn=Si.length;pn--;)(hn=Si[pn])&&(yn=Qe?ja(yt,hn):xi[pn])>-1&&(yt[yn]=!(kt[yn]=hn))}}else Si=ps(Si===kt?Si.splice(xn,Si.length):Si),Qe?Qe(null,kt,Si,Xt):zi.apply(kt,Si)})}function Nr(qe){for(var Ee,He,ct,Qe=qe.length,bt=Z.relative[qe[0].type],yt=bt||Z.relative[" "],kt=bt?1:0,Wt=zn(function(pn){return pn===Ee},yt,!0),Xt=zn(function(pn){return ja(Ee,pn)>-1},yt,!0),yn=[function(pn,hn,xi){var bi=!bt&&(xi||hn!==Je)||((Ee=hn).nodeType?Wt(pn,hn,xi):Xt(pn,hn,xi));return Ee=null,bi}];kt<Qe;kt++)if(He=Z.relative[qe[kt].type])yn=[zn(vi(yn),He)];else{if((He=Z.filter[qe[kt].type].apply(null,qe[kt].matches))[ti]){for(ct=++kt;ct<Qe&&!Z.relative[qe[ct].type];ct++);return Pl(kt>1&&vi(yn),kt>1&&Tn(qe.slice(0,kt-1).concat({value:" "===qe[kt-2].type?"*":""})).replace(wa,"$1"),He,kt<ct&&Nr(qe.slice(kt,ct)),ct<Qe&&Nr(qe=qe.slice(ct)),ct<Qe&&Tn(qe))}yn.push(He)}return vi(yn)}return Vt.prototype=Z.filters=Z.pseudos,Z.setFilters=new Vt,be=Vn.tokenize=function(qe,Ee){var He,ct,Qe,bt,yt,kt,Wt,Xt=Qi[qe+" "];if(Xt)return Ee?0:Xt.slice(0);for(yt=qe,kt=[],Wt=Z.preFilter;yt;){for(bt in(!He||(ct=fu.exec(yt)))&&(ct&&(yt=yt.slice(ct[0].length)||yt),kt.push(Qe=[])),He=!1,(ct=Cd.exec(yt))&&(He=ct.shift(),Qe.push({value:He,type:ct[0].replace(wa," ")}),yt=yt.slice(He.length)),Z.filter)(ct=Al[bt].exec(yt))&&(!Wt[bt]||(ct=Wt[bt](ct)))&&(He=ct.shift(),Qe.push({value:He,type:bt,matches:ct}),yt=yt.slice(He.length));if(!He)break}return Ee?yt.length:yt?Vn.error(qe):Qi(qe,kt).slice(0)},Me=Vn.compile=function(qe,Ee){var He,ct=[],Qe=[],bt=Ui[qe+" "];if(!bt){for(Ee||(Ee=be(qe)),He=Ee.length;He--;)(bt=Nr(Ee[He]))[ti]?ct.push(bt):Qe.push(bt);bt=Ui(qe,function oa(qe,Ee){var He=Ee.length>0,ct=qe.length>0,Qe=function(yt,kt,Wt,Xt,yn){var pn,hn,xi,bi=0,xn="0",ir=yt&&[],sr=[],Si=Je,aa=yt||ct&&Z.find.TAG("*",yn),Zo=bn+=null==Si?1:Math.random()||.1,po=aa.length;for(yn&&(Je=kt==et||kt||yn);xn!==po&&null!=(pn=aa[xn]);xn++){if(ct&&pn){for(hn=0,!kt&&pn.ownerDocument!=et&&(Tt(pn),Wt=!en);xi=qe[hn++];)if(xi(pn,kt||et,Wt)){Xt.push(pn);break}yn&&(bn=Zo)}He&&((pn=!xi&&pn)&&bi--,yt&&ir.push(pn))}if(bi+=xn,He&&xn!==bi){for(hn=0;xi=Ee[hn++];)xi(ir,sr,kt,Wt);if(yt){if(bi>0)for(;xn--;)ir[xn]||sr[xn]||(sr[xn]=ra.call(Xt));sr=ps(sr)}zi.apply(Xt,sr),yn&&!yt&&sr.length>0&&bi+Ee.length>1&&Vn.uniqueSort(Xt)}return yn&&(bn=Zo,Je=Si),ir};return He?ko(Qe):Qe}(Qe,ct)),bt.selector=qe}return bt},Ue=Vn.select=function(qe,Ee,He,ct){var Qe,bt,yt,kt,Wt,Xt="function"==typeof qe&&qe,yn=!ct&&be(qe=Xt.selector||qe);if(He=He||[],1===yn.length){if((bt=yn[0]=yn[0].slice(0)).length>2&&"ID"===(yt=bt[0]).type&&9===Ee.nodeType&&en&&Z.relative[bt[1].type]){if(!(Ee=(Z.find.ID(yt.matches[0].replace(Jr,uo),Ee)||[])[0]))return He;Xt&&(Ee=Ee.parentNode),qe=qe.slice(bt.shift().value.length)}for(Qe=Al.needsContext.test(qe)?0:bt.length;Qe--&&!Z.relative[kt=(yt=bt[Qe]).type];)if((Wt=Z.find[kt])&&(ct=Wt(yt.matches[0].replace(Jr,uo),kc.test(bt[0].type)&&ft(Ee.parentNode)||Ee))){if(bt.splice(Qe,1),!(qe=ct.length&&Tn(bt)))return zi.apply(He,ct),He;break}}return(Xt||Me(qe,yn))(ct,Ee,!en,He,!Ee||kc.test(qe)&&ft(Ee.parentNode)||Ee),He},P.sortStable=ti.split("").sort(Er).join("")===ti,P.detectDuplicates=!!Et,Tt(),P.sortDetached=Ir(function(qe){return 1&qe.compareDocumentPosition(et.createElement("fieldset"))}),Ir(function(qe){return qe.innerHTML="<a href='#'></a>","#"===qe.firstChild.getAttribute("href")})||Ol("type|href|height|width",function(qe,Ee,He){if(!He)return qe.getAttribute(Ee,"type"===Ee.toLowerCase()?1:2)}),(!P.attributes||!Ir(function(qe){return qe.innerHTML="<input/>",qe.firstChild.setAttribute("value",""),""===qe.firstChild.getAttribute("value")}))&&Ol("value",function(qe,Ee,He){if(!He&&"input"===qe.nodeName.toLowerCase())return qe.defaultValue}),Ir(function(qe){return null==qe.getAttribute("disabled")})||Ol(kl,function(qe,Ee,He){var ct;if(!He)return!0===qe[Ee]?Ee.toLowerCase():(ct=qe.getAttributeNode(Ee))&&ct.specified?ct.value:null}),Vn}(E);y.find=ce,(y.expr=ce.selectors)[":"]=y.expr.pseudos,y.uniqueSort=y.unique=ce.uniqueSort,y.text=ce.getText,y.isXMLDoc=ce.isXML,y.contains=ce.contains,y.escapeSelector=ce.escape;var q=function(C,P,Z){for(var ne=[],he=void 0!==Z;(C=C[P])&&9!==C.nodeType;)if(1===C.nodeType){if(he&&y(C).is(Z))break;ne.push(C)}return ne},B=function(C,P){for(var Z=[];C;C=C.nextSibling)1===C.nodeType&&C!==P&&Z.push(C);return Z},ee=y.expr.match.needsContext;function te(R,C){return R.nodeName&&R.nodeName.toLowerCase()===C.toLowerCase()}var K=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(R,C,P){return se(C)?y.grep(R,function(Z,ne){return!!C.call(Z,ne,Z)!==P}):C.nodeType?y.grep(R,function(Z){return Z===C!==P}):"string"!=typeof C?y.grep(R,function(Z){return ie.call(C,Z)>-1!==P}):y.filter(C,R,P)}y.filter=function(R,C,P){var Z=C[0];return P&&(R=":not("+R+")"),1===C.length&&1===Z.nodeType?y.find.matchesSelector(Z,R)?[Z]:[]:y.find.matches(R,y.grep(C,function(ne){return 1===ne.nodeType}))},y.fn.extend({find:function(C){var P,Z,ne=this.length,he=this;if("string"!=typeof C)return this.pushStack(y(C).filter(function(){for(P=0;P<ne;P++)if(y.contains(he[P],this))return!0}));for(Z=this.pushStack([]),P=0;P<ne;P++)y.find(C,he[P],Z);return ne>1?y.uniqueSort(Z):Z},filter:function(C){return this.pushStack(I(this,C||[],!1))},not:function(C){return this.pushStack(I(this,C||[],!0))},is:function(C){return!!I(this,"string"==typeof C&&ee.test(C)?y(C):C||[],!1).length}});var M,Q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,L=y.fn.init=function(R,C,P){var Z,ne;if(!R)return this;if(P=P||M,"string"==typeof R){if(!(Z="<"===R[0]&&">"===R[R.length-1]&&R.length>=3?[null,R,null]:Q.exec(R))||!Z[1]&&C)return!C||C.jquery?(C||P).find(R):this.constructor(C).find(R);if(Z[1]){if(y.merge(this,y.parseHTML(Z[1],(C=C instanceof y?C[0]:C)&&C.nodeType?C.ownerDocument||C:fe,!0)),K.test(Z[1])&&y.isPlainObject(C))for(Z in C)se(this[Z])?this[Z](C[Z]):this.attr(Z,C[Z]);return this}return(ne=fe.getElementById(Z[2]))&&(this[0]=ne,this.length=1),this}return R.nodeType?(this[0]=R,this.length=1,this):se(R)?void 0!==P.ready?P.ready(R):R(y):y.makeArray(R,this)};L.prototype=y.fn,M=y(fe);var X=/^(?:parents|prev(?:Until|All))/,le={children:!0,contents:!0,next:!0,prev:!0};function Oe(R,C){for(;(R=R[C])&&1!==R.nodeType;);return R}y.fn.extend({has:function(C){var P=y(C,this),Z=P.length;return this.filter(function(){for(var ne=0;ne<Z;ne++)if(y.contains(this,P[ne]))return!0})},closest:function(C,P){var Z,ne=0,he=this.length,be=[],Me="string"!=typeof C&&y(C);if(!ee.test(C))for(;ne<he;ne++)for(Z=this[ne];Z&&Z!==P;Z=Z.parentNode)if(Z.nodeType<11&&(Me?Me.index(Z)>-1:1===Z.nodeType&&y.find.matchesSelector(Z,C))){be.push(Z);break}return this.pushStack(be.length>1?y.uniqueSort(be):be)},index:function(C){return C?"string"==typeof C?ie.call(y(C),this[0]):ie.call(this,C.jquery?C[0]:C):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(C,P){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(C,P))))},addBack:function(C){return this.add(null==C?this.prevObject:this.prevObject.filter(C))}}),y.each({parent:function(C){var P=C.parentNode;return P&&11!==P.nodeType?P:null},parents:function(C){return q(C,"parentNode")},parentsUntil:function(C,P,Z){return q(C,"parentNode",Z)},next:function(C){return Oe(C,"nextSibling")},prev:function(C){return Oe(C,"previousSibling")},nextAll:function(C){return q(C,"nextSibling")},prevAll:function(C){return q(C,"previousSibling")},nextUntil:function(C,P,Z){return q(C,"nextSibling",Z)},prevUntil:function(C,P,Z){return q(C,"previousSibling",Z)},siblings:function(C){return B((C.parentNode||{}).firstChild,C)},children:function(C){return B(C.firstChild)},contents:function(C){return null!=C.contentDocument&&e(C.contentDocument)?C.contentDocument:(te(C,"template")&&(C=C.content||C),y.merge([],C.childNodes))}},function(R,C){y.fn[R]=function(P,Z){var ne=y.map(this,C,P);return"Until"!==R.slice(-5)&&(Z=P),Z&&"string"==typeof Z&&(ne=y.filter(Z,ne)),this.length>1&&(le[R]||y.uniqueSort(ne),X.test(R)&&ne.reverse()),this.pushStack(ne)}});var ke=/[^\x20\t\r\n\f]+/g;function Fe(R){return R}function Ye(R){throw R}function je(R,C,P,Z){var ne;try{R&&se(ne=R.promise)?ne.call(R).done(C).fail(P):R&&se(ne=R.then)?ne.call(R,C,P):C.apply(void 0,[R].slice(Z))}catch(he){P.apply(void 0,[he])}}y.Callbacks=function(R){R="string"==typeof R?function Se(R){var C={};return y.each(R.match(ke)||[],function(P,Z){C[Z]=!0}),C}(R):y.extend({},R);var C,P,Z,ne,he=[],be=[],Me=-1,Ue=function(){for(ne=ne||R.once,Z=C=!0;be.length;Me=-1)for(P=be.shift();++Me<he.length;)!1===he[Me].apply(P[0],P[1])&&R.stopOnFalse&&(Me=he.length,P=!1);R.memory||(P=!1),C=!1,ne&&(he=P?[]:"")},Je={add:function(){return he&&(P&&!C&&(Me=he.length-1,be.push(P)),function Et(Tt){y.each(Tt,function(et,Rt){se(Rt)?(!R.unique||!Je.has(Rt))&&he.push(Rt):Rt&&Rt.length&&"string"!==A(Rt)&&Et(Rt)})}(arguments),P&&!C&&Ue()),this},remove:function(){return y.each(arguments,function(Et,Tt){for(var et;(et=y.inArray(Tt,he,et))>-1;)he.splice(et,1),et<=Me&&Me--}),this},has:function(Et){return Et?y.inArray(Et,he)>-1:he.length>0},empty:function(){return he&&(he=[]),this},disable:function(){return ne=be=[],he=P="",this},disabled:function(){return!he},lock:function(){return ne=be=[],!P&&!C&&(he=P=""),this},locked:function(){return!!ne},fireWith:function(Et,Tt){return ne||(Tt=[Et,(Tt=Tt||[]).slice?Tt.slice():Tt],be.push(Tt),C||Ue()),this},fire:function(){return Je.fireWith(this,arguments),this},fired:function(){return!!Z}};return Je},y.extend({Deferred:function(C){var P=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],Z="pending",ne={state:function(){return Z},always:function(){return he.done(arguments).fail(arguments),this},catch:function(Me){return ne.then(null,Me)},pipe:function(){var Me=arguments;return y.Deferred(function(Ue){y.each(P,function(Je,nt){var Et=se(Me[nt[4]])&&Me[nt[4]];he[nt[1]](function(){var Tt=Et&&Et.apply(this,arguments);Tt&&se(Tt.promise)?Tt.promise().progress(Ue.notify).done(Ue.resolve).fail(Ue.reject):Ue[nt[0]+"With"](this,Et?[Tt]:arguments)})}),Me=null}).promise()},then:function(Me,Ue,Je){var nt=0;function Et(Tt,et,Rt,en){return function(){var $t=this,ui=arguments,Bn=function(){var Li,bn;if(!(Tt<nt)){if((Li=Rt.apply($t,ui))===et.promise())throw new TypeError("Thenable self-resolution");se(bn=Li&&("object"==typeof Li||"function"==typeof Li)&&Li.then)?en?bn.call(Li,Et(nt,et,Fe,en),Et(nt,et,Ye,en)):(nt++,bn.call(Li,Et(nt,et,Fe,en),Et(nt,et,Ye,en),Et(nt,et,Fe,et.notifyWith))):(Rt!==Fe&&($t=void 0,ui=[Li]),(en||et.resolveWith)($t,ui))}},nr=en?Bn:function(){try{Bn()}catch(ti){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(ti,nr.stackTrace),Tt+1>=nt&&(Rt!==Ye&&($t=void 0,ui=[ti]),et.rejectWith($t,ui))}};Tt?nr():(y.Deferred.getStackHook&&(nr.stackTrace=y.Deferred.getStackHook()),E.setTimeout(nr))}}return y.Deferred(function(Tt){P[0][3].add(Et(0,Tt,se(Je)?Je:Fe,Tt.notifyWith)),P[1][3].add(Et(0,Tt,se(Me)?Me:Fe)),P[2][3].add(Et(0,Tt,se(Ue)?Ue:Ye))}).promise()},promise:function(Me){return null!=Me?y.extend(Me,ne):ne}},he={};return y.each(P,function(be,Me){var Ue=Me[2],Je=Me[5];ne[Me[1]]=Ue.add,Je&&Ue.add(function(){Z=Je},P[3-be][2].disable,P[3-be][3].disable,P[0][2].lock,P[0][3].lock),Ue.add(Me[3].fire),he[Me[0]]=function(){return he[Me[0]+"With"](this===he?void 0:this,arguments),this},he[Me[0]+"With"]=Ue.fireWith}),ne.promise(he),C&&C.call(he,he),he},when:function(C){var P=arguments.length,Z=P,ne=Array(Z),he=N.call(arguments),be=y.Deferred(),Me=function(Je){return function(nt){ne[Je]=this,he[Je]=arguments.length>1?N.call(arguments):nt,--P||be.resolveWith(ne,he)}};if(P<=1&&(je(C,be.done(Me(Z)).resolve,be.reject,!P),"pending"===be.state()||se(he[Z]&&he[Z].then)))return be.then();for(;Z--;)je(he[Z],Me(Z),be.reject);return be.promise()}});var ot=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(R,C){E.console&&E.console.warn&&R&&ot.test(R.name)&&E.console.warn("jQuery.Deferred exception: "+R.message,R.stack,C)},y.readyException=function(R){E.setTimeout(function(){throw R})};var it=y.Deferred();function lt(){fe.removeEventListener("DOMContentLoaded",lt),E.removeEventListener("load",lt),y.ready()}y.fn.ready=function(R){return it.then(R).catch(function(C){y.readyException(C)}),this},y.extend({isReady:!1,readyWait:1,ready:function(C){(!0===C?--y.readyWait:y.isReady)||(y.isReady=!0,!(!0!==C&&--y.readyWait>0)&&it.resolveWith(fe,[y]))}}),y.ready.then=it.then,"complete"===fe.readyState||"loading"!==fe.readyState&&!fe.documentElement.doScroll?E.setTimeout(y.ready):(fe.addEventListener("DOMContentLoaded",lt),E.addEventListener("load",lt));var Ze=function R(C,P,Z,ne,he,be,Me){var Ue=0,Je=C.length,nt=null==Z;if("object"===A(Z))for(Ue in he=!0,Z)R(C,P,Ue,Z[Ue],!0,be,Me);else if(void 0!==ne&&(he=!0,se(ne)||(Me=!0),nt&&(Me?(P.call(C,ne),P=null):(nt=P,P=function(Tt,et,Rt){return nt.call(y(Tt),Rt)})),P))for(;Ue<Je;Ue++)P(C[Ue],Z,Me?ne:ne.call(C[Ue],Ue,P(C[Ue],Z)));return he?C:nt?P.call(C):Je?P(C[0],Z):be},Mt=/^-ms-/,At=/-([a-z])/g;function Jt(R,C){return C.toUpperCase()}function Ft(R){return R.replace(Mt,"ms-").replace(At,Jt)}var an=function(C){return 1===C.nodeType||9===C.nodeType||!+C.nodeType};function un(){this.expando=y.expando+un.uid++}un.uid=1,un.prototype={cache:function(C){var P=C[this.expando];return P||(P={},an(C)&&(C.nodeType?C[this.expando]=P:Object.defineProperty(C,this.expando,{value:P,configurable:!0}))),P},set:function(C,P,Z){var ne,he=this.cache(C);if("string"==typeof P)he[Ft(P)]=Z;else for(ne in P)he[Ft(ne)]=P[ne];return he},get:function(C,P){return void 0===P?this.cache(C):C[this.expando]&&C[this.expando][Ft(P)]},access:function(C,P,Z){return void 0===P||P&&"string"==typeof P&&void 0===Z?this.get(C,P):(this.set(C,P,Z),void 0!==Z?Z:P)},remove:function(C,P){var Z,ne=C[this.expando];if(void 0!==ne){if(void 0!==P)for((Z=(P=Array.isArray(P)?P.map(Ft):(P=Ft(P))in ne?[P]:P.match(ke)||[]).length);Z--;)delete ne[P[Z]];(void 0===P||y.isEmptyObject(ne))&&(C.nodeType?C[this.expando]=void 0:delete C[this.expando])}},hasData:function(C){var P=C[this.expando];return void 0!==P&&!y.isEmptyObject(P)}};var Ot=new un,dn=new un,oi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,En=/[A-Z]/g;function xt(R,C,P){var Z;if(void 0===P&&1===R.nodeType)if(Z="data-"+C.replace(En,"-$&").toLowerCase(),"string"==typeof(P=R.getAttribute(Z))){try{P=function ut(R){return"true"===R||"false"!==R&&("null"===R?null:R===+R+""?+R:oi.test(R)?JSON.parse(R):R)}(P)}catch(ne){}dn.set(R,C,P)}else P=void 0;return P}y.extend({hasData:function(C){return dn.hasData(C)||Ot.hasData(C)},data:function(C,P,Z){return dn.access(C,P,Z)},removeData:function(C,P){dn.remove(C,P)},_data:function(C,P,Z){return Ot.access(C,P,Z)},_removeData:function(C,P){Ot.remove(C,P)}}),y.fn.extend({data:function(C,P){var Z,ne,he,be=this[0],Me=be&&be.attributes;if(void 0===C){if(this.length&&(he=dn.get(be),1===be.nodeType&&!Ot.get(be,"hasDataAttrs"))){for(Z=Me.length;Z--;)Me[Z]&&0===(ne=Me[Z].name).indexOf("data-")&&(ne=Ft(ne.slice(5)),xt(be,ne,he[ne]));Ot.set(be,"hasDataAttrs",!0)}return he}return"object"==typeof C?this.each(function(){dn.set(this,C)}):Ze(this,function(Ue){var Je;if(be&&void 0===Ue)return void 0!==(Je=dn.get(be,C))||void 0!==(Je=xt(be,C))?Je:void 0;this.each(function(){dn.set(this,C,Ue)})},null,P,arguments.length>1,null,!0)},removeData:function(C){return this.each(function(){dn.remove(this,C)})}}),y.extend({queue:function(C,P,Z){var ne;if(C)return ne=Ot.get(C,P=(P||"fx")+"queue"),Z&&(!ne||Array.isArray(Z)?ne=Ot.access(C,P,y.makeArray(Z)):ne.push(Z)),ne||[]},dequeue:function(C,P){var Z=y.queue(C,P=P||"fx"),ne=Z.length,he=Z.shift(),be=y._queueHooks(C,P);"inprogress"===he&&(he=Z.shift(),ne--),he&&("fx"===P&&Z.unshift("inprogress"),delete be.stop,he.call(C,function(){y.dequeue(C,P)},be)),!ne&&be&&be.empty.fire()},_queueHooks:function(C,P){var Z=P+"queueHooks";return Ot.get(C,Z)||Ot.access(C,Z,{empty:y.Callbacks("once memory").add(function(){Ot.remove(C,[P+"queue",Z])})})}}),y.fn.extend({queue:function(C,P){var Z=2;return"string"!=typeof C&&(P=C,C="fx",Z--),arguments.length<Z?y.queue(this[0],C):void 0===P?this:this.each(function(){var ne=y.queue(this,C,P);y._queueHooks(this,C),"fx"===C&&"inprogress"!==ne[0]&&y.dequeue(this,C)})},dequeue:function(C){return this.each(function(){y.dequeue(this,C)})},clearQueue:function(C){return this.queue(C||"fx",[])},promise:function(C,P){var Z,ne=1,he=y.Deferred(),be=this,Me=this.length,Ue=function(){--ne||he.resolveWith(be,[be])};for("string"!=typeof C&&(P=C,C=void 0),C=C||"fx";Me--;)(Z=Ot.get(be[Me],C+"queueHooks"))&&Z.empty&&(ne++,Z.empty.add(Ue));return Ue(),he.promise(P)}});var It=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,mt=new RegExp("^(?:([+-])=|)("+It+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],qt=fe.documentElement,Qt=function(C){return y.contains(C.ownerDocument,C)},Un={composed:!0};qt.getRootNode&&(Qt=function(C){return y.contains(C.ownerDocument,C)||C.getRootNode(Un)===C.ownerDocument});var dt=function(C,P){return"none"===(C=P||C).style.display||""===C.style.display&&Qt(C)&&"none"===y.css(C,"display")};function Pt(R,C,P,Z){var ne,he,be=20,Me=Z?function(){return Z.cur()}:function(){return y.css(R,C,"")},Ue=Me(),Je=P&&P[3]||(y.cssNumber[C]?"":"px"),nt=R.nodeType&&(y.cssNumber[C]||"px"!==Je&&+Ue)&&mt.exec(y.css(R,C));if(nt&&nt[3]!==Je){for(Je=Je||nt[3],nt=+(Ue/=2)||1;be--;)y.style(R,C,nt+Je),(1-he)*(1-(he=Me()/Ue||.5))<=0&&(be=0),nt/=he;y.style(R,C,(nt*=2)+Je),P=P||[]}return P&&(nt=+nt||+Ue||0,ne=P[1]?nt+(P[1]+1)*P[2]:+P[2],Z&&(Z.unit=Je,Z.start=nt,Z.end=ne)),ne}var ze={};function ht(R){var C,P=R.ownerDocument,Z=R.nodeName,ne=ze[Z];return ne||(C=P.body.appendChild(P.createElement(Z)),ne=y.css(C,"display"),C.parentNode.removeChild(C),"none"===ne&&(ne="block"),ze[Z]=ne,ne)}function Kt(R,C){for(var P,Z,ne=[],he=0,be=R.length;he<be;he++)(Z=R[he]).style&&(P=Z.style.display,C?("none"===P&&(ne[he]=Ot.get(Z,"display")||null,ne[he]||(Z.style.display="")),""===Z.style.display&&dt(Z)&&(ne[he]=ht(Z))):"none"!==P&&(ne[he]="none",Ot.set(Z,"display",P)));for(he=0;he<be;he++)null!=ne[he]&&(R[he].style.display=ne[he]);return R}y.fn.extend({show:function(){return Kt(this,!0)},hide:function(){return Kt(this)},toggle:function(C){return"boolean"==typeof C?C?this.show():this.hide():this.each(function(){dt(this)?y(this).show():y(this).hide()})}});var C,P,nn=/^(?:checkbox|radio)$/i,Zn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,In=/^$|^module$|\/(?:java|ecma)script/i;C=fe.createDocumentFragment().appendChild(fe.createElement("div")),(P=fe.createElement("input")).setAttribute("type","radio"),P.setAttribute("checked","checked"),P.setAttribute("name","t"),C.appendChild(P),z.checkClone=C.cloneNode(!0).cloneNode(!0).lastChild.checked,C.innerHTML="<textarea>x</textarea>",z.noCloneChecked=!!C.cloneNode(!0).lastChild.defaultValue,C.innerHTML="<option></option>",z.option=!!C.lastChild;var Hn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gi(R,C){var P;return P=void 0!==R.getElementsByTagName?R.getElementsByTagName(C||"*"):void 0!==R.querySelectorAll?R.querySelectorAll(C||"*"):[],void 0===C||C&&te(R,C)?y.merge([R],P):P}function Hr(R,C){for(var P=0,Z=R.length;P<Z;P++)Ot.set(R[P],"globalEval",!C||Ot.get(C[P],"globalEval"))}Hn.tbody=Hn.tfoot=Hn.colgroup=Hn.caption=Hn.thead,Hn.th=Hn.td,z.option||(Hn.optgroup=Hn.option=[1,"<select multiple='multiple'>","</select>"]);var Ro=/<|&#?\w+;/;function Vi(R,C,P,Z,ne){for(var he,be,Me,Ue,Je,nt,Et=C.createDocumentFragment(),Tt=[],et=0,Rt=R.length;et<Rt;et++)if((he=R[et])||0===he)if("object"===A(he))y.merge(Tt,he.nodeType?[he]:he);else if(Ro.test(he)){for(be=be||Et.appendChild(C.createElement("div")),Me=(Zn.exec(he)||["",""])[1].toLowerCase(),be.innerHTML=(Ue=Hn[Me]||Hn._default)[1]+y.htmlPrefilter(he)+Ue[2],nt=Ue[0];nt--;)be=be.lastChild;y.merge(Tt,be.childNodes),(be=Et.firstChild).textContent=""}else Tt.push(C.createTextNode(he));for(Et.textContent="",et=0;he=Tt[et++];)if(Z&&y.inArray(he,Z)>-1)ne&&ne.push(he);else if(Je=Qt(he),be=gi(Et.appendChild(he),"script"),Je&&Hr(be),P)for(nt=0;he=be[nt++];)In.test(he.type||"")&&P.push(he);return Et}var Br=/^key/,ar=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_a=/^([^.]*)(?:\.(.+)|)/;function br(){return!0}function Qn(){return!1}function To(R,C){return R===function va(){try{return fe.activeElement}catch(R){}}()==("focus"===C)}function jr(R,C,P,Z,ne,he){var be,Me;if("object"==typeof C){for(Me in"string"!=typeof P&&(Z=Z||P,P=void 0),C)jr(R,Me,P,Z,C[Me],he);return R}if(null==Z&&null==ne?(ne=P,Z=P=void 0):null==ne&&("string"==typeof P?(ne=Z,Z=void 0):(ne=Z,Z=P,P=void 0)),!1===ne)ne=Qn;else if(!ne)return R;return 1===he&&(be=ne,ne=function(Je){return y().off(Je),be.apply(this,arguments)},ne.guid=be.guid||(be.guid=y.guid++)),R.each(function(){y.event.add(this,C,ne,Z,P)})}function Mr(R,C,P){P?(Ot.set(R,C,!1),y.event.add(R,C,{namespace:!1,handler:function(ne){var he,be,Me=Ot.get(this,C);if(1&ne.isTrigger&&this[C]){if(Me.length)(y.event.special[C]||{}).delegateType&&ne.stopPropagation();else if(Me=N.call(arguments),Ot.set(this,C,Me),he=P(this,C),this[C](),Me!==(be=Ot.get(this,C))||he?Ot.set(this,C,!1):be={},Me!==be)return ne.stopImmediatePropagation(),ne.preventDefault(),be.value}else Me.length&&(Ot.set(this,C,{value:y.event.trigger(y.extend(Me[0],y.Event.prototype),Me.slice(1),this)}),ne.stopImmediatePropagation())}})):void 0===Ot.get(R,C)&&y.event.add(R,C,br)}y.event={global:{},add:function(C,P,Z,ne,he){var be,Me,Ue,Je,nt,Et,Tt,et,Rt,en,$t,ui=Ot.get(C);if(an(C))for(Z.handler&&(Z=(be=Z).handler,he=be.selector),he&&y.find.matchesSelector(qt,he),Z.guid||(Z.guid=y.guid++),(Je=ui.events)||(Je=ui.events=Object.create(null)),(Me=ui.handle)||(Me=ui.handle=function(Bn){return void 0!==y&&y.event.triggered!==Bn.type?y.event.dispatch.apply(C,arguments):void 0}),nt=(P=(P||"").match(ke)||[""]).length;nt--;)Rt=$t=(Ue=_a.exec(P[nt])||[])[1],en=(Ue[2]||"").split(".").sort(),Rt&&(Tt=y.event.special[Rt]||{},Tt=y.event.special[Rt=(he?Tt.delegateType:Tt.bindType)||Rt]||{},Et=y.extend({type:Rt,origType:$t,data:ne,handler:Z,guid:Z.guid,selector:he,needsContext:he&&y.expr.match.needsContext.test(he),namespace:en.join(".")},be),(et=Je[Rt])||((et=Je[Rt]=[]).delegateCount=0,(!Tt.setup||!1===Tt.setup.call(C,ne,en,Me))&&C.addEventListener&&C.addEventListener(Rt,Me)),Tt.add&&(Tt.add.call(C,Et),Et.handler.guid||(Et.handler.guid=Z.guid)),he?et.splice(et.delegateCount++,0,Et):et.push(Et),y.event.global[Rt]=!0)},remove:function(C,P,Z,ne,he){var be,Me,Ue,Je,nt,Et,Tt,et,Rt,en,$t,ui=Ot.hasData(C)&&Ot.get(C);if(ui&&(Je=ui.events)){for(nt=(P=(P||"").match(ke)||[""]).length;nt--;)if(Rt=$t=(Ue=_a.exec(P[nt])||[])[1],en=(Ue[2]||"").split(".").sort(),Rt){for(Tt=y.event.special[Rt]||{},et=Je[Rt=(ne?Tt.delegateType:Tt.bindType)||Rt]||[],Ue=Ue[2]&&new RegExp("(^|\\.)"+en.join("\\.(?:.*\\.|)")+"(\\.|$)"),Me=be=et.length;be--;)Et=et[be],(he||$t===Et.origType)&&(!Z||Z.guid===Et.guid)&&(!Ue||Ue.test(Et.namespace))&&(!ne||ne===Et.selector||"**"===ne&&Et.selector)&&(et.splice(be,1),Et.selector&&et.delegateCount--,Tt.remove&&Tt.remove.call(C,Et));Me&&!et.length&&((!Tt.teardown||!1===Tt.teardown.call(C,en,ui.handle))&&y.removeEvent(C,Rt,ui.handle),delete Je[Rt])}else for(Rt in Je)y.event.remove(C,Rt+P[nt],Z,ne,!0);y.isEmptyObject(Je)&&Ot.remove(C,"handle events")}},dispatch:function(C){var P,Z,ne,he,be,Me,Ue=new Array(arguments.length),Je=y.event.fix(C),nt=(Ot.get(this,"events")||Object.create(null))[Je.type]||[],Et=y.event.special[Je.type]||{};for(Ue[0]=Je,P=1;P<arguments.length;P++)Ue[P]=arguments[P];if(Je.delegateTarget=this,!Et.preDispatch||!1!==Et.preDispatch.call(this,Je)){for(Me=y.event.handlers.call(this,Je,nt),P=0;(he=Me[P++])&&!Je.isPropagationStopped();)for(Je.currentTarget=he.elem,Z=0;(be=he.handlers[Z++])&&!Je.isImmediatePropagationStopped();)(!Je.rnamespace||!1===be.namespace||Je.rnamespace.test(be.namespace))&&(Je.handleObj=be,Je.data=be.data,void 0!==(ne=((y.event.special[be.origType]||{}).handle||be.handler).apply(he.elem,Ue))&&!1===(Je.result=ne)&&(Je.preventDefault(),Je.stopPropagation()));return Et.postDispatch&&Et.postDispatch.call(this,Je),Je.result}},handlers:function(C,P){var Z,ne,he,be,Me,Ue=[],Je=P.delegateCount,nt=C.target;if(Je&&nt.nodeType&&!("click"===C.type&&C.button>=1))for(;nt!==this;nt=nt.parentNode||this)if(1===nt.nodeType&&("click"!==C.type||!0!==nt.disabled)){for(be=[],Me={},Z=0;Z<Je;Z++)void 0===Me[he=(ne=P[Z]).selector+" "]&&(Me[he]=ne.needsContext?y(he,this).index(nt)>-1:y.find(he,this,null,[nt]).length),Me[he]&&be.push(ne);be.length&&Ue.push({elem:nt,handlers:be})}return nt=this,Je<P.length&&Ue.push({elem:nt,handlers:P.slice(Je)}),Ue},addProp:function(C,P){Object.defineProperty(y.Event.prototype,C,{enumerable:!0,configurable:!0,get:se(P)?function(){if(this.originalEvent)return P(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[C]},set:function(ne){Object.defineProperty(this,C,{enumerable:!0,configurable:!0,writable:!0,value:ne})}})},fix:function(C){return C[y.expando]?C:new y.Event(C)},special:{load:{noBubble:!0},click:{setup:function(C){var P=this||C;return nn.test(P.type)&&P.click&&te(P,"input")&&Mr(P,"click",br),!1},trigger:function(C){var P=this||C;return nn.test(P.type)&&P.click&&te(P,"input")&&Mr(P,"click"),!0},_default:function(C){var P=C.target;return nn.test(P.type)&&P.click&&te(P,"input")&&Ot.get(P,"click")||te(P,"a")}},beforeunload:{postDispatch:function(C){void 0!==C.result&&C.originalEvent&&(C.originalEvent.returnValue=C.result)}}}},y.removeEvent=function(R,C,P){R.removeEventListener&&R.removeEventListener(C,P)},(y.Event=function(R,C){if(!(this instanceof y.Event))return new y.Event(R,C);R&&R.type?(this.originalEvent=R,this.type=R.type,this.isDefaultPrevented=R.defaultPrevented||void 0===R.defaultPrevented&&!1===R.returnValue?br:Qn,this.target=R.target&&3===R.target.nodeType?R.target.parentNode:R.target,this.currentTarget=R.currentTarget,this.relatedTarget=R.relatedTarget):this.type=R,C&&y.extend(this,C),this.timeStamp=R&&R.timeStamp||Date.now(),this[y.expando]=!0}).prototype={constructor:y.Event,isDefaultPrevented:Qn,isPropagationStopped:Qn,isImmediatePropagationStopped:Qn,isSimulated:!1,preventDefault:function(){var C=this.originalEvent;this.isDefaultPrevented=br,C&&!this.isSimulated&&C.preventDefault()},stopPropagation:function(){var C=this.originalEvent;this.isPropagationStopped=br,C&&!this.isSimulated&&C.stopPropagation()},stopImmediatePropagation:function(){var C=this.originalEvent;this.isImmediatePropagationStopped=br,C&&!this.isSimulated&&C.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(C){var P=C.button;return null==C.which&&Br.test(C.type)?null!=C.charCode?C.charCode:C.keyCode:!C.which&&void 0!==P&&ar.test(C.type)?1&P?1:2&P?3:4&P?2:0:C.which}},y.event.addProp),y.each({focus:"focusin",blur:"focusout"},function(R,C){y.event.special[R]={setup:function(){return Mr(this,R,To),!1},trigger:function(){return Mr(this,R),!0},delegateType:C}}),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(R,C){y.event.special[R]={delegateType:C,bindType:C,handle:function(Z){var ne,he=this,be=Z.relatedTarget,Me=Z.handleObj;return(!be||be!==he&&!y.contains(he,be))&&(Z.type=Me.origType,ne=Me.handler.apply(this,arguments),Z.type=C),ne}}}),y.fn.extend({on:function(C,P,Z,ne){return jr(this,C,P,Z,ne)},one:function(C,P,Z,ne){return jr(this,C,P,Z,ne,1)},off:function(C,P,Z){var ne,he;if(C&&C.preventDefault&&C.handleObj)return ne=C.handleObj,y(C.delegateTarget).off(ne.namespace?ne.origType+"."+ne.namespace:ne.origType,ne.selector,ne.handler),this;if("object"==typeof C){for(he in C)this.off(he,P,C[he]);return this}return(!1===P||"function"==typeof P)&&(Z=P,P=void 0),!1===Z&&(Z=Qn),this.each(function(){y.event.remove(this,C,Z,P)})}});var Or=/<script|<style|<link/i,uc=/checked\s*(?:[^=]|=\s*.checked.)/i,ns=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function er(R,C){return te(R,"table")&&te(11!==C.nodeType?C:C.firstChild,"tr")&&y(R).children("tbody")[0]||R}function ta(R){return R.type=(null!==R.getAttribute("type"))+"/"+R.type,R}function uu(R){return"true/"===(R.type||"").slice(0,5)?R.type=R.type.slice(5):R.removeAttribute("type"),R}function wo(R,C){var P,Z,ne,be,Me,Ue;if(1===C.nodeType){if(Ot.hasData(R)&&(Ue=Ot.get(R).events))for(ne in Ot.remove(C,"handle events"),Ue)for(P=0,Z=Ue[ne].length;P<Z;P++)y.event.add(C,ne,Ue[ne][P]);dn.hasData(R)&&(be=dn.access(R),Me=y.extend({},be),dn.set(C,Me))}}function vl(R,C){var P=C.nodeName.toLowerCase();"input"===P&&nn.test(R.type)?C.checked=R.checked:("input"===P||"textarea"===P)&&(C.defaultValue=R.defaultValue)}function ba(R,C,P,Z){C=ge(C);var ne,he,be,Me,Ue,Je,nt=0,Et=R.length,Tt=Et-1,et=C[0],Rt=se(et);if(Rt||Et>1&&"string"==typeof et&&!z.checkClone&&uc.test(et))return R.each(function(en){var $t=R.eq(en);Rt&&(C[0]=et.call(this,en,$t.html())),ba($t,C,P,Z)});if(Et&&(he=(ne=Vi(C,R[0].ownerDocument,!1,R,Z)).firstChild,1===ne.childNodes.length&&(ne=he),he||Z)){for(Me=(be=y.map(gi(ne,"script"),ta)).length;nt<Et;nt++)Ue=ne,nt!==Tt&&(Ue=y.clone(Ue,!0,!0),Me&&y.merge(be,gi(Ue,"script"))),P.call(R[nt],Ue,nt);if(Me)for(Je=be[be.length-1].ownerDocument,y.map(be,uu),nt=0;nt<Me;nt++)In.test((Ue=be[nt]).type||"")&&!Ot.access(Ue,"globalEval")&&y.contains(Je,Ue)&&(Ue.src&&"module"!==(Ue.type||"").toLowerCase()?y._evalUrl&&!Ue.noModule&&y._evalUrl(Ue.src,{nonce:Ue.nonce||Ue.getAttribute("nonce")},Je):S(Ue.textContent.replace(ns,""),Ue,Je))}return R}function pc(R,C,P){for(var Z,ne=C?y.filter(C,R):R,he=0;null!=(Z=ne[he]);he++)!P&&1===Z.nodeType&&y.cleanData(gi(Z)),Z.parentNode&&(P&&Qt(Z)&&Hr(gi(Z,"script")),Z.parentNode.removeChild(Z));return R}y.extend({htmlPrefilter:function(C){return C},clone:function(C,P,Z){var ne,he,be,Me,Ue=C.cloneNode(!0),Je=Qt(C);if(!(z.noCloneChecked||1!==C.nodeType&&11!==C.nodeType||y.isXMLDoc(C)))for(Me=gi(Ue),ne=0,he=(be=gi(C)).length;ne<he;ne++)vl(be[ne],Me[ne]);if(P)if(Z)for(be=be||gi(C),Me=Me||gi(Ue),ne=0,he=be.length;ne<he;ne++)wo(be[ne],Me[ne]);else wo(C,Ue);return(Me=gi(Ue,"script")).length>0&&Hr(Me,!Je&&gi(C,"script")),Ue},cleanData:function(C){for(var P,Z,ne,he=y.event.special,be=0;void 0!==(Z=C[be]);be++)if(an(Z)){if(P=Z[Ot.expando]){if(P.events)for(ne in P.events)he[ne]?y.event.remove(Z,ne):y.removeEvent(Z,ne,P.handle);Z[Ot.expando]=void 0}Z[dn.expando]&&(Z[dn.expando]=void 0)}}}),y.fn.extend({detach:function(C){return pc(this,C,!0)},remove:function(C){return pc(this,C)},text:function(C){return Ze(this,function(P){return void 0===P?y.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=P)})},null,C,arguments.length)},append:function(){return ba(this,arguments,function(C){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||er(this,C).appendChild(C)})},prepend:function(){return ba(this,arguments,function(C){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var P=er(this,C);P.insertBefore(C,P.firstChild)}})},before:function(){return ba(this,arguments,function(C){this.parentNode&&this.parentNode.insertBefore(C,this)})},after:function(){return ba(this,arguments,function(C){this.parentNode&&this.parentNode.insertBefore(C,this.nextSibling)})},empty:function(){for(var C,P=0;null!=(C=this[P]);P++)1===C.nodeType&&(y.cleanData(gi(C,!1)),C.textContent="");return this},clone:function(C,P){return C=null!=C&&C,P=null==P?C:P,this.map(function(){return y.clone(this,C,P)})},html:function(C){return Ze(this,function(P){var Z=this[0]||{},ne=0,he=this.length;if(void 0===P&&1===Z.nodeType)return Z.innerHTML;if("string"==typeof P&&!Or.test(P)&&!Hn[(Zn.exec(P)||["",""])[1].toLowerCase()]){P=y.htmlPrefilter(P);try{for(;ne<he;ne++)1===(Z=this[ne]||{}).nodeType&&(y.cleanData(gi(Z,!1)),Z.innerHTML=P);Z=0}catch(be){}}Z&&this.empty().append(P)},null,C,arguments.length)},replaceWith:function(){var C=[];return ba(this,arguments,function(P){var Z=this.parentNode;y.inArray(this,C)<0&&(y.cleanData(gi(this)),Z&&Z.replaceChild(P,this))},C)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(R,C){y.fn[R]=function(P){for(var Z,ne=[],he=y(P),be=he.length-1,Me=0;Me<=be;Me++)Z=Me===be?this:this.clone(!0),y(he[Me])[C](Z),b.apply(ne,Z.get());return this.pushStack(ne)}});var La=new RegExp("^("+It+")(?!px)[a-z%]+$","i"),is=function(C){var P=C.ownerDocument.defaultView;return(!P||!P.opener)&&(P=E),P.getComputedStyle(C)},fc=function(C,P,Z){var ne,he,be={};for(he in P)be[he]=C.style[he],C.style[he]=P[he];for(he in ne=Z.call(C),P)C.style[he]=be[he];return ne},bl=new RegExp(jt.join("|"),"i");function na(R,C,P){var Z,ne,he,be,Me=R.style;return(P=P||is(R))&&(""===(be=P.getPropertyValue(C)||P[C])&&!Qt(R)&&(be=y.style(R,C)),!z.pixelBoxStyles()&&La.test(be)&&bl.test(C)&&(Z=Me.width,ne=Me.minWidth,he=Me.maxWidth,Me.minWidth=Me.maxWidth=Me.width=be,be=P.width,Me.width=Z,Me.minWidth=ne,Me.maxWidth=he)),void 0!==be?be+"":be}function no(R,C){return{get:function(){if(!R())return(this.get=C).apply(this,arguments);delete this.get}}}!function(){function R(){if(Je){Ue.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Je.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",qt.appendChild(Ue).appendChild(Je);var nt=E.getComputedStyle(Je);P="1%"!==nt.top,Me=12===C(nt.marginLeft),Je.style.right="60%",he=36===C(nt.right),Z=36===C(nt.width),Je.style.position="absolute",ne=12===C(Je.offsetWidth/3),qt.removeChild(Ue),Je=null}}function C(nt){return Math.round(parseFloat(nt))}var P,Z,ne,he,be,Me,Ue=fe.createElement("div"),Je=fe.createElement("div");!Je.style||(Je.style.backgroundClip="content-box",Je.cloneNode(!0).style.backgroundClip="",z.clearCloneStyle="content-box"===Je.style.backgroundClip,y.extend(z,{boxSizingReliable:function(){return R(),Z},pixelBoxStyles:function(){return R(),he},pixelPosition:function(){return R(),P},reliableMarginLeft:function(){return R(),Me},scrollboxSize:function(){return R(),ne},reliableTrDimensions:function(){var Et,Tt,et,Rt;return null==be&&(Et=fe.createElement("table"),Tt=fe.createElement("tr"),et=fe.createElement("div"),Et.style.cssText="position:absolute;left:-11111px",Tt.style.height="1px",et.style.height="9px",qt.appendChild(Et).appendChild(Tt).appendChild(et),Rt=E.getComputedStyle(Tt),be=parseInt(Rt.height)>3,qt.removeChild(Et)),be}}))}();var Rs=["Webkit","Moz","ms"],hc=fe.createElement("div").style,rs={};function tr(R){return y.cssProps[R]||rs[R]||(R in hc?R:rs[R]=function _d(R){for(var C=R[0].toUpperCase()+R.slice(1),P=Rs.length;P--;)if((R=Rs[P]+C)in hc)return R}(R)||R)}var os=/^(none|table(?!-c[ea]).+)/,yl=/^--/,mc={position:"absolute",visibility:"hidden",display:"block"},Sn={letterSpacing:"0",fontWeight:"400"};function xl(R,C,P){var Z=mt.exec(C);return Z?Math.max(0,Z[2]-(P||0))+(Z[3]||"px"):C}function Fs(R,C,P,Z,ne,he){var be="width"===C?1:0,Me=0,Ue=0;if(P===(Z?"border":"content"))return 0;for(;be<4;be+=2)"margin"===P&&(Ue+=y.css(R,P+jt[be],!0,ne)),Z?("content"===P&&(Ue-=y.css(R,"padding"+jt[be],!0,ne)),"margin"!==P&&(Ue-=y.css(R,"border"+jt[be]+"Width",!0,ne))):(Ue+=y.css(R,"padding"+jt[be],!0,ne),"padding"!==P?Ue+=y.css(R,"border"+jt[be]+"Width",!0,ne):Me+=y.css(R,"border"+jt[be]+"Width",!0,ne));return!Z&&he>=0&&(Ue+=Math.max(0,Math.ceil(R["offset"+C[0].toUpperCase()+C.slice(1)]-he-Ue-Me-.5))||0),Ue}function Cl(R,C,P){var Z=is(R),he=(!z.boxSizingReliable()||P)&&"border-box"===y.css(R,"boxSizing",!1,Z),be=he,Me=na(R,C,Z),Ue="offset"+C[0].toUpperCase()+C.slice(1);if(La.test(Me)){if(!P)return Me;Me="auto"}return(!z.boxSizingReliable()&&he||!z.reliableTrDimensions()&&te(R,"tr")||"auto"===Me||!parseFloat(Me)&&"inline"===y.css(R,"display",!1,Z))&&R.getClientRects().length&&(he="border-box"===y.css(R,"boxSizing",!1,Z),(be=Ue in R)&&(Me=R[Ue])),(Me=parseFloat(Me)||0)+Fs(R,C,P||(he?"border":"content"),be,Z,Me)+"px"}function di(R,C,P,Z,ne){return new di.prototype.init(R,C,P,Z,ne)}y.extend({cssHooks:{opacity:{get:function(C,P){if(P){var Z=na(C,"opacity");return""===Z?"1":Z}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(C,P,Z,ne){if(C&&3!==C.nodeType&&8!==C.nodeType&&C.style){var he,be,Me,Ue=Ft(P),Je=yl.test(P),nt=C.style;if(Je||(P=tr(Ue)),Me=y.cssHooks[P]||y.cssHooks[Ue],void 0===Z)return Me&&"get"in Me&&void 0!==(he=Me.get(C,!1,ne))?he:nt[P];if("string"==(be=typeof Z)&&(he=mt.exec(Z))&&he[1]&&(Z=Pt(C,P,he),be="number"),null==Z||Z!=Z)return;"number"===be&&!Je&&(Z+=he&&he[3]||(y.cssNumber[Ue]?"":"px")),!z.clearCloneStyle&&""===Z&&0===P.indexOf("background")&&(nt[P]="inherit"),(!Me||!("set"in Me)||void 0!==(Z=Me.set(C,Z,ne)))&&(Je?nt.setProperty(P,Z):nt[P]=Z)}},css:function(C,P,Z,ne){var he,be,Me,Ue=Ft(P);return yl.test(P)||(P=tr(Ue)),(Me=y.cssHooks[P]||y.cssHooks[Ue])&&"get"in Me&&(he=Me.get(C,!0,Z)),void 0===he&&(he=na(C,P,ne)),"normal"===he&&P in Sn&&(he=Sn[P]),""===Z||Z?(be=parseFloat(he),!0===Z||isFinite(be)?be||0:he):he}}),y.each(["height","width"],function(R,C){y.cssHooks[C]={get:function(Z,ne,he){if(ne)return!os.test(y.css(Z,"display"))||Z.getClientRects().length&&Z.getBoundingClientRect().width?Cl(Z,C,he):fc(Z,mc,function(){return Cl(Z,C,he)})},set:function(Z,ne,he){var be,Me=is(Z),Ue=!z.scrollboxSize()&&"absolute"===Me.position,nt=(Ue||he)&&"border-box"===y.css(Z,"boxSizing",!1,Me),Et=he?Fs(Z,C,he,nt,Me):0;return nt&&Ue&&(Et-=Math.ceil(Z["offset"+C[0].toUpperCase()+C.slice(1)]-parseFloat(Me[C])-Fs(Z,C,"border",!1,Me)-.5)),Et&&(be=mt.exec(ne))&&"px"!==(be[3]||"px")&&(Z.style[C]=ne,ne=y.css(Z,C)),xl(0,ne,Et)}}}),y.cssHooks.marginLeft=no(z.reliableMarginLeft,function(R,C){if(C)return(parseFloat(na(R,"marginLeft"))||R.getBoundingClientRect().left-fc(R,{marginLeft:0},function(){return R.getBoundingClientRect().left}))+"px"}),y.each({margin:"",padding:"",border:"Width"},function(R,C){y.cssHooks[R+C]={expand:function(Z){for(var ne=0,he={},be="string"==typeof Z?Z.split(" "):[Z];ne<4;ne++)he[R+jt[ne]+C]=be[ne]||be[ne-2]||be[0];return he}},"margin"!==R&&(y.cssHooks[R+C].set=xl)}),y.fn.extend({css:function(C,P){return Ze(this,function(Z,ne,he){var be,Me,Ue={},Je=0;if(Array.isArray(ne)){for(be=is(Z),Me=ne.length;Je<Me;Je++)Ue[ne[Je]]=y.css(Z,ne[Je],!1,be);return Ue}return void 0!==he?y.style(Z,ne,he):y.css(Z,ne)},C,P,arguments.length>1)}}),y.Tween=di,(di.prototype={constructor:di,init:function(C,P,Z,ne,he,be){this.elem=C,this.prop=Z,this.easing=he||y.easing._default,this.options=P,this.start=this.now=this.cur(),this.end=ne,this.unit=be||(y.cssNumber[Z]?"":"px")},cur:function(){var C=di.propHooks[this.prop];return C&&C.get?C.get(this):di.propHooks._default.get(this)},run:function(C){var P,Z=di.propHooks[this.prop];return this.pos=P=this.options.duration?y.easing[this.easing](C,this.options.duration*C,0,1,this.options.duration):C,this.now=(this.end-this.start)*P+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Z&&Z.set?Z.set(this):di.propHooks._default.set(this),this}}).init.prototype=di.prototype,(di.propHooks={_default:{get:function(C){var P;return 1!==C.elem.nodeType||null!=C.elem[C.prop]&&null==C.elem.style[C.prop]?C.elem[C.prop]:(P=y.css(C.elem,C.prop,""))&&"auto"!==P?P:0},set:function(C){y.fx.step[C.prop]?y.fx.step[C.prop](C):1!==C.elem.nodeType||!y.cssHooks[C.prop]&&null==C.elem.style[tr(C.prop)]?C.elem[C.prop]=C.now:y.style(C.elem,C.prop,C.now+C.unit)}}}).scrollTop=di.propHooks.scrollLeft={set:function(C){C.elem.nodeType&&C.elem.parentNode&&(C.elem[C.prop]=C.now)}},y.easing={linear:function(C){return C},swing:function(C){return.5-Math.cos(C*Math.PI)/2},_default:"swing"},(y.fx=di.prototype.init).step={};var ai,Do,vd=/^(?:toggle|show|hide)$/,bd=/queueHooks$/;function ya(){Do&&(!1===fe.hidden&&E.requestAnimationFrame?E.requestAnimationFrame(ya):E.setTimeout(ya,y.fx.interval),y.fx.tick())}function Tl(){return E.setTimeout(function(){ai=void 0}),ai=Date.now()}function as(R,C){var P,Z=0,ne={height:R};for(C=C?1:0;Z<4;Z+=2-C)ne["margin"+(P=jt[Z])]=ne["padding"+P]=R;return C&&(ne.opacity=ne.width=R),ne}function gc(R,C,P){for(var Z,ne=(So.tweeners[C]||[]).concat(So.tweeners["*"]),he=0,be=ne.length;he<be;he++)if(Z=ne[he].call(P,C,R))return Z}function So(R,C,P){var Z,ne,he=0,be=So.prefilters.length,Me=y.Deferred().always(function(){delete Ue.elem}),Ue=function(){if(ne)return!1;for(var Tt=ai||Tl(),et=Math.max(0,Je.startTime+Je.duration-Tt),en=1-(et/Je.duration||0),$t=0,ui=Je.tweens.length;$t<ui;$t++)Je.tweens[$t].run(en);return Me.notifyWith(R,[Je,en,et]),en<1&&ui?et:(ui||Me.notifyWith(R,[Je,1,0]),Me.resolveWith(R,[Je]),!1)},Je=Me.promise({elem:R,props:y.extend({},C),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},P),originalProperties:C,originalOptions:P,startTime:ai||Tl(),duration:P.duration,tweens:[],createTween:function(Tt,et){var Rt=y.Tween(R,Je.opts,Tt,et,Je.opts.specialEasing[Tt]||Je.opts.easing);return Je.tweens.push(Rt),Rt},stop:function(Tt){var et=0,Rt=Tt?Je.tweens.length:0;if(ne)return this;for(ne=!0;et<Rt;et++)Je.tweens[et].run(1);return Tt?(Me.notifyWith(R,[Je,1,0]),Me.resolveWith(R,[Je,Tt])):Me.rejectWith(R,[Je,Tt]),this}}),nt=Je.props;for(function yd(R,C){var P,Z,ne,he,be;for(P in R)if(ne=C[Z=Ft(P)],he=R[P],Array.isArray(he)&&(ne=he[1],he=R[P]=he[0]),P!==Z&&(R[Z]=he,delete R[P]),(be=y.cssHooks[Z])&&"expand"in be)for(P in he=be.expand(he),delete R[Z],he)P in R||(R[P]=he[P],C[P]=ne);else C[Z]=ne}(nt,Je.opts.specialEasing);he<be;he++)if(Z=So.prefilters[he].call(Je,R,nt,Je.opts))return se(Z.stop)&&(y._queueHooks(Je.elem,Je.opts.queue).stop=Z.stop.bind(Z)),Z;return y.map(nt,gc,Je),se(Je.opts.start)&&Je.opts.start.call(R,Je),Je.progress(Je.opts.progress).done(Je.opts.done,Je.opts.complete).fail(Je.opts.fail).always(Je.opts.always),y.fx.timer(y.extend(Ue,{elem:R,anim:Je,queue:Je.opts.queue})),Je}y.Animation=y.extend(So,{tweeners:{"*":[function(R,C){var P=this.createTween(R,C);return Pt(P.elem,R,mt.exec(C),P),P}]},tweener:function(C,P){se(C)?(P=C,C=["*"]):C=C.match(ke);for(var Z,ne=0,he=C.length;ne<he;ne++)(So.tweeners[Z=C[ne]]=So.tweeners[Z]||[]).unshift(P)},prefilters:[function wl(R,C,P){var Z,ne,he,be,Me,Ue,Je,nt,Et="width"in C||"height"in C,Tt=this,et={},Rt=R.style,en=R.nodeType&&dt(R),$t=Ot.get(R,"fxshow");for(Z in P.queue||(null==(be=y._queueHooks(R,"fx")).unqueued&&(be.unqueued=0,Me=be.empty.fire,be.empty.fire=function(){be.unqueued||Me()}),be.unqueued++,Tt.always(function(){Tt.always(function(){be.unqueued--,y.queue(R,"fx").length||be.empty.fire()})})),C)if(vd.test(ne=C[Z])){if(delete C[Z],he=he||"toggle"===ne,ne===(en?"hide":"show")){if("show"!==ne||!$t||void 0===$t[Z])continue;en=!0}et[Z]=$t&&$t[Z]||y.style(R,Z)}if((Ue=!y.isEmptyObject(C))||!y.isEmptyObject(et))for(Z in Et&&1===R.nodeType&&(P.overflow=[Rt.overflow,Rt.overflowX,Rt.overflowY],null==(Je=$t&&$t.display)&&(Je=Ot.get(R,"display")),"none"===(nt=y.css(R,"display"))&&(Je?nt=Je:(Kt([R],!0),Je=R.style.display||Je,nt=y.css(R,"display"),Kt([R]))),("inline"===nt||"inline-block"===nt&&null!=Je)&&"none"===y.css(R,"float")&&(Ue||(Tt.done(function(){Rt.display=Je}),null==Je&&(Je="none"===(nt=Rt.display)?"":nt)),Rt.display="inline-block")),P.overflow&&(Rt.overflow="hidden",Tt.always(function(){Rt.overflow=P.overflow[0],Rt.overflowX=P.overflow[1],Rt.overflowY=P.overflow[2]})),Ue=!1,et)Ue||($t?"hidden"in $t&&(en=$t.hidden):$t=Ot.access(R,"fxshow",{display:Je}),he&&($t.hidden=!en),en&&Kt([R],!0),Tt.done(function(){for(Z in en||Kt([R]),Ot.remove(R,"fxshow"),et)y.style(R,Z,et[Z])})),Ue=gc(en?$t[Z]:0,Z,Tt),Z in $t||($t[Z]=Ue.start,en&&(Ue.end=Ue.start,Ue.start=0))}],prefilter:function(C,P){P?So.prefilters.unshift(C):So.prefilters.push(C)}}),y.speed=function(R,C,P){var Z=R&&"object"==typeof R?y.extend({},R):{complete:P||!P&&C||se(R)&&R,duration:R,easing:P&&C||C&&!se(C)&&C};return y.fx.off?Z.duration=0:"number"!=typeof Z.duration&&(Z.duration=Z.duration in y.fx.speeds?y.fx.speeds[Z.duration]:y.fx.speeds._default),(null==Z.queue||!0===Z.queue)&&(Z.queue="fx"),Z.old=Z.complete,Z.complete=function(){se(Z.old)&&Z.old.call(this),Z.queue&&y.dequeue(this,Z.queue)},Z},y.fn.extend({fadeTo:function(C,P,Z,ne){return this.filter(dt).css("opacity",0).show().end().animate({opacity:P},C,Z,ne)},animate:function(C,P,Z,ne){var he=y.isEmptyObject(C),be=y.speed(P,Z,ne),Me=function(){var Je=So(this,y.extend({},C),be);(he||Ot.get(this,"finish"))&&Je.stop(!0)};return Me.finish=Me,he||!1===be.queue?this.each(Me):this.queue(be.queue,Me)},stop:function(C,P,Z){var ne=function(be){var Me=be.stop;delete be.stop,Me(Z)};return"string"!=typeof C&&(Z=P,P=C,C=void 0),P&&this.queue(C||"fx",[]),this.each(function(){var he=!0,be=null!=C&&C+"queueHooks",Me=y.timers,Ue=Ot.get(this);if(be)Ue[be]&&Ue[be].stop&&ne(Ue[be]);else for(be in Ue)Ue[be]&&Ue[be].stop&&bd.test(be)&&ne(Ue[be]);for(be=Me.length;be--;)Me[be].elem===this&&(null==C||Me[be].queue===C)&&(Me[be].anim.stop(Z),he=!1,Me.splice(be,1));(he||!Z)&&y.dequeue(this,C)})},finish:function(C){return!1!==C&&(C=C||"fx"),this.each(function(){var P,Z=Ot.get(this),ne=Z[C+"queue"],he=Z[C+"queueHooks"],be=y.timers,Me=ne?ne.length:0;for(Z.finish=!0,y.queue(this,C,[]),he&&he.stop&&he.stop.call(this,!0),P=be.length;P--;)be[P].elem===this&&be[P].queue===C&&(be[P].anim.stop(!0),be.splice(P,1));for(P=0;P<Me;P++)ne[P]&&ne[P].finish&&ne[P].finish.call(this);delete Z.finish})}}),y.each(["toggle","show","hide"],function(R,C){var P=y.fn[C];y.fn[C]=function(Z,ne,he){return null==Z||"boolean"==typeof Z?P.apply(this,arguments):this.animate(as(C,!0),Z,ne,he)}}),y.each({slideDown:as("show"),slideUp:as("hide"),slideToggle:as("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(R,C){y.fn[R]=function(P,Z,ne){return this.animate(C,P,Z,ne)}}),y.timers=[],y.fx.tick=function(){var R,C=0,P=y.timers;for(ai=Date.now();C<P.length;C++)!(R=P[C])()&&P[C]===R&&P.splice(C--,1);P.length||y.fx.stop(),ai=void 0},y.fx.timer=function(R){y.timers.push(R),y.fx.start()},y.fx.interval=13,y.fx.start=function(){Do||(Do=!0,ya())},y.fx.stop=function(){Do=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fn.delay=function(R,C){return R=y.fx&&y.fx.speeds[R]||R,this.queue(C=C||"fx",function(P,Z){var ne=E.setTimeout(P,R);Z.stop=function(){E.clearTimeout(ne)}})},function(){var R=fe.createElement("input"),P=fe.createElement("select").appendChild(fe.createElement("option"));R.type="checkbox",z.checkOn=""!==R.value,z.optSelected=P.selected,(R=fe.createElement("input")).value="t",R.type="radio",z.radioValue="t"===R.value}();var _c,ss=y.expr.attrHandle;y.fn.extend({attr:function(C,P){return Ze(this,y.attr,C,P,arguments.length>1)},removeAttr:function(C){return this.each(function(){y.removeAttr(this,C)})}}),y.extend({attr:function(C,P,Z){var ne,he,be=C.nodeType;if(3!==be&&8!==be&&2!==be)return void 0===C.getAttribute?y.prop(C,P,Z):((1!==be||!y.isXMLDoc(C))&&(he=y.attrHooks[P.toLowerCase()]||(y.expr.match.bool.test(P)?_c:void 0)),void 0!==Z?null===Z?void y.removeAttr(C,P):he&&"set"in he&&void 0!==(ne=he.set(C,Z,P))?ne:(C.setAttribute(P,Z+""),Z):he&&"get"in he&&null!==(ne=he.get(C,P))?ne:null==(ne=y.find.attr(C,P))?void 0:ne)},attrHooks:{type:{set:function(C,P){if(!z.radioValue&&"radio"===P&&te(C,"input")){var Z=C.value;return C.setAttribute("type",P),Z&&(C.value=Z),P}}}},removeAttr:function(C,P){var Z,ne=0,he=P&&P.match(ke);if(he&&1===C.nodeType)for(;Z=he[ne++];)C.removeAttribute(Z)}}),_c={set:function(C,P,Z){return!1===P?y.removeAttr(C,Z):C.setAttribute(Z,Z),Z}},y.each(y.expr.match.bool.source.match(/\w+/g),function(R,C){var P=ss[C]||y.find.attr;ss[C]=function(Z,ne,he){var be,Me,Ue=ne.toLowerCase();return he||(Me=ss[Ue],ss[Ue]=be,be=null!=P(Z,ne,he)?Ue:null,ss[Ue]=Me),be}});var vc=/^(?:input|select|textarea|button)$/i,pu=/^(?:a|area)$/i;function xa(R){return(R.match(ke)||[]).join(" ")}function ia(R){return R.getAttribute&&R.getAttribute("class")||""}function Zs(R){return Array.isArray(R)?R:"string"==typeof R&&R.match(ke)||[]}y.fn.extend({prop:function(C,P){return Ze(this,y.prop,C,P,arguments.length>1)},removeProp:function(C){return this.each(function(){delete this[y.propFix[C]||C]})}}),y.extend({prop:function(C,P,Z){var ne,he,be=C.nodeType;if(3!==be&&8!==be&&2!==be)return(1!==be||!y.isXMLDoc(C))&&(he=y.propHooks[P=y.propFix[P]||P]),void 0!==Z?he&&"set"in he&&void 0!==(ne=he.set(C,Z,P))?ne:C[P]=Z:he&&"get"in he&&null!==(ne=he.get(C,P))?ne:C[P]},propHooks:{tabIndex:{get:function(C){var P=y.find.attr(C,"tabindex");return P?parseInt(P,10):vc.test(C.nodeName)||pu.test(C.nodeName)&&C.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),z.optSelected||(y.propHooks.selected={get:function(C){return null},set:function(C){}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){y.propFix[this.toLowerCase()]=this}),y.fn.extend({addClass:function(C){var P,Z,ne,he,be,Me,Ue,Je=0;if(se(C))return this.each(function(nt){y(this).addClass(C.call(this,nt,ia(this)))});if((P=Zs(C)).length)for(;Z=this[Je++];)if(he=ia(Z),ne=1===Z.nodeType&&" "+xa(he)+" "){for(Me=0;be=P[Me++];)ne.indexOf(" "+be+" ")<0&&(ne+=be+" ");he!==(Ue=xa(ne))&&Z.setAttribute("class",Ue)}return this},removeClass:function(C){var P,Z,ne,he,be,Me,Ue,Je=0;if(se(C))return this.each(function(nt){y(this).removeClass(C.call(this,nt,ia(this)))});if(!arguments.length)return this.attr("class","");if((P=Zs(C)).length)for(;Z=this[Je++];)if(he=ia(Z),ne=1===Z.nodeType&&" "+xa(he)+" "){for(Me=0;be=P[Me++];)for(;ne.indexOf(" "+be+" ")>-1;)ne=ne.replace(" "+be+" "," ");he!==(Ue=xa(ne))&&Z.setAttribute("class",Ue)}return this},toggleClass:function(C,P){var Z=typeof C,ne="string"===Z||Array.isArray(C);return"boolean"==typeof P&&ne?P?this.addClass(C):this.removeClass(C):se(C)?this.each(function(he){y(this).toggleClass(C.call(this,he,ia(this),P),P)}):this.each(function(){var he,be,Me,Ue;if(ne)for(be=0,Me=y(this),Ue=Zs(C);he=Ue[be++];)Me.hasClass(he)?Me.removeClass(he):Me.addClass(he);else(void 0===C||"boolean"===Z)&&((he=ia(this))&&Ot.set(this,"__className__",he),this.setAttribute&&this.setAttribute("class",he||!1===C?"":Ot.get(this,"__className__")||""))})},hasClass:function(C){var P,Z,ne=0;for(P=" "+C+" ";Z=this[ne++];)if(1===Z.nodeType&&(" "+xa(ia(Z))+" ").indexOf(P)>-1)return!0;return!1}});var ls=/\r/g;y.fn.extend({val:function(C){var P,Z,ne,he=this[0];return arguments.length?(ne=se(C),this.each(function(be){var Me;1===this.nodeType&&(null==(Me=ne?C.call(this,be,y(this).val()):C)?Me="":"number"==typeof Me?Me+="":Array.isArray(Me)&&(Me=y.map(Me,function(Ue){return null==Ue?"":Ue+""})),(!(P=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()])||!("set"in P)||void 0===P.set(this,Me,"value"))&&(this.value=Me))})):he?(P=y.valHooks[he.type]||y.valHooks[he.nodeName.toLowerCase()])&&"get"in P&&void 0!==(Z=P.get(he,"value"))?Z:"string"==typeof(Z=he.value)?Z.replace(ls,""):null==Z?"":Z:void 0}}),y.extend({valHooks:{option:{get:function(C){var P=y.find.attr(C,"value");return null!=P?P:xa(y.text(C))}},select:{get:function(C){var P,Z,ne,he=C.options,be=C.selectedIndex,Me="select-one"===C.type,Ue=Me?null:[],Je=Me?be+1:he.length;for(ne=be<0?Je:Me?be:0;ne<Je;ne++)if(((Z=he[ne]).selected||ne===be)&&!Z.disabled&&(!Z.parentNode.disabled||!te(Z.parentNode,"optgroup"))){if(P=y(Z).val(),Me)return P;Ue.push(P)}return Ue},set:function(C,P){for(var Z,ne,he=C.options,be=y.makeArray(P),Me=he.length;Me--;)((ne=he[Me]).selected=y.inArray(y.valHooks.option.get(ne),be)>-1)&&(Z=!0);return Z||(C.selectedIndex=-1),be}}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(C,P){if(Array.isArray(P))return C.checked=y.inArray(y(C).val(),P)>-1}},z.checkOn||(y.valHooks[this].get=function(R){return null===R.getAttribute("value")?"on":R.value})}),z.focusin="onfocusin"in E;var bc=/^(?:focusinfocus|focusoutblur)$/,yc=function(C){C.stopPropagation()};y.extend(y.event,{trigger:function(C,P,Z,ne){var he,be,Me,Ue,Je,nt,Et,Tt,et=[Z||fe],Rt=j.call(C,"type")?C.type:C,en=j.call(C,"namespace")?C.namespace.split("."):[];if(be=Tt=Me=Z=Z||fe,3!==Z.nodeType&&8!==Z.nodeType&&!bc.test(Rt+y.event.triggered)&&(Rt.indexOf(".")>-1&&(en=Rt.split("."),Rt=en.shift(),en.sort()),Je=Rt.indexOf(":")<0&&"on"+Rt,(C=C[y.expando]?C:new y.Event(Rt,"object"==typeof C&&C)).isTrigger=ne?2:3,C.namespace=en.join("."),C.rnamespace=C.namespace?new RegExp("(^|\\.)"+en.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,C.result=void 0,C.target||(C.target=Z),P=null==P?[C]:y.makeArray(P,[C]),Et=y.event.special[Rt]||{},ne||!Et.trigger||!1!==Et.trigger.apply(Z,P))){if(!ne&&!Et.noBubble&&!xe(Z)){for(bc.test((Ue=Et.delegateType||Rt)+Rt)||(be=be.parentNode);be;be=be.parentNode)et.push(be),Me=be;Me===(Z.ownerDocument||fe)&&et.push(Me.defaultView||Me.parentWindow||E)}for(he=0;(be=et[he++])&&!C.isPropagationStopped();)Tt=be,C.type=he>1?Ue:Et.bindType||Rt,(nt=(Ot.get(be,"events")||Object.create(null))[C.type]&&Ot.get(be,"handle"))&&nt.apply(be,P),(nt=Je&&be[Je])&&nt.apply&&an(be)&&(C.result=nt.apply(be,P),!1===C.result&&C.preventDefault());return C.type=Rt,!ne&&!C.isDefaultPrevented()&&(!Et._default||!1===Et._default.apply(et.pop(),P))&&an(Z)&&Je&&se(Z[Rt])&&!xe(Z)&&((Me=Z[Je])&&(Z[Je]=null),y.event.triggered=Rt,C.isPropagationStopped()&&Tt.addEventListener(Rt,yc),Z[Rt](),C.isPropagationStopped()&&Tt.removeEventListener(Rt,yc),y.event.triggered=void 0,Me&&(Z[Je]=Me)),C.result}},simulate:function(C,P,Z){var ne=y.extend(new y.Event,Z,{type:C,isSimulated:!0});y.event.trigger(ne,null,P)}}),y.fn.extend({trigger:function(C,P){return this.each(function(){y.event.trigger(C,P,this)})},triggerHandler:function(C,P){var Z=this[0];if(Z)return y.event.trigger(C,P,Z,!0)}}),z.focusin||y.each({focus:"focusin",blur:"focusout"},function(R,C){var P=function(ne){y.event.simulate(C,ne.target,y.event.fix(ne))};y.event.special[C]={setup:function(){var ne=this.ownerDocument||this.document||this,he=Ot.access(ne,C);he||ne.addEventListener(R,P,!0),Ot.access(ne,C,(he||0)+1)},teardown:function(){var ne=this.ownerDocument||this.document||this,he=Ot.access(ne,C)-1;he?Ot.access(ne,C,he):(ne.removeEventListener(R,P,!0),Ot.remove(ne,C))}}});var Dl=E.location,xd={guid:Date.now()},Ls=/\?/;y.parseXML=function(R){var C;if(!R||"string"!=typeof R)return null;try{C=(new E.DOMParser).parseFromString(R,"text/xml")}catch(P){C=void 0}return(!C||C.getElementsByTagName("parsererror").length)&&y.error("Invalid XML: "+R),C};var xc=/\[\]$/,Cc=/\r?\n/g,Lp=/^(?:submit|button|image|reset|file)$/i,Sl=/^(?:input|select|textarea|keygen)/i;function Tc(R,C,P,Z){var ne;if(Array.isArray(C))y.each(C,function(he,be){P||xc.test(R)?Z(R,be):Tc(R+"["+("object"==typeof be&&null!=be?he:"")+"]",be,P,Z)});else if(P||"object"!==A(C))Z(R,C);else for(ne in C)Tc(R+"["+ne+"]",C[ne],P,Z)}y.param=function(R,C){var P,Z=[],ne=function(be,Me){var Ue=se(Me)?Me():Me;Z[Z.length]=encodeURIComponent(be)+"="+encodeURIComponent(null==Ue?"":Ue)};if(null==R)return"";if(Array.isArray(R)||R.jquery&&!y.isPlainObject(R))y.each(R,function(){ne(this.name,this.value)});else for(P in R)Tc(P,R[P],C,ne);return Z.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var C=y.prop(this,"elements");return C?y.makeArray(C):this}).filter(function(){var C=this.type;return this.name&&!y(this).is(":disabled")&&Sl.test(this.nodeName)&&!Lp.test(C)&&(this.checked||!nn.test(C))}).map(function(C,P){var Z=y(this).val();return null==Z?null:Array.isArray(Z)?y.map(Z,function(ne){return{name:P.name,value:ne.replace(Cc,"\r\n")}}):{name:P.name,value:Z.replace(Cc,"\r\n")}}).get()}});var Vr=/%20/g,Yr=/#.*$/,gn=/([?&])_=[^&]*/,Gi=/^(.*?):[ \t]*([^\r\n]*)$/gm,fr=/^(?:GET|HEAD)$/,qi=/^\/\//,Us={},yr={},_i="*/".concat("*"),pt=fe.createElement("a");function jn(R){return function(C,P){"string"!=typeof C&&(P=C,C="*");var Z,ne=0,he=C.toLowerCase().match(ke)||[];if(se(P))for(;Z=he[ne++];)"+"===Z[0]?(Z=Z.slice(1)||"*",(R[Z]=R[Z]||[]).unshift(P)):(R[Z]=R[Z]||[]).push(P)}}function St(R,C,P,Z){var ne={},he=R===yr;function be(Me){var Ue;return ne[Me]=!0,y.each(R[Me]||[],function(Je,nt){var Et=nt(C,P,Z);return"string"!=typeof Et||he||ne[Et]?he?!(Ue=Et):void 0:(C.dataTypes.unshift(Et),be(Et),!1)}),Ue}return be(C.dataTypes[0])||!ne["*"]&&be("*")}function Ca(R,C){var P,Z,ne=y.ajaxSettings.flatOptions||{};for(P in C)void 0!==C[P]&&((ne[P]?R:Z||(Z={}))[P]=C[P]);return Z&&y.extend(!0,R,Z),R}pt.href=Dl.href,y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dl.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dl.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_i,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(C,P){return P?Ca(Ca(C,y.ajaxSettings),P):Ca(y.ajaxSettings,C)},ajaxPrefilter:jn(Us),ajaxTransport:jn(yr),ajax:function(C,P){"object"==typeof C&&(P=C,C=void 0);var Z,ne,he,be,Me,Ue,Je,nt,Et,Tt,et=y.ajaxSetup({},P=P||{}),Rt=et.context||et,en=et.context&&(Rt.nodeType||Rt.jquery)?y(Rt):y.event,$t=y.Deferred(),ui=y.Callbacks("once memory"),Bn=et.statusCode||{},nr={},ti={},Li="canceled",bn={readyState:0,getResponseHeader:function(Qi){var Ui;if(Je){if(!be)for(be={};Ui=Gi.exec(he);)be[Ui[1].toLowerCase()+" "]=(be[Ui[1].toLowerCase()+" "]||[]).concat(Ui[2]);Ui=be[Qi.toLowerCase()+" "]}return null==Ui?null:Ui.join(", ")},getAllResponseHeaders:function(){return Je?he:null},setRequestHeader:function(Qi,Ui){return null==Je&&(Qi=ti[Qi.toLowerCase()]=ti[Qi.toLowerCase()]||Qi,nr[Qi]=Ui),this},overrideMimeType:function(Qi){return null==Je&&(et.mimeType=Qi),this},statusCode:function(Qi){var Ui;if(Qi)if(Je)bn.always(Qi[bn.status]);else for(Ui in Qi)Bn[Ui]=[Bn[Ui],Qi[Ui]];return this},abort:function(Qi){var Ui=Qi||Li;return Z&&Z.abort(Ui),cs(0,Ui),this}};if($t.promise(bn),et.url=((C||et.url||Dl.href)+"").replace(qi,Dl.protocol+"//"),et.type=P.method||P.type||et.method||et.type,et.dataTypes=(et.dataType||"*").toLowerCase().match(ke)||[""],null==et.crossDomain){Ue=fe.createElement("a");try{Ue.href=et.url,Ue.href=Ue.href,et.crossDomain=pt.protocol+"//"+pt.host!=Ue.protocol+"//"+Ue.host}catch(Ji){et.crossDomain=!0}}if(et.data&&et.processData&&"string"!=typeof et.data&&(et.data=y.param(et.data,et.traditional)),St(Us,et,P,bn),Je)return bn;for(Et in(nt=y.event&&et.global)&&0==y.active++&&y.event.trigger("ajaxStart"),et.type=et.type.toUpperCase(),et.hasContent=!fr.test(et.type),ne=et.url.replace(Yr,""),et.hasContent?et.data&&et.processData&&0===(et.contentType||"").indexOf("application/x-www-form-urlencoded")&&(et.data=et.data.replace(Vr,"+")):(Tt=et.url.slice(ne.length),et.data&&(et.processData||"string"==typeof et.data)&&(ne+=(Ls.test(ne)?"&":"?")+et.data,delete et.data),!1===et.cache&&(ne=ne.replace(gn,"$1"),Tt=(Ls.test(ne)?"&":"?")+"_="+xd.guid+++Tt),et.url=ne+Tt),et.ifModified&&(y.lastModified[ne]&&bn.setRequestHeader("If-Modified-Since",y.lastModified[ne]),y.etag[ne]&&bn.setRequestHeader("If-None-Match",y.etag[ne])),(et.data&&et.hasContent&&!1!==et.contentType||P.contentType)&&bn.setRequestHeader("Content-Type",et.contentType),bn.setRequestHeader("Accept",et.dataTypes[0]&&et.accepts[et.dataTypes[0]]?et.accepts[et.dataTypes[0]]+("*"!==et.dataTypes[0]?", "+_i+"; q=0.01":""):et.accepts["*"]),et.headers)bn.setRequestHeader(Et,et.headers[Et]);if(et.beforeSend&&(!1===et.beforeSend.call(Rt,bn,et)||Je))return bn.abort();if(Li="abort",ui.add(et.complete),bn.done(et.success),bn.fail(et.error),Z=St(yr,et,P,bn)){if(bn.readyState=1,nt&&en.trigger("ajaxSend",[bn,et]),Je)return bn;et.async&&et.timeout>0&&(Me=E.setTimeout(function(){bn.abort("timeout")},et.timeout));try{Je=!1,Z.send(nr,cs)}catch(Ji){if(Je)throw Ji;cs(-1,Ji)}}else cs(-1,"No Transport");function cs(Ji,Qi,Ui,Ta){var Er,Ys,Gr,ra,Fo,zi=Qi;Je||(Je=!0,Me&&E.clearTimeout(Me),Z=void 0,he=Ta||"",bn.readyState=Ji>0?4:0,Er=Ji>=200&&Ji<300||304===Ji,Ui&&(ra=function Ua(R,C,P){for(var Z,ne,he,be,Me=R.contents,Ue=R.dataTypes;"*"===Ue[0];)Ue.shift(),void 0===Z&&(Z=R.mimeType||C.getResponseHeader("Content-Type"));if(Z)for(ne in Me)if(Me[ne]&&Me[ne].test(Z)){Ue.unshift(ne);break}if(Ue[0]in P)he=Ue[0];else{for(ne in P){if(!Ue[0]||R.converters[ne+" "+Ue[0]]){he=ne;break}be||(be=ne)}he=he||be}if(he)return he!==Ue[0]&&Ue.unshift(he),P[he]}(et,bn,Ui)),!Er&&y.inArray("script",et.dataTypes)>-1&&(et.converters["text script"]=function(){}),ra=function Up(R,C,P,Z){var ne,he,be,Me,Ue,Je={},nt=R.dataTypes.slice();if(nt[1])for(be in R.converters)Je[be.toLowerCase()]=R.converters[be];for(he=nt.shift();he;)if(R.responseFields[he]&&(P[R.responseFields[he]]=C),!Ue&&Z&&R.dataFilter&&(C=R.dataFilter(C,R.dataType)),Ue=he,he=nt.shift())if("*"===he)he=Ue;else if("*"!==Ue&&Ue!==he){if(!(be=Je[Ue+" "+he]||Je["* "+he]))for(ne in Je)if((Me=ne.split(" "))[1]===he&&(be=Je[Ue+" "+Me[0]]||Je["* "+Me[0]])){!0===be?be=Je[ne]:!0!==Je[ne]&&(he=Me[0],nt.unshift(Me[1]));break}if(!0!==be)if(be&&R.throws)C=be(C);else try{C=be(C)}catch(Et){return{state:"parsererror",error:be?Et:"No conversion from "+Ue+" to "+he}}}return{state:"success",data:C}}(et,ra,bn,Er),Er?(et.ifModified&&((Fo=bn.getResponseHeader("Last-Modified"))&&(y.lastModified[ne]=Fo),(Fo=bn.getResponseHeader("etag"))&&(y.etag[ne]=Fo)),204===Ji||"HEAD"===et.type?zi="nocontent":304===Ji?zi="notmodified":(zi=ra.state,Ys=ra.data,Er=!(Gr=ra.error))):(Gr=zi,(Ji||!zi)&&(zi="error",Ji<0&&(Ji=0))),bn.status=Ji,bn.statusText=(Qi||zi)+"",Er?$t.resolveWith(Rt,[Ys,zi,bn]):$t.rejectWith(Rt,[bn,zi,Gr]),bn.statusCode(Bn),Bn=void 0,nt&&en.trigger(Er?"ajaxSuccess":"ajaxError",[bn,et,Er?Ys:Gr]),ui.fireWith(Rt,[bn,zi]),nt&&(en.trigger("ajaxComplete",[bn,et]),--y.active||y.event.trigger("ajaxStop")))}return bn},getJSON:function(C,P,Z){return y.get(C,P,Z,"json")},getScript:function(C,P){return y.get(C,void 0,P,"script")}}),y.each(["get","post"],function(R,C){y[C]=function(P,Z,ne,he){return se(Z)&&(he=he||ne,ne=Z,Z=void 0),y.ajax(y.extend({url:P,type:C,dataType:he,data:Z,success:ne},y.isPlainObject(P)&&P))}}),y.ajaxPrefilter(function(R){var C;for(C in R.headers)"content-type"===C.toLowerCase()&&(R.contentType=R.headers[C]||"")}),y._evalUrl=function(R,C,P){return y.ajax({url:R,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ne){y.globalEval(ne,C,P)}})},y.fn.extend({wrapAll:function(C){var P;return this[0]&&(se(C)&&(C=C.call(this[0])),P=y(C,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&P.insertBefore(this[0]),P.map(function(){for(var Z=this;Z.firstElementChild;)Z=Z.firstElementChild;return Z}).append(this)),this},wrapInner:function(C){return se(C)?this.each(function(P){y(this).wrapInner(C.call(this,P))}):this.each(function(){var P=y(this),Z=P.contents();Z.length?Z.wrapAll(C):P.append(C)})},wrap:function(C){var P=se(C);return this.each(function(Z){y(this).wrapAll(P?C.call(this,Z):C)})},unwrap:function(C){return this.parent(C).not("body").each(function(){y(this).replaceWith(this.childNodes)}),this}}),y.expr.pseudos.hidden=function(R){return!y.expr.pseudos.visible(R)},y.expr.pseudos.visible=function(R){return!!(R.offsetWidth||R.offsetHeight||R.getClientRects().length)},y.ajaxSettings.xhr=function(){try{return new E.XMLHttpRequest}catch(R){}};var $h={0:200,1223:204},js=y.ajaxSettings.xhr();z.cors=!!js&&"withCredentials"in js,z.ajax=js=!!js,y.ajaxTransport(function(R){var C,P;if(z.cors||js&&!R.crossDomain)return{send:function(ne,he){var be,Me=R.xhr();if(Me.open(R.type,R.url,R.async,R.username,R.password),R.xhrFields)for(be in R.xhrFields)Me[be]=R.xhrFields[be];for(be in R.mimeType&&Me.overrideMimeType&&Me.overrideMimeType(R.mimeType),!R.crossDomain&&!ne["X-Requested-With"]&&(ne["X-Requested-With"]="XMLHttpRequest"),ne)Me.setRequestHeader(be,ne[be]);C=function(Je){return function(){C&&(C=P=Me.onload=Me.onerror=Me.onabort=Me.ontimeout=Me.onreadystatechange=null,"abort"===Je?Me.abort():"error"===Je?"number"!=typeof Me.status?he(0,"error"):he(Me.status,Me.statusText):he($h[Me.status]||Me.status,Me.statusText,"text"!==(Me.responseType||"text")||"string"!=typeof Me.responseText?{binary:Me.response}:{text:Me.responseText},Me.getAllResponseHeaders()))}},Me.onload=C(),P=Me.onerror=Me.ontimeout=C("error"),void 0!==Me.onabort?Me.onabort=P:Me.onreadystatechange=function(){4===Me.readyState&&E.setTimeout(function(){C&&P()})},C=C("abort");try{Me.send(R.hasContent&&R.data||null)}catch(Ue){if(C)throw Ue}},abort:function(){C&&C()}}}),y.ajaxPrefilter(function(R){R.crossDomain&&(R.contents.script=!1)}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(C){return y.globalEval(C),C}}}),y.ajaxPrefilter("script",function(R){void 0===R.cache&&(R.cache=!1),R.crossDomain&&(R.type="GET")}),y.ajaxTransport("script",function(R){var C,P;if(R.crossDomain||R.scriptAttrs)return{send:function(ne,he){C=y("<script>").attr(R.scriptAttrs||{}).prop({charset:R.scriptCharset,src:R.url}).on("load error",P=function(Me){C.remove(),P=null,Me&&he("error"===Me.type?404:200,Me.type)}),fe.head.appendChild(C[0])},abort:function(){P&&P()}}});var R,Zi=[],Ke=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var C=Zi.pop()||y.expando+"_"+xd.guid++;return this[C]=!0,C}}),y.ajaxPrefilter("json jsonp",function(R,C,P){var Z,ne,he,be=!1!==R.jsonp&&(Ke.test(R.url)?"url":"string"==typeof R.data&&0===(R.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(R.data)&&"data");if(be||"jsonp"===R.dataTypes[0])return Z=R.jsonpCallback=se(R.jsonpCallback)?R.jsonpCallback():R.jsonpCallback,be?R[be]=R[be].replace(Ke,"$1"+Z):!1!==R.jsonp&&(R.url+=(Ls.test(R.url)?"&":"?")+R.jsonp+"="+Z),R.converters["script json"]=function(){return he||y.error(Z+" was not called"),he[0]},R.dataTypes[0]="json",ne=E[Z],E[Z]=function(){he=arguments},P.always(function(){void 0===ne?y(E).removeProp(Z):E[Z]=ne,R[Z]&&(R.jsonpCallback=C.jsonpCallback,Zi.push(Z)),he&&se(ne)&&ne(he[0]),he=ne=void 0}),"script"}),z.createHTMLDocument=((R=fe.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===R.childNodes.length),y.parseHTML=function(R,C,P){return"string"!=typeof R?[]:("boolean"==typeof C&&(P=C,C=!1),C||(z.createHTMLDocument?((Z=(C=fe.implementation.createHTMLDocument("")).createElement("base")).href=fe.location.href,C.head.appendChild(Z)):C=fe),he=!P&&[],(ne=K.exec(R))?[C.createElement(ne[1])]:(ne=Vi([R],C,he),he&&he.length&&y(he).remove(),y.merge([],ne.childNodes)));var Z,ne,he},y.fn.load=function(R,C,P){var Z,ne,he,be=this,Me=R.indexOf(" ");return Me>-1&&(Z=xa(R.slice(Me)),R=R.slice(0,Me)),se(C)?(P=C,C=void 0):C&&"object"==typeof C&&(ne="POST"),be.length>0&&y.ajax({url:R,type:ne||"GET",dataType:"html",data:C}).done(function(Ue){he=arguments,be.html(Z?y("<div>").append(y.parseHTML(Ue)).find(Z):Ue)}).always(P&&function(Ue,Je){be.each(function(){P.apply(this,he||[Ue.responseText,Je,Ue])})}),this},y.expr.pseudos.animated=function(R){return y.grep(y.timers,function(C){return R===C.elem}).length},y.offset={setOffset:function(C,P,Z){var ne,he,be,Me,Ue,Je,Et=y.css(C,"position"),Tt=y(C),et={};"static"===Et&&(C.style.position="relative"),Ue=Tt.offset(),be=y.css(C,"top"),Je=y.css(C,"left"),("absolute"===Et||"fixed"===Et)&&(be+Je).indexOf("auto")>-1?(Me=(ne=Tt.position()).top,he=ne.left):(Me=parseFloat(be)||0,he=parseFloat(Je)||0),se(P)&&(P=P.call(C,Z,y.extend({},Ue))),null!=P.top&&(et.top=P.top-Ue.top+Me),null!=P.left&&(et.left=P.left-Ue.left+he),"using"in P?P.using.call(C,et):("number"==typeof et.top&&(et.top+="px"),"number"==typeof et.left&&(et.left+="px"),Tt.css(et))}},y.fn.extend({offset:function(C){if(arguments.length)return void 0===C?this:this.each(function(he){y.offset.setOffset(this,C,he)});var P,Z,ne=this[0];return ne?ne.getClientRects().length?{top:(P=ne.getBoundingClientRect()).top+(Z=ne.ownerDocument.defaultView).pageYOffset,left:P.left+Z.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var C,P,Z,ne=this[0],he={top:0,left:0};if("fixed"===y.css(ne,"position"))P=ne.getBoundingClientRect();else{for(P=this.offset(),Z=ne.ownerDocument,C=ne.offsetParent||Z.documentElement;C&&(C===Z.body||C===Z.documentElement)&&"static"===y.css(C,"position");)C=C.parentNode;C&&C!==ne&&1===C.nodeType&&((he=y(C).offset()).top+=y.css(C,"borderTopWidth",!0),he.left+=y.css(C,"borderLeftWidth",!0))}return{top:P.top-he.top-y.css(ne,"marginTop",!0),left:P.left-he.left-y.css(ne,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var C=this.offsetParent;C&&"static"===y.css(C,"position");)C=C.offsetParent;return C||qt})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(R,C){var P="pageYOffset"===C;y.fn[R]=function(Z){return Ze(this,function(ne,he,be){var Me;if(xe(ne)?Me=ne:9===ne.nodeType&&(Me=ne.defaultView),void 0===be)return Me?Me[C]:ne[he];Me?Me.scrollTo(P?Me.pageXOffset:be,P?be:Me.pageYOffset):ne[he]=be},R,Z,arguments.length)}}),y.each(["top","left"],function(R,C){y.cssHooks[C]=no(z.pixelPosition,function(P,Z){if(Z)return Z=na(P,C),La.test(Z)?y(P).position()[C]+"px":Z})}),y.each({Height:"height",Width:"width"},function(R,C){y.each({padding:"inner"+R,content:C,"":"outer"+R},function(P,Z){y.fn[Z]=function(ne,he){var be=arguments.length&&(P||"boolean"!=typeof ne),Me=P||(!0===ne||!0===he?"margin":"border");return Ze(this,function(Ue,Je,nt){var Et;return xe(Ue)?0===Z.indexOf("outer")?Ue["inner"+R]:Ue.document.documentElement["client"+R]:9===Ue.nodeType?(Et=Ue.documentElement,Math.max(Ue.body["scroll"+R],Et["scroll"+R],Ue.body["offset"+R],Et["offset"+R],Et["client"+R])):void 0===nt?y.css(Ue,Je,Me):y.style(Ue,Je,nt,Me)},C,be?ne:void 0,be)}})}),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(R,C){y.fn[C]=function(P){return this.on(C,P)}}),y.fn.extend({bind:function(C,P,Z){return this.on(C,null,P,Z)},unbind:function(C,P){return this.off(C,null,P)},delegate:function(C,P,Z,ne){return this.on(P,C,Z,ne)},undelegate:function(C,P,Z){return 1===arguments.length?this.off(C,"**"):this.off(P,C||"**",Z)},hover:function(C,P){return this.mouseenter(C).mouseleave(P||C)}}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(R,C){y.fn[C]=function(P,Z){return arguments.length>0?this.on(C,null,P,Z):this.trigger(C)}});var Xe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;y.proxy=function(R,C){var P,Z,ne;if("string"==typeof C&&(P=R[C],C=R,R=P),se(R))return Z=N.call(arguments,2),ne=function(){return R.apply(C||this,Z.concat(N.call(arguments)))},ne.guid=R.guid=R.guid||y.guid++,ne},y.holdReady=function(R){R?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=te,y.isFunction=se,y.isWindow=xe,y.camelCase=Ft,y.type=A,y.now=Date.now,y.isNumeric=function(R){var C=y.type(R);return("number"===C||"string"===C)&&!isNaN(R-parseFloat(R))},y.trim=function(R){return null==R?"":(R+"").replace(Xe,"")},void 0!==(D=function(){return y}.apply(ae,[]))&&(Re.exports=D);var ei=E.jQuery,Pr=E.$;return y.noConflict=function(R){return E.$===y&&(E.$=Pr),R&&E.jQuery===y&&(E.jQuery=ei),y},void 0===Te&&(E.jQuery=E.$=y),y})},17489:function(Re,ae,J){var D;Re=J.nmd(Re),function(){var E,N="Expected a function",b="__lodash_hash_undefined__",H="__lodash_placeholder__",A=32,y=128,Q=1/0,L=9007199254740991,Oe=4294967295,Fe=[["ary",y],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",A],["partialRight",64],["rearg",256]],Ye="[object Arguments]",je="[object Array]",it="[object Boolean]",lt="[object Date]",Mt="[object Error]",At="[object Function]",Jt="[object GeneratorFunction]",Ft="[object Map]",an="[object Number]",Ot="[object Object]",dn="[object Promise]",En="[object RegExp]",ut="[object Set]",xt="[object String]",It="[object Symbol]",jt="[object WeakMap]",Qt="[object ArrayBuffer]",Un="[object DataView]",dt="[object Float32Array]",Pt="[object Float64Array]",ze="[object Int8Array]",ht="[object Int16Array]",Kt="[object Int32Array]",nn="[object Uint8Array]",Zn="[object Uint8ClampedArray]",In="[object Uint16Array]",Hn="[object Uint32Array]",gi=/\b__p \+= '';/g,Hr=/\b(__p \+=) '' \+/g,Ro=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vi=/&(?:amp|lt|gt|quot|#39);/g,Br=/[&<>"']/g,ar=RegExp(Vi.source),_a=RegExp(Br.source),br=/<%-([\s\S]+?)%>/g,Qn=/<%([\s\S]+?)%>/g,To=/<%=([\s\S]+?)%>/g,va=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jr=/^\w*$/,Mr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Or=/[\\^$.*+?()[\]{}|]/g,uc=RegExp(Or.source),ns=/^\s+/,er=/\s/,ta=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,uu=/\{\n\/\* \[wrapped with (.+)\] \*/,wo=/,? & /,vl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ba=/[()=,{}\[\]\/\s]/,pc=/\\(\\)?/g,La=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,is=/\w*$/,fc=/^[-+]0x[0-9a-f]+$/i,bl=/^0b[01]+$/i,na=/^\[object .+?Constructor\]$/,no=/^0o[0-7]+$/i,Rs=/^(?:0|[1-9]\d*)$/,hc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rs=/($^)/,_d=/['\n\r\u2028\u2029\\]/g,tr="\\ud800-\\udfff",Sn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xl="\\u2700-\\u27bf",Fs="a-z\\xdf-\\xf6\\xf8-\\xff",vd="A-Z\\xc0-\\xd6\\xd8-\\xde",bd="\\ufe0e\\ufe0f",ya="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",as="["+tr+"]",gc="["+ya+"]",wl="["+Sn+"]",yd="\\d+",So="["+xl+"]",_c="["+Fs+"]",ss="[^"+tr+ya+yd+xl+Fs+vd+"]",vc="\\ud83c[\\udffb-\\udfff]",xa="[^"+tr+"]",ia="(?:\\ud83c[\\udde6-\\uddff]){2}",Zs="[\\ud800-\\udbff][\\udc00-\\udfff]",ls="["+vd+"]",yc="(?:"+_c+"|"+ss+")",Dl="(?:"+ls+"|"+ss+")",xd="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ls="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",xc="(?:"+wl+"|"+vc+")?",Cc="["+bd+"]?",Vr=Cc+xc+"(?:\\u200d(?:"+[xa,ia,Zs].join("|")+")"+Cc+xc+")*",Yr="(?:"+[So,ia,Zs].join("|")+")"+Vr,gn="(?:"+[xa+wl+"?",wl,ia,Zs,as].join("|")+")",Gi=RegExp("['\u2019]","g"),Wi=RegExp(wl,"g"),fr=RegExp(vc+"(?="+vc+")|"+gn+Vr,"g"),qi=RegExp([ls+"?"+_c+"+"+xd+"(?="+[gc,ls,"$"].join("|")+")",Dl+"+"+Ls+"(?="+[gc,ls+yc,"$"].join("|")+")",ls+"?"+yc+"+"+xd,ls+"+"+Ls,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yd,Yr].join("|"),"g"),Us=RegExp("[\\u200d"+tr+Sn+bd+"]"),yr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_i=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pt=-1,jn={};jn[dt]=jn[Pt]=jn[ze]=jn[ht]=jn[Kt]=jn[nn]=jn[Zn]=jn[In]=jn[Hn]=!0,jn[Ye]=jn[je]=jn[Qt]=jn[it]=jn[Un]=jn[lt]=jn[Mt]=jn[At]=jn[Ft]=jn[an]=jn[Ot]=jn[En]=jn[ut]=jn[xt]=jn[jt]=!1;var St={};St[Ye]=St[je]=St[Qt]=St[Un]=St[it]=St[lt]=St[dt]=St[Pt]=St[ze]=St[ht]=St[Kt]=St[Ft]=St[an]=St[Ot]=St[En]=St[ut]=St[xt]=St[It]=St[nn]=St[Zn]=St[In]=St[Hn]=!0,St[Mt]=St[At]=St[jt]=!1;var $h={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},js=parseFloat,Zi=parseInt,Ke="object"==typeof global&&global&&global.Object===Object&&global,Xe="object"==typeof self&&self&&self.Object===Object&&self,ei=Ke||Xe||Function("return this")(),Pr=ae&&!ae.nodeType&&ae,R=Pr&&Re&&!Re.nodeType&&Re,C=R&&R.exports===Pr,P=C&&Ke.process,Z=function(){try{return R&&R.require&&R.require("util").types||P&&P.binding&&P.binding("util")}catch(_t){}}(),ne=Z&&Z.isArrayBuffer,he=Z&&Z.isDate,be=Z&&Z.isMap,Me=Z&&Z.isRegExp,Ue=Z&&Z.isSet,Je=Z&&Z.isTypedArray;function nt($e,_t,ft){switch(ft.length){case 0:return $e.call(_t);case 1:return $e.call(_t,ft[0]);case 2:return $e.call(_t,ft[0],ft[1]);case 3:return $e.call(_t,ft[0],ft[1],ft[2])}return $e.apply(_t,ft)}function Et($e,_t,ft,Vt){for(var Tn=-1,zn=null==$e?0:$e.length;++Tn<zn;){var vi=$e[Tn];_t(Vt,vi,ft(vi),$e)}return Vt}function Tt($e,_t){for(var ft=-1,Vt=null==$e?0:$e.length;++ft<Vt&&!1!==_t($e[ft],ft,$e););return $e}function et($e,_t){for(var ft=null==$e?0:$e.length;ft--&&!1!==_t($e[ft],ft,$e););return $e}function Rt($e,_t){for(var ft=-1,Vt=null==$e?0:$e.length;++ft<Vt;)if(!_t($e[ft],ft,$e))return!1;return!0}function en($e,_t){for(var ft=-1,Vt=null==$e?0:$e.length,Tn=0,zn=[];++ft<Vt;){var vi=$e[ft];_t(vi,ft,$e)&&(zn[Tn++]=vi)}return zn}function $t($e,_t){return!(null==$e||!$e.length)&&Er($e,_t,0)>-1}function ui($e,_t,ft){for(var Vt=-1,Tn=null==$e?0:$e.length;++Vt<Tn;)if(ft(_t,$e[Vt]))return!0;return!1}function Bn($e,_t){for(var ft=-1,Vt=null==$e?0:$e.length,Tn=Array(Vt);++ft<Vt;)Tn[ft]=_t($e[ft],ft,$e);return Tn}function nr($e,_t){for(var ft=-1,Vt=_t.length,Tn=$e.length;++ft<Vt;)$e[Tn+ft]=_t[ft];return $e}function ti($e,_t,ft,Vt){var Tn=-1,zn=null==$e?0:$e.length;for(Vt&&zn&&(ft=$e[++Tn]);++Tn<zn;)ft=_t(ft,$e[Tn],Tn,$e);return ft}function Li($e,_t,ft,Vt){var Tn=null==$e?0:$e.length;for(Vt&&Tn&&(ft=$e[--Tn]);Tn--;)ft=_t(ft,$e[Tn],Tn,$e);return ft}function bn($e,_t){for(var ft=-1,Vt=null==$e?0:$e.length;++ft<Vt;)if(_t($e[ft],ft,$e))return!0;return!1}var cs=Fo("length");function Ui($e,_t,ft){var Vt;return ft($e,function(Tn,zn,vi){if(_t(Tn,zn,vi))return Vt=zn,!1}),Vt}function Ta($e,_t,ft,Vt){for(var Tn=$e.length,zn=ft+(Vt?1:-1);Vt?zn--:++zn<Tn;)if(_t($e[zn],zn,$e))return zn;return-1}function Er($e,_t,ft){return _t==_t?function mu($e,_t,ft){for(var Vt=ft-1,Tn=$e.length;++Vt<Tn;)if($e[Vt]===_t)return Vt;return-1}($e,_t,ft):Ta($e,Gr,ft)}function Ys($e,_t,ft,Vt){for(var Tn=ft-1,zn=$e.length;++Tn<zn;)if(Vt($e[Tn],_t))return Tn;return-1}function Gr($e){return $e!=$e}function ra($e,_t){var ft=null==$e?0:$e.length;return ft?kl($e,_t)/ft:NaN}function Fo($e){return function(_t){return null==_t?E:_t[$e]}}function zi($e){return function(_t){return null==$e?E:$e[_t]}}function wc($e,_t,ft,Vt,Tn){return Tn($e,function(zn,vi,Di){ft=Vt?(Vt=!1,zn):_t(ft,zn,vi,Di)}),ft}function kl($e,_t){for(var ft,Vt=-1,Tn=$e.length;++Vt<Tn;){var zn=_t($e[Vt]);zn!==E&&(ft=ft===E?zn:ft+zn)}return ft}function ni($e,_t){for(var ft=-1,Vt=Array($e);++ft<$e;)Vt[ft]=_t(ft);return Vt}function Dc($e){return $e&&$e.slice(0,Js($e)+1).replace(ns,"")}function qr($e){return function(_t){return $e(_t)}}function Sc($e,_t){return Bn(_t,function(ft){return $e[ft]})}function wa($e,_t){return $e.has(_t)}function fu($e,_t){for(var ft=-1,Vt=$e.length;++ft<Vt&&Er(_t,$e[ft],0)>-1;);return ft}function Cd($e,_t){for(var ft=$e.length;ft--&&Er(_t,$e[ft],0)>-1;);return ft}function jp($e,_t){for(var ft=$e.length,Vt=0;ft--;)$e[ft]===_t&&++Vt;return Vt}var Yp=zi({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),qp=zi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Al($e){return"\\"+$h[$e]}function ds($e){return Us.test($e)}function Td($e){var _t=-1,ft=Array($e.size);return $e.forEach(function(Vt,Tn){ft[++_t]=[Tn,Vt]}),ft}function kc($e,_t){return function(ft){return $e(_t(ft))}}function Jr($e,_t){for(var ft=-1,Vt=$e.length,Tn=0,zn=[];++ft<Vt;){var vi=$e[ft];(vi===_t||vi===H)&&($e[ft]=H,zn[Tn++]=ft)}return zn}function uo($e){var _t=-1,ft=Array($e.size);return $e.forEach(function(Vt){ft[++_t]=Vt}),ft}function qs($e){return ds($e)?function Ir($e){for(var _t=fr.lastIndex=0;fr.test($e);)++_t;return _t}($e):cs($e)}function Vn($e){return ds($e)?function Ol($e){return $e.match(fr)||[]}($e):function Ji($e){return $e.split("")}($e)}function Js($e){for(var _t=$e.length;_t--&&er.test($e.charAt(_t)););return _t}var ko=zi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),us=function $e(_t){var d,ft=(_t=null==_t?ei:us.defaults(ei.Object(),_t,us.pick(ei,_i))).Array,Vt=_t.Date,Tn=_t.Error,zn=_t.Function,vi=_t.Math,Di=_t.Object,ps=_t.RegExp,Pl=_t.String,Nr=_t.TypeError,oa=ft.prototype,Ee=Di.prototype,He=_t["__core-js_shared__"],ct=zn.prototype.toString,Qe=Ee.hasOwnProperty,bt=0,yt=(d=/[^.]+$/.exec(He&&He.keys&&He.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",kt=Ee.toString,Wt=ct.call(Di),Xt=ei._,yn=ps("^"+ct.call(Qe).replace(Or,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pn=C?_t.Buffer:E,hn=_t.Symbol,xi=_t.Uint8Array,bi=pn?pn.allocUnsafe:E,xn=kc(Di.getPrototypeOf,Di),ir=Di.create,sr=Ee.propertyIsEnumerable,Si=oa.splice,aa=hn?hn.isConcatSpreadable:E,Zo=hn?hn.iterator:E,po=hn?hn.toStringTag:E,xr=function(){try{var d=Jl(Di,"defineProperty");return d({},"",{}),d}catch(p){}}(),Hp=_t.clearTimeout!==ei.clearTimeout&&_t.clearTimeout,Bp=Vt&&Vt.now!==ei.Date.now&&Vt.now,Xh=_t.setTimeout!==ei.setTimeout&&_t.setTimeout,sa=vi.ceil,_u=vi.floor,vu=Di.getOwnPropertySymbols,d_=pn?pn.isBuffer:E,em=_t.isFinite,u_=oa.join,p_=kc(Di.keys,Di),Rr=vi.max,Fr=vi.min,El=Vt.now,tm=_t.parseInt,Vp=vi.random,f_=oa.reverse,bu=Jl(_t,"DataView"),Ai=Jl(_t,"Map"),yu=Jl(_t,"Promise"),Oi=Jl(_t,"Set"),Mc=Jl(_t,"WeakMap"),Sd=Jl(Di,"create"),xu=Mc&&new Mc,Il={},Cu=Lr(bu),h_=Lr(Ai),nm=Lr(yu),m_=Lr(Oi),im=Lr(Mc),Oc=hn?hn.prototype:E,Pc=Oc?Oc.valueOf:E,Ec=Oc?Oc.toString:E;function we(d){if(mr(d)&&!Fn(d)&&!(d instanceof Kn)){if(d instanceof Zr)return d;if(Qe.call(d,"__wrapped__"))return Nf(d)}return new Zr(d)}var fs=function(){function d(){}return function(p){if(!lr(p))return{};if(ir)return ir(p);d.prototype=p;var w=new d;return d.prototype=E,w}}();function Tu(){}function Zr(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=E}function Kn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function Hs(d){var p=-1,w=null==d?0:d.length;for(this.clear();++p<w;){var V=d[p];this.set(V[0],V[1])}}function qa(d){var p=-1,w=null==d?0:d.length;for(this.clear();++p<w;){var V=d[p];this.set(V[0],V[1])}}function Da(d){var p=-1,w=null==d?0:d.length;for(this.clear();++p<w;){var V=d[p];this.set(V[0],V[1])}}function Bs(d){var p=-1,w=null==d?0:d.length;for(this.__data__=new Da;++p<w;)this.add(d[p])}function la(d){var p=this.__data__=new qa(d);this.size=p.size}function Rc(d,p){var w=Fn(d),V=!w&&Qc(d),me=!w&&!V&&zl(d),Pe=!w&&!V&&!me&&Yd(d),Le=w||V||me||Pe,Be=Le?ni(d.length,Pl):[],tt=Be.length;for(var Ct in d)(p||Qe.call(d,Ct))&&(!Le||!("length"==Ct||me&&("offset"==Ct||"parent"==Ct)||Pe&&("buffer"==Ct||"byteLength"==Ct||"byteOffset"==Ct)||Ea(Ct,tt)))&&Be.push(Ct);return Be}function hs(d){var p=d.length;return p?d[Iu(0,p-1)]:E}function Sa(d,p){return Ri(Qr(d),Ao(p,0,d.length))}function Su(d){return Ri(Qr(d))}function Vs(d,p,w){(w!==E&&!Wa(d[p],w)||w===E&&!(p in d))&&ka(d,p,w)}function Lo(d,p,w){var V=d[p];(!Qe.call(d,p)||!Wa(V,w)||w===E&&!(p in d))&&ka(d,p,w)}function Gs(d,p){for(var w=d.length;w--;)if(Wa(d[w][0],p))return w;return-1}function am(d,p,w,V){return fo(d,function(me,Pe,Le){p(V,me,w(me),Le)}),V}function Xp(d,p){return d&&Oa(p,$r(p),d)}function ka(d,p,w){"__proto__"==p&&xr?xr(d,p,{configurable:!0,enumerable:!0,value:w,writable:!0}):d[p]=w}function ku(d,p){for(var w=-1,V=p.length,me=ft(V),Pe=null==d;++w<V;)me[w]=Pe?E:lg(d,p[w]);return me}function Ao(d,p,w){return d==d&&(w!==E&&(d=d<=w?d:w),p!==E&&(d=d>=p?d:p)),d}function ca(d,p,w,V,me,Pe){var Le,Be=1&p,tt=2&p,Ct=4&p;if(w&&(Le=me?w(d,V,me,Pe):w(d)),Le!==E)return Le;if(!lr(d))return d;var Dt=Fn(d);if(Dt){if(Le=function Um(d){var p=d.length,w=new d.constructor(p);return p&&"string"==typeof d[0]&&Qe.call(d,"index")&&(w.index=d.index,w.input=d.input),w}(d),!Be)return Qr(d,Le)}else{var Lt=zr(d),Gt=Lt==At||Lt==Jt;if(zl(d))return Mm(d,Be);if(Lt==Ot||Lt==Ye||Gt&&!me){if(Le=tt||Gt?{}:Af(d),!Be)return tt?function Zu(d,p){return Oa(d,Sf(d),p)}(d,function sm(d,p){return d&&Oa(p,Bo(p),d)}(Le,d)):function Pm(d,p){return Oa(d,Ga(d),p)}(d,Xp(Le,d))}else{if(!St[Lt])return me?d:{};Le=function jm(d,p,w){var V=d.constructor;switch(p){case Qt:return Cf(d);case it:case lt:return new V(+d);case Un:return function I_(d,p){var w=p?Cf(d.buffer):d.buffer;return new d.constructor(w,d.byteOffset,d.byteLength)}(d,w);case dt:case Pt:case ze:case ht:case Kt:case nn:case Zn:case In:case Hn:return Om(d,w);case Ft:return new V;case an:case xt:return new V(d);case En:return function N_(d){var p=new d.constructor(d.source,is.exec(d));return p.lastIndex=d.lastIndex,p}(d);case ut:return new V;case It:return function Tf(d){return Pc?Di(Pc.call(d)):{}}(d)}}(d,Lt,Be)}}Pe||(Pe=new la);var on=Pe.get(d);if(on)return on;Pe.set(d,Le),hv(d)?d.forEach(function(Dn){Le.add(ca(Dn,p,w,Dn,d,Pe))}):pv(d)&&d.forEach(function(Dn,li){Le.set(li,ca(Dn,p,w,li,d,Pe))});var Gn=Dt?E:(Ct?tt?W:el:tt?Bo:$r)(d);return Tt(Gn||d,function(Dn,li){Gn&&(Dn=d[li=Dn]),Lo(Le,li,ca(Dn,p,w,li,d,Pe))}),Le}function ef(d,p,w){var V=w.length;if(null==d)return!V;for(d=Di(d);V--;){var me=w[V],Le=d[me];if(Le===E&&!(me in d)||!(0,p[me])(Le))return!1}return!0}function lm(d,p,w){if("function"!=typeof d)throw new Nr(N);return Vl(function(){d.apply(E,w)},p)}function Fl(d,p,w,V){var me=-1,Pe=$t,Le=!0,Be=d.length,tt=[],Ct=p.length;if(!Be)return tt;w&&(p=Bn(p,qr(w))),V?(Pe=ui,Le=!1):p.length>=200&&(Pe=wa,Le=!1,p=new Bs(p));e:for(;++me<Be;){var Dt=d[me],Lt=null==w?Dt:w(Dt);if(Dt=V||0!==Dt?Dt:0,Le&&Lt==Lt){for(var Gt=Ct;Gt--;)if(p[Gt]===Lt)continue e;tt.push(Dt)}else Pe(p,Lt,V)||tt.push(Dt)}return tt}we.templateSettings={escape:br,evaluate:Qn,interpolate:To,variable:"",imports:{_:we}},(we.prototype=Tu.prototype).constructor=we,(Zr.prototype=fs(Tu.prototype)).constructor=Zr,(Kn.prototype=fs(Tu.prototype)).constructor=Kn,Hs.prototype.clear=function Ic(){this.__data__=Sd?Sd(null):{},this.size=0},Hs.prototype.delete=function $n(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p},Hs.prototype.get=function v_(d){var p=this.__data__;if(Sd){var w=p[d];return w===b?E:w}return Qe.call(p,d)?p[d]:E},Hs.prototype.has=function rm(d){var p=this.__data__;return Sd?p[d]!==E:Qe.call(p,d)},Hs.prototype.set=function kd(d,p){var w=this.__data__;return this.size+=this.has(d)?0:1,w[d]=Sd&&p===E?b:p,this},qa.prototype.clear=function b_(){this.__data__=[],this.size=0},qa.prototype.delete=function Nl(d){var p=this.__data__,w=Gs(p,d);return!(w<0||(w==p.length-1?p.pop():Si.call(p,w,1),--this.size,0))},qa.prototype.get=function io(d){var p=this.__data__,w=Gs(p,d);return w<0?E:p[w][1]},qa.prototype.has=function Gp(d){return Gs(this.__data__,d)>-1},qa.prototype.set=function om(d,p){var w=this.__data__,V=Gs(w,d);return V<0?(++this.size,w.push([d,p])):w[V][1]=p,this},Da.prototype.clear=function Rl(){this.size=0,this.__data__={hash:new Hs,map:new(Ai||qa),string:new Hs}},Da.prototype.delete=function Wp(d){var p=On(this,d).delete(d);return this.size-=p?1:0,p},Da.prototype.get=function Qp(d){return On(this,d).get(d)},Da.prototype.has=function wu(d){return On(this,d).has(d)},Da.prototype.set=function zp(d,p){var w=On(this,d),V=w.size;return w.set(d,p),this.size+=w.size==V?0:1,this},Bs.prototype.add=Bs.prototype.push=function Ja(d){return this.__data__.set(d,b),this},Bs.prototype.has=function Kp(d){return this.__data__.has(d)},la.prototype.clear=function Du(){this.__data__=new qa,this.size=0},la.prototype.delete=function y_(d){var p=this.__data__,w=p.delete(d);return this.size=p.size,w},la.prototype.get=function $p(d){return this.__data__.get(d)},la.prototype.has=function x_(d){return this.__data__.has(d)},la.prototype.set=function Nc(d,p){var w=this.__data__;if(w instanceof qa){var V=w.__data__;if(!Ai||V.length<199)return V.push([d,p]),this.size=++w.size,this;w=this.__data__=new Da(V)}return w.set(d,p),this.size=w.size,this};var fo=Uc(Ha),cm=Uc(nf,!0);function dm(d,p){var w=!0;return fo(d,function(V,me,Pe){return w=!!p(V,me,Pe)}),w}function Ad(d,p,w){for(var V=-1,me=d.length;++V<me;){var Pe=d[V],Le=p(Pe);if(null!=Le&&(Be===E?Le==Le&&!pa(Le):w(Le,Be)))var Be=Le,tt=Pe}return tt}function um(d,p){var w=[];return fo(d,function(V,me,Pe){p(V,me,Pe)&&w.push(V)}),w}function Wr(d,p,w,V,me){var Pe=-1,Le=d.length;for(w||(w=mo),me||(me=[]);++Pe<Le;){var Be=d[Pe];p>0&&w(Be)?p>1?Wr(Be,p-1,w,V,me):nr(me,Be):V||(me[me.length]=Be)}return me}var tf=Uu(),pm=Uu(!0);function Ha(d,p){return d&&tf(d,p,$r)}function nf(d,p){return d&&pm(d,p,$r)}function Mu(d,p){return en(p,function(w){return rl(d[w])})}function Ws(d,p){for(var w=0,V=(p=zs(p,d)).length;null!=d&&w<V;)d=d[Yo(p[w++])];return w&&w==V?d:E}function Cr(d,p,w){var V=p(d);return Fn(d)?V:nr(V,w(d))}function ho(d){return null==d?d===E?"[object Undefined]":"[object Null]":po&&po in Di(d)?function qu(d){var p=Qe.call(d,po),w=d[po];try{d[po]=E;var V=!0}catch(Pe){}var me=kt.call(d);return V&&(p?d[po]=w:delete d[po]),me}(d):function Pf(d){return kt.call(d)}(d)}function rf(d,p){return d>p}function T_(d,p){return null!=d&&Qe.call(d,p)}function w_(d,p){return null!=d&&p in Di(d)}function af(d,p,w){for(var V=w?ui:$t,me=d[0].length,Pe=d.length,Le=Pe,Be=ft(Pe),tt=1/0,Ct=[];Le--;){var Dt=d[Le];Le&&p&&(Dt=Bn(Dt,qr(p))),tt=Fr(Dt.length,tt),Be[Le]=!w&&(p||me>=120&&Dt.length>=120)?new Bs(Le&&Dt):E}Dt=d[0];var Lt=-1,Gt=Be[0];e:for(;++Lt<me&&Ct.length<tt;){var on=Dt[Lt],wn=p?p(on):on;if(on=w||0!==on?on:0,!(Gt?wa(Gt,wn):V(Ct,wn,w))){for(Le=Pe;--Le;){var Gn=Be[Le];if(!(Gn?wa(Gn,wn):V(d[Le],wn,w)))continue e}Gt&&Gt.push(wn),Ct.push(on)}}return Ct}function Fc(d,p,w){var V=null==(d=Gu(d,p=zs(p,d)))?d:d[Yo(Oo(p))];return null==V?E:nt(V,d,w)}function hm(d){return mr(d)&&ho(d)==Ye}function Md(d,p,w,V,me){return d===p||(null==d||null==p||!mr(d)&&!mr(p)?d!=d&&p!=p:function A_(d,p,w,V,me,Pe){var Le=Fn(d),Be=Fn(p),tt=Le?je:zr(d),Ct=Be?je:zr(p),Dt=(tt=tt==Ye?Ot:tt)==Ot,Lt=(Ct=Ct==Ye?Ot:Ct)==Ot,Gt=tt==Ct;if(Gt&&zl(d)){if(!zl(p))return!1;Le=!0,Dt=!1}if(Gt&&!Dt)return Pe||(Pe=new la),Le||Yd(d)?Yl(d,p,w,V,me,Pe):function hr(d,p,w,V,me,Pe,Le){switch(w){case Un:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case Qt:return!(d.byteLength!=p.byteLength||!Pe(new xi(d),new xi(p)));case it:case lt:case an:return Wa(+d,+p);case Mt:return d.name==p.name&&d.message==p.message;case En:case xt:return d==p+"";case Ft:var Be=Td;case ut:if(Be||(Be=uo),d.size!=p.size&&!(1&V))return!1;var Ct=Le.get(d);if(Ct)return Ct==p;V|=2,Le.set(d,p);var Dt=Yl(Be(d),Be(p),V,me,Pe,Le);return Le.delete(d),Dt;case It:if(Pc)return Pc.call(d)==Pc.call(p)}return!1}(d,p,tt,w,V,me,Pe);if(!(1&w)){var on=Dt&&Qe.call(d,"__wrapped__"),wn=Lt&&Qe.call(p,"__wrapped__");if(on||wn){var Gn=on?d.value():d,Dn=wn?p.value():p;return Pe||(Pe=new la),me(Gn,Dn,w,V,Pe)}}return!!Gt&&(Pe||(Pe=new la),function ql(d,p,w,V,me,Pe){var Le=1&w,Be=el(d),tt=Be.length;if(tt!=el(p).length&&!Le)return!1;for(var Lt=tt;Lt--;){var Gt=Be[Lt];if(!(Le?Gt in p:Qe.call(p,Gt)))return!1}var on=Pe.get(d),wn=Pe.get(p);if(on&&wn)return on==p&&wn==d;var Gn=!0;Pe.set(d,p),Pe.set(p,d);for(var Dn=Le;++Lt<tt;){var li=d[Gt=Be[Lt]],ci=p[Gt];if(V)var ao=Le?V(ci,li,Gt,p,d,Pe):V(li,ci,Gt,d,p,Pe);if(!(ao===E?li===ci||me(li,ci,w,V,Pe):ao)){Gn=!1;break}Dn||(Dn="constructor"==Gt)}if(Gn&&!Dn){var go=d.constructor,Go=p.constructor;go!=Go&&"constructor"in d&&"constructor"in p&&!("function"==typeof go&&go instanceof go&&"function"==typeof Go&&Go instanceof Go)&&(Gn=!1)}return Pe.delete(d),Pe.delete(p),Gn}(d,p,w,V,me,Pe))}(d,p,w,V,Md,me))}function sf(d,p,w,V){var me=w.length,Pe=me,Le=!V;if(null==d)return!Pe;for(d=Di(d);me--;){var Be=w[me];if(Le&&Be[2]?Be[1]!==d[Be[0]]:!(Be[0]in d))return!1}for(;++me<Pe;){var tt=(Be=w[me])[0],Ct=d[tt],Dt=Be[1];if(Le&&Be[2]){if(Ct===E&&!(tt in d))return!1}else{var Lt=new la;if(V)var Gt=V(Ct,Dt,tt,d,p,Lt);if(!(Gt===E?Md(Dt,Ct,3,V,Lt):Gt))return!1}}return!0}function gm(d){return!(!lr(d)||function Hu(d){return!!yt&&yt in d}(d))&&(rl(d)?yn:na).test(Lr(d))}function _m(d){return"function"==typeof d?d:null==d?Po:"object"==typeof d?Fn(d)?df(d[0],d[1]):cf(d):Jv(d)}function lf(d){if(!Bl(d))return p_(d);var p=[];for(var w in Di(d))Qe.call(d,w)&&"constructor"!=w&&p.push(w);return p}function Zl(d,p){return d<p}function Ou(d,p){var w=-1,V=Ho(d)?ft(d.length):[];return fo(d,function(me,Pe,Le){V[++w]=p(me,Pe,Le)}),V}function cf(d){var p=rr(d);return 1==p.length&&p[0][2]?Of(p[0][0],p[0][1]):function(w){return w===d||sf(w,d,p)}}function df(d,p){return Pd(d)&&Mf(p)?Of(Yo(d),p):function(w){var V=lg(w,d);return V===E&&V===p?cg(w,d):Md(p,V,3)}}function Zc(d,p,w,V,me){d!==p&&tf(p,function(Pe,Le){if(me||(me=new la),lr(Pe))!function uf(d,p,w,V,me,Pe,Le){var Be=Id(d,w),tt=Id(p,w),Ct=Le.get(tt);if(Ct)Vs(d,w,Ct);else{var Dt=Pe?Pe(Be,tt,w+"",d,p,Le):E,Lt=Dt===E;if(Lt){var Gt=Fn(tt),on=!Gt&&zl(tt),wn=!Gt&&!on&&Yd(tt);Dt=tt,Gt||on||wn?Fn(Be)?Dt=Be:Dr(Be)?Dt=Qr(Be):on?(Lt=!1,Dt=Mm(tt,!0)):wn?(Lt=!1,Dt=Om(tt,!0)):Dt=[]:ip(tt)||Qc(tt)?(Dt=Be,Qc(Be)?Dt=_v(Be):(!lr(Be)||rl(Be))&&(Dt=Af(tt))):Lt=!1}Lt&&(Le.set(tt,Dt),me(Dt,tt,V,Pe,Le),Le.delete(tt)),Vs(d,w,Dt)}}(d,p,Le,w,Zc,V,me);else{var Be=V?V(Id(d,Le),Pe,Le+"",d,p,me):E;Be===E&&(Be=Pe),Vs(d,Le,Be)}},Bo)}function Pu(d,p){var w=d.length;if(w)return Ea(p+=p<0?w:0,w)?d[p]:E}function pf(d,p,w){p=p.length?Bn(p,function(Pe){return Fn(Pe)?function(Le){return Ws(Le,1===Pe.length?Pe[0]:Pe)}:Pe}):[Po];var V=-1;return p=Bn(p,qr(sn())),function ja($e,_t){var ft=$e.length;for($e.sort(_t);ft--;)$e[ft]=$e[ft].value;return $e}(Ou(d,function(Pe,Le,Be){return{criteria:Bn(p,function(Ct){return Ct(Pe)}),index:++V,value:Pe}}),function(Pe,Le){return function Hi(d,p,w){for(var V=-1,me=d.criteria,Pe=p.criteria,Le=me.length,Be=w.length;++V<Le;){var tt=jo(me[V],Pe[V]);if(tt)return V>=Be?tt:tt*("desc"==w[V]?-1:1)}return d.index-p.index}(Pe,Le,w)})}function ff(d,p,w){for(var V=-1,me=p.length,Pe={};++V<me;){var Le=p[V],Be=Ws(d,Le);w(Be,Le)&&Ma(Pe,zs(Le,d),Be)}return Pe}function Eu(d,p,w,V){var me=V?Ys:Er,Pe=-1,Le=p.length,Be=d;for(d===p&&(p=Qr(p)),w&&(Be=Bn(d,qr(w)));++Pe<Le;)for(var tt=0,Ct=p[Pe],Dt=w?w(Ct):Ct;(tt=me(Be,Dt,tt,V))>-1;)Be!==d&&Si.call(Be,tt,1),Si.call(d,tt,1);return d}function hf(d,p){for(var w=d?p.length:0,V=w-1;w--;){var me=p[w];if(w==V||me!==Pe){var Pe=me;Ea(me)?Si.call(d,me,1):Qs(d,me)}}return d}function Iu(d,p){return d+_u(Vp()*(p-d+1))}function Nu(d,p){var w="";if(!d||p<1||p>L)return w;do{p%2&&(w+=d),(p=_u(p/2))&&(d+=d)}while(p);return w}function Yn(d,p){return Nd(Ef(d,p,Po),d+"")}function mf(d){return hs(Kc(d))}function Aa(d,p){var w=Kc(d);return Ri(w,Ao(p,0,w.length))}function Ma(d,p,w,V){if(!lr(d))return d;for(var me=-1,Pe=(p=zs(p,d)).length,Le=Pe-1,Be=d;null!=Be&&++me<Pe;){var tt=Yo(p[me]),Ct=w;if("__proto__"===tt||"constructor"===tt||"prototype"===tt)return d;if(me!=Le){var Dt=Be[tt];(Ct=V?V(Dt,tt,Be):E)===E&&(Ct=lr(Dt)?Dt:Ea(p[me+1])?[]:{})}Lo(Be,tt,Ct),Be=Be[tt]}return d}var gf=xu?function(d,p){return xu.set(d,p),d}:Po,_f=xr?function(d,p){return xr(d,"toString",{configurable:!0,enumerable:!1,value:$l(p),writable:!0})}:Po;function E_(d){return Ri(Kc(d))}function da(d,p,w){var V=-1,me=d.length;p<0&&(p=-p>me?0:me+p),(w=w>me?me:w)<0&&(w+=me),me=p>w?0:w-p>>>0,p>>>=0;for(var Pe=ft(me);++V<me;)Pe[V]=d[V+p];return Pe}function xm(d,p){var w;return fo(d,function(V,me,Pe){return!(w=p(V,me,Pe))}),!!w}function Lc(d,p,w){var V=0,me=null==d?V:d.length;if("number"==typeof p&&p==p&&me<=2147483647){for(;V<me;){var Pe=V+me>>>1,Le=d[Pe];null!==Le&&!pa(Le)&&(w?Le<=p:Le<p)?V=Pe+1:me=Pe}return me}return vf(d,p,Po,w)}function vf(d,p,w,V){var me=0,Pe=null==d?0:d.length;if(0===Pe)return 0;for(var Le=(p=w(p))!=p,Be=null===p,tt=pa(p),Ct=p===E;me<Pe;){var Dt=_u((me+Pe)/2),Lt=w(d[Dt]),Gt=Lt!==E,on=null===Lt,wn=Lt==Lt,Gn=pa(Lt);if(Le)var Dn=V||wn;else Dn=Ct?wn&&(V||Gt):Be?wn&&Gt&&(V||!on):tt?wn&&Gt&&!on&&(V||!Gn):!on&&!Gn&&(V?Lt<=p:Lt<p);Dn?me=Dt+1:Pe=Dt}return Fr(Pe,4294967294)}function Cm(d,p){for(var w=-1,V=d.length,me=0,Pe=[];++w<V;){var Le=d[w],Be=p?p(Le):Le;if(!w||!Wa(Be,tt)){var tt=Be;Pe[me++]=0===Le?0:Le}}return Pe}function Tm(d){return"number"==typeof d?d:pa(d)?NaN:+d}function Uo(d){if("string"==typeof d)return d;if(Fn(d))return Bn(d,Uo)+"";if(pa(d))return Ec?Ec.call(d):"";var p=d+"";return"0"==p&&1/d==-Q?"-0":p}function Ba(d,p,w){var V=-1,me=$t,Pe=d.length,Le=!0,Be=[],tt=Be;if(w)Le=!1,me=ui;else if(Pe>=200){var Ct=p?null:F_(d);if(Ct)return uo(Ct);Le=!1,me=wa,tt=new Bs}else tt=p?[]:Be;e:for(;++V<Pe;){var Dt=d[V],Lt=p?p(Dt):Dt;if(Dt=w||0!==Dt?Dt:0,Le&&Lt==Lt){for(var Gt=tt.length;Gt--;)if(tt[Gt]===Lt)continue e;p&&tt.push(Lt),Be.push(Dt)}else me(tt,Lt,w)||(tt!==Be&&tt.push(Lt),Be.push(Dt))}return Be}function Qs(d,p){return null==(d=Gu(d,p=zs(p,d)))||delete d[Yo(Oo(p))]}function wm(d,p,w,V){return Ma(d,p,w(Ws(d,p)),V)}function Ru(d,p,w,V){for(var me=d.length,Pe=V?me:-1;(V?Pe--:++Pe<me)&&p(d[Pe],Pe,d););return w?da(d,V?0:Pe,V?Pe+1:me):da(d,V?Pe+1:0,V?me:Pe)}function Dm(d,p){var w=d;return w instanceof Kn&&(w=w.value()),ti(p,function(V,me){return me.func.apply(me.thisArg,nr([V],me.args))},w)}function bf(d,p,w){var V=d.length;if(V<2)return V?Ba(d[0]):[];for(var me=-1,Pe=ft(V);++me<V;)for(var Le=d[me],Be=-1;++Be<V;)Be!=me&&(Pe[me]=Fl(Pe[me]||Le,d[Be],p,w));return Ba(Wr(Pe,1),p,w)}function Sm(d,p,w){for(var V=-1,me=d.length,Pe=p.length,Le={};++V<me;)w(Le,d[V],V<Pe?p[V]:E);return Le}function yf(d){return Dr(d)?d:[]}function xf(d){return"function"==typeof d?d:Po}function zs(d,p){return Fn(d)?d:Pd(d,p)?[d]:Ku(Mi(d))}var km=Yn;function Ks(d,p,w){var V=d.length;return w=w===E?V:w,!p&&w>=V?d:da(d,p,w)}var Am=Hp||function(d){return ei.clearTimeout(d)};function Mm(d,p){if(p)return d.slice();var w=d.length,V=bi?bi(w):new d.constructor(w);return d.copy(V),V}function Cf(d){var p=new d.constructor(d.byteLength);return new xi(p).set(new xi(d)),p}function Om(d,p){var w=p?Cf(d.buffer):d.buffer;return new d.constructor(w,d.byteOffset,d.length)}function jo(d,p){if(d!==p){var w=d!==E,V=null===d,me=d==d,Pe=pa(d),Le=p!==E,Be=null===p,tt=p==p,Ct=pa(p);if(!Be&&!Ct&&!Pe&&d>p||Pe&&Le&&tt&&!Be&&!Ct||V&&Le&&tt||!w&&tt||!me)return 1;if(!V&&!Pe&&!Ct&&d<p||Ct&&w&&me&&!V&&!Pe||Be&&w&&me||!Le&&me||!tt)return-1}return 0}function Od(d,p,w,V){for(var me=-1,Pe=d.length,Le=w.length,Be=-1,tt=p.length,Ct=Rr(Pe-Le,0),Dt=ft(tt+Ct),Lt=!V;++Be<tt;)Dt[Be]=p[Be];for(;++me<Le;)(Lt||me<Pe)&&(Dt[w[me]]=d[me]);for(;Ct--;)Dt[Be++]=d[me++];return Dt}function Fu(d,p,w,V){for(var me=-1,Pe=d.length,Le=-1,Be=w.length,tt=-1,Ct=p.length,Dt=Rr(Pe-Be,0),Lt=ft(Dt+Ct),Gt=!V;++me<Dt;)Lt[me]=d[me];for(var on=me;++tt<Ct;)Lt[on+tt]=p[tt];for(;++Le<Be;)(Gt||me<Pe)&&(Lt[on+w[Le]]=d[me++]);return Lt}function Qr(d,p){var w=-1,V=d.length;for(p||(p=ft(V));++w<V;)p[w]=d[w];return p}function Oa(d,p,w,V){var me=!w;w||(w={});for(var Pe=-1,Le=p.length;++Pe<Le;){var Be=p[Pe],tt=V?V(w[Be],d[Be],Be,w,d):E;tt===E&&(tt=d[Be]),me?ka(w,Be,tt):Lo(w,Be,tt)}return w}function Lu(d,p){return function(w,V){var me=Fn(w)?Et:am,Pe=p?p():{};return me(w,d,sn(V,2),Pe)}}function Pa(d){return Yn(function(p,w){var V=-1,me=w.length,Pe=me>1?w[me-1]:E,Le=me>2?w[2]:E;for(Pe=d.length>3&&"function"==typeof Pe?(me--,Pe):E,Le&&ro(w[0],w[1],Le)&&(Pe=me<3?E:Pe,me=1),p=Di(p);++V<me;){var Be=w[V];Be&&d(p,Be,V,Pe)}return p})}function Uc(d,p){return function(w,V){if(null==w)return w;if(!Ho(w))return d(w,V);for(var me=w.length,Pe=p?me:-1,Le=Di(w);(p?Pe--:++Pe<me)&&!1!==V(Le[Pe],Pe,Le););return w}}function Uu(d){return function(p,w,V){for(var me=-1,Pe=Di(p),Le=V(p),Be=Le.length;Be--;){var tt=Le[d?Be:++me];if(!1===w(Pe[tt],tt,Pe))break}return p}}function wf(d){return function(p){var w=ds(p=Mi(p))?Vn(p):E,V=w?w[0]:p.charAt(0),me=w?Ks(w,1).join(""):p.slice(1);return V[d]()+me}}function Ll(d){return function(p){return ti(mg(qd(p).replace(Gi,"")),d,"")}}function jc(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var w=fs(d.prototype),V=d.apply(w,p);return lr(V)?V:w}}function ms(d){return function(p,w,V){var me=Di(p);if(!Ho(p)){var Pe=sn(w,3);p=$r(p),w=function(tt){return Pe(me[tt],tt,me)}}var Le=d(p,w,V);return Le>-1?me[Pe?p[Le]:Le]:E}}function jl(d){return vs(function(p){var w=p.length,V=w,me=Zr.prototype.thru;for(d&&p.reverse();V--;){var Pe=p[V];if("function"!=typeof Pe)throw new Nr(N);if(me&&!Le&&"wrapper"==wt(Pe))var Le=new Zr([],!0)}for(V=Le?V:w;++V<w;){var Be=wt(Pe=p[V]),tt="wrapper"==Be?qc(Pe):E;Le=tt&&Ed(tt[0])&&424==tt[1]&&!tt[4].length&&1==tt[9]?Le[wt(tt[0])].apply(Le,tt[3]):1==Pe.length&&Ed(Pe)?Le[Be]():Le.thru(Pe)}return function(){var Ct=arguments,Dt=Ct[0];if(Le&&1==Ct.length&&Fn(Dt))return Le.plant(Dt).value();for(var Lt=0,Gt=w?p[Lt].apply(this,Ct):Dt;++Lt<w;)Gt=p[Lt].call(this,Gt);return Gt}})}function $s(d,p,w,V,me,Pe,Le,Be,tt,Ct){var Dt=p&y,Lt=1&p,Gt=2&p,on=24&p,wn=512&p,Gn=Gt?E:jc(d);return function Dn(){for(var li=arguments.length,ci=ft(li),ao=li;ao--;)ci[ao]=arguments[ao];if(on)var go=Mo(Dn),Go=jp(ci,go);if(V&&(ci=Od(ci,V,me,on)),Pe&&(ci=Fu(ci,Pe,Le,on)),li-=Go,on&&li<Ct){var gr=Jr(ci,go);return Nm(d,p,$s,Dn.placeholder,w,ci,gr,Be,tt,Ct-li)}var za=Lt?w:this,Xl=Gt?za[d]:d;return li=ci.length,Be?ci=If(ci,Be):wn&&li>1&&ci.reverse(),Dt&&tt<li&&(ci.length=tt),this&&this!==ei&&this instanceof Dn&&(Xl=Gn||jc(Xl)),Xl.apply(za,ci)}}function ju(d,p){return function(w,V){return function D_(d,p,w,V){return Ha(d,function(me,Pe,Le){p(V,w(me),Pe,Le)}),V}(w,d,p(V),{})}}function Xs(d,p){return function(w,V){var me;if(w===E&&V===E)return p;if(w!==E&&(me=w),V!==E){if(me===E)return V;"string"==typeof w||"string"==typeof V?(w=Uo(w),V=Uo(V)):(w=Tm(w),V=Tm(V)),me=d(w,V)}return me}}function Va(d){return vs(function(p){return p=Bn(p,qr(sn())),Yn(function(w){var V=this;return d(p,function(me){return nt(me,V,w)})})})}function Yc(d,p){var w=(p=p===E?" ":Uo(p)).length;if(w<2)return w?Nu(p,d):p;var V=Nu(p,sa(d/qs(p)));return ds(p)?Ks(Vn(V),0,d).join(""):V.slice(0,d)}function Im(d){return function(p,w,V){return V&&"number"!=typeof V&&ro(p,w,V)&&(w=V=E),p=ol(p),w===E?(w=p,p=0):w=ol(w),function ym(d,p,w,V){for(var me=-1,Pe=Rr(sa((p-d)/(w||1)),0),Le=ft(Pe);Pe--;)Le[V?Pe:++me]=d,d+=w;return Le}(p,w,V=V===E?p<w?1:-1:ol(V),d)}}function Yu(d){return function(p,w){return"string"==typeof p&&"string"==typeof w||(p=Ra(p),w=Ra(w)),d(p,w)}}function Nm(d,p,w,V,me,Pe,Le,Be,tt,Ct){var Dt=8&p;p|=Dt?A:64,4&(p&=~(Dt?64:A))||(p&=-4);var Gn=[d,p,me,Dt?Pe:E,Dt?Le:E,Dt?E:Pe,Dt?E:Le,Be,tt,Ct],Dn=w.apply(E,Gn);return Ed(d)&&Wu(Dn,Gn),Dn.placeholder=V,Qu(Dn,d,p)}function Df(d){var p=vi[d];return function(w,V){if(w=Ra(w),(V=null==V?0:Fr(qn(V),292))&&em(w)){var me=(Mi(w)+"e").split("e");return+((me=(Mi(p(me[0]+"e"+(+me[1]+V)))+"e").split("e"))[0]+"e"+(+me[1]-V))}return p(w)}}var F_=Oi&&1/uo(new Oi([,-0]))[1]==Q?function(d){return new Oi(d)}:Jd;function Rm(d){return function(p){var w=zr(p);return w==Ft?Td(p):w==ut?function wd($e){var _t=-1,ft=Array($e.size);return $e.forEach(function(Vt){ft[++_t]=[Vt,Vt]}),ft}(p):function Ya($e,_t){return Bn(_t,function(ft){return[ft,$e[ft]]})}(p,d(p))}}function gs(d,p,w,V,me,Pe,Le,Be){var tt=2&p;if(!tt&&"function"!=typeof d)throw new Nr(N);var Ct=V?V.length:0;if(Ct||(p&=-97,V=me=E),Le=Le===E?Le:Rr(qn(Le),0),Be=Be===E?Be:qn(Be),Ct-=me?me.length:0,64&p){var Dt=V,Lt=me;V=me=E}var Gt=tt?E:qc(d),on=[d,p,w,V,me,Dt,Lt,Pe,Le,Be];if(Gt&&function qm(d,p){var w=d[1],V=p[1],me=w|V;if(!(me<131||(V==y&&8==w||V==y&&256==w&&d[7].length<=p[8]||384==V&&p[7].length<=p[8]&&8==w)))return d;1&V&&(d[2]=p[2],me|=1&w?0:4);var Be=p[3];if(Be){var tt=d[3];d[3]=tt?Od(tt,Be,p[4]):Be,d[4]=tt?Jr(d[3],H):p[4]}(Be=p[5])&&(d[5]=(tt=d[5])?Fu(tt,Be,p[6]):Be,d[6]=tt?Jr(d[5],H):p[6]),(Be=p[7])&&(d[7]=Be),V&y&&(d[8]=null==d[8]?p[8]:Fr(d[8],p[8])),null==d[9]&&(d[9]=p[9]),d[0]=p[0],d[1]=me}(on,Gt),d=on[0],p=on[1],w=on[2],V=on[3],me=on[4],!(Be=on[9]=on[9]===E?tt?0:d.length:Rr(on[9]-Ct,0))&&24&p&&(p&=-25),p&&1!=p)wn=8==p||16==p?function Ul(d,p,w){var V=jc(d);return function me(){for(var Pe=arguments.length,Le=ft(Pe),Be=Pe,tt=Mo(me);Be--;)Le[Be]=arguments[Be];var Ct=Pe<3&&Le[0]!==tt&&Le[Pe-1]!==tt?[]:Jr(Le,tt);return(Pe-=Ct.length)<w?Nm(d,p,$s,me.placeholder,E,Le,Ct,E,E,w-Pe):nt(this&&this!==ei&&this instanceof me?V:d,this,Le)}}(d,p,Be):p!=A&&33!=p||me.length?$s.apply(E,on):function R_(d,p,w,V){var me=1&p,Pe=jc(d);return function Le(){for(var Be=-1,tt=arguments.length,Ct=-1,Dt=V.length,Lt=ft(Dt+tt),Gt=this&&this!==ei&&this instanceof Le?Pe:d;++Ct<Dt;)Lt[Ct]=V[Ct];for(;tt--;)Lt[Ct++]=arguments[++Be];return nt(Gt,me?w:this,Lt)}}(d,p,w,V);else var wn=function Em(d,p,w){var V=1&p,me=jc(d);return function Pe(){return(this&&this!==ei&&this instanceof Pe?me:d).apply(V?w:this,arguments)}}(d,p,w);return Qu((Gt?gf:Wu)(wn,on),d,p)}function Fm(d,p,w,V){return d===E||Wa(d,Ee[w])&&!Qe.call(V,w)?p:d}function Zm(d,p,w,V,me,Pe){return lr(d)&&lr(p)&&(Pe.set(p,d),Zc(d,p,E,Zm,Pe),Pe.delete(p)),d}function _s(d){return ip(d)?E:d}function Yl(d,p,w,V,me,Pe){var Le=1&w,Be=d.length,tt=p.length;if(Be!=tt&&!(Le&&tt>Be))return!1;var Ct=Pe.get(d),Dt=Pe.get(p);if(Ct&&Dt)return Ct==p&&Dt==d;var Lt=-1,Gt=!0,on=2&w?new Bs:E;for(Pe.set(d,p),Pe.set(p,d);++Lt<Be;){var wn=d[Lt],Gn=p[Lt];if(V)var Dn=Le?V(Gn,wn,Lt,p,d,Pe):V(wn,Gn,Lt,d,p,Pe);if(Dn!==E){if(Dn)continue;Gt=!1;break}if(on){if(!bn(p,function(li,ci){if(!wa(on,ci)&&(wn===li||me(wn,li,w,V,Pe)))return on.push(ci)})){Gt=!1;break}}else if(wn!==Gn&&!me(wn,Gn,w,V,Pe)){Gt=!1;break}}return Pe.delete(d),Pe.delete(p),Gt}function vs(d){return Nd(Ef(d,E,Jc),d+"")}function el(d){return Cr(d,$r,Ga)}function W(d){return Cr(d,Bo,Sf)}var qc=xu?function(d){return xu.get(d)}:Jd;function wt(d){for(var p=d.name+"",w=Il[p],V=Qe.call(Il,p)?w.length:0;V--;){var me=w[V],Pe=me.func;if(null==Pe||Pe==d)return me.name}return p}function Mo(d){return(Qe.call(we,"placeholder")?we:d).placeholder}function sn(){var d=we.iteratee||ah;return d=d===ah?_m:d,arguments.length?d(arguments[0],arguments[1]):d}function On(d,p){var w=d.__data__;return function Ym(d){var p=typeof d;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==d:null===d}(p)?w["string"==typeof p?"string":"hash"]:w.map}function rr(d){for(var p=$r(d),w=p.length;w--;){var V=p[w],me=d[V];p[w]=[V,me,Mf(me)]}return p}function Jl(d,p){var w=function hu($e,_t){return null==$e?E:$e[_t]}(d,p);return gm(w)?w:E}var Ga=vu?function(d){return null==d?[]:(d=Di(d),en(vu(d),function(p){return sr.call(d,p)}))}:bg,Sf=vu?function(d){for(var p=[];d;)nr(p,Ga(d)),d=xn(d);return p}:bg,zr=ho;function Hl(d,p,w){for(var V=-1,me=(p=zs(p,d)).length,Pe=!1;++V<me;){var Le=Yo(p[V]);if(!(Pe=null!=d&&w(d,Le)))break;d=d[Le]}return Pe||++V!=me?Pe:!!(me=null==d?0:d.length)&&$f(me)&&Ea(Le,me)&&(Fn(d)||Qc(d))}function Af(d){return"function"!=typeof d.constructor||Bl(d)?{}:fs(xn(d))}function mo(d){return Fn(d)||Qc(d)||!!(aa&&d&&d[aa])}function Ea(d,p){var w=typeof d;return!!(p=null==p?L:p)&&("number"==w||"symbol"!=w&&Rs.test(d))&&d>-1&&d%1==0&&d<p}function ro(d,p,w){if(!lr(w))return!1;var V=typeof p;return!!("number"==V?Ho(w)&&Ea(p,w.length):"string"==V&&p in w)&&Wa(w[p],d)}function Pd(d,p){if(Fn(d))return!1;var w=typeof d;return!("number"!=w&&"symbol"!=w&&"boolean"!=w&&null!=d&&!pa(d))||jr.test(d)||!va.test(d)||null!=p&&d in Di(p)}function Ed(d){var p=wt(d),w=we[p];if("function"!=typeof w||!(p in Kn.prototype))return!1;if(d===w)return!0;var V=qc(w);return!!V&&d===V[0]}(bu&&zr(new bu(new ArrayBuffer(1)))!=Un||Ai&&zr(new Ai)!=Ft||yu&&zr(yu.resolve())!=dn||Oi&&zr(new Oi)!=ut||Mc&&zr(new Mc)!=jt)&&(zr=function(p){var w=ho(p),V=w==Ot?p.constructor:E,me=V?Lr(V):"";if(me)switch(me){case Cu:return Un;case h_:return Ft;case nm:return dn;case m_:return ut;case im:return jt}return w});var Bu=He?rl:lh;function Bl(d){var p=d&&d.constructor;return d===("function"==typeof p&&p.prototype||Ee)}function Mf(d){return d==d&&!lr(d)}function Of(d,p){return function(w){return null!=w&&w[d]===p&&(p!==E||d in Di(w))}}function Ef(d,p,w){return p=Rr(p===E?d.length-1:p,0),function(){for(var V=arguments,me=-1,Pe=Rr(V.length-p,0),Le=ft(Pe);++me<Pe;)Le[me]=V[p+me];me=-1;for(var Be=ft(p+1);++me<p;)Be[me]=V[me];return Be[p]=w(Le),nt(d,this,Be)}}function Gu(d,p){return p.length<2?d:Ws(d,da(p,0,-1))}function If(d,p){for(var w=d.length,V=Fr(p.length,w),me=Qr(d);V--;){var Pe=p[V];d[V]=Ea(Pe,w)?me[Pe]:E}return d}function Id(d,p){if(("constructor"!==p||"function"!=typeof d[p])&&"__proto__"!=p)return d[p]}var Wu=zu(gf),Vl=Xh||function(d,p){return ei.setTimeout(d,p)},Nd=zu(_f);function Qu(d,p,w){var V=p+"";return Nd(d,function Ju(d,p){var w=p.length;if(!w)return d;var V=w-1;return p[V]=(w>1?"& ":"")+p[V],p=p.join(w>2?", ":" "),d.replace(ta,"{\n/* [wrapped with "+p+"] */\n")}(V,function Jm(d,p){return Tt(Fe,function(w){var V="_."+w[0];p&w[1]&&!$t(d,V)&&d.push(V)}),d.sort()}(function Lm(d){var p=d.match(uu);return p?p[1].split(wo):[]}(V),w)))}function zu(d){var p=0,w=0;return function(){var V=El(),me=16-(V-w);if(w=V,me>0){if(++p>=800)return arguments[0]}else p=0;return d.apply(E,arguments)}}function Ri(d,p){var w=-1,V=d.length,me=V-1;for(p=p===E?V:p;++w<p;){var Pe=Iu(w,me),Le=d[Pe];d[Pe]=d[w],d[w]=Le}return d.length=p,d}var Ku=function Vu(d){var p=Na(d,function(V){return 500===w.size&&w.clear(),V}),w=p.cache;return p}(function(d){var p=[];return 46===d.charCodeAt(0)&&p.push(""),d.replace(Mr,function(w,V,me,Pe){p.push(me?Pe.replace(pc,"$1"):V||w)}),p});function Yo(d){if("string"==typeof d||pa(d))return d;var p=d+"";return"0"==p&&1/d==-Q?"-0":p}function Lr(d){if(null!=d){try{return ct.call(d)}catch(p){}try{return d+""}catch(p){}}return""}function Nf(d){if(d instanceof Kn)return d.clone();var p=new Zr(d.__wrapped__,d.__chain__);return p.__actions__=Qr(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}var L_=Yn(function(d,p){return Dr(d)?Fl(d,Wr(p,1,Dr,!0)):[]}),U_=Yn(function(d,p){var w=Oo(p);return Dr(w)&&(w=E),Dr(d)?Fl(d,Wr(p,1,Dr,!0),sn(w,2)):[]}),j_=Yn(function(d,p){var w=Oo(p);return Dr(w)&&(w=E),Dr(d)?Fl(d,Wr(p,1,Dr,!0),E,w):[]});function Vm(d,p,w){var V=null==d?0:d.length;if(!V)return-1;var me=null==w?0:qn(w);return me<0&&(me=Rr(V+me,0)),Ta(d,sn(p,3),me)}function Gm(d,p,w){var V=null==d?0:d.length;if(!V)return-1;var me=V-1;return w!==E&&(me=qn(w),me=w<0?Rr(V+me,0):Fr(me,V-1)),Ta(d,sn(p,3),me,!0)}function Jc(d){return null!=d&&d.length?Wr(d,1):[]}function Wm(d){return d&&d.length?d[0]:E}var G_=Yn(function(d){var p=Bn(d,yf);return p.length&&p[0]===d[0]?af(p):[]}),zm=Yn(function(d){var p=Oo(d),w=Bn(d,yf);return p===Oo(w)?p=E:w.pop(),w.length&&w[0]===d[0]?af(w,sn(p,2)):[]}),W_=Yn(function(d){var p=Oo(d),w=Bn(d,yf);return(p="function"==typeof p?p:E)&&w.pop(),w.length&&w[0]===d[0]?af(w,E,p):[]});function Oo(d){var p=null==d?0:d.length;return p?d[p-1]:E}var Uf=Yn(fn);function fn(d,p){return d&&d.length&&p&&p.length?Eu(d,p):d}var $m=vs(function(d,p){var w=null==d?0:d.length,V=ku(d,p);return hf(d,Bn(p,function(me){return Ea(me,w)?+me:me}).sort(jo)),V});function $u(d){return null==d?d:f_.call(d)}var sv=Yn(function(d){return Ba(Wr(d,1,Dr,!0))}),lv=Yn(function(d){var p=Oo(d);return Dr(p)&&(p=E),Ba(Wr(d,1,Dr,!0),sn(p,2))}),Hc=Yn(function(d){var p=Oo(d);return p="function"==typeof p?p:E,Ba(Wr(d,1,Dr,!0),E,p)});function Rd(d){if(!d||!d.length)return[];var p=0;return d=en(d,function(w){if(Dr(w))return p=Rr(w.length,p),!0}),ni(p,function(w){return Bn(d,Fo(w))})}function Hf(d,p){if(!d||!d.length)return[];var w=Rd(d);return null==p?w:Bn(w,function(V){return nt(p,E,V)})}var ng=Yn(function(d,p){return Dr(d)?Fl(d,p):[]}),m=Yn(function(d){return bf(en(d,Dr))}),v=Yn(function(d){var p=Oo(d);return Dr(p)&&(p=E),bf(en(d,Dr),sn(p,2))}),f=Yn(function(d){var p=Oo(d);return p="function"==typeof p?p:E,bf(en(d,Dr),E,p)}),g=Yn(Rd),pe=Yn(function(d){var p=d.length,w=p>1?d[p-1]:E;return w="function"==typeof w?(d.pop(),w):E,Hf(d,w)});function Ae(d){var p=we(d);return p.__chain__=!0,p}function Ve(d,p){return p(d)}var st=vs(function(d){var p=d.length,w=p?d[0]:0,V=this.__wrapped__,me=function(Le){return ku(Le,d)};return!(p>1||this.__actions__.length)&&V instanceof Kn&&Ea(w)?((V=V.slice(w,+w+(p?1:0))).__actions__.push({func:Ve,args:[me],thisArg:E}),new Zr(V,this.__chain__).thru(function(Pe){return p&&!Pe.length&&Pe.push(E),Pe})):this.thru(me)}),Ln=Lu(function(d,p,w){Qe.call(d,w)?++d[w]:ka(d,w,1)}),Xn=ms(Vm),si=ms(Gm);function or(d,p){return(Fn(d)?Tt:fo)(d,sn(p,3))}function $i(d,p){return(Fn(d)?et:cm)(d,sn(p,3))}var Jo=Lu(function(d,p,w){Qe.call(d,w)?d[w].push(p):ka(d,w,[p])}),tl=Yn(function(d,p,w){var V=-1,me="function"==typeof p,Pe=Ho(d)?ft(d.length):[];return fo(d,function(Le){Pe[++V]=me?nt(p,Le,w):Fc(Le,p,w)}),Pe}),nl=Lu(function(d,p,w){ka(d,w,p)});function wr(d,p){return(Fn(d)?Bn:Ou)(d,sn(p,3))}var Fd=Lu(function(d,p,w){d[w?0:1].push(p)},function(){return[[],[]]}),Ld=Yn(function(d,p){if(null==d)return[];var w=p.length;return w>1&&ro(d,p[0],p[1])?p=[]:w>2&&ro(p[0],p[1],p[2])&&(p=[p[0]]),pf(d,Wr(p,1),[])}),Ia=Bp||function(){return ei.Date.now()};function Bf(d,p,w){return p=w?E:p,gs(d,y,E,E,E,E,p=d&&null==p?d.length:p)}function Ud(d,p){var w;if("function"!=typeof p)throw new Nr(N);return d=qn(d),function(){return--d>0&&(w=p.apply(this,arguments)),d<=1&&(p=E),w}}var jd=Yn(function(d,p,w){var V=1;if(w.length){var me=Jr(w,Mo(jd));V|=A}return gs(d,V,p,w,me)}),ep=Yn(function(d,p,w){var V=3;if(w.length){var me=Jr(w,Mo(ep));V|=A}return gs(p,V,d,w,me)});function tp(d,p,w){var V,me,Pe,Le,Be,tt,Ct=0,Dt=!1,Lt=!1,Gt=!0;if("function"!=typeof d)throw new Nr(N);function on(gr){var za=V,Xl=me;return V=me=E,Ct=gr,Le=d.apply(Xl,za)}function wn(gr){return Ct=gr,Be=Vl(li,p),Dt?on(gr):Le}function Dn(gr){var za=gr-tt;return tt===E||za>=p||za<0||Lt&&gr-Ct>=Pe}function li(){var gr=Ia();if(Dn(gr))return ci(gr);Be=Vl(li,function Gn(gr){var $v=p-(gr-tt);return Lt?Fr($v,Pe-(gr-Ct)):$v}(gr))}function ci(gr){return Be=E,Gt&&V?on(gr):(V=me=E,Le)}function Go(){var gr=Ia(),za=Dn(gr);if(V=arguments,me=this,tt=gr,za){if(Be===E)return wn(tt);if(Lt)return Am(Be),Be=Vl(li,p),on(tt)}return Be===E&&(Be=Vl(li,p)),Le}return p=Ra(p)||0,lr(w)&&(Dt=!!w.leading,Pe=(Lt="maxWait"in w)?Rr(Ra(w.maxWait)||0,p):Pe,Gt="trailing"in w?!!w.trailing:Gt),Go.cancel=function ao(){Be!==E&&Am(Be),Ct=0,V=tt=me=Be=E},Go.flush=function go(){return Be===E?Le:ci(Ia())},Go}var Vf=Yn(function(d,p){return lm(d,1,p)}),ig=Yn(function(d,p,w){return lm(d,Ra(p)||0,w)});function Na(d,p){if("function"!=typeof d||null!=p&&"function"!=typeof p)throw new Nr(N);var w=function V(){var me=arguments,Pe=p?p.apply(this,me):me[0],Le=V.cache;if(Le.has(Pe))return Le.get(Pe);var Be=d.apply(this,me);return V.cache=Le.set(Pe,Be)||Le,Be};return w.cache=new(Na.Cache||Da),w}function il(d){if("function"!=typeof d)throw new Nr(N);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}Na.Cache=Da;var Wf=km(function(d,p){var w=(p=1==p.length&&Fn(p[0])?Bn(p[0],qr(sn())):Bn(Wr(p,1),qr(sn()))).length;return Yn(function(V){for(var me=-1,Pe=Fr(V.length,w);++me<Pe;)V[me]=p[me].call(this,V[me]);return nt(d,this,V)})}),Wc=Yn(function(d,p){var w=Jr(p,Mo(Wc));return gs(d,A,E,p,w)}),np=Yn(function(d,p){var w=Jr(p,Mo(np));return gs(d,64,E,p,w)}),Qf=vs(function(d,p){return gs(d,256,E,E,E,p)});function Wa(d,p){return d===p||d!=d&&p!=p}var Gb=Yu(rf),Wb=Yu(function(d,p){return d>=p}),Qc=hm(function(){return arguments}())?hm:function(d){return mr(d)&&Qe.call(d,"callee")&&!sr.call(d,"callee")},Fn=ft.isArray,Qb=ne?qr(ne):function S_(d){return mr(d)&&ho(d)==Qt};function Ho(d){return null!=d&&$f(d.length)&&!rl(d)}function Dr(d){return mr(d)&&Ho(d)}var zl=d_||lh,Kb=he?qr(he):function k_(d){return mr(d)&&ho(d)==lt};function ag(d){if(!mr(d))return!1;var p=ho(d);return p==Mt||"[object DOMException]"==p||"string"==typeof d.message&&"string"==typeof d.name&&!ip(d)}function rl(d){if(!lr(d))return!1;var p=ho(d);return p==At||p==Jt||"[object AsyncFunction]"==p||"[object Proxy]"==p}function uv(d){return"number"==typeof d&&d==qn(d)}function $f(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=L}function lr(d){var p=typeof d;return null!=d&&("object"==p||"function"==p)}function mr(d){return null!=d&&"object"==typeof d}var pv=be?qr(be):function mm(d){return mr(d)&&zr(d)==Ft};function fv(d){return"number"==typeof d||mr(d)&&ho(d)==an}function ip(d){if(!mr(d)||ho(d)!=Ot)return!1;var p=xn(d);if(null===p)return!0;var w=Qe.call(p,"constructor")&&p.constructor;return"function"==typeof w&&w instanceof w&&ct.call(w)==Wt}var sg=Me?qr(Me):function M_(d){return mr(d)&&ho(d)==En},hv=Ue?qr(Ue):function Tr(d){return mr(d)&&zr(d)==ut};function Xf(d){return"string"==typeof d||!Fn(d)&&mr(d)&&ho(d)==xt}function pa(d){return"symbol"==typeof d||mr(d)&&ho(d)==It}var Yd=Je?qr(Je):function O_(d){return mr(d)&&$f(d.length)&&!!jn[ho(d)]},h0=Yu(Zl),m0=Yu(function(d,p){return d<=p});function mv(d){if(!d)return[];if(Ho(d))return Xf(d)?Vn(d):Qr(d);if(Zo&&d[Zo])return function Ml($e){for(var _t,ft=[];!(_t=$e.next()).done;)ft.push(_t.value);return ft}(d[Zo]());var p=zr(d);return(p==Ft?Td:p==ut?uo:Kc)(d)}function ol(d){return d?(d=Ra(d))===Q||d===-Q?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function qn(d){var p=ol(d),w=p%1;return p==p?w?p-w:p:0}function gv(d){return d?Ao(qn(d),0,Oe):0}function Ra(d){if("number"==typeof d)return d;if(pa(d))return NaN;if(lr(d)){var p="function"==typeof d.valueOf?d.valueOf():d;d=lr(p)?p+"":p}if("string"!=typeof d)return 0===d?d:+d;d=Dc(d);var w=bl.test(d);return w||no.test(d)?Zi(d.slice(2),w?2:8):fc.test(d)?NaN:+d}function _v(d){return Oa(d,Bo(d))}function Mi(d){return null==d?"":Uo(d)}var _0=Pa(function(d,p){if(Bl(p)||Ho(p))Oa(p,$r(p),d);else for(var w in p)Qe.call(p,w)&&Lo(d,w,p[w])}),vv=Pa(function(d,p){Oa(p,Bo(p),d)}),eh=Pa(function(d,p,w,V){Oa(p,Bo(p),d,V)}),v0=Pa(function(d,p,w,V){Oa(p,$r(p),d,V)}),b0=vs(ku),x0=Yn(function(d,p){d=Di(d);var w=-1,V=p.length,me=V>2?p[2]:E;for(me&&ro(p[0],p[1],me)&&(V=1);++w<V;)for(var Pe=p[w],Le=Bo(Pe),Be=-1,tt=Le.length;++Be<tt;){var Ct=Le[Be],Dt=d[Ct];(Dt===E||Wa(Dt,Ee[Ct])&&!Qe.call(d,Ct))&&(d[Ct]=Pe[Ct])}return d}),C0=Yn(function(d){return d.push(E,Zm),nt(bv,E,d)});function lg(d,p,w){var V=null==d?E:Ws(d,p);return V===E?w:V}function cg(d,p){return null!=d&&Hl(d,p,w_)}var E0=ju(function(d,p,w){null!=p&&"function"!=typeof p.toString&&(p=kt.call(p)),d[p]=w},$l(Po)),I0=ju(function(d,p,w){null!=p&&"function"!=typeof p.toString&&(p=kt.call(p)),Qe.call(d,p)?d[p].push(w):d[p]=[w]},sn),N0=Yn(Fc);function $r(d){return Ho(d)?Rc(d):lf(d)}function Bo(d){return Ho(d)?Rc(d,!0):function P_(d){if(!lr(d))return function Z_(d){var p=[];if(null!=d)for(var w in Di(d))p.push(w);return p}(d);var p=Bl(d),w=[];for(var V in d)"constructor"==V&&(p||!Qe.call(d,V))||w.push(V);return w}(d)}var Z0=Pa(function(d,p,w){Zc(d,p,w)}),bv=Pa(function(d,p,w,V){Zc(d,p,w,V)}),th=vs(function(d,p){var w={};if(null==d)return w;var V=!1;p=Bn(p,function(Pe){return Pe=zs(Pe,d),V||(V=Pe.length>1),Pe}),Oa(d,W(d),w),V&&(w=ca(w,7,_s));for(var me=p.length;me--;)Qs(w,p[me]);return w}),xs=vs(function(d,p){return null==d?{}:function vm(d,p){return ff(d,p,function(w,V){return cg(d,V)})}(d,p)});function Qa(d,p){if(null==d)return{};var w=Bn(W(d),function(V){return[V]});return p=sn(p),ff(d,w,function(V,me){return p(V,me[0])})}var dg=Rm($r),yv=Rm(Bo);function Kc(d){return null==d?[]:Sc(d,$r(d))}var wv=Ll(function(d,p,w){return p=p.toLowerCase(),d+(w?ye(p):p)});function ye(d){return hg(Mi(d).toLowerCase())}function qd(d){return(d=Mi(d))&&d.replace(hc,Yp).replace(Wi,"")}var op=Ll(function(d,p,w){return d+(w?"-":"")+p.toLowerCase()}),Dv=Ll(function(d,p,w){return d+(w?" ":"")+p.toLowerCase()}),pg=wf("toLowerCase"),j0=Ll(function(d,p,w){return d+(w?"_":"")+p.toLowerCase()}),rh=Ll(function(d,p,w){return d+(w?" ":"")+hg(p)}),Fv=Ll(function(d,p,w){return d+(w?" ":"")+p.toUpperCase()}),hg=wf("toUpperCase");function mg(d,p,w){return d=Mi(d),(p=w?E:p)===E?function Jp($e){return yr.test($e)}(d)?function Ac($e){return $e.match(qi)||[]}(d):function Qi($e){return $e.match(vl)||[]}(d):d.match(p)||[]}var ll=Yn(function(d,p){try{return nt(d,E,p)}catch(w){return ag(w)?w:new Tn(w)}}),ji=vs(function(d,p){return Tt(p,function(w){w=Yo(w),ka(d,w,jd(d[w],d))}),d});function $l(d){return function(){return d}}var oh=jl(),Uv=jl(!0);function Po(d){return d}function ah(d){return _m("function"==typeof d?d:ca(d,1))}var $c=Yn(function(d,p){return function(w){return Fc(w,d,p)}}),_g=Yn(function(d,p){return function(w){return Fc(d,w,p)}});function sh(d,p,w){var V=$r(p),me=Mu(p,V);null==w&&(!lr(p)||!me.length&&V.length)&&(w=p,p=d,d=this,me=Mu(p,$r(p)));var Pe=!(lr(w)&&"chain"in w&&!w.chain),Le=rl(d);return Tt(me,function(Be){var tt=p[Be];d[Be]=tt,Le&&(d.prototype[Be]=function(){var Ct=this.__chain__;if(Pe||Ct){var Dt=d(this.__wrapped__),Lt=Dt.__actions__=Qr(this.__actions__);return Lt.push({func:tt,args:arguments,thisArg:d}),Dt.__chain__=Ct,Dt}return tt.apply(d,nr([this.value()],arguments))})}),d}function Jd(){}var H0=Va(Bn),vg=Va(Rt),B0=Va(bn);function Jv(d){return Pd(d)?Fo(Yo(d)):function bm(d){return function(p){return Ws(p,d)}}(d)}var aT=Im(),G0=Im(!0);function bg(){return[]}function lh(){return!1}var Cg=Xs(function(d,p){return d+p},0),Tg=Df("ceil"),wg=Xs(function(d,p){return d/p},1),Q0=Df("floor"),Wv=Xs(function(d,p){return d*p},1),Qv=Df("round"),zv=Xs(function(d,p){return d-p},0);return we.after=function Xu(d,p){if("function"!=typeof p)throw new Nr(N);return d=qn(d),function(){if(--d<1)return p.apply(this,arguments)}},we.ary=Bf,we.assign=_0,we.assignIn=vv,we.assignInWith=eh,we.assignWith=v0,we.at=b0,we.before=Ud,we.bind=jd,we.bindAll=ji,we.bindKey=ep,we.castArray=function Yb(){if(!arguments.length)return[];var d=arguments[0];return Fn(d)?d:[d]},we.chain=Ae,we.chunk=function Rf(d,p,w){p=(w?ro(d,p,w):p===E)?1:Rr(qn(p),0);var V=null==d?0:d.length;if(!V||p<1)return[];for(var me=0,Pe=0,Le=ft(sa(V/p));me<V;)Le[Pe++]=da(d,me,me+=p);return Le},we.compact=function Hm(d){for(var p=-1,w=null==d?0:d.length,V=0,me=[];++p<w;){var Pe=d[p];Pe&&(me[V++]=Pe)}return me},we.concat=function Bm(){var d=arguments.length;if(!d)return[];for(var p=ft(d-1),w=arguments[0],V=d;V--;)p[V-1]=arguments[V];return nr(Fn(w)?Qr(w):[w],Wr(p,1))},we.cond=function gg(d){var p=null==d?0:d.length,w=sn();return d=p?Bn(d,function(V){if("function"!=typeof V[1])throw new Nr(N);return[w(V[0]),V[1]]}):[],Yn(function(V){for(var me=-1;++me<p;){var Pe=d[me];if(nt(Pe[0],this,V))return nt(Pe[1],this,V)}})},we.conforms=function Zv(d){return function Au(d){var p=$r(d);return function(w){return ef(w,d,p)}}(ca(d,1))},we.constant=$l,we.countBy=Ln,we.create=function y0(d,p){var w=fs(d);return null==p?w:Xp(w,p)},we.curry=function oo(d,p,w){var V=gs(d,8,E,E,E,E,E,p=w?E:p);return V.placeholder=oo.placeholder,V},we.curryRight=function Ql(d,p,w){var V=gs(d,16,E,E,E,E,E,p=w?E:p);return V.placeholder=Ql.placeholder,V},we.debounce=tp,we.defaults=x0,we.defaultsDeep=C0,we.defer=Vf,we.delay=ig,we.difference=L_,we.differenceBy=U_,we.differenceWith=j_,we.drop=function Y_(d,p,w){var V=null==d?0:d.length;return V?da(d,(p=w||p===E?1:qn(p))<0?0:p,V):[]},we.dropRight=function Ff(d,p,w){var V=null==d?0:d.length;return V?da(d,0,(p=V-(p=w||p===E?1:qn(p)))<0?0:p):[]},we.dropRightWhile=function q_(d,p){return d&&d.length?Ru(d,sn(p,3),!0,!0):[]},we.dropWhile=function J_(d,p){return d&&d.length?Ru(d,sn(p,3),!0):[]},we.fill=function Zf(d,p,w,V){var me=null==d?0:d.length;return me?(w&&"number"!=typeof w&&ro(d,p,w)&&(w=0,V=me),function C_(d,p,w,V){var me=d.length;for((w=qn(w))<0&&(w=-w>me?0:me+w),(V=V===E||V>me?me:qn(V))<0&&(V+=me),V=w>V?0:gv(V);w<V;)d[w++]=p;return d}(d,p,w,V)):[]},we.filter=function ri(d,p){return(Fn(d)?en:um)(d,sn(p,3))},we.flatMap=function Pi(d,p){return Wr(wr(d,p),1)},we.flatMapDeep=function Ci(d,p){return Wr(wr(d,p),Q)},we.flatMapDepth=function Ki(d,p,w){return w=w===E?1:qn(w),Wr(wr(d,p),w)},we.flatten=Jc,we.flattenDeep=function H_(d){return null!=d&&d.length?Wr(d,Q):[]},we.flattenDepth=function B_(d,p){return null!=d&&d.length?Wr(d,p=p===E?1:qn(p)):[]},we.flip=function rg(d){return gs(d,512)},we.flow=oh,we.flowRight=Uv,we.fromPairs=function qo(d){for(var p=-1,w=null==d?0:d.length,V={};++p<w;){var me=d[p];V[me[0]]=me[1]}return V},we.functions=function M0(d){return null==d?[]:Mu(d,$r(d))},we.functionsIn=function O0(d){return null==d?[]:Mu(d,Bo(d))},we.groupBy=Jo,we.initial=function V_(d){return null!=d&&d.length?da(d,0,-1):[]},we.intersection=G_,we.intersectionBy=zm,we.intersectionWith=W_,we.invert=E0,we.invertBy=I0,we.invokeMap=tl,we.iteratee=ah,we.keyBy=nl,we.keys=$r,we.keysIn=Bo,we.map=wr,we.mapKeys=function R0(d,p){var w={};return p=sn(p,3),Ha(d,function(V,me,Pe){ka(w,p(V,me,Pe),V)}),w},we.mapValues=function F0(d,p){var w={};return p=sn(p,3),Ha(d,function(V,me,Pe){ka(w,me,p(V,me,Pe))}),w},we.matches=function jv(d){return cf(ca(d,1))},we.matchesProperty=function Yv(d,p){return df(d,ca(p,1))},we.memoize=Na,we.merge=Z0,we.mergeWith=bv,we.method=$c,we.methodOf=_g,we.mixin=sh,we.negate=il,we.nthArg=function J0(d){return d=qn(d),Yn(function(p){return Pu(p,d)})},we.omit=th,we.omitBy=function L0(d,p){return Qa(d,il(sn(p)))},we.once=function Gf(d){return Ud(2,d)},we.orderBy=function ua(d,p,w,V){return null==d?[]:(Fn(p)||(p=null==p?[]:[p]),Fn(w=V?E:w)||(w=null==w?[]:[w]),pf(d,p,w))},we.over=H0,we.overArgs=Wf,we.overEvery=vg,we.overSome=B0,we.partial=Wc,we.partialRight=np,we.partition=Fd,we.pick=xs,we.pickBy=Qa,we.property=Jv,we.propertyOf=function V0(d){return function(p){return null==d?E:Ws(d,p)}},we.pull=Uf,we.pullAll=fn,we.pullAllBy=function Km(d,p,w){return d&&d.length&&p&&p.length?Eu(d,p,sn(w,2)):d},we.pullAllWith=function jf(d,p,w){return d&&d.length&&p&&p.length?Eu(d,p,E,w):d},we.pullAt=$m,we.range=aT,we.rangeRight=G0,we.rearg=Qf,we.reject=function Bc(d,p){return(Fn(d)?en:um)(d,il(sn(p,3)))},we.remove=function Xm(d,p){var w=[];if(!d||!d.length)return w;var V=-1,me=[],Pe=d.length;for(p=sn(p,3);++V<Pe;){var Le=d[V];p(Le,V,d)&&(w.push(Le),me.push(V))}return hf(d,me),w},we.rest=function zf(d,p){if("function"!=typeof d)throw new Nr(N);return Yn(d,p=p===E?p:qn(p))},we.reverse=$u,we.sampleSize=function Zd(d,p,w){return p=(w?ro(d,p,w):p===E)?1:qn(p),(Fn(d)?Sa:Aa)(d,p)},we.set=function rp(d,p,w){return null==d?d:Ma(d,p,w)},we.setWith=function rn(d,p,w,V){return V="function"==typeof V?V:E,null==d?d:Ma(d,p,w,V)},we.shuffle=function Wl(d){return(Fn(d)?Su:E_)(d)},we.slice=function eg(d,p,w){var V=null==d?0:d.length;return V?(w&&"number"!=typeof w&&ro(d,p,w)?(p=0,w=V):(p=null==p?0:qn(p),w=w===E?V:qn(w)),da(d,p,w)):[]},we.sortBy=Ld,we.sortedUniq=function tv(d){return d&&d.length?Cm(d):[]},we.sortedUniqBy=function nv(d,p){return d&&d.length?Cm(d,sn(p,2)):[]},we.split=function Ov(d,p,w){return w&&"number"!=typeof w&&ro(d,p,w)&&(p=w=E),(w=w===E?Oe:w>>>0)?(d=Mi(d))&&("string"==typeof p||null!=p&&!sg(p))&&!(p=Uo(p))&&ds(d)?Ks(Vn(d),0,w):d.split(p,w):[]},we.spread=function Kf(d,p){if("function"!=typeof d)throw new Nr(N);return p=null==p?0:Rr(qn(p),0),Yn(function(w){var V=w[p],me=Ks(w,0,p);return V&&nr(me,V),nt(d,this,me)})},we.tail=function iv(d){var p=null==d?0:d.length;return p?da(d,1,p):[]},we.take=function rv(d,p,w){return d&&d.length?da(d,0,(p=w||p===E?1:qn(p))<0?0:p):[]},we.takeRight=function Jf(d,p,w){var V=null==d?0:d.length;return V?da(d,(p=V-(p=w||p===E?1:qn(p)))<0?0:p,V):[]},we.takeRightWhile=function ov(d,p){return d&&d.length?Ru(d,sn(p,3),!1,!0):[]},we.takeWhile=function av(d,p){return d&&d.length?Ru(d,sn(p,3)):[]},we.tap=function Ie(d,p){return p(d),d},we.throttle=function Ub(d,p,w){var V=!0,me=!0;if("function"!=typeof d)throw new Nr(N);return lr(w)&&(V="leading"in w?!!w.leading:V,me="trailing"in w?!!w.trailing:me),tp(d,p,{leading:V,maxWait:p,trailing:me})},we.thru=Ve,we.toArray=mv,we.toPairs=dg,we.toPairsIn=yv,we.toPath=function Hv(d){return Fn(d)?Bn(d,Yo):pa(d)?[d]:Qr(Ku(Mi(d)))},we.toPlainObject=_v,we.transform=function zc(d,p,w){var V=Fn(d),me=V||zl(d)||Yd(d);if(p=sn(p,4),null==w){var Pe=d&&d.constructor;w=me?V?new Pe:[]:lr(d)&&rl(Pe)?fs(xn(d)):{}}return(me?Tt:Ha)(d,function(Le,Be,tt){return p(w,Le,Be,tt)}),w},we.unary=function jb(d){return Bf(d,1)},we.union=sv,we.unionBy=lv,we.unionWith=Hc,we.uniq=function cv(d){return d&&d.length?Ba(d):[]},we.uniqBy=function dv(d,p){return d&&d.length?Ba(d,sn(p,2)):[]},we.uniqWith=function tg(d,p){return p="function"==typeof p?p:E,d&&d.length?Ba(d,E,p):[]},we.unset=function xv(d,p){return null==d||Qs(d,p)},we.unzip=Rd,we.unzipWith=Hf,we.update=function Cv(d,p,w){return null==d?d:wm(d,p,xf(w))},we.updateWith=function ug(d,p,w,V){return V="function"==typeof V?V:E,null==d?d:wm(d,p,xf(w),V)},we.values=Kc,we.valuesIn=function nh(d){return null==d?[]:Sc(d,Bo(d))},we.without=ng,we.words=mg,we.wrap=function og(d,p){return Wc(xf(p),d)},we.xor=m,we.xorBy=v,we.xorWith=f,we.zip=g,we.zipObject=function k(d,p){return Sm(d||[],p||[],Lo)},we.zipObjectDeep=function F(d,p){return Sm(d||[],p||[],Ma)},we.zipWith=pe,we.entries=dg,we.entriesIn=yv,we.extend=vv,we.extendWith=eh,sh(we,we),we.add=Cg,we.attempt=ll,we.camelCase=wv,we.capitalize=ye,we.ceil=Tg,we.clamp=function Tv(d,p,w){return w===E&&(w=p,p=E),w!==E&&(w=(w=Ra(w))==w?w:0),p!==E&&(p=(p=Ra(p))==p?p:0),Ao(Ra(d),p,w)},we.clone=function qb(d){return ca(d,4)},we.cloneDeep=function Hb(d){return ca(d,5)},we.cloneDeepWith=function Bb(d,p){return ca(d,5,p="function"==typeof p?p:E)},we.cloneWith=function Jb(d,p){return ca(d,4,p="function"==typeof p?p:E)},we.conformsTo=function Vb(d,p){return null==p||ef(d,p,$r(p))},we.deburr=qd,we.defaultTo=function Lv(d,p){return null==d||d!=d?p:d},we.divide=wg,we.endsWith=function Ti(d,p,w){d=Mi(d),p=Uo(p);var V=d.length,me=w=w===E?V:Ao(qn(w),0,V);return(w-=p.length)>=0&&d.slice(w,me)==p},we.eq=Wa,we.escape=function Mn(d){return(d=Mi(d))&&_a.test(d)?d.replace(Br,qp):d},we.escapeRegExp=function Vo(d){return(d=Mi(d))&&uc.test(d)?d.replace(Or,"\\$&"):d},we.every=function Fi(d,p,w){var V=Fn(d)?Rt:dm;return w&&ro(d,p,w)&&(p=E),V(d,sn(p,3))},we.find=Xn,we.findIndex=Vm,we.findKey=function T0(d,p){return Ui(d,sn(p,3),Ha)},we.findLast=si,we.findLastIndex=Gm,we.findLastKey=function w0(d,p){return Ui(d,sn(p,3),nf)},we.floor=Q0,we.forEach=or,we.forEachRight=$i,we.forIn=function D0(d,p){return null==d?d:tf(d,sn(p,3),Bo)},we.forInRight=function S0(d,p){return null==d?d:pm(d,sn(p,3),Bo)},we.forOwn=function k0(d,p){return d&&Ha(d,sn(p,3))},we.forOwnRight=function A0(d,p){return d&&nf(d,sn(p,3))},we.get=lg,we.gt=Gb,we.gte=Wb,we.has=function P0(d,p){return null!=d&&Hl(d,p,T_)},we.hasIn=cg,we.head=Wm,we.identity=Po,we.includes=function Kr(d,p,w,V){d=Ho(d)?d:Kc(d),w=w&&!V?qn(w):0;var me=d.length;return w<0&&(w=Rr(me+w,0)),Xf(d)?w<=me&&d.indexOf(p,w)>-1:!!me&&Er(d,p,w)>-1},we.indexOf=function Qm(d,p,w){var V=null==d?0:d.length;if(!V)return-1;var me=null==w?0:qn(w);return me<0&&(me=Rr(V+me,0)),Er(d,p,me)},we.inRange=function U0(d,p,w){return p=ol(p),w===E?(w=p,p=0):w=ol(w),function fm(d,p,w){return d>=Fr(p,w)&&d<Rr(p,w)}(d=Ra(d),p,w)},we.invoke=N0,we.isArguments=Qc,we.isArray=Fn,we.isArrayBuffer=Qb,we.isArrayLike=Ho,we.isArrayLikeObject=Dr,we.isBoolean=function zb(d){return!0===d||!1===d||mr(d)&&ho(d)==it},we.isBuffer=zl,we.isDate=Kb,we.isElement=function $b(d){return mr(d)&&1===d.nodeType&&!ip(d)},we.isEmpty=function Xb(d){if(null==d)return!0;if(Ho(d)&&(Fn(d)||"string"==typeof d||"function"==typeof d.splice||zl(d)||Yd(d)||Qc(d)))return!d.length;var p=zr(d);if(p==Ft||p==ut)return!d.size;if(Bl(d))return!lf(d).length;for(var w in d)if(Qe.call(d,w))return!1;return!0},we.isEqual=function e0(d,p){return Md(d,p)},we.isEqualWith=function t0(d,p,w){var V=(w="function"==typeof w?w:E)?w(d,p):E;return V===E?Md(d,p,E,w):!!V},we.isError=ag,we.isFinite=function n0(d){return"number"==typeof d&&em(d)},we.isFunction=rl,we.isInteger=uv,we.isLength=$f,we.isMap=pv,we.isMatch=function r0(d,p){return d===p||sf(d,p,rr(p))},we.isMatchWith=function o0(d,p,w){return w="function"==typeof w?w:E,sf(d,p,rr(p),w)},we.isNaN=function a0(d){return fv(d)&&d!=+d},we.isNative=function s0(d){if(Bu(d))throw new Tn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return gm(d)},we.isNil=function c0(d){return null==d},we.isNull=function l0(d){return null===d},we.isNumber=fv,we.isObject=lr,we.isObjectLike=mr,we.isPlainObject=ip,we.isRegExp=sg,we.isSafeInteger=function d0(d){return uv(d)&&d>=-L&&d<=L},we.isSet=hv,we.isString=Xf,we.isSymbol=pa,we.isTypedArray=Yd,we.isUndefined=function u0(d){return d===E},we.isWeakMap=function p0(d){return mr(d)&&zr(d)==jt},we.isWeakSet=function f0(d){return mr(d)&&"[object WeakSet]"==ho(d)},we.join=function Q_(d,p){return null==d?"":u_.call(d,p)},we.kebabCase=op,we.last=Oo,we.lastIndexOf=function Lf(d,p,w){var V=null==d?0:d.length;if(!V)return-1;var me=V;return w!==E&&(me=(me=qn(w))<0?Rr(V+me,0):Fr(me,V-1)),p==p?function gu($e,_t,ft){for(var Vt=ft+1;Vt--;)if($e[Vt]===_t)return Vt;return Vt}(d,p,me):Ta(d,Gr,me,!0)},we.lowerCase=Dv,we.lowerFirst=pg,we.lt=h0,we.lte=m0,we.max=function Vv(d){return d&&d.length?Ad(d,Po,rf):E},we.maxBy=function z0(d,p){return d&&d.length?Ad(d,sn(p,2),rf):E},we.mean=function K0(d){return ra(d,Po)},we.meanBy=function Gv(d,p){return ra(d,sn(p,2))},we.min=function $0(d){return d&&d.length?Ad(d,Po,Zl):E},we.minBy=function X0(d,p){return d&&d.length?Ad(d,sn(p,2),Zl):E},we.stubArray=bg,we.stubFalse=lh,we.stubObject=function W0(){return{}},we.stubString=function ch(){return""},we.stubTrue=function yg(){return!0},we.multiply=Wv,we.nth=function z_(d,p){return d&&d.length?Pu(d,qn(p)):E},we.noConflict=function qv(){return ei._===this&&(ei._=Xt),this},we.noop=Jd,we.now=Ia,we.pad=function ih(d,p,w){d=Mi(d);var V=(p=qn(p))?qs(d):0;if(!p||V>=p)return d;var me=(p-V)/2;return Yc(_u(me),w)+d+Yc(sa(me),w)},we.padEnd=function Sv(d,p,w){d=Mi(d);var V=(p=qn(p))?qs(d):0;return p&&V<p?d+Yc(p-V,w):d},we.padStart=function kv(d,p,w){d=Mi(d);var V=(p=qn(p))?qs(d):0;return p&&V<p?Yc(p-V,w)+d:d},we.parseInt=function sl(d,p,w){return w||null==p?p=0:p&&(p=+p),tm(Mi(d).replace(ns,""),p||0)},we.random=function al(d,p,w){if(w&&"boolean"!=typeof w&&ro(d,p,w)&&(p=w=E),w===E&&("boolean"==typeof p?(w=p,p=E):"boolean"==typeof d&&(w=d,d=E)),d===E&&p===E?(d=0,p=1):(d=ol(d),p===E?(p=d,d=0):p=ol(p)),d>p){var V=d;d=p,p=V}if(w||d%1||p%1){var me=Vp();return Fr(d+me*(p-d+js("1e-"+((me+"").length-1))),p)}return Iu(d,p)},we.reduce=function bs(d,p,w){var V=Fn(d)?ti:wc,me=arguments.length<3;return V(d,sn(p,4),w,me,fo)},we.reduceRight=function Gl(d,p,w){var V=Fn(d)?Li:wc,me=arguments.length<3;return V(d,sn(p,4),w,me,cm)},we.repeat=function Av(d,p,w){return p=(w?ro(d,p,w):p===E)?1:qn(p),Nu(Mi(d),p)},we.replace=function Mv(){var d=arguments,p=Mi(d[0]);return d.length<3?p:p.replace(d[1],d[2])},we.result=function yi(d,p,w){var V=-1,me=(p=zs(p,d)).length;for(me||(me=1,d=E);++V<me;){var Pe=null==d?E:d[Yo(p[V])];Pe===E&&(V=me,Pe=w),d=rl(Pe)?Pe.call(d):Pe}return d},we.round=Qv,we.runInContext=$e,we.sample=function Vc(d){return(Fn(d)?hs:mf)(d)},we.size=function ys(d){if(null==d)return 0;if(Ho(d))return Xf(d)?qs(d):d.length;var p=zr(d);return p==Ft||p==ut?d.size:lf(d).length},we.snakeCase=j0,we.some=function Gc(d,p,w){var V=Fn(d)?bn:xm;return w&&ro(d,p,w)&&(p=E),V(d,sn(p,3))},we.sortedIndex=function Yf(d,p){return Lc(d,p)},we.sortedIndexBy=function K_(d,p,w){return vf(d,p,sn(w,2))},we.sortedIndexOf=function $_(d,p){var w=null==d?0:d.length;if(w){var V=Lc(d,p);if(V<w&&Wa(d[V],p))return V}return-1},we.sortedLastIndex=function X_(d,p){return Lc(d,p,!0)},we.sortedLastIndexBy=function ev(d,p,w){return vf(d,p,sn(w,2),!0)},we.sortedLastIndexOf=function qf(d,p){if(null!=d&&d.length){var V=Lc(d,p,!0)-1;if(Wa(d[V],p))return V}return-1},we.startCase=rh,we.startsWith=function Pv(d,p,w){return d=Mi(d),w=null==w?0:Ao(qn(w),0,d.length),p=Uo(p),d.slice(w,w+p.length)==p},we.subtract=zv,we.sum=function dh(d){return d&&d.length?kl(d,Po):0},we.sumBy=function Kv(d,p){return d&&d.length?kl(d,sn(p,2)):0},we.template=function Ev(d,p,w){var V=we.templateSettings;w&&ro(d,p,w)&&(p=E),d=Mi(d),p=eh({},p,V,Fm);var Be,tt,me=eh({},p.imports,V.imports,Fm),Pe=$r(me),Le=Sc(me,Pe),Ct=0,Dt=p.interpolate||rs,Lt="__p += '",Gt=ps((p.escape||rs).source+"|"+Dt.source+"|"+(Dt===To?La:rs).source+"|"+(p.evaluate||rs).source+"|$","g"),on="//# sourceURL="+(Qe.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pt+"]")+"\n";d.replace(Gt,function(Dn,li,ci,ao,go,Go){return ci||(ci=ao),Lt+=d.slice(Ct,Go).replace(_d,Al),li&&(Be=!0,Lt+="' +\n__e("+li+") +\n'"),go&&(tt=!0,Lt+="';\n"+go+";\n__p += '"),ci&&(Lt+="' +\n((__t = ("+ci+")) == null ? '' : __t) +\n'"),Ct=Go+Dn.length,Dn}),Lt+="';\n";var wn=Qe.call(p,"variable")&&p.variable;if(wn){if(ba.test(wn))throw new Tn("Invalid `variable` option passed into `_.template`")}else Lt="with (obj) {\n"+Lt+"\n}\n";Lt=(tt?Lt.replace(gi,""):Lt).replace(Hr,"$1").replace(Ro,"$1;"),Lt="function("+(wn||"obj")+") {\n"+(wn?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Be?", __e = _.escape":"")+(tt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Lt+"return __p\n}";var Gn=ll(function(){return zn(Pe,on+"return "+Lt).apply(E,Le)});if(Gn.source=Lt,ag(Gn))throw Gn;return Gn},we.times=function xg(d,p){if((d=qn(d))<1||d>L)return[];var w=Oe,V=Fr(d,Oe);p=sn(p),d-=Oe;for(var me=ni(V,p);++w<d;)p(w);return me},we.toFinite=ol,we.toInteger=qn,we.toLength=gv,we.toLower=function fg(d){return Mi(d).toLowerCase()},we.toNumber=Ra,we.toSafeInteger=function g0(d){return d?Ao(qn(d),-L,L):0===d?d:0},we.toString=Mi,we.toUpper=function Iv(d){return Mi(d).toUpperCase()},we.trim=function Y0(d,p,w){if((d=Mi(d))&&(w||p===E))return Dc(d);if(!d||!(p=Uo(p)))return d;var V=Vn(d),me=Vn(p);return Ks(V,fu(V,me),Cd(V,me)+1).join("")},we.trimEnd=function Nv(d,p,w){if((d=Mi(d))&&(w||p===E))return d.slice(0,Js(d)+1);if(!d||!(p=Uo(p)))return d;var V=Vn(d);return Ks(V,0,Cd(V,Vn(p))+1).join("")},we.trimStart=function Rv(d,p,w){if((d=Mi(d))&&(w||p===E))return d.replace(ns,"");if(!d||!(p=Uo(p)))return d;var V=Vn(d);return Ks(V,fu(V,Vn(p))).join("")},we.truncate=function q0(d,p){var w=30,V="...";if(lr(p)){var me="separator"in p?p.separator:me;w="length"in p?qn(p.length):w,V="omission"in p?Uo(p.omission):V}var Pe=(d=Mi(d)).length;if(ds(d)){var Le=Vn(d);Pe=Le.length}if(w>=Pe)return d;var Be=w-qs(V);if(Be<1)return V;var tt=Le?Ks(Le,0,Be).join(""):d.slice(0,Be);if(me===E)return tt+V;if(Le&&(Be+=tt.length-Be),sg(me)){if(d.slice(Be).search(me)){var Ct,Dt=tt;for(me.global||(me=ps(me.source,Mi(is.exec(me))+"g")),me.lastIndex=0;Ct=me.exec(Dt);)var Lt=Ct.index;tt=tt.slice(0,Lt===E?Be:Lt)}}else if(d.indexOf(Uo(me),Be)!=Be){var Gt=tt.lastIndexOf(me);Gt>-1&&(tt=tt.slice(0,Gt))}return tt+V},we.unescape=function Kl(d){return(d=Mi(d))&&ar.test(d)?d.replace(Vi,ko):d},we.uniqueId=function Bv(d){var p=++bt;return Mi(d)+p},we.upperCase=Fv,we.upperFirst=hg,we.each=or,we.eachRight=$i,we.first=Wm,sh(we,function(){var d={};return Ha(we,function(p,w){Qe.call(we.prototype,w)||(d[w]=p)}),d}(),{chain:!1}),we.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){we[d].placeholder=we}),Tt(["drop","take"],function(d,p){Kn.prototype[d]=function(w){w=w===E?1:Rr(qn(w),0);var V=this.__filtered__&&!p?new Kn(this):this.clone();return V.__filtered__?V.__takeCount__=Fr(w,V.__takeCount__):V.__views__.push({size:Fr(w,Oe),type:d+(V.__dir__<0?"Right":"")}),V},Kn.prototype[d+"Right"]=function(w){return this.reverse()[d](w).reverse()}}),Tt(["filter","map","takeWhile"],function(d,p){var w=p+1,V=1==w||3==w;Kn.prototype[d]=function(me){var Pe=this.clone();return Pe.__iteratees__.push({iteratee:sn(me,3),type:w}),Pe.__filtered__=Pe.__filtered__||V,Pe}}),Tt(["head","last"],function(d,p){var w="take"+(p?"Right":"");Kn.prototype[d]=function(){return this[w](1).value()[0]}}),Tt(["initial","tail"],function(d,p){var w="drop"+(p?"":"Right");Kn.prototype[d]=function(){return this.__filtered__?new Kn(this):this[w](1)}}),Kn.prototype.compact=function(){return this.filter(Po)},Kn.prototype.find=function(d){return this.filter(d).head()},Kn.prototype.findLast=function(d){return this.reverse().find(d)},Kn.prototype.invokeMap=Yn(function(d,p){return"function"==typeof d?new Kn(this):this.map(function(w){return Fc(w,d,p)})}),Kn.prototype.reject=function(d){return this.filter(il(sn(d)))},Kn.prototype.slice=function(d,p){d=qn(d);var w=this;return w.__filtered__&&(d>0||p<0)?new Kn(w):(d<0?w=w.takeRight(-d):d&&(w=w.drop(d)),p!==E&&(w=(p=qn(p))<0?w.dropRight(-p):w.take(p-d)),w)},Kn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Kn.prototype.toArray=function(){return this.take(Oe)},Ha(Kn.prototype,function(d,p){var w=/^(?:filter|find|map|reject)|While$/.test(p),V=/^(?:head|last)$/.test(p),me=we[V?"take"+("last"==p?"Right":""):p],Pe=V||/^find/.test(p);!me||(we.prototype[p]=function(){var Le=this.__wrapped__,Be=V?[1]:arguments,tt=Le instanceof Kn,Ct=Be[0],Dt=tt||Fn(Le),Lt=function(ci){var ao=me.apply(we,nr([ci],Be));return V&&Gt?ao[0]:ao};Dt&&w&&"function"==typeof Ct&&1!=Ct.length&&(tt=Dt=!1);var Gt=this.__chain__,on=!!this.__actions__.length,wn=Pe&&!Gt,Gn=tt&&!on;if(!Pe&&Dt){Le=Gn?Le:new Kn(this);var Dn=d.apply(Le,Be);return Dn.__actions__.push({func:Ve,args:[Lt],thisArg:E}),new Zr(Dn,Gt)}return wn&&Gn?d.apply(this,Be):(Dn=this.thru(Lt),wn?V?Dn.value()[0]:Dn.value():Dn)})}),Tt(["pop","push","shift","sort","splice","unshift"],function(d){var p=oa[d],w=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",V=/^(?:pop|shift)$/.test(d);we.prototype[d]=function(){var me=arguments;if(V&&!this.__chain__){var Pe=this.value();return p.apply(Fn(Pe)?Pe:[],me)}return this[w](function(Le){return p.apply(Fn(Le)?Le:[],me)})}}),Ha(Kn.prototype,function(d,p){var w=we[p];if(w){var V=w.name+"";Qe.call(Il,V)||(Il[V]=[]),Il[V].push({name:p,func:w})}}),Il[$s(E,2).name]=[{name:"wrapper",func:E}],Kn.prototype.clone=function Lb(){var d=new Kn(this.__wrapped__);return d.__actions__=Qr(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Qr(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Qr(this.__views__),d},Kn.prototype.reverse=function g_(){if(this.__filtered__){var d=new Kn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},Kn.prototype.value=function __(){var d=this.__wrapped__.value(),p=this.__dir__,w=Fn(d),V=p<0,me=w?d.length:0,Pe=function kf(d,p,w){for(var V=-1,me=w.length;++V<me;){var Pe=w[V],Le=Pe.size;switch(Pe.type){case"drop":d+=Le;break;case"dropRight":p-=Le;break;case"take":p=Fr(p,d+Le);break;case"takeRight":d=Rr(d,p-Le)}}return{start:d,end:p}}(0,me,this.__views__),Le=Pe.start,Be=Pe.end,tt=Be-Le,Ct=V?Be:Le-1,Dt=this.__iteratees__,Lt=Dt.length,Gt=0,on=Fr(tt,this.__takeCount__);if(!w||!V&&me==tt&&on==tt)return Dm(d,this.__actions__);var wn=[];e:for(;tt--&&Gt<on;){for(var Gn=-1,Dn=d[Ct+=p];++Gn<Lt;){var li=Dt[Gn],ao=li.type,go=(0,li.iteratee)(Dn);if(2==ao)Dn=go;else if(!go){if(1==ao)continue e;break e}}wn[Gt++]=Dn}return wn},we.prototype.at=st,we.prototype.chain=function Nt(){return Ae(this)},we.prototype.commit=function Ut(){return new Zr(this.value(),this.__chain__)},we.prototype.next=function Yt(){this.__values__===E&&(this.__values__=mv(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?E:this.__values__[this.__index__++]}},we.prototype.plant=function _n(d){for(var p,w=this;w instanceof Tu;){var V=Nf(w);V.__index__=0,V.__values__=E,p?me.__wrapped__=V:p=V;var me=V;w=w.__wrapped__}return me.__wrapped__=d,p},we.prototype.reverse=function vn(){var d=this.__wrapped__;if(d instanceof Kn){var p=d;return this.__actions__.length&&(p=new Kn(this)),(p=p.reverse()).__actions__.push({func:Ve,args:[$u],thisArg:E}),new Zr(p,this.__chain__)}return this.thru($u)},we.prototype.toJSON=we.prototype.valueOf=we.prototype.value=function ii(){return Dm(this.__wrapped__,this.__actions__)},we.prototype.first=we.prototype.head,Zo&&(we.prototype[Zo]=function zt(){return this}),we}();ei._=us,(D=function(){return us}.call(ae,J,ae,Re))!==E&&(Re.exports=D)}.call(this)},16036:function(module,__unused_webpack_exports,__webpack_require__){var _assertThisInitialized=__webpack_require__(66115).default,_get=__webpack_require__(41588).default,_getPrototypeOf=__webpack_require__(73808).default,_toConsumableArray=__webpack_require__(861).default,_slicedToArray=__webpack_require__(27424).default,_createForOfIteratorHelper=__webpack_require__(74704).default,_inherits=__webpack_require__(61655).default,_createSuper=__webpack_require__(26389).default,_regeneratorRuntime=__webpack_require__(17061).default,_asyncToGenerator=__webpack_require__(17156).default,_classCallCheck=__webpack_require__(56690).default,_createClass=__webpack_require__(89728).default,J;J=function(){return function(Re){var ae={};function J(D){if(ae[D])return ae[D].exports;var E=ae[D]={i:D,l:!1,exports:{}};return Re[D].call(E.exports,E,E.exports,J),E.l=!0,E.exports}return J.m=Re,J.c=ae,J.d=function(D,E,Te){J.o(D,E)||Object.defineProperty(D,E,{enumerable:!0,get:Te})},J.r=function(D){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})},J.t=function(D,E){if(1&E&&(D=J(D)),8&E||4&E&&"object"==typeof D&&D&&D.__esModule)return D;var Te=Object.create(null);if(J.r(Te),Object.defineProperty(Te,"default",{enumerable:!0,value:D}),2&E&&"string"!=typeof D)for(var _ in D)J.d(Te,_,function(e){return D[e]}.bind(null,_));return Te},J.n=function(D){var E=D&&D.__esModule?function(){return D.default}:function(){return D};return J.d(E,"a",E),E},J.o=function(D,E){return Object.prototype.hasOwnProperty.call(D,E)},J.p="",J(J.s=0)}([function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),Object.defineProperty(ae,"addLinkAttributes",{enumerable:!0,get:function(){return D.addLinkAttributes}}),Object.defineProperty(ae,"getFilenameFromUrl",{enumerable:!0,get:function(){return D.getFilenameFromUrl}}),Object.defineProperty(ae,"LinkTarget",{enumerable:!0,get:function(){return D.LinkTarget}}),Object.defineProperty(ae,"loadScript",{enumerable:!0,get:function(){return D.loadScript}}),Object.defineProperty(ae,"PDFDateString",{enumerable:!0,get:function(){return D.PDFDateString}}),Object.defineProperty(ae,"RenderingCancelledException",{enumerable:!0,get:function(){return D.RenderingCancelledException}}),Object.defineProperty(ae,"build",{enumerable:!0,get:function(){return E.build}}),Object.defineProperty(ae,"getDocument",{enumerable:!0,get:function(){return E.getDocument}}),Object.defineProperty(ae,"LoopbackPort",{enumerable:!0,get:function(){return E.LoopbackPort}}),Object.defineProperty(ae,"PDFDataRangeTransport",{enumerable:!0,get:function(){return E.PDFDataRangeTransport}}),Object.defineProperty(ae,"PDFWorker",{enumerable:!0,get:function(){return E.PDFWorker}}),Object.defineProperty(ae,"version",{enumerable:!0,get:function(){return E.version}}),Object.defineProperty(ae,"CMapCompressionType",{enumerable:!0,get:function(){return Te.CMapCompressionType}}),Object.defineProperty(ae,"createObjectURL",{enumerable:!0,get:function(){return Te.createObjectURL}}),Object.defineProperty(ae,"createPromiseCapability",{enumerable:!0,get:function(){return Te.createPromiseCapability}}),Object.defineProperty(ae,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return Te.createValidAbsoluteUrl}}),Object.defineProperty(ae,"InvalidPDFException",{enumerable:!0,get:function(){return Te.InvalidPDFException}}),Object.defineProperty(ae,"MissingPDFException",{enumerable:!0,get:function(){return Te.MissingPDFException}}),Object.defineProperty(ae,"OPS",{enumerable:!0,get:function(){return Te.OPS}}),Object.defineProperty(ae,"PasswordResponses",{enumerable:!0,get:function(){return Te.PasswordResponses}}),Object.defineProperty(ae,"PermissionFlag",{enumerable:!0,get:function(){return Te.PermissionFlag}}),Object.defineProperty(ae,"removeNullCharacters",{enumerable:!0,get:function(){return Te.removeNullCharacters}}),Object.defineProperty(ae,"shadow",{enumerable:!0,get:function(){return Te.shadow}}),Object.defineProperty(ae,"UnexpectedResponseException",{enumerable:!0,get:function(){return Te.UnexpectedResponseException}}),Object.defineProperty(ae,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return Te.UNSUPPORTED_FEATURES}}),Object.defineProperty(ae,"Util",{enumerable:!0,get:function(){return Te.Util}}),Object.defineProperty(ae,"VerbosityLevel",{enumerable:!0,get:function(){return Te.VerbosityLevel}}),Object.defineProperty(ae,"AnnotationLayer",{enumerable:!0,get:function(){return _.AnnotationLayer}}),Object.defineProperty(ae,"apiCompatibilityParams",{enumerable:!0,get:function(){return e.apiCompatibilityParams}}),Object.defineProperty(ae,"GlobalWorkerOptions",{enumerable:!0,get:function(){return N.GlobalWorkerOptions}}),Object.defineProperty(ae,"renderTextLayer",{enumerable:!0,get:function(){return ge.renderTextLayer}}),Object.defineProperty(ae,"SVGGraphics",{enumerable:!0,get:function(){return b.SVGGraphics}});var D=J(1),E=J(5),Te=J(2),_=J(16),e=J(7),N=J(10),ge=J(17),b=J(18);if(J(4).isNodeJS){var Ce=J(19).PDFNodeStream;(0,E.setPDFNetworkStreamFactory)(function(se){return new Ce(se)})}else{var z,ue=J(22).PDFNetworkStream;(0,D.isFetchSupported)()&&(z=J(23).PDFFetchStream),(0,E.setPDFNetworkStreamFactory)(function(se){return z&&(0,D.isValidFetchUrl)(se.url)?new z(se):new ue(se)})}},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.addLinkAttributes=function H(Y){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=S.url,G=S.target,y=S.rel,oe=S.enabled,ce=void 0===oe||oe;(0,D.assert)(A&&"string"==typeof A,'addLinkAttributes: A valid "url" parameter must provided.');var q=(0,D.removeNullCharacters)(A);ce?Y.href=Y.title=q:(Y.href="",Y.title="Disabled: ".concat(q),Y.onclick=function(){return!1});var B="";switch(G){case ie.NONE:break;case ie.SELF:B="_self";break;case ie.BLANK:B="_blank";break;case ie.PARENT:B="_parent";break;case ie.TOP:B="_top"}Y.target=B,Y.rel="string"==typeof y?y:E},ae.getFilenameFromUrl=function _e(Y){var S=Y.indexOf("#"),A=Y.indexOf("?"),G=Math.min(S>0?S:Y.length,A>0?A:Y.length);return Y.substring(Y.lastIndexOf("/",G)+1,G)},ae.isFetchSupported=Ce,ae.isValidFetchUrl=ue,ae.loadScript=function z(Y){return new Promise(function(S,A){var G=document.createElement("script");G.src=Y,G.onload=S,G.onerror=function(){A(new Error("Cannot load script at: ".concat(G.src)))},(document.head||document.documentElement).appendChild(G)})},ae.deprecated=function se(Y){console.log("Deprecated API usage: "+Y)},ae.PDFDateString=ae.StatTimer=ae.DOMSVGFactory=ae.DOMCMapReaderFactory=ae.DOMCanvasFactory=ae.DEFAULT_LINK_REL=ae.LinkTarget=ae.RenderingCancelledException=ae.PageViewport=void 0;var D=J(2),E="noopener noreferrer nofollow";ae.DEFAULT_LINK_REL=E;var Te="http://www.w3.org/2000/svg";ae.DOMCanvasFactory=function(){function Y(){_classCallCheck(this,Y)}return _createClass(Y,[{key:"create",value:function(A,G){if(A<=0||G<=0)throw new Error("Invalid canvas size");var y=document.createElement("canvas"),oe=y.getContext("2d");return y.width=A,y.height=G,{canvas:y,context:oe}}},{key:"reset",value:function(A,G,y){if(!A.canvas)throw new Error("Canvas is not specified");if(G<=0||y<=0)throw new Error("Invalid canvas size");A.canvas.width=G,A.canvas.height=y}},{key:"destroy",value:function(A){if(!A.canvas)throw new Error("Canvas is not specified");A.canvas.width=0,A.canvas.height=0,A.canvas=null,A.context=null}}]),Y}();var e=function(){function Y(S){var A=S.baseUrl,G=void 0===A?null:A,y=S.isCompressed,oe=void 0!==y&&y;_classCallCheck(this,Y),this.baseUrl=G,this.isCompressed=oe}return _createClass(Y,[{key:"fetch",value:function(S){function A(G){return S.apply(this,arguments)}return A.toString=function(){return S.toString()},A}(function(){var S=_asyncToGenerator(function(A){var G=this,y=A.name;return _regeneratorRuntime().mark(function oe(){var ce,q;return _regeneratorRuntime().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(G.baseUrl){ee.next=2;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 2:if(y){ee.next=4;break}throw new Error("CMap name must be specified.");case 4:if(ce=G.baseUrl+y+(G.isCompressed?".bcmap":""),q=G.isCompressed?D.CMapCompressionType.BINARY:D.CMapCompressionType.NONE,!Ce()||!ue(ce,document.baseURI)){ee.next=8;break}return ee.abrupt("return",fetch(ce).then(function(){var te=_asyncToGenerator(_regeneratorRuntime().mark(function K(I){var M;return _regeneratorRuntime().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(I.ok){L.next=2;break}throw new Error(I.statusText);case 2:if(!G.isCompressed){L.next=10;break}return L.t0=Uint8Array,L.next=6,I.arrayBuffer();case 6:L.t1=L.sent,M=new L.t0(L.t1),L.next=15;break;case 10:return L.t2=D.stringToBytes,L.next=13,I.text();case 13:L.t3=L.sent,M=(0,L.t2)(L.t3);case 15:return L.abrupt("return",{cMapData:M,compressionType:q});case 16:case"end":return L.stop()}},K)}));return function(K){return te.apply(this,arguments)}}()).catch(function(te){throw new Error("Unable to load ".concat(G.isCompressed?"binary ":"")+"CMap at: ".concat(ce))}));case 8:return ee.abrupt("return",new Promise(function(te,K){var I=new XMLHttpRequest;I.open("GET",ce,!0),G.isCompressed&&(I.responseType="arraybuffer"),I.onreadystatechange=function(){if(I.readyState===XMLHttpRequest.DONE){var M;if((200===I.status||0===I.status)&&(G.isCompressed&&I.response?M=new Uint8Array(I.response):!G.isCompressed&&I.responseText&&(M=(0,D.stringToBytes)(I.responseText)),M))return void te({cMapData:M,compressionType:q});K(new Error(I.statusText))}},I.send(null)}).catch(function(te){throw new Error("Unable to load ".concat(G.isCompressed?"binary ":"")+"CMap at: ".concat(ce))}));case 9:case"end":return ee.stop()}},oe)})()});return function(A){return S.apply(this,arguments)}}())}]),Y}();ae.DOMCMapReaderFactory=e,ae.DOMSVGFactory=function(){function Y(){_classCallCheck(this,Y)}return _createClass(Y,[{key:"create",value:function(A,G){(0,D.assert)(A>0&&G>0,"Invalid SVG dimensions");var y=document.createElementNS(Te,"svg:svg");return y.setAttribute("version","1.1"),y.setAttribute("width",A+"px"),y.setAttribute("height",G+"px"),y.setAttribute("preserveAspectRatio","none"),y.setAttribute("viewBox","0 0 "+A+" "+G),y}},{key:"createElement",value:function(A){return(0,D.assert)("string"==typeof A,"Invalid SVG element type"),document.createElementNS(Te,A)}}]),Y}();var ge=function(){function Y(S){var A=S.viewBox,G=S.scale,y=S.rotation,oe=S.offsetX,ce=void 0===oe?0:oe,q=S.offsetY,B=void 0===q?0:q,ee=S.dontFlip,te=void 0!==ee&&ee;_classCallCheck(this,Y),this.viewBox=A,this.scale=G,this.rotation=y,this.offsetX=ce,this.offsetY=B;var M,Q,L,X,le,Oe,ke,Se,K=(A[2]+A[0])/2,I=(A[3]+A[1])/2;switch(y=(y%=360)<0?y+360:y){case 180:M=-1,Q=0,L=0,X=1;break;case 90:M=0,Q=1,L=1,X=0;break;case 270:M=0,Q=-1,L=-1,X=0;break;case 0:M=1,Q=0,L=0,X=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}te&&(L=-L,X=-X),0===M?(le=Math.abs(I-A[1])*G+ce,Oe=Math.abs(K-A[0])*G+B,ke=Math.abs(A[3]-A[1])*G,Se=Math.abs(A[2]-A[0])*G):(le=Math.abs(K-A[0])*G+ce,Oe=Math.abs(I-A[1])*G+B,ke=Math.abs(A[2]-A[0])*G,Se=Math.abs(A[3]-A[1])*G),this.transform=[M*G,Q*G,L*G,X*G,le-M*G*K-L*G*I,Oe-Q*G*K-X*G*I],this.width=ke,this.height=Se}return _createClass(Y,[{key:"clone",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=A.scale,y=void 0===G?this.scale:G,oe=A.rotation,ce=void 0===oe?this.rotation:oe,q=A.offsetX,B=void 0===q?this.offsetX:q,ee=A.offsetY,te=void 0===ee?this.offsetY:ee,K=A.dontFlip,I=void 0!==K&&K;return new Y({viewBox:this.viewBox.slice(),scale:y,rotation:ce,offsetX:B,offsetY:te,dontFlip:I})}},{key:"convertToViewportPoint",value:function(A,G){return D.Util.applyTransform([A,G],this.transform)}},{key:"convertToViewportRectangle",value:function(A){var G=D.Util.applyTransform([A[0],A[1]],this.transform),y=D.Util.applyTransform([A[2],A[3]],this.transform);return[G[0],G[1],y[0],y[1]]}},{key:"convertToPdfPoint",value:function(A,G){return D.Util.applyInverseTransform([A,G],this.transform)}}]),Y}();ae.PageViewport=ge,ae.RenderingCancelledException=function(Y){_inherits(A,Y);var S=_createSuper(A);function A(G,y){var oe;return _classCallCheck(this,A),(oe=S.call(this,G)).type=y,oe}return _createClass(A)}(D.BaseException);var xe,ie={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function Ce(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function ue(Y,S){try{var G=(S?new URL(Y,S):new URL(Y)).protocol;return"http:"===G||"https:"===G}catch(y){return!1}}ae.LinkTarget=ie,ae.StatTimer=function(){function Y(){_classCallCheck(this,Y),this.started=Object.create(null),this.times=[]}return _createClass(Y,[{key:"time",value:function(A){A in this.started&&(0,D.warn)("Timer is already running for ".concat(A)),this.started[A]=Date.now()}},{key:"timeEnd",value:function(A){A in this.started||(0,D.warn)("Timer has not been started for ".concat(A)),this.times.push({name:A,start:this.started[A],end:Date.now()}),delete this.started[A]}},{key:"toString",value:function(){var oe,A=[],G=0,y=_createForOfIteratorHelper(this.times);try{for(y.s();!(oe=y.n()).done;){var q=oe.value.name;q.length>G&&(G=q.length)}}catch(I){y.e(I)}finally{y.f()}var ee,B=_createForOfIteratorHelper(this.times);try{for(B.s();!(ee=B.n()).done;){var te=ee.value,K=te.end-te.start;A.push("".concat(te.name.padEnd(G)," ").concat(K,"ms\n"))}}catch(I){B.e(I)}finally{B.f()}return A.join("")}}]),Y}(),ae.PDFDateString=function(){function Y(){_classCallCheck(this,Y)}return _createClass(Y,null,[{key:"toDateObject",value:function(A){if(!A||!(0,D.isString)(A))return null;xe||(xe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var G=xe.exec(A);if(!G)return null;var y=parseInt(G[1],10),oe=parseInt(G[2],10);oe=oe>=1&&oe<=12?oe-1:0;var ce=parseInt(G[3],10);ce=ce>=1&&ce<=31?ce:1;var q=parseInt(G[4],10);q=q>=0&&q<=23?q:0;var B=parseInt(G[5],10);B=B>=0&&B<=59?B:0;var ee=parseInt(G[6],10);ee=ee>=0&&ee<=59?ee:0;var te=G[7]||"Z",K=parseInt(G[8],10);K=K>=0&&K<=23?K:0;var I=parseInt(G[9],10)||0;return I=I>=0&&I<=59?I:0,"-"===te?(q+=K,B+=I):"+"===te&&(q-=K,B-=I),new Date(Date.UTC(y,oe,ce,q,B,ee))}}]),Y}()},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.arrayByteLength=it,ae.arraysToBytes=function lt(dt){var Pt=dt.length;if(1===Pt&&dt[0]instanceof Uint8Array)return dt[0];for(var ze=0,ht=0;ht<Pt;ht++)ze+=it(dt[ht]);for(var Kt=0,nn=new Uint8Array(ze),Zn=0;Zn<Pt;Zn++){var In=dt[Zn];In instanceof Uint8Array||(In="string"==typeof In?ot(In):new Uint8Array(In));var Hn=In.byteLength;nn.set(In,Kt),Kt+=Hn}return nn},ae.assert=B,ae.bytesToString=function je(dt){B(null!==dt&&"object"==typeof dt&&void 0!==dt.length,"Invalid argument for bytesToString");var Pt=dt.length;if(Pt<8192)return String.fromCharCode.apply(null,dt);for(var ht=[],Kt=0;Kt<Pt;Kt+=8192){var nn=Math.min(Kt+8192,Pt),Zn=dt.subarray(Kt,nn);ht.push(String.fromCharCode.apply(null,Zn))}return ht.join("")},ae.createPromiseCapability=function Qt(){var dt=Object.create(null),Pt=!1;return Object.defineProperty(dt,"settled",{get:function(){return Pt}}),dt.promise=new Promise(function(ze,ht){dt.resolve=function(Kt){Pt=!0,ze(Kt)},dt.reject=function(Kt){Pt=!0,ht(Kt)}}),dt},ae.getVerbosityLevel=function y(){return A},ae.info=function oe(dt){A>=se.INFOS&&console.log("Info: ".concat(dt))},ae.isArrayBuffer=function jt(dt){return"object"==typeof dt&&null!==dt&&void 0!==dt.byteLength},ae.isArrayEqual=function qt(dt,Pt){return dt.length===Pt.length&&dt.every(function(ze,ht){return ze===Pt[ht]})},ae.isBool=function xt(dt){return"boolean"==typeof dt},ae.isEmptyObj=function ut(dt){for(var Pt in dt)return!1;return!0},ae.isNum=function It(dt){return"number"==typeof dt},ae.isString=function mt(dt){return"string"==typeof dt},ae.isSameOrigin=function ee(dt,Pt){var ze;try{if(!(ze=new URL(dt)).origin||"null"===ze.origin)return!1}catch(Kt){return!1}var ht=new URL(Pt,ze);return ze.origin===ht.origin},ae.createValidAbsoluteUrl=function K(dt,Pt){if(!dt)return null;try{var ze=Pt?new URL(dt,Pt):new URL(dt);if(function te(dt){if(!dt)return!1;switch(dt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ze))return ze}catch(ht){}return null},ae.removeNullCharacters=function Ye(dt){return"string"!=typeof dt?(ce("The argument for removeNullCharacters must be a string."),dt):dt.replace(Fe,"")},ae.setVerbosityLevel=function G(dt){Number.isInteger(dt)&&(A=dt)},ae.shadow=I,ae.string32=function Ze(dt){return String.fromCharCode(dt>>24&255,dt>>16&255,dt>>8&255,255&dt)},ae.stringToBytes=ot,ae.stringToPDFString=function dn(dt){var Pt=dt.length,ze=[];if("\xfe"===dt[0]&&"\xff"===dt[1])for(var ht=2;ht<Pt;ht+=2)ze.push(String.fromCharCode(dt.charCodeAt(ht)<<8|dt.charCodeAt(ht+1)));else if("\xff"===dt[0]&&"\xfe"===dt[1])for(var Kt=2;Kt<Pt;Kt+=2)ze.push(String.fromCharCode(dt.charCodeAt(Kt+1)<<8|dt.charCodeAt(Kt)));else for(var nn=0;nn<Pt;++nn){var Zn=Ot[dt.charCodeAt(nn)];ze.push(Zn?String.fromCharCode(Zn):dt.charAt(nn))}return ze.join("")},ae.stringToUTF8String=function oi(dt){return decodeURIComponent(escape(dt))},ae.utf8StringToString=function En(dt){return unescape(encodeURIComponent(dt))},ae.warn=ce,ae.unreachable=q,ae.IsEvalSupportedCached=ae.IsLittleEndianCached=ae.createObjectURL=ae.FormatError=ae.Util=ae.UnknownErrorException=ae.UnexpectedResponseException=ae.TextRenderingMode=ae.StreamType=ae.PermissionFlag=ae.PasswordResponses=ae.PasswordException=ae.MissingPDFException=ae.InvalidPDFException=ae.AbortException=ae.CMapCompressionType=ae.ImageKind=ae.FontType=ae.AnnotationType=ae.AnnotationStateModelType=ae.AnnotationReviewState=ae.AnnotationReplyType=ae.AnnotationMarkedState=ae.AnnotationFlag=ae.AnnotationFieldFlag=ae.AnnotationBorderStyleType=ae.UNSUPPORTED_FEATURES=ae.VerbosityLevel=ae.OPS=ae.IDENTITY_MATRIX=ae.FONT_IDENTITY_MATRIX=ae.BaseException=void 0,J(3),ae.IDENTITY_MATRIX=[1,0,0,1,0,0],ae.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],ae.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ae.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ae.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ae.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ae.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},ae.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},ae.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},ae.AnnotationReplyType={GROUP:"Group",REPLY:"R"},ae.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},ae.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},ae.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ae.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},ae.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var se={ERRORS:0,WARNINGS:1,INFOS:5};ae.VerbosityLevel=se,ae.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},ae.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},ae.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath"},ae.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var A=se.WARNINGS;function ce(dt){A>=se.WARNINGS&&console.log("Warning: ".concat(dt))}function q(dt){throw new Error(dt)}function B(dt,Pt){dt||q(Pt)}function I(dt,Pt,ze){return Object.defineProperty(dt,Pt,{value:ze,enumerable:!0,configurable:!0,writable:!1}),ze}var M=function(){function Pt(ze){this.constructor===Pt&&q("Cannot initialize BaseException."),this.message=ze,this.name=this.constructor.name}return Pt.prototype=new Error,Pt.constructor=Pt,Pt}();ae.BaseException=M;var Q=function(dt){_inherits(ze,dt);var Pt=_createSuper(ze);function ze(ht,Kt){var nn;return _classCallCheck(this,ze),(nn=Pt.call(this,ht)).code=Kt,nn}return _createClass(ze)}(M);ae.PasswordException=Q;var L=function(dt){_inherits(ze,dt);var Pt=_createSuper(ze);function ze(ht,Kt){var nn;return _classCallCheck(this,ze),(nn=Pt.call(this,ht)).details=Kt,nn}return _createClass(ze)}(M);ae.UnknownErrorException=L;var X=function(dt){_inherits(ze,dt);var Pt=_createSuper(ze);function ze(){return _classCallCheck(this,ze),Pt.apply(this,arguments)}return _createClass(ze)}(M);ae.InvalidPDFException=X;var le=function(dt){_inherits(ze,dt);var Pt=_createSuper(ze);function ze(){return _classCallCheck(this,ze),Pt.apply(this,arguments)}return _createClass(ze)}(M);ae.MissingPDFException=le;var Oe=function(dt){_inherits(ze,dt);var Pt=_createSuper(ze);function ze(ht,Kt){var nn;return _classCallCheck(this,ze),(nn=Pt.call(this,ht)).status=Kt,nn}return _createClass(ze)}(M);ae.UnexpectedResponseException=Oe;var ke=function(dt){_inherits(ze,dt);var Pt=_createSuper(ze);function ze(){return _classCallCheck(this,ze),Pt.apply(this,arguments)}return _createClass(ze)}(M);ae.FormatError=ke;var Se=function(dt){_inherits(ze,dt);var Pt=_createSuper(ze);function ze(){return _classCallCheck(this,ze),Pt.apply(this,arguments)}return _createClass(ze)}(M);ae.AbortException=Se;var Fe=/\x00/g;function ot(dt){B("string"==typeof dt,"Invalid argument for stringToBytes");for(var Pt=dt.length,ze=new Uint8Array(Pt),ht=0;ht<Pt;++ht)ze[ht]=255&dt.charCodeAt(ht);return ze}function it(dt){return void 0!==dt.length?dt.length:(B(void 0!==dt.byteLength,"arrayByteLength - invalid argument."),dt.byteLength)}ae.IsLittleEndianCached={get value(){return I(this,"value",function Mt(){var dt=new Uint8Array(4);return dt[0]=1,1===new Uint32Array(dt.buffer,0,1)[0]}())}},ae.IsEvalSupportedCached={get value(){return I(this,"value",function Jt(){try{return new Function(""),!0}catch(dt){return!1}}())}};var an=["rgb(",0,",",0,",",0,")"];ae.Util=function(){function dt(){_classCallCheck(this,dt)}return _createClass(dt,null,[{key:"makeCssRgb",value:function(ze,ht,Kt){return an[1]=ze,an[3]=ht,an[5]=Kt,an.join("")}},{key:"transform",value:function(ze,ht){return[ze[0]*ht[0]+ze[2]*ht[1],ze[1]*ht[0]+ze[3]*ht[1],ze[0]*ht[2]+ze[2]*ht[3],ze[1]*ht[2]+ze[3]*ht[3],ze[0]*ht[4]+ze[2]*ht[5]+ze[4],ze[1]*ht[4]+ze[3]*ht[5]+ze[5]]}},{key:"applyTransform",value:function(ze,ht){return[ze[0]*ht[0]+ze[1]*ht[2]+ht[4],ze[0]*ht[1]+ze[1]*ht[3]+ht[5]]}},{key:"applyInverseTransform",value:function(ze,ht){var Kt=ht[0]*ht[3]-ht[1]*ht[2];return[(ze[0]*ht[3]-ze[1]*ht[2]+ht[2]*ht[5]-ht[4]*ht[3])/Kt,(-ze[0]*ht[1]+ze[1]*ht[0]+ht[4]*ht[1]-ht[5]*ht[0])/Kt]}},{key:"getAxialAlignedBoundingBox",value:function(ze,ht){var Kt=dt.applyTransform(ze,ht),nn=dt.applyTransform(ze.slice(2,4),ht),Zn=dt.applyTransform([ze[0],ze[3]],ht),In=dt.applyTransform([ze[2],ze[1]],ht);return[Math.min(Kt[0],nn[0],Zn[0],In[0]),Math.min(Kt[1],nn[1],Zn[1],In[1]),Math.max(Kt[0],nn[0],Zn[0],In[0]),Math.max(Kt[1],nn[1],Zn[1],In[1])]}},{key:"inverseTransform",value:function(ze){var ht=ze[0]*ze[3]-ze[1]*ze[2];return[ze[3]/ht,-ze[1]/ht,-ze[2]/ht,ze[0]/ht,(ze[2]*ze[5]-ze[4]*ze[3])/ht,(ze[4]*ze[1]-ze[5]*ze[0])/ht]}},{key:"apply3dTransform",value:function(ze,ht){return[ze[0]*ht[0]+ze[1]*ht[1]+ze[2]*ht[2],ze[3]*ht[0]+ze[4]*ht[1]+ze[5]*ht[2],ze[6]*ht[0]+ze[7]*ht[1]+ze[8]*ht[2]]}},{key:"singularValueDecompose2dScale",value:function(ze){var ht=[ze[0],ze[2],ze[1],ze[3]],Kt=ze[0]*ht[0]+ze[1]*ht[2],In=ze[2]*ht[1]+ze[3]*ht[3],Hn=(Kt+In)/2,gi=Math.sqrt((Kt+In)*(Kt+In)-4*(Kt*In-(ze[2]*ht[0]+ze[3]*ht[2])*(ze[0]*ht[1]+ze[1]*ht[3])))/2,Ro=Hn-gi||1;return[Math.sqrt(Hn+gi||1),Math.sqrt(Ro)]}},{key:"normalizeRect",value:function(ze){var ht=ze.slice(0);return ze[0]>ze[2]&&(ht[0]=ze[2],ht[2]=ze[0]),ze[1]>ze[3]&&(ht[1]=ze[3],ht[3]=ze[1]),ht}},{key:"intersect",value:function(ze,ht){function Kt(Hn,gi){return Hn-gi}var nn=[ze[0],ze[2],ht[0],ht[2]].sort(Kt),Zn=[ze[1],ze[3],ht[1],ht[3]].sort(Kt),In=[];return ze=dt.normalizeRect(ze),ht=dt.normalizeRect(ht),nn[0]===ze[0]&&nn[1]===ht[0]||nn[0]===ht[0]&&nn[1]===ze[0]?(In[0]=nn[1],In[2]=nn[2],Zn[0]===ze[1]&&Zn[1]===ht[1]||Zn[0]===ht[1]&&Zn[1]===ze[1]?(In[1]=Zn[1],In[3]=Zn[2],In):null):null}}]),dt}();var Pt,Ot=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],Un=(Pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(ht,Kt){var nn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!nn&&URL.createObjectURL){var Zn=new Blob([ht],{type:Kt});return URL.createObjectURL(Zn)}for(var In="data:".concat(Kt,";base64,"),Hn=0,gi=ht.length;Hn<gi;Hn+=3){var Hr=255&ht[Hn],Ro=255&ht[Hn+1],Vi=255&ht[Hn+2],Br=Hr>>2,ar=(3&Hr)<<4|Ro>>4,_a=Hn+1<gi?(15&Ro)<<2|Vi>>6:64,br=Hn+2<gi?63&Vi:64;In+=Pt[Br]+Pt[ar]+Pt[_a]+Pt[br]}return In});ae.createObjectURL=Un},function(Re,ae,J){"use strict";J(4)},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.isNodeJS=void 0;var D="object"==typeof process&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;ae.isNodeJS=D},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(6),_api_compatibility=__w_pdfjs_require__(7),_canvas=__w_pdfjs_require__(8),_worker_options=__w_pdfjs_require__(10),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(11),_metadata=__w_pdfjs_require__(12),_transport_stream=__w_pdfjs_require__(14),_webgl=__w_pdfjs_require__(15),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(Re){createPDFNetworkStream=Re}function getDocument(Re){var J,ae=new PDFDocumentLoadingTask;if("string"==typeof Re)J={url:Re};else if((0,_util.isArrayBuffer)(Re))J={data:Re};else if(Re instanceof PDFDataRangeTransport)J={range:Re};else{if("object"!=typeof Re)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!Re.url&&!Re.data&&!Re.range)throw new Error("Invalid parameter object: need either .data, .range or .url");J=Re}var D=Object.create(null),E=null,Te=null;for(var _ in J)if("url"!==_||"undefined"==typeof window)if("range"!==_)if("worker"!==_)if("data"!==_||J[_]instanceof Uint8Array)D[_]=J[_];else{var e=J[_];if("string"==typeof e)D[_]=(0,_util.stringToBytes)(e);else if("object"!=typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");D[_]=new Uint8Array(e)}else D[_]=new Uint8Array(e)}else Te=J[_];else E=J[_];else D[_]=new URL(J[_],window.location).href;if(D.rangeChunkSize=D.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,D.CMapReaderFactory=D.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,D.ignoreErrors=!0!==D.stopAtErrors,D.fontExtraProperties=!0===D.fontExtraProperties,D.pdfBug=!0===D.pdfBug,Number.isInteger(D.maxImageSize)||(D.maxImageSize=-1),"boolean"!=typeof D.isEvalSupported&&(D.isEvalSupported=!0),"boolean"!=typeof D.disableFontFace&&(D.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof D.disableRange&&(D.disableRange=!1),"boolean"!=typeof D.disableStream&&(D.disableStream=!1),"boolean"!=typeof D.disableAutoFetch&&(D.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(D.verbosity),!Te){var N={verbosity:D.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};Te=N.port?PDFWorker.fromPort(N):new PDFWorker(N),ae._worker=Te}var ge=ae.docId;return Te.promise.then(function(){if(ae.destroyed)throw new Error("Loading aborted");var b=_fetchDocument(Te,D,E,ge),ie=new Promise(function(H){var _e;E?_e=new _transport_stream.PDFDataTransportStream({length:D.length,initialData:D.initialData,progressiveDone:D.progressiveDone,disableRange:D.disableRange,disableStream:D.disableStream},E):D.data||(_e=createPDFNetworkStream({url:D.url,length:D.length,httpHeaders:D.httpHeaders,withCredentials:D.withCredentials,rangeChunkSize:D.rangeChunkSize,disableRange:D.disableRange,disableStream:D.disableStream})),H(_e)});return Promise.all([b,ie]).then(function(H){var _e=_slicedToArray(H,2),j=_e[0],Ce=_e[1];if(ae.destroyed)throw new Error("Loading aborted");var ue=new _message_handler.MessageHandler(ge,j,Te.port);ue.postMessageTransfers=Te.postMessageTransfers;var z=new WorkerTransport(ue,ae,Ce,D);ae._transport=z,ue.send("Ready",null)})}).catch(ae._capability.reject),ae}function _fetchDocument(Re,ae,J,D){return Re.destroyed?Promise.reject(new Error("Worker was destroyed")):(J&&(ae.length=J.length,ae.initialData=J.initialData,ae.progressiveDone=J.progressiveDone),Re.messageHandler.sendWithPromise("GetDocRequest",{docId:D,apiVersion:"2.5.207",source:{data:ae.data,url:ae.url,password:ae.password,disableAutoFetch:ae.disableAutoFetch,rangeChunkSize:ae.rangeChunkSize,length:ae.length},maxImageSize:ae.maxImageSize,disableFontFace:ae.disableFontFace,postMessageTransfers:Re.postMessageTransfers,docBaseUrl:ae.docBaseUrl,ignoreErrors:ae.ignoreErrors,isEvalSupported:ae.isEvalSupported,fontExtraProperties:ae.fontExtraProperties}).then(function(E){if(Re.destroyed)throw new Error("Worker was destroyed");return E}))}var PDFDocumentLoadingTask=(ae=0,function(){function D(){_classCallCheck(this,D),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+ae++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(D,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var Te=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){Te._transport=null,Te._worker&&(Te._worker.destroy(),Te._worker=null)})}}]),D}()),PDFDataRangeTransport=function(){function Re(ae,J){var D=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,Re),this.length=ae,this.initialData=J,this.progressiveDone=D,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(Re,[{key:"addRangeListener",value:function(J){this._rangeListeners.push(J)}},{key:"addProgressListener",value:function(J){this._progressListeners.push(J)}},{key:"addProgressiveReadListener",value:function(J){this._progressiveReadListeners.push(J)}},{key:"addProgressiveDoneListener",value:function(J){this._progressiveDoneListeners.push(J)}},{key:"onDataRange",value:function(J,D){var Te,E=_createForOfIteratorHelper(this._rangeListeners);try{for(E.s();!(Te=E.n()).done;)(0,Te.value)(J,D)}catch(e){E.e(e)}finally{E.f()}}},{key:"onDataProgress",value:function(J,D){var E=this;this._readyCapability.promise.then(function(){var _,Te=_createForOfIteratorHelper(E._progressListeners);try{for(Te.s();!(_=Te.n()).done;)(0,_.value)(J,D)}catch(N){Te.e(N)}finally{Te.f()}})}},{key:"onDataProgressiveRead",value:function(J){var D=this;this._readyCapability.promise.then(function(){var Te,E=_createForOfIteratorHelper(D._progressiveReadListeners);try{for(E.s();!(Te=E.n()).done;)(0,Te.value)(J)}catch(e){E.e(e)}finally{E.f()}})}},{key:"onDataProgressiveDone",value:function(){var J=this;this._readyCapability.promise.then(function(){var E,D=_createForOfIteratorHelper(J._progressiveDoneListeners);try{for(D.s();!(E=D.n()).done;)(0,E.value)()}catch(_){D.e(_)}finally{D.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(J,D){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),Re}(),ae;exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function Re(ae,J){_classCallCheck(this,Re),this._pdfInfo=ae,this._transport=J}return _createClass(Re,[{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"getPage",value:function(J){return this._transport.getPage(J)}},{key:"getPageIndex",value:function(J){return this._transport.getPageIndex(J)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(J){return this._transport.getDestination(J)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getOpenActionDestination",value:function(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then(function(J){return J&&J.dest?J.dest:null})}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),Re}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function Re(ae,J,D){var E=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,Re),this._pageIndex=ae,this._pageInfo=J,this._transport=D,this._stats=E?new _display_utils.StatTimer:null,this._pdfBug=E,this.commonObjs=D.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(Re,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=J.scale,E=J.rotation,Te=void 0===E?this.rotate:E,_=J.offsetX,e=void 0===_?0:_,N=J.offsetY,ge=void 0===N?0:N,b=J.dontFlip,ie=void 0!==b&&b;return new _display_utils.PageViewport({viewBox:this.view,scale:D,rotation:Te,offsetX:e,offsetY:ge,dontFlip:ie})}},{key:"getAnnotations",value:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=J.intent,E=void 0===D?null:D;return(!this.annotationsPromise||this.annotationsIntent!==E)&&(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,E),this.annotationsIntent=E),this.annotationsPromise}},{key:"render",value:function(J){var D=this,E=J.canvasContext,Te=J.viewport,_=J.intent,e=void 0===_?"display":_,N=J.enableWebGL,ge=void 0!==N&&N,b=J.renderInteractiveForms,ie=void 0!==b&&b,H=J.transform,_e=void 0===H?null:H,j=J.imageLayer,Ce=void 0===j?null:j,ue=J.canvasFactory,z=void 0===ue?null:ue,se=J.background,xe=void 0===se?null:se;this._stats&&this._stats.time("Overall");var fe="print"===e?"print":"display";this.pendingCleanup=!1,this.intentStates[fe]||(this.intentStates[fe]=Object.create(null));var Y=this.intentStates[fe];Y.streamReaderCancelTimeout&&(clearTimeout(Y.streamReaderCancelTimeout),Y.streamReaderCancelTimeout=null);var S=z||new _display_utils.DOMCanvasFactory,A=new _webgl.WebGLContext({enable:ge});Y.displayReadyCapability||(Y.displayReadyCapability=(0,_util.createPromiseCapability)(),Y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:fe,renderInteractiveForms:!0===ie}));var G=function(q){var B=Y.renderTasks.indexOf(y);B>=0&&Y.renderTasks.splice(B,1),(D.cleanupAfterRender||"print"===fe)&&(D.pendingCleanup=!0),D._tryCleanup(),q?(y.capability.reject(q),D._abortOperatorList({intentState:Y,reason:q})):y.capability.resolve(),D._stats&&(D._stats.timeEnd("Rendering"),D._stats.timeEnd("Overall"))},y=new InternalRenderTask({callback:G,params:{canvasContext:E,viewport:Te,transform:_e,imageLayer:Ce,background:xe},objs:this.objs,commonObjs:this.commonObjs,operatorList:Y.operatorList,pageIndex:this._pageIndex,canvasFactory:S,webGLContext:A,useRequestAnimationFrame:"print"!==fe,pdfBug:this._pdfBug});Y.renderTasks||(Y.renderTasks=[]),Y.renderTasks.push(y);var oe=y.task;return Y.displayReadyCapability.promise.then(function(ce){D.pendingCleanup?G():(D._stats&&D._stats.time("Rendering"),y.initializeGraphics(ce),y.operatorListChanged())}).catch(G),oe}},{key:"getOperatorList",value:function(){var D="oplist";this.intentStates[D]||(this.intentStates[D]=Object.create(null));var Te,E=this.intentStates[D];return E.opListReadCapability||((Te={}).operatorListChanged=function J(){if(E.operatorList.lastChunk){E.opListReadCapability.resolve(E.operatorList);var _=E.renderTasks.indexOf(Te);_>=0&&E.renderTasks.splice(_,1)}},E.opListReadCapability=(0,_util.createPromiseCapability)(),E.renderTasks=[],E.renderTasks.push(Te),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:D})),E.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=J.normalizeWhitespace,E=void 0!==D&&D,Te=J.disableCombineTextItems,_=void 0!==Te&&Te,e=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===E,combineTextItems:!0!==_},{highWaterMark:e,size:function(ge){return ge.items.length}})}},{key:"getTextContent",value:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=this.streamTextContent(J);return new Promise(function(E,Te){var e=D.getReader(),N={items:[],styles:Object.create(null)};!function _(){e.read().then(function(ge){var b,ie=ge.value;ge.done?E(N):(Object.assign(N.styles,ie.styles),(b=N.items).push.apply(b,_toConsumableArray(ie.items)),_())},Te)}()})}},{key:"_destroy",value:function(){var J=this;this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var D=[];return Object.keys(this.intentStates).forEach(function(E){var Te=J.intentStates[E];J._abortOperatorList({intentState:Te,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==E&&Te.renderTasks.forEach(function(_){var e=_.capability.promise.catch(function(){});D.push(e),_.cancel()})}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(D)}},{key:"cleanup",value:function(){var J=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(J)}},{key:"_tryCleanup",value:function(){var J=this,D=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!this.pendingCleanup||Object.keys(this.intentStates).some(function(E){var Te=J.intentStates[E];return 0!==Te.renderTasks.length||!Te.operatorList.lastChunk})||(Object.keys(this.intentStates).forEach(function(E){delete J.intentStates[E]}),this.objs.clear(),this.annotationsPromise=null,D&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,0))}},{key:"_startRenderPage",value:function(J,D){var E=this.intentStates[D];!E||(this._stats&&this._stats.timeEnd("Page Request"),E.displayReadyCapability&&E.displayReadyCapability.resolve(J))}},{key:"_renderPageChunk",value:function(J,D){for(var E=0,Te=J.length;E<Te;E++)D.operatorList.fnArray.push(J.fnArray[E]),D.operatorList.argsArray.push(J.argsArray[E]);D.operatorList.lastChunk=J.lastChunk;for(var _=0;_<D.renderTasks.length;_++)D.renderTasks[_].operatorListChanged();J.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(J){var D=this;(0,_util.assert)(J.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var Te=this._transport.messageHandler.sendWithStream("GetOperatorList",J).getReader(),_=this.intentStates[J.intent];_.streamReader=Te,function N(){Te.read().then(function(ge){var b=ge.value;ge.done?_.streamReader=null:D._transport.destroyed||(D._renderPageChunk(b,_),N())},function(ge){if(_.streamReader=null,!D._transport.destroyed){if(_.operatorList){_.operatorList.lastChunk=!0;for(var b=0;b<_.renderTasks.length;b++)_.renderTasks[b].operatorListChanged();D._tryCleanup()}if(_.displayReadyCapability)_.displayReadyCapability.reject(ge);else{if(!_.opListReadCapability)throw ge;_.opListReadCapability.reject(ge)}}})}()}},{key:"_abortOperatorList",value:function(J){var D=this,E=J.intentState,Te=J.reason,_=J.force,e=void 0!==_&&_;if((0,_util.assert)(Te instanceof Error||"object"==typeof Te&&null!==Te,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),E.streamReader){if(!e){if(0!==E.renderTasks.length)return;if(Te instanceof _display_utils.RenderingCancelledException)return void(E.streamReaderCancelTimeout=setTimeout(function(){D._abortOperatorList({intentState:E,reason:Te,force:!0}),E.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}E.streamReader.cancel(new _util.AbortException(Te&&Te.message)),E.streamReader=null,!this._transport.destroyed&&(Object.keys(this.intentStates).some(function(N){return D.intentStates[N]===E&&(delete D.intentStates[N],!0)}),this.cleanup())}}},{key:"stats",get:function(){return this._stats}}]),Re}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function Re(){var ae=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,Re),this._listeners=[],this._defer=ae,this._deferred=Promise.resolve(void 0)}return _createClass(Re,[{key:"postMessage",value:function(J,D){var E=this;if(this._defer){var _=new WeakMap,e={data:function Te(N){if("object"!=typeof N||null===N)return N;if(_.has(N))return _.get(N);var ge,b;if((ge=N.buffer)&&(0,_util.isArrayBuffer)(ge))return b=D&&D.includes(ge)?new N.constructor(ge,N.byteOffset,N.byteLength):new N.constructor(N),_.set(N,b),b;for(var H in b=Array.isArray(N)?[]:{},_.set(N,b),N){for(var _e=void 0,j=N;!(_e=Object.getOwnPropertyDescriptor(j,H));)j=Object.getPrototypeOf(j);if(void 0!==_e.value){if("function"==typeof _e.value){if(N.hasOwnProperty&&N.hasOwnProperty(H))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(N[H]));continue}b[H]=Te(_e.value)}}return b}(J)};this._deferred.then(function(){E._listeners.forEach(function(N){N.call(E,e)})})}else this._listeners.forEach(function(N){N.call(E,{data:J})})}},{key:"addEventListener",value:function(J,D){this._listeners.push(D)}},{key:"removeEventListener",value:function(J,D){var E=this._listeners.indexOf(D);this._listeners.splice(E,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),Re}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var Re;try{Re=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(ae){}return Re||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref18=_asyncToGenerator(_regeneratorRuntime().mark(function _callee3(){var mainWorkerMessageHandler,worker;return _regeneratorRuntime().wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context3.next=3;break}return _context3.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context3.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context3.abrupt("return",worker.WorkerMessageHandler);case 6:return _context3.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context3.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context3.stop()}},_callee3)}));return function Re(){return _ref18.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(Re){return URL.createObjectURL(new Blob(["importScripts('"+Re+"');"]))}var PDFWorker=function(){function Re(){var ae=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=ae.name,D=void 0===J?null:J,E=ae.port,Te=void 0===E?null:E,_=ae.verbosity,e=void 0===_?(0,_util.getVerbosityLevel)():_;if(_classCallCheck(this,Re),Te&&pdfWorkerPorts.has(Te))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=D,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=e,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,Te)return pdfWorkerPorts.set(Te,this),void this._initializeFromPort(Te);this._initialize()}return _createClass(Re,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(J){this._port=J,this._messageHandler=new _message_handler.MessageHandler("main","worker",J),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var J=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var D=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,D)||(D=createCDNWrapper(new URL(D,window.location).href));var E=new Worker(D),Te=new _message_handler.MessageHandler("main","worker",E),_=function(){E.removeEventListener("error",e),Te.destroy(),E.terminate(),J.destroyed?J._readyCapability.reject(new Error("Worker was destroyed")):J._setupFakeWorker()},e=function(){J._webWorker||_()};E.addEventListener("error",e),Te.on("test",function(ge){E.removeEventListener("error",e),J.destroyed?_():ge?(J._messageHandler=Te,J._port=E,J._webWorker=E,ge.supportTransfers||(J.postMessageTransfers=!1),J._readyCapability.resolve(),Te.send("configure",{verbosity:J.verbosity})):(J._setupFakeWorker(),Te.destroy(),E.terminate())}),Te.on("ready",function(ge){if(E.removeEventListener("error",e),J.destroyed)_();else try{N()}catch(b){J._setupFakeWorker()}});var N=function(){var b=new Uint8Array([J.postMessageTransfers?255:0]);try{Te.send("test",b,[b.buffer])}catch(ie){(0,_util.warn)("Cannot use postMessage transfers."),b[0]=0,Te.send("test",b)}};return void N()}catch(ge){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var J=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(D){if(J.destroyed)J._readyCapability.reject(new Error("Worker was destroyed"));else{var E=new LoopbackPort;J._port=E;var Te="fake"+nextFakeWorkerId++,_=new _message_handler.MessageHandler(Te+"_worker",Te,E);D.setup(_,E);var e=new _message_handler.MessageHandler(Te,Te+"_worker",E);J._messageHandler=e,J._readyCapability.resolve(),e.send("configure",{verbosity:J.verbosity})}}).catch(function(D){J._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(D.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(J){if(!J||!J.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(J.port)?pdfWorkerPorts.get(J.port):new Re(J)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),Re}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function Re(ae,J,D,E){_classCallCheck(this,Re),this.messageHandler=ae,this.loadingTask=J,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:J.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=E,this.CMapReaderFactory=new E.CMapReaderFactory({baseUrl:E.cMapUrl,isCompressed:E.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=D,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(Re,[{key:"destroy",value:function(){var J=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var D=[];this.pageCache.forEach(function(Te){Te&&D.push(Te._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;var E=this.messageHandler.sendWithPromise("Terminate",null);return D.push(E),Promise.all(D).then(function(){J.fontLoader.clear(),J._networkStream&&J._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),J.messageHandler&&(J.messageHandler.destroy(),J.messageHandler=null),J.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var J=this,D=this.messageHandler,E=this.loadingTask;D.on("GetReader",function(Te,_){(0,_util.assert)(J._networkStream,"GetReader - no `IPDFStream` instance available."),J._fullReader=J._networkStream.getFullReader(),J._fullReader.onProgress=function(e){J._lastProgress={loaded:e.loaded,total:e.total}},_.onPull=function(){J._fullReader.read().then(function(e){var N=e.value;e.done?_.close():((0,_util.assert)((0,_util.isArrayBuffer)(N),"GetReader - expected an ArrayBuffer."),_.enqueue(new Uint8Array(N),1,[N]))}).catch(function(e){_.error(e)})},_.onCancel=function(e){J._fullReader.cancel(e)}}),D.on("ReaderHeadersReady",function(Te){var _=(0,_util.createPromiseCapability)(),e=J._fullReader;return e.headersReady.then(function(){(!e.isStreamingSupported||!e.isRangeSupported)&&(J._lastProgress&&E.onProgress&&E.onProgress(J._lastProgress),e.onProgress=function(N){E.onProgress&&E.onProgress({loaded:N.loaded,total:N.total})}),_.resolve({isStreamingSupported:e.isStreamingSupported,isRangeSupported:e.isRangeSupported,contentLength:e.contentLength})},_.reject),_.promise}),D.on("GetRangeReader",function(Te,_){(0,_util.assert)(J._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var e=J._networkStream.getRangeReader(Te.begin,Te.end);e?(_.onPull=function(){e.read().then(function(N){var ge=N.value;N.done?_.close():((0,_util.assert)((0,_util.isArrayBuffer)(ge),"GetRangeReader - expected an ArrayBuffer."),_.enqueue(new Uint8Array(ge),1,[ge]))}).catch(function(N){_.error(N)})},_.onCancel=function(N){e.cancel(N)}):_.close()}),D.on("GetDoc",function(Te){var _=Te.pdfInfo;J._numPages=_.numPages,E._capability.resolve(new PDFDocumentProxy(_,J))}),D.on("DocException",function(Te){var _;switch(Te.name){case"PasswordException":_=new _util.PasswordException(Te.message,Te.code);break;case"InvalidPDFException":_=new _util.InvalidPDFException(Te.message);break;case"MissingPDFException":_=new _util.MissingPDFException(Te.message);break;case"UnexpectedResponseException":_=new _util.UnexpectedResponseException(Te.message,Te.status);break;case"UnknownErrorException":_=new _util.UnknownErrorException(Te.message,Te.details)}E._capability.reject(_)}),D.on("PasswordRequest",function(Te){if(J._passwordCapability=(0,_util.createPromiseCapability)(),E.onPassword)try{E.onPassword(function(N){J._passwordCapability.resolve({password:N})},Te.code)}catch(e){J._passwordCapability.reject(e)}else J._passwordCapability.reject(new _util.PasswordException(Te.message,Te.code));return J._passwordCapability.promise}),D.on("DataLoaded",function(Te){E.onProgress&&E.onProgress({loaded:Te.length,total:Te.length}),J.downloadInfoCapability.resolve(Te)}),D.on("StartRenderPage",function(Te){J.destroyed||J.pageCache[Te.pageIndex]._startRenderPage(Te.transparency,Te.intent)}),D.on("commonobj",function(Te){if(!J.destroyed){var _=_slicedToArray(Te,3),e=_[0],N=_[1],ge=_[2];if(!J.commonObjs.has(e))switch(N){case"Font":var b=J._params;if("error"in ge){var ie=ge.error;(0,_util.warn)("Error during font loading: ".concat(ie)),J.commonObjs.resolve(e,ie);break}var H=null;b.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(H={registerFont:function(Ce,ue){globalThis.FontInspector.fontAdded(Ce,ue)}});var _e=new _font_loader.FontFaceObject(ge,{isEvalSupported:b.isEvalSupported,disableFontFace:b.disableFontFace,ignoreErrors:b.ignoreErrors,onUnsupportedFeature:J._onUnsupportedFeature.bind(J),fontRegistry:H});J.fontLoader.bind(_e).catch(function(j){return D.sendWithPromise("FontFallback",{id:e})}).finally(function(){!b.fontExtraProperties&&_e.data&&(_e.data=null),J.commonObjs.resolve(e,_e)});break;case"FontPath":case"FontType3Res":case"Image":J.commonObjs.resolve(e,ge);break;default:throw new Error("Got unknown common object type ".concat(N))}}}),D.on("obj",function(Te){if(!J.destroyed){var _=_slicedToArray(Te,4),e=_[0],ge=_[2],b=_[3],ie=J.pageCache[_[1]];if(!ie.objs.has(e)){if("Image"!==ge)throw new Error("Got unknown object type ".concat(ge));ie.objs.resolve(e,b),b&&"data"in b&&b.data.length>8e6&&(ie.cleanupAfterRender=!0)}}}),D.on("DocProgress",function(Te){J.destroyed||E.onProgress&&E.onProgress({loaded:Te.loaded,total:Te.total})}),D.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),D.on("FetchBuiltInCMap",function(Te,_){if(J.destroyed)_.error(new Error("Worker was destroyed"));else{var e=!1;_.onPull=function(){e?_.close():(e=!0,J.CMapReaderFactory.fetch(Te).then(function(N){_.enqueue(N,1,[N.cMapData.buffer])}).catch(function(N){_.error(N)}))}}})}},{key:"_onUnsupportedFeature",value:function(J){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(J.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(J){var D=this;if(!Number.isInteger(J)||J<=0||J>this._numPages)return Promise.reject(new Error("Invalid page request"));var E=J-1;if(E in this.pagePromises)return this.pagePromises[E];var Te=this.messageHandler.sendWithPromise("GetPage",{pageIndex:E}).then(function(_){if(D.destroyed)throw new Error("Transport destroyed");var e=new PDFPageProxy(E,_,D,D._params.pdfBug);return D.pageCache[E]=e,e});return this.pagePromises[E]=Te,Te}},{key:"getPageIndex",value:function(J){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:J}).catch(function(D){return Promise.reject(new Error(D))})}},{key:"getAnnotations",value:function(J,D){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:J,intent:D})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(J){return"string"!=typeof J?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:J})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var J=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(D){return{info:D[0],metadata:D[1]?new _metadata.Metadata(D[1]):null,contentDispositionFilename:J._fullReader?J._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var J=this;return this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var D=0,E=J.pageCache.length;D<E;D++){var Te=J.pageCache[D];if(Te&&!Te.cleanup())throw new Error("startCleanup: Page ".concat(D+1," is currently rendering."))}J.commonObjs.clear(),J.fontLoader.clear()})}},{key:"loadingParams",get:function(){var J=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:J.disableAutoFetch,disableFontFace:J.disableFontFace})}}]),Re}(),PDFObjects=function(){function Re(){_classCallCheck(this,Re),this._objs=Object.create(null)}return _createClass(Re,[{key:"_ensureObj",value:function(J){return this._objs[J]?this._objs[J]:this._objs[J]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(J){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(D)return this._ensureObj(J).capability.promise.then(D),null;var E=this._objs[J];if(!E||!E.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(J,"."));return E.data}},{key:"has",value:function(J){var D=this._objs[J];return!!D&&D.resolved}},{key:"resolve",value:function(J,D){var E=this._ensureObj(J);E.resolved=!0,E.data=D,E.capability.resolve(D)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),Re}(),RenderTask=function(){function Re(ae){_classCallCheck(this,Re),this._internalRenderTask=ae,this.onContinue=null}return _createClass(Re,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),Re}(),InternalRenderTask=function Re(){var ae=new WeakSet,J=function(){function D(E){var Te=E.callback,_=E.params,e=E.objs,N=E.commonObjs,ge=E.operatorList,b=E.pageIndex,ie=E.canvasFactory,H=E.webGLContext,_e=E.useRequestAnimationFrame,j=void 0!==_e&&_e,Ce=E.pdfBug,ue=void 0!==Ce&&Ce;_classCallCheck(this,D),this.callback=Te,this.params=_,this.objs=e,this.commonObjs=N,this.operatorListIdx=null,this.operatorList=ge,this._pageIndex=b,this.canvasFactory=ie,this.webGLContext=H,this._pdfBug=ue,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===j&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_.canvasContext.canvas}return _createClass(D,[{key:"initializeGraphics",value:function(){var Te=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(ae.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ae.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var _=this.params,e=_.canvasContext,N=_.viewport,ge=_.transform,b=_.imageLayer,ie=_.background;this.gfx=new _canvas.CanvasGraphics(e,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,b),this.gfx.beginDrawing({transform:ge,viewport:N,transparency:Te,background:ie}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var Te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&ae.delete(this._canvas),this.callback(Te||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var Te=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){Te._nextBound().catch(Te.cancel.bind(Te))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(E=_asyncToGenerator(_regeneratorRuntime().mark(function _(){return _regeneratorRuntime().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(!this.cancelled){N.next=2;break}return N.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&ae.delete(this._canvas),this.callback()));case 4:case"end":return N.stop()}},_,this)})),function Te(){return E.apply(this,arguments)})}]),D;var E}();return J}(),version="2.5.207";exports.version=version;var build="0974d605";exports.build=build},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.FontLoader=ae.FontFaceObject=void 0;var Te,D=J(2),E=function(){function e(N){var ge=N.docId,b=N.onUnsupportedFeature;_classCallCheck(this,e),this.constructor===e&&(0,D.unreachable)("Cannot initialize BaseFontLoader."),this.docId=ge,this._onUnsupportedFeature=b,this.nativeFontFaces=[],this.styleElement=null}return _createClass(e,[{key:"addNativeFontFace",value:function(ge){this.nativeFontFaces.push(ge),document.fonts.add(ge)}},{key:"insertRule",value:function(ge){var b=this.styleElement;b||((b=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(b));var ie=b.sheet;ie.insertRule(ge,ie.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(ge){document.fonts.delete(ge)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(N=_asyncToGenerator(_regeneratorRuntime().mark(function b(ie){var _e,j,H=this;return _regeneratorRuntime().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(!ie.attached&&!ie.missingFile){ue.next=2;break}return ue.abrupt("return");case 2:if(ie.attached=!0,!this.isFontLoadingAPISupported){ue.next=19;break}if(!(_e=ie.createNativeFontFace())){ue.next=18;break}return this.addNativeFontFace(_e),ue.prev=7,ue.next=10,_e.loaded;case 10:ue.next=18;break;case 12:throw ue.prev=12,ue.t0=ue.catch(7),this._onUnsupportedFeature({featureId:D.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,D.warn)("Failed to load font '".concat(_e.family,"': '").concat(ue.t0,"'.")),ie.disableFontFace=!0,ue.t0;case 18:return ue.abrupt("return");case 19:if(!(j=ie.createFontFaceRule())){ue.next=26;break}if(this.insertRule(j),!this.isSyncFontLoadingSupported){ue.next=24;break}return ue.abrupt("return");case 24:return ue.next=26,new Promise(function(z){var se=H._queueLoadingCallback(z);H._prepareFontLoadEvent([j],[ie],se)});case 26:case"end":return ue.stop()}},b,this,[[7,12]])})),function ge(b){return N.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(ge){(0,D.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var ge="undefined"!=typeof document&&!!document.fonts;return(0,D.shadow)(this,"isFontLoadingAPISupported",ge)}},{key:"isSyncFontLoadingSupported",get:function(){(0,D.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,D.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(ge,b,ie){(0,D.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),e;var N}();ae.FontLoader=Te,ae.FontLoader=Te=function(e){_inherits(ge,e);var N=_createSuper(ge);function ge(b){var ie;return _classCallCheck(this,ge),(ie=N.call(this,b)).loadingContext={requests:[],nextRequestId:0},ie.loadTestFontId=0,ie}return _createClass(ge,[{key:"isSyncFontLoadingSupported",get:function(){var ie=!1;if("undefined"==typeof navigator)ie=!0;else{var H=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);H&&H[1]>=14&&(ie=!0)}return(0,D.shadow)(this,"isSyncFontLoadingSupported",ie)}},{key:"_queueLoadingCallback",value:function(ie){var _e=this.loadingContext,j={id:"pdfjs-font-loading-".concat(_e.nextRequestId++),done:!1,complete:function H(){for((0,D.assert)(!j.done,"completeRequest() cannot be called twice."),j.done=!0;_e.requests.length>0&&_e.requests[0].done;){var Ce=_e.requests.shift();setTimeout(Ce.callback,0)}},callback:ie};return _e.requests.push(j),j}},{key:"_loadTestFont",get:function(){return(0,D.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(ie,H,_e){function j(I,M){return I.charCodeAt(M)<<24|I.charCodeAt(M+1)<<16|I.charCodeAt(M+2)<<8|255&I.charCodeAt(M+3)}function Ce(I,M,Q,L){return I.substring(0,M)+L+I.substring(M+Q)}var ue,z,se=document.createElement("canvas");se.width=1,se.height=1;var xe=se.getContext("2d"),fe=0,S="lt".concat(Date.now()).concat(this.loadTestFontId++),A=this._loadTestFont,oe=1482184792,ce=j(A=Ce(A,976,S.length,S),16);for(ue=0,z=S.length-3;ue<z;ue+=4)ce=ce-oe+j(S,ue)|0;ue<S.length&&(ce=ce-oe+j(S+"XXX",ue)|0),A=Ce(A,16,4,(0,D.string32)(ce));var q="url(data:font/opentype;base64,".concat(btoa(A),");"),B='@font-face {font-family:"'.concat(S,'";src:').concat(q,"}");this.insertRule(B);var ee=[];for(ue=0,z=H.length;ue<z;ue++)ee.push(H[ue].loadedName);ee.push(S);var te=document.createElement("div");for(te.style.visibility="hidden",te.style.width=te.style.height="10px",te.style.position="absolute",te.style.top=te.style.left="0px",ue=0,z=ee.length;ue<z;++ue){var K=document.createElement("span");K.textContent="Hi",K.style.fontFamily=ee[ue],te.appendChild(K)}document.body.appendChild(te),function Y(I,M){if(++fe>30)return(0,D.warn)("Load test font never loaded."),void M();xe.font="30px "+I,xe.fillText(".",0,20),xe.getImageData(0,0,1,1).data[3]>0?M():setTimeout(Y.bind(null,I,M))}(S,function(){document.body.removeChild(te),_e.complete()})}}]),ge}(E),ae.FontFaceObject=function(){function e(N,ge){var b=ge.isEvalSupported,ie=void 0===b||b,H=ge.disableFontFace,_e=void 0!==H&&H,j=ge.ignoreErrors,Ce=void 0!==j&&j,ue=ge.onUnsupportedFeature,z=void 0===ue?null:ue,se=ge.fontRegistry,xe=void 0===se?null:se;for(var fe in _classCallCheck(this,e),this.compiledGlyphs=Object.create(null),N)this[fe]=N[fe];this.isEvalSupported=!1!==ie,this.disableFontFace=!0===_e,this.ignoreErrors=!0===Ce,this._onUnsupportedFeature=z,this.fontRegistry=xe}return _createClass(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var ge=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),ge}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var ge=(0,D.bytesToString)(new Uint8Array(this.data)),b="url(data:".concat(this.mimetype,";base64,").concat(btoa(ge),");"),ie='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(b,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,b),ie}},{key:"getPathGenerator",value:function(ge,b){if(void 0!==this.compiledGlyphs[b])return this.compiledGlyphs[b];var ie,H;try{ie=ge.get(this.loadedName+"_path_"+b)}catch(z){if(!this.ignoreErrors)throw z;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:D.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,D.warn)('getPathGenerator - ignoring character: "'.concat(z,'".')),this.compiledGlyphs[b]=function(se,xe){}}if(this.isEvalSupported&&D.IsEvalSupportedCached.value){for(var _e,j="",Ce=0,ue=ie.length;Ce<ue;Ce++)_e=void 0!==(H=ie[Ce]).args?H.args.join(","):"",j+="c."+H.cmd+"("+_e+");\n";return this.compiledGlyphs[b]=new Function("c","size",j)}return this.compiledGlyphs[b]=function(z,se){for(var xe=0,fe=ie.length;xe<fe;xe++)"scale"===(H=ie[xe]).cmd&&(H.args=[se,-se]),z[H.cmd].apply(z,H.args)}}}]),e}()},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.apiCompatibilityParams=void 0;var D=J(4),E=Object.create(null);D.isNodeJS&&(E.disableFontFace=!0);var Te=Object.freeze(E);ae.apiCompatibilityParams=Te},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.CanvasGraphics=void 0;var D=J(2),E=J(9),e=4096,N=.65;function H(z){z.mozCurrentTransform||(z._originalSave=z.save,z._originalRestore=z.restore,z._originalRotate=z.rotate,z._originalScale=z.scale,z._originalTranslate=z.translate,z._originalTransform=z.transform,z._originalSetTransform=z.setTransform,z._transformMatrix=z._transformMatrix||[1,0,0,1,0,0],z._transformStack=[],Object.defineProperty(z,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(z,"mozCurrentTransformInverse",{get:function(){var xe=this._transformMatrix,fe=xe[0],Y=xe[1],S=xe[2],A=xe[3],G=xe[4],y=xe[5],oe=fe*A-Y*S,ce=Y*S-fe*A;return[A/oe,Y/ce,S/ce,fe/oe,(A*G-S*y)/ce,(Y*G-fe*y)/oe]}}),z.save=function(){var xe=this._transformMatrix;this._transformStack.push(xe),this._transformMatrix=xe.slice(0,6),this._originalSave()},z.restore=function(){var xe=this._transformStack.pop();xe&&(this._transformMatrix=xe,this._originalRestore())},z.translate=function(xe,fe){var Y=this._transformMatrix;Y[4]=Y[0]*xe+Y[2]*fe+Y[4],Y[5]=Y[1]*xe+Y[3]*fe+Y[5],this._originalTranslate(xe,fe)},z.scale=function(xe,fe){var Y=this._transformMatrix;Y[0]=Y[0]*xe,Y[1]=Y[1]*xe,Y[2]=Y[2]*fe,Y[3]=Y[3]*fe,this._originalScale(xe,fe)},z.transform=function(xe,fe,Y,S,A,G){var y=this._transformMatrix;this._transformMatrix=[y[0]*xe+y[2]*fe,y[1]*xe+y[3]*fe,y[0]*Y+y[2]*S,y[1]*Y+y[3]*S,y[0]*A+y[2]*G+y[4],y[1]*A+y[3]*G+y[5]],z._originalTransform(xe,fe,Y,S,A,G)},z.setTransform=function(xe,fe,Y,S,A,G){this._transformMatrix=[xe,fe,Y,S,A,G],z._originalSetTransform(xe,fe,Y,S,A,G)},z.rotate=function(xe){var fe=Math.cos(xe),Y=Math.sin(xe),S=this._transformMatrix;this._transformMatrix=[S[0]*fe+S[2]*Y,S[1]*fe+S[3]*Y,S[0]*-Y+S[2]*fe,S[1]*-Y+S[3]*fe,S[4],S[5]],this._originalRotate(xe)})}var _e=function(){function se(xe){this.canvasFactory=xe,this.cache=Object.create(null)}return se.prototype={getCanvas:function(fe,Y,S,A){var G;return void 0!==this.cache[fe]?(this.canvasFactory.reset(G=this.cache[fe],Y,S),G.context.setTransform(1,0,0,1,0,0)):(G=this.canvasFactory.create(Y,S),this.cache[fe]=G),A&&H(G.context),G},clear:function(){for(var fe in this.cache)this.canvasFactory.destroy(this.cache[fe]),delete this.cache[fe]}},se}(),Ce=function(){function se(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=D.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=D.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=D.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return se.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(fe,Y){this.x=fe,this.y=Y}},se}(),ue=function(){function fe(Q,L,X,le,Oe,ke){this.ctx=Q,this.current=new Ce,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=L,this.objs=X,this.canvasFactory=le,this.webGLContext=Oe,this.imageLayer=ke,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new _e(this.canvasFactory),Q&&H(Q),this._cachedGetSinglePixelWidth=null}function Y(Q,L){if("undefined"!=typeof ImageData&&L instanceof ImageData)Q.putImageData(L,0,0);else{var je,lt,Ze,Mt,At,X=L.height,le=L.width,Oe=X%16,ke=(X-Oe)/16,Se=0===Oe?ke:ke+1,Fe=Q.createImageData(le,16),Ye=0,ot=L.data,it=Fe.data;if(L.kind===D.ImageKind.GRAYSCALE_1BPP){var Jt=ot.byteLength,Ft=new Uint32Array(it.buffer,0,it.byteLength>>2),an=Ft.length,un=le+7>>3,Ot=4294967295,dn=D.IsLittleEndianCached.value?4278190080:255;for(lt=0;lt<Se;lt++){for(Mt=lt<ke?16:Oe,je=0,Ze=0;Ze<Mt;Ze++){for(var oi=Jt-Ye,En=0,ut=oi>un?le:8*oi-7,xt=-8&ut,It=0,mt=0;En<xt;En+=8)mt=ot[Ye++],Ft[je++]=128&mt?Ot:dn,Ft[je++]=64&mt?Ot:dn,Ft[je++]=32&mt?Ot:dn,Ft[je++]=16&mt?Ot:dn,Ft[je++]=8&mt?Ot:dn,Ft[je++]=4&mt?Ot:dn,Ft[je++]=2&mt?Ot:dn,Ft[je++]=1&mt?Ot:dn;for(;En<ut;En++)0===It&&(mt=ot[Ye++],It=128),Ft[je++]=mt&It?Ot:dn,It>>=1}for(;je<an;)Ft[je++]=0;Q.putImageData(Fe,0,16*lt)}}else if(L.kind===D.ImageKind.RGBA_32BPP){for(Ze=0,At=16*le*4,lt=0;lt<ke;lt++)it.set(ot.subarray(Ye,Ye+At)),Ye+=At,Q.putImageData(Fe,0,Ze),Ze+=16;lt<Se&&(it.set(ot.subarray(Ye,Ye+(At=le*Oe*4))),Q.putImageData(Fe,0,Ze))}else{if(L.kind!==D.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(L.kind));for(At=le*(Mt=16),lt=0;lt<Se;lt++){for(lt>=ke&&(At=le*(Mt=Oe)),je=0,Ze=At;Ze--;)it[je++]=ot[Ye++],it[je++]=ot[Ye++],it[je++]=ot[Ye++],it[je++]=255;Q.putImageData(Fe,0,16*lt)}}}}function S(Q,L){for(var X=L.height,le=L.width,Oe=X%16,ke=(X-Oe)/16,Se=0===Oe?ke:ke+1,Fe=Q.createImageData(le,16),Ye=0,je=L.data,ot=Fe.data,it=0;it<Se;it++){for(var lt=it<ke?16:Oe,Ze=3,Mt=0;Mt<lt;Mt++)for(var At=0,Jt=0;Jt<le;Jt++){if(!At){var Ft=je[Ye++];At=128}ot[Ze]=Ft&At?0:255,Ze+=4,At>>=1}Q.putImageData(Fe,0,16*it)}}function A(Q,L){for(var X=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],le=0,Oe=X.length;le<Oe;le++){var ke=X[le];void 0!==Q[ke]&&(L[ke]=Q[ke])}void 0!==Q.setLineDash&&(L.setLineDash(Q.getLineDash()),L.lineDashOffset=Q.lineDashOffset)}function G(Q){Q.strokeStyle="#000000",Q.fillStyle="#000000",Q.fillRule="nonzero",Q.globalAlpha=1,Q.lineWidth=1,Q.lineCap="butt",Q.lineJoin="miter",Q.miterLimit=10,Q.globalCompositeOperation="source-over",Q.font="10px sans-serif",void 0!==Q.setLineDash&&(Q.setLineDash([]),Q.lineDashOffset=0)}function y(Q,L,X,le){for(var Oe=Q.length,ke=3;ke<Oe;ke+=4){var Se=Q[ke];if(0===Se)Q[ke-3]=L,Q[ke-2]=X,Q[ke-1]=le;else if(Se<255){var Fe=255-Se;Q[ke-3]=Q[ke-3]*Se+L*Fe>>8,Q[ke-2]=Q[ke-2]*Se+X*Fe>>8,Q[ke-1]=Q[ke-1]*Se+le*Fe>>8}}}function oe(Q,L,X){for(var le=Q.length,ke=3;ke<le;ke+=4)L[ke]=L[ke]*(X?X[Q[ke]]:Q[ke])*.00392156862745098|0}function ce(Q,L,X){for(var le=Q.length,Oe=3;Oe<le;Oe+=4){var ke=77*Q[Oe-3]+152*Q[Oe-2]+28*Q[Oe-1];L[Oe]=X?L[Oe]*X[ke>>8]>>8:L[Oe]*ke>>16}}function B(Q,L,X,le){var Oe=L.canvas,ke=L.context;Q.setTransform(L.scaleX,0,0,L.scaleY,L.offsetX,L.offsetY);var Se=L.backdrop||null;if(!L.transferMap&&le.isEnabled){var Fe=le.composeSMask({layer:X.canvas,mask:Oe,properties:{subtype:L.subtype,backdrop:Se}});return Q.setTransform(1,0,0,1,0,0),void Q.drawImage(Fe,L.offsetX,L.offsetY)}(function q(Q,L,X,le,Oe,ke,Se){var it,Fe=!!ke,Ye=Fe?ke[0]:0,je=Fe?ke[1]:0,ot=Fe?ke[2]:0;it="Luminosity"===Oe?ce:oe;for(var Ze=Math.min(le,Math.ceil(1048576/X)),Mt=0;Mt<le;Mt+=Ze){var At=Math.min(Ze,le-Mt),Jt=Q.getImageData(0,Mt,X,At),Ft=L.getImageData(0,Mt,X,At);Fe&&y(Jt.data,Ye,je,ot),it(Jt.data,Ft.data,Se),Q.putImageData(Ft,0,Mt)}})(ke,X,Oe.width,Oe.height,L.subtype,Se,L.transferMap),Q.drawImage(Oe,0,0)}var ee=["butt","round","square"],te=["miter","round","bevel"],K={},I={};for(var M in fe.prototype={beginDrawing:function(L){var X=L.transform,le=L.viewport,Oe=L.transparency,ke=void 0!==Oe&&Oe,Se=L.background,Fe=void 0===Se?null:Se,Ye=this.ctx.canvas.width,je=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=Fe||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,Ye,je),this.ctx.restore(),ke){var ot=this.cachedCanvases.getCanvas("transparent",Ye,je,!0);this.compositeCtx=this.ctx,this.transparentCanvas=ot.canvas,this.ctx=ot.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),G(this.ctx),X&&this.ctx.transform.apply(this.ctx,X),this.ctx.transform.apply(this.ctx,le.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(L,X,le,Oe){var ke=L.argsArray,Se=L.fnArray,Fe=X||0,Ye=ke.length;if(Ye===Fe)return Fe;for(var Mt,je=Ye-Fe>10&&"function"==typeof le,ot=je?Date.now()+15:0,it=0,lt=this.commonObjs,Ze=this.objs;;){if(void 0!==Oe&&Fe===Oe.nextBreakPoint)return Oe.breakIt(Fe,le),Fe;if((Mt=Se[Fe])!==D.OPS.dependency)this[Mt].apply(this,ke[Fe]);else{var Jt,At=_createForOfIteratorHelper(ke[Fe]);try{for(At.s();!(Jt=At.n()).done;){var Ft=Jt.value,an=Ft.startsWith("g_")?lt:Ze;if(!an.has(Ft))return an.get(Ft,le),Fe}}catch(un){At.e(un)}finally{At.f()}}if(++Fe===Ye)return Fe;if(je&&++it>10){if(Date.now()>ot)return le(),Fe;it=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(L){this.current.lineWidth=L,this.ctx.lineWidth=L},setLineCap:function(L){this.ctx.lineCap=ee[L]},setLineJoin:function(L){this.ctx.lineJoin=te[L]},setMiterLimit:function(L){this.ctx.miterLimit=L},setDash:function(L,X){var le=this.ctx;void 0!==le.setLineDash&&(le.setLineDash(L),le.lineDashOffset=X)},setRenderingIntent:function(L){},setFlatness:function(L){},setGState:function(L){for(var X=0,le=L.length;X<le;X++){var Oe=L[X],Se=Oe[1];switch(Oe[0]){case"LW":this.setLineWidth(Se);break;case"LC":this.setLineCap(Se);break;case"LJ":this.setLineJoin(Se);break;case"ML":this.setMiterLimit(Se);break;case"D":this.setDash(Se[0],Se[1]);break;case"RI":this.setRenderingIntent(Se);break;case"FL":this.setFlatness(Se);break;case"Font":this.setFont(Se[0],Se[1]);break;case"CA":this.current.strokeAlpha=Oe[1];break;case"ca":this.current.fillAlpha=Oe[1],this.ctx.globalAlpha=Oe[1];break;case"BM":this.ctx.globalCompositeOperation=Se;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=Se?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var L=this.current.activeSMask,ke=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,L.canvas.width,L.canvas.height,!0),Se=this.ctx,Fe=Se.mozCurrentTransform;this.ctx.save();var Ye=ke.context;Ye.scale(1/L.scaleX,1/L.scaleY),Ye.translate(-L.offsetX,-L.offsetY),Ye.transform.apply(Ye,Fe),L.startTransformInverse=Ye.mozCurrentTransformInverse,A(Se,Ye),this.ctx=Ye,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Se),this.groupLevel++},suspendSMaskGroup:function(){var L=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),B(this.ctx,this.current.activeSMask,L,this.webGLContext),this.ctx.restore(),this.ctx.save(),A(L,this.ctx),this.current.resumeSMaskCtx=L;var X=D.Util.transform(this.current.activeSMask.startTransformInverse,L.mozCurrentTransform);this.ctx.transform.apply(this.ctx,X),L.save(),L.setTransform(1,0,0,1,0,0),L.clearRect(0,0,L.canvas.width,L.canvas.height),L.restore()},resumeSMaskGroup:function(){var X=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(X),this.groupLevel++},endSMaskGroup:function(){var L=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),B(this.ctx,this.current.activeSMask,L,this.webGLContext),this.ctx.restore(),A(L,this.ctx);var X=D.Util.transform(this.current.activeSMask.startTransformInverse,L.mozCurrentTransform);this.ctx.transform.apply(this.ctx,X)},save:function(){this.ctx.save();var L=this.current;this.stateStack.push(L),this.current=L.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(L,X,le,Oe,ke,Se){this.ctx.transform(L,X,le,Oe,ke,Se),this._cachedGetSinglePixelWidth=null},constructPath:function(L,X){for(var le=this.ctx,Oe=this.current,ke=Oe.x,Se=Oe.y,Fe=0,Ye=0,je=L.length;Fe<je;Fe++)switch(0|L[Fe]){case D.OPS.rectangle:ke=X[Ye++],Se=X[Ye++];var ot=X[Ye++],it=X[Ye++];0===ot&&(ot=this.getSinglePixelWidth()),0===it&&(it=this.getSinglePixelWidth());var lt=ke+ot,Ze=Se+it;this.ctx.moveTo(ke,Se),this.ctx.lineTo(lt,Se),this.ctx.lineTo(lt,Ze),this.ctx.lineTo(ke,Ze),this.ctx.lineTo(ke,Se),this.ctx.closePath();break;case D.OPS.moveTo:ke=X[Ye++],Se=X[Ye++],le.moveTo(ke,Se);break;case D.OPS.lineTo:ke=X[Ye++],Se=X[Ye++],le.lineTo(ke,Se);break;case D.OPS.curveTo:le.bezierCurveTo(X[Ye],X[Ye+1],X[Ye+2],X[Ye+3],ke=X[Ye+4],Se=X[Ye+5]),Ye+=6;break;case D.OPS.curveTo2:le.bezierCurveTo(ke,Se,X[Ye],X[Ye+1],X[Ye+2],X[Ye+3]),ke=X[Ye+2],Se=X[Ye+3],Ye+=4;break;case D.OPS.curveTo3:le.bezierCurveTo(X[Ye],X[Ye+1],ke=X[Ye+2],Se=X[Ye+3],ke,Se),Ye+=4;break;case D.OPS.closePath:le.closePath()}Oe.setCurrentPoint(ke,Se)},closePath:function(){this.ctx.closePath()},stroke:function(L){L=void 0===L||L;var X=this.ctx,le=this.current.strokeColor;if(X.globalAlpha=this.current.strokeAlpha,le&&le.hasOwnProperty("type")&&"Pattern"===le.type){X.save();var ke=D.Util.singularValueDecompose2dScale(X.mozCurrentTransform)[0];X.strokeStyle=le.getPattern(X,this),X.lineWidth=Math.max(this.getSinglePixelWidth()*N,this.current.lineWidth*ke),X.stroke(),X.restore()}else X.lineWidth=Math.max(this.getSinglePixelWidth()*N,this.current.lineWidth),X.stroke();L&&this.consumePath(),X.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(L){L=void 0===L||L;var X=this.ctx,le=this.current.fillColor,ke=!1;this.current.patternFill&&(X.save(),this.baseTransform&&X.setTransform.apply(X,this.baseTransform),X.fillStyle=le.getPattern(X,this),ke=!0),this.pendingEOFill?(X.fill("evenodd"),this.pendingEOFill=!1):X.fill(),ke&&X.restore(),L&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=K},eoClip:function(){this.pendingClip=I},beginText:function(){this.current.textMatrix=D.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var L=this.pendingTextPaths,X=this.ctx;if(void 0!==L){X.save(),X.beginPath();for(var le=0;le<L.length;le++){var Oe=L[le];X.setTransform.apply(X,Oe.transform),X.translate(Oe.x,Oe.y),Oe.addToPath(X,Oe.fontSize)}X.restore(),X.clip(),X.beginPath(),delete this.pendingTextPaths}else X.beginPath()},setCharSpacing:function(L){this.current.charSpacing=L},setWordSpacing:function(L){this.current.wordSpacing=L},setHScale:function(L){this.current.textHScale=L/100},setLeading:function(L){this.current.leading=-L},setFont:function(L,X){var le=this.commonObjs.get(L),Oe=this.current;if(!le)throw new Error("Can't find font for ".concat(L));if(Oe.fontMatrix=le.fontMatrix?le.fontMatrix:D.FONT_IDENTITY_MATRIX,(0===Oe.fontMatrix[0]||0===Oe.fontMatrix[3])&&(0,D.warn)("Invalid font matrix for font "+L),X<0?(X=-X,Oe.fontDirection=-1):Oe.fontDirection=1,this.current.font=le,this.current.fontSize=X,!le.isType3Font){var Se="normal";le.black?Se="900":le.bold&&(Se="bold");var Fe=le.italic?"italic":"normal",Ye='"'.concat(le.loadedName||"sans-serif",'", ').concat(le.fallbackName),je=X;X<16?je=16:X>100&&(je=100),this.current.fontSizeScale=X/je,this.ctx.font="".concat(Fe," ").concat(Se," ").concat(je,"px ").concat(Ye)}},setTextRenderingMode:function(L){this.current.textRenderingMode=L},setTextRise:function(L){this.current.textRise=L},moveText:function(L,X){this.current.x=this.current.lineX+=L,this.current.y=this.current.lineY+=X},setLeadingMoveText:function(L,X){this.setLeading(-X),this.moveText(L,X)},setTextMatrix:function(L,X,le,Oe,ke,Se){this.current.textMatrix=[L,X,le,Oe,ke,Se],this.current.textMatrixScale=Math.sqrt(L*L+X*X),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(L,X,le,Oe){var Ze,ke=this.ctx,Se=this.current,Fe=Se.font,Ye=Se.textRenderingMode,je=Se.fontSize/Se.fontSizeScale,ot=Ye&D.TextRenderingMode.FILL_STROKE_MASK,it=!!(Ye&D.TextRenderingMode.ADD_TO_PATH_FLAG),lt=Se.patternFill&&!Fe.missingFile;(Fe.disableFontFace||it||lt)&&(Ze=Fe.getPathGenerator(this.commonObjs,L)),Fe.disableFontFace||lt?(ke.save(),ke.translate(X,le),ke.beginPath(),Ze(ke,je),Oe&&ke.setTransform.apply(ke,Oe),(ot===D.TextRenderingMode.FILL||ot===D.TextRenderingMode.FILL_STROKE)&&ke.fill(),(ot===D.TextRenderingMode.STROKE||ot===D.TextRenderingMode.FILL_STROKE)&&ke.stroke(),ke.restore()):((ot===D.TextRenderingMode.FILL||ot===D.TextRenderingMode.FILL_STROKE)&&ke.fillText(L,X,le),(ot===D.TextRenderingMode.STROKE||ot===D.TextRenderingMode.FILL_STROKE)&&ke.strokeText(L,X,le)),it&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ke.mozCurrentTransform,x:X,y:le,fontSize:je,addToPath:Ze})},get isFontSubpixelAAEnabled(){var L=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;L.scale(1.5,1),L.fillText("I",0,10);for(var X=L.getImageData(0,0,10,10).data,le=!1,Oe=3;Oe<X.length;Oe+=4)if(X[Oe]>0&&X[Oe]<255){le=!0;break}return(0,D.shadow)(this,"isFontSubpixelAAEnabled",le)},showText:function(L){var X=this.current,le=X.font;if(le.isType3Font)return this.showType3Text(L);var Oe=X.fontSize;if(0!==Oe){var Ft,ke=this.ctx,Se=X.fontSizeScale,Fe=X.charSpacing,Ye=X.wordSpacing,je=X.fontDirection,ot=X.textHScale*je,it=L.length,lt=le.vertical,Ze=lt?1:-1,Mt=le.defaultVMetrics,At=Oe*X.fontMatrix[0],Jt=X.textRenderingMode===D.TextRenderingMode.FILL&&!le.disableFontFace&&!X.patternFill;if(ke.save(),X.patternFill){ke.save();var an=X.fillColor.getPattern(ke,this);Ft=ke.mozCurrentTransform,ke.restore(),ke.fillStyle=an}ke.transform.apply(ke,X.textMatrix),ke.translate(X.x,X.y+X.textRise),ke.scale(ot,je>0?-1:1);var un=X.lineWidth,Ot=X.textMatrixScale;if(0===Ot||0===un){var dn=X.textRenderingMode&D.TextRenderingMode.FILL_STROKE_MASK;(dn===D.TextRenderingMode.STROKE||dn===D.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,un=this.getSinglePixelWidth()*N)}else un/=Ot;1!==Se&&(ke.scale(Se,Se),un/=Se),ke.lineWidth=un;var En,oi=0;for(En=0;En<it;++En){var ut=L[En];if((0,D.isNum)(ut))oi+=Ze*ut*Oe/1e3;else{var qt,Qt,ze,ht,xt=!1,It=(ut.isSpace?Ye:0)+Fe,mt=ut.fontChar,jt=ut.accent,Pt=ut.width;if(lt?(ze=ut.vmetric||Mt,ht=ut.vmetric?ze[1]:.5*Pt,Pt=ze?-ze[0]:Pt,qt=(ht=-ht*At)/Se,Qt=(oi+ze[2]*At)/Se):(qt=oi/Se,Qt=0),le.remeasure&&Pt>0){var nn=1e3*ke.measureText(mt).width/Oe*Se;if(Pt<nn&&this.isFontSubpixelAAEnabled){var Zn=Pt/nn;xt=!0,ke.save(),ke.scale(Zn,1),qt/=Zn}else Pt!==nn&&(qt+=(Pt-nn)/2e3*Oe/Se)}(ut.isInFont||le.missingFile)&&(Jt&&!jt?ke.fillText(mt,qt,Qt):(this.paintChar(mt,qt,Qt,Ft),jt&&this.paintChar(jt.fontChar,qt+jt.offset.x/Se,Qt-jt.offset.y/Se,Ft))),oi+=lt?Pt*At-It*je:Pt*At+It*je,xt&&ke.restore()}}lt?X.y-=oi:X.x+=oi*ot,ke.restore()}},showType3Text:function(L){var Mt,At,Jt,Ft,X=this.ctx,le=this.current,Oe=le.font,ke=le.fontSize,Se=le.fontDirection,Fe=Oe.vertical?1:-1,Ye=le.charSpacing,je=le.wordSpacing,ot=le.textHScale*Se,it=le.fontMatrix||D.FONT_IDENTITY_MATRIX,lt=L.length;if(le.textRenderingMode!==D.TextRenderingMode.INVISIBLE&&0!==ke){for(this._cachedGetSinglePixelWidth=null,X.save(),X.transform.apply(X,le.textMatrix),X.translate(le.x,le.y),X.scale(ot,Se),Mt=0;Mt<lt;++Mt)if((0,D.isNum)(At=L[Mt]))this.ctx.translate(Ft=Fe*At*ke/1e3,0),le.x+=Ft*ot;else{var an=(At.isSpace?je:0)+Ye,un=Oe.charProcOperatorList[At.operatorListId];if(un){this.processingType3=At,this.save(),X.scale(ke,ke),X.transform.apply(X,it),this.executeOperatorList(un),this.restore();var Ot=D.Util.applyTransform([At.width,0],it);X.translate(Jt=Ot[0]*ke+an,0),le.x+=Jt*ot}else(0,D.warn)('Type3 character "'.concat(At.operatorListId,'" is not available.'))}X.restore(),this.processingType3=null}},setCharWidth:function(L,X){},setCharWidthAndBounds:function(L,X,le,Oe,ke,Se){this.ctx.rect(le,Oe,ke-le,Se-Oe),this.clip(),this.endPath()},getColorN_Pattern:function(L){var le,X=this;if("TilingPattern"===L[0]){var Oe=L[1],ke=this.baseTransform||this.ctx.mozCurrentTransform.slice();le=new E.TilingPattern(L,Oe,this.ctx,{createCanvasGraphics:function(Ye){return new fe(Ye,X.commonObjs,X.objs,X.canvasFactory,X.webGLContext)}},ke)}else le=(0,E.getShadingPatternFromIR)(L);return le},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(L,X,le){var Oe=D.Util.makeCssRgb(L,X,le);this.ctx.strokeStyle=Oe,this.current.strokeColor=Oe},setFillRGBColor:function(L,X,le){var Oe=D.Util.makeCssRgb(L,X,le);this.ctx.fillStyle=Oe,this.current.fillColor=Oe,this.current.patternFill=!1},shadingFill:function(L){var X=this.ctx;this.save();var le=(0,E.getShadingPatternFromIR)(L);X.fillStyle=le.getPattern(X,this,!0);var Oe=X.mozCurrentTransformInverse;if(Oe){var ke=X.canvas,Se=ke.width,Fe=ke.height,Ye=D.Util.applyTransform([0,0],Oe),je=D.Util.applyTransform([0,Fe],Oe),ot=D.Util.applyTransform([Se,0],Oe),it=D.Util.applyTransform([Se,Fe],Oe),lt=Math.min(Ye[0],je[0],ot[0],it[0]),Ze=Math.min(Ye[1],je[1],ot[1],it[1]),Mt=Math.max(Ye[0],je[0],ot[0],it[0]),At=Math.max(Ye[1],je[1],ot[1],it[1]);this.ctx.fillRect(lt,Ze,Mt-lt,At-Ze)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,D.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,D.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(L,X){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(L)&&6===L.length&&this.transform.apply(this,L),this.baseTransform=this.ctx.mozCurrentTransform,X&&(this.ctx.rect(X[0],X[1],X[2]-X[0],X[3]-X[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(L){this.save();var X=this.ctx;L.isolated||(0,D.info)("TODO: Support non-isolated groups."),L.knockout&&(0,D.warn)("Knockout groups not supported.");var le=X.mozCurrentTransform;if(L.matrix&&X.transform.apply(X,L.matrix),!L.bbox)throw new Error("Bounding box is required.");var Oe=D.Util.getAxialAlignedBoundingBox(L.bbox,X.mozCurrentTransform);Oe=D.Util.intersect(Oe,[0,0,X.canvas.width,X.canvas.height])||[0,0,0,0];var Se=Math.floor(Oe[0]),Fe=Math.floor(Oe[1]),Ye=Math.max(Math.ceil(Oe[2])-Se,1),je=Math.max(Math.ceil(Oe[3])-Fe,1),ot=1,it=1;Ye>e&&(ot=Ye/e,Ye=e),je>e&&(it=je/e,je=e);var lt="groupAt"+this.groupLevel;L.smask&&(lt+="_smask_"+this.smaskCounter++%2);var Ze=this.cachedCanvases.getCanvas(lt,Ye,je,!0),Mt=Ze.context;Mt.scale(1/ot,1/it),Mt.translate(-Se,-Fe),Mt.transform.apply(Mt,le),L.smask?this.smaskStack.push({canvas:Ze.canvas,context:Mt,offsetX:Se,offsetY:Fe,scaleX:ot,scaleY:it,subtype:L.smask.subtype,backdrop:L.smask.backdrop,transferMap:L.smask.transferMap||null,startTransformInverse:null}):(X.setTransform(1,0,0,1,0,0),X.translate(Se,Fe),X.scale(ot,it)),A(X,Mt),this.ctx=Mt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(X),this.groupLevel++,this.current.activeSMask=null},endGroup:function(L){this.groupLevel--;var X=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,L.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(X.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(L,X,le){this.save(),G(this.ctx),this.current=new Ce,Array.isArray(L)&&4===L.length&&(this.ctx.rect(L[0],L[1],L[2]-L[0],L[3]-L[1]),this.clip(),this.endPath()),this.transform.apply(this,X),this.transform.apply(this,le)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(L){var X=this.ctx,le=L.width,Oe=L.height,ke=this.current.fillColor,Se=this.current.patternFill,Fe=this.processingType3;if(Fe&&void 0===Fe.compiled&&(Fe.compiled=le<=1e3&&Oe<=1e3?function j(z){var Y,S,A,te,xe=z.width,fe=z.height,G=xe+1,y=new Uint8Array(G*(fe+1)),oe=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ce=xe+7&-8,q=z.data,B=new Uint8Array(ce*fe),ee=0;for(Y=0,te=q.length;Y<te;Y++)for(var K=128,I=q[Y];K>0;)B[ee++]=I&K?0:255,K>>=1;var M=0;for(0!==B[ee=0]&&(y[0]=1,++M),S=1;S<xe;S++)B[ee]!==B[ee+1]&&(y[S]=B[ee]?2:1,++M),ee++;for(0!==B[ee]&&(y[S]=2,++M),Y=1;Y<fe;Y++){A=Y*G,B[(ee=Y*ce)-ce]!==B[ee]&&(y[A]=B[ee]?1:8,++M);var Q=(B[ee]?4:0)+(B[ee-ce]?8:0);for(S=1;S<xe;S++)oe[Q=(Q>>2)+(B[ee+1]?4:0)+(B[ee-ce+1]?8:0)]&&(y[A+S]=oe[Q],++M),ee++;if(B[ee-ce]!==B[ee]&&(y[A+S]=B[ee]?2:4,++M),M>1e3)return null}for(A=Y*G,0!==B[ee=ce*(fe-1)]&&(y[A]=8,++M),S=1;S<xe;S++)B[ee]!==B[ee+1]&&(y[A+S]=B[ee]?4:8,++M),ee++;if(0!==B[ee]&&(y[A+S]=4,++M),M>1e3)return null;var L=new Int32Array([0,G,-1,0,-G,0,0,0,1]),X=[];for(Y=0;M&&Y<=fe;Y++){for(var le=Y*G,Oe=le+xe;le<Oe&&!y[le];)le++;if(le!==Oe){var Ye,ke=[le%G,Y],Se=y[le],Fe=le;do{var je=L[Se];do{le+=je}while(!y[le]);5!==(Ye=y[le])&&10!==Ye?(Se=Ye,y[le]=0):y[le]&=(Se=Ye&51*Se>>4)>>2|Se<<2,ke.push(le%G),ke.push(le/G|0),y[le]||--M}while(Fe!==le);X.push(ke),--Y}}return function(lt){lt.save(),lt.scale(1/xe,-1/fe),lt.translate(0,-fe),lt.beginPath();for(var Ze=0,Mt=X.length;Ze<Mt;Ze++){var At=X[Ze];lt.moveTo(At[0],At[1]);for(var Jt=2,Ft=At.length;Jt<Ft;Jt+=2)lt.lineTo(At[Jt],At[Jt+1])}lt.fill(),lt.beginPath(),lt.restore()}}({data:L.data,width:le,height:Oe}):null),Fe&&Fe.compiled)Fe.compiled(X);else{var Ye=this.cachedCanvases.getCanvas("maskCanvas",le,Oe),je=Ye.context;je.save(),S(je,L),je.globalCompositeOperation="source-in",je.fillStyle=Se?ke.getPattern(je,this):ke,je.fillRect(0,0,le,Oe),je.restore(),this.paintInlineImageXObject(Ye.canvas)}},paintImageMaskXObjectRepeat:function(L,X,le,Oe){var ke=L.width,Se=L.height,Fe=this.current.fillColor,Ye=this.current.patternFill,je=this.cachedCanvases.getCanvas("maskCanvas",ke,Se),ot=je.context;ot.save(),S(ot,L),ot.globalCompositeOperation="source-in",ot.fillStyle=Ye?Fe.getPattern(ot,this):Fe,ot.fillRect(0,0,ke,Se),ot.restore();for(var it=this.ctx,lt=0,Ze=Oe.length;lt<Ze;lt+=2)it.save(),it.transform(X,0,0,le,Oe[lt],Oe[lt+1]),it.scale(1,-1),it.drawImage(je.canvas,0,0,ke,Se,0,-1,1,1),it.restore()},paintImageMaskXObjectGroup:function(L){for(var X=this.ctx,le=this.current.fillColor,Oe=this.current.patternFill,ke=0,Se=L.length;ke<Se;ke++){var Fe=L[ke],Ye=Fe.width,je=Fe.height,ot=this.cachedCanvases.getCanvas("maskCanvas",Ye,je),it=ot.context;it.save(),S(it,Fe),it.globalCompositeOperation="source-in",it.fillStyle=Oe?le.getPattern(it,this):le,it.fillRect(0,0,Ye,je),it.restore(),X.save(),X.transform.apply(X,Fe.transform),X.scale(1,-1),X.drawImage(ot.canvas,0,0,Ye,je,0,-1,1,1),X.restore()}},paintImageXObject:function(L){var X=L.startsWith("g_")?this.commonObjs.get(L):this.objs.get(L);X?this.paintInlineImageXObject(X):(0,D.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(L,X,le,Oe){var ke=L.startsWith("g_")?this.commonObjs.get(L):this.objs.get(L);if(ke){for(var Se=ke.width,Fe=ke.height,Ye=[],je=0,ot=Oe.length;je<ot;je+=2)Ye.push({transform:[X,0,0,le,Oe[je],Oe[je+1]],x:0,y:0,w:Se,h:Fe});this.paintInlineImageXObjectGroup(ke,Ye)}else(0,D.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(L){var X=L.width,le=L.height,Oe=this.ctx;this.save(),Oe.scale(1/X,-1/le);var lt,Ze,ke=Oe.mozCurrentTransformInverse,Se=ke[0],Fe=ke[1],Ye=Math.max(Math.sqrt(Se*Se+Fe*Fe),1),je=ke[2],ot=ke[3],it=Math.max(Math.sqrt(je*je+ot*ot),1);if("function"==typeof HTMLElement&&L instanceof HTMLElement||!L.data)lt=L;else{var Mt=(Ze=this.cachedCanvases.getCanvas("inlineImage",X,le)).context;Y(Mt,L),lt=Ze.canvas}for(var At=X,Jt=le,Ft="prescale1";Ye>2&&At>1||it>2&&Jt>1;){var an=At,un=Jt;Ye>2&&At>1&&(Ye/=At/(an=Math.ceil(At/2))),it>2&&Jt>1&&(it/=Jt/(un=Math.ceil(Jt/2))),(Mt=(Ze=this.cachedCanvases.getCanvas(Ft,an,un)).context).clearRect(0,0,an,un),Mt.drawImage(lt,0,0,At,Jt,0,0,an,un),lt=Ze.canvas,At=an,Jt=un,Ft="prescale1"===Ft?"prescale2":"prescale1"}if(Oe.drawImage(lt,0,0,At,Jt,0,-le,X,le),this.imageLayer){var Ot=this.getCanvasPosition(0,-le);this.imageLayer.appendImage({imgData:L,left:Ot[0],top:Ot[1],width:X/ke[0],height:le/ke[3]})}this.restore()},paintInlineImageXObjectGroup:function(L,X){var le=this.ctx,Oe=L.width,ke=L.height,Se=this.cachedCanvases.getCanvas("inlineImage",Oe,ke);Y(Se.context,L);for(var Ye=0,je=X.length;Ye<je;Ye++){var ot=X[Ye];if(le.save(),le.transform.apply(le,ot.transform),le.scale(1,-1),le.drawImage(Se.canvas,ot.x,ot.y,ot.w,ot.h,0,-1,1,1),this.imageLayer){var it=this.getCanvasPosition(ot.x,ot.y);this.imageLayer.appendImage({imgData:L,left:it[0],top:it[1],width:Oe,height:ke})}le.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,D.warn)("Unsupported 'paintXObject' command.")},markPoint:function(L){},markPointProps:function(L,X){},beginMarkedContent:function(L){},beginMarkedContentProps:function(L,X){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var L=this.ctx;this.pendingClip&&(this.pendingClip===I?L.clip("evenodd"):L.clip(),this.pendingClip=null),L.beginPath()},getSinglePixelWidth:function(L){if(null===this._cachedGetSinglePixelWidth){var X=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(X[0]*X[0]+X[1]*X[1],X[2]*X[2]+X[3]*X[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(L,X){var le=this.ctx.mozCurrentTransform;return[le[0]*L+le[2]*X+le[4],le[1]*L+le[3]*X+le[5]]}},D.OPS)fe.prototype[D.OPS[M]]=fe.prototype[M];return fe}();ae.CanvasGraphics=ue},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.getShadingPatternFromIR=function e(ge){var b=E[ge[0]];if(!b)throw new Error("Unknown IR type: ".concat(ge[0]));return b.fromIR(ge)},ae.TilingPattern=void 0;var D=J(2),E={};function Te(ge,b){if(b&&"undefined"!=typeof Path2D){var ie=b[2]-b[0],H=b[3]-b[1],_e=new Path2D;_e.rect(b[0],b[1],ie,H),ge.clip(_e)}}E.RadialAxial={fromIR:function(b){var ie=b[1],H=b[2],_e=b[3],j=b[4],Ce=b[5],ue=b[6],z=b[7];return{type:"Pattern",getPattern:function(xe){var fe;Te(xe,H),"axial"===ie?fe=xe.createLinearGradient(j[0],j[1],Ce[0],Ce[1]):"radial"===ie&&(fe=xe.createRadialGradient(j[0],j[1],ue,Ce[0],Ce[1],z));for(var Y=0,S=_e.length;Y<S;++Y){var A=_e[Y];fe.addColorStop(A[0],A[1])}return fe}}}};var _=function(){function b(_e,j,Ce,ue,z,se,xe,fe){var y,Y=j.coords,S=j.colors,A=_e.data,G=4*_e.width;Y[Ce+1]>Y[ue+1]&&(y=Ce,Ce=ue,ue=y,y=se,se=xe,xe=y),Y[ue+1]>Y[z+1]&&(y=ue,ue=z,z=y,y=xe,xe=fe,fe=y),Y[Ce+1]>Y[ue+1]&&(y=Ce,Ce=ue,ue=y,y=se,se=xe,xe=y);var oe=(Y[Ce]+j.offsetX)*j.scaleX,ce=(Y[Ce+1]+j.offsetY)*j.scaleY,q=(Y[ue]+j.offsetX)*j.scaleX,B=(Y[ue+1]+j.offsetY)*j.scaleY,ee=(Y[z]+j.offsetX)*j.scaleX,te=(Y[z+1]+j.offsetY)*j.scaleY;if(!(ce>=te))for(var Ye,je,ot,it,lt,Ze,Mt,At,K=S[se],I=S[se+1],M=S[se+2],Q=S[xe],L=S[xe+1],X=S[xe+2],le=S[fe],Oe=S[fe+1],ke=S[fe+2],Se=Math.round(ce),Fe=Math.round(te),Jt=Se;Jt<=Fe;Jt++){if(Jt<B){var Ft;Ye=oe-(oe-q)*(Ft=Jt<ce?0:ce===B?1:(ce-Jt)/(ce-B)),je=K-(K-Q)*Ft,ot=I-(I-L)*Ft,it=M-(M-X)*Ft}else{var an;Ye=q-(q-ee)*(an=Jt>te?1:B===te?0:(B-Jt)/(B-te)),je=Q-(Q-le)*an,ot=L-(L-Oe)*an,it=X-(X-ke)*an}var un=void 0;lt=oe-(oe-ee)*(un=Jt<ce?0:Jt>te?1:(ce-Jt)/(ce-te)),Ze=K-(K-le)*un,Mt=I-(I-Oe)*un,At=M-(M-ke)*un;for(var Ot=Math.round(Math.min(Ye,lt)),dn=Math.round(Math.max(Ye,lt)),oi=G*Jt+4*Ot,En=Ot;En<=dn;En++)(un=(Ye-En)/(Ye-lt))<0?un=0:un>1&&(un=1),A[oi++]=je-(je-Ze)*un|0,A[oi++]=ot-(ot-Mt)*un|0,A[oi++]=it-(it-At)*un|0,A[oi++]=255}}function ie(_e,j,Ce){var se,xe,ue=j.coords,z=j.colors;switch(j.type){case"lattice":var fe=j.verticesPerRow,Y=Math.floor(ue.length/fe)-1,S=fe-1;for(se=0;se<Y;se++)for(var A=se*fe,G=0;G<S;G++,A++)b(_e,Ce,ue[A],ue[A+1],ue[A+fe],z[A],z[A+1],z[A+fe]),b(_e,Ce,ue[A+fe+1],ue[A+1],ue[A+fe],z[A+fe+1],z[A+1],z[A+fe]);break;case"triangles":for(se=0,xe=ue.length;se<xe;se+=3)b(_e,Ce,ue[se],ue[se+1],ue[se+2],z[se],z[se+1],z[se+2]);break;default:throw new Error("illegal figure")}}return function H(_e,j,Ce,ue,z,se,xe,fe){var Q,L,X,le,G=Math.floor(_e[0]),y=Math.floor(_e[1]),oe=Math.ceil(_e[2])-G,ce=Math.ceil(_e[3])-y,q=Math.min(Math.ceil(Math.abs(oe*j[0]*1.1)),3e3),B=Math.min(Math.ceil(Math.abs(ce*j[1]*1.1)),3e3),ee=oe/q,te=ce/B,K={coords:Ce,colors:ue,offsetX:-G,offsetY:-y,scaleX:1/ee,scaleY:1/te},I=q+4,M=B+4;if(fe.isEnabled)Q=fe.drawFigures({width:q,height:B,backgroundColor:se,figures:z,context:K}),(L=xe.getCanvas("mesh",I,M,!1)).context.drawImage(Q,2,2),Q=L.canvas;else{var Oe=(L=xe.getCanvas("mesh",I,M,!1)).context,ke=Oe.createImageData(q,B);if(se){var Se=ke.data;for(X=0,le=Se.length;X<le;X+=4)Se[X]=se[0],Se[X+1]=se[1],Se[X+2]=se[2],Se[X+3]=255}for(X=0;X<z.length;X++)ie(ke,z[X],K);Oe.putImageData(ke,2,2),Q=L.canvas}return{canvas:Q,offsetX:G-2*ee,offsetY:y-2*te,scaleX:ee,scaleY:te}}}();E.Mesh={fromIR:function(b){var ie=b[2],H=b[3],_e=b[4],j=b[5],Ce=b[6],ue=b[7],z=b[8];return{type:"Pattern",getPattern:function(xe,fe,Y){var S;if(Te(xe,ue),Y)S=D.Util.singularValueDecompose2dScale(xe.mozCurrentTransform);else if(S=D.Util.singularValueDecompose2dScale(fe.baseTransform),Ce){var A=D.Util.singularValueDecompose2dScale(Ce);S=[S[0]*A[0],S[1]*A[1]]}var G=_(j,S,ie,H,_e,Y?null:z,fe.cachedCanvases,fe.webGLContext);return Y||(xe.setTransform.apply(xe,fe.baseTransform),Ce&&xe.transform.apply(xe,Ce)),xe.translate(G.offsetX,G.offsetY),xe.scale(G.scaleX,G.scaleY),xe.createPattern(G.canvas,"no-repeat")}}}},E.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var N=function(){function H(_e,j,Ce,ue,z){this.operatorList=_e[2],this.matrix=_e[3]||[1,0,0,1,0,0],this.bbox=_e[4],this.xstep=_e[5],this.ystep=_e[6],this.paintType=_e[7],this.tilingType=_e[8],this.color=j,this.canvasGraphicsFactory=ue,this.baseTransform=z,this.type="Pattern",this.ctx=Ce}return H.prototype={createPatternCanvas:function(j){var Ce=this.operatorList,ue=this.bbox,z=this.xstep,se=this.ystep,xe=this.paintType,Y=this.color,S=this.canvasGraphicsFactory;(0,D.info)("TilingType: "+this.tilingType);var A=ue[0],G=ue[1],y=ue[2],oe=ue[3],ce=D.Util.singularValueDecompose2dScale(this.matrix),q=D.Util.singularValueDecompose2dScale(this.baseTransform),B=[ce[0]*q[0],ce[1]*q[1]],ee=this.getSizeAndScale(z,this.ctx.canvas.width,B[0]),te=this.getSizeAndScale(se,this.ctx.canvas.height,B[1]),K=j.cachedCanvases.getCanvas("pattern",ee.size,te.size,!0),M=S.createCanvasGraphics(K.context);return M.groupLevel=j.groupLevel,this.setFillAndStrokeStyleToContext(M,xe,Y),M.transform(ee.scale,0,0,te.scale,0,0),M.transform(1,0,0,1,-A,-G),this.clipBbox(M,ue,A,G,y,oe),M.executeOperatorList(Ce),this.ctx.transform(1,0,0,1,A,G),this.ctx.scale(1/ee.scale,1/te.scale),K.canvas},getSizeAndScale:function(j,Ce,ue){j=Math.abs(j);var z=Math.max(3e3,Ce),se=Math.ceil(j*ue);return se>=z?se=z:ue=se/j,{scale:ue,size:se}},clipBbox:function(j,Ce,ue,z,se,xe){Array.isArray(Ce)&&4===Ce.length&&(j.ctx.rect(ue,z,se-ue,xe-z),j.clip(),j.endPath())},setFillAndStrokeStyleToContext:function(j,Ce,ue){var z=j.ctx,se=j.current;switch(Ce){case 1:var xe=this.ctx;z.fillStyle=xe.fillStyle,z.strokeStyle=xe.strokeStyle,se.fillColor=xe.fillStyle,se.strokeColor=xe.strokeStyle;break;case 2:var fe=D.Util.makeCssRgb(ue[0],ue[1],ue[2]);z.fillStyle=fe,z.strokeStyle=fe,se.fillColor=fe,se.strokeColor=fe;break;default:throw new D.FormatError("Unsupported paint type: ".concat(Ce))}},getPattern:function(j,Ce){(j=this.ctx).setTransform.apply(j,this.baseTransform),j.transform.apply(j,this.matrix);var ue=this.createPatternCanvas(Ce);return j.createPattern(ue,"repeat")}},H}();ae.TilingPattern=N},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.GlobalWorkerOptions=void 0;var D=Object.create(null);ae.GlobalWorkerOptions=D,D.workerPort=void 0===D.workerPort?null:D.workerPort,D.workerSrc=void 0===D.workerSrc?"":D.workerSrc},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.MessageHandler=void 0;var D=J(2);function _(N){if("object"!=typeof N||null===N)return N;switch(N.name){case"AbortException":return new D.AbortException(N.message);case"MissingPDFException":return new D.MissingPDFException(N.message);case"UnexpectedResponseException":return new D.UnexpectedResponseException(N.message,N.status);case"UnknownErrorException":return new D.UnknownErrorException(N.message,N.details);default:return new D.UnknownErrorException(N.message,N.toString())}}var e=function(){function N(ge,b,ie){var H=this;_classCallCheck(this,N),this.sourceName=ge,this.targetName=b,this.comObj=ie,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(_e){var j=_e.data;if(j.targetName===H.sourceName){if(j.stream)return void H._processStreamMessage(j);if(j.callback){var Ce=j.callbackId,ue=H.callbackCapabilities[Ce];if(!ue)throw new Error("Cannot resolve callback ".concat(Ce));if(delete H.callbackCapabilities[Ce],1===j.callback)ue.resolve(j.data);else{if(2!==j.callback)throw new Error("Unexpected callback case");ue.reject(_(j.reason))}return}var z=H.actionHandler[j.action];if(!z)throw new Error("Unknown action from worker: ".concat(j.action));if(j.callbackId){var se=H.sourceName,xe=j.sourceName;return void new Promise(function(fe){fe(z(j.data))}).then(function(fe){ie.postMessage({sourceName:se,targetName:xe,callback:1,callbackId:j.callbackId,data:fe})},function(fe){ie.postMessage({sourceName:se,targetName:xe,callback:2,callbackId:j.callbackId,reason:_(fe)})})}if(j.streamId)return void H._createStreamSink(j);z(j.data)}},ie.addEventListener("message",this._onComObjOnMessage)}return _createClass(N,[{key:"on",value:function(b,ie){var H=this.actionHandler;if(H[b])throw new Error('There is already an actionName called "'.concat(b,'"'));H[b]=ie}},{key:"send",value:function(b,ie,H){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,data:ie},H)}},{key:"sendWithPromise",value:function(b,ie,H){var _e=this.callbackId++,j=(0,D.createPromiseCapability)();this.callbackCapabilities[_e]=j;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,callbackId:_e,data:ie},H)}catch(Ce){j.reject(Ce)}return j.promise}},{key:"sendWithStream",value:function(b,ie,H,_e){var j=this,Ce=this.streamId++,ue=this.sourceName,z=this.targetName,se=this.comObj;return new ReadableStream({start:function(fe){var Y=(0,D.createPromiseCapability)();return j.streamControllers[Ce]={controller:fe,startCall:Y,pullCall:null,cancelCall:null,isClosed:!1},j._postMessage({sourceName:ue,targetName:z,action:b,streamId:Ce,data:ie,desiredSize:fe.desiredSize},_e),Y.promise},pull:function(fe){var Y=(0,D.createPromiseCapability)();return j.streamControllers[Ce].pullCall=Y,se.postMessage({sourceName:ue,targetName:z,stream:6,streamId:Ce,desiredSize:fe.desiredSize}),Y.promise},cancel:function(fe){(0,D.assert)(fe instanceof Error,"cancel must have a valid reason");var Y=(0,D.createPromiseCapability)();return j.streamControllers[Ce].cancelCall=Y,j.streamControllers[Ce].isClosed=!0,se.postMessage({sourceName:ue,targetName:z,stream:1,streamId:Ce,reason:_(fe)}),Y.promise}},H)}},{key:"_createStreamSink",value:function(b){var ie=this,H=this.actionHandler[b.action],_e=b.streamId,j=this.sourceName,Ce=b.sourceName,ue=this.comObj,z={enqueue:function(xe){var fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,Y=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var S=this.desiredSize;this.desiredSize-=fe,S>0&&this.desiredSize<=0&&(this.sinkCapability=(0,D.createPromiseCapability)(),this.ready=this.sinkCapability.promise),ie._postMessage({sourceName:j,targetName:Ce,stream:4,streamId:_e,chunk:xe},Y)}},close:function(){this.isCancelled||(this.isCancelled=!0,ue.postMessage({sourceName:j,targetName:Ce,stream:3,streamId:_e}),delete ie.streamSinks[_e])},error:function(xe){(0,D.assert)(xe instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ue.postMessage({sourceName:j,targetName:Ce,stream:5,streamId:_e,reason:_(xe)}))},sinkCapability:(0,D.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:b.desiredSize,ready:null};z.sinkCapability.resolve(),z.ready=z.sinkCapability.promise,this.streamSinks[_e]=z,new Promise(function(se){se(H(b.data,z))}).then(function(){ue.postMessage({sourceName:j,targetName:Ce,stream:8,streamId:_e,success:!0})},function(se){ue.postMessage({sourceName:j,targetName:Ce,stream:8,streamId:_e,reason:_(se)})})}},{key:"_processStreamMessage",value:function(b){var ie=b.streamId,H=this.sourceName,_e=b.sourceName,j=this.comObj;switch(b.stream){case 8:b.success?this.streamControllers[ie].startCall.resolve():this.streamControllers[ie].startCall.reject(_(b.reason));break;case 7:b.success?this.streamControllers[ie].pullCall.resolve():this.streamControllers[ie].pullCall.reject(_(b.reason));break;case 6:if(!this.streamSinks[ie]){j.postMessage({sourceName:H,targetName:_e,stream:7,streamId:ie,success:!0});break}this.streamSinks[ie].desiredSize<=0&&b.desiredSize>0&&this.streamSinks[ie].sinkCapability.resolve(),this.streamSinks[ie].desiredSize=b.desiredSize;var Ce=this.streamSinks[b.streamId].onPull;new Promise(function(z){z(Ce&&Ce())}).then(function(){j.postMessage({sourceName:H,targetName:_e,stream:7,streamId:ie,success:!0})},function(z){j.postMessage({sourceName:H,targetName:_e,stream:7,streamId:ie,reason:_(z)})});break;case 4:if((0,D.assert)(this.streamControllers[ie],"enqueue should have stream controller"),this.streamControllers[ie].isClosed)break;this.streamControllers[ie].controller.enqueue(b.chunk);break;case 3:if((0,D.assert)(this.streamControllers[ie],"close should have stream controller"),this.streamControllers[ie].isClosed)break;this.streamControllers[ie].isClosed=!0,this.streamControllers[ie].controller.close(),this._deleteStreamController(ie);break;case 5:(0,D.assert)(this.streamControllers[ie],"error should have stream controller"),this.streamControllers[ie].controller.error(_(b.reason)),this._deleteStreamController(ie);break;case 2:b.success?this.streamControllers[ie].cancelCall.resolve():this.streamControllers[ie].cancelCall.reject(_(b.reason)),this._deleteStreamController(ie);break;case 1:if(!this.streamSinks[ie])break;var ue=this.streamSinks[b.streamId].onCancel;new Promise(function(z){z(ue&&ue(_(b.reason)))}).then(function(){j.postMessage({sourceName:H,targetName:_e,stream:2,streamId:ie,success:!0})},function(z){j.postMessage({sourceName:H,targetName:_e,stream:2,streamId:ie,reason:_(z)})}),this.streamSinks[ie].sinkCapability.reject(_(b.reason)),this.streamSinks[ie].isCancelled=!0,delete this.streamSinks[ie];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(ge=_asyncToGenerator(_regeneratorRuntime().mark(function ie(H){return _regeneratorRuntime().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,Promise.allSettled([this.streamControllers[H].startCall,this.streamControllers[H].pullCall,this.streamControllers[H].cancelCall].map(function(Ce){return Ce&&Ce.promise}));case 2:delete this.streamControllers[H];case 3:case"end":return j.stop()}},ie,this)})),function b(ie){return ge.apply(this,arguments)})},{key:"_postMessage",value:function(b,ie){ie&&this.postMessageTransfers?this.comObj.postMessage(b,ie):this.comObj.postMessage(b)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),N;var ge}();ae.MessageHandler=e},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.Metadata=void 0;var D=J(2),E=J(13);ae.Metadata=function(){function _(e){_classCallCheck(this,_),(0,D.assert)("string"==typeof e,"Metadata: input is not a string"),e=this._repair(e);var ge=(new E.SimpleXMLParser).parseFromString(e);this._metadataMap=new Map,ge&&this._parse(ge)}return _createClass(_,[{key:"_repair",value:function(N){return N.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(ge,b){for(var ie=b.replace(/\\([0-3])([0-7])([0-7])/g,function(ue,z,se,xe){return String.fromCharCode(64*z+8*se+1*xe)}).replace(/&(amp|apos|gt|lt|quot);/g,function(ue,z){switch(z){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(z," isn't defined."))}),H="",_e=0,j=ie.length;_e<j;_e+=2){var Ce=256*ie.charCodeAt(_e)+ie.charCodeAt(_e+1);H+=Ce>=32&&Ce<127&&60!==Ce&&62!==Ce&&38!==Ce?String.fromCharCode(Ce):"&#x"+(65536+Ce).toString(16).substring(1)+";"}return">"+H})}},{key:"_parse",value:function(N){var ge=N.documentElement;if("rdf:rdf"!==ge.nodeName.toLowerCase())for(ge=ge.firstChild;ge&&"rdf:rdf"!==ge.nodeName.toLowerCase();)ge=ge.nextSibling;var b=ge?ge.nodeName.toLowerCase():null;if(ge&&"rdf:rdf"===b&&ge.hasChildNodes())for(var ie=ge.childNodes,H=0,_e=ie.length;H<_e;H++){var j=ie[H];if("rdf:description"===j.nodeName.toLowerCase())for(var Ce=0,ue=j.childNodes.length;Ce<ue;Ce++)if("#text"!==j.childNodes[Ce].nodeName.toLowerCase()){var z=j.childNodes[Ce],se=z.nodeName.toLowerCase();this._metadataMap.set(se,z.textContent.trim())}}}},{key:"get",value:function(N){return this._metadataMap.has(N)?this._metadataMap.get(N):null}},{key:"getAll",value:function(){var b,N=Object.create(null),ge=_createForOfIteratorHelper(this._metadataMap);try{for(ge.s();!(b=ge.n()).done;){var ie=_slicedToArray(b.value,2);N[ie[0]]=ie[1]}}catch(j){ge.e(j)}finally{ge.f()}return N}},{key:"has",value:function(N){return this._metadataMap.has(N)}}]),_}()},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.SimpleXMLParser=void 0;function E(ge,b){var ie=ge[b];return" "===ie||"\n"===ie||"\r"===ie||"\t"===ie}var _=function(){function ge(){_classCallCheck(this,ge)}return _createClass(ge,[{key:"_resolveEntities",value:function(ie){var H=this;return ie.replace(/&([^;]+);/g,function(_e,j){if("#x"===j.substring(0,2))return String.fromCharCode(parseInt(j.substring(2),16));if("#"===j.substring(0,1))return String.fromCharCode(parseInt(j.substring(1),10));switch(j){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return H.onResolveEntity(j)})}},{key:"_parseContent",value:function(ie,H){var _e=[],j=H;function Ce(){for(;j<ie.length&&E(ie,j);)++j}for(;j<ie.length&&!E(ie,j)&&">"!==ie[j]&&"/"!==ie[j];)++j;var ue=ie.substring(H,j);for(Ce();j<ie.length&&">"!==ie[j]&&"/"!==ie[j]&&"?"!==ie[j];){Ce();for(var se,z="";j<ie.length&&!E(ie,j)&&"="!==ie[j];)z+=ie[j],++j;if(Ce(),"="!==ie[j])return null;++j,Ce();var xe=ie[j];if('"'!==xe&&"'"!==xe)return null;var fe=ie.indexOf(xe,++j);if(fe<0)return null;se=ie.substring(j,fe),_e.push({name:z,value:this._resolveEntities(se)}),j=fe+1,Ce()}return{name:ue,attributes:_e,parsed:j-H}}},{key:"_parseProcessingInstruction",value:function(ie,H){for(var _e=H;_e<ie.length&&!E(ie,_e)&&">"!==ie[_e]&&"/"!==ie[_e];)++_e;var Ce=ie.substring(H,_e);!function j(){for(;_e<ie.length&&E(ie,_e);)++_e}();for(var ue=_e;_e<ie.length&&("?"!==ie[_e]||">"!==ie[_e+1]);)++_e;return{name:Ce,value:ie.substring(ue,_e),parsed:_e-H}}},{key:"parseXml",value:function(ie){for(var H=0;H<ie.length;){var j=H;if("<"===ie[H]){var ue=void 0;switch(ie[++j]){case"/":if(++j,(ue=ie.indexOf(">",j))<0)return void this.onError(-9);this.onEndElement(ie.substring(j,ue)),j=ue+1;break;case"?":++j;var z=this._parseProcessingInstruction(ie,j);if("?>"!==ie.substring(j+z.parsed,j+z.parsed+2))return void this.onError(-3);this.onPi(z.name,z.value),j+=z.parsed+2;break;case"!":if("--"===ie.substring(j+1,j+3)){if((ue=ie.indexOf("--\x3e",j+3))<0)return void this.onError(-5);this.onComment(ie.substring(j+3,ue)),j=ue+3}else if("[CDATA["===ie.substring(j+1,j+8)){if((ue=ie.indexOf("]]>",j+8))<0)return void this.onError(-2);this.onCdata(ie.substring(j+8,ue)),j=ue+3}else{if("DOCTYPE"!==ie.substring(j+1,j+8))return void this.onError(-6);var se=ie.indexOf("[",j+8),xe=!1;if((ue=ie.indexOf(">",j+8))<0)return void this.onError(-4);if(se>0&&ue>se){if((ue=ie.indexOf("]>",j+8))<0)return void this.onError(-4);xe=!0}var fe=ie.substring(j+8,ue+(xe?1:0));this.onDoctype(fe),j=ue+(xe?2:1)}break;default:var Y=this._parseContent(ie,j);if(null===Y)return void this.onError(-6);var S=!1;if("/>"===ie.substring(j+Y.parsed,j+Y.parsed+2))S=!0;else if(">"!==ie.substring(j+Y.parsed,j+Y.parsed+1))return void this.onError(-9);this.onBeginElement(Y.name,Y.attributes,S),j+=Y.parsed+(S?2:1)}}else{for(;j<ie.length&&"<"!==ie[j];)j++;var A=ie.substring(H,j);this.onText(this._resolveEntities(A))}H=j}}},{key:"onResolveEntity",value:function(ie){return"&".concat(ie,";")}},{key:"onPi",value:function(ie,H){}},{key:"onComment",value:function(ie){}},{key:"onCdata",value:function(ie){}},{key:"onDoctype",value:function(ie){}},{key:"onText",value:function(ie){}},{key:"onBeginElement",value:function(ie,H,_e){}},{key:"onEndElement",value:function(ie){}},{key:"onError",value:function(ie){}}]),ge}(),e=function(){function ge(b,ie){_classCallCheck(this,ge),this.nodeName=b,this.nodeValue=ie,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return _createClass(ge,[{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var ie=this.parentNode.childNodes;if(ie){var H=ie.indexOf(this);if(-1!==H)return ie[H+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(ie){return ie.textContent}).join(""):this.nodeValue||""}},{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}}]),ge}();ae.SimpleXMLParser=function(ge){_inherits(ie,ge);var b=_createSuper(ie);function ie(){var H;return _classCallCheck(this,ie),(H=b.call(this))._currentFragment=null,H._stack=null,H._errorCode=0,H}return _createClass(ie,[{key:"parseFromString",value:function(_e){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(_e),0===this._errorCode){var Ce=_slicedToArray(this._currentFragment,1)[0];if(Ce)return{documentElement:Ce}}}},{key:"onResolveEntity",value:function(_e){return"apos"===_e?"'":_get(_getPrototypeOf(ie.prototype),"onResolveEntity",this).call(this,_e)}},{key:"onText",value:function(_e){if(!function Te(ge){for(var b=0,ie=ge.length;b<ie;b++)if(!E(ge,b))return!1;return!0}(_e)){var j=new e("#text",_e);this._currentFragment.push(j)}}},{key:"onCdata",value:function(_e){var j=new e("#text",_e);this._currentFragment.push(j)}},{key:"onBeginElement",value:function(_e,j,Ce){var ue=new e(_e);ue.childNodes=[],this._currentFragment.push(ue),!Ce&&(this._stack.push(this._currentFragment),this._currentFragment=ue.childNodes)}},{key:"onEndElement",value:function(_e){this._currentFragment=this._stack.pop()||[];var j=this._currentFragment[this._currentFragment.length-1];if(j)for(var Ce=0,ue=j.childNodes.length;Ce<ue;Ce++)j.childNodes[Ce].parentNode=j}},{key:"onError",value:function(_e){this._errorCode=_e}}]),ie}(_)},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.PDFDataTransportStream=void 0;var D=J(2);ae.PDFDataTransportStream=function(){function e(N,ge){var b=this;_classCallCheck(this,e),(0,D.assert)(ge,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=N.progressiveDone||!1;var ie=N.initialData;if(ie&&ie.length>0){var H=new Uint8Array(ie).buffer;this._queuedChunks.push(H)}this._pdfDataRangeTransport=ge,this._isStreamingSupported=!N.disableStream,this._isRangeSupported=!N.disableRange,this._contentLength=N.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(_e,j){b._onReceiveData({begin:_e,chunk:j})}),this._pdfDataRangeTransport.addProgressListener(function(_e,j){b._onProgress({loaded:_e,total:j})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(_e){b._onReceiveData({chunk:_e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){b._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return _createClass(e,[{key:"_onReceiveData",value:function(ge){var b=new Uint8Array(ge.chunk).buffer;if(void 0===ge.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{var ie=this._rangeReaders.some(function(H){return H._begin===ge.begin&&(H._enqueue(b),!0)});(0,D.assert)(ie,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}},{key:"_onProgress",value:function(ge){if(void 0===ge.total){var b=this._rangeReaders[0];b&&b.onProgress&&b.onProgress({loaded:ge.loaded})}else{var ie=this._fullRequestReader;ie&&ie.onProgress&&ie.onProgress({loaded:ge.loaded,total:ge.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(ge){var b=this._rangeReaders.indexOf(ge);b>=0&&this._rangeReaders.splice(b,1)}},{key:"getFullReader",value:function(){(0,D.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var ge=this._queuedChunks;return this._queuedChunks=null,new Te(this,ge,this._progressiveDone)}},{key:"getRangeReader",value:function(ge,b){if(b<=this._progressiveDataLength)return null;var ie=new _(this,ge,b);return this._pdfDataRangeTransport.requestDataRange(ge,b),this._rangeReaders.push(ie),ie}},{key:"cancelAllRequests",value:function(ge){this._fullRequestReader&&this._fullRequestReader.cancel(ge),this._rangeReaders.slice(0).forEach(function(ie){ie.cancel(ge)}),this._pdfDataRangeTransport.abort()}}]),e}();var Te=function(){function e(N,ge){var b=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this._stream=N,this._done=b||!1,this._filename=null,this._queuedChunks=ge||[],this._loaded=0;var H,ie=_createForOfIteratorHelper(this._queuedChunks);try{for(ie.s();!(H=ie.n()).done;){var _e=H.value;this._loaded+=_e.byteLength}}catch(j){ie.e(j)}finally{ie.f()}this._requests=[],this._headersReady=Promise.resolve(),N._fullRequestReader=this,this.onProgress=null}return _createClass(e,[{key:"_enqueue",value:function(ge){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ge,done:!1}):this._queuedChunks.push(ge),this._loaded+=ge.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(N=_asyncToGenerator(_regeneratorRuntime().mark(function b(){var ie,H;return _regeneratorRuntime().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(this._queuedChunks.length>0)){j.next=3;break}return ie=this._queuedChunks.shift(),j.abrupt("return",{value:ie,done:!1});case 3:if(!this._done){j.next=5;break}return j.abrupt("return",{value:void 0,done:!0});case 5:return H=(0,D.createPromiseCapability)(),this._requests.push(H),j.abrupt("return",H.promise);case 8:case"end":return j.stop()}},b,this)})),function ge(){return N.apply(this,arguments)})},{key:"cancel",value:function(ge){this._done=!0,this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),e;var N}(),_=function(){function e(N,ge,b){_classCallCheck(this,e),this._stream=N,this._begin=ge,this._end=b,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return _createClass(e,[{key:"_enqueue",value:function(ge){this._done||(0===this._requests.length?this._queuedChunk=ge:(this._requests.shift().resolve({value:ge,done:!1}),this._requests.forEach(function(ie){ie.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(N=_asyncToGenerator(_regeneratorRuntime().mark(function b(){var ie,H;return _regeneratorRuntime().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!this._queuedChunk){j.next=4;break}return ie=this._queuedChunk,this._queuedChunk=null,j.abrupt("return",{value:ie,done:!1});case 4:if(!this._done){j.next=6;break}return j.abrupt("return",{value:void 0,done:!0});case 6:return H=(0,D.createPromiseCapability)(),this._requests.push(H),j.abrupt("return",H.promise);case 9:case"end":return j.stop()}},b,this)})),function ge(){return N.apply(this,arguments)})},{key:"cancel",value:function(ge){this._done=!0,this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}}]),e;var N}()},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.WebGLContext=void 0;var D=J(2);ae.WebGLContext=function(){function _(e){var N=e.enable,ge=void 0!==N&&N;_classCallCheck(this,_),this._enabled=!0===ge}return _createClass(_,[{key:"isEnabled",get:function(){var N=this._enabled;return N&&(N=Te.tryInitGL()),(0,D.shadow)(this,"isEnabled",N)}},{key:"composeSMask",value:function(N){return Te.composeSMask(N.layer,N.mask,N.properties)}},{key:"drawFigures",value:function(N){return Te.drawFigures(N.width,N.height,N.backgroundColor,N.figures,N.context)}},{key:"clear",value:function(){Te.cleanup()}}]),_}();var Te=function(){function e(y,oe,ce){var q=y.createShader(ce);if(y.shaderSource(q,oe),y.compileShader(q),!y.getShaderParameter(q,y.COMPILE_STATUS)){var ee=y.getShaderInfoLog(q);throw new Error("Error during shader compilation: "+ee)}return q}function N(y,oe){return e(y,oe,y.VERTEX_SHADER)}function ge(y,oe){return e(y,oe,y.FRAGMENT_SHADER)}function b(y,oe){for(var ce=y.createProgram(),q=0,B=oe.length;q<B;++q)y.attachShader(ce,oe[q]);if(y.linkProgram(ce),!y.getProgramParameter(ce,y.LINK_STATUS)){var te=y.getProgramInfoLog(ce);throw new Error("Error during program linking: "+te)}return ce}function ie(y,oe,ce){y.activeTexture(ce);var q=y.createTexture();return y.bindTexture(y.TEXTURE_2D,q),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.NEAREST),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,oe),q}var H,_e;function j(){H||(_e=document.createElement("canvas"),H=_e.getContext("webgl",{premultipliedalpha:!1}))}var z=null,S=null;return{tryInitGL:function(){try{return j(),!!H}catch(oe){}return!1},composeSMask:function xe(y,oe,ce){var q=y.width,B=y.height;z||function se(){var y,oe;j(),y=_e,_e=null,oe=H,H=null;var B=b(oe,[N(oe,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),ge(oe,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);oe.useProgram(B);var ee={};ee.gl=oe,ee.canvas=y,ee.resolutionLocation=oe.getUniformLocation(B,"u_resolution"),ee.positionLocation=oe.getAttribLocation(B,"a_position"),ee.backdropLocation=oe.getUniformLocation(B,"u_backdrop"),ee.subtypeLocation=oe.getUniformLocation(B,"u_subtype");var te=oe.getAttribLocation(B,"a_texCoord"),K=oe.getUniformLocation(B,"u_image"),I=oe.getUniformLocation(B,"u_mask"),M=oe.createBuffer();oe.bindBuffer(oe.ARRAY_BUFFER,M),oe.bufferData(oe.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),oe.STATIC_DRAW),oe.enableVertexAttribArray(te),oe.vertexAttribPointer(te,2,oe.FLOAT,!1,0,0),oe.uniform1i(K,0),oe.uniform1i(I,1),z=ee}();var ee=z,te=ee.canvas,K=ee.gl;te.width=q,te.height=B,K.viewport(0,0,K.drawingBufferWidth,K.drawingBufferHeight),K.uniform2f(ee.resolutionLocation,q,B),ce.backdrop?K.uniform4f(ee.resolutionLocation,ce.backdrop[0],ce.backdrop[1],ce.backdrop[2],1):K.uniform4f(ee.resolutionLocation,0,0,0,0),K.uniform1i(ee.subtypeLocation,"Luminosity"===ce.subtype?1:0);var I=ie(K,y,K.TEXTURE0),M=ie(K,oe,K.TEXTURE1),Q=K.createBuffer();return K.bindBuffer(K.ARRAY_BUFFER,Q),K.bufferData(K.ARRAY_BUFFER,new Float32Array([0,0,q,0,0,B,0,B,q,0,q,B]),K.STATIC_DRAW),K.enableVertexAttribArray(ee.positionLocation),K.vertexAttribPointer(ee.positionLocation,2,K.FLOAT,!1,0,0),K.clearColor(0,0,0,0),K.enable(K.BLEND),K.blendFunc(K.ONE,K.ONE_MINUS_SRC_ALPHA),K.clear(K.COLOR_BUFFER_BIT),K.drawArrays(K.TRIANGLES,0,6),K.flush(),K.deleteTexture(I),K.deleteTexture(M),K.deleteBuffer(Q),te},drawFigures:function G(y,oe,ce,q,B){S||function A(){var y,oe;j(),y=_e,_e=null,oe=H,H=null;var B=b(oe,[N(oe,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),ge(oe,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);oe.useProgram(B);var ee={};ee.gl=oe,ee.canvas=y,ee.resolutionLocation=oe.getUniformLocation(B,"u_resolution"),ee.scaleLocation=oe.getUniformLocation(B,"u_scale"),ee.offsetLocation=oe.getUniformLocation(B,"u_offset"),ee.positionLocation=oe.getAttribLocation(B,"a_position"),ee.colorLocation=oe.getAttribLocation(B,"a_color"),S=ee}();var ee=S,te=ee.canvas,K=ee.gl;te.width=y,te.height=oe,K.viewport(0,0,K.drawingBufferWidth,K.drawingBufferHeight),K.uniform2f(ee.resolutionLocation,y,oe);var M,Q,L,I=0;for(M=0,Q=q.length;M<Q;M++)switch(q[M].type){case"lattice":I+=((L=q[M].coords.length/q[M].verticesPerRow|0)-1)*(q[M].verticesPerRow-1)*6;break;case"triangles":I+=q[M].coords.length}var X=new Float32Array(2*I),le=new Uint8Array(3*I),Oe=B.coords,ke=B.colors,Se=0,Fe=0;for(M=0,Q=q.length;M<Q;M++){var Ye=q[M],je=Ye.coords,ot=Ye.colors;switch(Ye.type){case"lattice":var it=Ye.verticesPerRow;L=je.length/it|0;for(var lt=1;lt<L;lt++)for(var Ze=lt*it+1,Mt=1;Mt<it;Mt++,Ze++)X[Se]=Oe[je[Ze-it-1]],X[Se+1]=Oe[je[Ze-it-1]+1],X[Se+2]=Oe[je[Ze-it]],X[Se+3]=Oe[je[Ze-it]+1],X[Se+4]=Oe[je[Ze-1]],X[Se+5]=Oe[je[Ze-1]+1],le[Fe]=ke[ot[Ze-it-1]],le[Fe+1]=ke[ot[Ze-it-1]+1],le[Fe+2]=ke[ot[Ze-it-1]+2],le[Fe+3]=ke[ot[Ze-it]],le[Fe+4]=ke[ot[Ze-it]+1],le[Fe+5]=ke[ot[Ze-it]+2],le[Fe+6]=ke[ot[Ze-1]],le[Fe+7]=ke[ot[Ze-1]+1],le[Fe+8]=ke[ot[Ze-1]+2],X[Se+6]=X[Se+2],X[Se+7]=X[Se+3],X[Se+8]=X[Se+4],X[Se+9]=X[Se+5],X[Se+10]=Oe[je[Ze]],X[Se+11]=Oe[je[Ze]+1],le[Fe+9]=le[Fe+3],le[Fe+10]=le[Fe+4],le[Fe+11]=le[Fe+5],le[Fe+12]=le[Fe+6],le[Fe+13]=le[Fe+7],le[Fe+14]=le[Fe+8],le[Fe+15]=ke[ot[Ze]],le[Fe+16]=ke[ot[Ze]+1],le[Fe+17]=ke[ot[Ze]+2],Se+=12,Fe+=18;break;case"triangles":for(var At=0,Jt=je.length;At<Jt;At++)X[Se]=Oe[je[At]],X[Se+1]=Oe[je[At]+1],le[Fe]=ke[ot[At]],le[Fe+1]=ke[ot[At]+1],le[Fe+2]=ke[ot[At]+2],Se+=2,Fe+=3}}ce?K.clearColor(ce[0]/255,ce[1]/255,ce[2]/255,1):K.clearColor(0,0,0,0),K.clear(K.COLOR_BUFFER_BIT);var Ft=K.createBuffer();K.bindBuffer(K.ARRAY_BUFFER,Ft),K.bufferData(K.ARRAY_BUFFER,X,K.STATIC_DRAW),K.enableVertexAttribArray(ee.positionLocation),K.vertexAttribPointer(ee.positionLocation,2,K.FLOAT,!1,0,0);var an=K.createBuffer();return K.bindBuffer(K.ARRAY_BUFFER,an),K.bufferData(K.ARRAY_BUFFER,le,K.STATIC_DRAW),K.enableVertexAttribArray(ee.colorLocation),K.vertexAttribPointer(ee.colorLocation,3,K.UNSIGNED_BYTE,!1,0,0),K.uniform2f(ee.scaleLocation,B.scaleX,B.scaleY),K.uniform2f(ee.offsetLocation,B.offsetX,B.offsetY),K.drawArrays(K.TRIANGLES,0,I),K.flush(),K.deleteBuffer(Ft),K.deleteBuffer(an),te},cleanup:function(){z&&z.canvas&&(z.canvas.width=0,z.canvas.height=0),S&&S.canvas&&(S.canvas.width=0,S.canvas.height=0),z=null,S=null}}}()},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.AnnotationLayer=void 0;var D=J(1),E=J(2),Te=function(){function K(){_classCallCheck(this,K)}return _createClass(K,null,[{key:"create",value:function(M){switch(M.data.annotationType){case E.AnnotationType.LINK:return new e(M);case E.AnnotationType.TEXT:return new N(M);case E.AnnotationType.WIDGET:switch(M.data.fieldType){case"Tx":return new b(M);case"Btn":return M.data.radioButton?new H(M):M.data.checkBox?new ie(M):new _e(M);case"Ch":return new j(M)}return new ge(M);case E.AnnotationType.POPUP:return new Ce(M);case E.AnnotationType.FREETEXT:return new z(M);case E.AnnotationType.LINE:return new se(M);case E.AnnotationType.SQUARE:return new xe(M);case E.AnnotationType.CIRCLE:return new fe(M);case E.AnnotationType.POLYLINE:return new Y(M);case E.AnnotationType.CARET:return new A(M);case E.AnnotationType.INK:return new G(M);case E.AnnotationType.POLYGON:return new S(M);case E.AnnotationType.HIGHLIGHT:return new y(M);case E.AnnotationType.UNDERLINE:return new oe(M);case E.AnnotationType.SQUIGGLY:return new ce(M);case E.AnnotationType.STRIKEOUT:return new q(M);case E.AnnotationType.STAMP:return new B(M);case E.AnnotationType.FILEATTACHMENT:return new ee(M);default:return new _(M)}}}]),K}(),_=function(){function K(I){var M=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,K),this.isRenderable=M,this.data=I.data,this.layer=I.layer,this.page=I.page,this.viewport=I.viewport,this.linkService=I.linkService,this.downloadManager=I.downloadManager,this.imageResourcesPath=I.imageResourcesPath,this.renderInteractiveForms=I.renderInteractiveForms,this.svgFactory=I.svgFactory,M&&(this.container=this._createContainer(Q))}return _createClass(K,[{key:"_createContainer",value:function(){var M=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=this.data,L=this.page,X=this.viewport,le=document.createElement("section"),Oe=Q.rect[2]-Q.rect[0],ke=Q.rect[3]-Q.rect[1];le.setAttribute("data-annotation-id",Q.id);var Se=E.Util.normalizeRect([Q.rect[0],L.view[3]-Q.rect[1]+L.view[1],Q.rect[2],L.view[3]-Q.rect[3]+L.view[1]]);if(le.style.transform="matrix(".concat(X.transform.join(","),")"),le.style.transformOrigin="-".concat(Se[0],"px -").concat(Se[1],"px"),!M&&Q.borderStyle.width>0){le.style.borderWidth="".concat(Q.borderStyle.width,"px"),Q.borderStyle.style!==E.AnnotationBorderStyleType.UNDERLINE&&(Oe-=2*Q.borderStyle.width,ke-=2*Q.borderStyle.width);var Fe=Q.borderStyle.horizontalCornerRadius,Ye=Q.borderStyle.verticalCornerRadius;if(Fe>0||Ye>0){var je="".concat(Fe,"px / ").concat(Ye,"px");le.style.borderRadius=je}switch(Q.borderStyle.style){case E.AnnotationBorderStyleType.SOLID:le.style.borderStyle="solid";break;case E.AnnotationBorderStyleType.DASHED:le.style.borderStyle="dashed";break;case E.AnnotationBorderStyleType.BEVELED:(0,E.warn)("Unimplemented border style: beveled");break;case E.AnnotationBorderStyleType.INSET:(0,E.warn)("Unimplemented border style: inset");break;case E.AnnotationBorderStyleType.UNDERLINE:le.style.borderBottomStyle="solid"}Q.color?le.style.borderColor=E.Util.makeCssRgb(0|Q.color[0],0|Q.color[1],0|Q.color[2]):le.style.borderWidth=0}return le.style.left="".concat(Se[0],"px"),le.style.top="".concat(Se[1],"px"),le.style.width="".concat(Oe,"px"),le.style.height="".concat(ke,"px"),le}},{key:"_createPopup",value:function(M,Q,L){Q||((Q=document.createElement("div")).style.height=M.style.height,Q.style.width=M.style.width,M.appendChild(Q));var le=new ue({container:M,trigger:Q,color:L.color,title:L.title,modificationDate:L.modificationDate,contents:L.contents,hideWrapper:!0}).render();le.style.left=M.style.width,M.appendChild(le)}},{key:"render",value:function(){(0,E.unreachable)("Abstract method `AnnotationElement.render` called")}}]),K}(),e=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.url||Q.data.dest||Q.data.action))}return _createClass(M,[{key:"render",value:function(){this.container.className="linkAnnotation";var L=this.data,X=this.linkService,le=document.createElement("a");return L.url?(0,D.addLinkAttributes)(le,{url:L.url,target:L.newWindow?D.LinkTarget.BLANK:X.externalLinkTarget,rel:X.externalLinkRel,enabled:X.externalLinkEnabled}):L.action?this._bindNamedAction(le,L.action):this._bindLink(le,L.dest),this.container.appendChild(le),this.container}},{key:"_bindLink",value:function(L,X){var le=this;L.href=this.linkService.getDestinationHash(X),L.onclick=function(){return X&&le.linkService.navigateTo(X),!1},X&&(L.className="internalLink")}},{key:"_bindNamedAction",value:function(L,X){var le=this;L.href=this.linkService.getAnchorUrl(""),L.onclick=function(){return le.linkService.executeNamedAction(X),!1},L.className="internalLink"}}]),M}(_),N=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents))}return _createClass(M,[{key:"render",value:function(){this.container.className="textAnnotation";var L=document.createElement("img");return L.style.height=this.container.style.height,L.style.width=this.container.style.width,L.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",L.alt="[{{type}} Annotation]",L.dataset.l10nId="text_annotation_type",L.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,L,this.data),this.container.appendChild(L),this.container}}]),M}(_),ge=function(K){_inherits(M,K);var I=_createSuper(M);function M(){return _classCallCheck(this,M),I.apply(this,arguments)}return _createClass(M,[{key:"render",value:function(){return this.container}}]),M}(_),b=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,Q.renderInteractiveForms||!Q.data.hasAppearance&&!!Q.data.fieldValue)}return _createClass(M,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var X=null;if(this.renderInteractiveForms){if(this.data.multiLine?(X=document.createElement("textarea")).textContent=this.data.fieldValue:((X=document.createElement("input")).type="text",X.setAttribute("value",this.data.fieldValue)),X.disabled=this.data.readOnly,X.name=this.data.fieldName,null!==this.data.maxLen&&(X.maxLength=this.data.maxLen),this.data.comb){var Oe=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;X.classList.add("comb"),X.style.letterSpacing="calc(".concat(Oe,"px - 1ch)")}}else{(X=document.createElement("div")).textContent=this.data.fieldValue,X.style.verticalAlign="middle",X.style.display="table-cell";var ke=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(ke=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(X,ke)}return null!==this.data.textAlignment&&(X.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(X),this.container}},{key:"_setTextStyle",value:function(L,X){var le=L.style;if(le.fontSize="".concat(this.data.fontSize,"px"),le.direction=this.data.fontDirection<0?"rtl":"ltr",X){var Oe="normal";X.black?Oe="900":X.bold&&(Oe="bold"),le.fontWeight=Oe,le.fontStyle=X.italic?"italic":"normal";var ke=X.loadedName?'"'.concat(X.loadedName,'", '):"";le.fontFamily=ke+(X.fallbackName||"Helvetica, sans-serif")}}}]),M}(ge),ie=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,Q.renderInteractiveForms)}return _createClass(M,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var L=document.createElement("input");return L.disabled=this.data.readOnly,L.type="checkbox",L.name=this.data.fieldName,this.data.fieldValue&&"Off"!==this.data.fieldValue&&L.setAttribute("checked",!0),this.container.appendChild(L),this.container}}]),M}(ge),H=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,Q.renderInteractiveForms)}return _createClass(M,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var L=document.createElement("input");return L.disabled=this.data.readOnly,L.type="radio",L.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&L.setAttribute("checked",!0),this.container.appendChild(L),this.container}}]),M}(ge),_e=function(K){_inherits(M,K);var I=_createSuper(M);function M(){return _classCallCheck(this,M),I.apply(this,arguments)}return _createClass(M,[{key:"render",value:function(){var L=_get(_getPrototypeOf(M.prototype),"render",this).call(this);return L.className="buttonWidgetAnnotation pushButton",L}}]),M}(e),j=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,Q.renderInteractiveForms)}return _createClass(M,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var L=document.createElement("select");L.disabled=this.data.readOnly,L.name=this.data.fieldName,this.data.combo||(L.size=this.data.options.length,this.data.multiSelect&&(L.multiple=!0));var le,X=_createForOfIteratorHelper(this.data.options);try{for(X.s();!(le=X.n()).done;){var Oe=le.value,ke=document.createElement("option");ke.textContent=Oe.displayValue,ke.value=Oe.exportValue,this.data.fieldValue.includes(Oe.displayValue)&&ke.setAttribute("selected",!0),L.appendChild(ke)}}catch(Se){X.e(Se)}finally{X.f()}return this.container.appendChild(L),this.container}}]),M}(ge),Ce=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!(!Q.data.title&&!Q.data.contents))}return _createClass(M,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var X='[data-annotation-id="'.concat(this.data.parentId,'"]'),le=this.layer.querySelector(X);if(!le)return this.container;var Oe=new ue({container:this.container,trigger:le,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),ke=parseFloat(le.style.left),Se=parseFloat(le.style.width);return this.container.style.transformOrigin="-".concat(ke+Se,"px -").concat(le.style.top),this.container.style.left="".concat(ke+Se,"px"),this.container.appendChild(Oe.render()),this.container}}]),M}(_),ue=function(){function K(I){_classCallCheck(this,K),this.container=I.container,this.trigger=I.trigger,this.color=I.color,this.title=I.title,this.modificationDate=I.modificationDate,this.contents=I.contents,this.hideWrapper=I.hideWrapper||!1,this.pinned=!1}return _createClass(K,[{key:"render",value:function(){var Q=document.createElement("div");Q.className="popupWrapper",this.hideElement=this.hideWrapper?Q:this.container,this.hideElement.setAttribute("hidden",!0);var L=document.createElement("div");L.className="popup";var X=this.color;X&&(L.style.backgroundColor=E.Util.makeCssRgb(0|.7*(255-X[0])+X[0],0|.7*(255-X[1])+X[1],0|.7*(255-X[2])+X[2]));var Se=document.createElement("h1");Se.textContent=this.title,L.appendChild(Se);var Fe=D.PDFDateString.toDateObject(this.modificationDate);if(Fe){var Ye=document.createElement("span");Ye.textContent="{{date}}, {{time}}",Ye.dataset.l10nId="annotation_date_string",Ye.dataset.l10nArgs=JSON.stringify({date:Fe.toLocaleDateString(),time:Fe.toLocaleTimeString()}),L.appendChild(Ye)}var je=this._formatContents(this.contents);return L.appendChild(je),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),L.addEventListener("click",this._hide.bind(this,!0)),Q.appendChild(L),Q}},{key:"_formatContents",value:function(M){for(var Q=document.createElement("p"),L=M.split(/(?:\r\n?|\n)/),X=0,le=L.length;X<le;++X)Q.appendChild(document.createTextNode(L[X])),X<le-1&&Q.appendChild(document.createElement("br"));return Q}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var M=arguments.length>0&&void 0!==arguments[0]&&arguments[0];M&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var M=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];M&&(this.pinned=!1),!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),K}(),z=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)}return _createClass(M,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),M}(_),se=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)}return _createClass(M,[{key:"render",value:function(){this.container.className="lineAnnotation";var L=this.data,Oe=this.svgFactory.create(L.rect[2]-L.rect[0],L.rect[3]-L.rect[1]),ke=this.svgFactory.createElement("svg:line");return ke.setAttribute("x1",L.rect[2]-L.lineCoordinates[0]),ke.setAttribute("y1",L.rect[3]-L.lineCoordinates[1]),ke.setAttribute("x2",L.rect[2]-L.lineCoordinates[2]),ke.setAttribute("y2",L.rect[3]-L.lineCoordinates[3]),ke.setAttribute("stroke-width",L.borderStyle.width||1),ke.setAttribute("stroke","transparent"),Oe.appendChild(ke),this.container.append(Oe),this._createPopup(this.container,ke,L),this.container}}]),M}(_),xe=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)}return _createClass(M,[{key:"render",value:function(){this.container.className="squareAnnotation";var L=this.data,X=L.rect[2]-L.rect[0],le=L.rect[3]-L.rect[1],Oe=this.svgFactory.create(X,le),ke=L.borderStyle.width,Se=this.svgFactory.createElement("svg:rect");return Se.setAttribute("x",ke/2),Se.setAttribute("y",ke/2),Se.setAttribute("width",X-ke),Se.setAttribute("height",le-ke),Se.setAttribute("stroke-width",ke||1),Se.setAttribute("stroke","transparent"),Se.setAttribute("fill","none"),Oe.appendChild(Se),this.container.append(Oe),this._createPopup(this.container,Se,L),this.container}}]),M}(_),fe=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)}return _createClass(M,[{key:"render",value:function(){this.container.className="circleAnnotation";var L=this.data,X=L.rect[2]-L.rect[0],le=L.rect[3]-L.rect[1],Oe=this.svgFactory.create(X,le),ke=L.borderStyle.width,Se=this.svgFactory.createElement("svg:ellipse");return Se.setAttribute("cx",X/2),Se.setAttribute("cy",le/2),Se.setAttribute("rx",X/2-ke/2),Se.setAttribute("ry",le/2-ke/2),Se.setAttribute("stroke-width",ke||1),Se.setAttribute("stroke","transparent"),Se.setAttribute("fill","none"),Oe.appendChild(Se),this.container.append(Oe),this._createPopup(this.container,Se,L),this.container}}]),M}(_),Y=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){var L;return _classCallCheck(this,M),(L=I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)).containerClassName="polylineAnnotation",L.svgElementName="svg:polyline",L}return _createClass(M,[{key:"render",value:function(){this.container.className=this.containerClassName;var Fe,L=this.data,Oe=this.svgFactory.create(L.rect[2]-L.rect[0],L.rect[3]-L.rect[1]),ke=[],Se=_createForOfIteratorHelper(L.vertices);try{for(Se.s();!(Fe=Se.n()).done;){var Ye=Fe.value;ke.push(Ye.x-L.rect[0]+","+(L.rect[3]-Ye.y))}}catch(lt){Se.e(lt)}finally{Se.f()}ke=ke.join(" ");var it=this.svgFactory.createElement(this.svgElementName);return it.setAttribute("points",ke),it.setAttribute("stroke-width",L.borderStyle.width||1),it.setAttribute("stroke","transparent"),it.setAttribute("fill","none"),Oe.appendChild(it),this.container.append(Oe),this._createPopup(this.container,it,L),this.container}}]),M}(_),S=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){var L;return _classCallCheck(this,M),(L=I.call(this,Q)).containerClassName="polygonAnnotation",L.svgElementName="svg:polygon",L}return _createClass(M)}(Y),A=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)}return _createClass(M,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),M}(_),G=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){var L;return _classCallCheck(this,M),(L=I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)).containerClassName="inkAnnotation",L.svgElementName="svg:polyline",L}return _createClass(M,[{key:"render",value:function(){this.container.className=this.containerClassName;var Se,L=this.data,Oe=this.svgFactory.create(L.rect[2]-L.rect[0],L.rect[3]-L.rect[1]),ke=_createForOfIteratorHelper(L.inkLists);try{for(ke.s();!(Se=ke.n()).done;){var ot,Ye=[],je=_createForOfIteratorHelper(Se.value);try{for(je.s();!(ot=je.n()).done;){var it=ot.value,Ze=L.rect[3]-it.y;Ye.push("".concat(it.x-L.rect[0],",").concat(Ze))}}catch(At){je.e(At)}finally{je.f()}Ye=Ye.join(" ");var Mt=this.svgFactory.createElement(this.svgElementName);Mt.setAttribute("points",Ye),Mt.setAttribute("stroke-width",L.borderStyle.width||1),Mt.setAttribute("stroke","transparent"),Mt.setAttribute("fill","none"),this._createPopup(this.container,Mt,L),Oe.appendChild(Mt)}}catch(At){ke.e(At)}finally{ke.f()}return this.container.append(Oe),this.container}}]),M}(_),y=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)}return _createClass(M,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),M}(_),oe=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)}return _createClass(M,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),M}(_),ce=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)}return _createClass(M,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),M}(_),q=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)}return _createClass(M,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),M}(_),B=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){return _classCallCheck(this,M),I.call(this,Q,!!(Q.data.hasPopup||Q.data.title||Q.data.contents),!0)}return _createClass(M,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),M}(_),ee=function(K){_inherits(M,K);var I=_createSuper(M);function M(Q){var L;_classCallCheck(this,M);var X=(L=I.call(this,Q,!0)).data.file,le=X.filename,Oe=X.content;return L.filename=(0,D.getFilenameFromUrl)(le),L.content=Oe,L.linkService.eventBus&&L.linkService.eventBus.dispatch("fileattachmentannotation",{source:_assertThisInitialized(L),id:(0,E.stringToPDFString)(le),filename:le,content:Oe}),L}return _createClass(M,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var L=document.createElement("div");return L.style.height=this.container.style.height,L.style.width=this.container.style.width,L.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,L,this.data),this.container.appendChild(L),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,E.warn)("Download cannot be started due to unavailable download manager")}}]),M}(_);ae.AnnotationLayer=function(){function K(){_classCallCheck(this,K)}return _createClass(K,null,[{key:"render",value:function(M){var le,Q=[],L=[],X=_createForOfIteratorHelper(M.annotations);try{for(X.s();!(le=X.n()).done;){var Oe=le.value;if(Oe){if(Oe.annotationType===E.AnnotationType.POPUP){L.push(Oe);continue}Q.push(Oe)}}}catch(je){X.e(je)}finally{X.f()}L.length&&Q.push.apply(Q,L);for(var ke=0,Se=Q;ke<Se.length;ke++){var Ye=Te.create({data:Se[ke],layer:M.div,page:M.page,viewport:M.viewport,linkService:M.linkService,downloadManager:M.downloadManager,imageResourcesPath:M.imageResourcesPath||"",renderInteractiveForms:M.renderInteractiveForms||!1,svgFactory:new D.DOMSVGFactory});Ye.isRenderable&&M.div.appendChild(Ye.render())}}},{key:"update",value:function(M){var L,Q=_createForOfIteratorHelper(M.annotations);try{for(Q.s();!(L=Q.n()).done;){var le=M.div.querySelector('[data-annotation-id="'.concat(L.value.id,'"]'));le&&(le.style.transform="matrix(".concat(M.viewport.transform.join(","),")"))}}catch(Oe){Q.e(Oe)}finally{Q.f()}M.div.removeAttribute("hidden")}}]),K}()},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.renderTextLayer=void 0;var D=J(2),E=function(){var e=/\S/;function ge(z,se,xe){var fe=document.createElement("span"),Y={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(z._textDivs.push(fe),function N(z){return!e.test(z)}(se.str))return Y.isWhitespace=!0,void z._textDivProperties.set(fe,Y);var S=D.Util.transform(z._viewport.transform,se.transform),A=Math.atan2(S[1],S[0]),G=xe[se.fontName];G.vertical&&(A+=Math.PI/2);var ce,q,y=Math.sqrt(S[2]*S[2]+S[3]*S[3]),oe=y;G.ascent?oe*=G.ascent:G.descent&&(oe*=1+G.descent),0===A?(ce=S[4],q=S[5]-oe):(ce=S[4]+oe*Math.sin(A),q=S[5]-oe*Math.cos(A)),fe.style.left="".concat(ce,"px"),fe.style.top="".concat(q,"px"),fe.style.fontSize="".concat(y,"px"),fe.style.fontFamily=G.fontFamily,fe.textContent=se.str,z._fontInspectorEnabled&&(fe.dataset.fontName=se.fontName),0!==A&&(Y.angle=A*(180/Math.PI));var B=!1;if(se.str.length>1)B=!0;else if(se.transform[0]!==se.transform[3]){var ee=Math.abs(se.transform[0]),te=Math.abs(se.transform[3]);ee!==te&&Math.max(ee,te)/Math.min(ee,te)>1.5&&(B=!0)}if(B&&(Y.canvasWidth=G.vertical?se.height*z._viewport.scale:se.width*z._viewport.scale),z._textDivProperties.set(fe,Y),z._textContentStream&&z._layoutText(fe),z._enhanceTextSelection){var K=1,I=0;0!==A&&(K=Math.cos(A),I=Math.sin(A));var L,X,M=(G.vertical?se.height:se.width)*z._viewport.scale,Q=y;X=0!==A?D.Util.getAxialAlignedBoundingBox([0,0,M,Q],L=[K,I,-I,K,ce,q]):[ce,q,ce+M,q+Q],z._bounds.push({left:X[0],top:X[1],right:X[2],bottom:X[3],div:fe,size:[M,Q],m:L})}}function b(z){if(!z._canceled){var se=z._textDivs,xe=z._capability,fe=se.length;if(fe>1e5)return z._renderingDone=!0,void xe.resolve();if(!z._textContentStream)for(var Y=0;Y<fe;Y++)z._layoutText(se[Y]);z._renderingDone=!0,xe.resolve()}}function ie(z,se,xe){for(var fe=0,Y=0;Y<xe;Y++){var S=z[se++];S>0&&(fe=fe?Math.min(S,fe):S)}return fe}function j(z,se){se.sort(function(Y,S){return Y.x1-S.x1||Y.index-S.index});var fe=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];se.forEach(function(Y){for(var S=0;S<fe.length&&fe[S].end<=Y.y1;)S++;for(var A=fe.length-1;A>=0&&fe[A].start>=Y.y2;)A--;var G,y,oe,ce,q=-1/0;for(oe=S;oe<=A;oe++){var B;(B=(y=(G=fe[oe]).boundary).x2>Y.x1?y.index>Y.index?y.x1New:Y.x1:void 0===y.x2New?(y.x2+Y.x1)/2:y.x2New)>q&&(q=B)}for(Y.x1New=q,oe=S;oe<=A;oe++)void 0===(y=(G=fe[oe]).boundary).x2New?y.x2>Y.x1?y.index>Y.index&&(y.x2New=y.x2):y.x2New=q:y.x2New>q&&(y.x2New=Math.max(q,y.x2));var ee=[],te=null;for(oe=S;oe<=A;oe++){var K=(y=(G=fe[oe]).boundary).x2>Y.x2?y:Y;te===K?ee[ee.length-1].end=G.end:(ee.push({start:G.start,end:G.end,boundary:K}),te=K)}for(fe[S].start<Y.y1&&(ee[0].start=Y.y1,ee.unshift({start:fe[S].start,end:Y.y1,boundary:fe[S].boundary})),Y.y2<fe[A].end&&(ee[ee.length-1].end=Y.y2,ee.push({start:Y.y2,end:fe[A].end,boundary:fe[A].boundary})),oe=S;oe<=A;oe++)if(void 0===(y=(G=fe[oe]).boundary).x2New){var I=!1;for(ce=S-1;!I&&ce>=0&&fe[ce].start>=y.y1;ce--)I=fe[ce].boundary===y;for(ce=A+1;!I&&ce<fe.length&&fe[ce].end<=y.y2;ce++)I=fe[ce].boundary===y;for(ce=0;!I&&ce<ee.length;ce++)I=ee[ce].boundary===y;I||(y.x2New=q)}Array.prototype.splice.apply(fe,[S,A-S+1].concat(ee))}),fe.forEach(function(Y){var S=Y.boundary;void 0===S.x2New&&(S.x2New=Math.max(z,S.x2))})}function Ce(z){var se=this,fe=z.textContentStream,Y=z.container,S=z.viewport,A=z.textDivs,G=z.textContentItemsStr,y=z.enhanceTextSelection;this._textContent=z.textContent,this._textContentStream=fe,this._container=Y,this._viewport=S,this._textDivs=A||[],this._textContentItemsStr=G||[],this._enhanceTextSelection=!!y,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,D.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){se._layoutTextCtx&&(se._layoutTextCtx.canvas.width=0,se._layoutTextCtx.canvas.height=0,se._layoutTextCtx=null)}).catch(function(){})}return Ce.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new D.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(se,xe){for(var fe=0,Y=se.length;fe<Y;fe++)this._textContentItemsStr.push(se[fe].str),ge(this,se[fe],xe)},_layoutText:function(se){var xe=this._textDivProperties.get(se);if(!xe.isWhitespace){var fe="";if(0!==xe.canvasWidth){var Y=se.style,S=Y.fontSize,A=Y.fontFamily;(S!==this._layoutTextLastFontSize||A!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(S," ").concat(A),this._layoutTextLastFontSize=S,this._layoutTextLastFontFamily=A);var y=this._layoutTextCtx.measureText(se.textContent).width;y>0&&(xe.scale=xe.canvasWidth/y,fe="scaleX(".concat(xe.scale,")"))}0!==xe.angle&&(fe="rotate(".concat(xe.angle,"deg) ").concat(fe)),fe.length>0&&(this._enhanceTextSelection&&(xe.originalTransform=fe),se.style.transform=fe),this._textDivProperties.set(se,xe),this._container.appendChild(se)}},_render:function(se){var xe=this,fe=(0,D.createPromiseCapability)(),Y=Object.create(null),S=document.createElement("canvas");if(S.mozOpaque=!0,this._layoutTextCtx=S.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),fe.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function oe(){xe._reader.read().then(function(ce){var q=ce.value;ce.done?fe.resolve():(Object.assign(Y,q.styles),xe._processItems(q.items,Y),oe())},fe.reject)}()}fe.promise.then(function(){Y=null,se?xe._renderTimer=setTimeout(function(){b(xe),xe._renderTimer=null},se):b(xe)},this._capability.reject)},expandTextDivs:function(se){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(function H(z){for(var se=z._bounds,xe=z._viewport,fe=function _e(z,se,xe){var fe=xe.map(function(S,A){return{x1:S.left,y1:S.top,x2:S.right,y2:S.bottom,index:A,x1New:void 0,x2New:void 0}});j(z,fe);var Y=new Array(xe.length);return fe.forEach(function(S){Y[S.index]={left:S.x1New,top:0,right:S.x2New,bottom:0}}),xe.map(function(S,A){var G=Y[A],y=fe[A];y.x1=S.top,y.y1=z-G.right,y.x2=S.bottom,y.y2=z-G.left,y.index=A,y.x1New=void 0,y.x2New=void 0}),j(se,fe),fe.forEach(function(S){var A=S.index;Y[A].top=S.x1New,Y[A].bottom=S.x2New}),Y}(xe.width,xe.height,se),Y=0;Y<fe.length;Y++){var S=se[Y].div,A=z._textDivProperties.get(S);if(0!==A.angle){var G=fe[Y],y=se[Y],oe=y.m,ce=oe[0],q=oe[1],B=[[0,0],[0,y.size[1]],[y.size[0],0],y.size],ee=new Float64Array(64);B.forEach(function(K,I){var M=D.Util.applyTransform(K,oe);ee[I+0]=ce&&(G.left-M[0])/ce,ee[I+4]=q&&(G.top-M[1])/q,ee[I+8]=ce&&(G.right-M[0])/ce,ee[I+12]=q&&(G.bottom-M[1])/q,ee[I+16]=q&&(G.left-M[0])/-q,ee[I+20]=ce&&(G.top-M[1])/ce,ee[I+24]=q&&(G.right-M[0])/-q,ee[I+28]=ce&&(G.bottom-M[1])/ce,ee[I+32]=ce&&(G.left-M[0])/-ce,ee[I+36]=q&&(G.top-M[1])/-q,ee[I+40]=ce&&(G.right-M[0])/-ce,ee[I+44]=q&&(G.bottom-M[1])/-q,ee[I+48]=q&&(G.left-M[0])/q,ee[I+52]=ce&&(G.top-M[1])/-ce,ee[I+56]=q&&(G.right-M[0])/q,ee[I+60]=ce&&(G.bottom-M[1])/-ce});var te=1+Math.min(Math.abs(ce),Math.abs(q));A.paddingLeft=ie(ee,32,16)/te,A.paddingTop=ie(ee,48,16)/te,A.paddingRight=ie(ee,0,16)/te,A.paddingBottom=ie(ee,16,16)/te,z._textDivProperties.set(S,A)}else A.paddingLeft=se[Y].left-fe[Y].left,A.paddingTop=se[Y].top-fe[Y].top,A.paddingRight=fe[Y].right-se[Y].right,A.paddingBottom=fe[Y].bottom-se[Y].bottom,z._textDivProperties.set(S,A)}}(this),this._bounds=null);for(var xe=[],fe=[],Y=0,S=this._textDivs.length;Y<S;Y++){var A=this._textDivs[Y],G=this._textDivProperties.get(A);G.isWhitespace||(se?(xe.length=0,fe.length=0,G.originalTransform&&xe.push(G.originalTransform),G.paddingTop>0?(fe.push("".concat(G.paddingTop,"px")),xe.push("translateY(".concat(-G.paddingTop,"px)"))):fe.push(0),fe.push(G.paddingRight>0?"".concat(G.paddingRight/G.scale,"px"):0),fe.push(G.paddingBottom>0?"".concat(G.paddingBottom,"px"):0),G.paddingLeft>0?(fe.push("".concat(G.paddingLeft/G.scale,"px")),xe.push("translateX(".concat(-G.paddingLeft/G.scale,"px)"))):fe.push(0),A.style.padding=fe.join(" "),xe.length&&(A.style.transform=xe.join(" "))):(A.style.padding=null,A.style.transform=G.originalTransform))}}}},function ue(z){var se=new Ce({textContent:z.textContent,textContentStream:z.textContentStream,container:z.container,viewport:z.viewport,textDivs:z.textDivs,textContentItemsStr:z.textContentItemsStr,enhanceTextSelection:z.enhanceTextSelection});return se._render(z.timeout),se}}();ae.renderTextLayer=E},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.SVGGraphics=void 0;var D=J(2),E=J(1),Te=J(4),_=function(){throw new Error("Not implemented: SVGGraphics")};ae.SVGGraphics=_;var N=function(Y){if(Number.isInteger(Y))return Y.toString();var S=Y.toFixed(10),A=S.length-1;if("0"!==S[A])return S;do{A--}while("0"===S[A]);return S.substring(0,"."===S[A]?A:A+1)},ge=function(Y){if(0===Y[4]&&0===Y[5]){if(0===Y[1]&&0===Y[2])return 1===Y[0]&&1===Y[3]?"":"scale(".concat(N(Y[0])," ").concat(N(Y[3]),")");if(Y[0]===Y[3]&&Y[1]===-Y[2]){var S=180*Math.acos(Y[0])/Math.PI;return"rotate(".concat(N(S),")")}}else if(1===Y[0]&&0===Y[1]&&0===Y[2]&&1===Y[3])return"translate(".concat(N(Y[4])," ").concat(N(Y[5]),")");return"matrix(".concat(N(Y[0])," ").concat(N(Y[1])," ").concat(N(Y[2])," ").concat(N(Y[3])," ").concat(N(Y[4])," ")+"".concat(N(Y[5]),")")},b_fontStyle="normal",b_fontWeight="normal",b_fillColor="#000000",_e=["butt","round","square"],j=["miter","round","bevel"],Ce=function(){for(var fe=new Uint8Array([137,80,78,71,13,10,26,10]),S=new Int32Array(256),A=0;A<256;A++){for(var G=A,y=0;y<8;y++)G=1&G?3988292384^G>>1&2147483647:G>>1&2147483647;S[A]=G}function ce(K,I,M,Q){var L=Q,X=I.length;M[L]=X>>24&255,M[L+1]=X>>16&255,M[L+2]=X>>8&255,M[L+3]=255&X,M[L+=4]=255&K.charCodeAt(0),M[L+1]=255&K.charCodeAt(1),M[L+2]=255&K.charCodeAt(2),M[L+3]=255&K.charCodeAt(3),M.set(I,L+=4);var le=function oe(K,I,M){for(var Q=-1,L=I;L<M;L++)Q=Q>>>8^S[255&(Q^K[L])];return-1^Q}(M,Q+4,L+=I.length);M[L]=le>>24&255,M[L+1]=le>>16&255,M[L+2]=le>>8&255,M[L+3]=255&le}function ee(K){var I=K.length,M=65535,Q=Math.ceil(I/M),L=new Uint8Array(2+I+5*Q+4),X=0;L[X++]=120,L[X++]=156;for(var le=0;I>M;)L[X++]=0,L[X++]=255,L[X++]=255,L[X++]=0,L[X++]=0,L.set(K.subarray(le,le+M),X),X+=M,le+=M,I-=M;L[X++]=1,L[X++]=255&I,L[X++]=I>>8&255,L[X++]=255&~I,L[X++]=(65535&~I)>>8&255,L.set(K.subarray(le),X),X+=K.length-le;var Oe=function q(K,I,M){for(var Q=1,L=0,X=I;X<M;++X)L=(L+(Q=(Q+(255&K[X]))%65521))%65521;return L<<16|Q}(K,0,K.length);return L[X++]=Oe>>24&255,L[X++]=Oe>>16&255,L[X++]=Oe>>8&255,L[X++]=255&Oe,L}return function(I,M,Q){return function te(K,I,M,Q){var le,Oe,ke,L=K.width,X=K.height,Se=K.data;switch(I){case D.ImageKind.GRAYSCALE_1BPP:Oe=0,le=1,ke=L+7>>3;break;case D.ImageKind.RGB_24BPP:Oe=2,le=8,ke=3*L;break;case D.ImageKind.RGBA_32BPP:Oe=6,le=8,ke=4*L;break;default:throw new Error("invalid format")}for(var Fe=new Uint8Array((1+ke)*X),Ye=0,je=0,ot=0;ot<X;++ot)Fe[Ye++]=0,Fe.set(Se.subarray(je,je+ke),Ye),je+=ke,Ye+=ke;if(I===D.ImageKind.GRAYSCALE_1BPP&&Q){Ye=0;for(var it=0;it<X;it++){Ye++;for(var lt=0;lt<ke;lt++)Fe[Ye++]^=255}}var Ze=new Uint8Array([L>>24&255,L>>16&255,L>>8&255,255&L,X>>24&255,X>>16&255,X>>8&255,255&X,le,Oe,0,0,0]),Mt=function B(K){if(!Te.isNodeJS)return ee(K);try{var I;I=parseInt(process.versions.node)>=8?K:Buffer.from(K);var M=__webpack_require__(82258).deflateSync(I,{level:9});return M instanceof Uint8Array?M:new Uint8Array(M)}catch(Q){(0,D.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Q)}return ee(K)}(Fe),Jt=new Uint8Array(fe.length+36+Ze.length+Mt.length),Ft=0;return Jt.set(fe,Ft),ce("IHDR",Ze,Jt,Ft+=fe.length),ce("IDATA",Mt,Jt,Ft+=12+Ze.length),Ft+=12+Mt.length,ce("IEND",new Uint8Array(0),Jt,Ft),(0,D.createObjectURL)(Jt,"image/png",M)}(I,void 0===I.kind?D.ImageKind.GRAYSCALE_1BPP:I.kind,M,Q)}}(),ue=function(){function fe(){_classCallCheck(this,fe),this.fontSizeScale=1,this.fontWeight=b_fontWeight,this.fontSize=0,this.textMatrix=D.IDENTITY_MATRIX,this.fontMatrix=D.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=D.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=b_fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(fe,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(S,A){this.x=S,this.y=A}}]),fe}(),z=0,se=0,xe=0;ae.SVGGraphics=_=function(){function fe(Y,S){var A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var G in _classCallCheck(this,fe),this.svgFactory=new E.DOMSVGFactory,this.current=new ue,this.transformMatrix=D.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Y,this.objs=S,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!A,this._operatorIdMapping=[],D.OPS)this._operatorIdMapping[D.OPS[G]]=G}return _createClass(fe,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var S=this.current;this.extraStack.push(S),this.current=S.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(S){this.save(),this.executeOpTree(S),this.restore()}},{key:"loadDependencies",value:function(S){for(var A=this,G=S.fnArray,y=S.argsArray,oe=0,ce=G.length;oe<ce;oe++)if(G[oe]===D.OPS.dependency){var B,q=_createForOfIteratorHelper(y[oe]);try{var ee=function(){var K=B.value,I=K.startsWith("g_")?A.commonObjs:A.objs,M=new Promise(function(Q){I.get(K,Q)});A.current.dependencies.push(M)};for(q.s();!(B=q.n()).done;)ee()}catch(te){q.e(te)}finally{q.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(S,A,G,y,oe,ce){this.transformMatrix=D.Util.transform(this.transformMatrix,[S,A,G,y,oe,ce]),this.tgrp=null}},{key:"getSVG",value:function(S,A){var G=this;this.viewport=A;var y=this._initialize(A);return this.loadDependencies(S).then(function(){return G.transformMatrix=D.IDENTITY_MATRIX,G.executeOpTree(G.convertOpList(S)),y})}},{key:"convertOpList",value:function(S){for(var A=this._operatorIdMapping,G=S.argsArray,y=S.fnArray,oe=[],ce=0,q=y.length;ce<q;ce++){var B=y[ce];oe.push({fnId:B,fn:A[B],args:G[ce]})}return function(Y){var y,S=[],A=[],G=_createForOfIteratorHelper(Y);try{for(G.s();!(y=G.n()).done;){var oe=y.value;"save"!==oe.fn?"restore"===oe.fn?S=A.pop():S.push(oe):(S.push({fnId:92,fn:"group",items:[]}),A.push(S),S=S[S.length-1].items)}}catch(ce){G.e(ce)}finally{G.f()}return S}(oe)}},{key:"executeOpTree",value:function(S){var G,A=_createForOfIteratorHelper(S);try{for(A.s();!(G=A.n()).done;){var y=G.value,oe=y.fn,q=y.args;switch(0|y.fnId){case D.OPS.beginText:this.beginText();break;case D.OPS.dependency:break;case D.OPS.setLeading:this.setLeading(q);break;case D.OPS.setLeadingMoveText:this.setLeadingMoveText(q[0],q[1]);break;case D.OPS.setFont:this.setFont(q);break;case D.OPS.showText:case D.OPS.showSpacedText:this.showText(q[0]);break;case D.OPS.endText:this.endText();break;case D.OPS.moveText:this.moveText(q[0],q[1]);break;case D.OPS.setCharSpacing:this.setCharSpacing(q[0]);break;case D.OPS.setWordSpacing:this.setWordSpacing(q[0]);break;case D.OPS.setHScale:this.setHScale(q[0]);break;case D.OPS.setTextMatrix:this.setTextMatrix(q[0],q[1],q[2],q[3],q[4],q[5]);break;case D.OPS.setTextRise:this.setTextRise(q[0]);break;case D.OPS.setTextRenderingMode:this.setTextRenderingMode(q[0]);break;case D.OPS.setLineWidth:this.setLineWidth(q[0]);break;case D.OPS.setLineJoin:this.setLineJoin(q[0]);break;case D.OPS.setLineCap:this.setLineCap(q[0]);break;case D.OPS.setMiterLimit:this.setMiterLimit(q[0]);break;case D.OPS.setFillRGBColor:this.setFillRGBColor(q[0],q[1],q[2]);break;case D.OPS.setStrokeRGBColor:this.setStrokeRGBColor(q[0],q[1],q[2]);break;case D.OPS.setStrokeColorN:this.setStrokeColorN(q);break;case D.OPS.setFillColorN:this.setFillColorN(q);break;case D.OPS.shadingFill:this.shadingFill(q[0]);break;case D.OPS.setDash:this.setDash(q[0],q[1]);break;case D.OPS.setRenderingIntent:this.setRenderingIntent(q[0]);break;case D.OPS.setFlatness:this.setFlatness(q[0]);break;case D.OPS.setGState:this.setGState(q[0]);break;case D.OPS.fill:this.fill();break;case D.OPS.eoFill:this.eoFill();break;case D.OPS.stroke:this.stroke();break;case D.OPS.fillStroke:this.fillStroke();break;case D.OPS.eoFillStroke:this.eoFillStroke();break;case D.OPS.clip:this.clip("nonzero");break;case D.OPS.eoClip:this.clip("evenodd");break;case D.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case D.OPS.paintImageXObject:this.paintImageXObject(q[0]);break;case D.OPS.paintInlineImageXObject:this.paintInlineImageXObject(q[0]);break;case D.OPS.paintImageMaskXObject:this.paintImageMaskXObject(q[0]);break;case D.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(q[0],q[1]);break;case D.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case D.OPS.closePath:this.closePath();break;case D.OPS.closeStroke:this.closeStroke();break;case D.OPS.closeFillStroke:this.closeFillStroke();break;case D.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case D.OPS.nextLine:this.nextLine();break;case D.OPS.transform:this.transform(q[0],q[1],q[2],q[3],q[4],q[5]);break;case D.OPS.constructPath:this.constructPath(q[0],q[1]);break;case D.OPS.endPath:this.endPath();break;case 92:this.group(y.items);break;default:(0,D.warn)("Unimplemented operator ".concat(oe))}}}catch(B){A.e(B)}finally{A.f()}}},{key:"setWordSpacing",value:function(S){this.current.wordSpacing=S}},{key:"setCharSpacing",value:function(S){this.current.charSpacing=S}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(S,A,G,y,oe,ce){var q=this.current;q.textMatrix=q.lineMatrix=[S,A,G,y,oe,ce],q.textMatrixScale=Math.sqrt(S*S+A*A),q.x=q.lineX=0,q.y=q.lineY=0,q.xcoords=[],q.ycoords=[],q.tspan=this.svgFactory.createElement("svg:tspan"),q.tspan.setAttributeNS(null,"font-family",q.fontFamily),q.tspan.setAttributeNS(null,"font-size","".concat(N(q.fontSize),"px")),q.tspan.setAttributeNS(null,"y",N(-q.y)),q.txtElement=this.svgFactory.createElement("svg:text"),q.txtElement.appendChild(q.tspan)}},{key:"beginText",value:function(){var S=this.current;S.x=S.lineX=0,S.y=S.lineY=0,S.textMatrix=D.IDENTITY_MATRIX,S.lineMatrix=D.IDENTITY_MATRIX,S.textMatrixScale=1,S.tspan=this.svgFactory.createElement("svg:tspan"),S.txtElement=this.svgFactory.createElement("svg:text"),S.txtgrp=this.svgFactory.createElement("svg:g"),S.xcoords=[],S.ycoords=[]}},{key:"moveText",value:function(S,A){var G=this.current;G.x=G.lineX+=S,G.y=G.lineY+=A,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size","".concat(N(G.fontSize),"px")),G.tspan.setAttributeNS(null,"y",N(-G.y))}},{key:"showText",value:function(S){var A=this.current,G=A.font,y=A.fontSize;if(0!==y){var X,oe=A.fontSizeScale,ce=A.charSpacing,q=A.wordSpacing,B=A.fontDirection,ee=A.textHScale*B,te=G.vertical,K=te?1:-1,I=G.defaultVMetrics,M=y*A.fontMatrix[0],Q=0,L=_createForOfIteratorHelper(S);try{for(L.s();!(X=L.n()).done;){var le=X.value;if(null!==le)if((0,D.isNum)(le))Q+=K*le*y/1e3;else{var Oe=(le.isSpace?q:0)+ce,ke=le.fontChar,Se=void 0,Fe=void 0,Ye=le.width;if(te){var je=void 0,ot=le.vmetric||I;je=le.vmetric?ot[1]:.5*Ye,Ye=ot?-ot[0]:Ye,Se=(je=-je*M)/oe,Fe=(Q+ot[2]*M)/oe}else Se=Q/oe,Fe=0;(le.isInFont||G.missingFile)&&(A.xcoords.push(A.x+Se),te&&A.ycoords.push(-A.y+Fe),A.tspan.textContent+=ke),Q+=te?Ye*M-Oe*B:Ye*M+Oe*B}else Q+=B*q}}catch(Jt){L.e(Jt)}finally{L.f()}A.tspan.setAttributeNS(null,"x",A.xcoords.map(N).join(" ")),A.tspan.setAttributeNS(null,"y",te?A.ycoords.map(N).join(" "):N(-A.y)),te?A.y-=Q:A.x+=Q*ee,A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size","".concat(N(A.fontSize),"px")),A.fontStyle!==b_fontStyle&&A.tspan.setAttributeNS(null,"font-style",A.fontStyle),A.fontWeight!==b_fontWeight&&A.tspan.setAttributeNS(null,"font-weight",A.fontWeight);var Ze=A.textRenderingMode&D.TextRenderingMode.FILL_STROKE_MASK;Ze===D.TextRenderingMode.FILL||Ze===D.TextRenderingMode.FILL_STROKE?(A.fillColor!==b_fillColor&&A.tspan.setAttributeNS(null,"fill",A.fillColor),A.fillAlpha<1&&A.tspan.setAttributeNS(null,"fill-opacity",A.fillAlpha)):A.tspan.setAttributeNS(null,"fill",A.textRenderingMode===D.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Ze===D.TextRenderingMode.STROKE||Ze===D.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(A.tspan,1/(A.textMatrixScale||1));var At=A.textMatrix;0!==A.textRise&&((At=At.slice())[5]+=A.textRise),A.txtElement.setAttributeNS(null,"transform","".concat(ge(At)," scale(").concat(N(ee),", -1)")),A.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),A.txtElement.appendChild(A.tspan),A.txtgrp.appendChild(A.txtElement),this._ensureTransformGroup().appendChild(A.txtElement)}}},{key:"setLeadingMoveText",value:function(S,A){this.setLeading(-A),this.moveText(S,A)}},{key:"addFontStyle",value:function(S){if(!S.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var A=(0,D.createObjectURL)(S.data,S.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(S.loadedName,'";')+" src: url(".concat(A,"); }\n")}},{key:"setFont",value:function(S){var A=this.current,G=this.commonObjs.get(S[0]),y=S[1];A.font=G,this.embedFonts&&!G.missingFile&&!this.embeddedFonts[G.loadedName]&&(this.addFontStyle(G),this.embeddedFonts[G.loadedName]=G),A.fontMatrix=G.fontMatrix?G.fontMatrix:D.FONT_IDENTITY_MATRIX;var oe="normal";G.black?oe="900":G.bold&&(oe="bold");var ce=G.italic?"italic":"normal";y<0?(y=-y,A.fontDirection=-1):A.fontDirection=1,A.fontSize=y,A.fontFamily=G.loadedName,A.fontWeight=oe,A.fontStyle=ce,A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"y",N(-A.y)),A.xcoords=[],A.ycoords=[]}},{key:"endText",value:function(){var S=this.current;S.textRenderingMode&D.TextRenderingMode.ADD_TO_PATH_FLAG&&S.txtElement&&S.txtElement.hasChildNodes()&&(S.element=S.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(S){S>0&&(this.current.lineWidth=S)}},{key:"setLineCap",value:function(S){this.current.lineCap=_e[S]}},{key:"setLineJoin",value:function(S){this.current.lineJoin=j[S]}},{key:"setMiterLimit",value:function(S){this.current.miterLimit=S}},{key:"setStrokeAlpha",value:function(S){this.current.strokeAlpha=S}},{key:"setStrokeRGBColor",value:function(S,A,G){this.current.strokeColor=D.Util.makeCssRgb(S,A,G)}},{key:"setFillAlpha",value:function(S){this.current.fillAlpha=S}},{key:"setFillRGBColor",value:function(S,A,G){this.current.fillColor=D.Util.makeCssRgb(S,A,G),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(S){this.current.strokeColor=this._makeColorN_Pattern(S)}},{key:"setFillColorN",value:function(S){this.current.fillColor=this._makeColorN_Pattern(S)}},{key:"shadingFill",value:function(S){var A=this.viewport.width,G=this.viewport.height,y=D.Util.inverseTransform(this.transformMatrix),oe=D.Util.applyTransform([0,0],y),ce=D.Util.applyTransform([0,G],y),q=D.Util.applyTransform([A,0],y),B=D.Util.applyTransform([A,G],y),ee=Math.min(oe[0],ce[0],q[0],B[0]),te=Math.min(oe[1],ce[1],q[1],B[1]),K=Math.max(oe[0],ce[0],q[0],B[0]),I=Math.max(oe[1],ce[1],q[1],B[1]),M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x",ee),M.setAttributeNS(null,"y",te),M.setAttributeNS(null,"width",K-ee),M.setAttributeNS(null,"height",I-te),M.setAttributeNS(null,"fill",this._makeShadingPattern(S)),this.current.fillAlpha<1&&M.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(M)}},{key:"_makeColorN_Pattern",value:function(S){return"TilingPattern"===S[0]?this._makeTilingPattern(S):this._makeShadingPattern(S)}},{key:"_makeTilingPattern",value:function(S){var A=S[1],G=S[2],y=S[3]||D.IDENTITY_MATRIX,oe=_slicedToArray(S[4],4),ce=oe[0],q=oe[1],B=oe[2],ee=oe[3],te=S[5],K=S[6],I=S[7],M="shading".concat(xe++),Q=D.Util.applyTransform([ce,q],y),L=_slicedToArray(Q,2),X=L[0],le=L[1],Oe=D.Util.applyTransform([B,ee],y),ke=_slicedToArray(Oe,2),Se=ke[0],Fe=ke[1],Ye=D.Util.singularValueDecompose2dScale(y),je=_slicedToArray(Ye,2),lt=te*je[0],Ze=K*je[1],Mt=this.svgFactory.createElement("svg:pattern");Mt.setAttributeNS(null,"id",M),Mt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Mt.setAttributeNS(null,"width",lt),Mt.setAttributeNS(null,"height",Ze),Mt.setAttributeNS(null,"x","".concat(X)),Mt.setAttributeNS(null,"y","".concat(le));var At=this.svg,Jt=this.transformMatrix,Ft=this.current.fillColor,an=this.current.strokeColor,un=this.svgFactory.create(Se-X,Fe-le);if(this.svg=un,this.transformMatrix=y,2===I){var Ot,dn=(Ot=D.Util).makeCssRgb.apply(Ot,_toConsumableArray(A));this.current.fillColor=dn,this.current.strokeColor=dn}return this.executeOpTree(this.convertOpList(G)),this.svg=At,this.transformMatrix=Jt,this.current.fillColor=Ft,this.current.strokeColor=an,Mt.appendChild(un.childNodes[0]),this.defs.appendChild(Mt),"url(#".concat(M,")")}},{key:"_makeShadingPattern",value:function(S){switch(S[0]){case"RadialAxial":var y,A="shading".concat(xe++),G=S[3];switch(S[1]){case"axial":var oe=S[4],ce=S[5];(y=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",A),y.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),y.setAttributeNS(null,"x1",oe[0]),y.setAttributeNS(null,"y1",oe[1]),y.setAttributeNS(null,"x2",ce[0]),y.setAttributeNS(null,"y2",ce[1]);break;case"radial":var q=S[4],B=S[5],ee=S[6],te=S[7];(y=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",A),y.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),y.setAttributeNS(null,"cx",B[0]),y.setAttributeNS(null,"cy",B[1]),y.setAttributeNS(null,"r",te),y.setAttributeNS(null,"fx",q[0]),y.setAttributeNS(null,"fy",q[1]),y.setAttributeNS(null,"fr",ee);break;default:throw new Error("Unknown RadialAxial type: ".concat(S[1]))}var I,K=_createForOfIteratorHelper(G);try{for(K.s();!(I=K.n()).done;){var M=I.value,Q=this.svgFactory.createElement("svg:stop");Q.setAttributeNS(null,"offset",M[0]),Q.setAttributeNS(null,"stop-color",M[1]),y.appendChild(Q)}}catch(L){K.e(L)}finally{K.f()}return this.defs.appendChild(y),"url(#".concat(A,")");case"Mesh":return(0,D.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(S[0]))}}},{key:"setDash",value:function(S,A){this.current.dashArray=S,this.current.dashPhase=A}},{key:"constructPath",value:function(S,A){var ee,G=this.current,y=G.x,oe=G.y,ce=[],q=0,B=_createForOfIteratorHelper(S);try{for(B.s();!(ee=B.n()).done;)switch(0|ee.value){case D.OPS.rectangle:y=A[q++],oe=A[q++];var M=y+A[q++],Q=oe+A[q++];ce.push("M",N(y),N(oe),"L",N(M),N(oe),"L",N(M),N(Q),"L",N(y),N(Q),"Z");break;case D.OPS.moveTo:y=A[q++],oe=A[q++],ce.push("M",N(y),N(oe));break;case D.OPS.lineTo:y=A[q++],oe=A[q++],ce.push("L",N(y),N(oe));break;case D.OPS.curveTo:y=A[q+4],oe=A[q+5],ce.push("C",N(A[q]),N(A[q+1]),N(A[q+2]),N(A[q+3]),N(y),N(oe)),q+=6;break;case D.OPS.curveTo2:ce.push("C",N(y),N(oe),N(A[q]),N(A[q+1]),N(A[q+2]),N(A[q+3])),y=A[q+2],oe=A[q+3],q+=4;break;case D.OPS.curveTo3:y=A[q+2],oe=A[q+3],ce.push("C",N(A[q]),N(A[q+1]),N(y),N(oe),N(y),N(oe)),q+=4;break;case D.OPS.closePath:ce.push("Z")}}catch(L){B.e(L)}finally{B.f()}ce=ce.join(" "),G.path&&S.length>0&&S[0]!==D.OPS.rectangle&&S[0]!==D.OPS.moveTo?ce=G.path.getAttributeNS(null,"d")+ce:(G.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(G.path)),G.path.setAttributeNS(null,"d",ce),G.path.setAttributeNS(null,"fill","none"),G.element=G.path,G.setCurrentPoint(y,oe)}},{key:"endPath",value:function(){var S=this.current;if(S.path=null,this.pendingClip){if(!S.element)return void(this.pendingClip=null);var A="clippath".concat(z++),G=this.svgFactory.createElement("svg:clipPath");G.setAttributeNS(null,"id",A),G.setAttributeNS(null,"transform",ge(this.transformMatrix));var y=S.element.cloneNode(!0);y.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,G.appendChild(y),this.defs.appendChild(G),S.activeClipUrl&&(S.clipGroup=null,this.extraStack.forEach(function(oe){oe.clipGroup=null}),G.setAttributeNS(null,"clip-path",S.activeClipUrl)),S.activeClipUrl="url(#".concat(A,")"),this.tgrp=null}}},{key:"clip",value:function(S){this.pendingClip=S}},{key:"closePath",value:function(){var S=this.current;if(S.path){var A="".concat(S.path.getAttributeNS(null,"d"),"Z");S.path.setAttributeNS(null,"d",A)}}},{key:"setLeading",value:function(S){this.current.leading=-S}},{key:"setTextRise",value:function(S){this.current.textRise=S}},{key:"setTextRenderingMode",value:function(S){this.current.textRenderingMode=S}},{key:"setHScale",value:function(S){this.current.textHScale=S/100}},{key:"setRenderingIntent",value:function(S){}},{key:"setFlatness",value:function(S){}},{key:"setGState",value:function(S){var G,A=_createForOfIteratorHelper(S);try{for(A.s();!(G=A.n()).done;){var y=_slicedToArray(G.value,2),oe=y[0],ce=y[1];switch(oe){case"LW":this.setLineWidth(ce);break;case"LC":this.setLineCap(ce);break;case"LJ":this.setLineJoin(ce);break;case"ML":this.setMiterLimit(ce);break;case"D":this.setDash(ce[0],ce[1]);break;case"RI":this.setRenderingIntent(ce);break;case"FL":this.setFlatness(ce);break;case"Font":this.setFont(ce);break;case"CA":this.setStrokeAlpha(ce);break;case"ca":this.setFillAlpha(ce);break;default:(0,D.warn)("Unimplemented graphic state operator ".concat(oe))}}}catch(q){A.e(q)}finally{A.f()}}},{key:"fill",value:function(){var S=this.current;S.element&&(S.element.setAttributeNS(null,"fill",S.fillColor),S.element.setAttributeNS(null,"fill-opacity",S.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var S=this.current;S.element&&(this._setStrokeAttributes(S.element),S.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(S){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,G=this.current,y=G.dashArray;1!==A&&y.length>0&&(y=y.map(function(oe){return A*oe})),S.setAttributeNS(null,"stroke",G.strokeColor),S.setAttributeNS(null,"stroke-opacity",G.strokeAlpha),S.setAttributeNS(null,"stroke-miterlimit",N(G.miterLimit)),S.setAttributeNS(null,"stroke-linecap",G.lineCap),S.setAttributeNS(null,"stroke-linejoin",G.lineJoin),S.setAttributeNS(null,"stroke-width",N(A*G.lineWidth)+"px"),S.setAttributeNS(null,"stroke-dasharray",y.map(N).join(" ")),S.setAttributeNS(null,"stroke-dashoffset",N(A*G.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x","0"),S.setAttributeNS(null,"y","0"),S.setAttributeNS(null,"width","1px"),S.setAttributeNS(null,"height","1px"),S.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(S)}},{key:"paintImageXObject",value:function(S){var A=this.objs.get(S);A?this.paintInlineImageXObject(A):(0,D.warn)("Dependent image with object ID ".concat(S," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(S,A){var G=S.width,y=S.height,oe=Ce(S,this.forceDataSchema,!!A),ce=this.svgFactory.createElement("svg:rect");ce.setAttributeNS(null,"x","0"),ce.setAttributeNS(null,"y","0"),ce.setAttributeNS(null,"width",N(G)),ce.setAttributeNS(null,"height",N(y)),this.current.element=ce,this.clip("nonzero");var q=this.svgFactory.createElement("svg:image");q.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",oe),q.setAttributeNS(null,"x","0"),q.setAttributeNS(null,"y",N(-y)),q.setAttributeNS(null,"width",N(G)+"px"),q.setAttributeNS(null,"height",N(y)+"px"),q.setAttributeNS(null,"transform","scale(".concat(N(1/G)," ").concat(N(-1/y),")")),A?A.appendChild(q):this._ensureTransformGroup().appendChild(q)}},{key:"paintImageMaskXObject",value:function(S){var A=this.current,G=S.width,y=S.height,oe=A.fillColor;A.maskId="mask".concat(se++);var ce=this.svgFactory.createElement("svg:mask");ce.setAttributeNS(null,"id",A.maskId);var q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x","0"),q.setAttributeNS(null,"y","0"),q.setAttributeNS(null,"width",N(G)),q.setAttributeNS(null,"height",N(y)),q.setAttributeNS(null,"fill",oe),q.setAttributeNS(null,"mask","url(#".concat(A.maskId,")")),this.defs.appendChild(ce),this._ensureTransformGroup().appendChild(q),this.paintInlineImageXObject(S,ce)}},{key:"paintFormXObjectBegin",value:function(S,A){if(Array.isArray(S)&&6===S.length&&this.transform(S[0],S[1],S[2],S[3],S[4],S[5]),A){var G=A[2]-A[0],y=A[3]-A[1],oe=this.svgFactory.createElement("svg:rect");oe.setAttributeNS(null,"x",A[0]),oe.setAttributeNS(null,"y",A[1]),oe.setAttributeNS(null,"width",N(G)),oe.setAttributeNS(null,"height",N(y)),this.current.element=oe,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(S){var A=this.svgFactory.create(S.width,S.height),G=this.svgFactory.createElement("svg:defs");A.appendChild(G),this.defs=G;var y=this.svgFactory.createElement("svg:g");return y.setAttributeNS(null,"transform",ge(S.transform)),A.appendChild(y),this.svg=y,A}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var S=this.svgFactory.createElement("svg:g");S.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(S),this.current.clipGroup=S}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ge(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),fe}()},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.PDFNodeStream=void 0;var D=J(2),E=J(20),Te=__webpack_require__(70172),_=__webpack_require__(2001),e=__webpack_require__(33779),N=__webpack_require__(66558),ge=/^file:\/\/\/[a-zA-Z]:\//;ae.PDFNodeStream=function(){function xe(fe){_classCallCheck(this,xe),this.source=fe,this.url=function b(xe){var fe=N.parse(xe);return"file:"===fe.protocol||fe.host?fe:/^[a-z]:[/\\]/i.test(xe)?N.parse("file:///".concat(xe)):(fe.host||(fe.protocol="file:"),fe)}(fe.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&fe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(xe,[{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}},{key:"getFullReader",value:function(){return(0,D.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new z(this):new Ce(this),this._fullRequestReader}},{key:"getRangeReader",value:function(Y,S){if(S<=this._progressiveDataLength)return null;var A=this.isFsUrl?new se(this,Y,S):new ue(this,Y,S);return this._rangeRequestReaders.push(A),A}},{key:"cancelAllRequests",value:function(Y){this._fullRequestReader&&this._fullRequestReader.cancel(Y),this._rangeRequestReaders.slice(0).forEach(function(A){A.cancel(Y)})}}]),xe}();var H=function(){function xe(fe){_classCallCheck(this,xe),this._url=fe.url,this._done=!1,this._storedError=null,this.onProgress=null;var Y=fe.source;this._contentLength=Y.length,this._loaded=0,this._filename=null,this._disableRange=Y.disableRange||!1,this._rangeChunkSize=Y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Y.disableStream,this._isRangeSupported=!Y.disableRange,this._readableStream=null,this._readCapability=(0,D.createPromiseCapability)(),this._headersCapability=(0,D.createPromiseCapability)()}return _createClass(xe,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(fe=_asyncToGenerator(_regeneratorRuntime().mark(function S(){var A,G;return _regeneratorRuntime().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,this._readCapability.promise;case 2:if(!this._done){oe.next=4;break}return oe.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){oe.next=6;break}throw this._storedError;case 6:if(null!==(A=this._readableStream.read())){oe.next=10;break}return this._readCapability=(0,D.createPromiseCapability)(),oe.abrupt("return",this.read());case 10:return this._loaded+=A.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),G=new Uint8Array(A).buffer,oe.abrupt("return",{value:G,done:!1});case 14:case"end":return oe.stop()}},S,this)})),function Y(){return fe.apply(this,arguments)})},{key:"cancel",value:function(Y){this._readableStream?this._readableStream.destroy(Y):this._error(Y)}},{key:"_error",value:function(Y){this._storedError=Y,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(Y){var S=this;this._readableStream=Y,Y.on("readable",function(){S._readCapability.resolve()}),Y.on("end",function(){Y.destroy(),S._done=!0,S._readCapability.resolve()}),Y.on("error",function(A){S._error(A)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new D.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),xe;var fe}(),_e=function(){function xe(fe){_classCallCheck(this,xe),this._url=fe.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,D.createPromiseCapability)(),this._isStreamingSupported=!fe.source.disableStream}return _createClass(xe,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(fe=_asyncToGenerator(_regeneratorRuntime().mark(function S(){var A,G;return _regeneratorRuntime().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,this._readCapability.promise;case 2:if(!this._done){oe.next=4;break}return oe.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){oe.next=6;break}throw this._storedError;case 6:if(null!==(A=this._readableStream.read())){oe.next=10;break}return this._readCapability=(0,D.createPromiseCapability)(),oe.abrupt("return",this.read());case 10:return this._loaded+=A.length,this.onProgress&&this.onProgress({loaded:this._loaded}),G=new Uint8Array(A).buffer,oe.abrupt("return",{value:G,done:!1});case 14:case"end":return oe.stop()}},S,this)})),function Y(){return fe.apply(this,arguments)})},{key:"cancel",value:function(Y){this._readableStream?this._readableStream.destroy(Y):this._error(Y)}},{key:"_error",value:function(Y){this._storedError=Y,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(Y){var S=this;this._readableStream=Y,Y.on("readable",function(){S._readCapability.resolve()}),Y.on("end",function(){Y.destroy(),S._done=!0,S._readCapability.resolve()}),Y.on("error",function(A){S._error(A)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),xe;var fe}();function j(xe,fe){return{protocol:xe.protocol,auth:xe.auth,host:xe.hostname,port:xe.port,path:xe.path,method:"GET",headers:fe}}var Ce=function(xe){_inherits(Y,xe);var fe=_createSuper(Y);function Y(S){var A;_classCallCheck(this,Y);var G=function(oe){if(404===oe.statusCode){var ce=new D.MissingPDFException('Missing PDF "'.concat(A._url,'".'));return A._storedError=ce,void A._headersCapability.reject(ce)}A._headersCapability.resolve(),A._setReadableStream(oe);var q=function(I){return A._readableStream.headers[I.toLowerCase()]},B=(0,E.validateRangeRequestCapabilities)({getResponseHeader:q,isHttp:S.isHttp,rangeChunkSize:A._rangeChunkSize,disableRange:A._disableRange}),te=B.suggestedLength;A._isRangeSupported=B.allowRangeRequests,A._contentLength=te||A._contentLength,A._filename=(0,E.extractFilenameFromHeader)(q)};return(A=fe.call(this,S))._request=null,A._request="http:"===A._url.protocol?_.request(j(A._url,S.httpHeaders),G):e.request(j(A._url,S.httpHeaders),G),A._request.on("error",function(y){A._storedError=y,A._headersCapability.reject(y)}),A._request.end(),A}return _createClass(Y)}(H),ue=function(xe){_inherits(Y,xe);var fe=_createSuper(Y);function Y(S,A,G){var y;for(var oe in _classCallCheck(this,Y),(y=fe.call(this,S))._httpHeaders={},S.httpHeaders){var ce=S.httpHeaders[oe];void 0!==ce&&(y._httpHeaders[oe]=ce)}y._httpHeaders.Range="bytes=".concat(A,"-").concat(G-1);var q=function(ee){if(404!==ee.statusCode)y._setReadableStream(ee);else{var te=new D.MissingPDFException('Missing PDF "'.concat(y._url,'".'));y._storedError=te}};return y._request=null,y._request="http:"===y._url.protocol?_.request(j(y._url,y._httpHeaders),q):e.request(j(y._url,y._httpHeaders),q),y._request.on("error",function(B){y._storedError=B}),y._request.end(),y}return _createClass(Y)}(_e),z=function(xe){_inherits(Y,xe);var fe=_createSuper(Y);function Y(S){var A;_classCallCheck(this,Y),A=fe.call(this,S);var G=decodeURIComponent(A._url.path);return ge.test(A._url.href)&&(G=G.replace(/^\//,"")),Te.lstat(G,function(y,oe){if(y)return"ENOENT"===y.code&&(y=new D.MissingPDFException('Missing PDF "'.concat(G,'".'))),A._storedError=y,void A._headersCapability.reject(y);A._contentLength=oe.size,A._setReadableStream(Te.createReadStream(G)),A._headersCapability.resolve()}),A}return _createClass(Y)}(H),se=function(xe){_inherits(Y,xe);var fe=_createSuper(Y);function Y(S,A,G){var y;_classCallCheck(this,Y),y=fe.call(this,S);var oe=decodeURIComponent(y._url.path);return ge.test(y._url.href)&&(oe=oe.replace(/^\//,"")),y._setReadableStream(Te.createReadStream(oe,{start:A,end:G-1})),y}return _createClass(Y)}(_e)},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.createResponseStatusError=function e(ge,b){return 404===ge||0===ge&&b.startsWith("file:")?new D.MissingPDFException('Missing PDF "'+b+'".'):new D.UnexpectedResponseException("Unexpected server response ("+ge+') while retrieving PDF "'+b+'".',ge)},ae.extractFilenameFromHeader=function _(ge){var b=ge("Content-Disposition");if(b){var ie=(0,E.getFilenameFromContentDispositionHeader)(b);if(ie.includes("%"))try{ie=decodeURIComponent(ie)}catch(H){}if(/\.pdf$/i.test(ie))return ie}return null},ae.validateRangeRequestCapabilities=function Te(ge){var b=ge.getResponseHeader,ie=ge.isHttp,H=ge.rangeChunkSize,_e=ge.disableRange;(0,D.assert)(H>0,"Range chunk size must be larger than zero");var j={allowRangeRequests:!1,suggestedLength:void 0},Ce=parseInt(b("Content-Length"),10);return!Number.isInteger(Ce)||(j.suggestedLength=Ce,Ce<=2*H)||_e||!ie||"bytes"!==b("Accept-Ranges")||"identity"!==(b("Content-Encoding")||"identity")||(j.allowRangeRequests=!0),j},ae.validateResponseStatus=function N(ge){return 200===ge||206===ge};var D=J(2),E=J(21)},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.getFilenameFromContentDispositionHeader=function D(E){var Te=!0,_=b("filename\\*","i").exec(E);if(_){var e=j(_=_[1]);return H(e=ue(e=Ce(e=unescape(e))))}if(_=function _e(z){for(var xe,se=[],fe=b("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(xe=fe.exec(z));){var S=_slicedToArray(xe,4),A=S[1],G=S[2],y=S[3];if((A=parseInt(A,10))in se){if(0===A)break}else se[A]=[G,y]}for(var oe=[],ce=0;ce<se.length&&ce in se;++ce){var q=_slicedToArray(se[ce],2),B=q[0],ee=q[1];ee=j(ee),B&&(ee=unescape(ee),0===ce&&(ee=Ce(ee))),oe.push(ee)}return oe.join("")}(E))return H(ue(_));if(_=b("filename","i").exec(E)){var ge=j(_=_[1]);return H(ge=ue(ge))}function b(z,se){return new RegExp("(?:^|;)\\s*"+z+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',se)}function ie(z,se){if(z){if(!/^[\x00-\xFF]+$/.test(se))return se;try{var xe=new TextDecoder(z,{fatal:!0}),fe=Array.from(se,function(Y){return 255&Y.charCodeAt(0)});se=xe.decode(new Uint8Array(fe)),Te=!1}catch(Y){if(/^utf-?8$/i.test(z))try{se=decodeURIComponent(escape(se)),Te=!1}catch(S){}}}return se}function H(z){return Te&&/[\x80-\xff]/.test(z)&&(z=ie("utf-8",z),Te&&(z=ie("iso-8859-1",z))),z}function j(z){if(z.startsWith('"')){for(var se=z.slice(1).split('\\"'),xe=0;xe<se.length;++xe){var fe=se[xe].indexOf('"');-1!==fe&&(se[xe]=se[xe].slice(0,fe),se.length=xe+1),se[xe]=se[xe].replace(/\\(.)/g,"$1")}z=se.join('"')}return z}function Ce(z){var se=z.indexOf("'");return-1===se?z:ie(z.slice(0,se),z.slice(se+1).replace(/^[^']*'/,""))}function ue(z){return!z.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(z)?z:z.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(se,xe,fe,Y){if("q"===fe||"Q"===fe)return ie(xe,Y=(Y=Y.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(S,A){return String.fromCharCode(parseInt(A,16))}));try{Y=atob(Y)}catch(S){}return ie(xe,Y)})}return""}},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.PDFNetworkStream=void 0;var D=J(2),E=J(20),N=function(){function H(_e,j){_classCallCheck(this,H),this.url=_e,j=j||{},this.isHttp=/^https?:/i.test(_e),this.httpHeaders=this.isHttp&&j.httpHeaders||{},this.withCredentials=j.withCredentials||!1,this.getXhr=j.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(H,[{key:"requestRange",value:function(j,Ce,ue){var z={begin:j,end:Ce};for(var se in ue)z[se]=ue[se];return this.request(z)}},{key:"requestFull",value:function(j){return this.request(j)}},{key:"request",value:function(j){var Ce=this.getXhr(),ue=this.currXhrId++,z=this.pendingRequests[ue]={xhr:Ce};for(var se in Ce.open("GET",this.url),Ce.withCredentials=this.withCredentials,this.httpHeaders){var xe=this.httpHeaders[se];void 0!==xe&&Ce.setRequestHeader(se,xe)}return this.isHttp&&"begin"in j&&"end"in j?(Ce.setRequestHeader("Range","bytes=".concat(j.begin,"-").concat(j.end-1)),z.expectedStatus=206):z.expectedStatus=200,Ce.responseType="arraybuffer",j.onError&&(Ce.onerror=function(fe){j.onError(Ce.status)}),Ce.onreadystatechange=this.onStateChange.bind(this,ue),Ce.onprogress=this.onProgress.bind(this,ue),z.onHeadersReceived=j.onHeadersReceived,z.onDone=j.onDone,z.onError=j.onError,z.onProgress=j.onProgress,Ce.send(null),ue}},{key:"onProgress",value:function(j,Ce){var ue=this.pendingRequests[j];!ue||ue.onProgress&&ue.onProgress(Ce)}},{key:"onStateChange",value:function(j,Ce){var ue=this.pendingRequests[j];if(ue){var z=ue.xhr;if(z.readyState>=2&&ue.onHeadersReceived&&(ue.onHeadersReceived(),delete ue.onHeadersReceived),4===z.readyState&&j in this.pendingRequests){if(delete this.pendingRequests[j],0===z.status&&this.isHttp)return void(ue.onError&&ue.onError(z.status));var se=z.status||200;if((200!==se||206!==ue.expectedStatus)&&se!==ue.expectedStatus)return void(ue.onError&&ue.onError(z.status));var fe=function e(H){var _e=H.response;return"string"!=typeof _e?_e:(0,D.stringToBytes)(_e).buffer}(z);if(206===se){var Y=z.getResponseHeader("Content-Range"),S=/bytes (\d+)-(\d+)\/(\d+)/.exec(Y);ue.onDone({begin:parseInt(S[1],10),chunk:fe})}else fe?ue.onDone({begin:0,chunk:fe}):ue.onError&&ue.onError(z.status)}}}},{key:"hasPendingRequests",value:function(){for(var j in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(j){return this.pendingRequests[j].xhr}},{key:"isPendingRequest",value:function(j){return j in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var j in this.pendingRequests)this.abortRequest(0|j)}},{key:"abortRequest",value:function(j){var Ce=this.pendingRequests[j].xhr;delete this.pendingRequests[j],Ce.abort()}}]),H}();ae.PDFNetworkStream=function(){function H(_e){_classCallCheck(this,H),this._source=_e,this._manager=new N(_e.url,{httpHeaders:_e.httpHeaders,withCredentials:_e.withCredentials}),this._rangeChunkSize=_e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(H,[{key:"_onRangeRequestReaderClosed",value:function(j){var Ce=this._rangeRequestReaders.indexOf(j);Ce>=0&&this._rangeRequestReaders.splice(Ce,1)}},{key:"getFullReader",value:function(){return(0,D.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new b(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(j,Ce){var ue=new ie(this._manager,j,Ce);return ue.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ue),ue}},{key:"cancelAllRequests",value:function(j){this._fullRequestReader&&this._fullRequestReader.cancel(j),this._rangeRequestReaders.slice(0).forEach(function(ue){ue.cancel(j)})}}]),H}();var b=function(){function H(_e,j){_classCallCheck(this,H),this._manager=_e;var Ce={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=j.url,this._fullRequestId=_e.requestFull(Ce),this._headersReceivedCapability=(0,D.createPromiseCapability)(),this._disableRange=j.disableRange||!1,this._contentLength=j.length,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return _createClass(H,[{key:"_onHeadersReceived",value:function(){var j=this._fullRequestId,Ce=this._manager.getRequestXhr(j),ue=function(Y){return Ce.getResponseHeader(Y)},z=(0,E.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),xe=z.suggestedLength;z.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=xe||this._contentLength,this._filename=(0,E.extractFilenameFromHeader)(ue),this._isRangeSupported&&this._manager.abortRequest(j),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(j){j&&(this._requests.length>0?this._requests.shift().resolve({value:j.chunk,done:!1}):this._cachedChunks.push(j.chunk)),this._done=!0,!(this._cachedChunks.length>0)&&(this._requests.forEach(function(ue){ue.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(j){var ue=(0,E.createResponseStatusError)(j,this._url);this._storedError=ue,this._headersReceivedCapability.reject(ue),this._requests.forEach(function(z){z.reject(ue)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(j){this.onProgress&&this.onProgress({loaded:j.loaded,total:j.lengthComputable?j.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(_e=_asyncToGenerator(_regeneratorRuntime().mark(function Ce(){var ue,z;return _regeneratorRuntime().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(!this._storedError){xe.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){xe.next=5;break}return ue=this._cachedChunks.shift(),xe.abrupt("return",{value:ue,done:!1});case 5:if(!this._done){xe.next=7;break}return xe.abrupt("return",{value:void 0,done:!0});case 7:return z=(0,D.createPromiseCapability)(),this._requests.push(z),xe.abrupt("return",z.promise);case 10:case"end":return xe.stop()}},Ce,this)})),function j(){return _e.apply(this,arguments)})},{key:"cancel",value:function(j){this._done=!0,this._headersReceivedCapability.reject(j),this._requests.forEach(function(Ce){Ce.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),H;var _e}(),ie=function(){function H(_e,j,Ce){_classCallCheck(this,H),this._manager=_e;var ue={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=_e.requestRange(j,Ce,ue),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}return _createClass(H,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(j){var Ce=j.chunk;this._requests.length>0?this._requests.shift().resolve({value:Ce,done:!1}):this._queuedChunk=Ce,this._done=!0,this._requests.forEach(function(z){z.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(j){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:j.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(_e=_asyncToGenerator(_regeneratorRuntime().mark(function Ce(){var ue,z;return _regeneratorRuntime().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(null===this._queuedChunk){xe.next=4;break}return ue=this._queuedChunk,this._queuedChunk=null,xe.abrupt("return",{value:ue,done:!1});case 4:if(!this._done){xe.next=6;break}return xe.abrupt("return",{value:void 0,done:!0});case 6:return z=(0,D.createPromiseCapability)(),this._requests.push(z),xe.abrupt("return",z.promise);case 9:case"end":return xe.stop()}},Ce,this)})),function j(){return _e.apply(this,arguments)})},{key:"cancel",value:function(j){this._done=!0,this._requests.forEach(function(Ce){Ce.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),H;var _e}()},function(Re,ae,J){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.PDFFetchStream=void 0;var D=J(2),E=J(20);function Te(b,ie,H){return{method:"GET",headers:b,signal:H&&H.signal,mode:"cors",credentials:ie?"include":"same-origin",redirect:"follow"}}function _(b){var ie=new Headers;for(var H in b){var _e=b[H];void 0!==_e&&ie.append(H,_e)}return ie}ae.PDFFetchStream=function(){function b(ie){_classCallCheck(this,b),this.source=ie,this.isHttp=/^https?:/i.test(ie.url),this.httpHeaders=this.isHttp&&ie.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(b,[{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}},{key:"getFullReader",value:function(){return(0,D.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new N(this),this._fullRequestReader}},{key:"getRangeReader",value:function(H,_e){if(_e<=this._progressiveDataLength)return null;var j=new ge(this,H,_e);return this._rangeRequestReaders.push(j),j}},{key:"cancelAllRequests",value:function(H){this._fullRequestReader&&this._fullRequestReader.cancel(H),this._rangeRequestReaders.slice(0).forEach(function(j){j.cancel(H)})}}]),b}();var N=function(){function b(ie){var H=this;_classCallCheck(this,b),this._stream=ie,this._reader=null,this._loaded=0,this._filename=null;var _e=ie.source;this._withCredentials=_e.withCredentials||!1,this._contentLength=_e.length,this._headersCapability=(0,D.createPromiseCapability)(),this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._headers=_(this._stream.httpHeaders);var j=_e.url;fetch(j,Te(this._headers,this._withCredentials,this._abortController)).then(function(Ce){if(!(0,E.validateResponseStatus)(Ce.status))throw(0,E.createResponseStatusError)(Ce.status,j);H._reader=Ce.body.getReader(),H._headersCapability.resolve();var ue=function(Y){return Ce.headers.get(Y)},z=(0,E.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:H._stream.isHttp,rangeChunkSize:H._rangeChunkSize,disableRange:H._disableRange}),xe=z.suggestedLength;H._isRangeSupported=z.allowRangeRequests,H._contentLength=xe||H._contentLength,H._filename=(0,E.extractFilenameFromHeader)(ue),!H._isStreamingSupported&&H._isRangeSupported&&H.cancel(new D.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return _createClass(b,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(ie=_asyncToGenerator(_regeneratorRuntime().mark(function _e(){var j,Ce,ue,z;return _regeneratorRuntime().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,this._headersCapability.promise;case 2:return xe.next=4,this._reader.read();case 4:if(Ce=(j=xe.sent).value,!(ue=j.done)){xe.next=9;break}return xe.abrupt("return",{value:Ce,done:ue});case 9:return this._loaded+=Ce.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),z=new Uint8Array(Ce).buffer,xe.abrupt("return",{value:z,done:!1});case 13:case"end":return xe.stop()}},_e,this)})),function H(){return ie.apply(this,arguments)})},{key:"cancel",value:function(H){this._reader&&this._reader.cancel(H),this._abortController&&this._abortController.abort()}}]),b;var ie}(),ge=function(){function b(ie,H,_e){var j=this;_classCallCheck(this,b),this._stream=ie,this._reader=null,this._loaded=0;var Ce=ie.source;this._withCredentials=Ce.withCredentials||!1,this._readCapability=(0,D.createPromiseCapability)(),this._isStreamingSupported=!Ce.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=_(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(H,"-").concat(_e-1));var ue=Ce.url;fetch(ue,Te(this._headers,this._withCredentials,this._abortController)).then(function(z){if(!(0,E.validateResponseStatus)(z.status))throw(0,E.createResponseStatusError)(z.status,ue);j._readCapability.resolve(),j._reader=z.body.getReader()}),this.onProgress=null}return _createClass(b,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(ie=_asyncToGenerator(_regeneratorRuntime().mark(function _e(){var j,Ce,ue,z;return _regeneratorRuntime().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,this._readCapability.promise;case 2:return xe.next=4,this._reader.read();case 4:if(Ce=(j=xe.sent).value,!(ue=j.done)){xe.next=9;break}return xe.abrupt("return",{value:Ce,done:ue});case 9:return this._loaded+=Ce.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),z=new Uint8Array(Ce).buffer,xe.abrupt("return",{value:z,done:!1});case 13:case"end":return xe.stop()}},_e,this)})),function H(){return ie.apply(this,arguments)})},{key:"cancel",value:function(H){this._reader&&this._reader.cancel(H),this._abortController&&this._abortController.abort()}}]),b;var ie}()}])},module.exports=J()},12813:function(Re,ae,J){var D=J(74704).default,E=J(41588).default,Te=J(73808).default,_=J(61655).default,e=J(26389).default,N=J(27424).default,ge=J(17061).default,b=J(17156).default,ie=J(56690).default,H=J(89728).default;Re.exports=function(_e){var j={};function Ce(ue){if(j[ue])return j[ue].exports;var z=j[ue]={i:ue,l:!1,exports:{}};return _e[ue].call(z.exports,z,z.exports,Ce),z.l=!0,z.exports}return Ce.m=_e,Ce.c=j,Ce.d=function(ue,z,se){Ce.o(ue,z)||Object.defineProperty(ue,z,{enumerable:!0,get:se})},Ce.r=function(ue){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(ue,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ue,"__esModule",{value:!0})},Ce.t=function(ue,z){if(1&z&&(ue=Ce(ue)),8&z||4&z&&"object"==typeof ue&&ue&&ue.__esModule)return ue;var se=Object.create(null);if(Ce.r(se),Object.defineProperty(se,"default",{enumerable:!0,value:ue}),2&z&&"string"!=typeof ue)for(var xe in ue)Ce.d(se,xe,function(fe){return ue[fe]}.bind(null,xe));return se},Ce.n=function(ue){var z=ue&&ue.__esModule?function(){return ue.default}:function(){return ue};return Ce.d(z,"a",z),z},Ce.o=function(ue,z){return Object.prototype.hasOwnProperty.call(ue,z)},Ce.p="",Ce(Ce.s=0)}([function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),Object.defineProperty(j,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return ue.AnnotationLayerBuilder}}),Object.defineProperty(j,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return ue.DefaultAnnotationLayerFactory}}),Object.defineProperty(j,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return z.DefaultTextLayerFactory}}),Object.defineProperty(j,"TextLayerBuilder",{enumerable:!0,get:function(){return z.TextLayerBuilder}}),Object.defineProperty(j,"EventBus",{enumerable:!0,get:function(){return se.EventBus}}),Object.defineProperty(j,"NullL10n",{enumerable:!0,get:function(){return se.NullL10n}}),Object.defineProperty(j,"ProgressBar",{enumerable:!0,get:function(){return se.ProgressBar}}),Object.defineProperty(j,"PDFLinkService",{enumerable:!0,get:function(){return xe.PDFLinkService}}),Object.defineProperty(j,"SimpleLinkService",{enumerable:!0,get:function(){return xe.SimpleLinkService}}),Object.defineProperty(j,"DownloadManager",{enumerable:!0,get:function(){return fe.DownloadManager}}),Object.defineProperty(j,"GenericL10n",{enumerable:!0,get:function(){return Y.GenericL10n}}),Object.defineProperty(j,"PDFFindController",{enumerable:!0,get:function(){return S.PDFFindController}}),Object.defineProperty(j,"PDFHistory",{enumerable:!0,get:function(){return A.PDFHistory}}),Object.defineProperty(j,"PDFPageView",{enumerable:!0,get:function(){return G.PDFPageView}}),Object.defineProperty(j,"PDFSinglePageViewer",{enumerable:!0,get:function(){return y.PDFSinglePageViewer}}),Object.defineProperty(j,"PDFViewer",{enumerable:!0,get:function(){return oe.PDFViewer}});var ue=Ce(1),z=Ce(5),se=Ce(3),xe=Ce(4),fe=Ce(6),Y=Ce(8),S=Ce(10),A=Ce(12),G=Ce(13),y=Ce(15),oe=Ce(17)},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.DefaultAnnotationLayerFactory=j.AnnotationLayerBuilder=void 0;var ue=Ce(2),z=Ce(3),se=Ce(4),xe=function(){function Y(S){var A=S.pageDiv,G=S.pdfPage,y=S.linkService,oe=S.downloadManager,ce=S.imageResourcesPath,q=void 0===ce?"":ce,B=S.renderInteractiveForms,ee=void 0!==B&&B,te=S.l10n,K=void 0===te?z.NullL10n:te;ie(this,Y),this.pageDiv=A,this.pdfPage=G,this.linkService=y,this.downloadManager=oe,this.imageResourcesPath=q,this.renderInteractiveForms=ee,this.l10n=K,this.div=null,this._cancelled=!1}return H(Y,[{key:"render",value:function(A){var G=this;this.pdfPage.getAnnotations({intent:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(oe){if(!G._cancelled){var ce={viewport:A.clone({dontFlip:!0}),div:G.div,annotations:oe,page:G.pdfPage,imageResourcesPath:G.imageResourcesPath,renderInteractiveForms:G.renderInteractiveForms,linkService:G.linkService,downloadManager:G.downloadManager};if(G.div)ue.AnnotationLayer.update(ce);else{if(0===oe.length)return;G.div=document.createElement("div"),G.div.className="annotationLayer",G.pageDiv.appendChild(G.div),ce.div=G.div,ue.AnnotationLayer.render(ce),G.l10n.translate(G.div)}}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){!this.div||this.div.setAttribute("hidden","true")}}]),Y}();j.AnnotationLayerBuilder=xe;var fe=function(){function Y(){ie(this,Y)}return H(Y,[{key:"createAnnotationLayerBuilder",value:function(A,G){var ce=arguments.length>4&&void 0!==arguments[4]?arguments[4]:z.NullL10n;return new xe({pageDiv:A,pdfPage:G,imageResourcesPath:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:arguments.length>3&&void 0!==arguments[3]&&arguments[3],linkService:new se.SimpleLinkService,l10n:ce})}}]),Y}();j.DefaultAnnotationLayerFactory=fe},function(_e,j,Ce){"use strict";var ue;ue="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:J(16036),_e.exports=ue},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.isValidRotation=function lt(ut){return Number.isInteger(ut)&&ut%90==0},j.isValidScrollMode=function Ze(ut){return Number.isInteger(ut)&&Object.values(q).includes(ut)&&ut!==q.UNKNOWN},j.isValidSpreadMode=function Mt(ut){return Number.isInteger(ut)&&Object.values(B).includes(ut)&&ut!==B.UNKNOWN},j.isPortraitOrientation=function At(ut){return ut.width<=ut.height},j.clamp=dn,j.getPDFFileNameFromURL=function ot(ut){var xt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof ut)return xt;if(je(ut))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),xt;var mt=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,jt=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(ut),qt=mt.exec(jt[1])||mt.exec(jt[2])||mt.exec(jt[3]);if(qt&&(qt=qt[0]).includes("%"))try{qt=mt.exec(decodeURIComponent(qt))[0]}catch(Qt){}return qt||xt},j.noContextMenuHandler=function Ye(ut){ut.preventDefault()},j.parseQueryString=function L(ut){for(var xt=ut.split("&"),It=Object.create(null),mt=0,jt=xt.length;mt<jt;++mt){var qt=xt[mt].split("="),Qt=qt[0].toLowerCase(),Un=qt.length>1?qt[1]:null;It[decodeURIComponent(Qt)]=decodeURIComponent(Un)}return It},j.backtrackBeforeAllVisibleElements=Se,j.getVisibleElements=function Fe(ut,xt){var It=arguments.length>2&&void 0!==arguments[2]&&arguments[2],mt=arguments.length>3&&void 0!==arguments[3]&&arguments[3],jt=ut.scrollTop,qt=jt+ut.clientHeight,Qt=ut.scrollLeft,Un=Qt+ut.clientWidth;function dt(jr){var Mr=jr.div;return Mr.offsetTop+Mr.clientTop+Mr.clientHeight>jt}function Pt(jr){var Mr=jr.div;return Mr.offsetLeft+Mr.clientLeft+Mr.clientWidth>Qt}var ze=[],ht=xt.length,Kt=0===ht?0:X(xt,mt?Pt:dt);Kt>0&&Kt<ht&&!mt&&(Kt=Se(Kt,xt,jt));for(var nn=mt?Un:-1,Zn=Kt;Zn<ht;Zn++){var In=xt[Zn],Hn=In.div,gi=Hn.offsetLeft+Hn.clientLeft,Hr=Hn.offsetTop+Hn.clientTop,Ro=Hn.clientWidth,Vi=Hn.clientHeight,Br=gi+Ro,ar=Hr+Vi;if(-1===nn)ar>=qt&&(nn=ar);else if((mt?gi:Hr)>nn)break;if(!(ar<=jt||Hr>=qt||Br<=Qt||gi>=Un)){var _a=Math.max(0,jt-Hr)+Math.max(0,ar-qt),br=Math.max(0,Qt-gi)+Math.max(0,Br-Un);ze.push({id:In.id,x:gi,y:Hr,view:In,percent:(Vi-_a)*(Ro-br)*100/Vi/Ro|0})}}var To=ze[0],va=ze[ze.length-1];return It&&ze.sort(function(jr,Mr){var Or=jr.percent-Mr.percent;return Math.abs(Or)>.001?-Or:jr.id-Mr.id}),{first:To,last:va,views:ze}},j.roundToDivide=function Oe(ut,xt){var It=ut%xt;return 0===It?ut:Math.round(ut-It+xt)},j.getPageSizeInches=function ke(ut){var It=ut.userUnit,mt=ut.rotate,jt=N(ut.view,4),Pt=mt%180!=0,ze=(jt[2]-jt[0])/72*It,ht=(jt[3]-jt[1])/72*It;return{width:Pt?ht:ze,height:Pt?ze:ht}},j.approximateFraction=function le(ut){if(Math.floor(ut)===ut)return[ut,1];var xt=1/ut;if(xt>8)return[1,8];if(Math.floor(xt)===xt)return[1,xt];for(var mt=ut>1?xt:ut,jt=0,qt=1,Qt=1,Un=1;;){var dt=jt+Qt,Pt=qt+Un;if(Pt>8)break;mt<=dt/Pt?(Qt=dt,Un=Pt):(jt=dt,qt=Pt)}return mt-jt/qt<Qt/Un-mt?mt===ut?[jt,qt]:[qt,jt]:mt===ut?[Qt,Un]:[Un,Qt]},j.getOutputScale=function I(ut){var mt=(window.devicePixelRatio||1)/(ut.webkitBackingStorePixelRatio||ut.mozBackingStorePixelRatio||ut.msBackingStorePixelRatio||ut.oBackingStorePixelRatio||ut.backingStorePixelRatio||1);return{sx:mt,sy:mt,scaled:1!==mt}},j.scrollIntoView=function M(ut,xt){var It=arguments.length>2&&void 0!==arguments[2]&&arguments[2],mt=ut.offsetParent;if(mt){for(var jt=ut.offsetTop+ut.clientTop,qt=ut.offsetLeft+ut.clientLeft;mt.clientHeight===mt.scrollHeight&&mt.clientWidth===mt.scrollWidth||It&&"hidden"===getComputedStyle(mt).overflow;)if(mt.dataset._scaleY&&(jt/=mt.dataset._scaleY,qt/=mt.dataset._scaleX),jt+=mt.offsetTop,qt+=mt.offsetLeft,!(mt=mt.offsetParent))return;xt&&(void 0!==xt.top&&(jt+=xt.top),void 0!==xt.left&&(mt.scrollLeft=qt+=xt.left)),mt.scrollTop=jt}else console.error("offsetParent is not set -- cannot scroll")},j.watchScroll=function Q(ut,xt){var It=function(Qt){jt||(jt=window.requestAnimationFrame(function(){jt=null;var dt=ut.scrollLeft,Pt=mt.lastX;dt!==Pt&&(mt.right=dt>Pt),mt.lastX=dt;var ze=ut.scrollTop,ht=mt.lastY;ze!==ht&&(mt.down=ze>ht),mt.lastY=ze,xt(mt)}))},mt={right:!0,down:!0,lastX:ut.scrollLeft,lastY:ut.scrollTop,_eventHandler:It},jt=null;return ut.addEventListener("scroll",It,!0),mt},j.binarySearchFirstItem=X,j.normalizeWheelEventDelta=function it(ut){var xt=Math.sqrt(ut.deltaX*ut.deltaX+ut.deltaY*ut.deltaY),It=Math.atan2(ut.deltaY,ut.deltaX);-.25*Math.PI<It&&It<.75*Math.PI&&(xt=-xt);return 0===ut.deltaMode?xt/=900:1===ut.deltaMode&&(xt/=30),xt},j.waitOnEventOrTimeout=function Ft(ut){var xt=ut.target,It=ut.name,mt=ut.delay,jt=void 0===mt?0:mt;return new Promise(function(qt,Qt){if("object"!=typeof xt||!It||"string"!=typeof It||!(Number.isInteger(jt)&&jt>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function Un(ht){xt instanceof Ot?xt._off(It,dt):xt.removeEventListener(It,dt),ze&&clearTimeout(ze),qt(ht)}var dt=Un.bind(null,Jt.EVENT);xt instanceof Ot?xt._on(It,dt):xt.addEventListener(It,dt);var Pt=Un.bind(null,Jt.TIMEOUT),ze=setTimeout(Pt,jt)})},j.moveToEndOfArray=function En(ut,xt){for(var It=[],mt=ut.length,jt=0,qt=0;qt<mt;++qt)xt(ut[qt])?It.push(ut[qt]):(ut[jt]=ut[qt],++jt);for(var Qt=0;jt<mt;++Qt,++jt)ut[jt]=It[Qt]},j.WaitOnType=j.animationStarted=j.ProgressBar=j.EventBus=j.NullL10n=j.SpreadMode=j.ScrollMode=j.TextLayerMode=j.RendererType=j.PresentationModeState=j.VERTICAL_PADDING=j.SCROLLBAR_PADDING=j.MAX_AUTO_SCALE=j.UNKNOWN_SCALE=j.MAX_SCALE=j.MIN_SCALE=j.DEFAULT_SCALE=j.DEFAULT_SCALE_VALUE=j.CSS_UNITS=j.AutoPrintRegExp=void 0,j.CSS_UNITS=96/72,j.DEFAULT_SCALE_VALUE="auto",j.DEFAULT_SCALE=1,j.MIN_SCALE=.1,j.MAX_SCALE=10,j.UNKNOWN_SCALE=0,j.MAX_AUTO_SCALE=1.25,j.SCROLLBAR_PADDING=40,j.VERTICAL_PADDING=5,j.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},j.RendererType={CANVAS:"canvas",SVG:"svg"},j.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var q={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};j.ScrollMode=q;var B={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function te(ut,xt){return xt?ut.replace(/\{\{\s*(\w+)\s*\}\}/g,function(It,mt){return mt in xt?xt[mt]:"{{"+mt+"}}"}):ut}function X(ut,xt){var It=0,mt=ut.length-1;if(mt<0||!xt(ut[mt]))return ut.length;if(xt(ut[It]))return It;for(;It<mt;){var jt=It+mt>>1;xt(ut[jt])?mt=jt:It=jt+1}return It}function Se(ut,xt,It){if(ut<2)return ut;var mt=xt[ut].div,jt=mt.offsetTop+mt.clientTop;jt>=It&&(jt=(mt=xt[ut-1].div).offsetTop+mt.clientTop);for(var qt=ut-2;qt>=0&&!((mt=xt[qt].div).offsetTop+mt.clientTop+mt.clientHeight<=jt);--qt)ut=qt;return ut}function je(ut){for(var xt=0,It=ut.length;xt<It&&""===ut[xt].trim();)xt++;return"data:"===ut.substring(xt,xt+5).toLowerCase()}j.SpreadMode=B,j.AutoPrintRegExp=/\bprint\s*\(/,j.NullL10n={getLanguage:function(){return b(ge().mark(function xt(){return ge().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return mt.abrupt("return","en-us");case 1:case"end":return mt.stop()}},xt)}))()},getDirection:function(){return b(ge().mark(function xt(){return ge().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return mt.abrupt("return","ltr");case 1:case"end":return mt.stop()}},xt)}))()},get:function(xt,It,mt){return b(ge().mark(function jt(){return ge().wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:return Qt.abrupt("return",te(mt,It));case 1:case"end":return Qt.stop()}},jt)}))()},translate:function(xt){return b(ge().mark(function It(){return ge().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:case"end":return jt.stop()}},It)}))()}};var Jt={EVENT:"event",TIMEOUT:"timeout"};j.WaitOnType=Jt;var an=new Promise(function(ut){window.requestAnimationFrame(ut)});j.animationStarted=an;var Ot=function(){function ut(xt){ie(this,ut),this._listeners=Object.create(null)}return H(ut,[{key:"on",value:function(It,mt){this._on(It,mt,{external:!0})}},{key:"off",value:function(It,mt){this._off(It,mt,{external:!0})}},{key:"dispatch",value:function(It){var mt=this._listeners[It];if(mt&&0!==mt.length){var qt,jt=Array.prototype.slice.call(arguments,1);mt.slice(0).forEach(function(Qt){var Un=Qt.listener;if(Qt.external)return qt||(qt=[]),void qt.push(Un);Un.apply(null,jt)}),qt&&(qt.forEach(function(Qt){Qt.apply(null,jt)}),qt=null)}}},{key:"_on",value:function(It,mt){var jt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,qt=this._listeners[It];qt||(this._listeners[It]=qt=[]),qt.push({listener:mt,external:!0===(jt&&jt.external)})}},{key:"_off",value:function(It,mt){var qt=this._listeners[It];if(qt)for(var Qt=0,Un=qt.length;Qt<Un;Qt++)if(qt[Qt].listener===mt)return void qt.splice(Qt,1)}}]),ut}();function dn(ut,xt,It){return Math.min(Math.max(ut,xt),It)}j.EventBus=Ot;var oi=function(){function ut(xt){var It=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},mt=It.height,jt=It.width,qt=It.units;ie(this,ut),this.visible=!0,this.div=document.querySelector(xt+" .progress"),this.bar=this.div.parentNode,this.height=mt||100,this.width=jt||100,this.units=qt||"%",this.div.style.height=this.height+this.units,this.percent=0}return H(ut,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"percent",get:function(){return this._percent},set:function(It){this._indeterminate=isNaN(It),this._percent=dn(It,0,100),this._updateBar()}},{key:"setWidth",value:function(It){if(It){var jt=It.parentNode.offsetWidth-It.offsetWidth;jt>0&&(this.bar.style.width="calc(100% - ".concat(jt,"px)"))}}},{key:"hide",value:function(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}}]),ut}();j.ProgressBar=oi},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.SimpleLinkService=j.PDFLinkService=void 0;var ue=Ce(3),z=function(){function fe(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=Y.eventBus,A=Y.externalLinkTarget,G=void 0===A?null:A,y=Y.externalLinkRel,oe=void 0===y?null:y,ce=Y.externalLinkEnabled,q=void 0===ce||ce,B=Y.ignoreDestinationZoom,ee=void 0!==B&&B;ie(this,fe),this.eventBus=S,this.externalLinkTarget=G,this.externalLinkRel=oe,this.externalLinkEnabled=q,this._ignoreDestinationZoom=ee,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return H(fe,[{key:"setDocument",value:function(S){this.baseUrl=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.pdfDocument=S,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(S){this.pdfViewer=S}},{key:"setHistory",value:function(S){this.pdfHistory=S}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(S){this.pdfViewer.currentPageNumber=S}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(S){this.pdfViewer.pagesRotation=S}},{key:"navigateTo",value:function(S){var A=this,G=function y(oe){var ee,ce=oe.namedDest,q=oe.explicitDest,B=q[0];if(B instanceof Object){if(null===(ee=A._cachedPageNumber(B)))return void A.pdfDocument.getPageIndex(B).then(function(te){A.cachePageRef(te+1,B),y({namedDest:ce,explicitDest:q})}).catch(function(){console.error('PDFLinkService.navigateTo: "'.concat(B,'" is not ')+'a valid page reference, for dest="'.concat(S,'".'))})}else{if(!Number.isInteger(B))return void console.error('PDFLinkService.navigateTo: "'.concat(B,'" is not ')+'a valid destination reference, for dest="'.concat(S,'".'));ee=B+1}!ee||ee<1||ee>A.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(ee,'" is not ')+'a valid page number, for dest="'.concat(S,'".')):(A.pdfHistory&&(A.pdfHistory.pushCurrentPosition(),A.pdfHistory.push({namedDest:ce,explicitDest:q,pageNumber:ee})),A.pdfViewer.scrollPageIntoView({pageNumber:ee,destArray:q,ignoreDestinationZoom:A._ignoreDestinationZoom}))};new Promise(function(y,oe){"string"!=typeof S?y({namedDest:"",explicitDest:S}):A.pdfDocument.getDestination(S).then(function(ce){y({namedDest:S,explicitDest:ce})})}).then(function(y){Array.isArray(y.explicitDest)?G(y):console.error('PDFLinkService.navigateTo: "'.concat(y.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(S,'".'))})}},{key:"getDestinationHash",value:function(S){if("string"==typeof S)return this.getAnchorUrl("#"+escape(S));if(Array.isArray(S)){var A=JSON.stringify(S);return this.getAnchorUrl("#"+escape(A))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(S){return(this.baseUrl||"")+S}},{key:"setHash",value:function(S){var A,G;if(S.includes("=")){var y=(0,ue.parseQueryString)(S);if("search"in y&&this.eventBus.dispatch("findfromurlhash",{source:this,query:y.search.replace(/"/g,""),phraseSearch:"true"===y.phrase}),"page"in y&&(A=0|y.page||1),"zoom"in y){var oe=y.zoom.split(","),ce=oe[0],q=parseFloat(ce);ce.includes("Fit")?"Fit"===ce||"FitB"===ce?G=[null,{name:ce}]:"FitH"===ce||"FitBH"===ce||"FitV"===ce||"FitBV"===ce?G=[null,{name:ce},oe.length>1?0|oe[1]:null]:"FitR"===ce?5!==oe.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):G=[null,{name:ce},0|oe[1],0|oe[2],0|oe[3],0|oe[4]]:console.error('PDFLinkService.setHash: "'.concat(ce,'" is not ')+"a valid zoom value."):G=[null,{name:"XYZ"},oe.length>1?0|oe[1]:null,oe.length>2?0|oe[2]:null,q?q/100:ce]}G?this.pdfViewer.scrollPageIntoView({pageNumber:A||this.page,destArray:G,allowNegativeOffset:!0}):A&&(this.page=A),"pagemode"in y&&this.eventBus.dispatch("pagemode",{source:this,mode:y.pagemode}),"nameddest"in y&&this.navigateTo(y.nameddest)}else{G=unescape(S);try{G=JSON.parse(G),Array.isArray(G)||(G=G.toString())}catch(B){}if("string"==typeof G||function se(fe){if(!Array.isArray(fe))return!1;var Y=fe.length;if(Y<2)return!1;var S=fe[0];if(!("object"==typeof S&&Number.isInteger(S.num)&&Number.isInteger(S.gen)||Number.isInteger(S)&&S>=0))return!1;var A=fe[1];if("object"!=typeof A||"string"!=typeof A.name)return!1;var G=!0;switch(A.name){case"XYZ":if(5!==Y)return!1;break;case"Fit":case"FitB":return 2===Y;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==Y)return!1;break;case"FitR":if(6!==Y)return!1;G=!1;break;default:return!1}for(var y=2;y<Y;y++){var oe=fe[y];if(!("number"==typeof oe||G&&null===oe))return!1}return!0}(G))return void this.navigateTo(G);console.error('PDFLinkService.setHash: "'.concat(unescape(S),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(S){switch(S){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:S})}},{key:"cachePageRef",value:function(S,A){if(A){var G=0===A.gen?"".concat(A.num,"R"):"".concat(A.num,"R").concat(A.gen);this._pagesRefCache[G]=S}}},{key:"_cachedPageNumber",value:function(S){var A=0===S.gen?"".concat(S.num,"R"):"".concat(S.num,"R").concat(S.gen);return this._pagesRefCache&&this._pagesRefCache[A]||null}},{key:"isPageVisible",value:function(S){return this.pdfViewer.isPageVisible(S)}}]),fe}();j.PDFLinkService=z,j.SimpleLinkService=function(){function fe(){ie(this,fe),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}return H(fe,[{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(S){}},{key:"rotation",get:function(){return 0},set:function(S){}},{key:"navigateTo",value:function(S){}},{key:"getDestinationHash",value:function(S){return"#"}},{key:"getAnchorUrl",value:function(S){return"#"}},{key:"setHash",value:function(S){}},{key:"executeNamedAction",value:function(S){}},{key:"cachePageRef",value:function(S,A){}},{key:"isPageVisible",value:function(S){return!0}}]),fe}()},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.DefaultTextLayerFactory=j.TextLayerBuilder=void 0;var ue=Ce(2),se=function(){function fe(Y){var S=Y.textLayerDiv,A=Y.eventBus,G=Y.pageIndex,y=Y.viewport,oe=Y.findController,ce=void 0===oe?null:oe,q=Y.enhanceTextSelection,B=void 0!==q&&q;ie(this,fe),this.textLayerDiv=S,this.eventBus=A,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=G,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=y,this.textDivs=[],this.findController=ce,this.textLayerRenderTask=null,this.enhanceTextSelection=B,this._onUpdateTextLayerMatches=null,this._bindMouse()}return H(fe,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var S=document.createElement("div");S.className="endOfContent",this.textLayerDiv.appendChild(S)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var S=this,A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var G=document.createDocumentFragment();this.textLayerRenderTask=(0,ue.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:G,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:A,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){S.textLayerDiv.appendChild(G),S._finishRendering(),S._updateMatches()},function(y){}),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(y){(y.pageIndex===S.pageIdx||-1===y.pageIndex)&&S._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(S){this.cancel(),this.textContentStream=S}},{key:"setTextContent",value:function(S){this.cancel(),this.textContent=S}},{key:"_convertMatches",value:function(S,A){if(!S)return[];for(var y=this.textContentItemsStr,oe=0,ce=0,q=y.length-1,B=this.findController.state.query.length,ee=[],te=0,K=S.length;te<K;te++){for(var I=S[te];oe!==q&&I>=ce+y[oe].length;)ce+=y[oe].length,oe++;oe===y.length&&console.error("Could not find a matching mapping");var M={begin:{divIdx:oe,offset:I-ce}};for(I+=A?A[te]:B;oe!==q&&I>ce+y[oe].length;)ce+=y[oe].length,oe++;M.end={divIdx:oe,offset:I-ce},ee.push(M)}return ee}},{key:"_renderMatches",value:function(S){if(0!==S.length){var A=this.findController,G=this.pageIdx,y=this.textContentItemsStr,oe=this.textDivs,ce=G===A.selected.pageIdx,q=A.selected.matchIdx,ee=null,te={divIdx:-1,offset:void 0},M=q,Q=M+1;if(A.state.highlightAll)M=0,Q=S.length;else if(!ce)return;for(var L=M;L<Q;L++){var X=S[L],le=X.begin,Oe=X.end,ke=ce&&L===q,Se=ke?" selected":"";if(ke&&A.scrollMatchIntoView({element:oe[le.divIdx],pageIndex:G,matchIndex:q}),ee&&le.divIdx===ee.divIdx?I(ee.divIdx,ee.offset,le.offset):(null!==ee&&I(ee.divIdx,ee.offset,te.offset),K(le)),le.divIdx===Oe.divIdx)I(le.divIdx,le.offset,Oe.offset,"highlight"+Se);else{I(le.divIdx,le.offset,te.offset,"highlight begin"+Se);for(var Fe=le.divIdx+1,Ye=Oe.divIdx;Fe<Ye;Fe++)oe[Fe].className="highlight middle"+Se;K(Oe,"highlight end"+Se)}ee=Oe}ee&&I(ee.divIdx,ee.offset,te.offset)}function K(je,ot){var it=je.divIdx;oe[it].textContent="",I(it,0,je.offset,ot)}function I(je,ot,it,lt){var Ze=oe[je],Mt=y[je].substring(ot,it),At=document.createTextNode(Mt);if(lt){var Jt=document.createElement("span");return Jt.className=lt,Jt.appendChild(At),void Ze.appendChild(Jt)}Ze.appendChild(At)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var S=this.findController,A=this.matches,G=this.pageIdx,y=this.textContentItemsStr,oe=this.textDivs,ce=-1,q=0,B=A.length;q<B;q++){for(var ee=A[q],K=Math.max(ce,ee.begin.divIdx),I=ee.end.divIdx;K<=I;K++){var M=oe[K];M.textContent=y[K],M.className=""}ce=ee.end.divIdx+1}S&&S.highlightMatches&&(this.matches=this._convertMatches(S.pageMatches[G]||null,S.pageMatchesLength[G]||null),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var S=this,A=this.textLayerDiv,G=null;A.addEventListener("mousedown",function(y){if(S.enhanceTextSelection&&S.textLayerRenderTask)return S.textLayerRenderTask.expandTextDivs(!0),void(G&&(clearTimeout(G),G=null));var oe=A.querySelector(".endOfContent");if(oe){var ce=y.target!==A;if(ce=ce&&"none"!==window.getComputedStyle(oe).getPropertyValue("-moz-user-select")){var q=A.getBoundingClientRect(),B=Math.max(0,(y.pageY-q.top)/q.height);oe.style.top=(100*B).toFixed(2)+"%"}oe.classList.add("active")}}),A.addEventListener("mouseup",function(){if(S.enhanceTextSelection&&S.textLayerRenderTask)G=setTimeout(function(){S.textLayerRenderTask&&S.textLayerRenderTask.expandTextDivs(!1),G=null},300);else{var y=A.querySelector(".endOfContent");!y||(y.style.top="",y.classList.remove("active"))}})}}]),fe}();j.TextLayerBuilder=se;var xe=function(){function fe(){ie(this,fe)}return H(fe,[{key:"createTextLayerBuilder",value:function(S,A,G){return new se({textLayerDiv:S,pageIndex:A,viewport:G,enhanceTextSelection:arguments.length>3&&void 0!==arguments[3]&&arguments[3],eventBus:arguments.length>4?arguments[4]:void 0})}}]),fe}();j.DefaultTextLayerFactory=xe},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.DownloadManager=void 0;var ue=Ce(2),se=Ce(7).viewerCompatibilityParams.disableCreateObjectURL||!1;function xe(Y,S){var A=document.createElement("a");if(!A.click)throw new Error('DownloadManager: "a.click()" is not supported.');A.href=Y,A.target="_parent","download"in A&&(A.download=S),(document.body||document.documentElement).appendChild(A),A.click(),A.remove()}j.DownloadManager=function(){function Y(S){var A=S.disableCreateObjectURL,G=void 0===A?se:A;ie(this,Y),this.disableCreateObjectURL=G}return H(Y,[{key:"downloadUrl",value:function(A,G){!(0,ue.createValidAbsoluteUrl)(A,"http://example.com")||xe(A+"#pdfjs.action=download",G)}},{key:"downloadData",value:function(A,G,y){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([A],{type:y}),G):xe((0,ue.createObjectURL)(A,y,this.disableCreateObjectURL),G)}},{key:"download",value:function(A,G,y){navigator.msSaveBlob?navigator.msSaveBlob(A,y)||this.downloadUrl(G,y):this.disableCreateObjectURL?this.downloadUrl(G,y):xe(URL.createObjectURL(A),y)}}]),Y}()},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.viewerCompatibilityParams=void 0;var ue=Object.create(null),z="undefined"!=typeof navigator&&navigator.userAgent||"",se="undefined"!=typeof navigator&&navigator.platform||"",xe="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,fe=/Android/.test(z),Y=/Trident/.test(z),S=/\b(iPad|iPhone|iPod)(?=;)/.test(z)||"MacIntel"===se&&xe>1,A=/CriOS/.test(z);(Y||A)&&(ue.disableCreateObjectURL=!0),(S||fe)&&(ue.maxCanvasPixels=5242880);var G=Object.freeze(ue);j.viewerCompatibilityParams=G},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.GenericL10n=void 0,Ce(9);var ue=document.webL10n,z=function(){function se(xe){ie(this,se),this._lang=xe,this._ready=new Promise(function(fe,Y){ue.setLanguage(xe,function(){fe(ue)})})}return H(se,[{key:"getLanguage",value:(xe=b(ge().mark(function Y(){return ge().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,this._ready;case 2:return G.abrupt("return",G.sent.getLanguage());case 4:case"end":return G.stop()}},Y,this)})),function fe(){return xe.apply(this,arguments)})},{key:"getDirection",value:function(){var xe=b(ge().mark(function Y(){return ge().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,this._ready;case 2:return G.abrupt("return",G.sent.getDirection());case 4:case"end":return G.stop()}},Y,this)}));return function fe(){return xe.apply(this,arguments)}}()},{key:"get",value:function(){var xe=b(ge().mark(function Y(S,A,G){return ge().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,this._ready;case 2:return ce.abrupt("return",ce.sent.get(S,A,G));case 4:case"end":return ce.stop()}},Y,this)}));return function fe(Y,S,A){return xe.apply(this,arguments)}}()},{key:"translate",value:function(){var xe=b(ge().mark(function Y(S){return ge().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,this._ready;case 2:return y.abrupt("return",y.sent.translate(S));case 4:case"end":return y.stop()}},Y,this)}));return function fe(Y){return xe.apply(this,arguments)}}()}]),se;var xe}();j.GenericL10n=z},function(_e,j,Ce){"use strict";document.webL10n=function(ue,z,se){var xe={},fe="",Y="textContent",S="",A={},G="loading";function ee(Se,Fe,Ye){Fe=Fe||function(it){},Ye=Ye||function(){};var je=new XMLHttpRequest;je.open("GET",Se,true),je.overrideMimeType&&je.overrideMimeType("text/plain; charset=utf-8"),je.onreadystatechange=function(){4==je.readyState&&(200==je.status||0===je.status?Fe(je.responseText):Ye())},je.onerror=Ye,je.ontimeout=Ye;try{je.send(null)}catch(ot){Ye()}}function te(Se,Fe,Ye,je){var ot=Se.replace(/[^\/]*$/,"")||"./";function it(Ze){return Ze.lastIndexOf("\\")<0?Ze:Ze.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}ee(Se,function(Ze){fe+=Ze,function lt(Ze,Mt){var At={},Jt=/^\s*|\s*$/,Ft=/^\s*#|^\s*$/,an=/^\s*\[(.*)\]\s*$/,un=/^\s*@import\s+url\((.*)\)\s*$/i,Ot=/^([^=\s]*)\s*=\s*(.+)$/;function dn(En,ut,xt){var It=En.replace(Jt,"").split(/[\r\n]+/),mt="*",jt=Fe.split("-",1)[0],qt=!1,Qt="";!function Un(){for(;;){if(!It.length)return void xt();var dt=It.shift();if(!Ft.test(dt)){if(ut){if(Qt=an.exec(dt)){mt=Qt[1].toLowerCase(),qt="*"!==mt&&mt!==Fe&&mt!==jt;continue}if(qt)continue;if(Qt=un.exec(dt))return void oi(ot+Qt[1],Un)}var Pt=dt.match(Ot);Pt&&3==Pt.length&&(At[Pt[1]]=it(Pt[2]))}}}()}function oi(En,ut){ee(En,function(xt){dn(xt,!1,ut)},function(){console.warn(En+" not found."),ut()})}dn(Ze,!0,function(){Mt(At)})}(Ze,function(Mt){for(var At in Mt){var Jt,Ft,an=At.lastIndexOf(".");an>0?(Jt=At.substring(0,an),Ft=At.substring(an+1)):(Jt=At,Ft=Y),xe[Jt]||(xe[Jt]={}),xe[Jt][Ft]=Mt[At]}Ye&&Ye()})},je)}function K(Se,Fe){Se&&(Se=Se.toLowerCase()),Fe=Fe||function(){},function I(){xe={},fe="",S=""}(),S=Se;var Ye=function oe(){return z.querySelectorAll('link[type="application/l10n"]')}(),je=Ye.length;if(0!==je){var Ze,Mt=0;Ze=function(){++Mt>=je&&(Fe(),G="complete")};for(var Jt=0;Jt<je;Jt++)new At(Ye[Jt]).load(Se,Ze)}else{var ot=function ce(){var Se=z.querySelector('script[type="application/l10n"]');return Se?JSON.parse(Se.innerHTML):null}();if(ot&&ot.locales&&ot.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(xe=ot.locales[Se])){var it=ot.default_locale.toLowerCase();for(var lt in ot.locales){if((lt=lt.toLowerCase())===Se){xe=ot.locales[Se];break}lt===it&&(xe=ot.locales[it])}}Fe()}else console.log("no resource to load, early way out");G="complete"}function At(an){var un=an.href;this.load=function(Ot,dn){te(un,Ot,dn,function(){console.warn(un+" not found."),console.warn('"'+Ot+'" resource not found'),S="",dn()})}}}function Q(Se,Fe,Ye){var je=xe[Se];if(!je){if(console.warn("#"+Se+" is undefined."),!Ye)return null;je=Ye}var ot={};for(var it in je){var lt=je[it];lt=X(lt=L(lt,Fe,Se,it),Fe,Se),ot[it]=lt}return ot}function L(Se,Fe,Ye,je){var it=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(Se);if(!it||!it.length)return Se;var Mt,lt=it[1],Ze=it[2];return Fe&&Ze in Fe?Mt=Fe[Ze]:Ze in xe&&(Mt=xe[Ze]),lt in A&&(Se=(0,A[lt])(Se,Mt,Ye,je)),Se}function X(Se,Fe,Ye){return Se.replace(/\{\{\s*(.+?)\s*\}\}/g,function(ot,it){return Fe&&it in Fe?Fe[it]:it in xe?xe[it]:(console.log("argument {{"+it+"}} for #"+Ye+" is undefined."),ot)})}function le(Se){var Fe=function B(Se){if(!Se)return{};var Fe=Se.getAttribute("data-l10n-id"),Ye=Se.getAttribute("data-l10n-args"),je={};if(Ye)try{je=JSON.parse(Ye)}catch(ot){console.warn("could not parse arguments for #"+Fe)}return{id:Fe,args:je}}(Se);if(Fe.id){var Ye=Q(Fe.id,Fe.args);if(!Ye)return void console.warn("#"+Fe.id+" is undefined.");if(Ye[Y]){if(0===function Oe(Se){if(Se.children)return Se.children.length;if(void 0!==Se.childElementCount)return Se.childElementCount;for(var Fe=0,Ye=0;Ye<Se.childNodes.length;Ye++)Fe+=1===Se.nodeType?1:0;return Fe}(Se))Se[Y]=Ye[Y];else{for(var je=Se.childNodes,ot=!1,it=0,lt=je.length;it<lt;it++)3===je[it].nodeType&&/\S/.test(je[it].nodeValue)&&(ot?je[it].nodeValue="":(je[it].nodeValue=Ye[Y],ot=!0));if(!ot){var Ze=z.createTextNode(Ye[Y]);Se.insertBefore(Ze,Se.firstChild)}}delete Ye[Y]}for(var Mt in Ye)Se[Mt]=Ye[Mt]}}return A.plural=function(Se,Fe,Ye,je){var ot=parseFloat(Fe);if(isNaN(ot)||je!=Y)return Se;A._pluralRules||(A._pluralRules=function M(Se){function Ye(lt,Ze){return-1!==Ze.indexOf(lt)}function je(lt,Ze,Mt){return Ze<=lt&&lt<=Mt}var ot={0:function(Ze){return"other"},1:function(Ze){return je(Ze%100,3,10)?"few":0===Ze?"zero":je(Ze%100,11,99)?"many":2==Ze?"two":1==Ze?"one":"other"},2:function(Ze){return 0!==Ze&&Ze%10==0?"many":2==Ze?"two":1==Ze?"one":"other"},3:function(Ze){return 1==Ze?"one":"other"},4:function(Ze){return je(Ze,0,1)?"one":"other"},5:function(Ze){return je(Ze,0,2)&&2!=Ze?"one":"other"},6:function(Ze){return 0===Ze?"zero":Ze%10==1&&Ze%100!=11?"one":"other"},7:function(Ze){return 2==Ze?"two":1==Ze?"one":"other"},8:function(Ze){return je(Ze,3,6)?"few":je(Ze,7,10)?"many":2==Ze?"two":1==Ze?"one":"other"},9:function(Ze){return 0===Ze||1!=Ze&&je(Ze%100,1,19)?"few":1==Ze?"one":"other"},10:function(Ze){return je(Ze%10,2,9)&&!je(Ze%100,11,19)?"few":Ze%10!=1||je(Ze%100,11,19)?"other":"one"},11:function(Ze){return je(Ze%10,2,4)&&!je(Ze%100,12,14)?"few":Ze%10==0||je(Ze%10,5,9)||je(Ze%100,11,14)?"many":Ze%10==1&&Ze%100!=11?"one":"other"},12:function(Ze){return je(Ze,2,4)?"few":1==Ze?"one":"other"},13:function(Ze){return je(Ze%10,2,4)&&!je(Ze%100,12,14)?"few":1!=Ze&&je(Ze%10,0,1)||je(Ze%10,5,9)||je(Ze%100,12,14)?"many":1==Ze?"one":"other"},14:function(Ze){return je(Ze%100,3,4)?"few":Ze%100==2?"two":Ze%100==1?"one":"other"},15:function(Ze){return 0===Ze||je(Ze%100,2,10)?"few":je(Ze%100,11,19)?"many":1==Ze?"one":"other"},16:function(Ze){return Ze%10==1&&11!=Ze?"one":"other"},17:function(Ze){return 3==Ze?"few":0===Ze?"zero":6==Ze?"many":2==Ze?"two":1==Ze?"one":"other"},18:function(Ze){return 0===Ze?"zero":je(Ze,0,2)&&0!==Ze&&2!=Ze?"one":"other"},19:function(Ze){return je(Ze,2,10)?"few":je(Ze,0,1)?"one":"other"},20:function(Ze){return!je(Ze%10,3,4)&&Ze%10!=9||je(Ze%100,10,19)||je(Ze%100,70,79)||je(Ze%100,90,99)?Ze%1e6==0&&0!==Ze?"many":Ze%10!=2||Ye(Ze%100,[12,72,92])?Ze%10!=1||Ye(Ze%100,[11,71,91])?"other":"one":"two":"few"},21:function(Ze){return 0===Ze?"zero":1==Ze?"one":"other"},22:function(Ze){return je(Ze,0,1)||je(Ze,11,99)?"one":"other"},23:function(Ze){return je(Ze%10,1,2)||Ze%20==0?"one":"other"},24:function(Ze){return je(Ze,3,10)||je(Ze,13,19)?"few":Ye(Ze,[2,12])?"two":Ye(Ze,[1,11])?"one":"other"}},it={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[Se.replace(/-.*$/,"")];return it in ot?ot[it]:(console.warn("plural form unknown for ["+Se+"]"),function(){return"other"})}(S));var it="["+A._pluralRules(ot)+"]";return 0===ot&&Ye+"[zero]"in xe?Se=xe[Ye+"[zero]"][je]:1==ot&&Ye+"[one]"in xe?Se=xe[Ye+"[one]"][je]:2==ot&&Ye+"[two]"in xe?Se=xe[Ye+"[two]"][je]:Ye+it in xe?Se=xe[Ye+it][je]:Ye+"[other]"in xe&&(Se=xe[Ye+"[other]"][je]),Se},{get:function(Fe,Ye,je){var lt,ot=Fe.lastIndexOf("."),it=Y;ot>0&&(it=Fe.substring(ot+1),Fe=Fe.substring(0,ot)),je&&((lt={})[it]=je);var Ze=Q(Fe,Ye,lt);return Ze&&it in Ze?Ze[it]:"{{"+Fe+"}}"},getData:function(){return xe},getText:function(){return fe},getLanguage:function(){return S},setLanguage:function(Fe,Ye){K(Fe,function(){Ye&&Ye()})},getDirection:function(){var Ye=S.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Ye)>=0?"rtl":"ltr"},translate:function ke(Se){for(var Fe=function q(Se){return Se?Se.querySelectorAll("*[data-l10n-id]"):[]}(Se=Se||z.documentElement),Ye=Fe.length,je=0;je<Ye;je++)le(Fe[je]);le(Se)},getReadyState:function(){return G},ready:function(Fe){Fe&&("complete"==G||"interactive"==G?ue.setTimeout(function(){Fe()}):z.addEventListener&&z.addEventListener("localized",function Ye(){z.removeEventListener("localized",Ye),Fe()}))}}}(window,document)},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PDFFindController=j.FindState=void 0;var ue=Ce(2),z=Ce(11),se=Ce(3),xe={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};j.FindState=xe;var A={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},G=null;function y(ce){if(!G){var q=Object.keys(A).join("");G=new RegExp("[".concat(q,"]"),"g")}return ce.replace(G,function(B){return A[B]})}var oe=function(){function ce(q){var B=q.linkService,ee=q.eventBus;ie(this,ce),this._linkService=B,this._eventBus=ee,this._reset(),ee._on("findbarclose",this._onFindBarClose.bind(this))}return H(ce,[{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"setDocument",value:function(B){this._pdfDocument&&this._reset(),B&&(this._pdfDocument=B,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(B,ee){var te=this;if(ee){var K=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(B,ee))&&(this._dirtyMatch=!0),this._state=ee,"findhighlightallchange"!==B&&this._updateUIState(xe.PENDING),this._firstPageCapability.promise.then(function(){if(te._pdfDocument&&(!K||te._pdfDocument===K)){te._extractText();var I=!te._highlightMatches,M=!!te._findTimeout;te._findTimeout&&(clearTimeout(te._findTimeout),te._findTimeout=null),"find"===B?te._findTimeout=setTimeout(function(){te._nextMatch(),te._findTimeout=null},250):te._dirtyMatch?te._nextMatch():"findagain"===B?(te._nextMatch(),I&&te._state.highlightAll&&te._updateAllPages()):"findhighlightallchange"===B?(M?te._nextMatch():te._highlightMatches=!0,te._updateAllPages()):te._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(B){var ee=B.element,te=void 0===ee?null:ee,K=B.pageIndex,I=void 0===K?-1:K,M=B.matchIndex,Q=void 0===M?-1:M;if(this._scrollMatches&&te){if(-1===Q||Q!==this._selected.matchIdx)return;if(-1===I||I!==this._selected.pageIdx)return;this._scrollMatches=!1,(0,se.scrollIntoView)(te,{top:-50,left:-400},!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,ue.createPromiseCapability)()}},{key:"_query",get:function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=y(this._state.query)),this._normalizedQuery}},{key:"_shouldDirtyMatch",value:function(B,ee){if(ee.query!==this._state.query)return!0;switch(B){case"findagain":var te=this._selected.pageIdx+1,K=this._linkService;return te>=1&&te<=K.pagesCount&&te!==K.page&&!K.isPageVisible(te);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(B,ee,te){function K(Q){var L=B[Q];if(Q<B.length-1&&L.match===B[Q+1].match)return L.skipped=!0,!0;for(var le=Q-1;le>=0;le--){var Oe=B[le];if(!Oe.skipped){if(Oe.match+Oe.matchLength<L.match)break;if(Oe.match+Oe.matchLength>=L.match+L.matchLength)return L.skipped=!0,!0}}return!1}B.sort(function(Q,L){return Q.match===L.match?Q.matchLength-L.matchLength:Q.match-L.match});for(var I=0,M=B.length;I<M;I++)K(I)||(ee.push(B[I].match),te.push(B[I].matchLength))}},{key:"_isEntireWord",value:function(B,ee,te){if(ee>0){var K=B.charCodeAt(ee),I=B.charCodeAt(ee-1);if((0,z.getCharacterType)(K)===(0,z.getCharacterType)(I))return!1}var M=ee+te-1;if(M<B.length-1){var Q=B.charCodeAt(M),L=B.charCodeAt(M+1);if((0,z.getCharacterType)(Q)===(0,z.getCharacterType)(L))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(B,ee,te,K){for(var I=[],M=B.length,Q=-M;-1!==(Q=te.indexOf(B,Q+M));)K&&!this._isEntireWord(te,Q,M)||I.push(Q);this._pageMatches[ee]=I}},{key:"_calculateWordMatch",value:function(B,ee,te,K){for(var I=[],M=B.match(/\S+/g),Q=0,L=M.length;Q<L;Q++)for(var X=M[Q],le=X.length,Oe=-le;-1!==(Oe=te.indexOf(X,Oe+le));)K&&!this._isEntireWord(te,Oe,le)||I.push({match:Oe,matchLength:le,skipped:!1});this._pageMatchesLength[ee]=[],this._pageMatches[ee]=[],this._prepareMatches(I,this._pageMatches[ee],this._pageMatchesLength[ee])}},{key:"_calculateMatch",value:function(B){var ee=this._pageContents[B],te=this._query,K=this._state,M=K.entireWord,Q=K.phraseSearch;if(0!==te.length){K.caseSensitive||(ee=ee.toLowerCase(),te=te.toLowerCase()),Q?this._calculatePhraseMatch(te,B,ee,M):this._calculateWordMatch(te,B,ee,M),this._state.highlightAll&&this._updatePage(B),this._resumePageIdx===B&&(this._resumePageIdx=null,this._nextPageMatch());var L=this._pageMatches[B].length;L>0&&(this._matchesCountTotal+=L,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var B=this;if(!(this._extractTextPromises.length>0))for(var ee=Promise.resolve(),te=function(Q){var L=(0,ue.createPromiseCapability)();B._extractTextPromises[Q]=L.promise,ee=ee.then(function(){return B._pdfDocument.getPage(Q+1).then(function(X){return X.getTextContent({normalizeWhitespace:!0})}).then(function(X){for(var le=X.items,Oe=[],ke=0,Se=le.length;ke<Se;ke++)Oe.push(le[ke].str);B._pageContents[Q]=y(Oe.join("")),L.resolve(Q)},function(X){console.error("Unable to get text content for page ".concat(Q+1),X),B._pageContents[Q]="",L.resolve(Q)})})},K=0,I=this._linkService.pagesCount;K<I;K++)te(K)}},{key:"_updatePage",value:function(B){this._scrollMatches&&this._selected.pageIdx===B&&(this._linkService.page=B+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:B})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var B=this,ee=this._state.findPrevious,te=this._linkService.page-1,K=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=te,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var I=0;I<K;I++)!0!==this._pendingFindMatches[I]&&(this._pendingFindMatches[I]=!0,this._extractTextPromises[I].then(function(L){delete B._pendingFindMatches[L],B._calculateMatch(L)}))}if(""!==this._query){if(!this._resumePageIdx){var M=this._offset;if(this._pagesToSearch=K,null!==M.matchIdx){if(!ee&&M.matchIdx+1<this._pageMatches[M.pageIdx].length||ee&&M.matchIdx>0)return M.matchIdx=ee?M.matchIdx-1:M.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(ee)}this._nextPageMatch()}}else this._updateUIState(xe.FOUND)}},{key:"_matchesReady",value:function(B){var ee=this._offset,te=B.length,K=this._state.findPrevious;return te?(ee.matchIdx=K?te-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(K),!!(ee.wrapped&&(ee.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var B=null;do{var ee=this._offset.pageIdx;if(!(B=this._pageMatches[ee])){this._resumePageIdx=ee;break}}while(!this._matchesReady(B))}},{key:"_advanceOffsetPage",value:function(B){var ee=this._offset,te=this._linkService.pagesCount;ee.pageIdx=B?ee.pageIdx-1:ee.pageIdx+1,ee.matchIdx=null,this._pagesToSearch--,(ee.pageIdx>=te||ee.pageIdx<0)&&(ee.pageIdx=B?te-1:0,ee.wrapped=!0)}},{key:"_updateMatch",value:function(){var B=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ee=xe.NOT_FOUND,te=this._offset.wrapped;if(this._offset.wrapped=!1,B){var K=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,ee=te?xe.WRAPPED:xe.FOUND,-1!==K&&K!==this._selected.pageIdx&&this._updatePage(K)}this._updateUIState(ee,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(B){var ee=this,te=this._pdfDocument;this._firstPageCapability.promise.then(function(){!ee._pdfDocument||te&&ee._pdfDocument!==te||(ee._findTimeout&&(clearTimeout(ee._findTimeout),ee._findTimeout=null),ee._resumePageIdx&&(ee._resumePageIdx=null,ee._dirtyMatch=!0),ee._updateUIState(xe.FOUND),ee._highlightMatches=!1,ee._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var B=this._selected,ee=B.pageIdx,te=B.matchIdx,K=0,I=this._matchesCountTotal;if(-1!==te){for(var M=0;M<ee;M++)K+=this._pageMatches[M]&&this._pageMatches[M].length||0;K+=te+1}return(K<1||K>I)&&(K=I=0),{current:K,total:I}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(B,ee){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:B,previous:ee,matchesCount:this._requestMatchesCount()})}}]),ce}();j.PDFFindController=oe},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getCharacterType=function ce(q){return function z(q){return q<11904}(q)?function se(q){return 0==(65408&q)}(q)?function Y(q){return 32===q||9===q||13===q||10===q}(q)?ue.SPACE:function xe(q){return q>=97&&q<=122||q>=65&&q<=90}(q)||function fe(q){return q>=48&&q<=57}(q)||95===q?ue.ALPHA_LETTER:ue.PUNCT:function oe(q){return 3584==(65408&q)}(q)?ue.THAI_LETTER:160===q?ue.SPACE:ue.ALPHA_LETTER:function S(q){return q>=13312&&q<=40959||q>=63744&&q<=64255}(q)?ue.HAN_LETTER:function A(q){return q>=12448&&q<=12543}(q)?ue.KATAKANA_LETTER:function G(q){return q>=12352&&q<=12447}(q)?ue.HIRAGANA_LETTER:function y(q){return q>=65376&&q<=65439}(q)?ue.HALFWIDTH_KATAKANA_LETTER:ue.ALPHA_LETTER},j.CharacterType=void 0;var ue={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};j.CharacterType=ue},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.isDestHashesEqual=S,j.isDestArraysEqual=A,j.PDFHistory=void 0;var ue=Ce(3);function fe(){return document.location.hash}var Y=function(){function G(y){var oe=this,ce=y.linkService,q=y.eventBus;ie(this,G),this.linkService=ce,this.eventBus=q,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(B){oe._isViewerInPresentationMode=B.active||B.switchInProgress}),this.eventBus._on("pagesinit",function(){oe._isPagesLoaded=!1;oe.eventBus._on("pagesloaded",function ee(te){oe.eventBus._off("pagesloaded",ee),oe._isPagesLoaded=!!te.pagesCount})})}return H(G,[{key:"initialize",value:function(oe){var ce=oe.fingerprint,q=oe.resetHistory,B=void 0!==q&&q,ee=oe.updateUrl,te=void 0!==ee&&ee;if(ce&&"string"==typeof ce){this._initialized&&this.reset();var K=""!==this._fingerprint&&this._fingerprint!==ce;this._fingerprint=ce,this._updateUrl=!0===te,this._initialized=!0,this._bindEvents();var I=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=fe(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(I,!0)||B){var M=this._parseCurrentHash(!0),Q=M.hash,L=M.page,X=M.rotation;return!Q||K||B?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Q,page:L,rotation:X},!0)}var le=I.destination;this._updateInternalState(le,I.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==le.rotation&&(this._initialRotation=le.rotation),le.dest?(this._initialBookmark=JSON.stringify(le.dest),this._destination.page=null):le.hash?this._initialBookmark=le.hash:le.page&&(this._initialBookmark="page=".concat(le.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(oe){var ce=this,q=oe.namedDest,B=void 0===q?null:q,ee=oe.explicitDest,te=oe.pageNumber;if(this._initialized){if(B&&"string"!=typeof B)return void console.error("PDFHistory.push: "+'"'.concat(B,'" is not a valid namedDest parameter.'));if(!Array.isArray(ee))return void console.error("PDFHistory.push: "+'"'.concat(ee,'" is not a valid explicitDest parameter.'));if(!(Number.isInteger(te)&&te>0&&te<=this.linkService.pagesCount)&&(null!==te||this._destination))return void console.error("PDFHistory.push: "+'"'.concat(te,'" is not a valid pageNumber parameter.'));var K=B||JSON.stringify(ee);if(K){var I=!1;if(this._destination&&(S(this._destination.hash,K)||A(this._destination.dest,ee))){if(this._destination.page)return;I=!0}this._popStateInProgress&&!I||(this._pushOrReplaceState({dest:ee,hash:K,page:te,rotation:this.linkService.rotation},I),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){ce._popStateInProgress=!1})))}}}},{key:"pushCurrentPosition",value:function(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var oe=window.history.state;this._isValidState(oe)&&oe.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var oe=window.history.state;this._isValidState(oe)&&oe.uid<this._maxUid&&window.history.forward()}}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}},{key:"_pushOrReplaceState",value:function(oe){var ee,q=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this._destination,B={fingerprint:this._fingerprint,uid:q?this._uid:this._uid+1,destination:oe};if(this._updateInternalState(oe,B.uid),this._updateUrl&&oe&&oe.hash){var te=document.location.href.split("#")[0];te.startsWith("file://")||(ee="".concat(te,"#").concat(oe.hash))}q?window.history.replaceState(B,"",ee):(this._maxUid=this._uid,window.history.pushState(B,"",ee))}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var ce=this._position;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&((ce=Object.assign(Object.create(null),this._position)).temporary=!0),!this._destination)return void this._pushOrReplaceState(ce);if(this._destination.temporary)return void this._pushOrReplaceState(ce,!0);if(this._destination.hash!==ce.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var q=!1;if(this._destination.page>=ce.first&&this._destination.page<=ce.page){if(this._destination.dest||!this._destination.first)return;q=!0}this._pushOrReplaceState(ce,q)}}}},{key:"_isValidState",value:function(oe){if(!oe)return!1;if(oe.fingerprint!==this._fingerprint){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return!1;if("string"!=typeof oe.fingerprint||oe.fingerprint.length!==this._fingerprint.length)return!1;var q=performance.getEntriesByType("navigation"),ee=N(q,1)[0];if(!ee||"reload"!==ee.type)return!1}return!(!Number.isInteger(oe.uid)||oe.uid<0||null===oe.destination||"object"!=typeof oe.destination)}},{key:"_updateInternalState",value:function(oe,ce){var q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),q&&oe&&oe.temporary&&delete oe.temporary,this._destination=oe,this._uid=ce,this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var oe=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ce=unescape(fe()).substring(1),q=(0,ue.parseQueryString)(ce),B=q.nameddest||"",ee=0|q.page;return(!(Number.isInteger(ee)&&ee>0&&ee<=this.linkService.pagesCount)||oe&&B.length>0)&&(ee=null),{hash:ce,page:ee,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(oe){var ce=this,q=oe.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(q.pageNumber):q.pdfOpenParams.substring(1),page:this.linkService.page,first:q.pageNumber,rotation:q.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){ce._popStateInProgress||ce._tryPushCurrentPosition(!0),ce._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(oe){var ce=this,q=oe.state,B=fe(),ee=this._currentHash!==B;if(this._currentHash=B,q){if(this._isValidState(q)){this._popStateInProgress=!0,ee&&(this._blockHashChange++,(0,ue.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){ce._blockHashChange--}));var Q=q.destination;this._updateInternalState(Q,q.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,ue.isValidRotation)(Q.rotation)&&(this.linkService.rotation=Q.rotation),Q.dest?this.linkService.navigateTo(Q.dest):Q.hash?this.linkService.setHash(Q.hash):Q.page&&(this.linkService.page=Q.page),Promise.resolve().then(function(){ce._popStateInProgress=!1})}}else{this._uid++;var te=this._parseCurrentHash();this._pushOrReplaceState({hash:te.hash,page:te.page,rotation:te.rotation},!0)}}},{key:"_pageHide",value:function(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}]),G}();function S(G,y){return"string"==typeof G&&"string"==typeof y&&(G===y||(0,ue.parseQueryString)(G).nameddest===y)}function A(G,y){function oe(B,ee){if(typeof B!=typeof ee||Array.isArray(B)||Array.isArray(ee))return!1;if(null!==B&&"object"==typeof B&&null!==ee){if(Object.keys(B).length!==Object.keys(ee).length)return!1;for(var te in B)if(!oe(B[te],ee[te]))return!1;return!0}return B===ee||Number.isNaN(B)&&Number.isNaN(ee)}if(!Array.isArray(G)||!Array.isArray(y)||G.length!==y.length)return!1;for(var ce=0,q=G.length;ce<q;ce++)if(!oe(G[ce],y[ce]))return!1;return!0}j.PDFHistory=Y},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PDFPageView=void 0;var ue=Ce(3),z=Ce(2),se=Ce(14),fe=Ce(7).viewerCompatibilityParams.maxCanvasPixels||16777216,Y=function(){function S(A){ie(this,S);var G=A.container,y=A.defaultViewport;this.id=A.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=A.scale||ue.DEFAULT_SCALE,this.viewport=y,this.pdfPageRotate=y.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(A.textLayerMode)?A.textLayerMode:ue.TextLayerMode.ENABLE,this.imageResourcesPath=A.imageResourcesPath||"",this.renderInteractiveForms=A.renderInteractiveForms||!1,this.useOnlyCssZoom=A.useOnlyCssZoom||!1,this.maxCanvasPixels=A.maxCanvasPixels||fe,this.eventBus=A.eventBus,this.renderingQueue=A.renderingQueue,this.textLayerFactory=A.textLayerFactory,this.annotationLayerFactory=A.annotationLayerFactory,this.renderer=A.renderer||ue.RendererType.CANVAS,this.enableWebGL=A.enableWebGL||!1,this.l10n=A.l10n||ue.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=se.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var oe=document.createElement("div");oe.className="page",oe.style.width=Math.floor(this.viewport.width)+"px",oe.style.height=Math.floor(this.viewport.height)+"px",oe.setAttribute("data-page-number",this.id),this.div=oe,G.appendChild(oe)}return H(S,[{key:"setPdfPage",value:function(G){this.pdfPage=G,this.pdfPageRotate=G.rotate,this.viewport=G.getViewport({scale:this.scale*ue.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.stats=G.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var G=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var y=this.zoomLayer.firstChild;this.paintedViewportMap.delete(y),y.width=0,y.height=0,G&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var G=arguments.length>0&&void 0!==arguments[0]&&arguments[0],y=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(y),this.renderingState=se.RenderingStates.INITIAL;var oe=this.div;oe.style.width=Math.floor(this.viewport.width)+"px",oe.style.height=Math.floor(this.viewport.height)+"px";for(var ce=oe.childNodes,q=G&&this.zoomLayer||null,B=y&&this.annotationLayer&&this.annotationLayer.div||null,ee=ce.length-1;ee>=0;ee--){var te=ce[ee];q===te||B===te||oe.removeChild(te)}oe.removeAttribute("data-loaded"),B?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),q||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",oe.appendChild(this.loadingIconDiv)}},{key:"update",value:function(G,y){if(this.scale=G||this.scale,void 0!==y&&(this.rotation=y),this.viewport=this.viewport.clone({scale:this.scale*ue.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});var ce=!1;if(this.canvas&&this.maxCanvasPixels>0){var q=this.outputScale;(Math.floor(this.viewport.width)*q.sx|0)*(Math.floor(this.viewport.height)*q.sy|0)>this.maxCanvasPixels&&(ce=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&ce)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});!this.zoomLayer&&!this.canvas.hasAttribute("hidden")&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var G=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!G&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(G){var y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],oe=this.viewport.width,ce=this.viewport.height,q=this.div;G.style.width=G.parentNode.style.width=q.style.width=Math.floor(oe)+"px",G.style.height=G.parentNode.style.height=q.style.height=Math.floor(ce)+"px";var B=this.viewport.rotation-this.paintedViewportMap.get(G).rotation,ee=Math.abs(B),te=1,K=1;if((90===ee||270===ee)&&(te=ce/oe,K=oe/ce),G.style.transform="rotate("+B+"deg) scale("+te+","+K+")",this.textLayer){var M=this.textLayer.viewport,L=Math.abs(this.viewport.rotation-M.rotation),X=oe/M.width;(90===L||270===L)&&(X=oe/M.height);var Oe,ke,le=this.textLayer.textLayerDiv;switch(L){case 0:Oe=ke=0;break;case 90:Oe=0,ke="-"+le.style.height;break;case 180:Oe="-"+le.style.width,ke="-"+le.style.height;break;case 270:Oe="-"+le.style.width,ke=0;break;default:console.error("Bad rotation value.")}le.style.transform="rotate("+L+"deg) scale("+X+", "+X+") translate("+Oe+", "+ke+")",le.style.transformOrigin="0% 0%"}y&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}},{key:"getPagePoint",value:function(G,y){return this.viewport.convertToPdfPoint(G,y)}},{key:"draw",value:function(){var G=this;this.renderingState!==se.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var y=this.div,oe=this.pdfPage;if(!oe)return this.renderingState=se.RenderingStates.FINISHED,this.loadingIconDiv&&(y.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=se.RenderingStates.RUNNING;var ce=document.createElement("div");ce.style.width=y.style.width,ce.style.height=y.style.height,ce.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?y.insertBefore(ce,this.annotationLayer.div):y.appendChild(ce);var q=null;if(this.textLayerMode!==ue.TextLayerMode.DISABLE&&this.textLayerFactory){var B=document.createElement("div");B.className="textLayer",B.style.width=ce.style.width,B.style.height=ce.style.height,this.annotationLayer&&this.annotationLayer.div?y.insertBefore(B,this.annotationLayer.div):y.appendChild(B),q=this.textLayerFactory.createTextLayerBuilder(B,this.id-1,this.viewport,this.textLayerMode===ue.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=q;var ee=null;this.renderingQueue&&(ee=function(Q){if(!G.renderingQueue.isHighestPriority(G))return G.renderingState=se.RenderingStates.PAUSED,void(G.resume=function(){G.renderingState=se.RenderingStates.RUNNING,Q()});Q()});var te=function(){var M=b(ge().mark(function Q(L){return ge().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(K===G.paintTask&&(G.paintTask=null),!(L instanceof z.RenderingCancelledException)){le.next=4;break}return G.error=null,le.abrupt("return");case 4:if(G.renderingState=se.RenderingStates.FINISHED,G.loadingIconDiv&&(y.removeChild(G.loadingIconDiv),delete G.loadingIconDiv),G._resetZoomLayer(!0),G.error=L,G.stats=oe.stats,G.eventBus.dispatch("pagerendered",{source:G,pageNumber:G.id,cssTransform:!1,timestamp:performance.now()}),!L){le.next=12;break}throw L;case 12:case"end":return le.stop()}},Q)}));return function(L){return M.apply(this,arguments)}}(),K=this.renderer===ue.RendererType.SVG?this.paintOnSvg(ce):this.paintOnCanvas(ce);K.onRenderContinue=ee,this.paintTask=K;var I=K.promise.then(function(){return te(null).then(function(){if(q){var M=oe.streamTextContent({normalizeWhitespace:!0});q.setTextContentStream(M),q.render()}})},function(M){return te(M)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(y,oe,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),y.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),I}},{key:"paintOnCanvas",value:function(G){var y=(0,z.createPromiseCapability)(),oe={promise:y.promise,onRenderContinue:function(Fe){Fe()},cancel:function(){ke.cancel()}},ce=this.viewport,q=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then(function(Se){q.setAttribute("aria-label",Se)}),q.setAttribute("hidden","hidden");var B=!0,ee=function(){B&&(q.removeAttribute("hidden"),B=!1)};G.appendChild(q),this.canvas=q,q.mozOpaque=!0;var te=q.getContext("2d",{alpha:!1}),K=(0,ue.getOutputScale)(te);if(this.outputScale=K,this.useOnlyCssZoom){var I=ce.clone({scale:ue.CSS_UNITS});K.sx*=I.width/ce.width,K.sy*=I.height/ce.height,K.scaled=!0}if(this.maxCanvasPixels>0){var Q=Math.sqrt(this.maxCanvasPixels/(ce.width*ce.height));K.sx>Q||K.sy>Q?(K.sx=Q,K.sy=Q,K.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var L=(0,ue.approximateFraction)(K.sx),X=(0,ue.approximateFraction)(K.sy);q.width=(0,ue.roundToDivide)(ce.width*K.sx,L[0]),q.height=(0,ue.roundToDivide)(ce.height*K.sy,X[0]),q.style.width=(0,ue.roundToDivide)(ce.width,L[1])+"px",q.style.height=(0,ue.roundToDivide)(ce.height,X[1])+"px",this.paintedViewportMap.set(q,ce);var ke=this.pdfPage.render({canvasContext:te,transform:K.scaled?[K.sx,0,0,K.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});return ke.onContinue=function(Se){ee(),oe.onRenderContinue?oe.onRenderContinue(Se):Se()},ke.promise.then(function(){ee(),y.resolve(void 0)},function(Se){ee(),y.reject(Se)}),oe}},{key:"paintOnSvg",value:function(G){var y=this,oe=!1,ce=function(){if(oe)throw new z.RenderingCancelledException("Rendering cancelled, page ".concat(y.id),"svg")},q=this.pdfPage,B=this.viewport.clone({scale:ue.CSS_UNITS});return{promise:q.getOperatorList().then(function(te){return ce(),new z.SVGGraphics(q.commonObjs,q.objs).getSVG(te,B).then(function(I){ce(),y.svg=I,y.paintedViewportMap.set(I,B),I.style.width=G.style.width,I.style.height=G.style.height,y.renderingState=se.RenderingStates.FINISHED,G.appendChild(I)})}),onRenderContinue:function(K){K()},cancel:function(){oe=!0}}}},{key:"setPageLabel",value:function(G){this.pageLabel="string"==typeof G?G:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}]),S}();j.PDFPageView=Y},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PDFRenderingQueue=j.RenderingStates=void 0;var z={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};j.RenderingStates=z,j.PDFRenderingQueue=function(){function xe(){ie(this,xe),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return H(xe,[{key:"setViewer",value:function(Y){this.pdfViewer=Y}},{key:"setThumbnailViewer",value:function(Y){this.pdfThumbnailViewer=Y}},{key:"isHighestPriority",value:function(Y){return this.highestPriorityPage===Y.renderingId}},{key:"renderHighestPriority",value:function(Y){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(Y)&&(this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}},{key:"getHighestPriority",value:function(Y,S,A){var G=Y.views,y=G.length;if(0===y)return null;for(var oe=0;oe<y;++oe){var ce=G[oe].view;if(!this.isViewFinished(ce))return ce}if(A){var q=Y.last.id;if(S[q]&&!this.isViewFinished(S[q]))return S[q]}else{var B=Y.first.id-2;if(S[B]&&!this.isViewFinished(S[B]))return S[B]}return null}},{key:"isViewFinished",value:function(Y){return Y.renderingState===z.FINISHED}},{key:"renderView",value:function(Y){var S=this;switch(Y.renderingState){case z.FINISHED:return!1;case z.PAUSED:this.highestPriorityPage=Y.renderingId,Y.resume();break;case z.RUNNING:this.highestPriorityPage=Y.renderingId;break;case z.INITIAL:this.highestPriorityPage=Y.renderingId,Y.draw().finally(function(){S.renderHighestPriority()}).catch(function(A){console.error('renderView: "'.concat(A,'"'))})}return!0}}]),xe}()},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PDFSinglePageViewer=void 0;var ue=Ce(16),z=Ce(2);j.PDFSinglePageViewer=function(xe){_(Y,xe);var fe=e(Y);function Y(S){var A;return ie(this,Y),(A=fe.call(this,S)).eventBus._on("pagesinit",function(G){A._ensurePageViewVisible()}),A}return H(Y,[{key:"_viewerElement",get:function(){return(0,z.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_resetView",value:function(){E(Te(Y.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var A=this._pages[this._currentPageNumber-1],G=this._pages[this._previousPageNumber-1],y=this.viewer.childNodes;switch(y.length){case 0:this.viewer.appendChild(A.div);break;case 1:if(y[0]!==G.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(A===G)break;this._shadowViewer.appendChild(G.div),this.viewer.appendChild(A.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),E(Te(Y.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(A){var G=this,y=A.pageDiv,oe=A.pageSpot,ce=void 0===oe?null:oe,q=A.pageNumber,B=void 0===q?null:q;B&&this._setCurrentPageNumber(B);var ee=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),E(Te(Y.prototype),"_scrollIntoView",this).call(this,{pageDiv:y,pageSpot:ce,pageNumber:B}),this._updateScrollDown=function(){G.scroll.down=ee,G._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(A){}},{key:"_isScrollModeHorizontal",get:function(){return(0,z.shadow)(this,"_isScrollModeHorizontal",!1)}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}}]),Y}(ue.BaseViewer)},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.BaseViewer=void 0;var ue=Ce(3),z=Ce(14),se=Ce(1),xe=Ce(2),fe=Ce(13),Y=Ce(4),S=Ce(5);function G(ce){var q=[];this.push=function(B){var ee=q.indexOf(B);ee>=0&&q.splice(ee,1),q.push(B),q.length>ce&&q.shift().destroy()},this.resize=function(B,ee){if(ce=B,ee){for(var te=new Set,K=0,I=ee.length;K<I;++K)te.add(ee[K].id);(0,ue.moveToEndOfArray)(q,function(M){return te.has(M.id)})}for(;q.length>ce;)q.shift().destroy()}}function y(ce,q){return q===ce||Math.abs(q-ce)<1e-15}var oe=function(){function ce(q){var B=this;if(ie(this,ce),this.constructor===ce)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=q.container,this.viewer=q.viewer||q.container.firstElementChild,this.eventBus=q.eventBus,this.linkService=q.linkService||new Y.SimpleLinkService,this.downloadManager=q.downloadManager||null,this.findController=q.findController||null,this.removePageBorders=q.removePageBorders||!1,this.textLayerMode=Number.isInteger(q.textLayerMode)?q.textLayerMode:ue.TextLayerMode.ENABLE,this.imageResourcesPath=q.imageResourcesPath||"",this.renderInteractiveForms=q.renderInteractiveForms||!1,this.enablePrintAutoRotate=q.enablePrintAutoRotate||!1,this.renderer=q.renderer||ue.RendererType.CANVAS,this.enableWebGL=q.enableWebGL||!1,this.useOnlyCssZoom=q.useOnlyCssZoom||!1,this.maxCanvasPixels=q.maxCanvasPixels,this.l10n=q.l10n||ue.NullL10n,this.defaultRenderingQueue=!q.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new z.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=q.renderingQueue,this.scroll=(0,ue.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=ue.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){B.eventBus.dispatch("baseviewerinit",{source:B})})}return H(ce,[{key:"pagesCount",get:function(){return this._pages.length}},{key:"getPageView",value:function(B){return this._pages[B]}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(B){return B&&B.pdfPage})}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(B){if(!Number.isInteger(B))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(B,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(B,'" is not a valid page.'))}},{key:"_setCurrentPageNumber",value:function(B){var ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._currentPageNumber===B?(ee&&this._resetCurrentPageView(),!0):0<B&&B<=this.pagesCount&&(this._currentPageNumber=B,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:B,pageLabel:this._pageLabels&&this._pageLabels[B-1]}),ee&&this._resetCurrentPageView(),!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(B){if(this.pdfDocument){var ee=0|B;if(this._pageLabels){var te=this._pageLabels.indexOf(B);te>=0&&(ee=te+1)}this._setCurrentPageNumber(ee,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(B,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==ue.UNKNOWN_SCALE?this._currentScale:ue.DEFAULT_SCALE},set:function(B){if(isNaN(B))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(B,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(B){!this.pdfDocument||this._setScale(B,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(B){if(!(0,ue.isValidRotation)(B))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==B){this._pagesRotation=B;for(var ee=this._currentPageNumber,te=0,K=this._pages.length;te<K;te++){var I=this._pages[te];I.update(I.scale,B)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:B,pageNumber:ee}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(B){var ee=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=B,B){var te=B.numPages,K=B.getPage(1);this._pagesCapability.promise.then(function(){ee.eventBus.dispatch("pagesloaded",{source:ee,pagesCount:te})}),this._onBeforeDraw=function(I){var M=ee._pages[I.pageNumber-1];!M||ee._buffer.push(M)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(I){I.cssTransform||ee._onePageRenderedCapability.settled||(ee._onePageRenderedCapability.resolve(),ee.eventBus._off("pagerendered",ee._onAfterDraw),ee._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),K.then(function(I){ee._firstPageCapability.resolve(I);for(var M=ee.currentScale,Q=I.getViewport({scale:M*ue.CSS_UNITS}),L=ee.textLayerMode!==ue.TextLayerMode.DISABLE?ee:null,X=1;X<=te;++X){var le=new fe.PDFPageView({container:ee._viewerElement,eventBus:ee.eventBus,id:X,scale:M,defaultViewport:Q.clone(),renderingQueue:ee.renderingQueue,textLayerFactory:L,textLayerMode:ee.textLayerMode,annotationLayerFactory:ee,imageResourcesPath:ee.imageResourcesPath,renderInteractiveForms:ee.renderInteractiveForms,renderer:ee.renderer,enableWebGL:ee.enableWebGL,useOnlyCssZoom:ee.useOnlyCssZoom,maxCanvasPixels:ee.maxCanvasPixels,l10n:ee.l10n});ee._pages.push(le)}var Oe=ee._pages[0];Oe&&(Oe.setPdfPage(I),ee.linkService.cachePageRef(1,I.ref)),ee._spreadMode!==ue.SpreadMode.NONE&&ee._updateSpreadMode(),ee._onePageRenderedOrForceFetch().then(function(){if(ee.findController&&ee.findController.setDocument(B),B.loadingParams.disableAutoFetch||te>7500)ee._pagesCapability.resolve();else{var ke=te-1;if(ke<=0)ee._pagesCapability.resolve();else for(var Se=function(je){B.getPage(je).then(function(ot){var it=ee._pages[je-1];it.pdfPage||it.setPdfPage(ot),ee.linkService.cachePageRef(je,ot.ref),0==--ke&&ee._pagesCapability.resolve()},function(ot){console.error("Unable to get page ".concat(je," to initialize viewer"),ot),0==--ke&&ee._pagesCapability.resolve()})},Fe=2;Fe<=te;++Fe)Se(Fe)}}),ee.eventBus.dispatch("pagesinit",{source:ee}),ee.defaultRenderingQueue&&ee.update()}).catch(function(I){console.error("Unable to initialize viewer",I)})}}},{key:"setPageLabels",value:function(B){if(this.pdfDocument){B?Array.isArray(B)&&this.pdfDocument.numPages===B.length?this._pageLabels=B:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var ee=0,te=this._pages.length;ee<te;ee++)this._pages[ee].setPageLabel(this._pageLabels&&this._pageLabels[ee])}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=ue.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new G(10),this._location=null,this._pagesRotation=0,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,xe.createPromiseCapability)(),this._onePageRenderedCapability=(0,xe.createPromiseCapability)(),this._pagesCapability=(0,xe.createPromiseCapability)(),this._scrollMode=ue.ScrollMode.VERTICAL,this._spreadMode=ue.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(B){var te=B.pageSpot;(0,ue.scrollIntoView)(B.pageDiv,void 0===te?null:te)}},{key:"_setScaleUpdatePages",value:function(B,ee){var te=arguments.length>2&&void 0!==arguments[2]&&arguments[2],K=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=ee.toString(),y(this._currentScale,B))K&&this.eventBus.dispatch("scalechanging",{source:this,scale:B,presetValue:ee});else{for(var I=0,M=this._pages.length;I<M;I++)this._pages[I].update(B);if(this._currentScale=B,!te){var L,Q=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Q=this._location.pageNumber,L=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Q,destArray:L,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:B,presetValue:K?ee:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(B){var ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],te=parseFloat(B);if(te>0)this._setScaleUpdatePages(te,B,ee,!1);else{var K=this._pages[this._currentPageNumber-1];if(!K)return;var I=this.isInPresentationMode||this.removePageBorders,M=I?0:ue.SCROLLBAR_PADDING,Q=I?0:ue.VERTICAL_PADDING;if(!I&&this._isScrollModeHorizontal){var L=[Q,M];M=L[0],Q=L[1]}var X=(this.container.clientWidth-M)/K.width*K.scale,le=(this.container.clientHeight-Q)/K.height*K.scale;switch(B){case"page-actual":te=1;break;case"page-width":te=X;break;case"page-height":te=le;break;case"page-fit":te=Math.min(X,le);break;case"auto":var Oe=(0,ue.isPortraitOrientation)(K)?X:Math.min(le,X);te=Math.min(ue.MAX_AUTO_SCALE,Oe);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(B,'" is an unknown zoom value.'))}this._setScaleUpdatePages(te,B,ee,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(B){var ee=B.pageNumber,te=B.destArray,K=void 0===te?null:te,I=B.allowNegativeOffset,M=void 0!==I&&I,Q=B.ignoreDestinationZoom,L=void 0!==Q&&Q;if(this.pdfDocument){var X=Number.isInteger(ee)&&this._pages[ee-1];if(!X)return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(ee,'" is not a valid pageNumber parameter.'));if(this.isInPresentationMode||!K)return void this._setCurrentPageNumber(ee,!0);var Ye,le=0,Oe=0,ke=0,Se=0,je=X.rotation%180!=0,ot=(je?X.height:X.width)/X.scale/ue.CSS_UNITS,it=(je?X.width:X.height)/X.scale/ue.CSS_UNITS,lt=0;switch(K[1].name){case"XYZ":lt=K[4],le=null!==(le=K[2])?le:0,Oe=null!==(Oe=K[3])?Oe:it;break;case"Fit":case"FitB":lt="page-fit";break;case"FitH":case"FitBH":lt="page-width",null===(Oe=K[2])&&this._location&&(le=this._location.left,Oe=this._location.top);break;case"FitV":case"FitBV":le=K[2],ke=ot,Se=it,lt="page-height";break;case"FitR":ke=K[4]-(le=K[2]),Ye=(this.container.clientHeight-(this.removePageBorders?0:ue.VERTICAL_PADDING))/(Se=K[5]-(Oe=K[3]))/ue.CSS_UNITS,lt=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:ue.SCROLLBAR_PADDING))/ke/ue.CSS_UNITS),Math.abs(Ye));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(K[1].name,'" is not a valid destination type.'))}if(L||(lt&&lt!==this._currentScale?this.currentScaleValue=lt:this._currentScale===ue.UNKNOWN_SCALE&&(this.currentScaleValue=ue.DEFAULT_SCALE_VALUE)),"page-fit"===lt&&!K[4])return void this._scrollIntoView({pageDiv:X.div,pageNumber:ee});var At=[X.viewport.convertToViewportPoint(le,Oe),X.viewport.convertToViewportPoint(le+ke,Oe+Se)],Jt=Math.min(At[0][0],At[1][0]),Ft=Math.min(At[0][1],At[1][1]);M||(Jt=Math.max(Jt,0),Ft=Math.max(Ft,0)),this._scrollIntoView({pageDiv:X.div,pageSpot:{left:Jt,top:Ft},pageNumber:ee})}}},{key:"_updateLocation",value:function(B){var ee=this._currentScale,te=this._currentScaleValue,K=parseFloat(te)===ee?Math.round(1e4*ee)/100:te,I=B.id,M="#page="+I;M+="&zoom="+K;var L=this.container,X=this._pages[I-1].getPagePoint(L.scrollLeft-B.x,L.scrollTop-B.y),le=Math.round(X[0]),Oe=Math.round(X[1]);this._location={pageNumber:I,scale:K,top:Oe,left:le,rotation:this._pagesRotation,pdfOpenParams:M+=","+le+","+Oe}}},{key:"_updateHelper",value:function(B){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var B=this._getVisiblePages(),ee=B.views,te=ee.length;if(0!==te){var K=Math.max(10,2*te+1);this._buffer.resize(K,ee),this.renderingQueue.renderHighestPriority(B),this._updateHelper(ee),this._updateLocation(B.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(B){return this.container.contains(B)}},{key:"focus",value:function(){this.container.focus()}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===ue.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===ue.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===ue.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var B=this._pages[this._currentPageNumber-1],ee=B.div,te={id:B.id,x:ee.offsetLeft+ee.clientLeft,y:ee.offsetTop+ee.clientTop,view:B};return{first:te,last:te,views:[te]}}},{key:"_getVisiblePages",value:function(){return(0,ue.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function(B){return!!this.pdfDocument&&(B<1||B>this.pagesCount?(console.error("".concat(this._name,'.isPageVisible: "').concat(B,'" is out of bounds.')),!1):this._getVisiblePages().views.some(function(ee){return ee.id===B}))}},{key:"cleanup",value:function(){for(var B=0,ee=this._pages.length;B<ee;B++)this._pages[B]&&this._pages[B].renderingState!==z.RenderingStates.FINISHED&&this._pages[B].reset()}},{key:"_cancelRendering",value:function(){for(var B=0,ee=this._pages.length;B<ee;B++)this._pages[B]&&this._pages[B].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(B){var ee=this;if(B.pdfPage)return Promise.resolve(B.pdfPage);if(this._pagesRequests.has(B))return this._pagesRequests.get(B);var te=this.pdfDocument.getPage(B.id).then(function(K){return B.pdfPage||B.setPdfPage(K),ee._pagesRequests.delete(B),K}).catch(function(K){console.error("Unable to get page for page view",K),ee._pagesRequests.delete(B)});return this._pagesRequests.set(B,te),te}},{key:"forceRendering",value:function(B){var ee=this,te=B||this._getVisiblePages(),I=this.renderingQueue.getHighestPriority(te,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!I&&(this._ensurePdfPageLoaded(I).then(function(){ee.renderingQueue.renderView(I)}),!0)}},{key:"createTextLayerBuilder",value:function(B,ee,te){return new S.TextLayerBuilder({textLayerDiv:B,eventBus:arguments.length>4?arguments[4]:void 0,pageIndex:ee,viewport:te,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&arguments.length>3&&void 0!==arguments[3]&&arguments[3]})}},{key:"createAnnotationLayerBuilder",value:function(B,ee){return new se.AnnotationLayerBuilder({pageDiv:B,pdfPage:ee,imageResourcesPath:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:arguments.length>3&&void 0!==arguments[3]&&arguments[3],linkService:this.linkService,downloadManager:this.downloadManager,l10n:arguments.length>4&&void 0!==arguments[4]?arguments[4]:ue.NullL10n})}},{key:"hasEqualPageSizes",get:function(){for(var B=this._pages[0],ee=1,te=this._pages.length;ee<te;++ee){var K=this._pages[ee];if(K.width!==B.width||K.height!==B.height)return!1}return!0}},{key:"getPagesOverview",value:function(){var B=this._pages.map(function(te){var K=te.pdfPage.getViewport({scale:1});return{width:K.width,height:K.height,rotation:K.rotation}});if(!this.enablePrintAutoRotate)return B;var ee=(0,ue.isPortraitOrientation)(B[0]);return B.map(function(te){return ee===(0,ue.isPortraitOrientation)(te)?te:{width:te.height,height:te.width,rotation:(te.rotation+90)%360}})}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(B){if(this._scrollMode!==B){if(!(0,ue.isValidScrollMode)(B))throw new Error("Invalid scroll mode: ".concat(B));this._scrollMode=B,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:B}),this._updateScrollMode(this._currentPageNumber)}}},{key:"_updateScrollMode",value:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,ee=this._scrollMode,te=this.viewer;te.classList.toggle("scrollHorizontal",ee===ue.ScrollMode.HORIZONTAL),te.classList.toggle("scrollWrapped",ee===ue.ScrollMode.WRAPPED),this.pdfDocument&&B&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(B,!0),this.update())}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(B){if(this._spreadMode!==B){if(!(0,ue.isValidSpreadMode)(B))throw new Error("Invalid spread mode: ".concat(B));this._spreadMode=B,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:B}),this._updateSpreadMode(this._currentPageNumber)}}},{key:"_updateSpreadMode",value:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var ee=this.viewer,te=this._pages;if(ee.textContent="",this._spreadMode===ue.SpreadMode.NONE)for(var K=0,I=te.length;K<I;++K)ee.appendChild(te[K].div);else for(var M=this._spreadMode-1,Q=null,L=0,X=te.length;L<X;++L)null===Q?((Q=document.createElement("div")).className="spread",ee.appendChild(Q)):L%2===M&&(Q=Q.cloneNode(!1),ee.appendChild(Q)),Q.appendChild(te[L].div);!B||(this._setCurrentPageNumber(B,!0),this.update())}}}]),ce}();j.BaseViewer=oe},function(_e,j,Ce){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PDFViewer=void 0;var ue=Ce(16),z=Ce(2),se=function(xe){_(Y,xe);var fe=e(Y);function Y(){return ie(this,Y),fe.apply(this,arguments)}return H(Y,[{key:"_viewerElement",get:function(){return(0,z.shadow)(this,"_viewerElement",this.viewer)}},{key:"_scrollIntoView",value:function(A){var G=A.pageDiv,y=A.pageSpot,oe=void 0===y?null:y,ce=A.pageNumber,q=void 0===ce?null:ce;if(!oe&&!this.isInPresentationMode){var B=G.offsetLeft+G.clientLeft,te=this.container,K=te.scrollLeft;(this._isScrollModeHorizontal||B<K||B+G.clientWidth>K+te.clientWidth)&&(oe={left:0,top:0})}E(Te(Y.prototype),"_scrollIntoView",this).call(this,{pageDiv:G,pageSpot:oe,pageNumber:q})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():E(Te(Y.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(A){if(!this.isInPresentationMode){var ce,G=this._currentPageNumber,y=!1,oe=D(A);try{for(oe.s();!(ce=oe.n()).done;){var q=ce.value;if(q.percent<100)break;if(q.id===G){y=!0;break}}}catch(B){oe.e(B)}finally{oe.f()}y||(G=A[0].id),this._setCurrentPageNumber(G)}}}]),Y}(ue.BaseViewer);j.PDFViewer=se}])},11848:(Re,ae,J)=>{"use strict";J.d(ae,{C:()=>Te});var D=J(69751),E=J(25032),Te=new D.y(E.Z)},70172:()=>{},2001:()=>{},33779:()=>{},66558:()=>{},82258:()=>{},73897:Re=>{Re.exports=function ae(J,D){(null==D||D>J.length)&&(D=J.length);for(var E=0,Te=new Array(D);E<D;E++)Te[E]=J[E];return Te},Re.exports.__esModule=!0,Re.exports.default=Re.exports},85372:Re=>{Re.exports=function ae(J){if(Array.isArray(J))return J},Re.exports.__esModule=!0,Re.exports.default=Re.exports},63405:(Re,ae,J)=>{var D=J(73897);Re.exports=function E(Te){if(Array.isArray(Te))return D(Te)},Re.exports.__esModule=!0,Re.exports.default=Re.exports},66115:Re=>{Re.exports=function ae(J){if(void 0===J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J},Re.exports.__esModule=!0,Re.exports.default=Re.exports},17156:Re=>{function ae(D,E,Te,_,e,N,ge){try{var b=D[N](ge),ie=b.value}catch(H){return void Te(H)}b.done?E(ie):Promise.resolve(ie).then(_,e)}Re.exports=function J(D){return function(){var E=this,Te=arguments;return new Promise(function(_,e){var N=D.apply(E,Te);function ge(ie){ae(N,_,e,ge,b,"next",ie)}function b(ie){ae(N,_,e,ge,b,"throw",ie)}ge(void 0)})}},Re.exports.__esModule=!0,Re.exports.default=Re.exports},56690:Re=>{Re.exports=function ae(J,D){if(!(J instanceof D))throw new TypeError("Cannot call a class as a function")},Re.exports.__esModule=!0,Re.exports.default=Re.exports},89728:Re=>{function ae(D,E){for(var Te=0;Te<E.length;Te++){var _=E[Te];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(D,_.key,_)}}Re.exports=function J(D,E,Te){return E&&ae(D.prototype,E),Te&&ae(D,Te),Object.defineProperty(D,"prototype",{writable:!1}),D},Re.exports.__esModule=!0,Re.exports.default=Re.exports},74704:(Re,ae,J)=>{var D=J(86116);Re.exports=function E(Te,_){var e="undefined"!=typeof Symbol&&Te[Symbol.iterator]||Te["@@iterator"];if(!e){if(Array.isArray(Te)||(e=D(Te))||_&&Te&&"number"==typeof Te.length){e&&(Te=e);var N=0,ge=function(){};return{s:ge,n:function(){return N>=Te.length?{done:!0}:{done:!1,value:Te[N++]}},e:function(j){throw j},f:ge}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var H,b=!0,ie=!1;return{s:function(){e=e.call(Te)},n:function(){var j=e.next();return b=j.done,j},e:function(j){ie=!0,H=j},f:function(){try{!b&&null!=e.return&&e.return()}finally{if(ie)throw H}}}},Re.exports.__esModule=!0,Re.exports.default=Re.exports},26389:(Re,ae,J)=>{var D=J(73808),E=J(69617),Te=J(94993);Re.exports=function _(e){var N=E();return function(){var ie,b=D(e);if(N){var H=D(this).constructor;ie=Reflect.construct(b,arguments,H)}else ie=b.apply(this,arguments);return Te(this,ie)}},Re.exports.__esModule=!0,Re.exports.default=Re.exports},41588:(Re,ae,J)=>{var D=J(1753);function E(){return"undefined"!=typeof Reflect&&Reflect.get?(Re.exports=E=Reflect.get.bind(),Re.exports.__esModule=!0,Re.exports.default=Re.exports):(Re.exports=E=function(_,e,N){var ge=D(_,e);if(ge){var b=Object.getOwnPropertyDescriptor(ge,e);return b.get?b.get.call(arguments.length<3?_:N):b.value}},Re.exports.__esModule=!0,Re.exports.default=Re.exports),E.apply(this,arguments)}Re.exports=E,Re.exports.__esModule=!0,Re.exports.default=Re.exports},73808:Re=>{function ae(J){return Re.exports=ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},Re.exports.__esModule=!0,Re.exports.default=Re.exports,ae(J)}Re.exports=ae,Re.exports.__esModule=!0,Re.exports.default=Re.exports},61655:(Re,ae,J)=>{var D=J(6015);Re.exports=function E(Te,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(_&&_.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),_&&D(Te,_)},Re.exports.__esModule=!0,Re.exports.default=Re.exports},69617:Re=>{Re.exports=function ae(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(J){return!1}},Re.exports.__esModule=!0,Re.exports.default=Re.exports},79498:Re=>{Re.exports=function ae(J){if("undefined"!=typeof Symbol&&null!=J[Symbol.iterator]||null!=J["@@iterator"])return Array.from(J)},Re.exports.__esModule=!0,Re.exports.default=Re.exports},68872:Re=>{Re.exports=function ae(J,D){var E=null==J?null:"undefined"!=typeof Symbol&&J[Symbol.iterator]||J["@@iterator"];if(null!=E){var N,ge,Te=[],_=!0,e=!1;try{for(E=E.call(J);!(_=(N=E.next()).done)&&(Te.push(N.value),!D||Te.length!==D);_=!0);}catch(b){e=!0,ge=b}finally{try{!_&&null!=E.return&&E.return()}finally{if(e)throw ge}}return Te}},Re.exports.__esModule=!0,Re.exports.default=Re.exports},12218:Re=>{Re.exports=function ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},Re.exports.__esModule=!0,Re.exports.default=Re.exports},42281:Re=>{Re.exports=function ae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},Re.exports.__esModule=!0,Re.exports.default=Re.exports},94993:(Re,ae,J)=>{var D=J(18698).default,E=J(66115);Re.exports=function Te(_,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(_)},Re.exports.__esModule=!0,Re.exports.default=Re.exports},17061:(Re,ae,J)=>{var D=J(18698).default;function E(){"use strict";Re.exports=E=function(){return Te},Re.exports.__esModule=!0,Re.exports.default=Re.exports;var Te={},_=Object.prototype,e=_.hasOwnProperty,N="function"==typeof Symbol?Symbol:{},ge=N.iterator||"@@iterator",b=N.asyncIterator||"@@asyncIterator",ie=N.toStringTag||"@@toStringTag";function H(te,K,I){return Object.defineProperty(te,K,{value:I,enumerable:!0,configurable:!0,writable:!0}),te[K]}try{H({},"")}catch(te){H=function(I,M,Q){return I[M]=Q}}function _e(te,K,I,M){var le,Oe,ke,Se,L=Object.create((K&&K.prototype instanceof ue?K:ue).prototype),X=new q(M||[]);return L._invoke=(le=te,Oe=I,ke=X,Se="suspendedStart",function(Fe,Ye){if("executing"===Se)throw new Error("Generator is already running");if("completed"===Se){if("throw"===Fe)throw Ye;return{value:void 0,done:!0}}for(ke.method=Fe,ke.arg=Ye;;){var je=ke.delegate;if(je){var ot=y(je,ke);if(ot){if(ot===Ce)continue;return ot}}if("next"===ke.method)ke.sent=ke._sent=ke.arg;else if("throw"===ke.method){if("suspendedStart"===Se)throw Se="completed",ke.arg;ke.dispatchException(ke.arg)}else"return"===ke.method&&ke.abrupt("return",ke.arg);Se="executing";var it=j(le,Oe,ke);if("normal"===it.type){if(Se=ke.done?"completed":"suspendedYield",it.arg===Ce)continue;return{value:it.arg,done:ke.done}}"throw"===it.type&&(Se="completed",ke.method="throw",ke.arg=it.arg)}}),L}function j(te,K,I){try{return{type:"normal",arg:te.call(K,I)}}catch(M){return{type:"throw",arg:M}}}Te.wrap=_e;var Ce={};function ue(){}function z(){}function se(){}var xe={};H(xe,ge,function(){return this});var fe=Object.getPrototypeOf,Y=fe&&fe(fe(B([])));Y&&Y!==_&&e.call(Y,ge)&&(xe=Y);var S=se.prototype=ue.prototype=Object.create(xe);function A(te){["next","throw","return"].forEach(function(K){H(te,K,function(I){return this._invoke(K,I)})})}function G(te,K){function I(Q,L,X,le){var Oe=j(te[Q],te,L);if("throw"!==Oe.type){var ke=Oe.arg,Se=ke.value;return Se&&"object"==D(Se)&&e.call(Se,"__await")?K.resolve(Se.__await).then(function(Fe){I("next",Fe,X,le)},function(Fe){I("throw",Fe,X,le)}):K.resolve(Se).then(function(Fe){ke.value=Fe,X(ke)},function(Fe){return I("throw",Fe,X,le)})}le(Oe.arg)}var M;this._invoke=function(Q,L){function X(){return new K(function(le,Oe){I(Q,L,le,Oe)})}return M=M?M.then(X,X):X()}}function y(te,K){var I=te.iterator[K.method];if(void 0===I){if(K.delegate=null,"throw"===K.method){if(te.iterator.return&&(K.method="return",K.arg=void 0,y(te,K),"throw"===K.method))return Ce;K.method="throw",K.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ce}var M=j(I,te.iterator,K.arg);if("throw"===M.type)return K.method="throw",K.arg=M.arg,K.delegate=null,Ce;var Q=M.arg;return Q?Q.done?(K[te.resultName]=Q.value,K.next=te.nextLoc,"return"!==K.method&&(K.method="next",K.arg=void 0),K.delegate=null,Ce):Q:(K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,Ce)}function oe(te){var K={tryLoc:te[0]};1 in te&&(K.catchLoc=te[1]),2 in te&&(K.finallyLoc=te[2],K.afterLoc=te[3]),this.tryEntries.push(K)}function ce(te){var K=te.completion||{};K.type="normal",delete K.arg,te.completion=K}function q(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(oe,this),this.reset(!0)}function B(te){if(te){var K=te[ge];if(K)return K.call(te);if("function"==typeof te.next)return te;if(!isNaN(te.length)){var I=-1,M=function Q(){for(;++I<te.length;)if(e.call(te,I))return Q.value=te[I],Q.done=!1,Q;return Q.value=void 0,Q.done=!0,Q};return M.next=M}}return{next:ee}}function ee(){return{value:void 0,done:!0}}return z.prototype=se,H(S,"constructor",se),H(se,"constructor",z),z.displayName=H(se,ie,"GeneratorFunction"),Te.isGeneratorFunction=function(te){var K="function"==typeof te&&te.constructor;return!!K&&(K===z||"GeneratorFunction"===(K.displayName||K.name))},Te.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,se):(te.__proto__=se,H(te,ie,"GeneratorFunction")),te.prototype=Object.create(S),te},Te.awrap=function(te){return{__await:te}},A(G.prototype),H(G.prototype,b,function(){return this}),Te.AsyncIterator=G,Te.async=function(te,K,I,M,Q){void 0===Q&&(Q=Promise);var L=new G(_e(te,K,I,M),Q);return Te.isGeneratorFunction(K)?L:L.next().then(function(X){return X.done?X.value:L.next()})},A(S),H(S,ie,"Generator"),H(S,ge,function(){return this}),H(S,"toString",function(){return"[object Generator]"}),Te.keys=function(te){var K=[];for(var I in te)K.push(I);return K.reverse(),function M(){for(;K.length;){var Q=K.pop();if(Q in te)return M.value=Q,M.done=!1,M}return M.done=!0,M}},Te.values=B,q.prototype={constructor:q,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ce),!K)for(var I in this)"t"===I.charAt(0)&&e.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=void 0)},stop:function(){this.done=!0;var K=this.tryEntries[0].completion;if("throw"===K.type)throw K.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var I=this;function M(ke,Se){return X.type="throw",X.arg=K,I.next=ke,Se&&(I.method="next",I.arg=void 0),!!Se}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var L=this.tryEntries[Q],X=L.completion;if("root"===L.tryLoc)return M("end");if(L.tryLoc<=this.prev){var le=e.call(L,"catchLoc"),Oe=e.call(L,"finallyLoc");if(le&&Oe){if(this.prev<L.catchLoc)return M(L.catchLoc,!0);if(this.prev<L.finallyLoc)return M(L.finallyLoc)}else if(le){if(this.prev<L.catchLoc)return M(L.catchLoc,!0)}else{if(!Oe)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return M(L.finallyLoc)}}}},abrupt:function(K,I){for(var M=this.tryEntries.length-1;M>=0;--M){var Q=this.tryEntries[M];if(Q.tryLoc<=this.prev&&e.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var L=Q;break}}L&&("break"===K||"continue"===K)&&L.tryLoc<=I&&I<=L.finallyLoc&&(L=null);var X=L?L.completion:{};return X.type=K,X.arg=I,L?(this.method="next",this.next=L.finallyLoc,Ce):this.complete(X)},complete:function(K,I){if("throw"===K.type)throw K.arg;return"break"===K.type||"continue"===K.type?this.next=K.arg:"return"===K.type?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):"normal"===K.type&&I&&(this.next=I),Ce},finish:function(K){for(var I=this.tryEntries.length-1;I>=0;--I){var M=this.tryEntries[I];if(M.finallyLoc===K)return this.complete(M.completion,M.afterLoc),ce(M),Ce}},catch:function(K){for(var I=this.tryEntries.length-1;I>=0;--I){var M=this.tryEntries[I];if(M.tryLoc===K){var Q=M.completion;if("throw"===Q.type){var L=Q.arg;ce(M)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(K,I,M){return this.delegate={iterator:B(K),resultName:I,nextLoc:M},"next"===this.method&&(this.arg=void 0),Ce}},Te}Re.exports=E,Re.exports.__esModule=!0,Re.exports.default=Re.exports},6015:Re=>{function ae(J,D){return Re.exports=ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Te,_){return Te.__proto__=_,Te},Re.exports.__esModule=!0,Re.exports.default=Re.exports,ae(J,D)}Re.exports=ae,Re.exports.__esModule=!0,Re.exports.default=Re.exports},27424:(Re,ae,J)=>{var D=J(85372),E=J(68872),Te=J(86116),_=J(12218);Re.exports=function e(N,ge){return D(N)||E(N,ge)||Te(N,ge)||_()},Re.exports.__esModule=!0,Re.exports.default=Re.exports},1753:(Re,ae,J)=>{var D=J(73808);Re.exports=function E(Te,_){for(;!Object.prototype.hasOwnProperty.call(Te,_)&&null!==(Te=D(Te)););return Te},Re.exports.__esModule=!0,Re.exports.default=Re.exports},861:(Re,ae,J)=>{var D=J(63405),E=J(79498),Te=J(86116),_=J(42281);Re.exports=function e(N){return D(N)||E(N)||Te(N)||_()},Re.exports.__esModule=!0,Re.exports.default=Re.exports},18698:Re=>{function ae(J){return Re.exports=ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},Re.exports.__esModule=!0,Re.exports.default=Re.exports,ae(J)}Re.exports=ae,Re.exports.__esModule=!0,Re.exports.default=Re.exports},86116:(Re,ae,J)=>{var D=J(73897);Re.exports=function E(Te,_){if(Te){if("string"==typeof Te)return D(Te,_);var e=Object.prototype.toString.call(Te).slice(8,-1);if("Object"===e&&Te.constructor&&(e=Te.constructor.name),"Map"===e||"Set"===e)return Array.from(Te);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return D(Te,_)}},Re.exports.__esModule=!0,Re.exports.default=Re.exports},85368:(Re,ae,J)=>{"use strict";J.d(ae,{_A:()=>hs,mH:()=>Au,jt:()=>rr,Vi:()=>Mo,XC:()=>qu,iD:()=>On,IJ:()=>ng,M2:()=>qc,_L:()=>eg});var D=J(60136),E=J(18486),_=(J(37762),J(97685)),N=J(43144),ge=J(15671),b=J(5e3),ie=J(69808),H=J(69751),_e=J(60515),j=J(39646),Ce=J(77579),ue=J(54968),z=J(5963),se=J(38421),xe=Array.isArray;function fe(m){return 1===m.length&&xe(m[0])?m[0]:m}var Y=J(25403);function S(){for(var m=arguments.length,v=new Array(m),f=0;f<m;f++)v[f]=arguments[f];return 1===(v=fe(v)).length?(0,se.Xf)(v[0]):new H.y(A(v))}function A(m){return function(v){for(var f=[],g=function(pe){f.push((0,se.Xf)(m[pe]).subscribe((0,Y.x)(v,function(Ae){if(f){for(var Ie=0;Ie<f.length;Ie++)Ie!==pe&&f[Ie].unsubscribe();f=null}v.next(Ae)})))},k=0;f&&!v.closed&&k<m.length;k++)g(k)}}J(61135),J(39841),J(11848);var ce=J(74902),q=J(63269);function B(){for(var m=arguments.length,v=new Array(m),f=0;f<m;f++)v[f]=arguments[f];var g=(0,q.jO)(v),k=fe(v);return k.length?new H.y(function(F){var pe=k.map(function(){return[]}),Ae=k.map(function(){return!1});F.add(function(){pe=Ae=null});for(var Ie=function(Nt){(0,se.Xf)(k[Nt]).subscribe((0,Y.x)(F,function(Ut){if(pe[Nt].push(Ut),pe.every(function(zt){return zt.length})){var Yt=pe.map(function(zt){return zt.shift()});F.next(g?g.apply(void 0,(0,ce.Z)(Yt)):Yt),pe.some(function(zt,_n){return!zt.length&&Ae[_n]})&&F.complete()}},function(){Ae[Nt]=!0,!pe[Nt].length&&F.complete()}))},Ve=0;!F.closed&&Ve<k.length;Ve++)Ie(Ve);return function(){pe=Ae=null}}):_e.E}var ee=J(56451),te=J(97272),I=J(82722),M=J(39300),Q=J(95698),L=J(54004),Oe=(J(68675),J(71884),J(63900)),ke=J(18505),Se=J(54482),Fe=J(44671),Ye=J(25032);function je(){for(var m=arguments.length,v=new Array(m),f=0;f<m;f++)v[f]=arguments[f];var g=(0,q.jO)(v);return(0,Se.e)(function(k,F){for(var pe=v.length,Ae=new Array(pe),Ie=v.map(function(){return!1}),Ve=!1,st=function(Yt){(0,se.Xf)(v[Yt]).subscribe((0,Y.x)(F,function(zt){Ae[Yt]=zt,!Ve&&!Ie[Yt]&&(Ie[Yt]=!0,(Ve=Ie.every(Fe.y))&&(Ie=null))},Ye.Z))},Nt=0;Nt<pe;Nt++)st(Nt);k.subscribe((0,Y.x)(F,function(Ut){if(Ve){var Yt=[Ut].concat(Ae);F.next(g?g.apply(void 0,(0,ce.Z)(Yt)):Yt)}}))})}var ot=J(91005),it=J(95577),Ze=(J(35684),J(13099)),Mt=J(93075),At={left:"right",right:"left",bottom:"top",top:"bottom"};function Jt(m){return m.replace(/left|right|bottom|top/g,function(v){return At[v]})}function Ft(m){return m.split("-")[0]}var an={start:"end",end:"start"};function un(m){return m.replace(/start|end/g,function(v){return an[v]})}var Ot="top",dn="bottom",oi="right",En="left",ut="auto",xt=[Ot,dn,oi,En],It="start",mt="end",qt="viewport",Qt="popper",dt=xt.reduce(function(m,v){return m.concat([v+"-"+It,v+"-"+mt])},[]),Pt=[].concat(xt,[ut]).reduce(function(m,v){return m.concat([v,v+"-"+It,v+"-"+mt])},[]),Ro=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Vi(m){if(null==m)return window;if("[object Window]"!==m.toString()){var v=m.ownerDocument;return v&&v.defaultView||window}return m}function Br(m){return m instanceof Vi(m).Element||m instanceof Element}function ar(m){return m instanceof Vi(m).HTMLElement||m instanceof HTMLElement}function _a(m){return"undefined"!=typeof ShadowRoot&&(m instanceof Vi(m).ShadowRoot||m instanceof ShadowRoot)}function br(m){return((Br(m)?m.ownerDocument:m.document)||window.document).documentElement}var Qn=Math.max,To=Math.min,va=Math.round;function jr(){var m=navigator.userAgentData;return null!=m&&m.brands?m.brands.map(function(v){return v.brand+"/"+v.version}).join(" "):navigator.userAgent}function Mr(){return!/^((?!chrome|android).)*safari/i.test(jr())}function Or(m,v,f){void 0===v&&(v=!1),void 0===f&&(f=!1);var g=m.getBoundingClientRect(),k=1,F=1;v&&ar(m)&&(k=m.offsetWidth>0&&va(g.width)/m.offsetWidth||1,F=m.offsetHeight>0&&va(g.height)/m.offsetHeight||1);var Ae=(Br(m)?Vi(m):window).visualViewport,Ie=!Mr()&&f,Ve=(g.left+(Ie&&Ae?Ae.offsetLeft:0))/k,st=(g.top+(Ie&&Ae?Ae.offsetTop:0))/F,Nt=g.width/k,Ut=g.height/F;return{width:Nt,height:Ut,top:st,right:Ve+Nt,bottom:st+Ut,left:Ve,x:Ve,y:st}}function uc(m){var v=Vi(m);return{scrollLeft:v.pageXOffset,scrollTop:v.pageYOffset}}function ns(m){return Or(br(m)).left+uc(m).scrollLeft}function ta(m){return Vi(m).getComputedStyle(m)}function wo(m){return m?(m.nodeName||"").toLowerCase():null}function vl(m){return"html"===wo(m)?m:m.assignedSlot||m.parentNode||(_a(m)?m.host:null)||br(m)}function ba(m){var v=ta(m);return/auto|scroll|overlay|hidden/.test(v.overflow+v.overflowY+v.overflowX)}function pc(m){return["html","body","#document"].indexOf(wo(m))>=0?m.ownerDocument.body:ar(m)&&ba(m)?m:pc(vl(m))}function La(m,v){var f;void 0===v&&(v=[]);var g=pc(m),k=g===(null==(f=m.ownerDocument)?void 0:f.body),F=Vi(g),pe=k?[F].concat(F.visualViewport||[],ba(g)?g:[]):g,Ae=v.concat(pe);return k?Ae:Ae.concat(La(vl(pe)))}function is(m){return["table","td","th"].indexOf(wo(m))>=0}function fc(m){return ar(m)&&"fixed"!==ta(m).position?m.offsetParent:null}function na(m){for(var v=Vi(m),f=fc(m);f&&is(f)&&"static"===ta(f).position;)f=fc(f);return f&&("html"===wo(f)||"body"===wo(f)&&"static"===ta(f).position)?v:f||function bl(m){var v=/firefox/i.test(jr());if(/Trident/i.test(jr())&&ar(m)&&"fixed"===ta(m).position)return null;var k=vl(m);for(_a(k)&&(k=k.host);ar(k)&&["html","body"].indexOf(wo(k))<0;){var F=ta(k);if("none"!==F.transform||"none"!==F.perspective||"paint"===F.contain||-1!==["transform","perspective"].indexOf(F.willChange)||v&&"filter"===F.willChange||v&&F.filter&&"none"!==F.filter)return k;k=k.parentNode}return null}(m)||v}function no(m,v){var f=v.getRootNode&&v.getRootNode();if(m.contains(v))return!0;if(f&&_a(f)){var g=v;do{if(g&&m.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function Rs(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function rs(m,v,f){return v===qt?Rs(function er(m,v){var f=Vi(m),g=br(m),k=f.visualViewport,F=g.clientWidth,pe=g.clientHeight,Ae=0,Ie=0;if(k){F=k.width,pe=k.height;var Ve=Mr();(Ve||!Ve&&"fixed"===v)&&(Ae=k.offsetLeft,Ie=k.offsetTop)}return{width:F,height:pe,x:Ae+ns(m),y:Ie}}(m,f)):Br(v)?function hc(m,v){var f=Or(m,!1,"fixed"===v);return f.top=f.top+m.clientTop,f.left=f.left+m.clientLeft,f.bottom=f.top+m.clientHeight,f.right=f.left+m.clientWidth,f.width=m.clientWidth,f.height=m.clientHeight,f.x=f.left,f.y=f.top,f}(v,f):Rs(function uu(m){var v,f=br(m),g=uc(m),k=null==(v=m.ownerDocument)?void 0:v.body,F=Qn(f.scrollWidth,f.clientWidth,k?k.scrollWidth:0,k?k.clientWidth:0),pe=Qn(f.scrollHeight,f.clientHeight,k?k.scrollHeight:0,k?k.clientHeight:0),Ae=-g.scrollLeft+ns(m),Ie=-g.scrollTop;return"rtl"===ta(k||f).direction&&(Ae+=Qn(f.clientWidth,k?k.clientWidth:0)-F),{width:F,height:pe,x:Ae,y:Ie}}(br(m)))}function os(m){return m.split("-")[1]}function yl(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function mc(m){var Ie,v=m.reference,f=m.element,g=m.placement,k=g?Ft(g):null,F=g?os(g):null,pe=v.x+v.width/2-f.width/2,Ae=v.y+v.height/2-f.height/2;switch(k){case Ot:Ie={x:pe,y:v.y-f.height};break;case dn:Ie={x:pe,y:v.y+v.height};break;case oi:Ie={x:v.x+v.width,y:Ae};break;case En:Ie={x:v.x-f.width,y:Ae};break;default:Ie={x:v.x,y:v.y}}var Ve=k?yl(k):null;if(null!=Ve){var st="y"===Ve?"height":"width";switch(F){case It:Ie[Ve]=Ie[Ve]-(v[st]/2-f[st]/2);break;case mt:Ie[Ve]=Ie[Ve]+(v[st]/2-f[st]/2)}}return Ie}function xl(m){return Object.assign({},{top:0,right:0,bottom:0,left:0},m)}function Fs(m,v){return v.reduce(function(f,g){return f[g]=m,f},{})}function Cl(m,v){void 0===v&&(v={});var g=v.placement,k=void 0===g?m.placement:g,F=v.strategy,pe=void 0===F?m.strategy:F,Ae=v.boundary,Ie=void 0===Ae?"clippingParents":Ae,Ve=v.rootBoundary,st=void 0===Ve?qt:Ve,Nt=v.elementContext,Ut=void 0===Nt?Qt:Nt,Yt=v.altBoundary,zt=void 0!==Yt&&Yt,_n=v.padding,vn=void 0===_n?0:_n,ii=xl("number"!=typeof vn?vn:Fs(vn,xt)),Fi=m.rects.popper,ri=m.elements[zt?Ut===Qt?"reference":Qt:Ut],Xn=function tr(m,v,f,g){var k="clippingParents"===v?function _d(m){var v=La(vl(m)),g=["absolute","fixed"].indexOf(ta(m).position)>=0&&ar(m)?na(m):m;return Br(g)?v.filter(function(k){return Br(k)&&no(k,g)&&"body"!==wo(k)}):[]}(m):[].concat(v),F=[].concat(k,[f]),Ae=F.reduce(function(Ie,Ve){var st=rs(m,Ve,g);return Ie.top=Qn(st.top,Ie.top),Ie.right=To(st.right,Ie.right),Ie.bottom=To(st.bottom,Ie.bottom),Ie.left=Qn(st.left,Ie.left),Ie},rs(m,F[0],g));return Ae.width=Ae.right-Ae.left,Ae.height=Ae.bottom-Ae.top,Ae.x=Ae.left,Ae.y=Ae.top,Ae}(Br(ri)?ri:ri.contextElement||br(m.elements.popper),Ie,st,pe),si=Or(m.elements.reference),Pi=mc({reference:si,element:Fi,strategy:"absolute",placement:k}),Ci=Rs(Object.assign({},Fi,Pi)),Ki=Ut===Qt?Ci:si,or={top:Xn.top-Ki.top+ii.top,bottom:Ki.bottom-Xn.bottom+ii.bottom,left:Xn.left-Ki.left+ii.left,right:Ki.right-Xn.right+ii.right},$i=m.modifiersData.offset;if(Ut===Qt&&$i){var Jo=$i[k];Object.keys(or).forEach(function(Kr){var tl=[oi,dn].indexOf(Kr)>=0?1:-1,nl=[Ot,dn].indexOf(Kr)>=0?"y":"x";or[Kr]+=Jo[nl]*tl})}return or}const vd={name:"flip",enabled:!0,phase:"main",fn:function Do(m){var v=m.state,f=m.options,g=m.name;if(!v.modifiersData[g]._skip){for(var k=f.mainAxis,F=void 0===k||k,pe=f.altAxis,Ae=void 0===pe||pe,Ie=f.fallbackPlacements,Ve=f.padding,st=f.boundary,Nt=f.rootBoundary,Ut=f.altBoundary,Yt=f.flipVariations,zt=void 0===Yt||Yt,_n=f.allowedAutoPlacements,vn=v.options.placement,ii=Ft(vn),Fi=Ie||(ii!==vn&&zt?function ai(m){if(Ft(m)===ut)return[];var v=Jt(m);return[un(m),v,un(v)]}(vn):[Jt(vn)]),ri=[vn].concat(Fi).reduce(function(Wl,ys){return Wl.concat(Ft(ys)===ut?function di(m,v){void 0===v&&(v={});var k=v.boundary,F=v.rootBoundary,pe=v.padding,Ae=v.flipVariations,Ie=v.allowedAutoPlacements,Ve=void 0===Ie?Pt:Ie,st=os(v.placement),Nt=st?Ae?dt:dt.filter(function(zt){return os(zt)===st}):xt,Ut=Nt.filter(function(zt){return Ve.indexOf(zt)>=0});0===Ut.length&&(Ut=Nt);var Yt=Ut.reduce(function(zt,_n){return zt[_n]=Cl(m,{placement:_n,boundary:k,rootBoundary:F,padding:pe})[Ft(_n)],zt},{});return Object.keys(Yt).sort(function(zt,_n){return Yt[zt]-Yt[_n]})}(v,{placement:ys,boundary:st,rootBoundary:Nt,padding:Ve,flipVariations:zt,allowedAutoPlacements:_n}):ys)},[]),Xn=v.rects.reference,si=v.rects.popper,Pi=new Map,Ci=!0,Ki=ri[0],or=0;or<ri.length;or++){var $i=ri[or],Jo=Ft($i),Kr=os($i)===It,tl=[Ot,dn].indexOf(Jo)>=0,nl=tl?"width":"height",wr=Cl(v,{placement:$i,boundary:st,rootBoundary:Nt,altBoundary:Ut,padding:Ve}),ua=tl?Kr?oi:En:Kr?dn:Ot;Xn[nl]>si[nl]&&(ua=Jt(ua));var Fd=Jt(ua),bs=[];if(F&&bs.push(wr[Jo]<=0),Ae&&bs.push(wr[ua]<=0,wr[Fd]<=0),bs.every(function(Wl){return Wl})){Ki=$i,Ci=!1;break}Pi.set($i,bs)}if(Ci)for(var Bc=function(ys){var Gc=ri.find(function(Ld){var Ia=Pi.get(Ld);if(Ia)return Ia.slice(0,ys).every(function(Xu){return Xu})});if(Gc)return Ki=Gc,"break"},Vc=zt?3:1;Vc>0&&"break"!==Bc(Vc);Vc--);v.placement!==Ki&&(v.modifiersData[g]._skip=!0,v.placement=Ki,v.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ya(m,v,f){return Qn(m,To(v,f))}function as(m){var v=Or(m),f=m.offsetWidth,g=m.offsetHeight;return Math.abs(v.width-f)<=1&&(f=v.width),Math.abs(v.height-g)<=1&&(g=v.height),{x:m.offsetLeft,y:m.offsetTop,width:f,height:g}}const wl={name:"preventOverflow",enabled:!0,phase:"main",fn:function gc(m){var v=m.state,f=m.options,g=m.name,k=f.mainAxis,F=void 0===k||k,pe=f.altAxis,Ae=void 0!==pe&&pe,Ut=f.tether,Yt=void 0===Ut||Ut,zt=f.tetherOffset,_n=void 0===zt?0:zt,vn=Cl(v,{boundary:f.boundary,rootBoundary:f.rootBoundary,padding:f.padding,altBoundary:f.altBoundary}),ii=Ft(v.placement),Ln=os(v.placement),Fi=!Ln,ri=yl(ii),Xn=function bd(m){return"x"===m?"y":"x"}(ri),si=v.modifiersData.popperOffsets,Pi=v.rects.reference,Ci=v.rects.popper,Ki="function"==typeof _n?_n(Object.assign({},v.rects,{placement:v.placement})):_n,or="number"==typeof Ki?{mainAxis:Ki,altAxis:Ki}:Object.assign({mainAxis:0,altAxis:0},Ki),$i=v.modifiersData.offset?v.modifiersData.offset[v.placement]:null,Jo={x:0,y:0};if(si){if(F){var Kr,tl="y"===ri?Ot:En,nl="y"===ri?dn:oi,wr="y"===ri?"height":"width",ua=si[ri],Fd=ua+vn[tl],bs=ua-vn[nl],Gl=Yt?-Ci[wr]/2:0,Bc=Ln===It?Pi[wr]:Ci[wr],Vc=Ln===It?-Ci[wr]:-Pi[wr],Zd=v.elements.arrow,Wl=Yt&&Zd?as(Zd):{width:0,height:0},ys=v.modifiersData["arrow#persistent"]?v.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Gc=ys[tl],Ld=ys[nl],Ia=ya(0,Pi[wr],Wl[wr]),Xu=Fi?Pi[wr]/2-Gl-Ia-Gc-or.mainAxis:Bc-Ia-Gc-or.mainAxis,Bf=Fi?-Pi[wr]/2+Gl+Ia+Ld+or.mainAxis:Vc+Ia+Ld+or.mainAxis,Ud=v.elements.arrow&&na(v.elements.arrow),ep=null!=(Kr=null==$i?void 0:$i[ri])?Kr:0,Ql=ua+Bf-ep,tp=ya(Yt?To(Fd,ua+Xu-ep-(Ud?"y"===ri?Ud.clientTop||0:Ud.clientLeft||0:0)):Fd,ua,Yt?Qn(bs,Ql):bs);si[ri]=tp,Jo[ri]=tp-ua}if(Ae){var Vf,Na=si[Xn],il="y"===Xn?"height":"width",Gf=Na+vn["x"===ri?Ot:En],Wf=Na-vn["x"===ri?dn:oi],Wc=-1!==[Ot,En].indexOf(ii),np=null!=(Vf=null==$i?void 0:$i[Xn])?Vf:0,Qf=Wc?Gf:Na-Pi[il]-Ci[il]-np+or.altAxis,zf=Wc?Na+Pi[il]+Ci[il]-np-or.altAxis:Wf,Kf=Yt&&Wc?function Tl(m,v,f){var g=ya(m,v,f);return g>f?f:g}(Qf,Na,zf):ya(Yt?Qf:Gf,Na,Yt?zf:Wf);si[Xn]=Kf,Jo[Xn]=Kf-Na}v.modifiersData[g]=Jo}},requiresIfExists:["offset"]},ss={name:"arrow",enabled:!0,phase:"main",fn:function So(m){var v,f=m.state,g=m.name,k=m.options,F=f.elements.arrow,pe=f.modifiersData.popperOffsets,Ae=Ft(f.placement),Ie=yl(Ae),st=[En,oi].indexOf(Ae)>=0?"height":"width";if(F&&pe){var Nt=function(v,f){return xl("number"!=typeof(v="function"==typeof v?v(Object.assign({},f.rects,{placement:f.placement})):v)?v:Fs(v,xt))}(k.padding,f),Ut=as(F),Yt="y"===Ie?Ot:En,zt="y"===Ie?dn:oi,_n=f.rects.reference[st]+f.rects.reference[Ie]-pe[Ie]-f.rects.popper[st],vn=pe[Ie]-f.rects.reference[Ie],ii=na(F),Ln=ii?"y"===Ie?ii.clientHeight||0:ii.clientWidth||0:0,si=Ln/2-Ut[st]/2+(_n/2-vn/2),Pi=ya(Nt[Yt],si,Ln-Ut[st]-Nt[zt]);f.modifiersData[g]=((v={})[Ie]=Pi,v.centerOffset=Pi-si,v)}},effect:function _c(m){var v=m.state,g=m.options.element,k=void 0===g?"[data-popper-arrow]":g;null!=k&&("string"==typeof k&&!(k=v.elements.popper.querySelector(k))||!no(v.elements.popper,k)||(v.elements.arrow=k))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ia(m,v,f){void 0===f&&(f=!1);var g=ar(v),k=ar(v)&&function xa(m){var v=m.getBoundingClientRect(),f=va(v.width)/m.offsetWidth||1,g=va(v.height)/m.offsetHeight||1;return 1!==f||1!==g}(v),F=br(v),pe=Or(m,k,f),Ae={scrollLeft:0,scrollTop:0},Ie={x:0,y:0};return(g||!g&&!f)&&(("body"!==wo(v)||ba(F))&&(Ae=function pu(m){return m!==Vi(m)&&ar(m)?function vc(m){return{scrollLeft:m.scrollLeft,scrollTop:m.scrollTop}}(m):uc(m)}(v)),ar(v)?((Ie=Or(v,!0)).x+=v.clientLeft,Ie.y+=v.clientTop):F&&(Ie.x=ns(F))),{x:pe.left+Ae.scrollLeft-Ie.x,y:pe.top+Ae.scrollTop-Ie.y,width:pe.width,height:pe.height}}function Zs(m){var v=new Map,f=new Set,g=[];function k(F){f.add(F.name),[].concat(F.requires||[],F.requiresIfExists||[]).forEach(function(Ae){if(!f.has(Ae)){var Ie=v.get(Ae);Ie&&k(Ie)}}),g.push(F)}return m.forEach(function(F){v.set(F.name,F)}),m.forEach(function(F){f.has(F.name)||k(F)}),g}function bc(m){var v;return function(){return v||(v=new Promise(function(f){Promise.resolve().then(function(){v=void 0,f(m())})})),v}}var Ls={placement:"bottom",modifiers:[],strategy:"absolute"};function xc(){for(var m=arguments.length,v=new Array(m),f=0;f<m;f++)v[f]=arguments[f];return!v.some(function(g){return!(g&&"function"==typeof g.getBoundingClientRect)})}function Cc(m){void 0===m&&(m={});var f=m.defaultModifiers,g=void 0===f?[]:f,k=m.defaultOptions,F=void 0===k?Ls:k;return function(Ae,Ie,Ve){void 0===Ve&&(Ve=F);var st={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ls,F),modifiersData:{},elements:{reference:Ae,popper:Ie},attributes:{},styles:{}},Nt=[],Ut=!1,Yt={state:st,setOptions:function(ii){var Ln="function"==typeof ii?ii(st.options):ii;_n(),st.options=Object.assign({},F,st.options,Ln),st.scrollParents={reference:Br(Ae)?La(Ae):Ae.contextElement?La(Ae.contextElement):[],popper:La(Ie)};var Fi=function ls(m){var v=Zs(m);return Ro.reduce(function(f,g){return f.concat(v.filter(function(k){return k.phase===g}))},[])}(function yc(m){var v=m.reduce(function(f,g){var k=f[g.name];return f[g.name]=k?Object.assign({},k,g,{options:Object.assign({},k.options,g.options),data:Object.assign({},k.data,g.data)}):g,f},{});return Object.keys(v).map(function(f){return v[f]})}([].concat(g,st.options.modifiers)));return st.orderedModifiers=Fi.filter(function($i){return $i.enabled}),function zt(){st.orderedModifiers.forEach(function(vn){var Ln=vn.options,ri=vn.effect;if("function"==typeof ri){var Xn=ri({state:st,name:vn.name,instance:Yt,options:void 0===Ln?{}:Ln});Nt.push(Xn||function(){})}})}(),Yt.update()},forceUpdate:function(){if(!Ut){var ii=st.elements,Ln=ii.reference,Fi=ii.popper;if(xc(Ln,Fi)){st.rects={reference:ia(Ln,na(Fi),"fixed"===st.options.strategy),popper:as(Fi)},st.reset=!1,st.placement=st.options.placement,st.orderedModifiers.forEach(function($i){return st.modifiersData[$i.name]=Object.assign({},$i.data)});for(var Xn=0;Xn<st.orderedModifiers.length;Xn++)if(!0!==st.reset){var si=st.orderedModifiers[Xn],Pi=si.fn,Ci=si.options;"function"==typeof Pi&&(st=Pi({state:st,options:void 0===Ci?{}:Ci,name:si.name,instance:Yt})||st)}else st.reset=!1,Xn=-1}}},update:bc(function(){return new Promise(function(vn){Yt.forceUpdate(),vn(st)})}),destroy:function(){_n(),Ut=!0}};if(!xc(Ae,Ie))return Yt;function _n(){Nt.forEach(function(vn){return vn()}),Nt=[]}return Yt.setOptions(Ve).then(function(vn){!Ut&&Ve.onFirstUpdate&&Ve.onFirstUpdate(vn)}),Yt}}var Sl={passive:!0},Gi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fr(m){var v,f=m.popper,g=m.popperRect,k=m.placement,F=m.variation,pe=m.offsets,Ae=m.position,Ie=m.gpuAcceleration,Ve=m.adaptive,st=m.roundOffsets,Nt=m.isFixed,Ut=pe.x,Yt=void 0===Ut?0:Ut,zt=pe.y,_n=void 0===zt?0:zt,vn="function"==typeof st?st({x:Yt,y:_n}):{x:Yt,y:_n};Yt=vn.x,_n=vn.y;var ii=pe.hasOwnProperty("x"),Ln=pe.hasOwnProperty("y"),Fi=En,ri=Ot,Xn=window;if(Ve){var si=na(f),Pi="clientHeight",Ci="clientWidth";si===Vi(f)&&"static"!==ta(si=br(f)).position&&"absolute"===Ae&&(Pi="scrollHeight",Ci="scrollWidth"),(k===Ot||(k===En||k===oi)&&F===mt)&&(ri=dn,_n-=(Nt&&si===Xn&&Xn.visualViewport?Xn.visualViewport.height:si[Pi])-g.height,_n*=Ie?1:-1),k!==En&&(k!==Ot&&k!==dn||F!==mt)||(Fi=oi,Yt-=(Nt&&si===Xn&&Xn.visualViewport?Xn.visualViewport.width:si[Ci])-g.width,Yt*=Ie?1:-1)}var Kr,$i=Object.assign({position:Ae},Ve&&Gi),Jo=!0===st?function Wi(m){var f=m.y,k=window.devicePixelRatio||1;return{x:va(m.x*k)/k||0,y:va(f*k)/k||0}}({x:Yt,y:_n}):{x:Yt,y:_n};return Yt=Jo.x,_n=Jo.y,Object.assign({},$i,Ie?((Kr={})[ri]=Ln?"0":"",Kr[Fi]=ii?"0":"",Kr.transform=(Xn.devicePixelRatio||1)<=1?"translate("+Yt+"px, "+_n+"px)":"translate3d("+Yt+"px, "+_n+"px, 0)",Kr):((v={})[ri]=Ln?_n+"px":"",v[Fi]=ii?Yt+"px":"",v.transform="",v))}var St=Cc({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Tc(m){var v=m.state,f=m.instance,g=m.options,k=g.scroll,F=void 0===k||k,pe=g.resize,Ae=void 0===pe||pe,Ie=Vi(v.elements.popper),Ve=[].concat(v.scrollParents.reference,v.scrollParents.popper);return F&&Ve.forEach(function(st){st.addEventListener("scroll",f.update,Sl)}),Ae&&Ie.addEventListener("resize",f.update,Sl),function(){F&&Ve.forEach(function(st){st.removeEventListener("scroll",f.update,Sl)}),Ae&&Ie.removeEventListener("resize",f.update,Sl)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Yr(m){var v=m.state;v.modifiersData[m.name]=mc({reference:v.rects.reference,element:v.rects.popper,strategy:"absolute",placement:v.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function qi(m){var v=m.state,f=m.options,g=f.gpuAcceleration,k=void 0===g||g,F=f.adaptive,pe=void 0===F||F,Ae=f.roundOffsets,Ie=void 0===Ae||Ae,st={placement:Ft(v.placement),variation:os(v.placement),popper:v.elements.popper,popperRect:v.rects.popper,gpuAcceleration:k,isFixed:"fixed"===v.options.strategy};null!=v.modifiersData.popperOffsets&&(v.styles.popper=Object.assign({},v.styles.popper,fr(Object.assign({},st,{offsets:v.modifiersData.popperOffsets,position:v.options.strategy,adaptive:pe,roundOffsets:Ie})))),null!=v.modifiersData.arrow&&(v.styles.arrow=Object.assign({},v.styles.arrow,fr(Object.assign({},st,{offsets:v.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ie})))),v.attributes.popper=Object.assign({},v.attributes.popper,{"data-popper-placement":v.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function yr(m){var v=m.state;Object.keys(v.elements).forEach(function(f){var g=v.styles[f]||{},k=v.attributes[f]||{},F=v.elements[f];!ar(F)||!wo(F)||(Object.assign(F.style,g),Object.keys(k).forEach(function(pe){var Ae=k[pe];!1===Ae?F.removeAttribute(pe):F.setAttribute(pe,!0===Ae?"":Ae)}))})},effect:function _i(m){var v=m.state,f={popper:{position:v.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(v.elements.popper.style,f.popper),v.styles=f,v.elements.arrow&&Object.assign(v.elements.arrow.style,f.arrow),function(){Object.keys(v.elements).forEach(function(g){var k=v.elements[g],F=v.attributes[g]||{},Ae=Object.keys(v.styles.hasOwnProperty(g)?v.styles[g]:f[g]).reduce(function(Ie,Ve){return Ie[Ve]="",Ie},{});!ar(k)||!wo(k)||(Object.assign(k.style,Ae),Object.keys(F).forEach(function(Ie){k.removeAttribute(Ie)}))})}},requires:["computeStyles"]}]});const Up={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Ua(m){var v=m.state,g=m.name,k=m.options.offset,F=void 0===k?[0,0]:k,pe=Pt.reduce(function(st,Nt){return st[Nt]=function Ca(m,v,f){var g=Ft(m),k=[En,Ot].indexOf(g)>=0?-1:1,F="function"==typeof f?f(Object.assign({},v,{placement:m})):f,pe=F[0],Ae=F[1];return pe=pe||0,Ae=(Ae||0)*k,[En,oi].indexOf(g)>=0?{x:Ae,y:pe}:{x:pe,y:Ae}}(Nt,v.rects,F),st},{}),Ae=pe[v.placement],Ve=Ae.y;null!=v.modifiersData.popperOffsets&&(v.modifiersData.popperOffsets.x+=Ae.x,v.modifiersData.popperOffsets.y+=Ve),v.modifiersData[g]=pe}};var ni=["*"],ft=["dialog"];function we(m){return"string"==typeof m}function Zr(m){return null!=m}function Ic(m){return(m||document.body).getBoundingClientRect()}var qa=function(){},Nl=new Map,io=function(v,f,g,k){var F=k.context||{},pe=Nl.get(f);if(pe)switch(k.runningTransition){case"continue":return _e.E;case"stop":v.run(function(){return pe.transition$.complete()}),F=Object.assign(pe.context,F),Nl.delete(f)}var Ae=g(f,k.animation,F)||qa;if(!k.animation||"none"===window.getComputedStyle(f).transitionProperty)return v.run(function(){return Ae()}),(0,j.of)(void 0).pipe(function $n(m){return function(v){return new H.y(function(f){return v.subscribe({next:function(Ae){return m.run(function(){return f.next(Ae)})},error:function(Ae){return m.run(function(){return f.error(Ae)})},complete:function(){return m.run(function(){return f.complete()})}})})}}(v));var Ie=new Ce.x,Ve=new Ce.x,st=Ie.pipe(function K(){for(var m=arguments.length,v=new Array(m),f=0;f<m;f++)v[f]=arguments[f];return function(g){return(0,te.z)(g,j.of.apply(void 0,v))}}(!0));Nl.set(f,{transition$:Ie,complete:function(){Ve.next(),Ve.complete()},context:F});var Nt=function rm(m){var v=window.getComputedStyle(m),g=v.transitionDuration;return 1e3*(parseFloat(v.transitionDelay)+parseFloat(g))}(f);return v.runOutsideAngular(function(){var Ut=(0,ue.R)(f,"transitionend").pipe((0,I.R)(st),(0,M.h)(function(zt){return zt.target===f}));S((0,z.H)(Nt+5).pipe((0,I.R)(st)),Ut,Ve).pipe((0,I.R)(st)).subscribe(function(){Nl.delete(f),v.run(function(){Ae(),Ie.next(),Ie.complete()})})}),Ie.asObservable()},Rl=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v),this.animation=true});return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m}(),$p=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),hs=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),Au=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),Fl=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({}),m}(),Tr=function(){return(m=Tr||(Tr={}))[m.Tab=9]="Tab",m[m.Enter=13]="Enter",m[m.Escape=27]="Escape",m[m.Space=32]="Space",m[m.PageUp=33]="PageUp",m[m.PageDown=34]="PageDown",m[m.End=35]="End",m[m.Home=36]="Home",m[m.ArrowLeft=37]="ArrowLeft",m[m.ArrowUp=38]="ArrowUp",m[m.ArrowRight=39]="ArrowRight",m[m.ArrowDown=40]="ArrowDown",Tr;var m}(),Zl=function(v,f){return!!f&&f.some(function(g){return g.contains(v)})},Ou=function(v,f){return!f||null!=function Hs(m,v){return v&&void 0!==m.closest?m.closest(v):null}(v,f)},cf="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Zc(m,v,f,g,k,F,pe,Ae){f&&m.runOutsideAngular(function(v){return cf?function(){return setTimeout(function(){return v()},100)}:v}(function(){var Ve=(0,ue.R)(v,"keydown").pipe((0,I.R)(k),(0,M.h)(function(Ut){return Ut.which===Tr.Escape}),(0,ke.b)(function(Ut){return Ut.preventDefault()})),st=(0,ue.R)(v,"mousedown").pipe((0,L.U)(function(Yt){var zt=Yt.target;return 2!==Yt.button&&!Zl(zt,pe)&&("inside"===f?Zl(zt,F)&&Ou(zt,Ae):"outside"===f?!Zl(zt,F):Ou(zt,Ae)||!Zl(zt,F))}),(0,I.R)(k)),Nt=(0,ue.R)(v,"mouseup").pipe(je(st),(0,M.h)(function(Ut){return(0,_.Z)(Ut,2)[1]}),(0,ot.g)(0),(0,I.R)(k));S([Ve.pipe((0,L.U)(function(Ut){return 0})),Nt.pipe((0,L.U)(function(Ut){return 1}))]).subscribe(function(Ut){return m.run(function(){return g(Ut)})})}))}var uf=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Pu(m){var v=Array.from(m.querySelectorAll(uf)).filter(function(f){return-1!==f.tabIndex});return[v[0],v[v.length-1]]}var vm=/\s+/,ff=/  +/gi,bm={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},hf=/^left/,Iu=/^right/,ym=/^start/,Nu=/^end/;function mf(m,v){var f=m.placement,g=m.baseClass,k=Array.isArray(f)?f:f.split(vm),pe=k.findIndex(function(st){return"auto"===st});pe>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(st){null==k.find(function(Nt){return-1!==Nt.search("^"+st)})&&k.splice(pe++,1,st)});var Ae=k.map(function(st){return function Eu(m,v){var f=(0,_.Z)(bm[m],2);return v&&f[1]||f[0]}(st,v.isRTL())}),Ie=Ae.shift(),Ve={name:"bootstrapClasses",enabled:!!g,phase:"write",fn:function(Nt){var Ut=Nt.state,Yt=new RegExp(g+"(-[a-z]+)*","gi"),zt=Ut.elements.popper,_n=Ut.placement,vn=zt.className;vn=vn.replace(Yt,""),vn+=" ".concat(function Yn(m,v){var f=v.split("-"),g=(0,_.Z)(f,2),k=g[0],F=g[1],pe=k.replace(hf,"start").replace(Iu,"end"),Ae=[pe];if(F){var Ie=F;("left"===k||"right"===k)&&(Ie=Ie.replace(ym,"top").replace(Nu,"bottom")),Ae.push("".concat(pe,"-").concat(Ie))}return m&&(Ae=Ae.map(function(Ve){return"".concat(m,"-").concat(Ve)})),Ae.join(" ")}(g,_n)),vn=vn.trim().replace(ff," "),zt.className=vn}};return{placement:Ie,modifiers:[Ve,vd,wl,ss,{enabled:!0,name:"flip",options:{fallbackPlacements:Ae}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Aa(m){return m}function Ma(m){var v=null;return{createPopper:function(g){if(!v){var F=(g.updatePopperOptions||Aa)(mf(g,m));v=St(g.hostElement,g.targetElement,F)}},update:function(){v&&v.update()},setOptions:function(g){if(v){var F=(g.updatePopperOptions||Aa)(mf(g,m));v.setOptions(F)}},destroy:function(){v&&(v.destroy(),v=null)}}}var Lc=function(){var m=function(){function v(f){(0,ge.Z)(this,v),this._element=f.documentElement}return(0,N.Z)(v,[{key:"isRTL",value:function(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.LFG(ie.K0))},m.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m}();new Date(1882,10,12),new Date(2174,10,25);var el=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez,Mt.u5]}),m}(),W=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=function(f){return f}});return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m}(),qc=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275dir=b.lG2({type:m,selectors:[["",8,"navbar"]]}),m}(),wt=function(){var m=function(){function v(f,g){(0,ge.Z)(this,v),this.elementRef=f,this._renderer=g,this._disabled=!1}return(0,N.Z)(v,[{key:"disabled",get:function(){return this._disabled},set:function(g){this._disabled=""===g||!0===g,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.Y36(b.SBq),b.Y36(b.Qsj))},m.\u0275dir=b.lG2({type:m,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(f,g){2&f&&(b.Ikx("tabIndex",g.disabled?-1:0),b.ekj("disabled",g.disabled))},inputs:{disabled:"disabled"}}),m}(),Mo=function(){var m=(0,N.Z)(function v(f,g){(0,ge.Z)(this,v),this.dropdown=f,this.placement="bottom",this.isOpen=!1,this.nativeElement=g.nativeElement});return m.\u0275fac=function(f){return new(f||m)(b.Y36((0,b.Gpc)(function(){return rr})),b.Y36(b.SBq))},m.\u0275dir=b.lG2({type:m,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(f,g,k){var F;1&f&&b.Suo(k,wt,4),2&f&&b.iGM(F=b.CRH())&&(g.menuItems=F)},hostVars:4,hostBindings:function(f,g){1&f&&b.NdJ("keydown.ArrowUp",function(F){return g.dropdown.onKeyDown(F)})("keydown.ArrowDown",function(F){return g.dropdown.onKeyDown(F)})("keydown.Home",function(F){return g.dropdown.onKeyDown(F)})("keydown.End",function(F){return g.dropdown.onKeyDown(F)})("keydown.Enter",function(F){return g.dropdown.onKeyDown(F)})("keydown.Space",function(F){return g.dropdown.onKeyDown(F)})("keydown.Tab",function(F){return g.dropdown.onKeyDown(F)})("keydown.Shift.Tab",function(F){return g.dropdown.onKeyDown(F)}),2&f&&b.ekj("dropdown-menu",!0)("show",g.dropdown.isOpen())}}),m}(),sn=function(){var m=(0,N.Z)(function v(f,g){(0,ge.Z)(this,v),this.dropdown=f,this.nativeElement=g.nativeElement});return m.\u0275fac=function(f){return new(f||m)(b.Y36((0,b.Gpc)(function(){return rr})),b.Y36(b.SBq))},m.\u0275dir=b.lG2({type:m,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(f,g){2&f&&b.uIk("aria-expanded",g.dropdown.isOpen())}}),m}(),On=function(){var m=function(v){(0,D.Z)(g,v);var f=(0,E.Z)(g);function g(k,F){return(0,ge.Z)(this,g),f.call(this,k,F)}return(0,N.Z)(g)}(sn);return m.\u0275fac=function(f){return new(f||m)(b.Y36((0,b.Gpc)(function(){return rr})),b.Y36(b.SBq))},m.\u0275dir=b.lG2({type:m,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(f,g){1&f&&b.NdJ("click",function(){return g.dropdown.toggle()})("keydown.ArrowUp",function(F){return g.dropdown.onKeyDown(F)})("keydown.ArrowDown",function(F){return g.dropdown.onKeyDown(F)})("keydown.Home",function(F){return g.dropdown.onKeyDown(F)})("keydown.End",function(F){return g.dropdown.onKeyDown(F)})("keydown.Tab",function(F){return g.dropdown.onKeyDown(F)})("keydown.Shift.Tab",function(F){return g.dropdown.onKeyDown(F)}),2&f&&b.uIk("aria-expanded",g.dropdown.isOpen())},features:[b._Bn([{provide:sn,useExisting:(0,b.Gpc)(function(){return m})}]),b.qOj]}),m}(),rr=function(){var m=function(){function v(f,g,k,F,pe,Ae,Ie,Ve){(0,ge.Z)(this,v),this._changeDetector=f,this._document=F,this._ngZone=pe,this._elementRef=Ae,this._renderer=Ie,this._destroyCloseHandlers$=new Ce.x,this._bodyContainer=null,this._open=!1,this.openChange=new b.vpe,this.placement=k.placement,this.popperOptions=k.popperOptions,this.container=k.container,this.autoClose=k.autoClose,this._positioning=Ma(g),this.display=Ve?"static":"dynamic"}return(0,N.Z)(v,[{key:"ngAfterContentInit",value:function(){var g=this;this._ngZone.onStable.pipe((0,Q.q)(1)).subscribe(function(){g._applyPlacementClasses(),g._open&&g._setCloseHandlers()})}},{key:"ngOnChanges",value:function(g){if(g.container&&this._open&&this._applyContainer(this.container),g.placement&&!g.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),g.dropdownClass){var k=g.dropdownClass;this._applyCustomDropdownClass(k.currentValue,k.previousValue)}g.autoClose&&this._open&&(this.autoClose=g.autoClose.currentValue,this._setCloseHandlers())}},{key:"isOpen",value:function(){return this._open}},{key:"open",value:function(){var g=this;this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(function(){g._positioning.createPopper({hostElement:g._anchor.nativeElement,targetElement:g._bodyContainer||g._menu.nativeElement,placement:g.placement,appendToBody:"body"===g.container,updatePopperOptions:function(F){return g.popperOptions(function _f(m){return function(v){return v.modifiers.push(Up,{name:"offset",options:{offset:function(){return m}}}),v}}([0,2])(F))}}),g._applyPlacementClasses(),g._zoneSubscription=g._ngZone.onStable.subscribe(function(){return g._positionMenu()})})))}},{key:"_setCloseHandlers",value:function(){var g=this;this._destroyCloseHandlers$.next(),Zc(this._ngZone,this._document,this.autoClose,function(k){g.close(),0===k&&g._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}},{key:"close",value:function(){var g;this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),null===(g=this._zoneSubscription)||void 0===g||g.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"ngOnDestroy",value:function(){this.close()}},{key:"onKeyDown",value:function(g){var k=this,F=g.which,pe=this._getMenuElements(),Ae=-1,Ie=null,Ve=this._isEventFromToggle(g);if(!Ve&&pe.length&&pe.forEach(function(Nt,Ut){Nt.contains(g.target)&&(Ie=Nt),Nt===k._document.activeElement&&(Ae=Ut)}),F!==Tr.Space&&F!==Tr.Enter){if(F!==Tr.Tab){if(Ve||Ie){if(this.open(),pe.length){switch(F){case Tr.ArrowDown:Ae=Math.min(Ae+1,pe.length-1);break;case Tr.ArrowUp:if(this._isDropup()&&-1===Ae){Ae=pe.length-1;break}Ae=Math.max(Ae-1,0);break;case Tr.Home:Ae=0;break;case Tr.End:Ae=pe.length-1}pe[Ae].focus()}g.preventDefault()}}else if(g.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===g.target)return void("body"!==this.container||g.shiftKey?g.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){var st=this._menu.nativeElement.querySelectorAll(uf);g.shiftKey&&g.target===st[0]?(this._anchor.nativeElement.focus(),g.preventDefault()):!g.shiftKey&&g.target===st[st.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,ue.R)(g.target,"focusout").pipe((0,Q.q)(1)).subscribe(function(Nt){k._elementRef.nativeElement.contains(Nt.relatedTarget)||k.close()})}}else Ie&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,ue.R)(Ie,"click").pipe((0,Q.q)(1)).subscribe(function(){return k.close()})}},{key:"_isDropup",value:function(){return this._elementRef.nativeElement.classList.contains("dropup")}},{key:"_isEventFromToggle",value:function(g){return this._anchor.nativeElement.contains(g.target)}},{key:"_getMenuElements",value:function(){var g=this._menu;return null==g?[]:g.menuItems.filter(function(k){return!k.disabled}).map(function(k){return k.elementRef.nativeElement})}},{key:"_positionMenu",value:function(){var g=this._menu;this.isOpen()&&g&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}},{key:"_getFirstPlacement",value:function(g){return Array.isArray(g)?g[0]:g.split(" ")[0]}},{key:"_resetContainer",value:function(){var g=this._renderer;this._menu&&g.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(g.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}},{key:"_applyContainer",value:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._resetContainer(),"body"===g){var k=this._renderer,F=this._menu.nativeElement,pe=this._bodyContainer=this._bodyContainer||k.createElement("div");k.setStyle(pe,"position","absolute"),k.setStyle(F,"position","static"),k.setStyle(pe,"z-index","1055"),k.appendChild(pe,F),k.appendChild(this._document.body,pe)}this._applyCustomDropdownClass(this.dropdownClass)}},{key:"_applyCustomDropdownClass",value:function(g,k){var F="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;F&&(k&&this._renderer.removeClass(F,k),g&&this._renderer.addClass(F,g))}},{key:"_applyPlacementClasses",value:function(g){var k=this._menu;if(k){g||(g=this._getFirstPlacement(this.placement));var F=this._renderer,pe=this._elementRef.nativeElement;F.removeClass(pe,"dropup"),F.removeClass(pe,"dropdown");var Ae=k.nativeElement;"static"===this.display?(k.placement=null,F.setAttribute(Ae,"data-bs-popper","static")):(k.placement=g,F.removeAttribute(Ae,"data-bs-popper"));var Ie=-1!==g.search("^top")?"dropup":"dropdown";F.addClass(pe,Ie);var Ve=this._bodyContainer;Ve&&(F.removeClass(Ve,"dropup"),F.removeClass(Ve,"dropdown"),F.addClass(Ve,Ie))}}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.Y36(b.sBO),b.Y36(Lc),b.Y36(W),b.Y36(ie.K0),b.Y36(b.R0b),b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(qc,8))},m.\u0275dir=b.lG2({type:m,selectors:[["","ngbDropdown",""]],contentQueries:function(f,g,k){var F;1&f&&(b.Suo(k,Mo,5),b.Suo(k,sn,5)),2&f&&(b.iGM(F=b.CRH())&&(g._menu=F.first),b.iGM(F=b.CRH())&&(g._anchor=F.first))},hostVars:2,hostBindings:function(f,g){2&f&&b.ekj("show",g.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[b.TTD]}),m}(),qu=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({}),m}(),Ga=(0,N.Z)(function m(v,f,g){(0,ge.Z)(this,m),this.nodes=v,this.viewRef=f,this.componentRef=g}),Sf=function(){function m(v,f,g,k,F,pe){(0,ge.Z)(this,m),this._componentType=v,this._injector=f,this._viewContainerRef=g,this._renderer=k,this._ngZone=F,this._applicationRef=pe,this._windowRef=null,this._contentRef=null}return(0,N.Z)(m,[{key:"open",value:function(f,g){var k=this,F=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._windowRef||(this._contentRef=this._getContentRef(f,g),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));var pe=this._windowRef.location.nativeElement,Ae=this._ngZone.onStable.pipe((0,Q.q)(1),(0,it.z)(function(){return io(k._ngZone,pe,function(Ie){return Ie.classList.add("show")},{animation:F,runningTransition:"continue"})}));return{windowRef:this._windowRef,transition$:Ae}}},{key:"close",value:function(){var f=this,g=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._windowRef?io(this._ngZone,this._windowRef.location.nativeElement,function(k){return k.classList.remove("show")},{animation:g,runningTransition:"stop"}).pipe((0,ke.b)(function(){var k;f._windowRef&&(f._viewContainerRef.remove(f._viewContainerRef.indexOf(f._windowRef.hostView)),f._windowRef=null),null!==(k=f._contentRef)&&void 0!==k&&k.viewRef&&(f._applicationRef.detachView(f._contentRef.viewRef),f._contentRef.viewRef.destroy(),f._contentRef=null)})):(0,j.of)(void 0)}},{key:"_getContentRef",value:function(f,g){if(f){if(f instanceof b.Rgc){var k=f.createEmbeddedView(g);return this._applicationRef.attachView(k),new Ga([k.rootNodes],k)}return new Ga([[this._renderer.createText("".concat(f))]])}return new Ga([])}}]),m}(),zr=function(){var m=function(){function v(f,g){(0,ge.Z)(this,v),this._el=f,this._zone=g}return(0,N.Z)(v,[{key:"ngOnInit",value:function(){var g=this;this._zone.onStable.asObservable().pipe((0,Q.q)(1)).subscribe(function(){io(g._zone,g._el.nativeElement,function(k,F){F&&Ic(k),k.classList.add("show")},{animation:g.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return io(this._zone,this._el.nativeElement,function(g){return g.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.Y36(b.SBq),b.Y36(b.R0b))},m.\u0275cmp=b.Xpm({type:m,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(f,g){2&f&&(b.Tol("modal-backdrop"+(g.backdropClass?" "+g.backdropClass:"")),b.ekj("show",!g.animation)("fade",g.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(f,g){},encapsulation:2}),m}(),kf=function(){function m(){(0,ge.Z)(this,m)}return(0,N.Z)(m,[{key:"close",value:function(f){}},{key:"dismiss",value:function(f){}}]),m}(),Lm=function(){function m(v,f,g,k){var F=this;(0,ge.Z)(this,m),this._windowCmptRef=v,this._contentRef=f,this._backdropCmptRef=g,this._beforeDismiss=k,this._closed=new Ce.x,this._dismissed=new Ce.x,this._hidden=new Ce.x,v.instance.dismissEvent.subscribe(function(pe){F.dismiss(pe)}),this.result=new Promise(function(pe,Ae){F._resolve=pe,F._reject=Ae}),this.result.then(null,function(){})}return(0,N.Z)(m,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe((0,I.R)(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe((0,I.R)(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}},{key:"_dismiss",value:function(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}},{key:"dismiss",value:function(f){var g=this;if(this._windowCmptRef)if(this._beforeDismiss){var k=this._beforeDismiss();!function Kn(m){return m&&m.then}(k)?!1!==k&&this._dismiss(f):k.then(function(F){!1!==F&&g._dismiss(f)},function(){})}else this._dismiss(f)}},{key:"_removeModalElements",value:function(){var f=this,g=this._windowCmptRef.instance.hide(),k=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,j.of)(void 0);g.subscribe(function(){var F=f._windowCmptRef.location.nativeElement;F.parentNode.removeChild(F),f._windowCmptRef.destroy(),f._contentRef&&f._contentRef.viewRef&&f._contentRef.viewRef.destroy(),f._windowCmptRef=null,f._contentRef=null}),k.subscribe(function(){if(f._backdropCmptRef){var F=f._backdropCmptRef.location.nativeElement;F.parentNode.removeChild(F),f._backdropCmptRef.destroy(),f._backdropCmptRef=null}}),B(g,k).subscribe(function(){f._hidden.next(),f._hidden.complete()})}}]),m}(),Hl=function(){return(m=Hl||(Hl={}))[m.BACKDROP_CLICK=0]="BACKDROP_CLICK",m[m.ESC=1]="ESC",Hl;var m}(),Um=function(){var m=function(){function v(f,g,k){(0,ge.Z)(this,v),this._document=f,this._elRef=g,this._zone=k,this._closed$=new Ce.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new b.vpe,this.shown=new Ce.x,this.hidden=new Ce.x}return(0,N.Z)(v,[{key:"fullscreenClass",get:function(){return!0===this.fullscreen?" modal-fullscreen":we(this.fullscreen)?" modal-fullscreen-".concat(this.fullscreen,"-down"):""}},{key:"dismiss",value:function(g){this.dismissEvent.emit(g)}},{key:"ngOnInit",value:function(){var g=this;this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Q.q)(1)).subscribe(function(){g._show()})}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var g=this,k=this._elRef.nativeElement,F={animation:this.animation,runningTransition:"stop"},Ie=B(io(this._zone,k,function(){return k.classList.remove("show")},F),io(this._zone,this._dialogEl.nativeElement,function(){},F));return Ie.subscribe(function(){g.hidden.next(),g.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Ie}},{key:"_show",value:function(){var g=this,k={animation:this.animation,runningTransition:"continue"};B(io(this._zone,this._elRef.nativeElement,function(Ae,Ie){Ie&&Ic(Ae),Ae.classList.add("show")},k),io(this._zone,this._dialogEl.nativeElement,function(){},k)).subscribe(function(){g.shown.next(),g.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var g=this,k=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){(0,ue.R)(k,"keydown").pipe((0,I.R)(g._closed$),(0,M.h)(function(pe){return pe.which===Tr.Escape})).subscribe(function(pe){g.keyboard?requestAnimationFrame(function(){pe.defaultPrevented||g._zone.run(function(){return g.dismiss(Hl.ESC)})}):"static"===g.backdrop&&g._bumpBackdrop()});var F=!1;(0,ue.R)(g._dialogEl.nativeElement,"mousedown").pipe((0,I.R)(g._closed$),(0,ke.b)(function(){return F=!1}),(0,Oe.w)(function(){return(0,ue.R)(k,"mouseup").pipe((0,I.R)(g._closed$),(0,Q.q)(1))}),(0,M.h)(function(pe){return k===pe.target})).subscribe(function(){F=!0}),(0,ue.R)(k,"click").pipe((0,I.R)(g._closed$)).subscribe(function(pe){k===pe.target&&("static"===g.backdrop?g._bumpBackdrop():!0===g.backdrop&&!F&&g._zone.run(function(){return g.dismiss(Hl.BACKDROP_CLICK)})),F=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var g=this._elRef.nativeElement;if(!g.contains(document.activeElement)){var k=g.querySelector("[ngbAutofocus]"),F=Pu(g)[0];(k||F||g).focus()}}},{key:"_restoreFocus",value:function(){var pe,g=this,k=this._document.body,F=this._elWithFocus;pe=F&&F.focus&&k.contains(F)?F:k,this._zone.runOutsideAngular(function(){setTimeout(function(){return pe.focus()}),g._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&io(this._zone,this._elRef.nativeElement,function(g){var k=g.classList;return k.add("modal-static"),function(){return k.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.Y36(ie.K0),b.Y36(b.SBq),b.Y36(b.R0b))},m.\u0275cmp=b.Xpm({type:m,selectors:[["ngb-modal-window"]],viewQuery:function(f,g){var k;1&f&&b.Gf(ft,7),2&f&&b.iGM(k=b.CRH())&&(g._dialogEl=k.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(f,g){2&f&&(b.uIk("aria-modal",!0)("aria-labelledby",g.ariaLabelledBy)("aria-describedby",g.ariaDescribedBy),b.Tol("modal d-block"+(g.windowClass?" "+g.windowClass:"")),b.ekj("fade",g.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ni,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(f,g){1&f&&(b.F$t(),b.TgZ(0,"div",0,1)(2,"div",2),b.Hsn(3),b.qZA()()),2&f&&b.Tol("modal-dialog"+(g.size?" modal-"+g.size:"")+(g.centered?" modal-dialog-centered":"")+g.fullscreenClass+(g.scrollable?" modal-dialog-scrollable":"")+(g.modalDialogClass?" "+g.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),m}(),Af=function(){var m=function(){function v(f){(0,ge.Z)(this,v),this._document=f}return(0,N.Z)(v,[{key:"hide",value:function(){var g=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),k=this._document.body,F=k.style,pe=F.overflow,Ae=F.paddingRight;if(g>0){var Ie=parseFloat(window.getComputedStyle(k).paddingRight);F.paddingRight="".concat(Ie+g,"px")}return F.overflow="hidden",function(){g>0&&(F.paddingRight=Ae),F.overflow=pe}}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.LFG(ie.K0))},m.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m}(),jm=function(){var m=function(){function v(f,g,k,F,pe,Ae){var Ie=this;(0,ge.Z)(this,v),this._applicationRef=f,this._injector=g,this._document=k,this._scrollBar=F,this._rendererFactory=pe,this._ngZone=Ae,this._activeWindowCmptHasChanged=new Ce.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new b.vpe,this._activeWindowCmptHasChanged.subscribe(function(){if(Ie._windowCmpts.length){var Ve=Ie._windowCmpts[Ie._windowCmpts.length-1];(function(v,f,g){var k=arguments.length>3&&void 0!==arguments[3]&&arguments[3];v.runOutsideAngular(function(){var F=(0,ue.R)(f,"focusin").pipe((0,I.R)(g),(0,L.U)(function(pe){return pe.target}));(0,ue.R)(f,"keydown").pipe((0,I.R)(g),(0,M.h)(function(pe){return pe.which===Tr.Tab}),je(F)).subscribe(function(pe){var Ae=(0,_.Z)(pe,2),Ie=Ae[0],Ve=Ae[1],st=Pu(f),Nt=(0,_.Z)(st,2),Ut=Nt[0],Yt=Nt[1];(Ve===Ut||Ve===f)&&Ie.shiftKey&&(Yt.focus(),Ie.preventDefault()),Ve===Yt&&!Ie.shiftKey&&(Ut.focus(),Ie.preventDefault())}),k&&(0,ue.R)(f,"click").pipe((0,I.R)(g),je(F),(0,L.U)(function(pe){return pe[1]})).subscribe(function(pe){return pe.focus()})})})(Ie._ngZone,Ve.location.nativeElement,Ie._activeWindowCmptHasChanged),Ie._revertAriaHidden(),Ie._setAriaHidden(Ve.location.nativeElement)}})}return(0,N.Z)(v,[{key:"_restoreScrollBar",value:function(){var g=this._scrollBarRestoreFn;g&&(this._scrollBarRestoreFn=null,g())}},{key:"_hideScrollBar",value:function(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}},{key:"open",value:function(g,k,F){var pe=this,Ae=F.container instanceof HTMLElement?F.container:Zr(F.container)?this._document.querySelector(F.container):this._document.body,Ie=this._rendererFactory.createRenderer(null,null);if(!Ae)throw new Error('The specified modal container "'.concat(F.container||"body",'" was not found in the DOM.'));this._hideScrollBar();var Ve=new kf,st=this._getContentRef(F.injector||g,k,Ve,F),Nt=!1!==F.backdrop?this._attachBackdrop(Ae):void 0,Ut=this._attachWindowComponent(Ae,st.nodes),Yt=new Lm(Ut,st,Nt,F.beforeDismiss);return this._registerModalRef(Yt),this._registerWindowCmpt(Ut),Yt.hidden.pipe((0,Q.q)(1)).subscribe(function(){return Promise.resolve(!0).then(function(){pe._modalRefs.length||(Ie.removeClass(pe._document.body,"modal-open"),pe._restoreScrollBar(),pe._revertAriaHidden())})}),Ve.close=function(zt){Yt.close(zt)},Ve.dismiss=function(zt){Yt.dismiss(zt)},this._applyWindowOptions(Ut.instance,F),1===this._modalRefs.length&&Ie.addClass(this._document.body,"modal-open"),Nt&&Nt.instance&&(this._applyBackdropOptions(Nt.instance,F),Nt.changeDetectorRef.detectChanges()),Ut.changeDetectorRef.detectChanges(),Yt}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(g){this._modalRefs.forEach(function(k){return k.dismiss(g)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(g){var k=(0,b.LMc)(zr,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(k.hostView),g.appendChild(k.location.nativeElement),k}},{key:"_attachWindowComponent",value:function(g,k){var F=(0,b.LMc)(Um,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:k});return this._applicationRef.attachView(F.hostView),g.appendChild(F.location.nativeElement),F}},{key:"_applyWindowOptions",value:function(g,k){this._windowAttributes.forEach(function(F){Zr(k[F])&&(g[F]=k[F])})}},{key:"_applyBackdropOptions",value:function(g,k){this._backdropAttributes.forEach(function(F){Zr(k[F])&&(g[F]=k[F])})}},{key:"_getContentRef",value:function(g,k,F,pe){return k?k instanceof b.Rgc?this._createFromTemplateRef(k,F):we(k)?this._createFromString(k):this._createFromComponent(g,k,F,pe):new Ga([])}},{key:"_createFromTemplateRef",value:function(g,k){var pe=g.createEmbeddedView({$implicit:k,close:function(Ie){k.close(Ie)},dismiss:function(Ie){k.dismiss(Ie)}});return this._applicationRef.attachView(pe),new Ga([pe.rootNodes],pe)}},{key:"_createFromString",value:function(g){var k=this._document.createTextNode("".concat(g));return new Ga([[k]])}},{key:"_createFromComponent",value:function(g,k,F,pe){var Ae=b.zs3.create({providers:[{provide:kf,useValue:F}],parent:g}),Ie=(0,b.LMc)(k,{environmentInjector:this._applicationRef.injector,elementInjector:Ae}),Ve=Ie.location.nativeElement;return pe.scrollable&&Ve.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ie.hostView),new Ga([[Ve]],Ie.hostView,Ie)}},{key:"_setAriaHidden",value:function(g){var k=this,F=g.parentElement;F&&g!==this._document.body&&(Array.from(F.children).forEach(function(pe){pe!==g&&"SCRIPT"!==pe.nodeName&&(k._ariaHiddenValues.set(pe,pe.getAttribute("aria-hidden")),pe.setAttribute("aria-hidden","true"))}),this._setAriaHidden(F))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(g,k){g?k.setAttribute("aria-hidden",g):k.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(g){var k=this,F=function(){var Ae=k._modalRefs.indexOf(g);Ae>-1&&(k._modalRefs.splice(Ae,1),k._activeInstances.emit(k._modalRefs))};this._modalRefs.push(g),this._activeInstances.emit(this._modalRefs),g.result.then(F,F)}},{key:"_registerWindowCmpt",value:function(g){var k=this;this._windowCmpts.push(g),this._activeWindowCmptHasChanged.next(),g.onDestroy(function(){var F=k._windowCmpts.indexOf(g);F>-1&&(k._windowCmpts.splice(F,1),k._activeWindowCmptHasChanged.next())})}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.LFG(b.z2F),b.LFG(b.zs3),b.LFG(ie.K0),b.LFG(Af),b.LFG(b.FYo),b.LFG(b.R0b))},m.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m}(),Ju=function(){var m=function(){function v(f){(0,ge.Z)(this,v),this._ngbConfig=f,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}return(0,N.Z)(v,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(g){this._animation=g}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.LFG(Rl))},m.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m}(),mo=function(){var m=function(){function v(f,g,k){(0,ge.Z)(this,v),this._injector=f,this._modalStack=g,this._config=k}return(0,N.Z)(v,[{key:"open",value:function(g){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),k);return this._modalStack.open(this._injector,g,F)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(g){this._modalStack.dismissAll(g)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.LFG(b.zs3),b.LFG(jm),b.LFG(Ju))},m.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m}(),Ea=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({providers:[mo]}),m}(),Pf=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),Ku=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),Yo=function(){function m(v,f){(0,ge.Z)(this,m),this.open=v,this.close=f,f||(this.close=v)}return(0,N.Z)(m,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),m}(),Lr={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function Jm(m){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lr,f=(m||"").trim();if(0===f.length)return[];var g=f.split(/\s+/).map(function(F){return F.split(":")}).map(function(F){var pe=v[F[0]]||F;return new Yo(pe[0],pe[1])}),k=g.filter(function(F){return F.isManual()});if(k.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===k.length&&g.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return g}function Nf(m,v,f,g){return new H.y(function(k){var F=[],pe=function(){return k.next(!0)},Ae=function(){return k.next(!1)},Ie=function(){return k.next(!g())};return f.forEach(function(Ve){Ve.open===Ve.close?F.push(m.listen(v,Ve.open,Ie)):F.push(m.listen(v,Ve.open,pe),m.listen(v,Ve.close,Ae))}),function(){F.forEach(function(Ve){return Ve()})}})}var Rf=function(v){return v>0?(0,ot.g)(v):function(f){return f}};function Hm(m,v,f){return function(g){var k=null,F=g.pipe((0,L.U)(function(Ie){return{open:Ie}}),(0,M.h)(function(Ie){var Ve=f();return Ve===Ie.open||k&&k.open!==Ve?(k&&k.open!==Ie.open&&(k=null),!1):(k=Ie,!0)}),(0,Ze.B)()),pe=F.pipe((0,M.h)(function(Ie){return Ie.open}),Rf(m)),Ae=F.pipe((0,M.h)(function(Ie){return!Ie.open}),Rf(v));return(0,ee.T)(pe,Ae).pipe((0,M.h)(function(Ie){return Ie===k&&(k=null,Ie.open!==f())}),(0,L.U)(function(Ie){return Ie.open}))}}var Ff=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),Zf=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),Jc=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),Oo=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),jf=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),$m=function(){var m=function(){function v(f){(0,ge.Z)(this,v),this._ngbConfig=f,this.autoClose=!0,this.placement="auto",this.popperOptions=function(g){return g},this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}return(0,N.Z)(v,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(g){this._animation=g}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.LFG(Rl))},m.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m}(),Xm=0,$u=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275cmp=b.Xpm({type:m,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(f,g){2&f&&(b.Ikx("id",g.id),b.Tol("tooltip"+(g.tooltipClass?" "+g.tooltipClass:"")),b.ekj("fade",g.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:ni,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(f,g){1&f&&(b.F$t(),b._UZ(0,"div",0),b.TgZ(1,"div",1),b.Hsn(2),b.qZA())},encapsulation:2,changeDetection:0}),m}(),eg=function(){var m=function(){function v(f,g,k,F,pe,Ae,Ie,Ve,st,Nt){(0,ge.Z)(this,v),this._elementRef=f,this._renderer=k,this._ngZone=Ie,this._document=Ve,this._changeDetector=st,this.shown=new b.vpe,this.hidden=new b.vpe,this._ngbTooltipWindowId="ngb-tooltip-".concat(Xm++),this._windowRef=null,this.animation=Ae.animation,this.autoClose=Ae.autoClose,this.placement=Ae.placement,this.popperOptions=Ae.popperOptions,this.triggers=Ae.triggers,this.container=Ae.container,this.disableTooltip=Ae.disableTooltip,this.tooltipClass=Ae.tooltipClass,this.openDelay=Ae.openDelay,this.closeDelay=Ae.closeDelay,this._popupService=new Sf($u,F,pe,k,this._ngZone,Nt),this._positioning=Ma(g)}return(0,N.Z)(v,[{key:"ngbTooltip",get:function(){return this._ngbTooltip},set:function(g){this._ngbTooltip=g,!g&&this._windowRef&&this.close()}},{key:"open",value:function(g){var k=this;if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){var F=this._popupService.open(this._ngbTooltip,g,this.animation),Ae=F.transition$;this._windowRef=F.windowRef,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(function(){k._positioning.createPopper({hostElement:k._getPositionTargetElement(),targetElement:k._windowRef.location.nativeElement,placement:k.placement,appendToBody:"body"===k.container,baseClass:"bs-tooltip",updatePopperOptions:function(Ve){return k.popperOptions(Ve)}}),Promise.resolve().then(function(){k._positioning.update(),k._zoneSubscription=k._ngZone.onStable.subscribe(function(){return k._positioning.update()})})}),Zc(this._ngZone,this._document,this.autoClose,function(){return k.close()},this.hidden,[this._windowRef.location.nativeElement]),Ae.subscribe(function(){return k.shown.emit()})}}},{key:"close",value:function(){var g=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.animation;null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(k).subscribe(function(){var F;g._windowRef=null,g._positioning.destroy(),null===(F=g._zoneSubscription)||void 0===F||F.unsubscribe(),g.hidden.emit(),g._changeDetector.markForCheck()}))}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=function Bm(m,v,f,g,k,F){var pe=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,Ae=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,Ie=Jm(f);if(1===Ie.length&&Ie[0].isManual())return function(){};var Ve=Nf(m,v,Ie,g).pipe(Hm(pe,Ae,g)).subscribe(function(st){return st?k():F()});return function(){return Ve.unsubscribe()}}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(g){var k=g.tooltipClass;k&&this.isOpen()&&(this._windowRef.instance.tooltipClass=k.currentValue)}},{key:"ngOnDestroy",value:function(){var g;this.close(!1),null===(g=this._unregisterListenersFn)||void 0===g||g.call(this)}},{key:"_getPositionTargetElement",value:function(){return(we(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}}]),v}();return m.\u0275fac=function(f){return new(f||m)(b.Y36(b.SBq),b.Y36(Lc),b.Y36(b.Qsj),b.Y36(b.zs3),b.Y36(b.s_b),b.Y36($m),b.Y36(b.R0b),b.Y36(ie.K0),b.Y36(b.sBO),b.Y36(b.z2F))},m.\u0275dir=b.lG2({type:m,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[b.TTD]}),m}(),Yf=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({}),m}();new b.OlP("live announcer delay",{providedIn:"root",factory:function qf(){return 100}});var Jf=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[ie.ez]}),m}(),Rd=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({}),m}(),Hf=[$p,hs,Au,Fl,el,qu,Ea,Pf,Rd,Ku,Ff,Zf,Jc,Oo,jf,Yf,Jf],ng=function(){var m=(0,N.Z)(function v(){(0,ge.Z)(this,v)});return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=b.oAB({type:m}),m.\u0275inj=b.cJS({imports:[Hf,$p,hs,Au,Fl,el,qu,Ea,Pf,Rd,Ku,Ff,Zf,Jc,Oo,jf,Yf,Jf]}),m}()}}]);